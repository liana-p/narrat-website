/* SNOWPACK PROCESS POLYFILL (based on https://github.com/calvinmetcalf/node-process-es6) */
function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
var cachedSetTimeout = defaultSetTimout;
var cachedClearTimeout = defaultClearTimeout;
var globalContext;
if (typeof window !== 'undefined') {
    globalContext = window;
} else if (typeof self !== 'undefined') {
    globalContext = self;
} else {
    globalContext = {};
}
if (typeof globalContext.setTimeout === 'function') {
    cachedSetTimeout = setTimeout;
}
if (typeof globalContext.clearTimeout === 'function') {
    cachedClearTimeout = clearTimeout;
}

function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}
function nextTick(fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
}
// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
var title = 'browser';
var platform = 'browser';
var browser = true;
var argv = [];
var version = ''; // empty string to avoid regexp issues
var versions = {};
var release = {};
var config = {};

function noop() {}

var on = noop;
var addListener = noop;
var once = noop;
var off = noop;
var removeListener = noop;
var removeAllListeners = noop;
var emit = noop;

function binding(name) {
    throw new Error('process.binding is not supported');
}

function cwd () { return '/' }
function chdir (dir) {
    throw new Error('process.chdir is not supported');
}function umask() { return 0; }

// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js
var performance$1 = globalContext.performance || {};
var performanceNow =
  performance$1.now        ||
  performance$1.mozNow     ||
  performance$1.msNow      ||
  performance$1.oNow       ||
  performance$1.webkitNow  ||
  function(){ return (new Date()).getTime() };

// generate timestamp or delta
// see http://nodejs.org/api/process.html#process_process_hrtime
function hrtime(previousTimestamp){
  var clocktime = performanceNow.call(performance$1)*1e-3;
  var seconds = Math.floor(clocktime);
  var nanoseconds = Math.floor((clocktime%1)*1e9);
  if (previousTimestamp) {
    seconds = seconds - previousTimestamp[0];
    nanoseconds = nanoseconds - previousTimestamp[1];
    if (nanoseconds<0) {
      seconds--;
      nanoseconds += 1e9;
    }
  }
  return [seconds,nanoseconds]
}

var startTime = new Date();
function uptime() {
  var currentTime = new Date();
  var dif = currentTime - startTime;
  return dif / 1000;
}

var process = {
  nextTick: nextTick,
  title: title,
  browser: browser,
  env: {"NODE_ENV":"production"},
  argv: argv,
  version: version,
  versions: versions,
  on: on,
  addListener: addListener,
  once: once,
  off: off,
  removeListener: removeListener,
  removeAllListeners: removeAllListeners,
  emit: emit,
  binding: binding,
  cwd: cwd,
  chdir: chdir,
  umask: umask,
  hrtime: hrtime,
  platform: platform,
  release: release,
  config: config,
  uptime: uptime
};

/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);
/**
 * Boolean attributes should be included if the value is truthy or ''.
 * e.g. `<select multiple>` compiles to `{ multiple: '' }`
 */
function includeBooleanAttr(value) {
    return !!value || value === '';
}

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = isString(item)
                ? parseStringStyle(item)
                : normalizeStyle(item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isString(value)) {
        return value;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return isString(val)
        ? val
        : val == null
            ? ''
            : isArray(val) ||
                (isObject(val) &&
                    (val.toString === objectToString || !isFunction(val.toString)))
                ? JSON.stringify(val, replacer, 2)
                : String(val);
};
const replacer = (_key, val) => {
    // can't use isRef here since @vue/shared has no deps
    if (val && val.__v_isRef) {
        return replacer(_key, val.value);
    }
    else if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};

const EMPTY_OBJ =  {};
const EMPTY_ARR =  [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,ref_for,ref_key,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => !Object.is(value, oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

let activeEffectScope;
class EffectScope {
    constructor(detached = false) {
        /**
         * @internal
         */
        this.active = true;
        /**
         * @internal
         */
        this.effects = [];
        /**
         * @internal
         */
        this.cleanups = [];
        if (!detached && activeEffectScope) {
            this.parent = activeEffectScope;
            this.index =
                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;
        }
    }
    run(fn) {
        if (this.active) {
            const currentEffectScope = activeEffectScope;
            try {
                activeEffectScope = this;
                return fn();
            }
            finally {
                activeEffectScope = currentEffectScope;
            }
        }
    }
    /**
     * This should only be called on non-detached scopes
     * @internal
     */
    on() {
        activeEffectScope = this;
    }
    /**
     * This should only be called on non-detached scopes
     * @internal
     */
    off() {
        activeEffectScope = this.parent;
    }
    stop(fromParent) {
        if (this.active) {
            let i, l;
            for (i = 0, l = this.effects.length; i < l; i++) {
                this.effects[i].stop();
            }
            for (i = 0, l = this.cleanups.length; i < l; i++) {
                this.cleanups[i]();
            }
            if (this.scopes) {
                for (i = 0, l = this.scopes.length; i < l; i++) {
                    this.scopes[i].stop(true);
                }
            }
            // nested scope, dereference from parent to avoid memory leaks
            if (this.parent && !fromParent) {
                // optimized O(1) removal
                const last = this.parent.scopes.pop();
                if (last && last !== this) {
                    this.parent.scopes[this.index] = last;
                    last.index = this.index;
                }
            }
            this.active = false;
        }
    }
}
function effectScope(detached) {
    return new EffectScope(detached);
}
function recordEffectScope(effect, scope = activeEffectScope) {
    if (scope && scope.active) {
        scope.effects.push(effect);
    }
}

const createDep = (effects) => {
    const dep = new Set(effects);
    dep.w = 0;
    dep.n = 0;
    return dep;
};
const wasTracked = (dep) => (dep.w & trackOpBit) > 0;
const newTracked = (dep) => (dep.n & trackOpBit) > 0;
const initDepMarkers = ({ deps }) => {
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].w |= trackOpBit; // set was tracked
        }
    }
};
const finalizeDepMarkers = (effect) => {
    const { deps } = effect;
    if (deps.length) {
        let ptr = 0;
        for (let i = 0; i < deps.length; i++) {
            const dep = deps[i];
            if (wasTracked(dep) && !newTracked(dep)) {
                dep.delete(effect);
            }
            else {
                deps[ptr++] = dep;
            }
            // clear bits
            dep.w &= ~trackOpBit;
            dep.n &= ~trackOpBit;
        }
        deps.length = ptr;
    }
};

const targetMap = new WeakMap();
// The number of effects currently being tracked recursively.
let effectTrackDepth = 0;
let trackOpBit = 1;
/**
 * The bitwise track markers support at most 30 levels of recursion.
 * This value is chosen to enable modern JS engines to use a SMI on all platforms.
 * When recursion depth is greater, fall back to using a full cleanup.
 */
const maxMarkerBits = 30;
let activeEffect;
const ITERATE_KEY = Symbol( '');
const MAP_KEY_ITERATE_KEY = Symbol( '');
class ReactiveEffect {
    constructor(fn, scheduler = null, scope) {
        this.fn = fn;
        this.scheduler = scheduler;
        this.active = true;
        this.deps = [];
        this.parent = undefined;
        recordEffectScope(this, scope);
    }
    run() {
        if (!this.active) {
            return this.fn();
        }
        let parent = activeEffect;
        let lastShouldTrack = shouldTrack;
        while (parent) {
            if (parent === this) {
                return;
            }
            parent = parent.parent;
        }
        try {
            this.parent = activeEffect;
            activeEffect = this;
            shouldTrack = true;
            trackOpBit = 1 << ++effectTrackDepth;
            if (effectTrackDepth <= maxMarkerBits) {
                initDepMarkers(this);
            }
            else {
                cleanupEffect(this);
            }
            return this.fn();
        }
        finally {
            if (effectTrackDepth <= maxMarkerBits) {
                finalizeDepMarkers(this);
            }
            trackOpBit = 1 << --effectTrackDepth;
            activeEffect = this.parent;
            shouldTrack = lastShouldTrack;
            this.parent = undefined;
            if (this.deferStop) {
                this.stop();
            }
        }
    }
    stop() {
        // stopped while running itself - defer the cleanup
        if (activeEffect === this) {
            this.deferStop = true;
        }
        else if (this.active) {
            cleanupEffect(this);
            if (this.onStop) {
                this.onStop();
            }
            this.active = false;
        }
    }
}
function cleanupEffect(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (shouldTrack && activeEffect) {
        let depsMap = targetMap.get(target);
        if (!depsMap) {
            targetMap.set(target, (depsMap = new Map()));
        }
        let dep = depsMap.get(key);
        if (!dep) {
            depsMap.set(key, (dep = createDep()));
        }
        trackEffects(dep);
    }
}
function trackEffects(dep, debuggerEventExtraInfo) {
    let shouldTrack = false;
    if (effectTrackDepth <= maxMarkerBits) {
        if (!newTracked(dep)) {
            dep.n |= trackOpBit; // set newly tracked
            shouldTrack = !wasTracked(dep);
        }
    }
    else {
        // Full cleanup mode.
        shouldTrack = !dep.has(activeEffect);
    }
    if (shouldTrack) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    let deps = [];
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        deps = [...depsMap.values()];
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                deps.push(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            deps.push(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    deps.push(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    deps.push(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    deps.push(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    deps.push(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    if (deps.length === 1) {
        if (deps[0]) {
            {
                triggerEffects(deps[0]);
            }
        }
    }
    else {
        const effects = [];
        for (const dep of deps) {
            if (dep) {
                effects.push(...dep);
            }
        }
        {
            triggerEffects(createDep(effects));
        }
    }
}
function triggerEffects(dep, debuggerEventExtraInfo) {
    // spread into array for stabilization
    const effects = isArray(dep) ? dep : [...dep];
    for (const effect of effects) {
        if (effect.computed) {
            triggerEffect(effect);
        }
    }
    for (const effect of effects) {
        if (!effect.computed) {
            triggerEffect(effect);
        }
    }
}
function triggerEffect(effect, debuggerEventExtraInfo) {
    if (effect !== activeEffect || effect.allowRecurse) {
        if (effect.scheduler) {
            effect.scheduler();
        }
        else {
            effect.run();
        }
    }
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(
/*#__PURE__*/
Object.getOwnPropertyNames(Symbol)
    // ios10.x Object.getOwnPropertyNames(Symbol) can enumerate 'arguments' and 'caller'
    // but accessing them on Symbol leads to TypeError because Symbol is a strict mode
    // function
    .filter(key => key !== 'arguments' && key !== 'caller')
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const arrayInstrumentations = /*#__PURE__*/ createArrayInstrumentations();
function createArrayInstrumentations() {
    const instrumentations = {};
    ['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
        instrumentations[key] = function (...args) {
            const arr = toRaw(this);
            for (let i = 0, l = this.length; i < l; i++) {
                track(arr, "get" /* GET */, i + '');
            }
            // we run the method using the original args first (which may be reactive)
            const res = arr[key](...args);
            if (res === -1 || res === false) {
                // if that didn't work, run it again using raw values.
                return arr[key](...args.map(toRaw));
            }
            else {
                return res;
            }
        };
    });
    ['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
        instrumentations[key] = function (...args) {
            pauseTracking();
            const res = toRaw(this)[key].apply(this, args);
            resetTracking();
            return res;
        };
    });
    return instrumentations;
}
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_isShallow" /* IS_SHALLOW */) {
            return shallow;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - skip unwrap for Array + integer key.
            return targetIsArray && isIntegerKey(key) ? res : res.value;
        }
        if (isObject(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {
            return false;
        }
        if (!shallow && !isReadonly(value)) {
            if (!isShallow(value)) {
                value = toRaw(value);
                oldValue = toRaw(oldValue);
            }
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    const oldValue = target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = /*#__PURE__*/ extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});

const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (!isReadonly) {
        if (key !== rawKey) {
            track(rawTarget, "get" /* GET */, key);
        }
        track(rawTarget, "get" /* GET */, rawKey);
    }
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
    else if (target !== rawTarget) {
        // #3602 readonly(reactive(Map))
        // ensure that the nested reactive `Map` can do tracking for itself
        target.get(key);
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (!isReadonly) {
        if (key !== rawKey) {
            track(rawTarget, "has" /* HAS */, key);
        }
        track(rawTarget, "has" /* HAS */, rawKey);
    }
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
function createInstrumentations() {
    const mutableInstrumentations = {
        get(key) {
            return get$1(this, key);
        },
        get size() {
            return size(this);
        },
        has: has$1,
        add,
        set: set$1,
        delete: deleteEntry,
        clear,
        forEach: createForEach(false, false)
    };
    const shallowInstrumentations = {
        get(key) {
            return get$1(this, key, false, true);
        },
        get size() {
            return size(this);
        },
        has: has$1,
        add,
        set: set$1,
        delete: deleteEntry,
        clear,
        forEach: createForEach(false, true)
    };
    const readonlyInstrumentations = {
        get(key) {
            return get$1(this, key, true);
        },
        get size() {
            return size(this, true);
        },
        has(key) {
            return has$1.call(this, key, true);
        },
        add: createReadonlyMethod("add" /* ADD */),
        set: createReadonlyMethod("set" /* SET */),
        delete: createReadonlyMethod("delete" /* DELETE */),
        clear: createReadonlyMethod("clear" /* CLEAR */),
        forEach: createForEach(true, false)
    };
    const shallowReadonlyInstrumentations = {
        get(key) {
            return get$1(this, key, true, true);
        },
        get size() {
            return size(this, true);
        },
        has(key) {
            return has$1.call(this, key, true);
        },
        add: createReadonlyMethod("add" /* ADD */),
        set: createReadonlyMethod("set" /* SET */),
        delete: createReadonlyMethod("delete" /* DELETE */),
        clear: createReadonlyMethod("clear" /* CLEAR */),
        forEach: createForEach(true, true)
    };
    const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
    iteratorMethods.forEach(method => {
        mutableInstrumentations[method] = createIterableMethod(method, false, false);
        readonlyInstrumentations[method] = createIterableMethod(method, true, false);
        shallowInstrumentations[method] = createIterableMethod(method, false, true);
        shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
    });
    return [
        mutableInstrumentations,
        readonlyInstrumentations,
        shallowInstrumentations,
        shallowReadonlyInstrumentations
    ];
}
const [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* #__PURE__*/ createInstrumentations();
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: /*#__PURE__*/ createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: /*#__PURE__*/ createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: /*#__PURE__*/ createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (isReadonly(target)) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only specific value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isShallow(value) {
    return !!(value && value["__v_isShallow" /* IS_SHALLOW */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    const raw = observed && observed["__v_raw" /* RAW */];
    return raw ? toRaw(raw) : observed;
}
function markRaw(value) {
    def(value, "__v_skip" /* SKIP */, true);
    return value;
}
const toReactive = (value) => isObject(value) ? reactive(value) : value;
const toReadonly = (value) => isObject(value) ? readonly(value) : value;

function trackRefValue(ref) {
    if (shouldTrack && activeEffect) {
        ref = toRaw(ref);
        {
            trackEffects(ref.dep || (ref.dep = createDep()));
        }
    }
}
function triggerRefValue(ref, newVal) {
    ref = toRaw(ref);
    if (ref.dep) {
        {
            triggerEffects(ref.dep);
        }
    }
}
function isRef(r) {
    return !!(r && r.__v_isRef === true);
}
function ref(value) {
    return createRef(value, false);
}
function createRef(rawValue, shallow) {
    if (isRef(rawValue)) {
        return rawValue;
    }
    return new RefImpl(rawValue, shallow);
}
class RefImpl {
    constructor(value, __v_isShallow) {
        this.__v_isShallow = __v_isShallow;
        this.dep = undefined;
        this.__v_isRef = true;
        this._rawValue = __v_isShallow ? value : toRaw(value);
        this._value = __v_isShallow ? value : toReactive(value);
    }
    get value() {
        trackRefValue(this);
        return this._value;
    }
    set value(newVal) {
        newVal = this.__v_isShallow ? newVal : toRaw(newVal);
        if (hasChanged(newVal, this._rawValue)) {
            this._rawValue = newVal;
            this._value = this.__v_isShallow ? newVal : toReactive(newVal);
            triggerRefValue(this);
        }
    }
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
function toRefs(object) {
    const ret = isArray(object) ? new Array(object.length) : {};
    for (const key in object) {
        ret[key] = toRef(object, key);
    }
    return ret;
}
class ObjectRefImpl {
    constructor(_object, _key, _defaultValue) {
        this._object = _object;
        this._key = _key;
        this._defaultValue = _defaultValue;
        this.__v_isRef = true;
    }
    get value() {
        const val = this._object[this._key];
        return val === undefined ? this._defaultValue : val;
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key, defaultValue) {
    const val = object[key];
    return isRef(val)
        ? val
        : new ObjectRefImpl(object, key, defaultValue);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly, isSSR) {
        this._setter = _setter;
        this.dep = undefined;
        this.__v_isRef = true;
        this._dirty = true;
        this.effect = new ReactiveEffect(getter, () => {
            if (!this._dirty) {
                this._dirty = true;
                triggerRefValue(this);
            }
        });
        this.effect.computed = this;
        this.effect.active = this._cacheable = !isSSR;
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        trackRefValue(self);
        if (self._dirty || !self._cacheable) {
            self._dirty = false;
            self._value = self.effect.run();
        }
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed(getterOrOptions, debugOptions, isSSR = false) {
    let getter;
    let setter;
    const onlyGetter = isFunction(getterOrOptions);
    if (onlyGetter) {
        getter = getterOrOptions;
        setter =  NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);
    return cRef;
}

function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo =  type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue$1 = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = /*#__PURE__*/ Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
function nextTick$1(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(id) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue$1.length;
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue$1[middle]);
        middleJobId < id ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue$1.length ||
        !queue$1.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        if (job.id == null) {
            queue$1.push(job);
        }
        else {
            queue$1.splice(findInsertionIndex(job.id), 0, job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue$1.indexOf(job);
    if (i > flushIndex) {
        queue$1.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    // flush any pre cbs queued during the flush (e.g. pre watchers)
    flushPreFlushCbs();
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue$1.sort((a, b) => getId(a) - getId(b));
    // conditional usage of checkRecursiveUpdate must be determined out of
    // try ... catch block since Rollup by default de-optimizes treeshaking
    // inside try-catch. This can leave all warning code unshaked. Although
    // they would get eventually shaken by a minifier like terser, some minifiers
    // would fail to do that (e.g. https://github.com/evanw/esbuild/issues/1610)
    const check =  NOOP;
    try {
        for (flushIndex = 0; flushIndex < queue$1.length; flushIndex++) {
            const job = queue$1[flushIndex];
            if (job && job.active !== false) {
                if (("production" !== 'production') && check(job)) ;
                // console.log(`running:`, job.id)
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue$1.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue$1.length ||
            pendingPreFlushCbs.length ||
            pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}

function emit$1(instance, event, ...rawArgs) {
    if (instance.isUnmounted)
        return;
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            instance.emitted = {};
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        instance.emitted[handlerName] = true;
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.emitsCache;
    const cached = cache.get(comp);
    if (cached !== undefined) {
        return cached;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if ( !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, null);
        return null;
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    cache.set(comp, normalized);
    return normalized;
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only
) {
    if (!ctx)
        return fn;
    // already normalized
    if (fn._n) {
        return fn;
    }
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we disable block tracking and
        // force bail out when invoking a compiled slot (indicated by the ._d flag).
        // This isn't necessary if rendering a compiled `<slot>`, so we flip the
        // ._d flag off when invoking the wrapped fn inside `renderSlot`.
        if (renderFnWithContext._d) {
            setBlockTracking(-1);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (renderFnWithContext._d) {
            setBlockTracking(1);
        }
        return res;
    };
    // mark normalized to avoid duplicated wrapping
    renderFnWithContext._n = true;
    // mark this as compiled by default
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    // disable block tracking by default
    renderFnWithContext._d = true;
    return renderFnWithContext;
}
function markAttrsAccessed() {
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;
    let result;
    let fallthroughAttrs;
    const prev = setCurrentRenderingInstance(instance);
    try {
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment);
    }
    // attr merging
    // in dev mode, comments are preserved, and it's possible for a template
    // to have comments along side the root element which makes it a fragment
    let root = result;
    if (fallthroughAttrs && inheritAttrs !== false) {
        const keys = Object.keys(fallthroughAttrs);
        const { shapeFlag } = root;
        if (keys.length) {
            if (shapeFlag & (1 /* ELEMENT */ | 6 /* COMPONENT */)) {
                if (propsOptions && keys.some(isModelListener)) {
                    // If a v-model listener (onUpdate:xxx) has a corresponding declared
                    // prop, it indicates this component expects to handle v-model and
                    // it should not fallthrough.
                    // related: #1543, #1643, #1989
                    fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                }
                root = cloneVNode(root, fallthroughAttrs);
            }
        }
    }
    // inherit directives
    if (vnode.dirs) {
        // clone before mutating since the root may be a hoisted vnode
        root = cloneVNode(root);
        root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
    }
    // inherit transition data
    if (vnode.transition) {
        root.transition = vnode.transition;
    }
    {
        result = root;
    }
    setCurrentRenderingInstance(prev);
    return result;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the instance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue.call(instance.proxy)
                : defaultValue;
        }
        else ;
    }
}
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {
    const instance = currentInstance;
    let getter;
    let forceTrigger = false;
    let isMultiSource = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = isShallow(source);
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        isMultiSource = true;
        forceTrigger = source.some(s => isReactive(s) || isShallow(s));
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onCleanup]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onCleanup = (fn) => {
        cleanup = effect.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    // in SSR there is no need to setup an actual effect, and it should be noop
    // unless it's eager
    if (isInSSRComponentSetup) {
        // we will also not call the invalidate callback (+ runner is not set up)
        onCleanup = NOOP;
        if (!cb) {
            getter();
        }
        else if (immediate) {
            callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                getter(),
                isMultiSource ? [] : undefined,
                onCleanup
            ]);
        }
        return NOOP;
    }
    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!effect.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = effect.run();
            if (deep ||
                forceTrigger ||
                (isMultiSource
                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))
                    : hasChanged(newValue, oldValue)) ||
                (false  )) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onCleanup
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            effect.run();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job; // the scheduler function gets called directly
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => queuePreFlushCb(job);
    }
    const effect = new ReactiveEffect(getter, scheduler);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = effect.run();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(effect.run.bind(effect), instance && instance.suspense);
    }
    else {
        effect.run();
    }
    return () => {
        effect.stop();
        if (instance && instance.scope) {
            remove(instance.scope.effects, effect);
        }
    };
}
// this.$watch
function instanceWatch(source, value, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? source.includes('.')
            ? createPathGetter(publicThis, source)
            : () => publicThis[source]
        : source.bind(publicThis, publicThis);
    let cb;
    if (isFunction(value)) {
        cb = value;
    }
    else {
        cb = value.handler;
        options = value;
    }
    const cur = currentInstance;
    setCurrentInstance(this);
    const res = doWatch(getter, cb.bind(publicThis), options);
    if (cur) {
        setCurrentInstance(cur);
    }
    else {
        unsetCurrentInstance();
    }
    return res;
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function traverse(value, seen) {
    if (!isObject(value) || value["__v_skip" /* SKIP */]) {
        return value;
    }
    seen = seen || new Set();
    if (seen.has(value)) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else if (isPlainObject(value)) {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

function useTransitionState() {
    const state = {
        isMounted: false,
        isLeaving: false,
        isUnmounting: false,
        leavingVNodes: new Map()
    };
    onMounted(() => {
        state.isMounted = true;
    });
    onBeforeUnmount(() => {
        state.isUnmounting = true;
    });
    return state;
}
const TransitionHookValidator = [Function, Array];
const BaseTransitionImpl = {
    name: `BaseTransition`,
    props: {
        mode: String,
        appear: Boolean,
        persisted: Boolean,
        // enter
        onBeforeEnter: TransitionHookValidator,
        onEnter: TransitionHookValidator,
        onAfterEnter: TransitionHookValidator,
        onEnterCancelled: TransitionHookValidator,
        // leave
        onBeforeLeave: TransitionHookValidator,
        onLeave: TransitionHookValidator,
        onAfterLeave: TransitionHookValidator,
        onLeaveCancelled: TransitionHookValidator,
        // appear
        onBeforeAppear: TransitionHookValidator,
        onAppear: TransitionHookValidator,
        onAfterAppear: TransitionHookValidator,
        onAppearCancelled: TransitionHookValidator
    },
    setup(props, { slots }) {
        const instance = getCurrentInstance();
        const state = useTransitionState();
        let prevTransitionKey;
        return () => {
            const children = slots.default && getTransitionRawChildren(slots.default(), true);
            if (!children || !children.length) {
                return;
            }
            let child = children[0];
            if (children.length > 1) {
                // locate first non-comment child
                for (const c of children) {
                    if (c.type !== Comment) {
                        child = c;
                        break;
                    }
                }
            }
            // there's no need to track reactivity for these props so use the raw
            // props for a bit better perf
            const rawProps = toRaw(props);
            const { mode } = rawProps;
            if (state.isLeaving) {
                return emptyPlaceholder(child);
            }
            // in the case of <transition><keep-alive/></transition>, we need to
            // compare the type of the kept-alive children.
            const innerChild = getKeepAliveChild(child);
            if (!innerChild) {
                return emptyPlaceholder(child);
            }
            const enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);
            setTransitionHooks(innerChild, enterHooks);
            const oldChild = instance.subTree;
            const oldInnerChild = oldChild && getKeepAliveChild(oldChild);
            let transitionKeyChanged = false;
            const { getTransitionKey } = innerChild.type;
            if (getTransitionKey) {
                const key = getTransitionKey();
                if (prevTransitionKey === undefined) {
                    prevTransitionKey = key;
                }
                else if (key !== prevTransitionKey) {
                    prevTransitionKey = key;
                    transitionKeyChanged = true;
                }
            }
            // handle mode
            if (oldInnerChild &&
                oldInnerChild.type !== Comment &&
                (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {
                const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);
                // update old tree's hooks in case of dynamic transition
                setTransitionHooks(oldInnerChild, leavingHooks);
                // switching between different views
                if (mode === 'out-in') {
                    state.isLeaving = true;
                    // return placeholder node and queue update when leave finishes
                    leavingHooks.afterLeave = () => {
                        state.isLeaving = false;
                        instance.update();
                    };
                    return emptyPlaceholder(child);
                }
                else if (mode === 'in-out' && innerChild.type !== Comment) {
                    leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {
                        const leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);
                        leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;
                        // early removal callback
                        el._leaveCb = () => {
                            earlyRemove();
                            el._leaveCb = undefined;
                            delete enterHooks.delayedLeave;
                        };
                        enterHooks.delayedLeave = delayedLeave;
                    };
                }
            }
            return child;
        };
    }
};
// export the public type for h/tsx inference
// also to avoid inline import() in generated d.ts files
const BaseTransition = BaseTransitionImpl;
function getLeavingNodesForType(state, vnode) {
    const { leavingVNodes } = state;
    let leavingVNodesCache = leavingVNodes.get(vnode.type);
    if (!leavingVNodesCache) {
        leavingVNodesCache = Object.create(null);
        leavingVNodes.set(vnode.type, leavingVNodesCache);
    }
    return leavingVNodesCache;
}
// The transition hooks are attached to the vnode as vnode.transition
// and will be called at appropriate timing in the renderer.
function resolveTransitionHooks(vnode, props, state, instance) {
    const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;
    const key = String(vnode.key);
    const leavingVNodesCache = getLeavingNodesForType(state, vnode);
    const callHook = (hook, args) => {
        hook &&
            callWithAsyncErrorHandling(hook, instance, 9 /* TRANSITION_HOOK */, args);
    };
    const callAsyncHook = (hook, args) => {
        const done = args[1];
        callHook(hook, args);
        if (isArray(hook)) {
            if (hook.every(hook => hook.length <= 1))
                done();
        }
        else if (hook.length <= 1) {
            done();
        }
    };
    const hooks = {
        mode,
        persisted,
        beforeEnter(el) {
            let hook = onBeforeEnter;
            if (!state.isMounted) {
                if (appear) {
                    hook = onBeforeAppear || onBeforeEnter;
                }
                else {
                    return;
                }
            }
            // for same element (v-show)
            if (el._leaveCb) {
                el._leaveCb(true /* cancelled */);
            }
            // for toggled element with same key (v-if)
            const leavingVNode = leavingVNodesCache[key];
            if (leavingVNode &&
                isSameVNodeType(vnode, leavingVNode) &&
                leavingVNode.el._leaveCb) {
                // force early removal (not cancelled)
                leavingVNode.el._leaveCb();
            }
            callHook(hook, [el]);
        },
        enter(el) {
            let hook = onEnter;
            let afterHook = onAfterEnter;
            let cancelHook = onEnterCancelled;
            if (!state.isMounted) {
                if (appear) {
                    hook = onAppear || onEnter;
                    afterHook = onAfterAppear || onAfterEnter;
                    cancelHook = onAppearCancelled || onEnterCancelled;
                }
                else {
                    return;
                }
            }
            let called = false;
            const done = (el._enterCb = (cancelled) => {
                if (called)
                    return;
                called = true;
                if (cancelled) {
                    callHook(cancelHook, [el]);
                }
                else {
                    callHook(afterHook, [el]);
                }
                if (hooks.delayedLeave) {
                    hooks.delayedLeave();
                }
                el._enterCb = undefined;
            });
            if (hook) {
                callAsyncHook(hook, [el, done]);
            }
            else {
                done();
            }
        },
        leave(el, remove) {
            const key = String(vnode.key);
            if (el._enterCb) {
                el._enterCb(true /* cancelled */);
            }
            if (state.isUnmounting) {
                return remove();
            }
            callHook(onBeforeLeave, [el]);
            let called = false;
            const done = (el._leaveCb = (cancelled) => {
                if (called)
                    return;
                called = true;
                remove();
                if (cancelled) {
                    callHook(onLeaveCancelled, [el]);
                }
                else {
                    callHook(onAfterLeave, [el]);
                }
                el._leaveCb = undefined;
                if (leavingVNodesCache[key] === vnode) {
                    delete leavingVNodesCache[key];
                }
            });
            leavingVNodesCache[key] = vnode;
            if (onLeave) {
                callAsyncHook(onLeave, [el, done]);
            }
            else {
                done();
            }
        },
        clone(vnode) {
            return resolveTransitionHooks(vnode, props, state, instance);
        }
    };
    return hooks;
}
// the placeholder really only handles one special case: KeepAlive
// in the case of a KeepAlive in a leave phase we need to return a KeepAlive
// placeholder with empty content to avoid the KeepAlive instance from being
// unmounted.
function emptyPlaceholder(vnode) {
    if (isKeepAlive(vnode)) {
        vnode = cloneVNode(vnode);
        vnode.children = null;
        return vnode;
    }
}
function getKeepAliveChild(vnode) {
    return isKeepAlive(vnode)
        ? vnode.children
            ? vnode.children[0]
            : undefined
        : vnode;
}
function setTransitionHooks(vnode, hooks) {
    if (vnode.shapeFlag & 6 /* COMPONENT */ && vnode.component) {
        setTransitionHooks(vnode.component.subTree, hooks);
    }
    else if (vnode.shapeFlag & 128 /* SUSPENSE */) {
        vnode.ssContent.transition = hooks.clone(vnode.ssContent);
        vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);
    }
    else {
        vnode.transition = hooks;
    }
}
function getTransitionRawChildren(children, keepComment = false, parentKey) {
    let ret = [];
    let keyedFragmentCount = 0;
    for (let i = 0; i < children.length; i++) {
        let child = children[i];
        // #5360 inherit parent key in case of <template v-for>
        const key = parentKey == null
            ? child.key
            : String(parentKey) + String(child.key != null ? child.key : i);
        // handle fragment children case, e.g. v-for
        if (child.type === Fragment) {
            if (child.patchFlag & 128 /* KEYED_FRAGMENT */)
                keyedFragmentCount++;
            ret = ret.concat(getTransitionRawChildren(child.children, keepComment, key));
        }
        // comment placeholders should be skipped, e.g. v-if
        else if (keepComment || child.type !== Comment) {
            ret.push(key != null ? cloneVNode(child, { key }) : child);
        }
    }
    // #1126 if a transition children list contains multiple sub fragments, these
    // fragments will be merged into a flat children array. Since each v-for
    // fragment may contain different static bindings inside, we need to de-op
    // these children to force full diffs to ensure correct behavior.
    if (keyedFragmentCount > 1) {
        for (let i = 0; i < ret.length; i++) {
            ret[i].patchFlag = -2 /* BAIL */;
        }
    }
    return ret;
}

// implementation, close to no-op
function defineComponent(options) {
    return isFunction(options) ? { setup: options, name: options.name } : options;
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            return hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                unsetCurrentInstance();
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)
(!isInSSRComponentSetup || lifecycle === "sp" /* SERVER_PREFETCH */) &&
    injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onServerPrefetch = createHook("sp" /* SERVER_PREFETCH */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
function onErrorCaptured(hook, target = currentInstance) {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
}
/**
 * Adds directives to a VNode.
 */
function withDirectives(vnode, directives) {
    const internalInstance = currentRenderingInstance;
    if (internalInstance === null) {
        return vnode;
    }
    const instance = getExposeProxy(internalInstance) ||
        internalInstance.proxy;
    const bindings = vnode.dirs || (vnode.dirs = []);
    for (let i = 0; i < directives.length; i++) {
        let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];
        if (isFunction(dir)) {
            dir = {
                mounted: dir,
                updated: dir
            };
        }
        if (dir.deep) {
            traverse(value);
        }
        bindings.push({
            dir,
            instance,
            value,
            oldValue: void 0,
            arg,
            modifiers
        });
    }
    return vnode;
}
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        let hook = binding.dir[name];
        if (hook) {
            // disable tracking inside all lifecycle hooks
            // since they can potentially be called inside effects.
            pauseTracking();
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
            resetTracking();
        }
    }
}

const COMPONENTS = 'components';
/**
 * @private
 */
function resolveComponent(name, maybeSelfReference) {
    return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;
}
const NULL_DYNAMIC_COMPONENT = Symbol();
// implementation
function resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {
    const instance = currentRenderingInstance || currentInstance;
    if (instance) {
        const Component = instance.type;
        // explicit self name has highest priority
        if (type === COMPONENTS) {
            const selfName = getComponentName(Component, false /* do not include inferred name to avoid breaking existing code */);
            if (selfName &&
                (selfName === name ||
                    selfName === camelize(name) ||
                    selfName === capitalize(camelize(name)))) {
                return Component;
            }
        }
        const res = 
        // local registration
        // check instance[type] first which is resolved for options API
        resolve(instance[type] || Component[type], name) ||
            // global registration
            resolve(instance.appContext[type], name);
        if (!res && maybeSelfReference) {
            // fallback to implicit self-reference
            return Component;
        }
        return res;
    }
}
function resolve(registry, name) {
    return (registry &&
        (registry[name] ||
            registry[camelize(name)] ||
            registry[capitalize(camelize(name))]));
}

/**
 * Actual implementation
 */
function renderList(source, renderItem, cache, index) {
    let ret;
    const cached = (cache && cache[index]);
    if (isArray(source) || isString(source)) {
        ret = new Array(source.length);
        for (let i = 0, l = source.length; i < l; i++) {
            ret[i] = renderItem(source[i], i, undefined, cached && cached[i]);
        }
    }
    else if (typeof source === 'number') {
        ret = new Array(source);
        for (let i = 0; i < source; i++) {
            ret[i] = renderItem(i + 1, i, undefined, cached && cached[i]);
        }
    }
    else if (isObject(source)) {
        if (source[Symbol.iterator]) {
            ret = Array.from(source, (item, i) => renderItem(item, i, undefined, cached && cached[i]));
        }
        else {
            const keys = Object.keys(source);
            ret = new Array(keys.length);
            for (let i = 0, l = keys.length; i < l; i++) {
                const key = keys[i];
                ret[i] = renderItem(source[key], key, i, cached && cached[i]);
            }
        }
    }
    else {
        ret = [];
    }
    if (cache) {
        cache[index] = ret;
    }
    return ret;
}

/**
 * Compiler runtime helper for rendering `<slot/>`
 * @private
 */
function renderSlot(slots, name, props = {}, 
// this is not a user-facing function, so the fallback is always generated by
// the compiler and guaranteed to be a function returning an array
fallback, noSlotted) {
    if (currentRenderingInstance.isCE ||
        (currentRenderingInstance.parent &&
            isAsyncWrapper(currentRenderingInstance.parent) &&
            currentRenderingInstance.parent.isCE)) {
        return createVNode('slot', name === 'default' ? null : { name }, fallback && fallback());
    }
    let slot = slots[name];
    // a compiled slot disables block tracking by default to avoid manual
    // invocation interfering with template-based block tracking, but in
    // `renderSlot` we can be sure that it's template-based so we can force
    // enable it.
    if (slot && slot._c) {
        slot._d = false;
    }
    openBlock();
    const validSlotContent = slot && ensureValidVNode(slot(props));
    const rendered = createBlock(Fragment, { key: props.key || `_${name}` }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 /* STABLE */
        ? 64 /* STABLE_FRAGMENT */
        : -2 /* BAIL */);
    if (!noSlotted && rendered.scopeId) {
        rendered.slotScopeIds = [rendered.scopeId + '-s'];
    }
    if (slot && slot._c) {
        slot._d = true;
    }
    return rendered;
}
function ensureValidVNode(vnodes) {
    return vnodes.some(child => {
        if (!isVNode(child))
            return true;
        if (child.type === Comment)
            return false;
        if (child.type === Fragment &&
            !ensureValidVNode(child.children))
            return false;
        return true;
    })
        ? vnodes
        : null;
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return getExposeProxy(i) || i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = 
// Move PURE marker to new line to workaround compiler discarding it
// due to type annotation
/*#__PURE__*/ extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => ( i.props),
    $attrs: i => ( i.attrs),
    $slots: i => ( i.slots),
    $refs: i => ( i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => ( resolveMergedOptions(i) ),
    $forceUpdate: i => i.f || (i.f = () => queueJob(i.update)),
    $nextTick: i => i.n || (i.n = nextTick$1.bind(i.proxy)),
    $watch: i => ( instanceWatch.bind(i) )
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 1 /* SETUP */:
                        return setupState[key];
                    case 2 /* DATA */:
                        return data[key];
                    case 4 /* CONTEXT */:
                        return ctx[key];
                    case 3 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 1 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 2 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 3 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 4 /* CONTEXT */;
                return ctx[key];
            }
            else if ( shouldCacheAccess) {
                accessCache[key] = 0 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 4 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            {
                return globalProperties[key];
            }
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
            return true;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
            return true;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (!!accessCache[key] ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    },
    defineProperty(target, key, descriptor) {
        if (descriptor.get != null) {
            // invalidate key cache of a getter based property #5417
            target._.accessCache[key] = 0;
        }
        else if (hasOwn(descriptor, 'value')) {
            this.set(target, key, descriptor.value, null);
        }
        return Reflect.defineProperty(target, key, descriptor);
    }
};
let shouldCacheAccess = true;
function applyOptions(instance) {
    const options = resolveMergedOptions(instance);
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    // do not cache property access on public proxy during state initialization
    shouldCacheAccess = false;
    // call beforeCreate first before accessing other options since
    // the hook may mutate resolved options (#2791)
    if (options.beforeCreate) {
        callHook(options.beforeCreate, instance, "bc" /* BEFORE_CREATE */);
    }
    const { 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // lifecycle
    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, 
    // public API
    expose, inheritAttrs, 
    // assets
    components, directives, filters } = options;
    const checkDuplicateProperties =  null;
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        resolveInjections(injectOptions, ctx, checkDuplicateProperties, instance.appContext.config.unwrapInjectedRef);
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define
                // methods to the proxy target, and those are read-only but
                // reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (dataOptions) {
        const data = dataOptions.call(publicThis, publicThis);
        if (!isObject(data)) ;
        else {
            instance.data = reactive(data);
        }
    }
    // state initialization complete at this point - start caching access
    shouldCacheAccess = true;
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                :  NOOP;
            const c = computed$1({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        for (const key in watchOptions) {
            createWatcher(watchOptions[key], ctx, publicThis, key);
        }
    }
    if (provideOptions) {
        const provides = isFunction(provideOptions)
            ? provideOptions.call(publicThis)
            : provideOptions;
        Reflect.ownKeys(provides).forEach(key => {
            provide(key, provides[key]);
        });
    }
    if (created) {
        callHook(created, instance, "c" /* CREATED */);
    }
    function registerLifecycleHook(register, hook) {
        if (isArray(hook)) {
            hook.forEach(_hook => register(_hook.bind(publicThis)));
        }
        else if (hook) {
            register(hook.bind(publicThis));
        }
    }
    registerLifecycleHook(onBeforeMount, beforeMount);
    registerLifecycleHook(onMounted, mounted);
    registerLifecycleHook(onBeforeUpdate, beforeUpdate);
    registerLifecycleHook(onUpdated, updated);
    registerLifecycleHook(onActivated, activated);
    registerLifecycleHook(onDeactivated, deactivated);
    registerLifecycleHook(onErrorCaptured, errorCaptured);
    registerLifecycleHook(onRenderTracked, renderTracked);
    registerLifecycleHook(onRenderTriggered, renderTriggered);
    registerLifecycleHook(onBeforeUnmount, beforeUnmount);
    registerLifecycleHook(onUnmounted, unmounted);
    registerLifecycleHook(onServerPrefetch, serverPrefetch);
    if (isArray(expose)) {
        if (expose.length) {
            const exposed = instance.exposed || (instance.exposed = {});
            expose.forEach(key => {
                Object.defineProperty(exposed, key, {
                    get: () => publicThis[key],
                    set: val => (publicThis[key] = val)
                });
            });
        }
        else if (!instance.exposed) {
            instance.exposed = {};
        }
    }
    // options that are handled when creating the instance but also need to be
    // applied from mixins
    if (render && instance.render === NOOP) {
        instance.render = render;
    }
    if (inheritAttrs != null) {
        instance.inheritAttrs = inheritAttrs;
    }
    // asset options.
    if (components)
        instance.components = components;
    if (directives)
        instance.directives = directives;
}
function resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP, unwrapRef = false) {
    if (isArray(injectOptions)) {
        injectOptions = normalizeInject(injectOptions);
    }
    for (const key in injectOptions) {
        const opt = injectOptions[key];
        let injected;
        if (isObject(opt)) {
            if ('default' in opt) {
                injected = inject(opt.from || key, opt.default, true /* treat default function as factory */);
            }
            else {
                injected = inject(opt.from || key);
            }
        }
        else {
            injected = inject(opt);
        }
        if (isRef(injected)) {
            // TODO remove the check in 3.3
            if (unwrapRef) {
                Object.defineProperty(ctx, key, {
                    enumerable: true,
                    configurable: true,
                    get: () => injected.value,
                    set: v => (injected.value = v)
                });
            }
            else {
                ctx[key] = injected;
            }
        }
        else {
            ctx[key] = injected;
        }
    }
}
function callHook(hook, instance, type) {
    callWithAsyncErrorHandling(isArray(hook)
        ? hook.map(h => h.bind(instance.proxy))
        : hook.bind(instance.proxy), instance, type);
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
/**
 * Resolve merged options and cache it on the component.
 * This is done only once per-component since the merging does not involve
 * instances.
 */
function resolveMergedOptions(instance) {
    const base = instance.type;
    const { mixins, extends: extendsOptions } = base;
    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;
    const cached = cache.get(base);
    let resolved;
    if (cached) {
        resolved = cached;
    }
    else if (!globalMixins.length && !mixins && !extendsOptions) {
        {
            resolved = base;
        }
    }
    else {
        resolved = {};
        if (globalMixins.length) {
            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));
        }
        mergeOptions(resolved, base, optionMergeStrategies);
    }
    cache.set(base, resolved);
    return resolved;
}
function mergeOptions(to, from, strats, asMixin = false) {
    const { mixins, extends: extendsOptions } = from;
    if (extendsOptions) {
        mergeOptions(to, extendsOptions, strats, true);
    }
    if (mixins) {
        mixins.forEach((m) => mergeOptions(to, m, strats, true));
    }
    for (const key in from) {
        if (asMixin && key === 'expose') ;
        else {
            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);
            to[key] = strat ? strat(to[key], from[key]) : from[key];
        }
    }
    return to;
}
const internalOptionMergeStrats = {
    data: mergeDataFn,
    props: mergeObjectOptions,
    emits: mergeObjectOptions,
    // objects
    methods: mergeObjectOptions,
    computed: mergeObjectOptions,
    // lifecycle
    beforeCreate: mergeAsArray,
    created: mergeAsArray,
    beforeMount: mergeAsArray,
    mounted: mergeAsArray,
    beforeUpdate: mergeAsArray,
    updated: mergeAsArray,
    beforeDestroy: mergeAsArray,
    beforeUnmount: mergeAsArray,
    destroyed: mergeAsArray,
    unmounted: mergeAsArray,
    activated: mergeAsArray,
    deactivated: mergeAsArray,
    errorCaptured: mergeAsArray,
    serverPrefetch: mergeAsArray,
    // assets
    components: mergeObjectOptions,
    directives: mergeObjectOptions,
    // watch
    watch: mergeWatchOptions,
    // provide / inject
    provide: mergeDataFn,
    inject: mergeInject
};
function mergeDataFn(to, from) {
    if (!from) {
        return to;
    }
    if (!to) {
        return from;
    }
    return function mergedDataFn() {
        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);
    };
}
function mergeInject(to, from) {
    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));
}
function normalizeInject(raw) {
    if (isArray(raw)) {
        const res = {};
        for (let i = 0; i < raw.length; i++) {
            res[raw[i]] = raw[i];
        }
        return res;
    }
    return raw;
}
function mergeAsArray(to, from) {
    return to ? [...new Set([].concat(to, from))] : from;
}
function mergeObjectOptions(to, from) {
    return to ? extend(extend(Object.create(null), to), from) : from;
}
function mergeWatchOptions(to, from) {
    if (!to)
        return from;
    if (!from)
        return to;
    const merged = extend(Object.create(null), to);
    for (const key in from) {
        merged[key] = mergeAsArray(to[key], from[key]);
    }
    return merged;
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    // ensure all declared prop keys are present
    for (const key in instance.propsOptions[0]) {
        if (!(key in props)) {
            props[key] = undefined;
        }
    }
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    let hasAttrsChanged = false;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    
        (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                let key = propsToUpdate[i];
                // skip if the prop key is a declared emit event listener
                if (isEmitListener(instance.emitsOptions, key)) {
                    continue;
                }
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        if (value !== attrs[key]) {
                            attrs[key] = value;
                            hasAttrsChanged = true;
                        }
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);
                    }
                }
                else {
                    if (value !== attrs[key]) {
                        attrs[key] = value;
                        hasAttrsChanged = true;
                    }
                }
            }
        }
    }
    else {
        // full props update.
        if (setFullProps(instance, rawProps, props, attrs)) {
            hasAttrsChanged = true;
        }
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps ||
                    (!hasOwn(rawProps, key) &&
                        (!false ))) {
                    delete attrs[key];
                    hasAttrsChanged = true;
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    if (hasAttrsChanged) {
        trigger(instance, "set" /* SET */, '$attrs');
    }
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    let hasAttrsChanged = false;
    let rawCastValues;
    if (rawProps) {
        for (let key in rawProps) {
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            const value = rawProps[key];
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                if (!needCastKeys || !needCastKeys.includes(camelKey)) {
                    props[camelKey] = value;
                }
                else {
                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;
                }
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                if (!(key in attrs) || value !== attrs[key]) {
                    attrs[key] = value;
                    hasAttrsChanged = true;
                }
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        const castValues = rawCastValues || EMPTY_OBJ;
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));
        }
    }
    return hasAttrsChanged;
}
function resolvePropValue(options, props, key, value, instance, isAbsent) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue.call(null, props);
                    unsetCurrentInstance();
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (isAbsent && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.propsCache;
    const cached = cache.get(comp);
    if (cached) {
        return cached;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if ( !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, EMPTY_ARR);
        return EMPTY_ARR;
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    const res = [normalized, needCastKeys];
    cache.set(comp, res);
    return res;
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : ctor === null ? 'null' : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => {
    if (rawSlot._n) {
        // already normalized - #5353
        return rawSlot;
    }
    const normalized = withCtx((...args) => {
        return normalizeSlotValue(rawSlot(...args));
    }, ctx);
    normalized._c = false;
    return normalized;
};
const normalizeObjectSlots = (rawSlots, slots, instance) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // users can get the shallow readonly version of the slots object through `this.$slots`,
            // we should avoid the proxy object polluting the slots of the internal instance
            instance.slots = toRaw(children);
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            errorHandler: undefined,
            warnHandler: undefined,
            compilerOptions: {}
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null),
        optionsCache: new WeakMap(),
        propsCache: new WeakMap(),
        emitsCache: new WeakMap()
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (!isFunction(rootComponent)) {
            rootComponent = Object.assign({}, rootComponent);
        }
        if (rootProps != null && !isObject(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            _instance: null,
            version: version$1,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    return getExposeProxy(vnode.component) || vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * Function for handling a template ref
 */
function setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));
        return;
    }
    if (isAsyncWrapper(vnode) && !isUnmount) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    const refValue = vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */
        ? getExposeProxy(vnode.component) || vnode.component.proxy
        : vnode.el;
    const value = isUnmount ? null : refValue;
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // dynamic ref changed. unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else {
        const _isString = isString(ref);
        const _isRef = isRef(ref);
        if (_isString || _isRef) {
            const doSet = () => {
                if (rawRef.f) {
                    const existing = _isString ? refs[ref] : ref.value;
                    if (isUnmount) {
                        isArray(existing) && remove(existing, refValue);
                    }
                    else {
                        if (!isArray(existing)) {
                            if (_isString) {
                                refs[ref] = [refValue];
                                if (hasOwn(setupState, ref)) {
                                    setupState[ref] = refs[ref];
                                }
                            }
                            else {
                                ref.value = [refValue];
                                if (rawRef.k)
                                    refs[rawRef.k] = ref.value;
                            }
                        }
                        else if (!existing.includes(refValue)) {
                            existing.push(refValue);
                        }
                    }
                }
                else if (_isString) {
                    refs[ref] = value;
                    if (hasOwn(setupState, ref)) {
                        setupState[ref] = value;
                    }
                }
                else if (_isRef) {
                    ref.value = value;
                    if (rawRef.k)
                        refs[rawRef.k] = value;
                }
                else ;
            };
            if (value) {
                doSet.id = -1;
                queuePostRenderEffect(doSet, parentSuspense);
            }
            else {
                doSet();
            }
        }
    }
}

const queuePostRenderEffect = queueEffectWithSuspense
    ;
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    const target = getGlobalThis();
    target.__VUE__ = true;
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized =  !!n2.dynamicChildren) => {
        if (n1 === n2) {
            return;
        }
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, n2.el, n2.anchor);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (
            vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (key !== 'value' && !isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                /**
                 * Special case for setting value on DOM elements:
                 * - it can be order-sensitive (e.g. should be set *after* min/max, #2325, #4024)
                 * - it needs to be forced (#1471)
                 * #2353 proposes adding another renderer option to configure this, but
                 * the properties affects are so finite it is worth special casing it
                 * here to reduce the complexity. (Special casing it also should not
                 * affect non-DOM renderers)
                 */
                if ('value' in props) {
                    hostPatchProp(el, 'value', null, props.value);
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        // disable recurse in beforeUpdate hooks
        parentComponent && toggleRecurse(parentComponent, false);
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        parentComponent && toggleRecurse(parentComponent, true);
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        // #1471 force patch value
                        if (next !== prev || key === 'value') {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // oldVNode may be an errored async setup() component inside Suspense
            // which will not have a mounted element
            oldVNode.el &&
                // - In the case of a Fragment, we need to provide the actual parent
                // of the Fragment itself so it can move its children.
                (oldVNode.type === Fragment ||
                    // - In the case of different nodes, there is going to be a replacement
                    // which also requires the correct parent container
                    !isSameVNodeType(oldVNode, newVNode) ||
                    // - In the case of a component, it could contain anything.
                    oldVNode.shapeFlag & (6 /* COMPONENT */ | 64 /* TELEPORT */))
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                // defer patching value
                if (next !== prev && key !== 'value') {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
            if ('value' in newProps) {
                hostPatchProp(el, 'value', oldProps.value, newProps.value);
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        // resolve props and slots for setup context
        {
            setupComponent(instance);
        }
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        const componentUpdateFn = () => {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);
                toggleRecurse(instance, false);
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if (!isAsyncWrapperVNode &&
                    (vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                toggleRecurse(instance, true);
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    const hydrateSubTree = () => {
                        instance.subTree = renderComponentRoot(instance);
                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);
                    };
                    if (isAsyncWrapperVNode) {
                        initialVNode.type.__asyncLoader().then(
                        // note: we are moving the render call into an async callback,
                        // which means it won't track dependencies - but it's ok because
                        // a server-rendered async wrapper is already in resolved state
                        // and it will never need to change.
                        () => !instance.isUnmounted && hydrateSubTree());
                    }
                    else {
                        hydrateSubTree();
                    }
                }
                else {
                    const subTree = (instance.subTree = renderComponentRoot(instance));
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if (!isAsyncWrapperVNode &&
                    (vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                if (initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */ ||
                    (parent &&
                        isAsyncWrapper(parent.vnode) &&
                        parent.vnode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */)) {
                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);
                }
                instance.isMounted = true;
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                // Disallow component effect recursion during pre-lifecycle hooks.
                toggleRecurse(instance, false);
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                toggleRecurse(instance, true);
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);
                }
            }
        };
        // create reactive effect for rendering
        const effect = (instance.effect = new ReactiveEffect(componentUpdateFn, () => queueJob(update), instance.scope // track it in component's effect scope
        ));
        const update = (instance.update = () => effect.run());
        update.id = instance.uid;
        // allowRecurse
        // #1801, #2043 component render effects should allow recursive updates
        toggleRecurse(instance, true);
        update();
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, vnode, true);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);
        let vnodeHook;
        if (shouldInvokeVnodeHook &&
            (vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                patchFlag &
                    (128 /* KEYED_FRAGMENT */ | 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((shouldInvokeVnodeHook &&
            (vnodeHook = props && props.onVnodeUnmounted)) ||
            shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            {
                removeFragment(el, anchor);
            }
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, scope, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        // stop effects in component scope
        scope.stop();
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            // so that scheduler will no longer invoke it
            update.active = false;
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function toggleRecurse({ effect, update }, allowed) {
    effect.allowRecurse = update.allowRecurse = allowed;
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always be moved. Therefore, in order to ensure correct move
 * position, el should be inherited from previous nodes.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = (u + v) >> 1;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;

const Fragment = Symbol( undefined);
const Text = Symbol( undefined);
const Comment = Symbol( undefined);
const Static = Symbol( undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
// Whether we should be tracking dynamic child nodes inside a block.
// Only tracks when this value is > 0
// We are not using a simple boolean because this value may need to be
// incremented/decremented by nested usage of v-once (see below)
let isBlockTreeEnabled = 1;
/**
 * Block tracking sometimes needs to be disabled, for example during the
 * creation of a tree that needs to be cached by v-once. The compiler generates
 * code like this:
 *
 * ``` js
 * _cache[1] || (
 *   setBlockTracking(-1),
 *   _cache[1] = createVNode(...),
 *   setBlockTracking(1),
 *   _cache[1]
 * )
 * ```
 *
 * @private
 */
function setBlockTracking(value) {
    isBlockTreeEnabled += value;
}
function setupBlock(vnode) {
    // save current block children on the block vnode
    vnode.dynamicChildren =
        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (isBlockTreeEnabled > 0 && currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
/**
 * @private
 */
function createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {
    return setupBlock(createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, true /* isBlock */));
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    return setupBlock(createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */));
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref, ref_key, ref_for }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for }
            : ref
        : null);
};
function createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1 /* ELEMENT */, isBlockNode = false, needFullChildrenNormalization = false) {
    const vnode = {
        __v_isVNode: true,
        __v_skip: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    if (needFullChildrenNormalization) {
        normalizeChildren(vnode, children);
        // normalize suspense children
        if (shapeFlag & 128 /* SUSPENSE */) {
            type.normalize(vnode);
        }
    }
    else if (children) {
        // compiled element vnode - if children is passed, only possible types are
        // string or Array.
        vnode.shapeFlag |= isString(children)
            ? 8 /* TEXT_CHILDREN */
            : 16 /* ARRAY_CHILDREN */;
    }
    // track vnode for block tree
    if (isBlockTreeEnabled > 0 &&
        // avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (vnode.patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        vnode.patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
const createVNode = ( _createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {
            if (cloned.shapeFlag & 6 /* COMPONENT */) {
                currentBlock[currentBlock.indexOf(type)] = cloned;
            }
            else {
                currentBlock.push(cloned);
            }
        }
        cloned.patchFlag |= -2 /* BAIL */;
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        props = guardReactiveProps(props);
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    return createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, isBlockNode, true);
}
function guardReactiveProps(props) {
    if (!props)
        return null;
    return isProxy(props) || InternalObjectKey in props
        ? extend({}, props)
        : props;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    const cloned = {
        __v_isVNode: true,
        __v_skip: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children:  children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: preserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
    return cloned;
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
/**
 * @private
 */
function createCommentVNode(text = '', 
// when used as the v-else branch, the comment node must be created as a
// block to ensure correct updates.
asBlock = false) {
    return asBlock
        ? (openBlock(), createBlock(Comment, null, text))
        : createVNode(Comment, null, text);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, 
        // #3666, avoid reference pollution when reusing vnode
        child.slice());
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return cloneIfMounted(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null || child.memo ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & (1 /* ELEMENT */ | 64 /* TELEPORT */)) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && (slot._d = false);
                normalizeChildren(vnode, slot());
                slot._c && (slot._d = true);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.slots._ === 1 /* STABLE */) {
                    children._ = 1 /* STABLE */;
                }
                else {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = {};
    for (let i = 0; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (incoming &&
                    existing !== incoming &&
                    !(isArray(existing) && existing.includes(incoming))) {
                    ret[key] = existing
                        ? [].concat(existing, incoming)
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        effect: null,
        update: null,
        scope: new EffectScope(true /* detached */),
        render: null,
        proxy: null,
        exposed: null,
        exposeProxy: null,
        withProxy: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resolved assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // inheritAttrs
        inheritAttrs: type.inheritAttrs,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null,
        sp: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit$1.bind(null, instance);
    // apply custom element special handling
    if (vnode.ce) {
        vnode.ce(instance);
    }
    return instance;
}
let currentInstance = null;
const getCurrentInstance = () => currentInstance || currentRenderingInstance;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
    instance.scope.on();
};
const unsetCurrentInstance = () => {
    currentInstance && currentInstance.scope.off();
    currentInstance = null;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        setCurrentInstance(instance);
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [ instance.props, setupContext]);
        resetTracking();
        unsetCurrentInstance();
        if (isPromise(setupResult)) {
            setupResult.then(unsetCurrentInstance, unsetCurrentInstance);
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult, isSSR);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult, isSSR);
        }
    }
    else {
        finishComponentSetup(instance, isSSR);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        if (instance.type.__ssrInlineRender) {
            // when the function's name is `ssrRender` (compiled by SFC inline mode),
            // set it as ssrRender instead.
            instance.ssrRender = setupResult;
        }
        else {
            instance.render = setupResult;
        }
    }
    else if (isObject(setupResult)) {
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance, isSSR);
}
let compile;
function finishComponentSetup(instance, isSSR, skipOptions) {
    const Component = instance.type;
    // template / render function normalization
    // could be already set when returned from setup()
    if (!instance.render) {
        // only do on-the-fly compile if not in SSR - SSR on-the-fly compilation
        // is done by server-renderer
        if (!isSSR && compile && !Component.render) {
            const template = Component.template;
            if (template) {
                const { isCustomElement, compilerOptions } = instance.appContext.config;
                const { delimiters, compilerOptions: componentCompilerOptions } = Component;
                const finalCompilerOptions = extend(extend({
                    isCustomElement,
                    delimiters
                }, compilerOptions), componentCompilerOptions);
                Component.render = compile();
            }
        }
        instance.render = (Component.render || NOOP);
    }
    // support for 2.x options
    {
        setCurrentInstance(instance);
        pauseTracking();
        applyOptions(instance);
        resetTracking();
        unsetCurrentInstance();
    }
}
function createAttrsProxy(instance) {
    return new Proxy(instance.attrs,  {
            get(target, key) {
                track(instance, "get" /* GET */, '$attrs');
                return target[key];
            }
        });
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = exposed || {};
    };
    let attrs;
    {
        return {
            get attrs() {
                return attrs || (attrs = createAttrsProxy(instance));
            },
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
function getExposeProxy(instance) {
    if (instance.exposed) {
        return (instance.exposeProxy ||
            (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {
                get(target, key) {
                    if (key in target) {
                        return target[key];
                    }
                    else if (key in publicPropertiesMap) {
                        return publicPropertiesMap[key](instance);
                    }
                }
            })));
    }
}
function getComponentName(Component, includeInferred = true) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name || (includeInferred && Component.__name);
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

const computed$1 = ((getterOrOptions, debugOptions) => {
    // @ts-ignore
    return computed(getterOrOptions, debugOptions, isInSSRComponentSetup);
});

// Actual implementation
function h(type, propsOrChildren, children) {
    const l = arguments.length;
    if (l === 2) {
        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {
            // single vnode without props
            if (isVNode(propsOrChildren)) {
                return createVNode(type, null, [propsOrChildren]);
            }
            // props without children
            return createVNode(type, propsOrChildren);
        }
        else {
            // omit props
            return createVNode(type, null, propsOrChildren);
        }
    }
    else {
        if (l > 3) {
            children = Array.prototype.slice.call(arguments, 2);
        }
        else if (l === 3 && isVNode(children)) {
            children = [children];
        }
        return createVNode(type, propsOrChildren, children);
    }
}

// Core API ------------------------------------------------------------------
const version$1 = "3.2.37";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
const templateContainer = doc && /*#__PURE__*/ doc.createElement('template');
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: innerHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG, start, end) {
        // <parent> before | first ... last | anchor </parent>
        const before = anchor ? anchor.previousSibling : parent.lastChild;
        // #5308 can only take cached path if:
        // - has a single root node
        // - nextSibling info is still available
        if (start && (start === end || start.nextSibling)) {
            // cached
            while (true) {
                parent.insertBefore(start.cloneNode(true), anchor);
                if (start === end || !(start = start.nextSibling))
                    break;
            }
        }
        else {
            // fresh insert
            templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;
            const template = templateContainer.content;
            if (isSVG) {
                // remove outer svg wrapper
                const wrapper = template.firstChild;
                while (wrapper.firstChild) {
                    template.appendChild(wrapper.firstChild);
                }
                template.removeChild(wrapper);
            }
            parent.insertBefore(template, anchor);
        }
        return [
            // first
            before ? before.nextSibling : parent.firstChild,
            // last
            anchor ? anchor.previousSibling : parent.lastChild
        ];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    // directly setting className should be faster than setAttribute in theory
    // if this is an element during a transition, take the temporary transition
    // classes into account.
    const transitionClasses = el._vtc;
    if (transitionClasses) {
        value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(' ');
    }
    if (value == null) {
        el.removeAttribute('class');
    }
    else if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    const isCssString = isString(next);
    if (next && !isCssString) {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
    else {
        const currentDisplay = style.display;
        if (isCssString) {
            if (prev !== next) {
                style.cssText = next;
            }
        }
        else if (prev) {
            el.removeAttribute('style');
        }
        // indicates that the `display` of the element is controlled by `v-show`,
        // so we always keep the current `display` value regardless of the `style`
        // value, thus handing over control to `v-show`.
        if ('_vod' in el) {
            style.display = currentDisplay;
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (val == null)
            val = '';
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG, instance) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && !includeBooleanAttr(value))) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' &&
        el.tagName !== 'PROGRESS' &&
        // custom elements may use _value internally
        !el.tagName.includes('-')) {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue ||
            // #4956: always set for OPTION elements because its value falls back to
            // textContent if no value attribute is present. And setting .value for
            // OPTION has no side effect
            el.tagName === 'OPTION') {
            el.value = newValue;
        }
        if (value == null) {
            el.removeAttribute(key);
        }
        return;
    }
    let needRemove = false;
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            value = includeBooleanAttr(value);
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            value = '';
            needRemove = true;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            // the value of some IDL attr must be greater than 0, e.g. input.size = 0 -> error
            value = 0;
            needRemove = true;
        }
    }
    // some properties perform value validation and throw,
    // some properties has getter, no setter, will error in 'use strict'
    // eg. <select :type="null"></select> <select :willValidate="null"></select>
    try {
        el[key] = value;
    }
    catch (e) {
    }
    needRemove && el.removeAttribute(key);
}

// Async edge case fix requires storing an event listener's attach timestamp.
const [_getNow, skipTimestampCheck] = /*#__PURE__*/ (() => {
    let _getNow = Date.now;
    let skipTimestampCheck = false;
    if (typeof window !== 'undefined') {
        // Determine what event timestamp the browser is using. Annoyingly, the
        // timestamp can either be hi-res (relative to page load) or low-res
        // (relative to UNIX epoch), so in order to compare time we have to use the
        // same timestamp type when saving the flush timestamp.
        if (Date.now() > document.createEvent('Event').timeStamp) {
            // if the low-res timestamp which is bigger than the event timestamp
            // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
            // and we need to use the hi-res version for event listeners as well.
            _getNow = performance.now.bind(performance);
        }
        // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
        // and does not fire microtasks in between event propagation, so safe to exclude.
        const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
        skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
    }
    return [_getNow, skipTimestampCheck];
})();
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p = /*#__PURE__*/ Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    if (key === 'class') {
        patchClass(el, nextValue, isSVG);
    }
    else if (key === 'style') {
        patchStyle(el, prevValue, nextValue);
    }
    else if (isOn(key)) {
        // ignore v-model listeners
        if (!isModelListener(key)) {
            patchEvent(el, key, prevValue, nextValue, parentComponent);
        }
    }
    else if (key[0] === '.'
        ? ((key = key.slice(1)), true)
        : key[0] === '^'
            ? ((key = key.slice(1)), false)
            : shouldSetAsProp(el, key, nextValue, isSVG)) {
        patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
    }
    else {
        // special case for <input v-model type="checkbox"> with
        // :true-value & :false-value
        // store value as dom properties since non-string values will be
        // stringified.
        if (key === 'true-value') {
            el._trueValue = nextValue;
        }
        else if (key === 'false-value') {
            el._falseValue = nextValue;
        }
        patchAttr(el, key, nextValue, isSVG);
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML & textContent
        if (key === 'innerHTML' || key === 'textContent') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // these are enumerated attrs, however their corresponding DOM properties
    // are actually booleans - this leads to setting it with a string "false"
    // value leading it to be coerced to `true`, so we need to always treat
    // them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable' || key === 'translate') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const TRANSITION = 'transition';
const ANIMATION = 'animation';
// DOM Transition is a higher-order-component based on the platform-agnostic
// base Transition component, with DOM-specific logic.
const Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);
Transition.displayName = 'Transition';
const DOMTransitionPropsValidators = {
    name: String,
    type: String,
    css: {
        type: Boolean,
        default: true
    },
    duration: [String, Number, Object],
    enterFromClass: String,
    enterActiveClass: String,
    enterToClass: String,
    appearFromClass: String,
    appearActiveClass: String,
    appearToClass: String,
    leaveFromClass: String,
    leaveActiveClass: String,
    leaveToClass: String
};
const TransitionPropsValidators = (Transition.props =
    /*#__PURE__*/ extend({}, BaseTransition.props, DOMTransitionPropsValidators));
/**
 * #3227 Incoming hooks may be merged into arrays when wrapping Transition
 * with custom HOCs.
 */
const callHook$1 = (hook, args = []) => {
    if (isArray(hook)) {
        hook.forEach(h => h(...args));
    }
    else if (hook) {
        hook(...args);
    }
};
/**
 * Check if a hook expects a callback (2nd arg), which means the user
 * intends to explicitly control the end of the transition.
 */
const hasExplicitCallback = (hook) => {
    return hook
        ? isArray(hook)
            ? hook.some(h => h.length > 1)
            : hook.length > 1
        : false;
};
function resolveTransitionProps(rawProps) {
    const baseProps = {};
    for (const key in rawProps) {
        if (!(key in DOMTransitionPropsValidators)) {
            baseProps[key] = rawProps[key];
        }
    }
    if (rawProps.css === false) {
        return baseProps;
    }
    const { name = 'v', type, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;
    const durations = normalizeDuration(duration);
    const enterDuration = durations && durations[0];
    const leaveDuration = durations && durations[1];
    const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;
    const finishEnter = (el, isAppear, done) => {
        removeTransitionClass(el, isAppear ? appearToClass : enterToClass);
        removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);
        done && done();
    };
    const finishLeave = (el, done) => {
        el._isLeaving = false;
        removeTransitionClass(el, leaveFromClass);
        removeTransitionClass(el, leaveToClass);
        removeTransitionClass(el, leaveActiveClass);
        done && done();
    };
    const makeEnterHook = (isAppear) => {
        return (el, done) => {
            const hook = isAppear ? onAppear : onEnter;
            const resolve = () => finishEnter(el, isAppear, done);
            callHook$1(hook, [el, resolve]);
            nextFrame(() => {
                removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);
                addTransitionClass(el, isAppear ? appearToClass : enterToClass);
                if (!hasExplicitCallback(hook)) {
                    whenTransitionEnds(el, type, enterDuration, resolve);
                }
            });
        };
    };
    return extend(baseProps, {
        onBeforeEnter(el) {
            callHook$1(onBeforeEnter, [el]);
            addTransitionClass(el, enterFromClass);
            addTransitionClass(el, enterActiveClass);
        },
        onBeforeAppear(el) {
            callHook$1(onBeforeAppear, [el]);
            addTransitionClass(el, appearFromClass);
            addTransitionClass(el, appearActiveClass);
        },
        onEnter: makeEnterHook(false),
        onAppear: makeEnterHook(true),
        onLeave(el, done) {
            el._isLeaving = true;
            const resolve = () => finishLeave(el, done);
            addTransitionClass(el, leaveFromClass);
            // force reflow so *-leave-from classes immediately take effect (#2593)
            forceReflow();
            addTransitionClass(el, leaveActiveClass);
            nextFrame(() => {
                if (!el._isLeaving) {
                    // cancelled
                    return;
                }
                removeTransitionClass(el, leaveFromClass);
                addTransitionClass(el, leaveToClass);
                if (!hasExplicitCallback(onLeave)) {
                    whenTransitionEnds(el, type, leaveDuration, resolve);
                }
            });
            callHook$1(onLeave, [el, resolve]);
        },
        onEnterCancelled(el) {
            finishEnter(el, false);
            callHook$1(onEnterCancelled, [el]);
        },
        onAppearCancelled(el) {
            finishEnter(el, true);
            callHook$1(onAppearCancelled, [el]);
        },
        onLeaveCancelled(el) {
            finishLeave(el);
            callHook$1(onLeaveCancelled, [el]);
        }
    });
}
function normalizeDuration(duration) {
    if (duration == null) {
        return null;
    }
    else if (isObject(duration)) {
        return [NumberOf(duration.enter), NumberOf(duration.leave)];
    }
    else {
        const n = NumberOf(duration);
        return [n, n];
    }
}
function NumberOf(val) {
    const res = toNumber(val);
    return res;
}
function addTransitionClass(el, cls) {
    cls.split(/\s+/).forEach(c => c && el.classList.add(c));
    (el._vtc ||
        (el._vtc = new Set())).add(cls);
}
function removeTransitionClass(el, cls) {
    cls.split(/\s+/).forEach(c => c && el.classList.remove(c));
    const { _vtc } = el;
    if (_vtc) {
        _vtc.delete(cls);
        if (!_vtc.size) {
            el._vtc = undefined;
        }
    }
}
function nextFrame(cb) {
    requestAnimationFrame(() => {
        requestAnimationFrame(cb);
    });
}
let endId = 0;
function whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {
    const id = (el._endId = ++endId);
    const resolveIfNotStale = () => {
        if (id === el._endId) {
            resolve();
        }
    };
    if (explicitTimeout) {
        return setTimeout(resolveIfNotStale, explicitTimeout);
    }
    const { type, timeout, propCount } = getTransitionInfo(el, expectedType);
    if (!type) {
        return resolve();
    }
    const endEvent = type + 'end';
    let ended = 0;
    const end = () => {
        el.removeEventListener(endEvent, onEnd);
        resolveIfNotStale();
    };
    const onEnd = (e) => {
        if (e.target === el && ++ended >= propCount) {
            end();
        }
    };
    setTimeout(() => {
        if (ended < propCount) {
            end();
        }
    }, timeout + 1);
    el.addEventListener(endEvent, onEnd);
}
function getTransitionInfo(el, expectedType) {
    const styles = window.getComputedStyle(el);
    // JSDOM may return undefined for transition properties
    const getStyleProperties = (key) => (styles[key] || '').split(', ');
    const transitionDelays = getStyleProperties(TRANSITION + 'Delay');
    const transitionDurations = getStyleProperties(TRANSITION + 'Duration');
    const transitionTimeout = getTimeout(transitionDelays, transitionDurations);
    const animationDelays = getStyleProperties(ANIMATION + 'Delay');
    const animationDurations = getStyleProperties(ANIMATION + 'Duration');
    const animationTimeout = getTimeout(animationDelays, animationDurations);
    let type = null;
    let timeout = 0;
    let propCount = 0;
    /* istanbul ignore if */
    if (expectedType === TRANSITION) {
        if (transitionTimeout > 0) {
            type = TRANSITION;
            timeout = transitionTimeout;
            propCount = transitionDurations.length;
        }
    }
    else if (expectedType === ANIMATION) {
        if (animationTimeout > 0) {
            type = ANIMATION;
            timeout = animationTimeout;
            propCount = animationDurations.length;
        }
    }
    else {
        timeout = Math.max(transitionTimeout, animationTimeout);
        type =
            timeout > 0
                ? transitionTimeout > animationTimeout
                    ? TRANSITION
                    : ANIMATION
                : null;
        propCount = type
            ? type === TRANSITION
                ? transitionDurations.length
                : animationDurations.length
            : 0;
    }
    const hasTransform = type === TRANSITION &&
        /\b(transform|all)(,|$)/.test(styles[TRANSITION + 'Property']);
    return {
        type,
        timeout,
        propCount,
        hasTransform
    };
}
function getTimeout(delays, durations) {
    while (delays.length < durations.length) {
        delays = delays.concat(delays);
    }
    return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));
}
// Old versions of Chromium (below 61.0.3163.100) formats floating pointer
// numbers in a locale-dependent way, using a comma instead of a dot.
// If comma is not replaced with a dot, the input will be rounded down
// (i.e. acting as a floor function) causing unexpected behaviors
function toMs(s) {
    return Number(s.slice(0, -1).replace(',', '.')) * 1000;
}
// synchronously force layout to put elements into a certain state
function forceReflow() {
    return document.body.offsetHeight;
}

const positionMap = new WeakMap();
const newPositionMap = new WeakMap();
const TransitionGroupImpl = {
    name: 'TransitionGroup',
    props: /*#__PURE__*/ extend({}, TransitionPropsValidators, {
        tag: String,
        moveClass: String
    }),
    setup(props, { slots }) {
        const instance = getCurrentInstance();
        const state = useTransitionState();
        let prevChildren;
        let children;
        onUpdated(() => {
            // children is guaranteed to exist after initial render
            if (!prevChildren.length) {
                return;
            }
            const moveClass = props.moveClass || `${props.name || 'v'}-move`;
            if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {
                return;
            }
            // we divide the work into three loops to avoid mixing DOM reads and writes
            // in each iteration - which helps prevent layout thrashing.
            prevChildren.forEach(callPendingCbs);
            prevChildren.forEach(recordPosition);
            const movedChildren = prevChildren.filter(applyTranslation);
            // force reflow to put everything in position
            forceReflow();
            movedChildren.forEach(c => {
                const el = c.el;
                const style = el.style;
                addTransitionClass(el, moveClass);
                style.transform = style.webkitTransform = style.transitionDuration = '';
                const cb = (el._moveCb = (e) => {
                    if (e && e.target !== el) {
                        return;
                    }
                    if (!e || /transform$/.test(e.propertyName)) {
                        el.removeEventListener('transitionend', cb);
                        el._moveCb = null;
                        removeTransitionClass(el, moveClass);
                    }
                });
                el.addEventListener('transitionend', cb);
            });
        });
        return () => {
            const rawProps = toRaw(props);
            const cssTransitionProps = resolveTransitionProps(rawProps);
            let tag = rawProps.tag || Fragment;
            prevChildren = children;
            children = slots.default ? getTransitionRawChildren(slots.default()) : [];
            for (let i = 0; i < children.length; i++) {
                const child = children[i];
                if (child.key != null) {
                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));
                }
            }
            if (prevChildren) {
                for (let i = 0; i < prevChildren.length; i++) {
                    const child = prevChildren[i];
                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));
                    positionMap.set(child, child.el.getBoundingClientRect());
                }
            }
            return createVNode(tag, null, children);
        };
    }
};
const TransitionGroup = TransitionGroupImpl;
function callPendingCbs(c) {
    const el = c.el;
    if (el._moveCb) {
        el._moveCb();
    }
    if (el._enterCb) {
        el._enterCb();
    }
}
function recordPosition(c) {
    newPositionMap.set(c, c.el.getBoundingClientRect());
}
function applyTranslation(c) {
    const oldPos = positionMap.get(c);
    const newPos = newPositionMap.get(c);
    const dx = oldPos.left - newPos.left;
    const dy = oldPos.top - newPos.top;
    if (dx || dy) {
        const s = c.el.style;
        s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;
        s.transitionDuration = '0s';
        return c;
    }
}
function hasCSSTransform(el, root, moveClass) {
    // Detect whether an element with the move class applied has
    // CSS transitions. Since the element may be inside an entering
    // transition at this very moment, we make a clone of it and remove
    // all other transition classes applied to ensure only the move class
    // is applied.
    const clone = el.cloneNode();
    if (el._vtc) {
        el._vtc.forEach(cls => {
            cls.split(/\s+/).forEach(c => c && clone.classList.remove(c));
        });
    }
    moveClass.split(/\s+/).forEach(c => c && clone.classList.add(c));
    clone.style.display = 'none';
    const container = (root.nodeType === 1 ? root : root.parentNode);
    container.appendChild(clone);
    const { hasTransform } = getTransitionInfo(clone);
    container.removeChild(clone);
    return hasTransform;
}

const getModelAssigner = (vnode) => {
    const fn = vnode.props['onUpdate:modelValue'] ||
        (false );
    return isArray(fn) ? value => invokeArrayFns(fn, value) : fn;
};
function onCompositionStart(e) {
    e.target.composing = true;
}
function onCompositionEnd(e) {
    const target = e.target;
    if (target.composing) {
        target.composing = false;
        target.dispatchEvent(new Event('input'));
    }
}
// We are exporting the v-model runtime directly as vnode hooks so that it can
// be tree-shaken in case v-model is never used.
const vModelText = {
    created(el, { modifiers: { lazy, trim, number } }, vnode) {
        el._assign = getModelAssigner(vnode);
        const castToNumber = number || (vnode.props && vnode.props.type === 'number');
        addEventListener(el, lazy ? 'change' : 'input', e => {
            if (e.target.composing)
                return;
            let domValue = el.value;
            if (trim) {
                domValue = domValue.trim();
            }
            if (castToNumber) {
                domValue = toNumber(domValue);
            }
            el._assign(domValue);
        });
        if (trim) {
            addEventListener(el, 'change', () => {
                el.value = el.value.trim();
            });
        }
        if (!lazy) {
            addEventListener(el, 'compositionstart', onCompositionStart);
            addEventListener(el, 'compositionend', onCompositionEnd);
            // Safari < 10.2 & UIWebView doesn't fire compositionend when
            // switching focus before confirming composition choice
            // this also fixes the issue where some browsers e.g. iOS Chrome
            // fires "change" instead of "input" on autocomplete.
            addEventListener(el, 'change', onCompositionEnd);
        }
    },
    // set value on mounted so it's after min/max for type="range"
    mounted(el, { value }) {
        el.value = value == null ? '' : value;
    },
    beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {
        el._assign = getModelAssigner(vnode);
        // avoid clearing unresolved text. #2302
        if (el.composing)
            return;
        if (document.activeElement === el && el.type !== 'range') {
            if (lazy) {
                return;
            }
            if (trim && el.value.trim() === value) {
                return;
            }
            if ((number || el.type === 'number') && toNumber(el.value) === value) {
                return;
            }
        }
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
    }
};

const rendererOptions = /*#__PURE__*/ extend({ patchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return (renderer ||
        (renderer = createRenderer(rendererOptions)));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            // __UNSAFE__
            // Reason: potential execution of JS expressions in in-DOM template.
            // The user must make sure the in-DOM template is trusted. If it's
            // rendered by the server, the template should not contain any user data.
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function commonjsRequire(path) {
  throw new Error('Could not dynamically require "' + path + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var es6Promise = { exports: {} };
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(module2, exports2) {
  (function(global2, factory) {
    module2.exports = factory();
  })(commonjsGlobal, function() {
    function objectOrFunction(x2) {
      var type = typeof x2;
      return x2 !== null && (type === "object" || type === "function");
    }
    function isFunction(x2) {
      return typeof x2 === "function";
    }
    var _isArray = void 0;
    if (Array.isArray) {
      _isArray = Array.isArray;
    } else {
      _isArray = function(x2) {
        return Object.prototype.toString.call(x2) === "[object Array]";
      };
    }
    var isArray2 = _isArray;
    var len = 0;
    var vertxNext = void 0;
    var customSchedulerFn = void 0;
    var asap = function asap2(callback, arg) {
      queue[len] = callback;
      queue[len + 1] = arg;
      len += 2;
      if (len === 2) {
        if (customSchedulerFn) {
          customSchedulerFn(flush);
        } else {
          scheduleFlush();
        }
      }
    };
    function setScheduler(scheduleFn) {
      customSchedulerFn = scheduleFn;
    }
    function setAsap(asapFn) {
      asap = asapFn;
    }
    var browserWindow = typeof window !== "undefined" ? window : void 0;
    var browserGlobal = browserWindow || {};
    var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
    var isNode = typeof self === "undefined" && typeof process !== "undefined" && {}.toString.call(process) === "[object process]";
    var isWorker = typeof Uint8ClampedArray !== "undefined" && typeof importScripts !== "undefined" && typeof MessageChannel !== "undefined";
    function useNextTick() {
      return function() {
        return process.nextTick(flush);
      };
    }
    function useVertxTimer() {
      if (typeof vertxNext !== "undefined") {
        return function() {
          vertxNext(flush);
        };
      }
      return useSetTimeout();
    }
    function useMutationObserver() {
      var iterations = 0;
      var observer = new BrowserMutationObserver(flush);
      var node = document.createTextNode("");
      observer.observe(node, { characterData: true });
      return function() {
        node.data = iterations = ++iterations % 2;
      };
    }
    function useMessageChannel() {
      var channel = new MessageChannel();
      channel.port1.onmessage = flush;
      return function() {
        return channel.port2.postMessage(0);
      };
    }
    function useSetTimeout() {
      var globalSetTimeout = setTimeout;
      return function() {
        return globalSetTimeout(flush, 1);
      };
    }
    var queue = new Array(1e3);
    function flush() {
      for (var i2 = 0; i2 < len; i2 += 2) {
        var callback = queue[i2];
        var arg = queue[i2 + 1];
        callback(arg);
        queue[i2] = void 0;
        queue[i2 + 1] = void 0;
      }
      len = 0;
    }
    function attemptVertx() {
      try {
        var vertx = Function("return this")().require("vertx");
        vertxNext = vertx.runOnLoop || vertx.runOnContext;
        return useVertxTimer();
      } catch (e20) {
        return useSetTimeout();
      }
    }
    var scheduleFlush = void 0;
    if (isNode) {
      scheduleFlush = useNextTick();
    } else if (BrowserMutationObserver) {
      scheduleFlush = useMutationObserver();
    } else if (isWorker) {
      scheduleFlush = useMessageChannel();
    } else if (browserWindow === void 0 && typeof commonjsRequire === "function") {
      scheduleFlush = attemptVertx();
    } else {
      scheduleFlush = useSetTimeout();
    }
    function then(onFulfillment, onRejection) {
      var parent = this;
      var child = new this.constructor(noop2);
      if (child[PROMISE_ID] === void 0) {
        makePromise(child);
      }
      var _state = parent._state;
      if (_state) {
        var callback = arguments[_state - 1];
        asap(function() {
          return invokeCallback(_state, child, callback, parent._result);
        });
      } else {
        subscribe(parent, child, onFulfillment, onRejection);
      }
      return child;
    }
    function resolve$1(object) {
      var Constructor = this;
      if (object && typeof object === "object" && object.constructor === Constructor) {
        return object;
      }
      var promise = new Constructor(noop2);
      resolve(promise, object);
      return promise;
    }
    var PROMISE_ID = Math.random().toString(36).substring(2);
    function noop2() {
    }
    var PENDING = void 0;
    var FULFILLED = 1;
    var REJECTED = 2;
    function selfFulfillment() {
      return new TypeError("You cannot resolve a promise with itself");
    }
    function cannotReturnOwn() {
      return new TypeError("A promises callback cannot return that same promise.");
    }
    function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
      try {
        then$$1.call(value, fulfillmentHandler, rejectionHandler);
      } catch (e20) {
        return e20;
      }
    }
    function handleForeignThenable(promise, thenable, then$$1) {
      asap(function(promise2) {
        var sealed = false;
        var error2 = tryThen(then$$1, thenable, function(value) {
          if (sealed) {
            return;
          }
          sealed = true;
          if (thenable !== value) {
            resolve(promise2, value);
          } else {
            fulfill(promise2, value);
          }
        }, function(reason) {
          if (sealed) {
            return;
          }
          sealed = true;
          reject(promise2, reason);
        }, "Settle: " + (promise2._label || " unknown promise"));
        if (!sealed && error2) {
          sealed = true;
          reject(promise2, error2);
        }
      }, promise);
    }
    function handleOwnThenable(promise, thenable) {
      if (thenable._state === FULFILLED) {
        fulfill(promise, thenable._result);
      } else if (thenable._state === REJECTED) {
        reject(promise, thenable._result);
      } else {
        subscribe(thenable, void 0, function(value) {
          return resolve(promise, value);
        }, function(reason) {
          return reject(promise, reason);
        });
      }
    }
    function handleMaybeThenable(promise, maybeThenable, then$$1) {
      if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
        handleOwnThenable(promise, maybeThenable);
      } else {
        if (then$$1 === void 0) {
          fulfill(promise, maybeThenable);
        } else if (isFunction(then$$1)) {
          handleForeignThenable(promise, maybeThenable, then$$1);
        } else {
          fulfill(promise, maybeThenable);
        }
      }
    }
    function resolve(promise, value) {
      if (promise === value) {
        reject(promise, selfFulfillment());
      } else if (objectOrFunction(value)) {
        var then$$1 = void 0;
        try {
          then$$1 = value.then;
        } catch (error2) {
          reject(promise, error2);
          return;
        }
        handleMaybeThenable(promise, value, then$$1);
      } else {
        fulfill(promise, value);
      }
    }
    function publishRejection(promise) {
      if (promise._onerror) {
        promise._onerror(promise._result);
      }
      publish(promise);
    }
    function fulfill(promise, value) {
      if (promise._state !== PENDING) {
        return;
      }
      promise._result = value;
      promise._state = FULFILLED;
      if (promise._subscribers.length !== 0) {
        asap(publish, promise);
      }
    }
    function reject(promise, reason) {
      if (promise._state !== PENDING) {
        return;
      }
      promise._state = REJECTED;
      promise._result = reason;
      asap(publishRejection, promise);
    }
    function subscribe(parent, child, onFulfillment, onRejection) {
      var _subscribers = parent._subscribers;
      var length = _subscribers.length;
      parent._onerror = null;
      _subscribers[length] = child;
      _subscribers[length + FULFILLED] = onFulfillment;
      _subscribers[length + REJECTED] = onRejection;
      if (length === 0 && parent._state) {
        asap(publish, parent);
      }
    }
    function publish(promise) {
      var subscribers = promise._subscribers;
      var settled = promise._state;
      if (subscribers.length === 0) {
        return;
      }
      var child = void 0, callback = void 0, detail = promise._result;
      for (var i2 = 0; i2 < subscribers.length; i2 += 3) {
        child = subscribers[i2];
        callback = subscribers[i2 + settled];
        if (child) {
          invokeCallback(settled, child, callback, detail);
        } else {
          callback(detail);
        }
      }
      promise._subscribers.length = 0;
    }
    function invokeCallback(settled, promise, callback, detail) {
      var hasCallback = isFunction(callback), value = void 0, error2 = void 0, succeeded = true;
      if (hasCallback) {
        try {
          value = callback(detail);
        } catch (e20) {
          succeeded = false;
          error2 = e20;
        }
        if (promise === value) {
          reject(promise, cannotReturnOwn());
          return;
        }
      } else {
        value = detail;
      }
      if (promise._state !== PENDING)
        ;
      else if (hasCallback && succeeded) {
        resolve(promise, value);
      } else if (succeeded === false) {
        reject(promise, error2);
      } else if (settled === FULFILLED) {
        fulfill(promise, value);
      } else if (settled === REJECTED) {
        reject(promise, value);
      }
    }
    function initializePromise(promise, resolver) {
      try {
        resolver(function resolvePromise(value) {
          resolve(promise, value);
        }, function rejectPromise(reason) {
          reject(promise, reason);
        });
      } catch (e20) {
        reject(promise, e20);
      }
    }
    var id2 = 0;
    function nextId() {
      return id2++;
    }
    function makePromise(promise) {
      promise[PROMISE_ID] = id2++;
      promise._state = void 0;
      promise._result = void 0;
      promise._subscribers = [];
    }
    function validationError() {
      return new Error("Array Methods must be provided an Array");
    }
    var Enumerator = function() {
      function Enumerator2(Constructor, input) {
        this._instanceConstructor = Constructor;
        this.promise = new Constructor(noop2);
        if (!this.promise[PROMISE_ID]) {
          makePromise(this.promise);
        }
        if (isArray2(input)) {
          this.length = input.length;
          this._remaining = input.length;
          this._result = new Array(this.length);
          if (this.length === 0) {
            fulfill(this.promise, this._result);
          } else {
            this.length = this.length || 0;
            this._enumerate(input);
            if (this._remaining === 0) {
              fulfill(this.promise, this._result);
            }
          }
        } else {
          reject(this.promise, validationError());
        }
      }
      Enumerator2.prototype._enumerate = function _enumerate(input) {
        for (var i2 = 0; this._state === PENDING && i2 < input.length; i2++) {
          this._eachEntry(input[i2], i2);
        }
      };
      Enumerator2.prototype._eachEntry = function _eachEntry(entry, i2) {
        var c2 = this._instanceConstructor;
        var resolve$$1 = c2.resolve;
        if (resolve$$1 === resolve$1) {
          var _then = void 0;
          var error2 = void 0;
          var didError = false;
          try {
            _then = entry.then;
          } catch (e20) {
            didError = true;
            error2 = e20;
          }
          if (_then === then && entry._state !== PENDING) {
            this._settledAt(entry._state, i2, entry._result);
          } else if (typeof _then !== "function") {
            this._remaining--;
            this._result[i2] = entry;
          } else if (c2 === Promise$1) {
            var promise = new c2(noop2);
            if (didError) {
              reject(promise, error2);
            } else {
              handleMaybeThenable(promise, entry, _then);
            }
            this._willSettleAt(promise, i2);
          } else {
            this._willSettleAt(new c2(function(resolve$$12) {
              return resolve$$12(entry);
            }), i2);
          }
        } else {
          this._willSettleAt(resolve$$1(entry), i2);
        }
      };
      Enumerator2.prototype._settledAt = function _settledAt(state, i2, value) {
        var promise = this.promise;
        if (promise._state === PENDING) {
          this._remaining--;
          if (state === REJECTED) {
            reject(promise, value);
          } else {
            this._result[i2] = value;
          }
        }
        if (this._remaining === 0) {
          fulfill(promise, this._result);
        }
      };
      Enumerator2.prototype._willSettleAt = function _willSettleAt(promise, i2) {
        var enumerator = this;
        subscribe(promise, void 0, function(value) {
          return enumerator._settledAt(FULFILLED, i2, value);
        }, function(reason) {
          return enumerator._settledAt(REJECTED, i2, reason);
        });
      };
      return Enumerator2;
    }();
    function all(entries) {
      return new Enumerator(this, entries).promise;
    }
    function race(entries) {
      var Constructor = this;
      if (!isArray2(entries)) {
        return new Constructor(function(_2, reject2) {
          return reject2(new TypeError("You must pass an array to race."));
        });
      } else {
        return new Constructor(function(resolve2, reject2) {
          var length = entries.length;
          for (var i2 = 0; i2 < length; i2++) {
            Constructor.resolve(entries[i2]).then(resolve2, reject2);
          }
        });
      }
    }
    function reject$1(reason) {
      var Constructor = this;
      var promise = new Constructor(noop2);
      reject(promise, reason);
      return promise;
    }
    function needsResolver() {
      throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
    }
    function needsNew() {
      throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
    }
    var Promise$1 = function() {
      function Promise2(resolver) {
        this[PROMISE_ID] = nextId();
        this._result = this._state = void 0;
        this._subscribers = [];
        if (noop2 !== resolver) {
          typeof resolver !== "function" && needsResolver();
          this instanceof Promise2 ? initializePromise(this, resolver) : needsNew();
        }
      }
      Promise2.prototype.catch = function _catch(onRejection) {
        return this.then(null, onRejection);
      };
      Promise2.prototype.finally = function _finally(callback) {
        var promise = this;
        var constructor = promise.constructor;
        if (isFunction(callback)) {
          return promise.then(function(value) {
            return constructor.resolve(callback()).then(function() {
              return value;
            });
          }, function(reason) {
            return constructor.resolve(callback()).then(function() {
              throw reason;
            });
          });
        }
        return promise.then(callback, callback);
      };
      return Promise2;
    }();
    Promise$1.prototype.then = then;
    Promise$1.all = all;
    Promise$1.race = race;
    Promise$1.resolve = resolve$1;
    Promise$1.reject = reject$1;
    Promise$1._setScheduler = setScheduler;
    Promise$1._setAsap = setAsap;
    Promise$1._asap = asap;
    function polyfill() {
      var local = void 0;
      if (typeof commonjsGlobal !== "undefined") {
        local = commonjsGlobal;
      } else if (typeof self !== "undefined") {
        local = self;
      } else {
        try {
          local = Function("return this")();
        } catch (e20) {
          throw new Error("polyfill failed because global object is unavailable in this environment");
        }
      }
      var P2 = local.Promise;
      if (P2) {
        var promiseToString = null;
        try {
          promiseToString = Object.prototype.toString.call(P2.resolve());
        } catch (e20) {
        }
        if (promiseToString === "[object Promise]" && !P2.cast) {
          return;
        }
      }
      local.Promise = Promise$1;
    }
    Promise$1.polyfill = polyfill;
    Promise$1.Promise = Promise$1;
    return Promise$1;
  });
})(es6Promise);
es6Promise.exports.polyfill();
const f$1 = ref([]), v$1 = ref(null), m$1 = ref(null), g$1 = ref(null), h$1 = reactive({ current: "" }), y$1 = [], b$1 = ref(false), k$1 = readonly(f$1), w$1 = readonly(v$1), M$1 = readonly(m$1), q$1 = readonly(g$1), x$1 = readonly(h$1), $$1 = (e20 = w$1.value) => {
  h$1.current = e20;
  const t2 = k$1.value.findIndex((t3) => t3.name === e20), n2 = k$1.value.map((e21) => e21.name);
  for (let a2 = 0; a2 < n2.length; a2++) {
    if (a2 > 0 && a2 < n2.length - 1) {
      const e21 = n2[a2] + "Minus", r2 = n2[a2] + "Plus";
      h$1[e21] = t2 <= a2, h$1[r2] = t2 >= a2;
    }
    h$1[n2[a2]] = n2[a2] === e20;
  }
}, V$1 = (e20 = M$1.value) => {
  h$1.orientation = e20, h$1.isLandscape = e20 === "landscape", h$1.isPortrait = e20 === "portrait";
}, O$1 = (e20 = q$1.value || "light") => {
  h$1.theme = e20, h$1.isDark = e20 === "dark", h$1.isLight = e20 === "light";
};
function j$1(e20, t2) {
  if (typeof window == "undefined" || !window.matchMedia)
    return false;
  if (typeof window != "undefined" && !window.matchMedia)
    return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."), false;
  {
    b$1.value = true;
    const n2 = window.matchMedia(e20), a2 = ({ matches: e21 }) => {
      e21 && t2();
    };
    y$1.push({ mql: n2, cb: a2 });
    n2.addEventListener && typeof n2.addEventListener == "function" ? n2.addEventListener("change", a2) : n2.addListener(a2), a2(n2);
  }
}
var L$1 = Object.freeze({ __proto__: null, [Symbol.toStringTag]: "Module", bootstrap5: { xs: 0, sm: 576, md: 768, lg: 992, xl: 1200, xxl: 1400 }, bootstrap4: { xs: 0, sm: 576, md: 768, lg: 992, xl: 1200 }, bootstrap3: { xs: 0, sm: 768, md: 992, lg: 1200 }, vuetify: { xs: 0, sm: 600, md: 960, lg: 1264, xl: 1904 }, tailwind: { xs: 0, sm: 640, md: 768, lg: 1024, xl: 1280, xxl: 1536 }, devices: { phone: 0, tablet: 768, laptop: 1370, desktop: 1906 } });
const T$1 = (e20) => {
  if (!e20 || typeof e20 != "object")
    return false;
  const t2 = [];
  for (let n2 in e20) {
    const a2 = parseFloat(e20[n2]);
    n2 && typeof n2 == "string" ? /^[^a-z]/i.test(n2) || /[^a-zA-Z0-9_]/.test(n2) ? console.warn(`Vue3 Mq: "${n2}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`) : !a2 && a2 !== 0 || isNaN(a2) || a2 < 0 ? console.warn(`Vue3 Mq: "${n2}: ${e20[n2]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`) : t2.push({ name: n2, min: a2 }) : console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(n2)}). Skipping.`);
  }
  t2.some((e21) => e21.min === 0) || console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond.");
  return new Set(t2.map((e21) => e21.min)).size < t2.length && console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."), t2.length !== 0 && t2.sort((e21, t3) => e21.min - t3.min);
};
function R$1({ breakpoints: e20, preset: t2 }) {
  const n2 = ((e21) => {
    if (typeof e21 == "string" && L$1[e21])
      return L$1[e21];
    {
      const t3 = Object.keys(L$1);
      return console.error(`Vue3 Mq: "${e21}" is not a valid preset. Available options are: ${t3.join(", ")}`), false;
    }
  })(t2), a2 = T$1(e20);
  if (n2 === false && !a2)
    throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");
  var r2;
  r2 = a2 || T$1(n2), f$1.value = r2, function() {
    for (; y$1.length > 0; ) {
      const e21 = y$1.shift();
      if (e21 && typeof e21 == "object") {
        const { mql: t3, cb: n3 } = e21;
        t3.addEventListener && typeof t3.addEventListener == "function" ? t3.removeEventListener("change", n3) : t3.removeListener(n3);
      }
    }
  }(), (() => {
    const e21 = Object.keys(h$1);
    for (let t3 of e21)
      delete h$1[t3];
    $$1(), V$1(), O$1();
  })();
  const o2 = k$1.value.reduce((e21, t3, n3, a3) => {
    const r3 = `(min-width: ${t3.min}px)`, o3 = n3 < a3.length - 1 ? `(max-width: ${a3[n3 + 1].min - 1}px)` : null, i2 = r3 + (o3 ? " and " + o3 : "");
    return Object.assign(e21, { [t3.name]: i2 });
  }, {});
  for (const i2 in o2) {
    j$1(o2[i2], () => {
      $$1(i2);
    });
  }
  ["portrait", "landscape"].forEach((e21) => {
    j$1(`(orientation: ${e21})`, () => {
      V$1(e21);
    });
  }), ["light", "dark"].forEach((e21) => {
    j$1(`(prefers-color-scheme: ${e21})`, () => {
      O$1(e21);
    });
  });
}
var N$1 = { install: (e20, { preset: t2 = "bootstrap5", breakpoints: n2, defaultBreakpoint: a2, defaultOrientation: r2 = "landscape", defaultTheme: o2 } = {}) => {
  try {
    const l2 = ["landscape", "portrait"].includes(s2 = r2) === false ? (console.error(`Vue3 Mq: "${s2}" is not a valid default orientation. Reverting to unset value.`), null) : s2, u2 = ((e21 = null) => ["dark", "light"].includes(e21) === false && e21 !== null ? (console.error(`Vue3 Mq: "${e21}" is not a valid default theme. Reverting to unset value.`), null) : e21)(o2);
    i2 = a2, v$1.value = i2, ((e21) => {
      m$1.value = e21;
    })(l2), ((e21) => {
      g$1.value = e21;
    })(u2), e20.provide("mq", x$1), e20.provide("updateBreakpoints", R$1), R$1({ breakpoints: n2, preset: t2 });
  } catch (l2) {
    console.error(l2);
  }
  var i2, s2;
} };
class LogManager {
  constructor() {
    __publicField(this, "debug");
    __publicField(this, "logger", {
      log: () => {
      }
    });
  }
  setupDebugger(debug) {
    this.debug = debug;
    if (debug) {
      this.logger.log = console.log.bind(window.console);
    }
  }
}
const logManager = new LogManager();
const logger$1 = logManager.logger;
function getPlayTime(startedAt, previousTime) {
  return Date.now() - startedAt + previousTime;
}
function toHHMMSS(time) {
  const secNum = parseInt(time, 10);
  let hours = Math.floor(secNum / 3600);
  let minutes = Math.floor((secNum - hours * 3600) / 60);
  let seconds = secNum - hours * 3600 - minutes * 60;
  if (hours < 10) {
    hours = "0" + hours;
  }
  if (minutes < 10) {
    minutes = "0" + minutes;
  }
  if (seconds < 10) {
    seconds = "0" + seconds;
  }
  return hours + ":" + minutes + ":" + seconds;
}
var _export_sfc = (sfc, props) => {
  const target = sfc.__vccOpts || sfc;
  for (const [key, val] of props) {
    target[key] = val;
  }
  return target;
};
const _sfc_main$g = defineComponent({
  props: {
    containerCssClass: String
  }
});
const _hoisted_1$e = { class: "modal-header" };
const _hoisted_2$c = /* @__PURE__ */ createTextVNode(" default header ");
const _hoisted_3$7 = /* @__PURE__ */ createBaseVNode("hr", { class: "solid" }, null, -1);
const _hoisted_4$6 = { class: "modal-body" };
const _hoisted_5$6 = /* @__PURE__ */ createTextVNode(" default body ");
const _hoisted_6$6 = { class: "modal-footer" };
function _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createBlock(Transition, { name: "modal" }, {
    default: withCtx(() => [
      createBaseVNode("div", {
        class: "modal-mask",
        onClick: _cache[2] || (_cache[2] = ($event) => _ctx.$emit("close"))
      }, [
        createBaseVNode("div", {
          class: normalizeClass(["modal-container bg-gray-800 card-4", _ctx.containerCssClass]),
          onClick: _cache[1] || (_cache[1] = (e20) => e20.stopPropagation())
        }, [
          createBaseVNode("div", _hoisted_1$e, [
            createBaseVNode("button", {
              class: "close-button",
              onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit("close"))
            }, "X"),
            renderSlot(_ctx.$slots, "header", {}, () => [
              _hoisted_2$c
            ]),
            _hoisted_3$7
          ]),
          createBaseVNode("div", _hoisted_4$6, [
            renderSlot(_ctx.$slots, "body", {}, () => [
              _hoisted_5$6
            ])
          ]),
          createBaseVNode("div", _hoisted_6$6, [
            renderSlot(_ctx.$slots, "footer")
          ])
        ], 2)
      ])
    ]),
    _: 3
  });
}
var Modal = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["render", _sfc_render$d]]);
function isArray$1(value) {
  return !Array.isArray ? getTag(value) === "[object Array]" : Array.isArray(value);
}
const INFINITY = 1 / 0;
function baseToString(value) {
  if (typeof value == "string") {
    return value;
  }
  let result = value + "";
  return result == "0" && 1 / value == -INFINITY ? "-0" : result;
}
function toString(value) {
  return value == null ? "" : baseToString(value);
}
function isString$1(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return typeof value === "number";
}
function isBoolean(value) {
  return value === true || value === false || isObjectLike(value) && getTag(value) == "[object Boolean]";
}
function isObject$1(value) {
  return typeof value === "object";
}
function isObjectLike(value) {
  return isObject$1(value) && value !== null;
}
function isDefined(value) {
  return value !== void 0 && value !== null;
}
function isBlank(value) {
  return !value.trim().length;
}
function getTag(value) {
  return value == null ? value === void 0 ? "[object Undefined]" : "[object Null]" : Object.prototype.toString.call(value);
}
const EXTENDED_SEARCH_UNAVAILABLE = "Extended search is not available";
const INCORRECT_INDEX_TYPE = "Incorrect 'index' type";
const LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) => `Invalid value for key ${key}`;
const PATTERN_LENGTH_TOO_LARGE = (max) => `Pattern length exceeds max of ${max}.`;
const MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;
const INVALID_KEY_WEIGHT_VALUE = (key) => `Property 'weight' in key '${key}' must be a positive integer`;
const hasOwn$1 = Object.prototype.hasOwnProperty;
class KeyStore {
  constructor(keys) {
    this._keys = [];
    this._keyMap = {};
    let totalWeight = 0;
    keys.forEach((key) => {
      let obj = createKey(key);
      totalWeight += obj.weight;
      this._keys.push(obj);
      this._keyMap[obj.id] = obj;
      totalWeight += obj.weight;
    });
    this._keys.forEach((key) => {
      key.weight /= totalWeight;
    });
  }
  get(keyId) {
    return this._keyMap[keyId];
  }
  keys() {
    return this._keys;
  }
  toJSON() {
    return JSON.stringify(this._keys);
  }
}
function createKey(key) {
  let path = null;
  let id2 = null;
  let src = null;
  let weight = 1;
  let getFn = null;
  if (isString$1(key) || isArray$1(key)) {
    src = key;
    path = createKeyPath(key);
    id2 = createKeyId(key);
  } else {
    if (!hasOwn$1.call(key, "name")) {
      throw new Error(MISSING_KEY_PROPERTY("name"));
    }
    const name = key.name;
    src = name;
    if (hasOwn$1.call(key, "weight")) {
      weight = key.weight;
      if (weight <= 0) {
        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));
      }
    }
    path = createKeyPath(name);
    id2 = createKeyId(name);
    getFn = key.getFn;
  }
  return { path, id: id2, weight, src, getFn };
}
function createKeyPath(key) {
  return isArray$1(key) ? key : key.split(".");
}
function createKeyId(key) {
  return isArray$1(key) ? key.join(".") : key;
}
function get$2(obj, path) {
  let list = [];
  let arr = false;
  const deepGet = (obj2, path2, index) => {
    if (!isDefined(obj2)) {
      return;
    }
    if (!path2[index]) {
      list.push(obj2);
    } else {
      let key = path2[index];
      const value = obj2[key];
      if (!isDefined(value)) {
        return;
      }
      if (index === path2.length - 1 && (isString$1(value) || isNumber(value) || isBoolean(value))) {
        list.push(toString(value));
      } else if (isArray$1(value)) {
        arr = true;
        for (let i2 = 0, len = value.length; i2 < len; i2 += 1) {
          deepGet(value[i2], path2, index + 1);
        }
      } else if (path2.length) {
        deepGet(value, path2, index + 1);
      }
    }
  };
  deepGet(obj, isString$1(path) ? path.split(".") : path, 0);
  return arr ? list : list[0];
}
const MatchOptions = {
  includeMatches: false,
  findAllMatches: false,
  minMatchCharLength: 1
};
const BasicOptions = {
  isCaseSensitive: false,
  includeScore: false,
  keys: [],
  shouldSort: true,
  sortFn: (a2, b2) => a2.score === b2.score ? a2.idx < b2.idx ? -1 : 1 : a2.score < b2.score ? -1 : 1
};
const FuzzyOptions = {
  location: 0,
  threshold: 0.6,
  distance: 100
};
const AdvancedOptions = {
  useExtendedSearch: false,
  getFn: get$2,
  ignoreLocation: false,
  ignoreFieldNorm: false,
  fieldNormWeight: 1
};
var Config = {
  ...BasicOptions,
  ...MatchOptions,
  ...FuzzyOptions,
  ...AdvancedOptions
};
const SPACE = /[^ ]+/g;
function norm(weight = 1, mantissa = 3) {
  const cache = /* @__PURE__ */ new Map();
  const m2 = Math.pow(10, mantissa);
  return {
    get(value) {
      const numTokens = value.match(SPACE).length;
      if (cache.has(numTokens)) {
        return cache.get(numTokens);
      }
      const norm2 = 1 / Math.pow(numTokens, 0.5 * weight);
      const n2 = parseFloat(Math.round(norm2 * m2) / m2);
      cache.set(numTokens, n2);
      return n2;
    },
    clear() {
      cache.clear();
    }
  };
}
class FuseIndex {
  constructor({
    getFn = Config.getFn,
    fieldNormWeight = Config.fieldNormWeight
  } = {}) {
    this.norm = norm(fieldNormWeight, 3);
    this.getFn = getFn;
    this.isCreated = false;
    this.setIndexRecords();
  }
  setSources(docs = []) {
    this.docs = docs;
  }
  setIndexRecords(records = []) {
    this.records = records;
  }
  setKeys(keys = []) {
    this.keys = keys;
    this._keysMap = {};
    keys.forEach((key, idx) => {
      this._keysMap[key.id] = idx;
    });
  }
  create() {
    if (this.isCreated || !this.docs.length) {
      return;
    }
    this.isCreated = true;
    if (isString$1(this.docs[0])) {
      this.docs.forEach((doc, docIndex) => {
        this._addString(doc, docIndex);
      });
    } else {
      this.docs.forEach((doc, docIndex) => {
        this._addObject(doc, docIndex);
      });
    }
    this.norm.clear();
  }
  add(doc) {
    const idx = this.size();
    if (isString$1(doc)) {
      this._addString(doc, idx);
    } else {
      this._addObject(doc, idx);
    }
  }
  removeAt(idx) {
    this.records.splice(idx, 1);
    for (let i2 = idx, len = this.size(); i2 < len; i2 += 1) {
      this.records[i2].i -= 1;
    }
  }
  getValueForItemAtKeyId(item, keyId) {
    return item[this._keysMap[keyId]];
  }
  size() {
    return this.records.length;
  }
  _addString(doc, docIndex) {
    if (!isDefined(doc) || isBlank(doc)) {
      return;
    }
    let record = {
      v: doc,
      i: docIndex,
      n: this.norm.get(doc)
    };
    this.records.push(record);
  }
  _addObject(doc, docIndex) {
    let record = { i: docIndex, $: {} };
    this.keys.forEach((key, keyIndex) => {
      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);
      if (!isDefined(value)) {
        return;
      }
      if (isArray$1(value)) {
        let subRecords = [];
        const stack = [{ nestedArrIndex: -1, value }];
        while (stack.length) {
          const { nestedArrIndex, value: value2 } = stack.pop();
          if (!isDefined(value2)) {
            continue;
          }
          if (isString$1(value2) && !isBlank(value2)) {
            let subRecord = {
              v: value2,
              i: nestedArrIndex,
              n: this.norm.get(value2)
            };
            subRecords.push(subRecord);
          } else if (isArray$1(value2)) {
            value2.forEach((item, k2) => {
              stack.push({
                nestedArrIndex: k2,
                value: item
              });
            });
          } else
            ;
        }
        record.$[keyIndex] = subRecords;
      } else if (isString$1(value) && !isBlank(value)) {
        let subRecord = {
          v: value,
          n: this.norm.get(value)
        };
        record.$[keyIndex] = subRecord;
      }
    });
    this.records.push(record);
  }
  toJSON() {
    return {
      keys: this.keys,
      records: this.records
    };
  }
}
function createIndex(keys, docs, { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}) {
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys.map(createKey));
  myIndex.setSources(docs);
  myIndex.create();
  return myIndex;
}
function parseIndex(data, { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}) {
  const { keys, records } = data;
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys);
  myIndex.setIndexRecords(records);
  return myIndex;
}
function computeScore$1(pattern, {
  errors = 0,
  currentLocation = 0,
  expectedLocation = 0,
  distance = Config.distance,
  ignoreLocation = Config.ignoreLocation
} = {}) {
  const accuracy = errors / pattern.length;
  if (ignoreLocation) {
    return accuracy;
  }
  const proximity = Math.abs(expectedLocation - currentLocation);
  if (!distance) {
    return proximity ? 1 : accuracy;
  }
  return accuracy + proximity / distance;
}
function convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {
  let indices = [];
  let start = -1;
  let end = -1;
  let i2 = 0;
  for (let len = matchmask.length; i2 < len; i2 += 1) {
    let match = matchmask[i2];
    if (match && start === -1) {
      start = i2;
    } else if (!match && start !== -1) {
      end = i2 - 1;
      if (end - start + 1 >= minMatchCharLength) {
        indices.push([start, end]);
      }
      start = -1;
    }
  }
  if (matchmask[i2 - 1] && i2 - start >= minMatchCharLength) {
    indices.push([start, i2 - 1]);
  }
  return indices;
}
const MAX_BITS = 32;
function search(text, pattern, patternAlphabet, {
  location = Config.location,
  distance = Config.distance,
  threshold = Config.threshold,
  findAllMatches = Config.findAllMatches,
  minMatchCharLength = Config.minMatchCharLength,
  includeMatches = Config.includeMatches,
  ignoreLocation = Config.ignoreLocation
} = {}) {
  if (pattern.length > MAX_BITS) {
    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));
  }
  const patternLen = pattern.length;
  const textLen = text.length;
  const expectedLocation = Math.max(0, Math.min(location, textLen));
  let currentThreshold = threshold;
  let bestLocation = expectedLocation;
  const computeMatches = minMatchCharLength > 1 || includeMatches;
  const matchMask = computeMatches ? Array(textLen) : [];
  let index;
  while ((index = text.indexOf(pattern, bestLocation)) > -1) {
    let score = computeScore$1(pattern, {
      currentLocation: index,
      expectedLocation,
      distance,
      ignoreLocation
    });
    currentThreshold = Math.min(score, currentThreshold);
    bestLocation = index + patternLen;
    if (computeMatches) {
      let i2 = 0;
      while (i2 < patternLen) {
        matchMask[index + i2] = 1;
        i2 += 1;
      }
    }
  }
  bestLocation = -1;
  let lastBitArr = [];
  let finalScore = 1;
  let binMax = patternLen + textLen;
  const mask = 1 << patternLen - 1;
  for (let i2 = 0; i2 < patternLen; i2 += 1) {
    let binMin = 0;
    let binMid = binMax;
    while (binMin < binMid) {
      const score2 = computeScore$1(pattern, {
        errors: i2,
        currentLocation: expectedLocation + binMid,
        expectedLocation,
        distance,
        ignoreLocation
      });
      if (score2 <= currentThreshold) {
        binMin = binMid;
      } else {
        binMax = binMid;
      }
      binMid = Math.floor((binMax - binMin) / 2 + binMin);
    }
    binMax = binMid;
    let start = Math.max(1, expectedLocation - binMid + 1);
    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;
    let bitArr = Array(finish + 2);
    bitArr[finish + 1] = (1 << i2) - 1;
    for (let j2 = finish; j2 >= start; j2 -= 1) {
      let currentLocation = j2 - 1;
      let charMatch = patternAlphabet[text.charAt(currentLocation)];
      if (computeMatches) {
        matchMask[currentLocation] = +!!charMatch;
      }
      bitArr[j2] = (bitArr[j2 + 1] << 1 | 1) & charMatch;
      if (i2) {
        bitArr[j2] |= (lastBitArr[j2 + 1] | lastBitArr[j2]) << 1 | 1 | lastBitArr[j2 + 1];
      }
      if (bitArr[j2] & mask) {
        finalScore = computeScore$1(pattern, {
          errors: i2,
          currentLocation,
          expectedLocation,
          distance,
          ignoreLocation
        });
        if (finalScore <= currentThreshold) {
          currentThreshold = finalScore;
          bestLocation = currentLocation;
          if (bestLocation <= expectedLocation) {
            break;
          }
          start = Math.max(1, 2 * expectedLocation - bestLocation);
        }
      }
    }
    const score = computeScore$1(pattern, {
      errors: i2 + 1,
      currentLocation: expectedLocation,
      expectedLocation,
      distance,
      ignoreLocation
    });
    if (score > currentThreshold) {
      break;
    }
    lastBitArr = bitArr;
  }
  const result = {
    isMatch: bestLocation >= 0,
    score: Math.max(1e-3, finalScore)
  };
  if (computeMatches) {
    const indices = convertMaskToIndices(matchMask, minMatchCharLength);
    if (!indices.length) {
      result.isMatch = false;
    } else if (includeMatches) {
      result.indices = indices;
    }
  }
  return result;
}
function createPatternAlphabet(pattern) {
  let mask = {};
  for (let i2 = 0, len = pattern.length; i2 < len; i2 += 1) {
    const char = pattern.charAt(i2);
    mask[char] = (mask[char] || 0) | 1 << len - i2 - 1;
  }
  return mask;
}
class BitapSearch {
  constructor(pattern, {
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance,
    includeMatches = Config.includeMatches,
    findAllMatches = Config.findAllMatches,
    minMatchCharLength = Config.minMatchCharLength,
    isCaseSensitive = Config.isCaseSensitive,
    ignoreLocation = Config.ignoreLocation
  } = {}) {
    this.options = {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    };
    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
    this.chunks = [];
    if (!this.pattern.length) {
      return;
    }
    const addChunk = (pattern2, startIndex) => {
      this.chunks.push({
        pattern: pattern2,
        alphabet: createPatternAlphabet(pattern2),
        startIndex
      });
    };
    const len = this.pattern.length;
    if (len > MAX_BITS) {
      let i2 = 0;
      const remainder = len % MAX_BITS;
      const end = len - remainder;
      while (i2 < end) {
        addChunk(this.pattern.substr(i2, MAX_BITS), i2);
        i2 += MAX_BITS;
      }
      if (remainder) {
        const startIndex = len - MAX_BITS;
        addChunk(this.pattern.substr(startIndex), startIndex);
      }
    } else {
      addChunk(this.pattern, 0);
    }
  }
  searchIn(text) {
    const { isCaseSensitive, includeMatches } = this.options;
    if (!isCaseSensitive) {
      text = text.toLowerCase();
    }
    if (this.pattern === text) {
      let result2 = {
        isMatch: true,
        score: 0
      };
      if (includeMatches) {
        result2.indices = [[0, text.length - 1]];
      }
      return result2;
    }
    const {
      location,
      distance,
      threshold,
      findAllMatches,
      minMatchCharLength,
      ignoreLocation
    } = this.options;
    let allIndices = [];
    let totalScore = 0;
    let hasMatches = false;
    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {
      const { isMatch, score, indices } = search(text, pattern, alphabet, {
        location: location + startIndex,
        distance,
        threshold,
        findAllMatches,
        minMatchCharLength,
        includeMatches,
        ignoreLocation
      });
      if (isMatch) {
        hasMatches = true;
      }
      totalScore += score;
      if (isMatch && indices) {
        allIndices = [...allIndices, ...indices];
      }
    });
    let result = {
      isMatch: hasMatches,
      score: hasMatches ? totalScore / this.chunks.length : 1
    };
    if (hasMatches && includeMatches) {
      result.indices = allIndices;
    }
    return result;
  }
}
class BaseMatch {
  constructor(pattern) {
    this.pattern = pattern;
  }
  static isMultiMatch(pattern) {
    return getMatch(pattern, this.multiRegex);
  }
  static isSingleMatch(pattern) {
    return getMatch(pattern, this.singleRegex);
  }
  search() {
  }
}
function getMatch(pattern, exp) {
  const matches = pattern.match(exp);
  return matches ? matches[1] : null;
}
class ExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "exact";
  }
  static get multiRegex() {
    return /^="(.*)"$/;
  }
  static get singleRegex() {
    return /^=(.*)$/;
  }
  search(text) {
    const isMatch = text === this.pattern;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    };
  }
}
class InverseExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-exact";
  }
  static get multiRegex() {
    return /^!"(.*)"$/;
  }
  static get singleRegex() {
    return /^!(.*)$/;
  }
  search(text) {
    const index = text.indexOf(this.pattern);
    const isMatch = index === -1;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
}
class PrefixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "prefix-exact";
  }
  static get multiRegex() {
    return /^\^"(.*)"$/;
  }
  static get singleRegex() {
    return /^\^(.*)$/;
  }
  search(text) {
    const isMatch = text.startsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    };
  }
}
class InversePrefixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-prefix-exact";
  }
  static get multiRegex() {
    return /^!\^"(.*)"$/;
  }
  static get singleRegex() {
    return /^!\^(.*)$/;
  }
  search(text) {
    const isMatch = !text.startsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
}
class SuffixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "suffix-exact";
  }
  static get multiRegex() {
    return /^"(.*)"\$$/;
  }
  static get singleRegex() {
    return /^(.*)\$$/;
  }
  search(text) {
    const isMatch = text.endsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [text.length - this.pattern.length, text.length - 1]
    };
  }
}
class InverseSuffixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "inverse-suffix-exact";
  }
  static get multiRegex() {
    return /^!"(.*)"\$$/;
  }
  static get singleRegex() {
    return /^!(.*)\$$/;
  }
  search(text) {
    const isMatch = !text.endsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    };
  }
}
class FuzzyMatch extends BaseMatch {
  constructor(pattern, {
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance,
    includeMatches = Config.includeMatches,
    findAllMatches = Config.findAllMatches,
    minMatchCharLength = Config.minMatchCharLength,
    isCaseSensitive = Config.isCaseSensitive,
    ignoreLocation = Config.ignoreLocation
  } = {}) {
    super(pattern);
    this._bitapSearch = new BitapSearch(pattern, {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    });
  }
  static get type() {
    return "fuzzy";
  }
  static get multiRegex() {
    return /^"(.*)"$/;
  }
  static get singleRegex() {
    return /^(.*)$/;
  }
  search(text) {
    return this._bitapSearch.searchIn(text);
  }
}
class IncludeMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return "include";
  }
  static get multiRegex() {
    return /^'"(.*)"$/;
  }
  static get singleRegex() {
    return /^'(.*)$/;
  }
  search(text) {
    let location = 0;
    let index;
    const indices = [];
    const patternLen = this.pattern.length;
    while ((index = text.indexOf(this.pattern, location)) > -1) {
      location = index + patternLen;
      indices.push([index, location - 1]);
    }
    const isMatch = !!indices.length;
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices
    };
  }
}
const searchers = [
  ExactMatch,
  IncludeMatch,
  PrefixExactMatch,
  InversePrefixExactMatch,
  InverseSuffixExactMatch,
  SuffixExactMatch,
  InverseExactMatch,
  FuzzyMatch
];
const searchersLen = searchers.length;
const SPACE_RE = / +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;
const OR_TOKEN = "|";
function parseQuery(pattern, options = {}) {
  return pattern.split(OR_TOKEN).map((item) => {
    let query = item.trim().split(SPACE_RE).filter((item2) => item2 && !!item2.trim());
    let results = [];
    for (let i2 = 0, len = query.length; i2 < len; i2 += 1) {
      const queryItem = query[i2];
      let found = false;
      let idx = -1;
      while (!found && ++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isMultiMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          found = true;
        }
      }
      if (found) {
        continue;
      }
      idx = -1;
      while (++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isSingleMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          break;
        }
      }
    }
    return results;
  });
}
const MultiMatchSet = /* @__PURE__ */ new Set([FuzzyMatch.type, IncludeMatch.type]);
class ExtendedSearch {
  constructor(pattern, {
    isCaseSensitive = Config.isCaseSensitive,
    includeMatches = Config.includeMatches,
    minMatchCharLength = Config.minMatchCharLength,
    ignoreLocation = Config.ignoreLocation,
    findAllMatches = Config.findAllMatches,
    location = Config.location,
    threshold = Config.threshold,
    distance = Config.distance
  } = {}) {
    this.query = null;
    this.options = {
      isCaseSensitive,
      includeMatches,
      minMatchCharLength,
      findAllMatches,
      ignoreLocation,
      location,
      threshold,
      distance
    };
    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
    this.query = parseQuery(this.pattern, this.options);
  }
  static condition(_2, options) {
    return options.useExtendedSearch;
  }
  searchIn(text) {
    const query = this.query;
    if (!query) {
      return {
        isMatch: false,
        score: 1
      };
    }
    const { includeMatches, isCaseSensitive } = this.options;
    text = isCaseSensitive ? text : text.toLowerCase();
    let numMatches = 0;
    let allIndices = [];
    let totalScore = 0;
    for (let i2 = 0, qLen = query.length; i2 < qLen; i2 += 1) {
      const searchers2 = query[i2];
      allIndices.length = 0;
      numMatches = 0;
      for (let j2 = 0, pLen = searchers2.length; j2 < pLen; j2 += 1) {
        const searcher = searchers2[j2];
        const { isMatch, indices, score } = searcher.search(text);
        if (isMatch) {
          numMatches += 1;
          totalScore += score;
          if (includeMatches) {
            const type = searcher.constructor.type;
            if (MultiMatchSet.has(type)) {
              allIndices = [...allIndices, ...indices];
            } else {
              allIndices.push(indices);
            }
          }
        } else {
          totalScore = 0;
          numMatches = 0;
          allIndices.length = 0;
          break;
        }
      }
      if (numMatches) {
        let result = {
          isMatch: true,
          score: totalScore / numMatches
        };
        if (includeMatches) {
          result.indices = allIndices;
        }
        return result;
      }
    }
    return {
      isMatch: false,
      score: 1
    };
  }
}
const registeredSearchers = [];
function register(...args) {
  registeredSearchers.push(...args);
}
function createSearcher(pattern, options) {
  for (let i2 = 0, len = registeredSearchers.length; i2 < len; i2 += 1) {
    let searcherClass = registeredSearchers[i2];
    if (searcherClass.condition(pattern, options)) {
      return new searcherClass(pattern, options);
    }
  }
  return new BitapSearch(pattern, options);
}
const LogicalOperator = {
  AND: "$and",
  OR: "$or"
};
const KeyType = {
  PATH: "$path",
  PATTERN: "$val"
};
const isExpression$1 = (query) => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);
const isPath = (query) => !!query[KeyType.PATH];
const isLeaf = (query) => !isArray$1(query) && isObject$1(query) && !isExpression$1(query);
const convertToExplicit = (query) => ({
  [LogicalOperator.AND]: Object.keys(query).map((key) => ({
    [key]: query[key]
  }))
});
function parse(query, options, { auto = true } = {}) {
  const next = (query2) => {
    let keys = Object.keys(query2);
    const isQueryPath = isPath(query2);
    if (!isQueryPath && keys.length > 1 && !isExpression$1(query2)) {
      return next(convertToExplicit(query2));
    }
    if (isLeaf(query2)) {
      const key = isQueryPath ? query2[KeyType.PATH] : keys[0];
      const pattern = isQueryPath ? query2[KeyType.PATTERN] : query2[key];
      if (!isString$1(pattern)) {
        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));
      }
      const obj = {
        keyId: createKeyId(key),
        pattern
      };
      if (auto) {
        obj.searcher = createSearcher(pattern, options);
      }
      return obj;
    }
    let node = {
      children: [],
      operator: keys[0]
    };
    keys.forEach((key) => {
      const value = query2[key];
      if (isArray$1(value)) {
        value.forEach((item) => {
          node.children.push(next(item));
        });
      }
    });
    return node;
  };
  if (!isExpression$1(query)) {
    query = convertToExplicit(query);
  }
  return next(query);
}
function computeScore(results, { ignoreFieldNorm = Config.ignoreFieldNorm }) {
  results.forEach((result) => {
    let totalScore = 1;
    result.matches.forEach(({ key, norm: norm2, score }) => {
      const weight = key ? key.weight : null;
      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm2));
    });
    result.score = totalScore;
  });
}
function transformMatches(result, data) {
  const matches = result.matches;
  data.matches = [];
  if (!isDefined(matches)) {
    return;
  }
  matches.forEach((match) => {
    if (!isDefined(match.indices) || !match.indices.length) {
      return;
    }
    const { indices, value } = match;
    let obj = {
      indices,
      value
    };
    if (match.key) {
      obj.key = match.key.src;
    }
    if (match.idx > -1) {
      obj.refIndex = match.idx;
    }
    data.matches.push(obj);
  });
}
function transformScore(result, data) {
  data.score = result.score;
}
function format(results, docs, {
  includeMatches = Config.includeMatches,
  includeScore = Config.includeScore
} = {}) {
  const transformers = [];
  if (includeMatches)
    transformers.push(transformMatches);
  if (includeScore)
    transformers.push(transformScore);
  return results.map((result) => {
    const { idx } = result;
    const data = {
      item: docs[idx],
      refIndex: idx
    };
    if (transformers.length) {
      transformers.forEach((transformer) => {
        transformer(result, data);
      });
    }
    return data;
  });
}
class Fuse {
  constructor(docs, options = {}, index) {
    this.options = { ...Config, ...options };
    if (this.options.useExtendedSearch && false) {
      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);
    }
    this._keyStore = new KeyStore(this.options.keys);
    this.setCollection(docs, index);
  }
  setCollection(docs, index) {
    this._docs = docs;
    if (index && !(index instanceof FuseIndex)) {
      throw new Error(INCORRECT_INDEX_TYPE);
    }
    this._myIndex = index || createIndex(this.options.keys, this._docs, {
      getFn: this.options.getFn,
      fieldNormWeight: this.options.fieldNormWeight
    });
  }
  add(doc) {
    if (!isDefined(doc)) {
      return;
    }
    this._docs.push(doc);
    this._myIndex.add(doc);
  }
  remove(predicate = () => false) {
    const results = [];
    for (let i2 = 0, len = this._docs.length; i2 < len; i2 += 1) {
      const doc = this._docs[i2];
      if (predicate(doc, i2)) {
        this.removeAt(i2);
        i2 -= 1;
        len -= 1;
        results.push(doc);
      }
    }
    return results;
  }
  removeAt(idx) {
    this._docs.splice(idx, 1);
    this._myIndex.removeAt(idx);
  }
  getIndex() {
    return this._myIndex;
  }
  search(query, { limit = -1 } = {}) {
    const {
      includeMatches,
      includeScore,
      shouldSort,
      sortFn,
      ignoreFieldNorm
    } = this.options;
    let results = isString$1(query) ? isString$1(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);
    computeScore(results, { ignoreFieldNorm });
    if (shouldSort) {
      results.sort(sortFn);
    }
    if (isNumber(limit) && limit > -1) {
      results = results.slice(0, limit);
    }
    return format(results, this._docs, {
      includeMatches,
      includeScore
    });
  }
  _searchStringList(query) {
    const searcher = createSearcher(query, this.options);
    const { records } = this._myIndex;
    const results = [];
    records.forEach(({ v: text, i: idx, n: norm2 }) => {
      if (!isDefined(text)) {
        return;
      }
      const { isMatch, score, indices } = searcher.searchIn(text);
      if (isMatch) {
        results.push({
          item: text,
          idx,
          matches: [{ score, value: text, norm: norm2, indices }]
        });
      }
    });
    return results;
  }
  _searchLogical(query) {
    const expression = parse(query, this.options);
    const evaluate = (node, item, idx) => {
      if (!node.children) {
        const { keyId, searcher } = node;
        const matches = this._findMatches({
          key: this._keyStore.get(keyId),
          value: this._myIndex.getValueForItemAtKeyId(item, keyId),
          searcher
        });
        if (matches && matches.length) {
          return [
            {
              idx,
              item,
              matches
            }
          ];
        }
        return [];
      }
      const res = [];
      for (let i2 = 0, len = node.children.length; i2 < len; i2 += 1) {
        const child = node.children[i2];
        const result = evaluate(child, item, idx);
        if (result.length) {
          res.push(...result);
        } else if (node.operator === LogicalOperator.AND) {
          return [];
        }
      }
      return res;
    };
    const records = this._myIndex.records;
    const resultMap = {};
    const results = [];
    records.forEach(({ $: item, i: idx }) => {
      if (isDefined(item)) {
        let expResults = evaluate(expression, item, idx);
        if (expResults.length) {
          if (!resultMap[idx]) {
            resultMap[idx] = { idx, item, matches: [] };
            results.push(resultMap[idx]);
          }
          expResults.forEach(({ matches }) => {
            resultMap[idx].matches.push(...matches);
          });
        }
      }
    });
    return results;
  }
  _searchObjectList(query) {
    const searcher = createSearcher(query, this.options);
    const { keys, records } = this._myIndex;
    const results = [];
    records.forEach(({ $: item, i: idx }) => {
      if (!isDefined(item)) {
        return;
      }
      let matches = [];
      keys.forEach((key, keyIndex) => {
        matches.push(...this._findMatches({
          key,
          value: item[keyIndex],
          searcher
        }));
      });
      if (matches.length) {
        results.push({
          idx,
          item,
          matches
        });
      }
    });
    return results;
  }
  _findMatches({ key, value, searcher }) {
    if (!isDefined(value)) {
      return [];
    }
    let matches = [];
    if (isArray$1(value)) {
      value.forEach(({ v: text, i: idx, n: norm2 }) => {
        if (!isDefined(text)) {
          return;
        }
        const { isMatch, score, indices } = searcher.searchIn(text);
        if (isMatch) {
          matches.push({
            score,
            key,
            value: text,
            idx,
            norm: norm2,
            indices
          });
        }
      });
    } else {
      const { v: text, n: norm2 } = value;
      const { isMatch, score, indices } = searcher.searchIn(text);
      if (isMatch) {
        matches.push({ score, key, value: text, norm: norm2, indices });
      }
    }
    return matches;
  }
}
Fuse.version = "6.6.2";
Fuse.createIndex = createIndex;
Fuse.parseIndex = parseIndex;
Fuse.config = Config;
{
  Fuse.parseQuery = parse;
}
{
  register(ExtendedSearch);
}
var e, t, n, r, i, o, a, s, u, c, l, f, h$2, d, v, p$1, m, g, y, b, w, k, j, x, S, C, _, $, O, P, A, E, M, T, I, N, R, D, L, z, B, q, F, V, H, W, U, J, K, G, Q, Y, Z, X, ee, te, ne, re, ie, oe, ae, se, ue, ce, le, fe, he, de, ve, pe, me, ge, ye, be, we, ke, je, xe, Se, Ce, _e, $e, Oe, Pe, Ae, Ee, Me, Te, Ie, Ne, Re, De, Le, ze, Be, qe, Fe, Ve, He, We, Ue, Je, Ke, Ge, Qe, Ye, Ze, Xe, et, tt, nt, rt, it, ot, at, st, ut, ct, lt, ft, ht, dt, vt, pt, mt, gt, yt, bt, wt, kt, jt, xt, St, Ct, _t, $t, Ot, Pt, At, Et, Mt, Tt, It, Nt, Rt, Dt, Lt, zt, Bt, qt, Ft, Vt, Ht, Wt, Ut, Jt, Kt, Gt, Qt, Yt, Zt, Xt, en, tn, nn, rn, on$1, an, sn, un, cn, ln, fn, hn, dn, vn, pn, mn, gn, yn, bn, wn, kn, jn, xn, Sn, Cn, _n, $n, On, Pn, An, En, Mn, Tn, In, Nn, Rn, Dn, Ln, zn, Bn, qn, Fn, Vn, Hn, Wn, Un, Jn, Kn, Gn, Qn, Yn, Zn, Xn, er, tr, nr, rr, ir, or, ar, sr, ur, cr, lr, fr, hr, dr, vr, pr, mr, gr, yr, br, wr, kr, jr, xr, Sr, Cr, _r, $r, Or, Pr, Ar, Er, Mr, Tr, Ir, Nr, Rr, Dr, Lr, zr, Br, qr, Fr, Vr, Hr, Wr, Ur, Jr, Kr, Gr, Qr, Yr, Zr, Xr, ei, ti, ni, ri, ii, oi, ai, si, ui, ci, li, fi, hi;
function di(e20) {
  var t2 = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
  return (di = function(e21) {
    if (e21 === null || (n2 = e21, Function.toString.call(n2).indexOf("[native code]") === -1))
      return e21;
    var n2;
    if (typeof e21 != "function")
      throw new TypeError("Super expression must either be null or a function");
    if (t2 !== void 0) {
      if (t2.has(e21))
        return t2.get(e21);
      t2.set(e21, r2);
    }
    function r2() {
      return vi(e21, arguments, Pi(this).constructor);
    }
    return r2.prototype = Object.create(e21.prototype, { constructor: { value: r2, enumerable: false, writable: true, configurable: true } }), Si(r2, e21);
  })(e20);
}
function vi(e20, t2, n2) {
  return (vi = Oi() ? Reflect.construct.bind() : function(e21, t3, n3) {
    var r2 = [null];
    r2.push.apply(r2, t3);
    var i2 = new (Function.bind.apply(e21, r2))();
    return n3 && Si(i2, n3.prototype), i2;
  }).apply(null, arguments);
}
function pi(e20, t2) {
  return t2 || (t2 = e20.slice(0)), Object.freeze(Object.defineProperties(e20, { raw: { value: Object.freeze(t2) } }));
}
function mi() {
  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  mi = function() {
    return e20;
  };
  var e20 = {}, t2 = Object.prototype, n2 = t2.hasOwnProperty, r2 = typeof Symbol == "function" ? Symbol : {}, i2 = r2.iterator || "@@iterator", o2 = r2.asyncIterator || "@@asyncIterator", a2 = r2.toStringTag || "@@toStringTag";
  function s2(e21, t3, n3) {
    return Object.defineProperty(e21, t3, { value: n3, enumerable: true, configurable: true, writable: true }), e21[t3];
  }
  try {
    s2({}, "");
  } catch (e21) {
    s2 = function(e22, t3, n3) {
      return e22[t3] = n3;
    };
  }
  function u2(e21, t3, n3, r3) {
    var i3 = t3 && t3.prototype instanceof f2 ? t3 : f2, o3 = Object.create(i3.prototype), a3 = new x2(r3 || []);
    return o3._invoke = function(e22, t4, n4) {
      var r4 = "suspendedStart";
      return function(i4, o4) {
        if (r4 === "executing")
          throw new Error("Generator is already running");
        if (r4 === "completed") {
          if (i4 === "throw")
            throw o4;
          return C2();
        }
        for (n4.method = i4, n4.arg = o4; ; ) {
          var a4 = n4.delegate;
          if (a4) {
            var s3 = w2(a4, n4);
            if (s3) {
              if (s3 === l2)
                continue;
              return s3;
            }
          }
          if (n4.method === "next")
            n4.sent = n4._sent = n4.arg;
          else if (n4.method === "throw") {
            if (r4 === "suspendedStart")
              throw r4 = "completed", n4.arg;
            n4.dispatchException(n4.arg);
          } else
            n4.method === "return" && n4.abrupt("return", n4.arg);
          r4 = "executing";
          var u3 = c2(e22, t4, n4);
          if (u3.type === "normal") {
            if (r4 = n4.done ? "completed" : "suspendedYield", u3.arg === l2)
              continue;
            return { value: u3.arg, done: n4.done };
          }
          u3.type === "throw" && (r4 = "completed", n4.method = "throw", n4.arg = u3.arg);
        }
      };
    }(e21, n3, a3), o3;
  }
  function c2(e21, t3, n3) {
    try {
      return { type: "normal", arg: e21.call(t3, n3) };
    } catch (e22) {
      return { type: "throw", arg: e22 };
    }
  }
  e20.wrap = u2;
  var l2 = {};
  function f2() {
  }
  function h2() {
  }
  function d2() {
  }
  var v2 = {};
  s2(v2, i2, function() {
    return this;
  });
  var p2 = Object.getPrototypeOf, m2 = p2 && p2(p2(S2([])));
  m2 && m2 !== t2 && n2.call(m2, i2) && (v2 = m2);
  var g2 = d2.prototype = f2.prototype = Object.create(v2);
  function y2(e21) {
    ["next", "throw", "return"].forEach(function(t3) {
      s2(e21, t3, function(e22) {
        return this._invoke(t3, e22);
      });
    });
  }
  function b2(e21, t3) {
    function r3(i4, o3, a3, s3) {
      var u3 = c2(e21[i4], e21, o3);
      if (u3.type !== "throw") {
        var l3 = u3.arg, f3 = l3.value;
        return f3 && zi(f3) == "object" && n2.call(f3, "__await") ? t3.resolve(f3.__await).then(function(e22) {
          r3("next", e22, a3, s3);
        }, function(e22) {
          r3("throw", e22, a3, s3);
        }) : t3.resolve(f3).then(function(e22) {
          l3.value = e22, a3(l3);
        }, function(e22) {
          return r3("throw", e22, a3, s3);
        });
      }
      s3(u3.arg);
    }
    var i3;
    this._invoke = function(e22, n3) {
      function o3() {
        return new t3(function(t4, i4) {
          r3(e22, n3, t4, i4);
        });
      }
      return i3 = i3 ? i3.then(o3, o3) : o3();
    };
  }
  function w2(e21, t3) {
    var n3 = e21.iterator[t3.method];
    if (n3 === void 0) {
      if (t3.delegate = null, t3.method === "throw") {
        if (e21.iterator.return && (t3.method = "return", t3.arg = void 0, w2(e21, t3), t3.method === "throw"))
          return l2;
        t3.method = "throw", t3.arg = new TypeError("The iterator does not provide a 'throw' method");
      }
      return l2;
    }
    var r3 = c2(n3, e21.iterator, t3.arg);
    if (r3.type === "throw")
      return t3.method = "throw", t3.arg = r3.arg, t3.delegate = null, l2;
    var i3 = r3.arg;
    return i3 ? i3.done ? (t3[e21.resultName] = i3.value, t3.next = e21.nextLoc, t3.method !== "return" && (t3.method = "next", t3.arg = void 0), t3.delegate = null, l2) : i3 : (t3.method = "throw", t3.arg = new TypeError("iterator result is not an object"), t3.delegate = null, l2);
  }
  function k2(e21) {
    var t3 = { tryLoc: e21[0] };
    1 in e21 && (t3.catchLoc = e21[1]), 2 in e21 && (t3.finallyLoc = e21[2], t3.afterLoc = e21[3]), this.tryEntries.push(t3);
  }
  function j2(e21) {
    var t3 = e21.completion || {};
    t3.type = "normal", delete t3.arg, e21.completion = t3;
  }
  function x2(e21) {
    this.tryEntries = [{ tryLoc: "root" }], e21.forEach(k2, this), this.reset(true);
  }
  function S2(e21) {
    if (e21) {
      var t3 = e21[i2];
      if (t3)
        return t3.call(e21);
      if (typeof e21.next == "function")
        return e21;
      if (!isNaN(e21.length)) {
        var r3 = -1, o3 = function t4() {
          for (; ++r3 < e21.length; )
            if (n2.call(e21, r3))
              return t4.value = e21[r3], t4.done = false, t4;
          return t4.value = void 0, t4.done = true, t4;
        };
        return o3.next = o3;
      }
    }
    return { next: C2 };
  }
  function C2() {
    return { value: void 0, done: true };
  }
  return h2.prototype = d2, s2(g2, "constructor", d2), s2(d2, "constructor", h2), h2.displayName = s2(d2, a2, "GeneratorFunction"), e20.isGeneratorFunction = function(e21) {
    var t3 = typeof e21 == "function" && e21.constructor;
    return !!t3 && (t3 === h2 || (t3.displayName || t3.name) === "GeneratorFunction");
  }, e20.mark = function(e21) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(e21, d2) : (e21.__proto__ = d2, s2(e21, a2, "GeneratorFunction")), e21.prototype = Object.create(g2), e21;
  }, e20.awrap = function(e21) {
    return { __await: e21 };
  }, y2(b2.prototype), s2(b2.prototype, o2, function() {
    return this;
  }), e20.AsyncIterator = b2, e20.async = function(t3, n3, r3, i3, o3) {
    o3 === void 0 && (o3 = Promise);
    var a3 = new b2(u2(t3, n3, r3, i3), o3);
    return e20.isGeneratorFunction(n3) ? a3 : a3.next().then(function(e21) {
      return e21.done ? e21.value : a3.next();
    });
  }, y2(g2), s2(g2, a2, "Generator"), s2(g2, i2, function() {
    return this;
  }), s2(g2, "toString", function() {
    return "[object Generator]";
  }), e20.keys = function(e21) {
    var t3 = [];
    for (var n3 in e21)
      t3.push(n3);
    return t3.reverse(), function n4() {
      for (; t3.length; ) {
        var r3 = t3.pop();
        if (r3 in e21)
          return n4.value = r3, n4.done = false, n4;
      }
      return n4.done = true, n4;
    };
  }, e20.values = S2, x2.prototype = { constructor: x2, reset: function(e21) {
    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(j2), !e21)
      for (var t3 in this)
        t3.charAt(0) === "t" && n2.call(this, t3) && !isNaN(+t3.slice(1)) && (this[t3] = void 0);
  }, stop: function() {
    this.done = true;
    var e21 = this.tryEntries[0].completion;
    if (e21.type === "throw")
      throw e21.arg;
    return this.rval;
  }, dispatchException: function(e21) {
    if (this.done)
      throw e21;
    var t3 = this;
    function r3(n3, r4) {
      return a3.type = "throw", a3.arg = e21, t3.next = n3, r4 && (t3.method = "next", t3.arg = void 0), !!r4;
    }
    for (var i3 = this.tryEntries.length - 1; i3 >= 0; --i3) {
      var o3 = this.tryEntries[i3], a3 = o3.completion;
      if (o3.tryLoc === "root")
        return r3("end");
      if (o3.tryLoc <= this.prev) {
        var s3 = n2.call(o3, "catchLoc"), u3 = n2.call(o3, "finallyLoc");
        if (s3 && u3) {
          if (this.prev < o3.catchLoc)
            return r3(o3.catchLoc, true);
          if (this.prev < o3.finallyLoc)
            return r3(o3.finallyLoc);
        } else if (s3) {
          if (this.prev < o3.catchLoc)
            return r3(o3.catchLoc, true);
        } else {
          if (!u3)
            throw new Error("try statement without catch or finally");
          if (this.prev < o3.finallyLoc)
            return r3(o3.finallyLoc);
        }
      }
    }
  }, abrupt: function(e21, t3) {
    for (var r3 = this.tryEntries.length - 1; r3 >= 0; --r3) {
      var i3 = this.tryEntries[r3];
      if (i3.tryLoc <= this.prev && n2.call(i3, "finallyLoc") && this.prev < i3.finallyLoc) {
        var o3 = i3;
        break;
      }
    }
    o3 && (e21 === "break" || e21 === "continue") && o3.tryLoc <= t3 && t3 <= o3.finallyLoc && (o3 = null);
    var a3 = o3 ? o3.completion : {};
    return a3.type = e21, a3.arg = t3, o3 ? (this.method = "next", this.next = o3.finallyLoc, l2) : this.complete(a3);
  }, complete: function(e21, t3) {
    if (e21.type === "throw")
      throw e21.arg;
    return e21.type === "break" || e21.type === "continue" ? this.next = e21.arg : e21.type === "return" ? (this.rval = this.arg = e21.arg, this.method = "return", this.next = "end") : e21.type === "normal" && t3 && (this.next = t3), l2;
  }, finish: function(e21) {
    for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
      var n3 = this.tryEntries[t3];
      if (n3.finallyLoc === e21)
        return this.complete(n3.completion, n3.afterLoc), j2(n3), l2;
    }
  }, catch: function(e21) {
    for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
      var n3 = this.tryEntries[t3];
      if (n3.tryLoc === e21) {
        var r3 = n3.completion;
        if (r3.type === "throw") {
          var i3 = r3.arg;
          j2(n3);
        }
        return i3;
      }
    }
    throw new Error("illegal catch attempt");
  }, delegateYield: function(e21, t3, n3) {
    return this.delegate = { iterator: S2(e21), resultName: t3, nextLoc: n3 }, this.method === "next" && (this.arg = void 0), l2;
  } }, e20;
}
function gi(e20, t2, n2, r2, i2, o2, a2) {
  try {
    var s2 = e20[o2](a2), u2 = s2.value;
  } catch (e21) {
    return void n2(e21);
  }
  s2.done ? t2(u2) : Promise.resolve(u2).then(r2, i2);
}
function yi(e20) {
  return function() {
    var t2 = this, n2 = arguments;
    return new Promise(function(r2, i2) {
      var o2 = e20.apply(t2, n2);
      function a2(e21) {
        gi(o2, r2, i2, a2, s2, "next", e21);
      }
      function s2(e21) {
        gi(o2, r2, i2, a2, s2, "throw", e21);
      }
      a2(void 0);
    });
  };
}
function bi(e20, t2) {
  var n2 = typeof Symbol != "undefined" && e20[Symbol.iterator] || e20["@@iterator"];
  if (!n2) {
    if (Array.isArray(e20) || (n2 = Ii(e20)) || t2 && e20 && typeof e20.length == "number") {
      n2 && (e20 = n2);
      var r2 = 0, i2 = function() {
      };
      return { s: i2, n: function() {
        return r2 >= e20.length ? { done: true } : { done: false, value: e20[r2++] };
      }, e: function(e21) {
        throw e21;
      }, f: i2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var o2, a2 = true, s2 = false;
  return { s: function() {
    n2 = n2.call(e20);
  }, n: function() {
    var e21 = n2.next();
    return a2 = e21.done, e21;
  }, e: function(e21) {
    s2 = true, o2 = e21;
  }, f: function() {
    try {
      a2 || n2.return == null || n2.return();
    } finally {
      if (s2)
        throw o2;
    }
  } };
}
function wi() {
  return (wi = typeof Reflect != "undefined" && Reflect.get ? Reflect.get.bind() : function(e20, t2, n2) {
    var r2 = ki(e20, t2);
    if (r2) {
      var i2 = Object.getOwnPropertyDescriptor(r2, t2);
      return i2.get ? i2.get.call(arguments.length < 3 ? e20 : n2) : i2.value;
    }
  }).apply(this, arguments);
}
function ki(e20, t2) {
  for (; !Object.prototype.hasOwnProperty.call(e20, t2) && (e20 = Pi(e20)) !== null; )
    ;
  return e20;
}
function ji(e20, t2) {
  return function(e21) {
    if (Array.isArray(e21))
      return e21;
  }(e20) || function(e21, t3) {
    var n2 = e21 == null ? null : typeof Symbol != "undefined" && e21[Symbol.iterator] || e21["@@iterator"];
    if (n2 == null)
      return;
    var r2, i2, o2 = [], a2 = true, s2 = false;
    try {
      for (n2 = n2.call(e21); !(a2 = (r2 = n2.next()).done) && (o2.push(r2.value), !t3 || o2.length !== t3); a2 = true)
        ;
    } catch (e22) {
      s2 = true, i2 = e22;
    } finally {
      try {
        a2 || n2.return == null || n2.return();
      } finally {
        if (s2)
          throw i2;
      }
    }
    return o2;
  }(e20, t2) || Ii(e20, t2) || function() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function xi(e20, t2) {
  if (typeof t2 != "function" && t2 !== null)
    throw new TypeError("Super expression must either be null or a function");
  e20.prototype = Object.create(t2 && t2.prototype, { constructor: { value: e20, writable: true, configurable: true } }), Object.defineProperty(e20, "prototype", { writable: false }), t2 && Si(e20, t2);
}
function Si(e20, t2) {
  return (Si = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e21, t3) {
    return e21.__proto__ = t3, e21;
  })(e20, t2);
}
function Ci(e20) {
  var t2 = Oi();
  return function() {
    var n2, r2 = Pi(e20);
    if (t2) {
      var i2 = Pi(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return _i(this, n2);
  };
}
function _i(e20, t2) {
  if (t2 && (zi(t2) === "object" || typeof t2 == "function"))
    return t2;
  if (t2 !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return $i(e20);
}
function $i(e20) {
  if (e20 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e20;
}
function Oi() {
  if (typeof Reflect == "undefined" || !Reflect.construct)
    return false;
  if (Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch (e20) {
    return false;
  }
}
function Pi(e20) {
  return (Pi = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e21) {
    return e21.__proto__ || Object.getPrototypeOf(e21);
  })(e20);
}
function Ai(e20, t2) {
  var n2 = Object.keys(e20);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e20);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e20, t3).enumerable;
    })), n2.push.apply(n2, r2);
  }
  return n2;
}
function Ei(e20) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var n2 = arguments[t2] != null ? arguments[t2] : {};
    t2 % 2 ? Ai(Object(n2), true).forEach(function(t3) {
      Mi(e20, t3, n2[t3]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e20, Object.getOwnPropertyDescriptors(n2)) : Ai(Object(n2)).forEach(function(t3) {
      Object.defineProperty(e20, t3, Object.getOwnPropertyDescriptor(n2, t3));
    });
  }
  return e20;
}
function Mi(e20, t2, n2) {
  return t2 in e20 ? Object.defineProperty(e20, t2, { value: n2, enumerable: true, configurable: true, writable: true }) : e20[t2] = n2, e20;
}
function Ti(e20) {
  return function(e21) {
    if (Array.isArray(e21))
      return Ni(e21);
  }(e20) || function(e21) {
    if (typeof Symbol != "undefined" && e21[Symbol.iterator] != null || e21["@@iterator"] != null)
      return Array.from(e21);
  }(e20) || Ii(e20) || function() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function Ii(e20, t2) {
  if (e20) {
    if (typeof e20 == "string")
      return Ni(e20, t2);
    var n2 = Object.prototype.toString.call(e20).slice(8, -1);
    return n2 === "Object" && e20.constructor && (n2 = e20.constructor.name), n2 === "Map" || n2 === "Set" ? Array.from(e20) : n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? Ni(e20, t2) : void 0;
  }
}
function Ni(e20, t2) {
  (t2 == null || t2 > e20.length) && (t2 = e20.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e20[n2];
  return r2;
}
function Ri(e20, t2) {
  if (!(e20 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}
function Di(e20, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var r2 = t2[n2];
    r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e20, r2.key, r2);
  }
}
function Li(e20, t2, n2) {
  return t2 && Di(e20.prototype, t2), n2 && Di(e20, n2), Object.defineProperty(e20, "prototype", { writable: false }), e20;
}
function zi(e20) {
  return (zi = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e21) {
    return typeof e21;
  } : function(e21) {
    return e21 && typeof Symbol == "function" && e21.constructor === Symbol && e21 !== Symbol.prototype ? "symbol" : typeof e21;
  })(e20);
}
function Bi() {
}
var qi = function(e20) {
  return e20;
};
function Fi(e20, t2) {
  for (var n2 in t2)
    e20[n2] = t2[n2];
  return e20;
}
function Vi(e20) {
  return e20();
}
function Hi() {
  return /* @__PURE__ */ Object.create(null);
}
function Wi(e20) {
  e20.forEach(Vi);
}
function Ui(e20) {
  return typeof e20 == "function";
}
function Ji(e20, t2) {
  return e20 != e20 ? t2 == t2 : e20 !== t2 || e20 && zi(e20) === "object" || typeof e20 == "function";
}
function Ki(e20, t2) {
  return e20 != e20 ? t2 == t2 : e20 !== t2;
}
function Gi(e20, t2, n2, r2) {
  if (e20) {
    var i2 = Qi(e20, t2, n2, r2);
    return e20[0](i2);
  }
}
function Qi(e20, t2, n2, r2) {
  return e20[1] && r2 ? Fi(n2.ctx.slice(), e20[1](r2(t2))) : n2.ctx;
}
function Yi(e20, t2, n2, r2) {
  if (e20[2] && r2) {
    var i2 = e20[2](r2(n2));
    if (t2.dirty === void 0)
      return i2;
    if (zi(i2) === "object") {
      for (var o2 = [], a2 = Math.max(t2.dirty.length, i2.length), s2 = 0; s2 < a2; s2 += 1)
        o2[s2] = t2.dirty[s2] | i2[s2];
      return o2;
    }
    return t2.dirty | i2;
  }
  return t2.dirty;
}
function Zi(e20, t2, n2, r2, i2, o2) {
  if (i2) {
    var a2 = Qi(t2, n2, r2, o2);
    e20.p(a2, i2);
  }
}
function Xi(e20) {
  if (e20.ctx.length > 32) {
    for (var t2 = [], n2 = e20.ctx.length / 32, r2 = 0; r2 < n2; r2++)
      t2[r2] = -1;
    return t2;
  }
  return -1;
}
function eo(e20) {
  return e20 == null ? "" : e20;
}
function to(e20) {
  return e20 && Ui(e20.destroy) ? e20.destroy : Bi;
}
var no, ro = typeof window != "undefined", io = ro ? function() {
  return window.performance.now();
} : function() {
  return Date.now();
}, oo = ro ? function(e20) {
  return requestAnimationFrame(e20);
} : Bi, ao = /* @__PURE__ */ new Set();
function so(e20) {
  ao.forEach(function(t2) {
    t2.c(e20) || (ao.delete(t2), t2.f());
  }), ao.size !== 0 && oo(so);
}
function uo(e20, t2) {
  e20.appendChild(t2);
}
function co(e20, t2, n2) {
  var r2 = lo(e20);
  if (!r2.getElementById(t2)) {
    var i2 = go("style");
    i2.id = t2, i2.textContent = n2, ho(r2, i2);
  }
}
function lo(e20) {
  if (!e20)
    return document;
  var t2 = e20.getRootNode ? e20.getRootNode() : e20.ownerDocument;
  return t2 && t2.host ? t2 : e20.ownerDocument;
}
function fo(e20) {
  var t2 = go("style");
  return ho(lo(e20), t2), t2.sheet;
}
function ho(e20, t2) {
  uo(e20.head || e20, t2);
}
function vo(e20, t2, n2) {
  e20.insertBefore(t2, n2 || null);
}
function po(e20) {
  e20.parentNode.removeChild(e20);
}
function mo(e20, t2) {
  for (var n2 = 0; n2 < e20.length; n2 += 1)
    e20[n2] && e20[n2].d(t2);
}
function go(e20) {
  return document.createElement(e20);
}
function yo(e20) {
  return document.createElementNS("http://www.w3.org/2000/svg", e20);
}
function bo(e20) {
  return document.createTextNode(e20);
}
function wo() {
  return bo(" ");
}
function ko() {
  return bo("");
}
function jo(e20, t2, n2, r2) {
  return e20.addEventListener(t2, n2, r2), function() {
    return e20.removeEventListener(t2, n2, r2);
  };
}
function xo(e20) {
  return function(t2) {
    return t2.stopPropagation(), e20.call(this, t2);
  };
}
function So(e20, t2, n2) {
  n2 == null ? e20.removeAttribute(t2) : e20.getAttribute(t2) !== n2 && e20.setAttribute(t2, n2);
}
function Co(e20, t2) {
  var n2 = Object.getOwnPropertyDescriptors(e20.__proto__);
  for (var r2 in t2)
    t2[r2] == null ? e20.removeAttribute(r2) : r2 === "style" ? e20.style.cssText = t2[r2] : r2 === "__value" ? e20.value = e20[r2] = t2[r2] : n2[r2] && n2[r2].set ? e20[r2] = t2[r2] : So(e20, r2, t2[r2]);
}
function _o(e20, t2) {
  for (var n2 in t2)
    So(e20, n2, t2[n2]);
}
function $o(e20, t2, n2) {
  t2 in e20 ? e20[t2] = typeof e20[t2] == "boolean" && n2 === "" || n2 : So(e20, t2, n2);
}
function Oo(e20) {
  return Array.from(e20.childNodes);
}
function Po(e20, t2) {
  t2 = "" + t2, e20.wholeText !== t2 && (e20.data = t2);
}
function Ao(e20, t2) {
  e20.value = t2 == null ? "" : t2;
}
function Eo(e20, t2, n2, r2) {
  n2 === null ? e20.style.removeProperty(t2) : e20.style.setProperty(t2, n2, r2 ? "important" : "");
}
function Mo(e20, t2) {
  for (var n2 = 0; n2 < e20.options.length; n2 += 1) {
    var r2 = e20.options[n2];
    if (r2.__value === t2)
      return void (r2.selected = true);
  }
  e20.selectedIndex = -1;
}
function To() {
  if (no === void 0) {
    no = false;
    try {
      typeof window != "undefined" && window.parent && window.parent.document;
    } catch (e20) {
      no = true;
    }
  }
  return no;
}
function Io(e20, t2, n2) {
  e20.classList[n2 ? "add" : "remove"](t2);
}
function No(e20, t2) {
  var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, r2 = n2.bubbles, i2 = r2 !== void 0 && r2, o2 = n2.cancelable, a2 = o2 !== void 0 && o2, s2 = document.createEvent("CustomEvent");
  return s2.initCustomEvent(e20, i2, a2, t2), s2;
}
var Ro, Do = function() {
  function e20() {
    var t2 = arguments.length > 0 && arguments[0] !== void 0 && arguments[0];
    Ri(this, e20), this.is_svg = false, this.is_svg = t2, this.e = this.n = null;
  }
  return Li(e20, [{ key: "c", value: function(e21) {
    this.h(e21);
  } }, { key: "m", value: function(e21, t2) {
    var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
    this.e || (this.is_svg ? this.e = yo(t2.nodeName) : this.e = go(t2.nodeName), this.t = t2, this.c(e21)), this.i(n2);
  } }, { key: "h", value: function(e21) {
    this.e.innerHTML = e21, this.n = Array.from(this.e.childNodes);
  } }, { key: "i", value: function(e21) {
    for (var t2 = 0; t2 < this.n.length; t2 += 1)
      vo(this.t, this.n[t2], e21);
  } }, { key: "p", value: function(e21) {
    this.d(), this.h(e21), this.i(this.a);
  } }, { key: "d", value: function() {
    this.n.forEach(po);
  } }]), e20;
}(), Lo = /* @__PURE__ */ new Map(), zo = 0;
function Bo(e20) {
  for (var t2 = 5381, n2 = e20.length; n2--; )
    t2 = (t2 << 5) - t2 ^ e20.charCodeAt(n2);
  return t2 >>> 0;
}
function qo(e20, t2) {
  var n2 = { stylesheet: fo(t2), rules: {} };
  return Lo.set(e20, n2), n2;
}
function Fo(e20, t2, n2, r2, i2, o2, a2) {
  for (var s2 = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : 0, u2 = 16.666 / r2, c2 = "{\n", l2 = 0; l2 <= 1; l2 += u2) {
    var f2 = t2 + (n2 - t2) * o2(l2);
    c2 += 100 * l2 + "%{".concat(a2(f2, 1 - f2), "}\n");
  }
  var h2 = c2 + "100% {".concat(a2(n2, 1 - n2), "}\n}"), d2 = "__svelte_".concat(Bo(h2), "_").concat(s2), v2 = lo(e20), p2 = Lo.get(v2) || qo(v2, e20), m2 = p2.stylesheet, g2 = p2.rules;
  g2[d2] || (g2[d2] = true, m2.insertRule("@keyframes ".concat(d2, " ").concat(h2), m2.cssRules.length));
  var y2 = e20.style.animation || "";
  return e20.style.animation = "".concat(y2 ? "".concat(y2, ", ") : "").concat(d2, " ").concat(r2, "ms linear ").concat(i2, "ms 1 both"), zo += 1, d2;
}
function Vo(e20, t2) {
  var n2 = (e20.style.animation || "").split(", "), r2 = n2.filter(t2 ? function(e21) {
    return e21.indexOf(t2) < 0;
  } : function(e21) {
    return e21.indexOf("__svelte") === -1;
  }), i2 = n2.length - r2.length;
  i2 && (e20.style.animation = r2.join(", "), (zo -= i2) || oo(function() {
    zo || (Lo.forEach(function(e21) {
      for (var t3 = e21.stylesheet, n3 = t3.cssRules.length; n3--; )
        t3.deleteRule(n3);
      e21.rules = {};
    }), Lo.clear());
  }));
}
function Ho(e20) {
  Ro = e20;
}
function Wo() {
  if (!Ro)
    throw new Error("Function called outside component initialization");
  return Ro;
}
function Uo(e20) {
  Wo().$$.before_update.push(e20);
}
function Jo(e20) {
  Wo().$$.on_mount.push(e20);
}
function Ko(e20) {
  Wo().$$.on_destroy.push(e20);
}
function Go() {
  var e20 = Wo();
  return function(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, i2 = r2.cancelable, o2 = i2 !== void 0 && i2, a2 = e20.$$.callbacks[t2];
    if (a2) {
      var s2 = No(t2, n2, { cancelable: o2 });
      return a2.slice().forEach(function(t3) {
        t3.call(e20, s2);
      }), !s2.defaultPrevented;
    }
    return true;
  };
}
function Qo(e20, t2) {
  return Wo().$$.context.set(e20, t2), t2;
}
function Yo(e20) {
  return Wo().$$.context.get(e20);
}
var Zo = [], Xo = [], ea = [], ta = [], na = Promise.resolve(), ra = false;
function ia() {
  ra || (ra = true, na.then(fa));
}
function oa() {
  return ia(), na;
}
function aa(e20) {
  ea.push(e20);
}
function sa(e20) {
  ta.push(e20);
}
var ua, ca = /* @__PURE__ */ new Set(), la = 0;
function fa() {
  var e20 = Ro;
  do {
    for (; la < Zo.length; ) {
      var t2 = Zo[la];
      la++, Ho(t2), ha(t2.$$);
    }
    for (Ho(null), Zo.length = 0, la = 0; Xo.length; )
      Xo.pop()();
    for (var n2 = 0; n2 < ea.length; n2 += 1) {
      var r2 = ea[n2];
      ca.has(r2) || (ca.add(r2), r2());
    }
    ea.length = 0;
  } while (Zo.length);
  for (; ta.length; )
    ta.pop()();
  ra = false, ca.clear(), Ho(e20);
}
function ha(e20) {
  if (e20.fragment !== null) {
    e20.update(), Wi(e20.before_update);
    var t2 = e20.dirty;
    e20.dirty = [-1], e20.fragment && e20.fragment.p(e20.ctx, t2), e20.after_update.forEach(aa);
  }
}
function da(e20, t2, n2) {
  e20.dispatchEvent(No("".concat(t2 ? "intro" : "outro").concat(n2)));
}
var va, pa = /* @__PURE__ */ new Set();
function ma() {
  va = { r: 0, c: [], p: va };
}
function ga() {
  va.r || Wi(va.c), va = va.p;
}
function ya(e20, t2) {
  e20 && e20.i && (pa.delete(e20), e20.i(t2));
}
function ba(e20, t2, n2, r2) {
  if (e20 && e20.o) {
    if (pa.has(e20))
      return;
    pa.add(e20), va.c.push(function() {
      pa.delete(e20), r2 && (n2 && e20.d(1), r2());
    }), e20.o(t2);
  }
}
var wa = { duration: 0 };
function ka(e20, t2, n2, r2) {
  var i2 = t2(e20, n2), o2 = r2 ? 0 : 1, a2 = null, s2 = null, u2 = null;
  function c2() {
    u2 && Vo(e20, u2);
  }
  function l2(e21, t3) {
    var n3 = e21.b - o2;
    return t3 *= Math.abs(n3), { a: o2, b: e21.b, d: n3, duration: t3, start: e21.start, end: e21.start + t3, group: e21.group };
  }
  function f2(t3) {
    var n3, r3 = i2 || wa, f3 = r3.delay, h2 = f3 === void 0 ? 0 : f3, d2 = r3.duration, v2 = d2 === void 0 ? 300 : d2, p2 = r3.easing, m2 = p2 === void 0 ? qi : p2, g2 = r3.tick, y2 = g2 === void 0 ? Bi : g2, b2 = r3.css, w2 = { start: io() + h2, b: t3 };
    t3 || (w2.group = va, va.r += 1), a2 || s2 ? s2 = w2 : (b2 && (c2(), u2 = Fo(e20, o2, t3, v2, h2, m2, b2)), t3 && y2(0, 1), a2 = l2(w2, v2), aa(function() {
      return da(e20, t3, "start");
    }), n3 = function(t4) {
      if (s2 && t4 > s2.start && (a2 = l2(s2, v2), s2 = null, da(e20, a2.b, "start"), b2 && (c2(), u2 = Fo(e20, o2, a2.b, a2.duration, 0, m2, i2.css))), a2) {
        if (t4 >= a2.end)
          y2(o2 = a2.b, 1 - o2), da(e20, a2.b, "end"), s2 || (a2.b ? c2() : --a2.group.r || Wi(a2.group.c)), a2 = null;
        else if (t4 >= a2.start) {
          var n4 = t4 - a2.start;
          o2 = a2.a + a2.d * m2(n4 / a2.duration), y2(o2, 1 - o2);
        }
      }
      return !(!a2 && !s2);
    }, ao.size === 0 && oo(so), new Promise(function(e21) {
      ao.add({ c: n3, f: e21 });
    }));
  }
  return { run: function(e21) {
    Ui(i2) ? (ua || (ua = Promise.resolve()).then(function() {
      ua = null;
    }), ua).then(function() {
      i2 = i2(), f2(e21);
    }) : f2(e21);
  }, end: function() {
    c2(), a2 = s2 = null;
  } };
}
var ja = typeof window != "undefined" ? window : typeof globalThis != "undefined" ? globalThis : global;
function xa(e20, t2) {
  e20.d(1), t2.delete(e20.key);
}
function Sa(e20, t2) {
  ba(e20, 1, 1, function() {
    t2.delete(e20.key);
  });
}
function Ca(e20, t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2) {
  for (var h2 = e20.length, d2 = o2.length, v2 = h2, p2 = {}; v2--; )
    p2[e20[v2].key] = v2;
  var m2 = [], g2 = /* @__PURE__ */ new Map(), y2 = /* @__PURE__ */ new Map();
  for (v2 = d2; v2--; ) {
    var b2 = f2(i2, o2, v2), w2 = n2(b2), k2 = a2.get(w2);
    k2 ? r2 && k2.p(b2, t2) : (k2 = c2(w2, b2)).c(), g2.set(w2, m2[v2] = k2), w2 in p2 && y2.set(w2, Math.abs(v2 - p2[w2]));
  }
  var j2 = /* @__PURE__ */ new Set(), x2 = /* @__PURE__ */ new Set();
  function S2(e21) {
    ya(e21, 1), e21.m(s2, l2), a2.set(e21.key, e21), l2 = e21.first, d2--;
  }
  for (; h2 && d2; ) {
    var C2 = m2[d2 - 1], _2 = e20[h2 - 1], $2 = C2.key, O2 = _2.key;
    C2 === _2 ? (l2 = C2.first, h2--, d2--) : g2.has(O2) ? !a2.has($2) || j2.has($2) ? S2(C2) : x2.has(O2) ? h2-- : y2.get($2) > y2.get(O2) ? (x2.add($2), S2(C2)) : (j2.add(O2), h2--) : (u2(_2, a2), h2--);
  }
  for (; h2--; ) {
    var P2 = e20[h2];
    g2.has(P2.key) || u2(P2, a2);
  }
  for (; d2; )
    S2(m2[d2 - 1]);
  return m2;
}
function _a(e20, t2) {
  for (var n2 = {}, r2 = {}, i2 = { $$scope: 1 }, o2 = e20.length; o2--; ) {
    var a2 = e20[o2], s2 = t2[o2];
    if (s2) {
      for (var u2 in a2)
        u2 in s2 || (r2[u2] = 1);
      for (var c2 in s2)
        i2[c2] || (n2[c2] = s2[c2], i2[c2] = 1);
      e20[o2] = s2;
    } else
      for (var l2 in a2)
        i2[l2] = 1;
  }
  for (var f2 in r2)
    f2 in n2 || (n2[f2] = void 0);
  return n2;
}
function $a(e20) {
  return zi(e20) === "object" && e20 !== null ? e20 : {};
}
function Oa(e20, t2, n2) {
  var r2 = e20.$$.props[t2];
  r2 !== void 0 && (e20.$$.bound[r2] = n2, n2(e20.$$.ctx[r2]));
}
function Pa(e20) {
  e20 && e20.c();
}
function Aa(e20, t2, n2, r2) {
  var i2 = e20.$$, o2 = i2.fragment, a2 = i2.on_mount, s2 = i2.on_destroy, u2 = i2.after_update;
  o2 && o2.m(t2, n2), r2 || aa(function() {
    var t3 = a2.map(Vi).filter(Ui);
    s2 ? s2.push.apply(s2, Ti(t3)) : Wi(t3), e20.$$.on_mount = [];
  }), u2.forEach(aa);
}
function Ea(e20, t2) {
  var n2 = e20.$$;
  n2.fragment !== null && (Wi(n2.on_destroy), n2.fragment && n2.fragment.d(t2), n2.on_destroy = n2.fragment = null, n2.ctx = []);
}
function Ma(e20, t2) {
  e20.$$.dirty[0] === -1 && (Zo.push(e20), ia(), e20.$$.dirty.fill(0)), e20.$$.dirty[t2 / 31 | 0] |= 1 << t2 % 31;
}
function Ta(e20, t2, n2, r2, i2, o2, a2) {
  var s2 = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : [-1], u2 = Ro;
  Ho(e20);
  var c2 = e20.$$ = { fragment: null, ctx: null, props: o2, update: Bi, not_equal: i2, bound: Hi(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(t2.context || (u2 ? u2.$$.context : [])), callbacks: Hi(), dirty: s2, skip_bound: false, root: t2.target || u2.$$.root };
  a2 && a2(c2.root);
  var l2 = false;
  if (c2.ctx = n2 ? n2(e20, t2.props || {}, function(t3, n3) {
    var r3 = !(arguments.length <= 2) && arguments.length - 2 ? arguments.length <= 2 ? void 0 : arguments[2] : n3;
    return c2.ctx && i2(c2.ctx[t3], c2.ctx[t3] = r3) && (!c2.skip_bound && c2.bound[t3] && c2.bound[t3](r3), l2 && Ma(e20, t3)), n3;
  }) : [], c2.update(), l2 = true, Wi(c2.before_update), c2.fragment = !!r2 && r2(c2.ctx), t2.target) {
    if (t2.hydrate) {
      var f2 = Oo(t2.target);
      c2.fragment && c2.fragment.l(f2), f2.forEach(po);
    } else
      c2.fragment && c2.fragment.c();
    t2.intro && ya(e20.$$.fragment), Aa(e20, t2.target, t2.anchor, t2.customElement), fa();
  }
  Ho(u2);
}
var Ia = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "$destroy", value: function() {
    Ea(this, 1), this.$destroy = Bi;
  } }, { key: "$on", value: function(e21, t2) {
    var n2 = this.$$.callbacks[e21] || (this.$$.callbacks[e21] = []);
    return n2.push(t2), function() {
      var e22 = n2.indexOf(t2);
      e22 !== -1 && n2.splice(e22, 1);
    };
  } }, { key: "$set", value: function(e21) {
    var t2;
    this.$$set && (t2 = e21, Object.keys(t2).length !== 0) && (this.$$.skip_bound = true, this.$$set(e21), this.$$.skip_bound = false);
  } }]), e20;
}();
function Na(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !!Da("debug");
  if (t2) {
    var n2 = La(e20);
    return function() {
      for (var t3, r2 = arguments.length, i2 = new Array(r2), o2 = 0; o2 < r2; o2++)
        i2[o2] = arguments[o2];
      (t3 = console).log.apply(t3, ["%c".concat(e20), "color:".concat(n2)].concat(i2));
    };
  }
  return Ra;
}
function Ra() {
}
function Da(e20) {
  try {
    if (typeof window != "undefined" && window.localStorage !== void 0)
      return window.localStorage[e20];
  } catch (e21) {
  }
}
function La(e20) {
  for (var t2 = 0, n2 = 0; n2 < e20.length; n2++)
    t2 = (t2 << 5) - t2 + e20.charCodeAt(n2), t2 |= 0;
  return za[Math.abs(t2) % za.length];
}
var za = ["#0000CC", "#0099FF", "#009400", "#8dd200", "#CCCC00", "#CC9933", "#ae04e7", "#ff35d7", "#FF3333", "#FF6600", "#FF9933", "#FFCC33"];
function Ba(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n2 = t2.delay, r2 = n2 === void 0 ? 0 : n2, i2 = t2.duration, o2 = i2 === void 0 ? 400 : i2, a2 = t2.easing, s2 = a2 === void 0 ? qi : a2, u2 = +getComputedStyle(e20).opacity;
  return { delay: r2, duration: o2, easing: s2, css: function(e21) {
    return "opacity: ".concat(e21 * u2);
  } };
}
var qa = ja.window;
function Fa(e20) {
  co(e20, "svelte-g4wg3a", ".svelte-g4wg3a{box-sizing:border-box}.bg.svelte-g4wg3a{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}.wrap.svelte-g4wg3a{position:relative;margin:2rem;max-height:100%}.window.svelte-g4wg3a{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-g4wg3a{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-g4wg3a{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-g4wg3a:before,.close.svelte-g4wg3a:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-g4wg3a:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-g4wg3a:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-g4wg3a:hover{background:black}.close.svelte-g4wg3a:hover:before,.close.svelte-g4wg3a:hover:after{height:2px;background:white}.close.svelte-g4wg3a:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-g4wg3a:active{transform:scale(0.9)}.close.svelte-g4wg3a:hover,.close.svelte-g4wg3a:focus,.close.svelte-g4wg3a:active{outline:none}");
}
function Va(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2 = e20[1].closeButton && Ha(e20), b2 = e20[2];
  return b2 && (a2 = new b2({})), { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("div"), y2 && y2.c(), i2 = wo(), o2 = go("div"), a2 && Pa(a2.$$.fragment), So(o2, "class", s2 = eo(e20[1].classContent) + " svelte-g4wg3a"), So(o2, "style", e20[9]), Io(o2, "content", !e20[0]), So(r2, "class", u2 = eo(e20[1].classWindow) + " svelte-g4wg3a"), So(r2, "role", "dialog"), So(r2, "aria-modal", "true"), So(r2, "aria-label", c2 = e20[1].ariaLabelledBy ? null : e20[1].ariaLabel || null), So(r2, "aria-labelledby", l2 = e20[1].ariaLabelledBy || null), So(r2, "style", e20[8]), Io(r2, "window", !e20[0]), So(n2, "class", h2 = eo(e20[1].classWindowWrap) + " svelte-g4wg3a"), So(n2, "style", e20[7]), Io(n2, "wrap", !e20[0]), So(t2, "class", d2 = eo(e20[1].classBg) + " svelte-g4wg3a"), So(t2, "style", e20[6]), Io(t2, "bg", !e20[0]);
  }, m: function(s3, u3) {
    vo(s3, t2, u3), uo(t2, n2), uo(n2, r2), y2 && y2.m(r2, null), uo(r2, i2), uo(r2, o2), a2 && Aa(a2, o2, null), e20[48](r2), e20[49](n2), e20[50](t2), p2 = true, m2 || (g2 = [jo(r2, "introstart", function() {
      Ui(e20[13]) && e20[13].apply(this, arguments);
    }), jo(r2, "outrostart", function() {
      Ui(e20[14]) && e20[14].apply(this, arguments);
    }), jo(r2, "introend", function() {
      Ui(e20[15]) && e20[15].apply(this, arguments);
    }), jo(r2, "outroend", function() {
      Ui(e20[16]) && e20[16].apply(this, arguments);
    }), jo(t2, "mousedown", e20[20]), jo(t2, "mouseup", e20[21])], m2 = true);
  }, p: function(f3, v3) {
    if ((e20 = f3)[1].closeButton ? y2 ? (y2.p(e20, v3), 2 & v3[0] && ya(y2, 1)) : ((y2 = Ha(e20)).c(), ya(y2, 1), y2.m(r2, i2)) : y2 && (ma(), ba(y2, 1, 1, function() {
      y2 = null;
    }), ga()), b2 !== (b2 = e20[2])) {
      if (a2) {
        ma();
        var m3 = a2;
        ba(m3.$$.fragment, 1, 0, function() {
          Ea(m3, 1);
        }), ga();
      }
      b2 ? (Pa((a2 = new b2({})).$$.fragment), ya(a2.$$.fragment, 1), Aa(a2, o2, null)) : a2 = null;
    }
    (!p2 || 2 & v3[0] && s2 !== (s2 = eo(e20[1].classContent) + " svelte-g4wg3a")) && So(o2, "class", s2), (!p2 || 512 & v3[0]) && So(o2, "style", e20[9]), 3 & v3[0] && Io(o2, "content", !e20[0]), (!p2 || 2 & v3[0] && u2 !== (u2 = eo(e20[1].classWindow) + " svelte-g4wg3a")) && So(r2, "class", u2), (!p2 || 2 & v3[0] && c2 !== (c2 = e20[1].ariaLabelledBy ? null : e20[1].ariaLabel || null)) && So(r2, "aria-label", c2), (!p2 || 2 & v3[0] && l2 !== (l2 = e20[1].ariaLabelledBy || null)) && So(r2, "aria-labelledby", l2), (!p2 || 256 & v3[0]) && So(r2, "style", e20[8]), 3 & v3[0] && Io(r2, "window", !e20[0]), (!p2 || 2 & v3[0] && h2 !== (h2 = eo(e20[1].classWindowWrap) + " svelte-g4wg3a")) && So(n2, "class", h2), (!p2 || 128 & v3[0]) && So(n2, "style", e20[7]), 3 & v3[0] && Io(n2, "wrap", !e20[0]), (!p2 || 2 & v3[0] && d2 !== (d2 = eo(e20[1].classBg) + " svelte-g4wg3a")) && So(t2, "class", d2), (!p2 || 64 & v3[0]) && So(t2, "style", e20[6]), 3 & v3[0] && Io(t2, "bg", !e20[0]);
  }, i: function(n3) {
    p2 || (ya(y2), a2 && ya(a2.$$.fragment, n3), aa(function() {
      f2 || (f2 = ka(r2, e20[12], e20[1].transitionWindowProps, true)), f2.run(1);
    }), aa(function() {
      v2 || (v2 = ka(t2, e20[11], e20[1].transitionBgProps, true)), v2.run(1);
    }), p2 = true);
  }, o: function(n3) {
    ba(y2), a2 && ba(a2.$$.fragment, n3), f2 || (f2 = ka(r2, e20[12], e20[1].transitionWindowProps, false)), f2.run(0), v2 || (v2 = ka(t2, e20[11], e20[1].transitionBgProps, false)), v2.run(0), p2 = false;
  }, d: function(n3) {
    n3 && po(t2), y2 && y2.d(), a2 && Ea(a2), e20[48](null), n3 && f2 && f2.end(), e20[49](null), e20[50](null), n3 && v2 && v2.end(), m2 = false, Wi(g2);
  } };
}
function Ha(e20) {
  var t2, n2, r2, i2, o2, a2 = [Ua, Wa], s2 = [];
  function u2(e21, n3) {
    return 2 & n3[0] && (t2 = null), t2 == null && (t2 = !!e21[17](e21[1].closeButton)), t2 ? 0 : 1;
  }
  return n2 = u2(e20, [-1, -1, -1]), r2 = s2[n2] = a2[n2](e20), { c: function() {
    r2.c(), i2 = ko();
  }, m: function(e21, t3) {
    s2[n2].m(e21, t3), vo(e21, i2, t3), o2 = true;
  }, p: function(e21, t3) {
    var o3 = n2;
    (n2 = u2(e21, t3)) === o3 ? s2[n2].p(e21, t3) : (ma(), ba(s2[o3], 1, 1, function() {
      s2[o3] = null;
    }), ga(), (r2 = s2[n2]) ? r2.p(e21, t3) : (r2 = s2[n2] = a2[n2](e21)).c(), ya(r2, 1), r2.m(i2.parentNode, i2));
  }, i: function(e21) {
    o2 || (ya(r2), o2 = true);
  }, o: function(e21) {
    ba(r2), o2 = false;
  }, d: function(e21) {
    s2[n2].d(e21), e21 && po(i2);
  } };
}
function Wa(e20) {
  var t2, n2, r2, i2;
  return { c: function() {
    So(t2 = go("button"), "class", n2 = eo(e20[1].classCloseButton) + " svelte-g4wg3a"), So(t2, "aria-label", "Close modal"), So(t2, "style", e20[10]), Io(t2, "close", !e20[0]);
  }, m: function(n3, o2) {
    vo(n3, t2, o2), r2 || (i2 = jo(t2, "click", e20[18]), r2 = true);
  }, p: function(e21, r3) {
    2 & r3[0] && n2 !== (n2 = eo(e21[1].classCloseButton) + " svelte-g4wg3a") && So(t2, "class", n2), 1024 & r3[0] && So(t2, "style", e21[10]), 3 & r3[0] && Io(t2, "close", !e21[0]);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2), r2 = false, i2();
  } };
}
function Ua(e20) {
  var t2, n2, r2, i2 = e20[1].closeButton;
  function o2(e21) {
    return { props: { onClose: e21[18] } };
  }
  return i2 && (t2 = new i2(o2(e20))), { c: function() {
    t2 && Pa(t2.$$.fragment), n2 = ko();
  }, m: function(e21, i3) {
    t2 && Aa(t2, e21, i3), vo(e21, n2, i3), r2 = true;
  }, p: function(e21, r3) {
    if (i2 !== (i2 = e21[1].closeButton)) {
      if (t2) {
        ma();
        var a2 = t2;
        ba(a2.$$.fragment, 1, 0, function() {
          Ea(a2, 1);
        }), ga();
      }
      i2 ? (Pa((t2 = new i2(o2(e21))).$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, n2.parentNode, n2)) : t2 = null;
    }
  }, i: function(e21) {
    r2 || (t2 && ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(n2), t2 && Ea(t2, e21);
  } };
}
function Ja(e20) {
  var t2, n2, r2, i2, o2 = e20[2] && Va(e20), a2 = e20[47].default, s2 = Gi(a2, e20, e20[46], null);
  return { c: function() {
    o2 && o2.c(), t2 = wo(), s2 && s2.c();
  }, m: function(a3, u2) {
    o2 && o2.m(a3, u2), vo(a3, t2, u2), s2 && s2.m(a3, u2), n2 = true, r2 || (i2 = jo(qa, "keydown", e20[19]), r2 = true);
  }, p: function(e21, r3) {
    e21[2] ? o2 ? (o2.p(e21, r3), 4 & r3[0] && ya(o2, 1)) : ((o2 = Va(e21)).c(), ya(o2, 1), o2.m(t2.parentNode, t2)) : o2 && (ma(), ba(o2, 1, 1, function() {
      o2 = null;
    }), ga()), s2 && s2.p && (!n2 || 32768 & r3[1]) && Zi(s2, a2, e21, e21[46], n2 ? Yi(a2, e21[46], r3, null) : Xi(e21[46]), null);
  }, i: function(e21) {
    n2 || (ya(o2), ya(s2, e21), n2 = true);
  }, o: function(e21) {
    ba(o2), ba(s2, e21), n2 = false;
  }, d: function(e21) {
    o2 && o2.d(e21), e21 && po(t2), s2 && s2.d(e21), r2 = false, i2();
  } };
}
function Ka(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return function(n2) {
    return new e20(Ei(Ei({}, n2), {}, { props: Ei(Ei({}, t2), n2.props) }));
  };
}
function Ga(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2 = t2.$$slots, b2 = y2 === void 0 ? {} : y2, w2 = t2.$$scope, k2 = Go(), j2 = Qo, x2 = t2.show, S2 = x2 === void 0 ? null : x2, C2 = t2.key, _2 = C2 === void 0 ? "simple-modal" : C2, $2 = t2.ariaLabel, O2 = $2 === void 0 ? null : $2, P2 = t2.ariaLabelledBy, A2 = P2 === void 0 ? null : P2, E2 = t2.closeButton, M2 = E2 === void 0 || E2, T2 = t2.closeOnEsc, I2 = T2 === void 0 || T2, N2 = t2.closeOnOuterClick, R2 = N2 === void 0 || N2, D2 = t2.styleBg, L2 = D2 === void 0 ? {} : D2, z2 = t2.styleWindowWrap, B2 = z2 === void 0 ? {} : z2, q2 = t2.styleWindow, F2 = q2 === void 0 ? {} : q2, V2 = t2.styleContent, H2 = V2 === void 0 ? {} : V2, W2 = t2.styleCloseButton, U2 = W2 === void 0 ? {} : W2, J2 = t2.classBg, K2 = J2 === void 0 ? null : J2, G2 = t2.classWindowWrap, Q2 = G2 === void 0 ? null : G2, Y2 = t2.classWindow, Z2 = Y2 === void 0 ? null : Y2, X2 = t2.classContent, ee2 = X2 === void 0 ? null : X2, te2 = t2.classCloseButton, ne2 = te2 === void 0 ? null : te2, re2 = t2.unstyled, ie2 = re2 !== void 0 && re2, oe2 = t2.setContext, ae2 = oe2 === void 0 ? j2 : oe2, se2 = t2.transitionBg, ue2 = se2 === void 0 ? Ba : se2, ce2 = t2.transitionBgProps, le2 = ce2 === void 0 ? { duration: 250 } : ce2, fe2 = t2.transitionWindow, he2 = fe2 === void 0 ? ue2 : fe2, de2 = t2.transitionWindowProps, ve2 = de2 === void 0 ? le2 : de2, pe2 = t2.disableFocusTrap, me2 = pe2 !== void 0 && pe2, ge2 = { ariaLabel: O2, ariaLabelledBy: A2, closeButton: M2, closeOnEsc: I2, closeOnOuterClick: R2, styleBg: L2, styleWindowWrap: B2, styleWindow: F2, styleContent: H2, styleCloseButton: U2, classBg: K2, classWindowWrap: Q2, classWindow: Z2, classContent: ee2, classCloseButton: ne2, transitionBg: ue2, transitionBgProps: le2, transitionWindow: he2, transitionWindowProps: ve2, disableFocusTrap: me2, unstyled: ie2 }, ye2 = Ei({}, ge2), be2 = null, we2 = function(e21) {
    return e21 ? Object.keys(e21).reduce(function(t3, n3) {
      return "".concat(t3, "; ").concat(function(e22) {
        return e22.replace(/([a-zA-Z])(?=[A-Z])/g, "$1-").toLowerCase();
      }(n3), ": ").concat(e21[n3]);
    }, "") : "";
  }, ke2 = function(e21) {
    return !!(e21 && e21.constructor && e21.call && e21.apply);
  }, je2 = function() {
    n2(6, s2 = we2(Object.assign({}, { width: window.innerWidth, height: window.innerHeight }, ye2.styleBg))), n2(7, u2 = we2(ye2.styleWindowWrap)), n2(8, c2 = we2(ye2.styleWindow)), n2(9, l2 = we2(ye2.styleContent)), n2(10, f2 = we2(ye2.styleCloseButton)), n2(11, h2 = ye2.transitionBg), n2(12, d2 = ye2.transitionWindow);
  }, xe2 = function() {
  }, Se2 = xe2, Ce2 = xe2, _e2 = xe2, $e2 = xe2, Oe2 = function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, i3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    n2(2, be2 = Ka(e21, t3)), n2(1, ye2 = Ei(Ei({}, ge2), r3)), je2(), Ae2(), n2(13, Se2 = function(e22) {
      i3.onOpen && i3.onOpen(e22), k2("open"), k2("opening");
    }), n2(14, Ce2 = function(e22) {
      i3.onClose && i3.onClose(e22), k2("close"), k2("closing");
    }), n2(15, _e2 = function(e22) {
      i3.onOpened && i3.onOpened(e22), k2("opened");
    }), n2(16, $e2 = function(e22) {
      i3.onClosed && i3.onClosed(e22), k2("closed");
    });
  }, Pe2 = function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    be2 && (n2(14, Ce2 = e21.onClose || Ce2), n2(16, $e2 = e21.onClosed || $e2), n2(2, be2 = null), Ee2());
  }, Ae2 = function() {
    a2 = window.scrollY, v2 = document.body.style.position, p2 = document.body.style.overflow, m2 = document.body.style.width, document.body.style.position = "fixed", document.body.style.top = "-".concat(a2, "px"), document.body.style.overflow = "hidden", document.body.style.width = "100%";
  }, Ee2 = function() {
    document.body.style.position = v2 || "", document.body.style.top = "", document.body.style.overflow = p2 || "", document.body.style.width = m2 || "", window.scrollTo(0, a2);
  };
  ae2(_2, { open: Oe2, close: Pe2 });
  var Me2 = false;
  return Ko(function() {
    Me2 && Pe2();
  }), Jo(function() {
    n2(45, Me2 = true);
  }), e20.$$set = function(e21) {
    "show" in e21 && n2(22, S2 = e21.show), "key" in e21 && n2(23, _2 = e21.key), "ariaLabel" in e21 && n2(24, O2 = e21.ariaLabel), "ariaLabelledBy" in e21 && n2(25, A2 = e21.ariaLabelledBy), "closeButton" in e21 && n2(26, M2 = e21.closeButton), "closeOnEsc" in e21 && n2(27, I2 = e21.closeOnEsc), "closeOnOuterClick" in e21 && n2(28, R2 = e21.closeOnOuterClick), "styleBg" in e21 && n2(29, L2 = e21.styleBg), "styleWindowWrap" in e21 && n2(30, B2 = e21.styleWindowWrap), "styleWindow" in e21 && n2(31, F2 = e21.styleWindow), "styleContent" in e21 && n2(32, H2 = e21.styleContent), "styleCloseButton" in e21 && n2(33, U2 = e21.styleCloseButton), "classBg" in e21 && n2(34, K2 = e21.classBg), "classWindowWrap" in e21 && n2(35, Q2 = e21.classWindowWrap), "classWindow" in e21 && n2(36, Z2 = e21.classWindow), "classContent" in e21 && n2(37, ee2 = e21.classContent), "classCloseButton" in e21 && n2(38, ne2 = e21.classCloseButton), "unstyled" in e21 && n2(0, ie2 = e21.unstyled), "setContext" in e21 && n2(39, ae2 = e21.setContext), "transitionBg" in e21 && n2(40, ue2 = e21.transitionBg), "transitionBgProps" in e21 && n2(41, le2 = e21.transitionBgProps), "transitionWindow" in e21 && n2(42, he2 = e21.transitionWindow), "transitionWindowProps" in e21 && n2(43, ve2 = e21.transitionWindowProps), "disableFocusTrap" in e21 && n2(44, me2 = e21.disableFocusTrap), "$$scope" in e21 && n2(46, w2 = e21.$$scope);
  }, e20.$$.update = function() {
    4194304 & e20.$$.dirty[0] | 16384 & e20.$$.dirty[1] && Me2 && (ke2(S2) ? Oe2(S2) : Pe2());
  }, [ie2, ye2, be2, r2, i2, o2, s2, u2, c2, l2, f2, h2, d2, Se2, Ce2, _e2, $e2, ke2, Pe2, function(e21) {
    if (ye2.closeOnEsc && be2 && e21.key === "Escape" && (e21.preventDefault(), Pe2()), be2 && e21.key === "Tab" && !ye2.disableFocusTrap) {
      var t3 = o2.querySelectorAll("*"), n3 = Array.from(t3).filter(function(e22) {
        return e22.tabIndex >= 0;
      }), r3 = n3.indexOf(document.activeElement);
      r3 === -1 && e21.shiftKey && (r3 = 0), r3 += n3.length + (e21.shiftKey ? -1 : 1), n3[r3 %= n3.length].focus(), e21.preventDefault();
    }
  }, function(e21) {
    !ye2.closeOnOuterClick || e21.target !== r2 && e21.target !== i2 || (g2 = e21.target);
  }, function(e21) {
    ye2.closeOnOuterClick && e21.target === g2 && (e21.preventDefault(), Pe2());
  }, S2, _2, O2, A2, M2, I2, R2, L2, B2, F2, H2, U2, K2, Q2, Z2, ee2, ne2, ae2, ue2, le2, he2, ve2, me2, Me2, w2, b2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(5, o2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(4, i2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(3, r2 = e21);
    });
  }];
}
var Qa = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, Ga, Ja, Ji, { show: 22, key: 23, ariaLabel: 24, ariaLabelledBy: 25, closeButton: 26, closeOnEsc: 27, closeOnOuterClick: 28, styleBg: 29, styleWindowWrap: 30, styleWindow: 31, styleContent: 32, styleCloseButton: 33, classBg: 34, classWindowWrap: 35, classWindow: 36, classContent: 37, classCloseButton: 38, unstyled: 0, setContext: 39, transitionBg: 40, transitionBgProps: 41, transitionWindow: 42, transitionWindowProps: 43, disableFocusTrap: 44 }, Fa, [-1, -1, -1]), r2;
  }
  return Li(n2);
}(), Ya = "tree", Za = "code", Xa = Symbol("id"), es = Symbol("expanded"), ts = Symbol("visible sections"), ns = Symbol("keys"), rs = Symbol("search:property"), is = Symbol("search:value"), os = Symbol("enforce string"), as = Symbol("selection"), ss = Symbol("validation:error"), us = [{ start: 0, end: 100 }], cs = { closeButton: false, classBg: "jse-modal-bg", classWindow: "jse-modal-window", classWindowWrap: "jse-modal-window-wrap", classContent: "jse-modal-content" }, ls = Ei(Ei({}, cs), {}, { classWindow: "jse-modal-window jse-modal-window-sort" }), fs = Ei(Ei({}, cs), {}, { classWindow: "jse-modal-window jse-modal-window-transform" }), hs = "Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value", ds = "Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)", vs = "NO", ps = "SELF", ms = "NEXT_INSIDE", gs = 0;
function ys() {
  return ++gs;
}
function bs(e20) {
  return e20 && e20.__esModule && Object.prototype.hasOwnProperty.call(e20, "default") ? e20.default : e20;
}
var ws = { exports: {} };
!function(e20) {
  function t2(e21) {
    return (t2 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e22) {
      return typeof e22;
    } : function(e22) {
      return e22 && typeof Symbol == "function" && e22.constructor === Symbol && e22 !== Symbol.prototype ? "symbol" : typeof e22;
    })(e21);
  }
  function n2(e21, t3) {
    return JSON.stringify(e21) === JSON.stringify(t3);
  }
  function r2(e21, t3) {
    return e21 === t3;
  }
  function i2(e21) {
    return e21.slice(0, e21.length - 1);
  }
  function o2(e21) {
    return e21[e21.length - 1];
  }
  function a2(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : r2;
    if (e21.length < t3.length)
      return false;
    for (var i3 = 0; i3 < t3.length; i3++)
      if (!n3(e21[i3], t3[i3]))
        return false;
    return true;
  }
  function s2(e21) {
    return t2(e21) === "object" && e21 !== null;
  }
  function u2(e21, t3) {
    var n3 = Object.keys(e21);
    if (Object.getOwnPropertySymbols) {
      var r3 = Object.getOwnPropertySymbols(e21);
      t3 && (r3 = r3.filter(function(t4) {
        return Object.getOwnPropertyDescriptor(e21, t4).enumerable;
      })), n3.push.apply(n3, r3);
    }
    return n3;
  }
  function c2(e21) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var n3 = arguments[t3] != null ? arguments[t3] : {};
      t3 % 2 ? u2(Object(n3), true).forEach(function(t4) {
        l2(e21, t4, n3[t4]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e21, Object.getOwnPropertyDescriptors(n3)) : u2(Object(n3)).forEach(function(t4) {
        Object.defineProperty(e21, t4, Object.getOwnPropertyDescriptor(n3, t4));
      });
    }
    return e21;
  }
  function l2(e21, t3, n3) {
    return t3 in e21 ? Object.defineProperty(e21, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e21[t3] = n3, e21;
  }
  function f2(e21) {
    return (f2 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e22) {
      return typeof e22;
    } : function(e22) {
      return e22 && typeof Symbol == "function" && e22.constructor === Symbol && e22 !== Symbol.prototype ? "symbol" : typeof e22;
    })(e21);
  }
  function h2(e21) {
    if (Array.isArray(e21)) {
      var t3 = e21.slice();
      return Object.getOwnPropertySymbols(e21).forEach(function(n4) {
        t3[n4] = e21[n4];
      }), t3;
    }
    if (f2(e21) === "object") {
      var n3 = c2({}, e21);
      return Object.getOwnPropertySymbols(e21).forEach(function(t4) {
        n3[t4] = e21[t4];
      }), n3;
    }
    return e21;
  }
  function d2(e21, t3, n3) {
    if (e21[t3] === n3)
      return e21;
    var r3 = h2(e21);
    return r3[t3] = n3, r3;
  }
  function v2(e21, t3) {
    for (var n3 = e21, r3 = 0; r3 < t3.length; )
      n3 = s2(n3) ? n3[t3[r3]] : void 0, r3++;
    return n3;
  }
  function p2(e21, t3, n3) {
    var r3 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3];
    if (t3.length === 0)
      return n3;
    var i3 = t3[0], o3 = p2(e21 ? e21[i3] : void 0, t3.slice(1), n3, r3);
    if (!s2(e21)) {
      if (r3) {
        var a3 = typeof i3 == "number" ? [] : {};
        return a3[i3] = o3, a3;
      }
      throw new Error("Path does not exist");
    }
    return d2(e21, i3, o3);
  }
  function m2(e21, t3, n3) {
    if (t3.length === 0)
      return n3(e21);
    if (!s2(e21))
      throw new Error("Path doesn't exist");
    var r3 = t3[0];
    return d2(e21, r3, m2(e21[r3], t3.slice(1), n3));
  }
  function g2(e21, t3) {
    if (t3.length === 0)
      return e21;
    if (!s2(e21))
      throw new Error("Path does not exist");
    if (t3.length === 1) {
      var n3 = t3[0];
      if (n3 in e21) {
        var r3 = h2(e21);
        return Array.isArray(r3) ? r3.splice(n3, 1) : delete r3[n3], r3;
      }
      return e21;
    }
    var i3 = t3[0];
    return d2(e21, i3, g2(e21[i3], t3.slice(1)));
  }
  function y2(e21, t3, n3) {
    var r3 = t3.slice(0, t3.length - 1), i3 = t3[t3.length - 1];
    return m2(e21, r3, function(e22) {
      if (!Array.isArray(e22))
        throw new TypeError("Array expected at path " + JSON.stringify(r3));
      var t4 = h2(e22);
      return t4.splice(i3, 0, n3), t4;
    });
  }
  function b2(e21, t3) {
    return e21 !== void 0 && (t3.length === 0 || b2(e21[t3[0]], t3.slice(1)));
  }
  function w2(e21) {
    var t3 = e21.split("/");
    return t3.shift(), t3.map(function(e22) {
      return e22.replace(/~1/g, "/").replace(/~0/g, "~");
    });
  }
  function k2(e21) {
    return e21.map(function(e22) {
      return "/" + String(e22).replace(/~/g, "~0").replace(/\//g, "~1");
    }).join("");
  }
  function j2(e21, t3, n3) {
    for (var r3 = e21, i3 = 0; i3 < t3.length; i3++) {
      M2(t3[i3]);
      var o3 = T2(r3, t3[i3]);
      if (n3 && n3.before) {
        var a3 = n3.before(r3, o3);
        a3 !== void 0 && (a3.json !== void 0 && (r3 = a3.json), a3.operation !== void 0 && (o3 = a3.operation));
      }
      var s3 = r3, u3 = x2[o3.op];
      if (u3)
        r3 = u3(r3, o3);
      else {
        if (o3.op !== "test")
          throw new Error("Unknown JSONPatch operation " + JSON.stringify(o3.op));
        P2(r3, o3);
      }
      if (n3 && n3.after) {
        var c3 = n3.after(r3, o3, s3);
        c3 !== void 0 && (r3 = c3);
      }
    }
    return r3;
  }
  var x2 = { add: _2, remove: C2, replace: S2, copy: $2, move: O2 };
  function S2(e21, t3) {
    return p2(e21, t3.path, t3.value);
  }
  function C2(e21, t3) {
    return g2(e21, t3.path);
  }
  function _2(e21, t3) {
    var n3 = t3.path, r3 = t3.value;
    return A2(e21, n3) ? y2(e21, n3, r3) : p2(e21, n3, r3);
  }
  function $2(e21, t3) {
    var n3 = t3.path, r3 = t3.from, i3 = v2(e21, r3);
    return A2(e21, n3) ? y2(e21, n3, i3) : p2(e21, n3, v2(e21, r3));
  }
  function O2(e21, t3) {
    var n3 = t3.path, r3 = t3.from, i3 = v2(e21, r3), o3 = g2(e21, r3);
    return A2(o3, n3) ? y2(o3, n3, i3) : p2(o3, n3, i3);
  }
  function P2(e21, t3) {
    var r3 = t3.path, i3 = t3.value;
    if (i3 === void 0)
      throw new Error('Test failed: no value provided (path: "'.concat(k2(r3), '")'));
    if (!b2(e21, r3))
      throw new Error('Test failed: path not found (path: "'.concat(k2(r3), '")'));
    if (!n2(v2(e21, r3), i3))
      throw new Error('Test failed, value differs (path: "'.concat(k2(r3), '")'));
  }
  function A2(e21, t3) {
    if (t3.length === 0)
      return false;
    var n3 = v2(e21, i2(t3));
    return Array.isArray(n3);
  }
  function E2(e21, t3) {
    if (o2(t3) !== "-")
      return t3;
    var n3 = i2(t3), r3 = v2(e21, n3);
    return n3.concat(r3.length);
  }
  function M2(e21) {
    if (!["add", "remove", "replace", "copy", "move", "test"].includes(e21.op))
      throw new Error("Unknown JSONPatch op " + JSON.stringify(e21.op));
    if (typeof e21.path != "string")
      throw new Error('Required property "path" missing or not a string in operation ' + JSON.stringify(e21));
    if ((e21.op === "copy" || e21.op === "move") && typeof e21.from != "string")
      throw new Error('Required property "from" missing or not a string in operation ' + JSON.stringify(e21));
  }
  function T2(e21, t3) {
    return { op: t3.op, path: E2(e21, w2(t3.path)), from: t3.from !== void 0 ? w2(t3.from) : null, value: t3.value };
  }
  function I2(e21, t3) {
    var n3 = [];
    return j2(e21, t3, { before: function(e22, t4) {
      var r3 = N2[t4.op];
      r3 && (n3 = r3(e22, t4).concat(n3));
    } }), n3;
  }
  var N2 = { add: L2, remove: D2, replace: R2, copy: z2, move: B2 };
  function R2(e21, t3) {
    var n3 = t3.path;
    return [{ op: "replace", path: k2(n3), value: v2(e21, n3) }];
  }
  function D2(e21, t3) {
    var n3 = t3.path;
    return [{ op: "add", path: k2(n3), value: v2(e21, n3) }];
  }
  function L2(e21, t3) {
    var n3 = t3.path, r3 = t3.value;
    return A2(e21, n3) || !b2(e21, n3) ? [{ op: "remove", path: k2(n3) }] : R2(e21, { path: n3, value: r3 });
  }
  function z2(e21, t3) {
    return L2(e21, { path: t3.path, value: t3.value });
  }
  function B2(e21, t3) {
    var n3 = t3.path, r3 = t3.from;
    if (n3.length < r3.length && a2(r3, n3))
      return [{ op: "replace", path: k2(n3), value: e21 }];
    var i3 = [{ op: "move", from: k2(n3), path: k2(r3) }];
    return !A2(e21, n3) && b2(e21, n3) && (i3 = i3.concat(D2(e21, { path: n3 }))), i3;
  }
  e20.compileJSONPointer = k2, e20.deleteIn = g2, e20.existsIn = b2, e20.getIn = v2, e20.immutableJSONPatch = j2, e20.insertAt = y2, e20.parseJSONPointer = w2, e20.revertJSONPatch = I2, e20.setIn = p2, e20.updateIn = m2, Object.defineProperty(e20, "__esModule", { value: true });
}(ws.exports);
var ks = {}, js = { b: "\b", f: "\f", n: "\n", r: "\r", t: "	", '"': '"', "/": "/", "\\": "\\" }, xs = "a".charCodeAt();
ks.parse = function(e20, t2, n2) {
  var r2 = {}, i2 = 0, o2 = 0, a2 = 0, s2 = n2 && n2.bigint && typeof BigInt != "undefined";
  return { data: u2("", true), pointers: r2 };
  function u2(t3, n3) {
    var r3;
    c2(), m2(t3, "value");
    var i3 = h2();
    switch (i3) {
      case "t":
        f2("rue"), r3 = true;
        break;
      case "f":
        f2("alse"), r3 = false;
        break;
      case "n":
        f2("ull"), r3 = null;
        break;
      case '"':
        r3 = l2();
        break;
      case "[":
        r3 = function(e21) {
          c2();
          var t4 = [], n4 = 0;
          if (h2() == "]")
            return t4;
          d2();
          for (; ; ) {
            var r4 = e21 + "/" + n4;
            t4.push(u2(r4)), c2();
            var i4 = h2();
            if (i4 == "]")
              break;
            i4 != "," && w2(), c2(), n4++;
          }
          return t4;
        }(t3);
        break;
      case "{":
        r3 = function(e21) {
          c2();
          var t4 = {};
          if (h2() == "}")
            return t4;
          d2();
          for (; ; ) {
            var n4 = y2();
            h2() != '"' && w2();
            var r4 = l2(), i4 = e21 + "/" + Ns(r4);
            g2(i4, "key", n4), m2(i4, "keyEnd"), c2(), h2() != ":" && w2(), c2(), t4[r4] = u2(i4), c2();
            var o3 = h2();
            if (o3 == "}")
              break;
            o3 != "," && w2(), c2();
          }
          return t4;
        }(t3);
        break;
      default:
        d2(), "-0123456789".indexOf(i3) >= 0 ? r3 = function() {
          var t4 = "", n4 = true;
          e20[a2] == "-" && (t4 += h2());
          t4 += e20[a2] == "0" ? h2() : p2(), e20[a2] == "." && (t4 += h2() + p2(), n4 = false);
          e20[a2] != "e" && e20[a2] != "E" || (t4 += h2(), e20[a2] != "+" && e20[a2] != "-" || (t4 += h2()), t4 += p2(), n4 = false);
          var r4 = +t4;
          return s2 && n4 && (r4 > Number.MAX_SAFE_INTEGER || r4 < Number.MIN_SAFE_INTEGER) ? BigInt(t4) : r4;
        }() : b2();
    }
    return m2(t3, "valueEnd"), c2(), n3 && a2 < e20.length && b2(), r3;
  }
  function c2() {
    e:
      for (; a2 < e20.length; ) {
        switch (e20[a2]) {
          case " ":
            o2++;
            break;
          case "	":
            o2 += 4;
            break;
          case "\r":
            o2 = 0;
            break;
          case "\n":
            o2 = 0, i2++;
            break;
          default:
            break e;
        }
        a2++;
      }
  }
  function l2() {
    for (var e21, t3 = ""; (e21 = h2()) != '"'; )
      e21 == "\\" ? (e21 = h2()) in js ? t3 += js[e21] : e21 == "u" ? t3 += v2() : w2() : t3 += e21;
    return t3;
  }
  function f2(e21) {
    for (var t3 = 0; t3 < e21.length; t3++)
      h2() !== e21[t3] && w2();
  }
  function h2() {
    k2();
    var t3 = e20[a2];
    return a2++, o2++, t3;
  }
  function d2() {
    a2--, o2--;
  }
  function v2() {
    for (var e21 = 4, t3 = 0; e21--; ) {
      t3 <<= 4;
      var n3 = h2().toLowerCase();
      n3 >= "a" && n3 <= "f" ? t3 += n3.charCodeAt() - xs + 10 : n3 >= "0" && n3 <= "9" ? t3 += +n3 : w2();
    }
    return String.fromCharCode(t3);
  }
  function p2() {
    for (var t3 = ""; e20[a2] >= "0" && e20[a2] <= "9"; )
      t3 += h2();
    if (t3.length)
      return t3;
    k2(), b2();
  }
  function m2(e21, t3) {
    g2(e21, t3, y2());
  }
  function g2(e21, t3, n3) {
    r2[e21] = r2[e21] || {}, r2[e21][t3] = n3;
  }
  function y2() {
    return { line: i2, column: o2, pos: a2 };
  }
  function b2() {
    throw new SyntaxError("Unexpected token " + e20[a2] + " in JSON at position " + a2);
  }
  function w2() {
    d2(), b2();
  }
  function k2() {
    if (a2 >= e20.length)
      throw new SyntaxError("Unexpected end of JSON input");
  }
}, ks.stringify = function(e20, t2, n2) {
  if (Cs(e20)) {
    var r2, i2, o2 = 0, a2 = zi(n2) == "object" ? n2.space : n2;
    switch (zi(a2)) {
      case "number":
        var s2 = a2 > 10 ? 10 : a2 < 0 ? 0 : Math.floor(a2);
        a2 = s2 && y2(s2, " "), r2 = s2, i2 = s2;
        break;
      case "string":
        a2 = a2.slice(0, 10), r2 = 0, i2 = 0;
        for (var u2 = 0; u2 < a2.length; u2++) {
          switch (a2[u2]) {
            case " ":
              i2++;
              break;
            case "	":
              i2 += 4;
              break;
            case "\r":
              i2 = 0;
              break;
            case "\n":
              i2 = 0, o2++;
              break;
            default:
              throw new Error("whitespace characters not allowed in JSON");
          }
          r2++;
        }
        break;
      default:
        a2 = void 0;
    }
    var c2 = "", l2 = {}, f2 = 0, h2 = 0, d2 = 0, v2 = n2 && n2.es6 && typeof Map == "function";
    return function e21(t3, n3, r3) {
      switch (g2(r3, "value"), zi(t3)) {
        case "number":
        case "bigint":
        case "boolean":
          p2("" + t3);
          break;
        case "string":
          p2(Ms(t3));
          break;
        case "object":
          t3 === null ? p2("null") : typeof t3.toJSON == "function" ? p2(Ms(t3.toJSON())) : Array.isArray(t3) ? i3() : v2 ? t3.constructor.BYTES_PER_ELEMENT ? i3() : t3 instanceof Map ? s3() : t3 instanceof Set ? s3(true) : o3() : o3();
      }
      function i3() {
        if (t3.length) {
          p2("[");
          for (var i4 = n3 + 1, o4 = 0; o4 < t3.length; o4++) {
            o4 && p2(","), m2(i4);
            var a3 = Cs(t3[o4]) ? t3[o4] : null;
            e21(a3, i4, r3 + "/" + o4);
          }
          m2(n3), p2("]");
        } else
          p2("[]");
      }
      function o3() {
        var i4 = Object.keys(t3);
        if (i4.length) {
          p2("{");
          for (var o4 = n3 + 1, s4 = 0; s4 < i4.length; s4++) {
            var u3 = i4[s4], c3 = t3[u3];
            if (Cs(c3)) {
              s4 && p2(",");
              var l3 = r3 + "/" + Ns(u3);
              m2(o4), g2(l3, "key"), p2(Ms(u3)), g2(l3, "keyEnd"), p2(":"), a2 && p2(" "), e21(c3, o4, l3);
            }
          }
          m2(n3), p2("}");
        } else
          p2("{}");
      }
      function s3(i4) {
        if (t3.size) {
          p2("{");
          for (var o4 = n3 + 1, s4 = true, u3 = t3.entries(), c3 = u3.next(); !c3.done; ) {
            var l3 = c3.value, f3 = l3[0], h3 = !!i4 || l3[1];
            if (Cs(h3)) {
              s4 || p2(","), s4 = false;
              var d3 = r3 + "/" + Ns(f3);
              m2(o4), g2(d3, "key"), p2(Ms(f3)), g2(d3, "keyEnd"), p2(":"), a2 && p2(" "), e21(h3, o4, d3);
            }
            c3 = u3.next();
          }
          m2(n3), p2("}");
        } else
          p2("{}");
      }
      g2(r3, "valueEnd");
    }(e20, 0, ""), { json: c2, pointers: l2 };
  }
  function p2(e21) {
    h2 += e21.length, d2 += e21.length, c2 += e21;
  }
  function m2(e21) {
    if (a2) {
      for (c2 += "\n" + y2(e21, a2), f2++, h2 = 0; e21--; )
        o2 ? (f2 += o2, h2 = i2) : h2 += i2, d2 += r2;
      d2 += 1;
    }
  }
  function g2(e21, t3) {
    l2[e21] = l2[e21] || {}, l2[e21][t3] = { line: f2, column: h2, pos: d2 };
  }
  function y2(e21, t3) {
    return Array(e21 + 1).join(t3);
  }
};
var Ss = ["number", "bigint", "boolean", "string", "object"];
function Cs(e20) {
  return Ss.indexOf(zi(e20)) >= 0;
}
var _s = /"|\\/g, $s = /[\b]/g, Os = /\f/g, Ps = /\n/g, As = /\r/g, Es = /\t/g;
function Ms(e20) {
  return '"' + (e20 = e20.replace(_s, "\\$&").replace(Os, "\\f").replace($s, "\\b").replace(Ps, "\\n").replace(As, "\\r").replace(Es, "\\t")) + '"';
}
var Ts = /~/g, Is = /\//g;
function Ns(e20) {
  return e20.replace(Ts, "~0").replace(Is, "~1");
}
var Ds = function() {
  function e20(t3, n3) {
    if (!(this instanceof e20))
      throw new SyntaxError("Constructor must be called with the new operator");
    this.message = t3 + " (char " + n3 + ")", this.char = n3, this.stack = new Error().stack;
  }
  (e20.prototype = new Error()).constructor = Error;
  var t2 = { "'": true, "\u2018": true, "\u2019": true, "`": true, "\xB4": true }, n2 = { '"': true, "\u201C": true, "\u201D": true };
  function r2(e21) {
    return i2.test(e21);
  }
  var i2 = /^[a-zA-Z_]$/, o2 = /^[0-9a-fA-F]$/;
  function a2(e21) {
    return s2.test(e21);
  }
  var s2 = /^[0-9]$/;
  function u2(e21) {
    return e21 === " " || e21 === "	" || e21 === "\n" || e21 === "\r";
  }
  function c2(e21) {
    return e21 === "\xA0" || "\u2000" <= e21 && e21 <= "\u200A" || e21 === "\u202F" || e21 === "\u205F" || e21 === "\u3000";
  }
  function l2(e21) {
    return t2[e21] === true;
  }
  function f2(e21) {
    return n2[e21] === true;
  }
  function h2(e21) {
    return t2[e21] === true ? "'" : n2[e21] === true ? '"' : e21;
  }
  function d2(e21, t3) {
    return (t3 = e21.lastIndexOf(t3)) !== -1 ? e21.substring(0, t3) + e21.substring(t3 + 1) : e21;
  }
  function v2(e21, t3) {
    var n3 = e21.length;
    if (!u2(e21[n3 - 1]))
      return e21 + t3;
    for (; u2(e21[n3 - 1]); )
      n3--;
    return e21.substring(0, n3) + t3 + e21.substring(n3);
  }
  var p2 = 0, m2 = 1, g2 = 2, y2 = 3, b2 = 4, w2 = 5, k2 = 6, j2 = { "": true, "{": true, "}": true, "[": true, "]": true, ":": true, ",": true, "(": true, ")": true, ";": true, "+": true }, x2 = { '"': '"', "\\": "\\", "/": "/", b: "\b", f: "\f", n: "\n", r: "\r", t: "	" }, S2 = { "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "	": "\\t" }, C2 = { null: "null", true: "true", false: "false" }, _2 = { None: "null", True: "true", False: "false" }, $2 = "", O2 = "", P2 = 0, A2 = "", E2 = "", M2 = k2;
  function T2() {
    P2++, A2 = $2.charAt(P2);
  }
  function I2() {
    T2(), A2 === "\\" && T2();
  }
  function N2() {
    return M2 === p2 && (E2 === "[" || E2 === "{") || M2 === g2 || M2 === m2 || M2 === y2;
  }
  function R2() {
    O2 += E2, M2 = k2, E2 = "", j2[A2] ? (M2 = p2, E2 = A2, T2()) : function() {
      if (a2(A2) || A2 === "-") {
        if (M2 = m2, A2 === "-") {
          if (E2 += A2, T2(), !a2(A2))
            throw new e20("Invalid number, digit expected", P2);
        } else
          A2 === "0" && (E2 += A2, T2());
        for (; a2(A2); )
          E2 += A2, T2();
        if (A2 === ".") {
          if (E2 += A2, T2(), !a2(A2))
            throw new e20("Invalid number, digit expected", P2);
          for (; a2(A2); )
            E2 += A2, T2();
        }
        if (A2 === "e" || A2 === "E") {
          if (E2 += A2, T2(), A2 !== "+" && A2 !== "-" || (E2 += A2, T2()), !a2(A2))
            throw new e20("Invalid number, digit expected", P2);
          for (; a2(A2); )
            E2 += A2, T2();
        }
      } else
        A2 === "\\" && $2.charAt(P2 + 1) === '"' ? (T2(), L2(I2)) : L2(T2);
    }(), M2 === b2 && (E2 = function(e21) {
      for (var t3 = "", n3 = 0; n3 < e21.length; n3++) {
        var r3 = e21[n3];
        t3 += c2(r3) ? " " : r3;
      }
      return t3;
    }(E2), R2()), M2 === w2 && (M2 = k2, E2 = "", R2());
  }
  function D2() {
    E2 === "," && (E2 = "", M2 = k2, R2());
  }
  function L2(i3) {
    if (t2[s3 = A2] === true || n2[s3] === true) {
      var s3 = h2(A2), d3 = l2(A2) ? l2 : f2;
      for (E2 += '"', M2 = g2, i3(); A2 !== "" && !d3(A2); )
        if (A2 === "\\")
          if (i3(), x2[A2] !== void 0)
            E2 += "\\" + A2, i3();
          else if (A2 === "u") {
            E2 += "\\u", i3();
            for (var v3 = 0; v3 < 4; v3++) {
              if (p3 = A2, !o2.test(p3))
                throw new e20("Invalid unicode character", P2 - E2.length);
              E2 += A2, i3();
            }
          } else {
            if (A2 !== "'")
              throw new e20('Invalid escape character "\\' + A2 + '"', P2);
            E2 += "'", i3();
          }
        else
          S2[A2] ? E2 += S2[A2] : E2 += A2 === '"' ? '\\"' : A2, i3();
      if (h2(A2) !== s3)
        throw new e20("End of string expected", P2 - E2.length);
      return E2 += '"', void i3();
    }
    var p3;
    !function() {
      if (r2(A2))
        for (M2 = y2; r2(A2) || a2(A2) || A2 === "$"; )
          E2 += A2, T2();
      else
        !function() {
          if (u2(A2) || c2(A2))
            for (M2 = b2; u2(A2) || c2(A2); )
              E2 += A2, T2();
          else
            !function() {
              if (A2 !== "/" || $2[P2 + 1] !== "*")
                if (A2 !== "/" || $2[P2 + 1] !== "/")
                  !function() {
                    for (M2 = k2; A2 !== ""; )
                      E2 += A2, T2();
                    throw new e20('Syntax error in part "' + E2 + '"', P2 - E2.length);
                  }();
                else
                  for (M2 = w2; A2 !== "" && A2 !== "\n"; )
                    E2 += A2, T2();
              else {
                for (M2 = w2; A2 !== "" && (A2 !== "*" || A2 === "*" && $2[P2 + 1] !== "/"); )
                  E2 += A2, T2();
                A2 === "*" && $2[P2 + 1] === "/" && (E2 += A2, T2(), E2 += A2, T2());
              }
            }();
        }();
    }();
  }
  function z2() {
    if (M2 !== p2 || E2 !== "{")
      !function() {
        if (M2 !== p2 || E2 !== "[")
          !function() {
            if (M2 !== g2)
              (M2 !== m2 ? function() {
                if (M2 !== y2)
                  !function() {
                    throw new e20(E2 === "" ? "Unexpected end of json string" : "Value expected", P2 - E2.length);
                  }();
                else if (C2[E2])
                  R2();
                else {
                  if (_2[E2])
                    return E2 = _2[E2], R2();
                  var t4 = E2, n3 = O2.length;
                  if (E2 = "", R2(), M2 === p2 && E2 === "(")
                    return E2 = "", R2(), z2(), M2 === p2 && E2 === ")" && (E2 = "", R2(), M2 === p2 && E2 === ";" && (E2 = "", R2()));
                  for (O2 = function(e21, t5, n4) {
                    return e21.substring(0, n4) + t5 + e21.substring(n4);
                  }(O2, '"'.concat(t4), n3); M2 === y2 || M2 === m2; )
                    R2();
                  O2 += '"';
                }
              } : R2)();
            else
              for (R2(); M2 === p2 && E2 === "+"; ) {
                var t3;
                E2 = "", R2(), M2 === g2 && (t3 = O2.lastIndexOf('"'), O2 = O2.substring(0, t3) + E2.substring(1), E2 = "", R2());
              }
          }();
        else if (R2(), M2 !== p2 || E2 !== "]") {
          for (; ; )
            if (z2(), M2 === p2 && E2 === ",") {
              if (R2(), M2 === p2 && E2 === "]") {
                O2 = d2(O2, ",");
                break;
              }
              if (E2 === "") {
                O2 = d2(O2, ",");
                break;
              }
            } else {
              if (!N2())
                break;
              O2 = v2(O2, ",");
            }
          M2 === p2 && E2 === "]" ? R2() : O2 = v2(O2, "]");
        } else
          R2();
      }();
    else if (R2(), M2 !== p2 || E2 !== "}") {
      for (; ; ) {
        if (M2 !== y2 && M2 !== m2 || (M2 = g2, E2 = '"'.concat(E2, '"')), M2 !== g2)
          throw new e20("Object key expected", P2 - E2.length);
        if (R2(), M2 === p2 && E2 === ":")
          R2();
        else {
          if (!N2())
            throw new e20("Colon expected", P2 - E2.length);
          O2 = v2(O2, ":");
        }
        if (z2(), M2 === p2 && E2 === ",") {
          if (R2(), M2 === p2 && E2 === "}") {
            O2 = d2(O2, ",");
            break;
          }
          if (E2 === "") {
            O2 = d2(O2, ",");
            break;
          }
        } else {
          if (M2 !== g2 && M2 !== m2 && M2 !== y2)
            break;
          O2 = v2(O2, ",");
        }
      }
      M2 === p2 && E2 === "}" ? R2() : O2 = v2(O2, "}");
    } else
      R2();
  }
  return function(t3) {
    O2 = "", P2 = 0, A2 = ($2 = t3).charAt(0), E2 = "", M2 = k2, R2();
    var n3 = M2;
    if (z2(), D2(), E2 === "")
      return O2;
    if (n3 === M2 && N2()) {
      for (var r3 = ""; n3 === M2 && N2(); )
        r3 += O2 = v2(O2, ","), O2 = "", z2(), D2();
      return "[\n".concat(r3).concat(O2, "\n]");
    }
    throw new e20("Unexpected characters", P2 - E2.length);
  };
}();
function Ls(e20) {
  return zi(e20) === "object" && e20 !== null && !Array.isArray(e20);
}
function zs(e20) {
  return zi(e20) === "object" && e20 !== null;
}
function Bs(e20) {
  var t2 = window.document.createElement("div");
  return t2.style.color = e20, t2.style.color.split(/\s+/).join("").toLowerCase() || null;
}
function qs(e20) {
  return e20 === null ? "null" : e20 === void 0 ? "undefined" : typeof e20 == "number" ? "number" : typeof e20 == "string" ? "string" : typeof e20 == "boolean" ? "boolean" : e20 instanceof RegExp ? "regexp" : Array.isArray(e20) ? "array" : "object";
}
var Fs = /^https?:\/\/\S+$/;
function Vs(e20) {
  return typeof e20 == "string" && Fs.test(e20);
}
function Hs(e20) {
  if (e20 === "")
    return "";
  if (e20 === "null")
    return null;
  if (e20 === "true")
    return true;
  if (e20 === "false")
    return false;
  var t2 = Number(e20);
  return isNaN(t2) || isNaN(parseFloat(e20)) ? e20 : t2;
}
function Ws(e20) {
  return typeof e20 == "string" && typeof Hs(e20) != "string";
}
var Us = [];
function Js(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], n2 = {};
  if (!Array.isArray(e20))
    throw new TypeError("Array expected");
  function r2(e21, i3) {
    (!Array.isArray(e21) && !Ls(e21) || t2 && i3.length > 0) && (n2[ws.exports.compileJSONPointer(i3)] = true), Ls(e21) && Object.keys(e21).forEach(function(t3) {
      r2(e21[t3], i3.concat(t3));
    });
  }
  for (var i2 = Math.min(e20.length, 1e4), o2 = 0; o2 < i2; o2++) {
    var a2 = e20[o2];
    r2(a2, Us);
  }
  var s2 = Object.keys(n2).sort();
  return s2.map(ws.exports.parseJSONPointer);
}
function Ks(e20, t2, n2) {
  if (!(t2 <= e20))
    for (var r2 = e20; r2 < t2; r2++)
      n2(r2);
}
function Gs(e20, t2) {
  return e20.length > t2 ? e20.slice(0, t2) : e20;
}
function Qs(e20) {
  return Ei({}, e20);
}
function Ys(e20) {
  return Object.values(e20);
}
function Zs(e20) {
  try {
    return JSON.parse(e20);
  } catch (t2) {
    return JSON.parse(Ds(e20));
  }
}
function Xs(e20) {
  try {
    return Zs(e20);
  } catch (e21) {
    return;
  }
}
function eu(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : JSON.parse;
  e20 = e20.replace(nu, "");
  try {
    return t2(e20);
  } catch (e21) {
  }
  try {
    return t2("[" + e20 + "]");
  } catch (e21) {
  }
  try {
    return t2("{" + e20 + "}");
  } catch (e21) {
  }
  throw new Error("Failed to parse partial JSON");
}
function tu(e20) {
  e20 = e20.replace(nu, "");
  try {
    return Ds(e20);
  } catch (e21) {
  }
  try {
    var t2 = Ds("[" + e20 + "]");
    return t2.substring(1, t2.length - 1);
  } catch (e21) {
  }
  try {
    var n2 = Ds("{" + e20 + "}");
    return n2.substring(1, n2.length - 1);
  } catch (e21) {
  }
  throw new Error("Failed to repair partial JSON");
}
var nu = /,\s*$/;
function ru(e20, t2) {
  var n2 = uu.exec(t2);
  if (n2) {
    var r2 = parseInt(n2[2], 10), i2 = function(e21, t3) {
      for (var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : e21.length, i3 = 0, o3 = n3; o3 < r3; o3++)
        e21.charAt(o3) === t3 && i3++;
      return i3;
    }(e20, "\n", 0, r2), o2 = r2 - e20.lastIndexOf("\n", r2) - 1;
    return { position: r2, line: i2, column: o2, message: t2.replace(uu, function() {
      return "line ".concat(i2 + 1, " column ").concat(o2 + 1);
    }) };
  }
  var a2 = cu.exec(t2), s2 = a2 ? parseInt(a2[1], 10) : null, u2 = s2 !== null ? s2 - 1 : null, c2 = lu.exec(t2), l2 = c2 ? parseInt(c2[1], 10) : null, f2 = l2 !== null ? l2 - 1 : null;
  return { position: u2 !== null && f2 !== null ? function(e21, t3, n3) {
    var r3 = e21.indexOf("\n"), i3 = 1;
    for (; i3 < t3 && r3 !== -1; )
      r3 = e21.indexOf("\n", r3 + 1), i3++;
    return r3 !== -1 ? r3 + n3 + 1 : null;
  }(e20, u2, f2) : null, line: u2, column: f2, message: t2.replace(/^JSON.parse: /, "").replace(/ of the JSON data$/, "") };
}
function iu(e20) {
  return Ls(e20) ? e20.json !== void 0 ? e20.text !== void 0 ? 'Content must contain either a property "json" or a property "text" but not both' : null : e20.text === void 0 ? 'Content must contain either a property "json" or a property "text"' : typeof e20.text != "string" ? 'Content "text" property must be string' : null : "Content must be an object";
}
function ou(e20) {
  return typeof e20.text == "string";
}
function au(e20, t2) {
  return su(e20, t2) > t2;
}
function su(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1 / 0;
  if (ou(e20))
    return e20.text.length;
  var n2 = e20.json, r2 = 0;
  function i2(e21) {
    if (Array.isArray(e21)) {
      if ((r2 += e21.length - 1 + 2) > t2)
        return r2;
      for (var n3 = 0; n3 < e21.length; n3++) {
        if (i2(e21[n3]), r2 > t2)
          return r2;
      }
    } else if (Ls(e21)) {
      var o2 = Object.keys(e21);
      r2 += 2 + o2.length + (o2.length - 1);
      for (var a2 = 0; a2 < o2.length; a2++) {
        var s2 = o2[a2], u2 = e21[s2];
        r2 += s2.length + 2, i2(u2);
      }
    } else
      r2 += typeof e21 == "string" ? e21.length + 2 : String(e21).length;
  }
  return i2(n2), r2;
}
var uu = /(position|char) (\d+)/, cu = /line (\d+)/, lu = /column (\d+)/, fu = (typeof global == "undefined" ? "undefined" : zi(global)) == "object" && global && global.Object === Object && global, hu = (typeof self == "undefined" ? "undefined" : zi(self)) == "object" && self && self.Object === Object && self, du = fu || hu || Function("return this")(), vu = du.Symbol, pu = Object.prototype, mu = pu.hasOwnProperty, gu = pu.toString, yu = vu ? vu.toStringTag : void 0;
var bu = Object.prototype.toString;
var wu = vu ? vu.toStringTag : void 0;
function ku(e20) {
  return e20 == null ? e20 === void 0 ? "[object Undefined]" : "[object Null]" : wu && wu in Object(e20) ? function(e21) {
    var t2 = mu.call(e21, yu), n2 = e21[yu];
    try {
      e21[yu] = void 0;
      var r2 = true;
    } catch (e22) {
    }
    var i2 = gu.call(e21);
    return r2 && (t2 ? e21[yu] = n2 : delete e21[yu]), i2;
  }(e20) : function(e21) {
    return bu.call(e21);
  }(e20);
}
function ju(e20) {
  return e20 != null && zi(e20) == "object";
}
function xu(e20) {
  return zi(e20) == "symbol" || ju(e20) && ku(e20) == "[object Symbol]";
}
function Su(e20) {
  return typeof e20 == "number" ? e20 : xu(e20) ? NaN : +e20;
}
function Cu(e20, t2) {
  for (var n2 = -1, r2 = e20 == null ? 0 : e20.length, i2 = Array(r2); ++n2 < r2; )
    i2[n2] = t2(e20[n2], n2, e20);
  return i2;
}
var _u = Array.isArray, $u = vu ? vu.prototype : void 0, Ou = $u ? $u.toString : void 0;
function Pu(e20) {
  if (typeof e20 == "string")
    return e20;
  if (_u(e20))
    return Cu(e20, Pu) + "";
  if (xu(e20))
    return Ou ? Ou.call(e20) : "";
  var t2 = e20 + "";
  return t2 == "0" && 1 / e20 == -Infinity ? "-0" : t2;
}
function Au(e20, t2) {
  return function(n2, r2) {
    var i2;
    if (n2 === void 0 && r2 === void 0)
      return t2;
    if (n2 !== void 0 && (i2 = n2), r2 !== void 0) {
      if (i2 === void 0)
        return r2;
      typeof n2 == "string" || typeof r2 == "string" ? (n2 = Pu(n2), r2 = Pu(r2)) : (n2 = Su(n2), r2 = Su(r2)), i2 = e20(n2, r2);
    }
    return i2;
  };
}
var Eu = Au(function(e20, t2) {
  return e20 + t2;
}, 0), Mu = /\s/;
function Tu(e20) {
  for (var t2 = e20.length; t2-- && Mu.test(e20.charAt(t2)); )
    ;
  return t2;
}
var Iu = /^\s+/;
function Nu(e20) {
  return e20 ? e20.slice(0, Tu(e20) + 1).replace(Iu, "") : e20;
}
function Ru(e20) {
  var t2 = zi(e20);
  return e20 != null && (t2 == "object" || t2 == "function");
}
var Du = /^[-+]0x[0-9a-f]+$/i, Lu = /^0b[01]+$/i, zu = /^0o[0-7]+$/i, Bu = parseInt;
function qu(e20) {
  if (typeof e20 == "number")
    return e20;
  if (xu(e20))
    return NaN;
  if (Ru(e20)) {
    var t2 = typeof e20.valueOf == "function" ? e20.valueOf() : e20;
    e20 = Ru(t2) ? t2 + "" : t2;
  }
  if (typeof e20 != "string")
    return e20 === 0 ? e20 : +e20;
  e20 = Nu(e20);
  var n2 = Lu.test(e20);
  return n2 || zu.test(e20) ? Bu(e20.slice(2), n2 ? 2 : 8) : Du.test(e20) ? NaN : +e20;
}
function Fu(e20) {
  return e20 ? (e20 = qu(e20)) === Infinity || e20 === -Infinity ? 17976931348623157e292 * (e20 < 0 ? -1 : 1) : e20 == e20 ? e20 : 0 : e20 === 0 ? e20 : 0;
}
function Vu(e20) {
  var t2 = Fu(e20), n2 = t2 % 1;
  return t2 == t2 ? n2 ? t2 - n2 : t2 : 0;
}
function Hu(e20, t2) {
  if (typeof t2 != "function")
    throw new TypeError("Expected a function");
  return e20 = Vu(e20), function() {
    if (--e20 < 1)
      return t2.apply(this, arguments);
  };
}
function Wu(e20) {
  return e20;
}
function Uu(e20) {
  if (!Ru(e20))
    return false;
  var t2 = ku(e20);
  return t2 == "[object Function]" || t2 == "[object GeneratorFunction]" || t2 == "[object AsyncFunction]" || t2 == "[object Proxy]";
}
var Ju, Ku = du["__core-js_shared__"], Gu = (Ju = /[^.]+$/.exec(Ku && Ku.keys && Ku.keys.IE_PROTO || "")) ? "Symbol(src)_1." + Ju : "";
var Qu = Function.prototype.toString;
function Yu(e20) {
  if (e20 != null) {
    try {
      return Qu.call(e20);
    } catch (e21) {
    }
    try {
      return e20 + "";
    } catch (e21) {
    }
  }
  return "";
}
var Zu = /^\[object .+?Constructor\]$/, Xu = Function.prototype, ec = Object.prototype, tc = Xu.toString, nc = ec.hasOwnProperty, rc = RegExp("^" + tc.call(nc).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function ic(e20) {
  return !(!Ru(e20) || function(e21) {
    return !!Gu && Gu in e21;
  }(e20)) && (Uu(e20) ? rc : Zu).test(Yu(e20));
}
function oc(e20, t2) {
  var n2 = function(e21, t3) {
    return e21 == null ? void 0 : e21[t3];
  }(e20, t2);
  return ic(n2) ? n2 : void 0;
}
var ac = oc(du, "WeakMap"), sc = ac && new ac(), uc = sc ? function(e20, t2) {
  return sc.set(e20, t2), e20;
} : Wu, cc = Object.create, lc = function() {
  function e20() {
  }
  return function(t2) {
    if (!Ru(t2))
      return {};
    if (cc)
      return cc(t2);
    e20.prototype = t2;
    var n2 = new e20();
    return e20.prototype = void 0, n2;
  };
}();
function fc(e20) {
  return function() {
    var t2 = arguments;
    switch (t2.length) {
      case 0:
        return new e20();
      case 1:
        return new e20(t2[0]);
      case 2:
        return new e20(t2[0], t2[1]);
      case 3:
        return new e20(t2[0], t2[1], t2[2]);
      case 4:
        return new e20(t2[0], t2[1], t2[2], t2[3]);
      case 5:
        return new e20(t2[0], t2[1], t2[2], t2[3], t2[4]);
      case 6:
        return new e20(t2[0], t2[1], t2[2], t2[3], t2[4], t2[5]);
      case 7:
        return new e20(t2[0], t2[1], t2[2], t2[3], t2[4], t2[5], t2[6]);
    }
    var n2 = lc(e20.prototype), r2 = e20.apply(n2, t2);
    return Ru(r2) ? r2 : n2;
  };
}
function hc(e20, t2, n2) {
  switch (n2.length) {
    case 0:
      return e20.call(t2);
    case 1:
      return e20.call(t2, n2[0]);
    case 2:
      return e20.call(t2, n2[0], n2[1]);
    case 3:
      return e20.call(t2, n2[0], n2[1], n2[2]);
  }
  return e20.apply(t2, n2);
}
var dc = Math.max;
function vc(e20, t2, n2, r2) {
  for (var i2 = -1, o2 = e20.length, a2 = n2.length, s2 = -1, u2 = t2.length, c2 = dc(o2 - a2, 0), l2 = Array(u2 + c2), f2 = !r2; ++s2 < u2; )
    l2[s2] = t2[s2];
  for (; ++i2 < a2; )
    (f2 || i2 < o2) && (l2[n2[i2]] = e20[i2]);
  for (; c2--; )
    l2[s2++] = e20[i2++];
  return l2;
}
var pc = Math.max;
function mc(e20, t2, n2, r2) {
  for (var i2 = -1, o2 = e20.length, a2 = -1, s2 = n2.length, u2 = -1, c2 = t2.length, l2 = pc(o2 - s2, 0), f2 = Array(l2 + c2), h2 = !r2; ++i2 < l2; )
    f2[i2] = e20[i2];
  for (var d2 = i2; ++u2 < c2; )
    f2[d2 + u2] = t2[u2];
  for (; ++a2 < s2; )
    (h2 || i2 < o2) && (f2[d2 + n2[a2]] = e20[i2++]);
  return f2;
}
function gc(e20, t2) {
  for (var n2 = e20.length, r2 = 0; n2--; )
    e20[n2] === t2 && ++r2;
  return r2;
}
function yc() {
}
function bc(e20) {
  this.__wrapped__ = e20, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = false, this.__iteratees__ = [], this.__takeCount__ = 4294967295, this.__views__ = [];
}
function wc() {
}
bc.prototype = lc(yc.prototype), bc.prototype.constructor = bc;
var kc = sc ? function(e20) {
  return sc.get(e20);
} : wc, jc = {}, xc = Object.prototype.hasOwnProperty;
function Sc(e20) {
  for (var t2 = e20.name + "", n2 = jc[t2], r2 = xc.call(jc, t2) ? n2.length : 0; r2--; ) {
    var i2 = n2[r2], o2 = i2.func;
    if (o2 == null || o2 == e20)
      return i2.name;
  }
  return t2;
}
function Cc(e20, t2) {
  this.__wrapped__ = e20, this.__actions__ = [], this.__chain__ = !!t2, this.__index__ = 0, this.__values__ = void 0;
}
function _c(e20, t2) {
  var n2 = -1, r2 = e20.length;
  for (t2 || (t2 = Array(r2)); ++n2 < r2; )
    t2[n2] = e20[n2];
  return t2;
}
function $c(e20) {
  if (e20 instanceof bc)
    return e20.clone();
  var t2 = new Cc(e20.__wrapped__, e20.__chain__);
  return t2.__actions__ = _c(e20.__actions__), t2.__index__ = e20.__index__, t2.__values__ = e20.__values__, t2;
}
Cc.prototype = lc(yc.prototype), Cc.prototype.constructor = Cc;
var Oc = Object.prototype.hasOwnProperty;
function Pc(e20) {
  if (ju(e20) && !_u(e20) && !(e20 instanceof bc)) {
    if (e20 instanceof Cc)
      return e20;
    if (Oc.call(e20, "__wrapped__"))
      return $c(e20);
  }
  return new Cc(e20);
}
function Ac(e20) {
  var t2 = Sc(e20), n2 = Pc[t2];
  if (typeof n2 != "function" || !(t2 in bc.prototype))
    return false;
  if (e20 === n2)
    return true;
  var r2 = kc(n2);
  return !!r2 && e20 === r2[0];
}
Pc.prototype = yc.prototype, Pc.prototype.constructor = Pc;
var Ec = Date.now;
function Mc(e20) {
  var t2 = 0, n2 = 0;
  return function() {
    var r2 = Ec(), i2 = 16 - (r2 - n2);
    if (n2 = r2, i2 > 0) {
      if (++t2 >= 800)
        return arguments[0];
    } else
      t2 = 0;
    return e20.apply(void 0, arguments);
  };
}
var Tc = Mc(uc), Ic = /\{\n\/\* \[wrapped with (.+)\] \*/, Nc = /,? & /;
var Rc = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;
function Dc(e20) {
  return function() {
    return e20;
  };
}
var Lc = function() {
  try {
    var e20 = oc(Object, "defineProperty");
    return e20({}, "", {}), e20;
  } catch (e21) {
  }
}(), zc = Mc(Lc ? function(e20, t2) {
  return Lc(e20, "toString", { configurable: true, enumerable: false, value: Dc(t2), writable: true });
} : Wu);
function Bc(e20, t2) {
  for (var n2 = -1, r2 = e20 == null ? 0 : e20.length; ++n2 < r2 && t2(e20[n2], n2, e20) !== false; )
    ;
  return e20;
}
function qc(e20, t2, n2, r2) {
  for (var i2 = e20.length, o2 = n2 + (r2 ? 1 : -1); r2 ? o2-- : ++o2 < i2; )
    if (t2(e20[o2], o2, e20))
      return o2;
  return -1;
}
function Fc(e20) {
  return e20 != e20;
}
function Vc(e20, t2, n2) {
  return t2 == t2 ? function(e21, t3, n3) {
    for (var r2 = n3 - 1, i2 = e21.length; ++r2 < i2; )
      if (e21[r2] === t3)
        return r2;
    return -1;
  }(e20, t2, n2) : qc(e20, Fc, n2);
}
function Hc(e20, t2) {
  return !!(e20 == null ? 0 : e20.length) && Vc(e20, t2, 0) > -1;
}
var Wc = [["ary", 128], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]];
function Uc(e20, t2, n2) {
  var r2 = t2 + "";
  return zc(e20, function(e21, t3) {
    var n3 = t3.length;
    if (!n3)
      return e21;
    var r3 = n3 - 1;
    return t3[r3] = (n3 > 1 ? "& " : "") + t3[r3], t3 = t3.join(n3 > 2 ? ", " : " "), e21.replace(Rc, "{\n/* [wrapped with " + t3 + "] */\n");
  }(r2, function(e21, t3) {
    return Bc(Wc, function(n3) {
      var r3 = "_." + n3[0];
      t3 & n3[1] && !Hc(e21, r3) && e21.push(r3);
    }), e21.sort();
  }(function(e21) {
    var t3 = e21.match(Ic);
    return t3 ? t3[1].split(Nc) : [];
  }(r2), n2)));
}
function Jc(e20, t2, n2, r2, i2, o2, a2, s2, u2, c2) {
  var l2 = 8 & t2;
  t2 |= l2 ? 32 : 64, 4 & (t2 &= ~(l2 ? 64 : 32)) || (t2 &= -4);
  var f2 = [e20, t2, i2, l2 ? o2 : void 0, l2 ? a2 : void 0, l2 ? void 0 : o2, l2 ? void 0 : a2, s2, u2, c2], h2 = n2.apply(void 0, f2);
  return Ac(e20) && Tc(h2, f2), h2.placeholder = r2, Uc(h2, e20, t2);
}
function Kc(e20) {
  return e20.placeholder;
}
var Gc = /^(?:0|[1-9]\d*)$/;
function Qc(e20, t2) {
  var n2 = zi(e20);
  return !!(t2 = t2 == null ? 9007199254740991 : t2) && (n2 == "number" || n2 != "symbol" && Gc.test(e20)) && e20 > -1 && e20 % 1 == 0 && e20 < t2;
}
var Yc = Math.min;
function Zc(e20, t2) {
  for (var n2 = e20.length, r2 = Yc(t2.length, n2), i2 = _c(e20); r2--; ) {
    var o2 = t2[r2];
    e20[r2] = Qc(o2, n2) ? i2[o2] : void 0;
  }
  return e20;
}
function Xc(e20, t2) {
  for (var n2 = -1, r2 = e20.length, i2 = 0, o2 = []; ++n2 < r2; ) {
    var a2 = e20[n2];
    a2 !== t2 && a2 !== "__lodash_placeholder__" || (e20[n2] = "__lodash_placeholder__", o2[i2++] = n2);
  }
  return o2;
}
function el(e20, t2, n2, r2, i2, o2, a2, s2, u2, c2) {
  var l2 = 128 & t2, f2 = 1 & t2, h2 = 2 & t2, d2 = 24 & t2, v2 = 512 & t2, p2 = h2 ? void 0 : fc(e20);
  return function m2() {
    for (var g2 = arguments.length, y2 = Array(g2), b2 = g2; b2--; )
      y2[b2] = arguments[b2];
    if (d2)
      var w2 = Kc(m2), k2 = gc(y2, w2);
    if (r2 && (y2 = vc(y2, r2, i2, d2)), o2 && (y2 = mc(y2, o2, a2, d2)), g2 -= k2, d2 && g2 < c2) {
      var j2 = Xc(y2, w2);
      return Jc(e20, t2, el, m2.placeholder, n2, y2, j2, s2, u2, c2 - g2);
    }
    var x2 = f2 ? n2 : this, S2 = h2 ? x2[e20] : e20;
    return g2 = y2.length, s2 ? y2 = Zc(y2, s2) : v2 && g2 > 1 && y2.reverse(), l2 && u2 < g2 && (y2.length = u2), this && this !== du && this instanceof m2 && (S2 = p2 || fc(S2)), S2.apply(x2, y2);
  };
}
var tl = Math.min;
var nl = Math.max;
function rl(e20, t2, n2, r2, i2, o2, a2, s2) {
  var u2 = 2 & t2;
  if (!u2 && typeof e20 != "function")
    throw new TypeError("Expected a function");
  var c2 = r2 ? r2.length : 0;
  if (c2 || (t2 &= -97, r2 = i2 = void 0), a2 = a2 === void 0 ? a2 : nl(Vu(a2), 0), s2 = s2 === void 0 ? s2 : Vu(s2), c2 -= i2 ? i2.length : 0, 64 & t2) {
    var l2 = r2, f2 = i2;
    r2 = i2 = void 0;
  }
  var h2 = u2 ? void 0 : kc(e20), d2 = [e20, t2, n2, r2, i2, l2, f2, o2, a2, s2];
  if (h2 && function(e21, t3) {
    var n3 = e21[1], r3 = t3[1], i3 = n3 | r3, o3 = i3 < 131, a3 = r3 == 128 && n3 == 8 || r3 == 128 && n3 == 256 && e21[7].length <= t3[8] || r3 == 384 && t3[7].length <= t3[8] && n3 == 8;
    if (!o3 && !a3)
      return e21;
    1 & r3 && (e21[2] = t3[2], i3 |= 1 & n3 ? 0 : 4);
    var s3 = t3[3];
    if (s3) {
      var u3 = e21[3];
      e21[3] = u3 ? vc(u3, s3, t3[4]) : s3, e21[4] = u3 ? Xc(e21[3], "__lodash_placeholder__") : t3[4];
    }
    (s3 = t3[5]) && (u3 = e21[5], e21[5] = u3 ? mc(u3, s3, t3[6]) : s3, e21[6] = u3 ? Xc(e21[5], "__lodash_placeholder__") : t3[6]), (s3 = t3[7]) && (e21[7] = s3), 128 & r3 && (e21[8] = e21[8] == null ? t3[8] : tl(e21[8], t3[8])), e21[9] == null && (e21[9] = t3[9]), e21[0] = t3[0], e21[1] = i3;
  }(d2, h2), e20 = d2[0], t2 = d2[1], n2 = d2[2], r2 = d2[3], i2 = d2[4], !(s2 = d2[9] = d2[9] === void 0 ? u2 ? 0 : e20.length : nl(d2[9] - c2, 0)) && 24 & t2 && (t2 &= -25), t2 && t2 != 1)
    v2 = t2 == 8 || t2 == 16 ? function(e21, t3, n3) {
      var r3 = fc(e21);
      return function i3() {
        for (var o3 = arguments.length, a3 = Array(o3), s3 = o3, u3 = Kc(i3); s3--; )
          a3[s3] = arguments[s3];
        var c3 = o3 < 3 && a3[0] !== u3 && a3[o3 - 1] !== u3 ? [] : Xc(a3, u3);
        return (o3 -= c3.length) < n3 ? Jc(e21, t3, el, i3.placeholder, void 0, a3, c3, void 0, void 0, n3 - o3) : hc(this && this !== du && this instanceof i3 ? r3 : e21, this, a3);
      };
    }(e20, t2, s2) : t2 != 32 && t2 != 33 || i2.length ? el.apply(void 0, d2) : function(e21, t3, n3, r3) {
      var i3 = 1 & t3, o3 = fc(e21);
      return function t4() {
        for (var a3 = -1, s3 = arguments.length, u3 = -1, c3 = r3.length, l3 = Array(c3 + s3), f3 = this && this !== du && this instanceof t4 ? o3 : e21; ++u3 < c3; )
          l3[u3] = r3[u3];
        for (; s3--; )
          l3[u3++] = arguments[++a3];
        return hc(f3, i3 ? n3 : this, l3);
      };
    }(e20, t2, n2, r2);
  else
    var v2 = function(e21, t3, n3) {
      var r3 = 1 & t3, i3 = fc(e21);
      return function t4() {
        return (this && this !== du && this instanceof t4 ? i3 : e21).apply(r3 ? n3 : this, arguments);
      };
    }(e20, t2, n2);
  return Uc((h2 ? uc : Tc)(v2, d2), e20, t2);
}
function il(e20, t2, n2) {
  return t2 = n2 ? void 0 : t2, rl(e20, 128, void 0, void 0, void 0, void 0, t2 = e20 && t2 == null ? e20.length : t2);
}
function ol(e20, t2, n2) {
  t2 == "__proto__" && Lc ? Lc(e20, t2, { configurable: true, enumerable: true, value: n2, writable: true }) : e20[t2] = n2;
}
function al(e20, t2) {
  return e20 === t2 || e20 != e20 && t2 != t2;
}
var sl = Object.prototype.hasOwnProperty;
function ul(e20, t2, n2) {
  var r2 = e20[t2];
  sl.call(e20, t2) && al(r2, n2) && (n2 !== void 0 || t2 in e20) || ol(e20, t2, n2);
}
function cl(e20, t2, n2, r2) {
  var i2 = !n2;
  n2 || (n2 = {});
  for (var o2 = -1, a2 = t2.length; ++o2 < a2; ) {
    var s2 = t2[o2], u2 = r2 ? r2(n2[s2], e20[s2], s2, n2, e20) : void 0;
    u2 === void 0 && (u2 = e20[s2]), i2 ? ol(n2, s2, u2) : ul(n2, s2, u2);
  }
  return n2;
}
var ll = Math.max;
function fl(e20, t2, n2) {
  return t2 = ll(t2 === void 0 ? e20.length - 1 : t2, 0), function() {
    for (var r2 = arguments, i2 = -1, o2 = ll(r2.length - t2, 0), a2 = Array(o2); ++i2 < o2; )
      a2[i2] = r2[t2 + i2];
    i2 = -1;
    for (var s2 = Array(t2 + 1); ++i2 < t2; )
      s2[i2] = r2[i2];
    return s2[t2] = n2(a2), hc(e20, this, s2);
  };
}
function hl(e20, t2) {
  return zc(fl(e20, t2, Wu), e20 + "");
}
function dl(e20) {
  return typeof e20 == "number" && e20 > -1 && e20 % 1 == 0 && e20 <= 9007199254740991;
}
function vl(e20) {
  return e20 != null && dl(e20.length) && !Uu(e20);
}
function pl(e20, t2, n2) {
  if (!Ru(n2))
    return false;
  var r2 = zi(t2);
  return !!(r2 == "number" ? vl(n2) && Qc(t2, n2.length) : r2 == "string" && t2 in n2) && al(n2[t2], e20);
}
function ml(e20) {
  return hl(function(t2, n2) {
    var r2 = -1, i2 = n2.length, o2 = i2 > 1 ? n2[i2 - 1] : void 0, a2 = i2 > 2 ? n2[2] : void 0;
    for (o2 = e20.length > 3 && typeof o2 == "function" ? (i2--, o2) : void 0, a2 && pl(n2[0], n2[1], a2) && (o2 = i2 < 3 ? void 0 : o2, i2 = 1), t2 = Object(t2); ++r2 < i2; ) {
      var s2 = n2[r2];
      s2 && e20(t2, s2, r2, o2);
    }
    return t2;
  });
}
var gl = Object.prototype;
function yl(e20) {
  var t2 = e20 && e20.constructor;
  return e20 === (typeof t2 == "function" && t2.prototype || gl);
}
function bl(e20, t2) {
  for (var n2 = -1, r2 = Array(e20); ++n2 < e20; )
    r2[n2] = t2(n2);
  return r2;
}
function wl(e20) {
  return ju(e20) && ku(e20) == "[object Arguments]";
}
var kl = Object.prototype, jl = kl.hasOwnProperty, xl = kl.propertyIsEnumerable, Sl = wl(function() {
  return arguments;
}()) ? wl : function(e20) {
  return ju(e20) && jl.call(e20, "callee") && !xl.call(e20, "callee");
};
function Cl() {
  return false;
}
var _l = (typeof exports == "undefined" ? "undefined" : zi(exports)) == "object" && exports && !exports.nodeType && exports, $l = _l && (typeof module == "undefined" ? "undefined" : zi(module)) == "object" && module && !module.nodeType && module, Ol = $l && $l.exports === _l ? du.Buffer : void 0, Pl = (Ol ? Ol.isBuffer : void 0) || Cl, Al = {};
function El(e20) {
  return function(t2) {
    return e20(t2);
  };
}
Al["[object Float32Array]"] = Al["[object Float64Array]"] = Al["[object Int8Array]"] = Al["[object Int16Array]"] = Al["[object Int32Array]"] = Al["[object Uint8Array]"] = Al["[object Uint8ClampedArray]"] = Al["[object Uint16Array]"] = Al["[object Uint32Array]"] = true, Al["[object Arguments]"] = Al["[object Array]"] = Al["[object ArrayBuffer]"] = Al["[object Boolean]"] = Al["[object DataView]"] = Al["[object Date]"] = Al["[object Error]"] = Al["[object Function]"] = Al["[object Map]"] = Al["[object Number]"] = Al["[object Object]"] = Al["[object RegExp]"] = Al["[object Set]"] = Al["[object String]"] = Al["[object WeakMap]"] = false;
var Ml = (typeof exports == "undefined" ? "undefined" : zi(exports)) == "object" && exports && !exports.nodeType && exports, Tl = Ml && (typeof module == "undefined" ? "undefined" : zi(module)) == "object" && module && !module.nodeType && module, Il = Tl && Tl.exports === Ml && fu.process, Nl = function() {
  try {
    var e20 = Tl && Tl.require && Tl.require("util").types;
    return e20 || Il && Il.binding && Il.binding("util");
  } catch (e21) {
  }
}(), Rl = Nl && Nl.isTypedArray, Dl = Rl ? El(Rl) : function(e20) {
  return ju(e20) && dl(e20.length) && !!Al[ku(e20)];
}, Ll = Object.prototype.hasOwnProperty;
function zl(e20, t2) {
  var n2 = _u(e20), r2 = !n2 && Sl(e20), i2 = !n2 && !r2 && Pl(e20), o2 = !n2 && !r2 && !i2 && Dl(e20), a2 = n2 || r2 || i2 || o2, s2 = a2 ? bl(e20.length, String) : [], u2 = s2.length;
  for (var c2 in e20)
    !t2 && !Ll.call(e20, c2) || a2 && (c2 == "length" || i2 && (c2 == "offset" || c2 == "parent") || o2 && (c2 == "buffer" || c2 == "byteLength" || c2 == "byteOffset") || Qc(c2, u2)) || s2.push(c2);
  return s2;
}
function Bl(e20, t2) {
  return function(n2) {
    return e20(t2(n2));
  };
}
var ql = Bl(Object.keys, Object), Fl = Object.prototype.hasOwnProperty;
function Vl(e20) {
  if (!yl(e20))
    return ql(e20);
  var t2 = [];
  for (var n2 in Object(e20))
    Fl.call(e20, n2) && n2 != "constructor" && t2.push(n2);
  return t2;
}
function Hl(e20) {
  return vl(e20) ? zl(e20) : Vl(e20);
}
var Wl = Object.prototype.hasOwnProperty, Ul = ml(function(e20, t2) {
  if (yl(t2) || vl(t2))
    cl(t2, Hl(t2), e20);
  else
    for (var n2 in t2)
      Wl.call(t2, n2) && ul(e20, n2, t2[n2]);
});
var Jl = Object.prototype.hasOwnProperty;
function Kl(e20) {
  if (!Ru(e20))
    return function(e21) {
      var t3 = [];
      if (e21 != null)
        for (var n3 in Object(e21))
          t3.push(n3);
      return t3;
    }(e20);
  var t2 = yl(e20), n2 = [];
  for (var r2 in e20)
    (r2 != "constructor" || !t2 && Jl.call(e20, r2)) && n2.push(r2);
  return n2;
}
function Gl(e20) {
  return vl(e20) ? zl(e20, true) : Kl(e20);
}
var Ql = ml(function(e20, t2) {
  cl(t2, Gl(t2), e20);
}), Yl = ml(function(e20, t2, n2, r2) {
  cl(t2, Gl(t2), e20, r2);
}), Zl = ml(function(e20, t2, n2, r2) {
  cl(t2, Hl(t2), e20, r2);
}), Xl = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ef = /^\w*$/;
function tf(e20, t2) {
  if (_u(e20))
    return false;
  var n2 = zi(e20);
  return !(n2 != "number" && n2 != "symbol" && n2 != "boolean" && e20 != null && !xu(e20)) || (ef.test(e20) || !Xl.test(e20) || t2 != null && e20 in Object(t2));
}
var nf = oc(Object, "create");
var rf = Object.prototype.hasOwnProperty;
var of = Object.prototype.hasOwnProperty;
function af(e20) {
  var t2 = -1, n2 = e20 == null ? 0 : e20.length;
  for (this.clear(); ++t2 < n2; ) {
    var r2 = e20[t2];
    this.set(r2[0], r2[1]);
  }
}
function sf(e20, t2) {
  for (var n2 = e20.length; n2--; )
    if (al(e20[n2][0], t2))
      return n2;
  return -1;
}
af.prototype.clear = function() {
  this.__data__ = nf ? nf(null) : {}, this.size = 0;
}, af.prototype.delete = function(e20) {
  var t2 = this.has(e20) && delete this.__data__[e20];
  return this.size -= t2 ? 1 : 0, t2;
}, af.prototype.get = function(e20) {
  var t2 = this.__data__;
  if (nf) {
    var n2 = t2[e20];
    return n2 === "__lodash_hash_undefined__" ? void 0 : n2;
  }
  return rf.call(t2, e20) ? t2[e20] : void 0;
}, af.prototype.has = function(e20) {
  var t2 = this.__data__;
  return nf ? t2[e20] !== void 0 : of.call(t2, e20);
}, af.prototype.set = function(e20, t2) {
  var n2 = this.__data__;
  return this.size += this.has(e20) ? 0 : 1, n2[e20] = nf && t2 === void 0 ? "__lodash_hash_undefined__" : t2, this;
};
var uf = Array.prototype.splice;
function cf(e20) {
  var t2 = -1, n2 = e20 == null ? 0 : e20.length;
  for (this.clear(); ++t2 < n2; ) {
    var r2 = e20[t2];
    this.set(r2[0], r2[1]);
  }
}
cf.prototype.clear = function() {
  this.__data__ = [], this.size = 0;
}, cf.prototype.delete = function(e20) {
  var t2 = this.__data__, n2 = sf(t2, e20);
  return !(n2 < 0) && (n2 == t2.length - 1 ? t2.pop() : uf.call(t2, n2, 1), --this.size, true);
}, cf.prototype.get = function(e20) {
  var t2 = this.__data__, n2 = sf(t2, e20);
  return n2 < 0 ? void 0 : t2[n2][1];
}, cf.prototype.has = function(e20) {
  return sf(this.__data__, e20) > -1;
}, cf.prototype.set = function(e20, t2) {
  var n2 = this.__data__, r2 = sf(n2, e20);
  return r2 < 0 ? (++this.size, n2.push([e20, t2])) : n2[r2][1] = t2, this;
};
var lf = oc(du, "Map");
function ff(e20, t2) {
  var n2, r2, i2 = e20.__data__;
  return ((r2 = zi(n2 = t2)) == "string" || r2 == "number" || r2 == "symbol" || r2 == "boolean" ? n2 !== "__proto__" : n2 === null) ? i2[typeof t2 == "string" ? "string" : "hash"] : i2.map;
}
function hf(e20) {
  var t2 = -1, n2 = e20 == null ? 0 : e20.length;
  for (this.clear(); ++t2 < n2; ) {
    var r2 = e20[t2];
    this.set(r2[0], r2[1]);
  }
}
hf.prototype.clear = function() {
  this.size = 0, this.__data__ = { hash: new af(), map: new (lf || cf)(), string: new af() };
}, hf.prototype.delete = function(e20) {
  var t2 = ff(this, e20).delete(e20);
  return this.size -= t2 ? 1 : 0, t2;
}, hf.prototype.get = function(e20) {
  return ff(this, e20).get(e20);
}, hf.prototype.has = function(e20) {
  return ff(this, e20).has(e20);
}, hf.prototype.set = function(e20, t2) {
  var n2 = ff(this, e20), r2 = n2.size;
  return n2.set(e20, t2), this.size += n2.size == r2 ? 0 : 1, this;
};
function df(e20, t2) {
  if (typeof e20 != "function" || t2 != null && typeof t2 != "function")
    throw new TypeError("Expected a function");
  var n2 = function n3() {
    var r2 = arguments, i2 = t2 ? t2.apply(this, r2) : r2[0], o2 = n3.cache;
    if (o2.has(i2))
      return o2.get(i2);
    var a2 = e20.apply(this, r2);
    return n3.cache = o2.set(i2, a2) || o2, a2;
  };
  return n2.cache = new (df.Cache || hf)(), n2;
}
df.Cache = hf;
var vf = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, pf = /\\(\\)?/g, mf = function(e20) {
  var t2 = df(e20, function(e21) {
    return n2.size === 500 && n2.clear(), e21;
  }), n2 = t2.cache;
  return t2;
}(function(e20) {
  var t2 = [];
  return e20.charCodeAt(0) === 46 && t2.push(""), e20.replace(vf, function(e21, n2, r2, i2) {
    t2.push(r2 ? i2.replace(pf, "$1") : n2 || e21);
  }), t2;
});
function gf(e20) {
  return e20 == null ? "" : Pu(e20);
}
function yf(e20, t2) {
  return _u(e20) ? e20 : tf(e20, t2) ? [e20] : mf(gf(e20));
}
function bf(e20) {
  if (typeof e20 == "string" || xu(e20))
    return e20;
  var t2 = e20 + "";
  return t2 == "0" && 1 / e20 == -Infinity ? "-0" : t2;
}
function wf(e20, t2) {
  for (var n2 = 0, r2 = (t2 = yf(t2, e20)).length; e20 != null && n2 < r2; )
    e20 = e20[bf(t2[n2++])];
  return n2 && n2 == r2 ? e20 : void 0;
}
function kf(e20, t2, n2) {
  var r2 = e20 == null ? void 0 : wf(e20, t2);
  return r2 === void 0 ? n2 : r2;
}
function jf(e20, t2) {
  for (var n2 = -1, r2 = t2.length, i2 = Array(r2), o2 = e20 == null; ++n2 < r2; )
    i2[n2] = o2 ? void 0 : kf(e20, t2[n2]);
  return i2;
}
function xf(e20, t2) {
  for (var n2 = -1, r2 = t2.length, i2 = e20.length; ++n2 < r2; )
    e20[i2 + n2] = t2[n2];
  return e20;
}
var Sf = vu ? vu.isConcatSpreadable : void 0;
function Cf(e20) {
  return _u(e20) || Sl(e20) || !!(Sf && e20 && e20[Sf]);
}
function _f(e20, t2, n2, r2, i2) {
  var o2 = -1, a2 = e20.length;
  for (n2 || (n2 = Cf), i2 || (i2 = []); ++o2 < a2; ) {
    var s2 = e20[o2];
    t2 > 0 && n2(s2) ? t2 > 1 ? _f(s2, t2 - 1, n2, r2, i2) : xf(i2, s2) : r2 || (i2[i2.length] = s2);
  }
  return i2;
}
function $f(e20) {
  return (e20 == null ? 0 : e20.length) ? _f(e20, 1) : [];
}
function Of(e20) {
  return zc(fl(e20, void 0, $f), e20 + "");
}
var Pf = Of(jf), Af = Bl(Object.getPrototypeOf, Object), Ef = Function.prototype, Mf = Object.prototype, Tf = Ef.toString, If = Mf.hasOwnProperty, Nf = Tf.call(Object);
function Rf(e20) {
  if (!ju(e20) || ku(e20) != "[object Object]")
    return false;
  var t2 = Af(e20);
  if (t2 === null)
    return true;
  var n2 = If.call(t2, "constructor") && t2.constructor;
  return typeof n2 == "function" && n2 instanceof n2 && Tf.call(n2) == Nf;
}
function Df(e20) {
  if (!ju(e20))
    return false;
  var t2 = ku(e20);
  return t2 == "[object Error]" || t2 == "[object DOMException]" || typeof e20.message == "string" && typeof e20.name == "string" && !Rf(e20);
}
var Lf = hl(function(e20, t2) {
  try {
    return hc(e20, void 0, t2);
  } catch (e21) {
    return Df(e21) ? e21 : new Error(e21);
  }
});
function zf(e20, t2) {
  var n2;
  if (typeof t2 != "function")
    throw new TypeError("Expected a function");
  return e20 = Vu(e20), function() {
    return --e20 > 0 && (n2 = t2.apply(this, arguments)), e20 <= 1 && (t2 = void 0), n2;
  };
}
var Bf = hl(function(e20, t2, n2) {
  var r2 = 1;
  if (n2.length) {
    var i2 = Xc(n2, Kc(Bf));
    r2 |= 32;
  }
  return rl(e20, r2, t2, n2, i2);
});
Bf.placeholder = {};
var qf = Of(function(e20, t2) {
  return Bc(t2, function(t3) {
    t3 = bf(t3), ol(e20, t3, Bf(e20[t3], e20));
  }), e20;
}), Ff = hl(function(e20, t2, n2) {
  var r2 = 3;
  if (n2.length) {
    var i2 = Xc(n2, Kc(Ff));
    r2 |= 32;
  }
  return rl(t2, r2, e20, n2, i2);
});
function Vf(e20, t2, n2) {
  var r2 = -1, i2 = e20.length;
  t2 < 0 && (t2 = -t2 > i2 ? 0 : i2 + t2), (n2 = n2 > i2 ? i2 : n2) < 0 && (n2 += i2), i2 = t2 > n2 ? 0 : n2 - t2 >>> 0, t2 >>>= 0;
  for (var o2 = Array(i2); ++r2 < i2; )
    o2[r2] = e20[r2 + t2];
  return o2;
}
function Hf(e20, t2, n2) {
  var r2 = e20.length;
  return n2 = n2 === void 0 ? r2 : n2, !t2 && n2 >= r2 ? e20 : Vf(e20, t2, n2);
}
Ff.placeholder = {};
var Wf = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
function Uf(e20) {
  return Wf.test(e20);
}
var Jf = "[\\ud800-\\udfff]", Kf = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Gf = "\\ud83c[\\udffb-\\udfff]", Qf = "[^\\ud800-\\udfff]", Yf = "(?:\\ud83c[\\udde6-\\uddff]){2}", Zf = "[\\ud800-\\udbff][\\udc00-\\udfff]", Xf = "(?:" + Kf + "|" + Gf + ")?", eh = "[\\ufe0e\\ufe0f]?" + Xf + ("(?:\\u200d(?:" + [Qf, Yf, Zf].join("|") + ")[\\ufe0e\\ufe0f]?" + Xf + ")*"), th = "(?:" + [Qf + Kf + "?", Kf, Yf, Zf, Jf].join("|") + ")", nh = RegExp(Gf + "(?=" + Gf + ")|" + th + eh, "g");
function rh(e20) {
  return Uf(e20) ? function(e21) {
    return e21.match(nh) || [];
  }(e20) : function(e21) {
    return e21.split("");
  }(e20);
}
function ih(e20) {
  return function(t2) {
    var n2 = Uf(t2 = gf(t2)) ? rh(t2) : void 0, r2 = n2 ? n2[0] : t2.charAt(0), i2 = n2 ? Hf(n2, 1).join("") : t2.slice(1);
    return r2[e20]() + i2;
  };
}
var oh = ih("toUpperCase");
function ah(e20) {
  return oh(gf(e20).toLowerCase());
}
function sh(e20, t2, n2, r2) {
  var i2 = -1, o2 = e20 == null ? 0 : e20.length;
  for (r2 && o2 && (n2 = e20[++i2]); ++i2 < o2; )
    n2 = t2(n2, e20[i2], i2, e20);
  return n2;
}
function uh(e20) {
  return function(t2) {
    return e20 == null ? void 0 : e20[t2];
  };
}
var ch = uh({ "\xC0": "A", "\xC1": "A", "\xC2": "A", "\xC3": "A", "\xC4": "A", "\xC5": "A", "\xE0": "a", "\xE1": "a", "\xE2": "a", "\xE3": "a", "\xE4": "a", "\xE5": "a", "\xC7": "C", "\xE7": "c", "\xD0": "D", "\xF0": "d", "\xC8": "E", "\xC9": "E", "\xCA": "E", "\xCB": "E", "\xE8": "e", "\xE9": "e", "\xEA": "e", "\xEB": "e", "\xCC": "I", "\xCD": "I", "\xCE": "I", "\xCF": "I", "\xEC": "i", "\xED": "i", "\xEE": "i", "\xEF": "i", "\xD1": "N", "\xF1": "n", "\xD2": "O", "\xD3": "O", "\xD4": "O", "\xD5": "O", "\xD6": "O", "\xD8": "O", "\xF2": "o", "\xF3": "o", "\xF4": "o", "\xF5": "o", "\xF6": "o", "\xF8": "o", "\xD9": "U", "\xDA": "U", "\xDB": "U", "\xDC": "U", "\xF9": "u", "\xFA": "u", "\xFB": "u", "\xFC": "u", "\xDD": "Y", "\xFD": "y", "\xFF": "y", "\xC6": "Ae", "\xE6": "ae", "\xDE": "Th", "\xFE": "th", "\xDF": "ss", "\u0100": "A", "\u0102": "A", "\u0104": "A", "\u0101": "a", "\u0103": "a", "\u0105": "a", "\u0106": "C", "\u0108": "C", "\u010A": "C", "\u010C": "C", "\u0107": "c", "\u0109": "c", "\u010B": "c", "\u010D": "c", "\u010E": "D", "\u0110": "D", "\u010F": "d", "\u0111": "d", "\u0112": "E", "\u0114": "E", "\u0116": "E", "\u0118": "E", "\u011A": "E", "\u0113": "e", "\u0115": "e", "\u0117": "e", "\u0119": "e", "\u011B": "e", "\u011C": "G", "\u011E": "G", "\u0120": "G", "\u0122": "G", "\u011D": "g", "\u011F": "g", "\u0121": "g", "\u0123": "g", "\u0124": "H", "\u0126": "H", "\u0125": "h", "\u0127": "h", "\u0128": "I", "\u012A": "I", "\u012C": "I", "\u012E": "I", "\u0130": "I", "\u0129": "i", "\u012B": "i", "\u012D": "i", "\u012F": "i", "\u0131": "i", "\u0134": "J", "\u0135": "j", "\u0136": "K", "\u0137": "k", "\u0138": "k", "\u0139": "L", "\u013B": "L", "\u013D": "L", "\u013F": "L", "\u0141": "L", "\u013A": "l", "\u013C": "l", "\u013E": "l", "\u0140": "l", "\u0142": "l", "\u0143": "N", "\u0145": "N", "\u0147": "N", "\u014A": "N", "\u0144": "n", "\u0146": "n", "\u0148": "n", "\u014B": "n", "\u014C": "O", "\u014E": "O", "\u0150": "O", "\u014D": "o", "\u014F": "o", "\u0151": "o", "\u0154": "R", "\u0156": "R", "\u0158": "R", "\u0155": "r", "\u0157": "r", "\u0159": "r", "\u015A": "S", "\u015C": "S", "\u015E": "S", "\u0160": "S", "\u015B": "s", "\u015D": "s", "\u015F": "s", "\u0161": "s", "\u0162": "T", "\u0164": "T", "\u0166": "T", "\u0163": "t", "\u0165": "t", "\u0167": "t", "\u0168": "U", "\u016A": "U", "\u016C": "U", "\u016E": "U", "\u0170": "U", "\u0172": "U", "\u0169": "u", "\u016B": "u", "\u016D": "u", "\u016F": "u", "\u0171": "u", "\u0173": "u", "\u0174": "W", "\u0175": "w", "\u0176": "Y", "\u0177": "y", "\u0178": "Y", "\u0179": "Z", "\u017B": "Z", "\u017D": "Z", "\u017A": "z", "\u017C": "z", "\u017E": "z", "\u0132": "IJ", "\u0133": "ij", "\u0152": "Oe", "\u0153": "oe", "\u0149": "'n", "\u017F": "s" }), lh = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, fh = RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", "g");
function hh(e20) {
  return (e20 = gf(e20)) && e20.replace(lh, ch).replace(fh, "");
}
var dh = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
var vh = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
var ph = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", mh = "[" + ph + "]", gh = "\\d+", yh = "[\\u2700-\\u27bf]", bh = "[a-z\\xdf-\\xf6\\xf8-\\xff]", wh = "[^\\ud800-\\udfff" + ph + gh + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]", kh = "(?:\\ud83c[\\udde6-\\uddff]){2}", jh = "[\\ud800-\\udbff][\\udc00-\\udfff]", xh = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", Sh = "(?:" + bh + "|" + wh + ")", Ch = "(?:" + xh + "|" + wh + ")", _h = "(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?", $h = "[\\ufe0e\\ufe0f]?" + _h + ("(?:\\u200d(?:" + ["[^\\ud800-\\udfff]", kh, jh].join("|") + ")[\\ufe0e\\ufe0f]?" + _h + ")*"), Oh = "(?:" + [yh, kh, jh].join("|") + ")" + $h, Ph = RegExp([xh + "?" + bh + "+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=" + [mh, xh, "$"].join("|") + ")", Ch + "+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=" + [mh, xh + Sh, "$"].join("|") + ")", xh + "?" + Sh + "+(?:['\u2019](?:d|ll|m|re|s|t|ve))?", xh + "+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", gh, Oh].join("|"), "g");
function Ah(e20, t2, n2) {
  return e20 = gf(e20), (t2 = n2 ? void 0 : t2) === void 0 ? function(e21) {
    return vh.test(e21);
  }(e20) ? function(e21) {
    return e21.match(Ph) || [];
  }(e20) : function(e21) {
    return e21.match(dh) || [];
  }(e20) : e20.match(t2) || [];
}
var Eh = RegExp("['\u2019]", "g");
function Mh(e20) {
  return function(t2) {
    return sh(Ah(hh(t2).replace(Eh, "")), e20, "");
  };
}
var Th = Mh(function(e20, t2, n2) {
  return t2 = t2.toLowerCase(), e20 + (n2 ? ah(t2) : t2);
});
function Ih() {
  if (!arguments.length)
    return [];
  var e20 = arguments[0];
  return _u(e20) ? e20 : [e20];
}
var Nh = du.isFinite, Rh = Math.min;
function Dh(e20) {
  var t2 = Math[e20];
  return function(e21, n2) {
    if (e21 = qu(e21), (n2 = n2 == null ? 0 : Rh(Vu(n2), 292)) && Nh(e21)) {
      var r2 = (gf(e21) + "e").split("e");
      return +((r2 = (gf(t2(r2[0] + "e" + (+r2[1] + n2))) + "e").split("e"))[0] + "e" + (+r2[1] - n2));
    }
    return t2(e21);
  };
}
var Lh = Dh("ceil");
function zh(e20) {
  var t2 = Pc(e20);
  return t2.__chain__ = true, t2;
}
var Bh = Math.ceil, qh = Math.max;
function Fh(e20, t2, n2) {
  t2 = (n2 ? pl(e20, t2, n2) : t2 === void 0) ? 1 : qh(Vu(t2), 0);
  var r2 = e20 == null ? 0 : e20.length;
  if (!r2 || t2 < 1)
    return [];
  for (var i2 = 0, o2 = 0, a2 = Array(Bh(r2 / t2)); i2 < r2; )
    a2[o2++] = Vf(e20, i2, i2 += t2);
  return a2;
}
function Vh(e20, t2, n2) {
  return e20 == e20 && (n2 !== void 0 && (e20 = e20 <= n2 ? e20 : n2), t2 !== void 0 && (e20 = e20 >= t2 ? e20 : t2)), e20;
}
function Hh(e20, t2, n2) {
  return n2 === void 0 && (n2 = t2, t2 = void 0), n2 !== void 0 && (n2 = (n2 = qu(n2)) == n2 ? n2 : 0), t2 !== void 0 && (t2 = (t2 = qu(t2)) == t2 ? t2 : 0), Vh(qu(e20), t2, n2);
}
function Wh(e20) {
  var t2 = this.__data__ = new cf(e20);
  this.size = t2.size;
}
function Uh(e20, t2) {
  return e20 && cl(t2, Hl(t2), e20);
}
Wh.prototype.clear = function() {
  this.__data__ = new cf(), this.size = 0;
}, Wh.prototype.delete = function(e20) {
  var t2 = this.__data__, n2 = t2.delete(e20);
  return this.size = t2.size, n2;
}, Wh.prototype.get = function(e20) {
  return this.__data__.get(e20);
}, Wh.prototype.has = function(e20) {
  return this.__data__.has(e20);
}, Wh.prototype.set = function(e20, t2) {
  var n2 = this.__data__;
  if (n2 instanceof cf) {
    var r2 = n2.__data__;
    if (!lf || r2.length < 199)
      return r2.push([e20, t2]), this.size = ++n2.size, this;
    n2 = this.__data__ = new hf(r2);
  }
  return n2.set(e20, t2), this.size = n2.size, this;
};
var Jh = (typeof exports == "undefined" ? "undefined" : zi(exports)) == "object" && exports && !exports.nodeType && exports, Kh = Jh && (typeof module == "undefined" ? "undefined" : zi(module)) == "object" && module && !module.nodeType && module, Gh = Kh && Kh.exports === Jh ? du.Buffer : void 0, Qh = Gh ? Gh.allocUnsafe : void 0;
function Yh(e20, t2) {
  if (t2)
    return e20.slice();
  var n2 = e20.length, r2 = Qh ? Qh(n2) : new e20.constructor(n2);
  return e20.copy(r2), r2;
}
function Zh(e20, t2) {
  for (var n2 = -1, r2 = e20 == null ? 0 : e20.length, i2 = 0, o2 = []; ++n2 < r2; ) {
    var a2 = e20[n2];
    t2(a2, n2, e20) && (o2[i2++] = a2);
  }
  return o2;
}
function Xh() {
  return [];
}
var ed = Object.prototype.propertyIsEnumerable, td = Object.getOwnPropertySymbols, nd = td ? function(e20) {
  return e20 == null ? [] : (e20 = Object(e20), Zh(td(e20), function(t2) {
    return ed.call(e20, t2);
  }));
} : Xh;
var rd = Object.getOwnPropertySymbols ? function(e20) {
  for (var t2 = []; e20; )
    xf(t2, nd(e20)), e20 = Af(e20);
  return t2;
} : Xh;
function id(e20, t2, n2) {
  var r2 = t2(e20);
  return _u(e20) ? r2 : xf(r2, n2(e20));
}
function od(e20) {
  return id(e20, Hl, nd);
}
function ad(e20) {
  return id(e20, Gl, rd);
}
var sd = oc(du, "DataView"), ud = oc(du, "Promise"), cd = oc(du, "Set"), ld = Yu(sd), fd = Yu(lf), hd = Yu(ud), dd = Yu(cd), vd = Yu(ac), pd = ku;
(sd && pd(new sd(new ArrayBuffer(1))) != "[object DataView]" || lf && pd(new lf()) != "[object Map]" || ud && pd(ud.resolve()) != "[object Promise]" || cd && pd(new cd()) != "[object Set]" || ac && pd(new ac()) != "[object WeakMap]") && (pd = function(e20) {
  var t2 = ku(e20), n2 = t2 == "[object Object]" ? e20.constructor : void 0, r2 = n2 ? Yu(n2) : "";
  if (r2)
    switch (r2) {
      case ld:
        return "[object DataView]";
      case fd:
        return "[object Map]";
      case hd:
        return "[object Promise]";
      case dd:
        return "[object Set]";
      case vd:
        return "[object WeakMap]";
    }
  return t2;
});
var md = pd, gd = Object.prototype.hasOwnProperty;
var yd = du.Uint8Array;
function bd(e20) {
  var t2 = new e20.constructor(e20.byteLength);
  return new yd(t2).set(new yd(e20)), t2;
}
var wd = /\w*$/;
var kd = vu ? vu.prototype : void 0, jd = kd ? kd.valueOf : void 0;
function xd(e20, t2) {
  var n2 = t2 ? bd(e20.buffer) : e20.buffer;
  return new e20.constructor(n2, e20.byteOffset, e20.length);
}
function Sd(e20, t2, n2) {
  var r2, i2 = e20.constructor;
  switch (t2) {
    case "[object ArrayBuffer]":
      return bd(e20);
    case "[object Boolean]":
    case "[object Date]":
      return new i2(+e20);
    case "[object DataView]":
      return function(e21, t3) {
        var n3 = t3 ? bd(e21.buffer) : e21.buffer;
        return new e21.constructor(n3, e21.byteOffset, e21.byteLength);
      }(e20, n2);
    case "[object Float32Array]":
    case "[object Float64Array]":
    case "[object Int8Array]":
    case "[object Int16Array]":
    case "[object Int32Array]":
    case "[object Uint8Array]":
    case "[object Uint8ClampedArray]":
    case "[object Uint16Array]":
    case "[object Uint32Array]":
      return xd(e20, n2);
    case "[object Map]":
      return new i2();
    case "[object Number]":
    case "[object String]":
      return new i2(e20);
    case "[object RegExp]":
      return function(e21) {
        var t3 = new e21.constructor(e21.source, wd.exec(e21));
        return t3.lastIndex = e21.lastIndex, t3;
      }(e20);
    case "[object Set]":
      return new i2();
    case "[object Symbol]":
      return r2 = e20, jd ? Object(jd.call(r2)) : {};
  }
}
function Cd(e20) {
  return typeof e20.constructor != "function" || yl(e20) ? {} : lc(Af(e20));
}
var _d = Nl && Nl.isMap, $d = _d ? El(_d) : function(e20) {
  return ju(e20) && md(e20) == "[object Map]";
};
var Od = Nl && Nl.isSet, Pd = Od ? El(Od) : function(e20) {
  return ju(e20) && md(e20) == "[object Set]";
}, Ad = {};
function Ed(e20, t2, n2, r2, i2, o2) {
  var a2, s2 = 1 & t2, u2 = 2 & t2, c2 = 4 & t2;
  if (n2 && (a2 = i2 ? n2(e20, r2, i2, o2) : n2(e20)), a2 !== void 0)
    return a2;
  if (!Ru(e20))
    return e20;
  var l2 = _u(e20);
  if (l2) {
    if (a2 = function(e21) {
      var t3 = e21.length, n3 = new e21.constructor(t3);
      return t3 && typeof e21[0] == "string" && gd.call(e21, "index") && (n3.index = e21.index, n3.input = e21.input), n3;
    }(e20), !s2)
      return _c(e20, a2);
  } else {
    var f2 = md(e20), h2 = f2 == "[object Function]" || f2 == "[object GeneratorFunction]";
    if (Pl(e20))
      return Yh(e20, s2);
    if (f2 == "[object Object]" || f2 == "[object Arguments]" || h2 && !i2) {
      if (a2 = u2 || h2 ? {} : Cd(e20), !s2)
        return u2 ? function(e21, t3) {
          return cl(e21, rd(e21), t3);
        }(e20, function(e21, t3) {
          return e21 && cl(t3, Gl(t3), e21);
        }(a2, e20)) : function(e21, t3) {
          return cl(e21, nd(e21), t3);
        }(e20, Uh(a2, e20));
    } else {
      if (!Ad[f2])
        return i2 ? e20 : {};
      a2 = Sd(e20, f2, s2);
    }
  }
  o2 || (o2 = new Wh());
  var d2 = o2.get(e20);
  if (d2)
    return d2;
  o2.set(e20, a2), Pd(e20) ? e20.forEach(function(r3) {
    a2.add(Ed(r3, t2, n2, r3, e20, o2));
  }) : $d(e20) && e20.forEach(function(r3, i3) {
    a2.set(i3, Ed(r3, t2, n2, i3, e20, o2));
  });
  var v2 = l2 ? void 0 : (c2 ? u2 ? ad : od : u2 ? Gl : Hl)(e20);
  return Bc(v2 || e20, function(r3, i3) {
    v2 && (r3 = e20[i3 = r3]), ul(a2, i3, Ed(r3, t2, n2, i3, e20, o2));
  }), a2;
}
Ad["[object Arguments]"] = Ad["[object Array]"] = Ad["[object ArrayBuffer]"] = Ad["[object DataView]"] = Ad["[object Boolean]"] = Ad["[object Date]"] = Ad["[object Float32Array]"] = Ad["[object Float64Array]"] = Ad["[object Int8Array]"] = Ad["[object Int16Array]"] = Ad["[object Int32Array]"] = Ad["[object Map]"] = Ad["[object Number]"] = Ad["[object Object]"] = Ad["[object RegExp]"] = Ad["[object Set]"] = Ad["[object String]"] = Ad["[object Symbol]"] = Ad["[object Uint8Array]"] = Ad["[object Uint8ClampedArray]"] = Ad["[object Uint16Array]"] = Ad["[object Uint32Array]"] = true, Ad["[object Error]"] = Ad["[object Function]"] = Ad["[object WeakMap]"] = false;
function Md(e20) {
  return Ed(e20, 4);
}
function Td(e20) {
  return Ed(e20, 5);
}
function Id(e20, t2) {
  return Ed(e20, 5, t2 = typeof t2 == "function" ? t2 : void 0);
}
function Nd(e20, t2) {
  return Ed(e20, 4, t2 = typeof t2 == "function" ? t2 : void 0);
}
function Rd() {
  return new Cc(this.value(), this.__chain__);
}
function Dd(e20) {
  for (var t2 = -1, n2 = e20 == null ? 0 : e20.length, r2 = 0, i2 = []; ++t2 < n2; ) {
    var o2 = e20[t2];
    o2 && (i2[r2++] = o2);
  }
  return i2;
}
function Ld() {
  var e20 = arguments.length;
  if (!e20)
    return [];
  for (var t2 = Array(e20 - 1), n2 = arguments[0], r2 = e20; r2--; )
    t2[r2 - 1] = arguments[r2];
  return xf(_u(n2) ? _c(n2) : [n2], _f(t2, 1));
}
function zd(e20) {
  var t2 = -1, n2 = e20 == null ? 0 : e20.length;
  for (this.__data__ = new hf(); ++t2 < n2; )
    this.add(e20[t2]);
}
function Bd(e20, t2) {
  for (var n2 = -1, r2 = e20 == null ? 0 : e20.length; ++n2 < r2; )
    if (t2(e20[n2], n2, e20))
      return true;
  return false;
}
function qd(e20, t2) {
  return e20.has(t2);
}
zd.prototype.add = zd.prototype.push = function(e20) {
  return this.__data__.set(e20, "__lodash_hash_undefined__"), this;
}, zd.prototype.has = function(e20) {
  return this.__data__.has(e20);
};
function Fd(e20, t2, n2, r2, i2, o2) {
  var a2 = 1 & n2, s2 = e20.length, u2 = t2.length;
  if (s2 != u2 && !(a2 && u2 > s2))
    return false;
  var c2 = o2.get(e20), l2 = o2.get(t2);
  if (c2 && l2)
    return c2 == t2 && l2 == e20;
  var f2 = -1, h2 = true, d2 = 2 & n2 ? new zd() : void 0;
  for (o2.set(e20, t2), o2.set(t2, e20); ++f2 < s2; ) {
    var v2 = e20[f2], p2 = t2[f2];
    if (r2)
      var m2 = a2 ? r2(p2, v2, f2, t2, e20, o2) : r2(v2, p2, f2, e20, t2, o2);
    if (m2 !== void 0) {
      if (m2)
        continue;
      h2 = false;
      break;
    }
    if (d2) {
      if (!Bd(t2, function(e21, t3) {
        if (!qd(d2, t3) && (v2 === e21 || i2(v2, e21, n2, r2, o2)))
          return d2.push(t3);
      })) {
        h2 = false;
        break;
      }
    } else if (v2 !== p2 && !i2(v2, p2, n2, r2, o2)) {
      h2 = false;
      break;
    }
  }
  return o2.delete(e20), o2.delete(t2), h2;
}
function Vd(e20) {
  var t2 = -1, n2 = Array(e20.size);
  return e20.forEach(function(e21, r2) {
    n2[++t2] = [r2, e21];
  }), n2;
}
function Hd(e20) {
  var t2 = -1, n2 = Array(e20.size);
  return e20.forEach(function(e21) {
    n2[++t2] = e21;
  }), n2;
}
var Wd = vu ? vu.prototype : void 0, Ud = Wd ? Wd.valueOf : void 0;
var Jd = Object.prototype.hasOwnProperty;
var Kd = "[object Object]", Gd = Object.prototype.hasOwnProperty;
function Qd(e20, t2, n2, r2, i2, o2) {
  var a2 = _u(e20), s2 = _u(t2), u2 = a2 ? "[object Array]" : md(e20), c2 = s2 ? "[object Array]" : md(t2), l2 = (u2 = u2 == "[object Arguments]" ? Kd : u2) == Kd, f2 = (c2 = c2 == "[object Arguments]" ? Kd : c2) == Kd, h2 = u2 == c2;
  if (h2 && Pl(e20)) {
    if (!Pl(t2))
      return false;
    a2 = true, l2 = false;
  }
  if (h2 && !l2)
    return o2 || (o2 = new Wh()), a2 || Dl(e20) ? Fd(e20, t2, n2, r2, i2, o2) : function(e21, t3, n3, r3, i3, o3, a3) {
      switch (n3) {
        case "[object DataView]":
          if (e21.byteLength != t3.byteLength || e21.byteOffset != t3.byteOffset)
            return false;
          e21 = e21.buffer, t3 = t3.buffer;
        case "[object ArrayBuffer]":
          return !(e21.byteLength != t3.byteLength || !o3(new yd(e21), new yd(t3)));
        case "[object Boolean]":
        case "[object Date]":
        case "[object Number]":
          return al(+e21, +t3);
        case "[object Error]":
          return e21.name == t3.name && e21.message == t3.message;
        case "[object RegExp]":
        case "[object String]":
          return e21 == t3 + "";
        case "[object Map]":
          var s3 = Vd;
        case "[object Set]":
          var u3 = 1 & r3;
          if (s3 || (s3 = Hd), e21.size != t3.size && !u3)
            return false;
          var c3 = a3.get(e21);
          if (c3)
            return c3 == t3;
          r3 |= 2, a3.set(e21, t3);
          var l3 = Fd(s3(e21), s3(t3), r3, i3, o3, a3);
          return a3.delete(e21), l3;
        case "[object Symbol]":
          if (Ud)
            return Ud.call(e21) == Ud.call(t3);
      }
      return false;
    }(e20, t2, u2, n2, r2, i2, o2);
  if (!(1 & n2)) {
    var d2 = l2 && Gd.call(e20, "__wrapped__"), v2 = f2 && Gd.call(t2, "__wrapped__");
    if (d2 || v2) {
      var p2 = d2 ? e20.value() : e20, m2 = v2 ? t2.value() : t2;
      return o2 || (o2 = new Wh()), i2(p2, m2, n2, r2, o2);
    }
  }
  return !!h2 && (o2 || (o2 = new Wh()), function(e21, t3, n3, r3, i3, o3) {
    var a3 = 1 & n3, s3 = od(e21), u3 = s3.length;
    if (u3 != od(t3).length && !a3)
      return false;
    for (var c3 = u3; c3--; ) {
      var l3 = s3[c3];
      if (!(a3 ? l3 in t3 : Jd.call(t3, l3)))
        return false;
    }
    var f3 = o3.get(e21), h3 = o3.get(t3);
    if (f3 && h3)
      return f3 == t3 && h3 == e21;
    var d3 = true;
    o3.set(e21, t3), o3.set(t3, e21);
    for (var v3 = a3; ++c3 < u3; ) {
      var p3 = e21[l3 = s3[c3]], m3 = t3[l3];
      if (r3)
        var g2 = a3 ? r3(m3, p3, l3, t3, e21, o3) : r3(p3, m3, l3, e21, t3, o3);
      if (!(g2 === void 0 ? p3 === m3 || i3(p3, m3, n3, r3, o3) : g2)) {
        d3 = false;
        break;
      }
      v3 || (v3 = l3 == "constructor");
    }
    if (d3 && !v3) {
      var y2 = e21.constructor, b2 = t3.constructor;
      y2 == b2 || !("constructor" in e21) || !("constructor" in t3) || typeof y2 == "function" && y2 instanceof y2 && typeof b2 == "function" && b2 instanceof b2 || (d3 = false);
    }
    return o3.delete(e21), o3.delete(t3), d3;
  }(e20, t2, n2, r2, i2, o2));
}
function Yd(e20, t2, n2, r2, i2) {
  return e20 === t2 || (e20 == null || t2 == null || !ju(e20) && !ju(t2) ? e20 != e20 && t2 != t2 : Qd(e20, t2, n2, r2, Yd, i2));
}
function Zd(e20, t2, n2, r2) {
  var i2 = n2.length, o2 = i2, a2 = !r2;
  if (e20 == null)
    return !o2;
  for (e20 = Object(e20); i2--; ) {
    var s2 = n2[i2];
    if (a2 && s2[2] ? s2[1] !== e20[s2[0]] : !(s2[0] in e20))
      return false;
  }
  for (; ++i2 < o2; ) {
    var u2 = (s2 = n2[i2])[0], c2 = e20[u2], l2 = s2[1];
    if (a2 && s2[2]) {
      if (c2 === void 0 && !(u2 in e20))
        return false;
    } else {
      var f2 = new Wh();
      if (r2)
        var h2 = r2(c2, l2, u2, e20, t2, f2);
      if (!(h2 === void 0 ? Yd(l2, c2, 3, r2, f2) : h2))
        return false;
    }
  }
  return true;
}
function Xd(e20) {
  return e20 == e20 && !Ru(e20);
}
function ev(e20) {
  for (var t2 = Hl(e20), n2 = t2.length; n2--; ) {
    var r2 = t2[n2], i2 = e20[r2];
    t2[n2] = [r2, i2, Xd(i2)];
  }
  return t2;
}
function tv(e20, t2) {
  return function(n2) {
    return n2 != null && (n2[e20] === t2 && (t2 !== void 0 || e20 in Object(n2)));
  };
}
function nv(e20) {
  var t2 = ev(e20);
  return t2.length == 1 && t2[0][2] ? tv(t2[0][0], t2[0][1]) : function(n2) {
    return n2 === e20 || Zd(n2, e20, t2);
  };
}
function rv(e20, t2) {
  return e20 != null && t2 in Object(e20);
}
function iv(e20, t2, n2) {
  for (var r2 = -1, i2 = (t2 = yf(t2, e20)).length, o2 = false; ++r2 < i2; ) {
    var a2 = bf(t2[r2]);
    if (!(o2 = e20 != null && n2(e20, a2)))
      break;
    e20 = e20[a2];
  }
  return o2 || ++r2 != i2 ? o2 : !!(i2 = e20 == null ? 0 : e20.length) && dl(i2) && Qc(a2, i2) && (_u(e20) || Sl(e20));
}
function ov(e20, t2) {
  return e20 != null && iv(e20, t2, rv);
}
function av(e20, t2) {
  return tf(e20) && Xd(t2) ? tv(bf(e20), t2) : function(n2) {
    var r2 = kf(n2, e20);
    return r2 === void 0 && r2 === t2 ? ov(n2, e20) : Yd(t2, r2, 3);
  };
}
function sv(e20) {
  return function(t2) {
    return t2 == null ? void 0 : t2[e20];
  };
}
function uv(e20) {
  return tf(e20) ? sv(bf(e20)) : function(e21) {
    return function(t2) {
      return wf(t2, e21);
    };
  }(e20);
}
function cv(e20) {
  return typeof e20 == "function" ? e20 : e20 == null ? Wu : zi(e20) == "object" ? _u(e20) ? av(e20[0], e20[1]) : nv(e20) : uv(e20);
}
function lv(e20) {
  var t2 = e20 == null ? 0 : e20.length, n2 = cv;
  return e20 = t2 ? Cu(e20, function(e21) {
    if (typeof e21[1] != "function")
      throw new TypeError("Expected a function");
    return [n2(e21[0]), e21[1]];
  }) : [], hl(function(n3) {
    for (var r2 = -1; ++r2 < t2; ) {
      var i2 = e20[r2];
      if (hc(i2[0], this, n3))
        return hc(i2[1], this, n3);
    }
  });
}
function fv(e20, t2, n2) {
  var r2 = n2.length;
  if (e20 == null)
    return !r2;
  for (e20 = Object(e20); r2--; ) {
    var i2 = n2[r2], o2 = t2[i2], a2 = e20[i2];
    if (a2 === void 0 && !(i2 in e20) || !o2(a2))
      return false;
  }
  return true;
}
function hv(e20) {
  return function(e21) {
    var t2 = Hl(e21);
    return function(n2) {
      return fv(n2, e21, t2);
    };
  }(Ed(e20, 1));
}
function dv(e20, t2) {
  return t2 == null || fv(e20, t2, Hl(t2));
}
function vv(e20, t2, n2, r2) {
  for (var i2 = -1, o2 = e20 == null ? 0 : e20.length; ++i2 < o2; ) {
    var a2 = e20[i2];
    t2(r2, a2, n2(a2), e20);
  }
  return r2;
}
function pv(e20) {
  return function(t2, n2, r2) {
    for (var i2 = -1, o2 = Object(t2), a2 = r2(t2), s2 = a2.length; s2--; ) {
      var u2 = a2[e20 ? s2 : ++i2];
      if (n2(o2[u2], u2, o2) === false)
        break;
    }
    return t2;
  };
}
var mv = pv();
function gv(e20, t2) {
  return e20 && mv(e20, t2, Hl);
}
function yv(e20, t2) {
  return function(n2, r2) {
    if (n2 == null)
      return n2;
    if (!vl(n2))
      return e20(n2, r2);
    for (var i2 = n2.length, o2 = t2 ? i2 : -1, a2 = Object(n2); (t2 ? o2-- : ++o2 < i2) && r2(a2[o2], o2, a2) !== false; )
      ;
    return n2;
  };
}
var bv = yv(gv);
function wv(e20, t2, n2, r2) {
  return bv(e20, function(e21, i2, o2) {
    t2(r2, e21, n2(e21), o2);
  }), r2;
}
function kv(e20, t2) {
  return function(n2, r2) {
    var i2 = _u(n2) ? vv : wv, o2 = t2 ? t2() : {};
    return i2(n2, e20, cv(r2), o2);
  };
}
var jv = Object.prototype.hasOwnProperty, xv = kv(function(e20, t2, n2) {
  jv.call(e20, n2) ? ++e20[n2] : ol(e20, n2, 1);
});
function Sv(e20, t2) {
  var n2 = lc(e20);
  return t2 == null ? n2 : Uh(n2, t2);
}
function Cv(e20, t2, n2) {
  var r2 = rl(e20, 8, void 0, void 0, void 0, void 0, void 0, t2 = n2 ? void 0 : t2);
  return r2.placeholder = Cv.placeholder, r2;
}
Cv.placeholder = {};
function _v(e20, t2, n2) {
  var r2 = rl(e20, 16, void 0, void 0, void 0, void 0, void 0, t2 = n2 ? void 0 : t2);
  return r2.placeholder = _v.placeholder, r2;
}
_v.placeholder = {};
var $v = function() {
  return du.Date.now();
}, Ov = Math.max, Pv = Math.min;
function Av(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2 = 0, l2 = false, f2 = false, h2 = true;
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  function d2(t3) {
    var n3 = r2, o3 = i2;
    return r2 = i2 = void 0, c2 = t3, a2 = e20.apply(o3, n3);
  }
  function v2(e21) {
    return c2 = e21, s2 = setTimeout(m2, t2), l2 ? d2(e21) : a2;
  }
  function p2(e21) {
    var n3 = e21 - u2;
    return u2 === void 0 || n3 >= t2 || n3 < 0 || f2 && e21 - c2 >= o2;
  }
  function m2() {
    var e21 = $v();
    if (p2(e21))
      return g2(e21);
    s2 = setTimeout(m2, function(e22) {
      var n3 = t2 - (e22 - u2);
      return f2 ? Pv(n3, o2 - (e22 - c2)) : n3;
    }(e21));
  }
  function g2(e21) {
    return s2 = void 0, h2 && r2 ? d2(e21) : (r2 = i2 = void 0, a2);
  }
  function y2() {
    var e21 = $v(), n3 = p2(e21);
    if (r2 = arguments, i2 = this, u2 = e21, n3) {
      if (s2 === void 0)
        return v2(u2);
      if (f2)
        return clearTimeout(s2), s2 = setTimeout(m2, t2), d2(u2);
    }
    return s2 === void 0 && (s2 = setTimeout(m2, t2)), a2;
  }
  return t2 = qu(t2) || 0, Ru(n2) && (l2 = !!n2.leading, o2 = (f2 = "maxWait" in n2) ? Ov(qu(n2.maxWait) || 0, t2) : o2, h2 = "trailing" in n2 ? !!n2.trailing : h2), y2.cancel = function() {
    s2 !== void 0 && clearTimeout(s2), c2 = 0, r2 = u2 = i2 = s2 = void 0;
  }, y2.flush = function() {
    return s2 === void 0 ? a2 : g2($v());
  }, y2;
}
function Ev(e20, t2) {
  return e20 == null || e20 != e20 ? t2 : e20;
}
var Mv = Object.prototype, Tv = Mv.hasOwnProperty, Iv = hl(function(e20, t2) {
  e20 = Object(e20);
  var n2 = -1, r2 = t2.length, i2 = r2 > 2 ? t2[2] : void 0;
  for (i2 && pl(t2[0], t2[1], i2) && (r2 = 1); ++n2 < r2; )
    for (var o2 = t2[n2], a2 = Gl(o2), s2 = -1, u2 = a2.length; ++s2 < u2; ) {
      var c2 = a2[s2], l2 = e20[c2];
      (l2 === void 0 || al(l2, Mv[c2]) && !Tv.call(e20, c2)) && (e20[c2] = o2[c2]);
    }
  return e20;
});
function Nv(e20, t2, n2) {
  (n2 !== void 0 && !al(e20[t2], n2) || n2 === void 0 && !(t2 in e20)) && ol(e20, t2, n2);
}
function Rv(e20) {
  return ju(e20) && vl(e20);
}
function Dv(e20, t2) {
  if ((t2 !== "constructor" || typeof e20[t2] != "function") && t2 != "__proto__")
    return e20[t2];
}
function Lv(e20) {
  return cl(e20, Gl(e20));
}
function zv(e20, t2, n2, r2, i2) {
  e20 !== t2 && mv(t2, function(o2, a2) {
    if (i2 || (i2 = new Wh()), Ru(o2))
      !function(e21, t3, n3, r3, i3, o3, a3) {
        var s3 = Dv(e21, n3), u2 = Dv(t3, n3), c2 = a3.get(u2);
        if (c2)
          Nv(e21, n3, c2);
        else {
          var l2 = o3 ? o3(s3, u2, n3 + "", e21, t3, a3) : void 0, f2 = l2 === void 0;
          if (f2) {
            var h2 = _u(u2), d2 = !h2 && Pl(u2), v2 = !h2 && !d2 && Dl(u2);
            l2 = u2, h2 || d2 || v2 ? _u(s3) ? l2 = s3 : Rv(s3) ? l2 = _c(s3) : d2 ? (f2 = false, l2 = Yh(u2, true)) : v2 ? (f2 = false, l2 = xd(u2, true)) : l2 = [] : Rf(u2) || Sl(u2) ? (l2 = s3, Sl(s3) ? l2 = Lv(s3) : Ru(s3) && !Uu(s3) || (l2 = Cd(u2))) : f2 = false;
          }
          f2 && (a3.set(u2, l2), i3(l2, u2, r3, o3, a3), a3.delete(u2)), Nv(e21, n3, l2);
        }
      }(e20, t2, a2, n2, zv, r2, i2);
    else {
      var s2 = r2 ? r2(Dv(e20, a2), o2, a2 + "", e20, t2, i2) : void 0;
      s2 === void 0 && (s2 = o2), Nv(e20, a2, s2);
    }
  }, Gl);
}
function Bv(e20, t2, n2, r2, i2, o2) {
  return Ru(e20) && Ru(t2) && (o2.set(t2, e20), zv(e20, t2, void 0, Bv, o2), o2.delete(t2)), e20;
}
var qv = ml(function(e20, t2, n2, r2) {
  zv(e20, t2, n2, r2);
}), Fv = hl(function(e20) {
  return e20.push(void 0, Bv), hc(qv, void 0, e20);
});
function Vv(e20, t2, n2) {
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  return setTimeout(function() {
    e20.apply(void 0, n2);
  }, t2);
}
var Hv = hl(function(e20, t2) {
  return Vv(e20, 1, t2);
}), Wv = hl(function(e20, t2, n2) {
  return Vv(e20, qu(t2) || 0, n2);
});
function Uv(e20, t2, n2) {
  for (var r2 = -1, i2 = e20 == null ? 0 : e20.length; ++r2 < i2; )
    if (n2(t2, e20[r2]))
      return true;
  return false;
}
function Jv(e20, t2, n2, r2) {
  var i2 = -1, o2 = Hc, a2 = true, s2 = e20.length, u2 = [], c2 = t2.length;
  if (!s2)
    return u2;
  n2 && (t2 = Cu(t2, El(n2))), r2 ? (o2 = Uv, a2 = false) : t2.length >= 200 && (o2 = qd, a2 = false, t2 = new zd(t2));
  e:
    for (; ++i2 < s2; ) {
      var l2 = e20[i2], f2 = n2 == null ? l2 : n2(l2);
      if (l2 = r2 || l2 !== 0 ? l2 : 0, a2 && f2 == f2) {
        for (var h2 = c2; h2--; )
          if (t2[h2] === f2)
            continue e;
        u2.push(l2);
      } else
        o2(t2, f2, r2) || u2.push(l2);
    }
  return u2;
}
var Kv = hl(function(e20, t2) {
  return Rv(e20) ? Jv(e20, _f(t2, 1, Rv, true)) : [];
});
function Gv(e20) {
  var t2 = e20 == null ? 0 : e20.length;
  return t2 ? e20[t2 - 1] : void 0;
}
var Qv = hl(function(e20, t2) {
  var n2 = Gv(t2);
  return Rv(n2) && (n2 = void 0), Rv(e20) ? Jv(e20, _f(t2, 1, Rv, true), cv(n2)) : [];
}), Yv = hl(function(e20, t2) {
  var n2 = Gv(t2);
  return Rv(n2) && (n2 = void 0), Rv(e20) ? Jv(e20, _f(t2, 1, Rv, true), void 0, n2) : [];
}), Zv = Au(function(e20, t2) {
  return e20 / t2;
}, 1);
function Xv(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  return r2 ? Vf(e20, (t2 = n2 || t2 === void 0 ? 1 : Vu(t2)) < 0 ? 0 : t2, r2) : [];
}
function ep(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  return r2 ? Vf(e20, 0, (t2 = r2 - (t2 = n2 || t2 === void 0 ? 1 : Vu(t2))) < 0 ? 0 : t2) : [];
}
function tp(e20, t2, n2, r2) {
  for (var i2 = e20.length, o2 = r2 ? i2 : -1; (r2 ? o2-- : ++o2 < i2) && t2(e20[o2], o2, e20); )
    ;
  return n2 ? Vf(e20, r2 ? 0 : o2, r2 ? o2 + 1 : i2) : Vf(e20, r2 ? o2 + 1 : 0, r2 ? i2 : o2);
}
function np(e20, t2) {
  return e20 && e20.length ? tp(e20, cv(t2), true, true) : [];
}
function rp(e20, t2) {
  return e20 && e20.length ? tp(e20, cv(t2), true) : [];
}
function ip(e20) {
  return typeof e20 == "function" ? e20 : Wu;
}
function op(e20, t2) {
  return (_u(e20) ? Bc : bv)(e20, ip(t2));
}
function ap(e20, t2) {
  for (var n2 = e20 == null ? 0 : e20.length; n2-- && t2(e20[n2], n2, e20) !== false; )
    ;
  return e20;
}
var sp = pv(true);
function up(e20, t2) {
  return e20 && sp(e20, t2, Hl);
}
var cp = yv(up, true);
function lp(e20, t2) {
  return (_u(e20) ? ap : cp)(e20, ip(t2));
}
function fp(e20, t2, n2) {
  e20 = gf(e20), t2 = Pu(t2);
  var r2 = e20.length, i2 = n2 = n2 === void 0 ? r2 : Vh(Vu(n2), 0, r2);
  return (n2 -= t2.length) >= 0 && e20.slice(n2, i2) == t2;
}
function hp(e20) {
  return function(t2) {
    var n2 = md(t2);
    return n2 == "[object Map]" ? Vd(t2) : n2 == "[object Set]" ? function(e21) {
      var t3 = -1, n3 = Array(e21.size);
      return e21.forEach(function(e22) {
        n3[++t3] = [e22, e22];
      }), n3;
    }(t2) : function(e21, t3) {
      return Cu(t3, function(t4) {
        return [t4, e21[t4]];
      });
    }(t2, e20(t2));
  };
}
var dp = hp(Hl), vp = hp(Gl), pp = uh({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }), mp = /[&<>"']/g, gp = RegExp(mp.source);
function yp(e20) {
  return (e20 = gf(e20)) && gp.test(e20) ? e20.replace(mp, pp) : e20;
}
var bp = /[\\^$.*+?()[\]{}|]/g, wp = RegExp(bp.source);
function kp(e20) {
  return (e20 = gf(e20)) && wp.test(e20) ? e20.replace(bp, "\\$&") : e20;
}
function jp(e20, t2) {
  for (var n2 = -1, r2 = e20 == null ? 0 : e20.length; ++n2 < r2; )
    if (!t2(e20[n2], n2, e20))
      return false;
  return true;
}
function xp(e20, t2) {
  var n2 = true;
  return bv(e20, function(e21, r2, i2) {
    return n2 = !!t2(e21, r2, i2);
  }), n2;
}
function Sp(e20, t2, n2) {
  var r2 = _u(e20) ? jp : xp;
  return n2 && pl(e20, t2, n2) && (t2 = void 0), r2(e20, cv(t2));
}
function Cp(e20) {
  return e20 ? Vh(Vu(e20), 0, 4294967295) : 0;
}
function _p(e20, t2, n2, r2) {
  var i2 = e20 == null ? 0 : e20.length;
  return i2 ? (n2 && typeof n2 != "number" && pl(e20, t2, n2) && (n2 = 0, r2 = i2), function(e21, t3, n3, r3) {
    var i3 = e21.length;
    for ((n3 = Vu(n3)) < 0 && (n3 = -n3 > i3 ? 0 : i3 + n3), (r3 = r3 === void 0 || r3 > i3 ? i3 : Vu(r3)) < 0 && (r3 += i3), r3 = n3 > r3 ? 0 : Cp(r3); n3 < r3; )
      e21[n3++] = t3;
    return e21;
  }(e20, t2, n2, r2)) : [];
}
function $p(e20, t2) {
  var n2 = [];
  return bv(e20, function(e21, r2, i2) {
    t2(e21, r2, i2) && n2.push(e21);
  }), n2;
}
function Op(e20, t2) {
  return (_u(e20) ? Zh : $p)(e20, cv(t2));
}
function Pp(e20) {
  return function(t2, n2, r2) {
    var i2 = Object(t2);
    if (!vl(t2)) {
      var o2 = cv(n2);
      t2 = Hl(t2), n2 = function(e21) {
        return o2(i2[e21], e21, i2);
      };
    }
    var a2 = e20(t2, n2, r2);
    return a2 > -1 ? i2[o2 ? t2[a2] : a2] : void 0;
  };
}
var Ap = Math.max;
function Ep(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  if (!r2)
    return -1;
  var i2 = n2 == null ? 0 : Vu(n2);
  return i2 < 0 && (i2 = Ap(r2 + i2, 0)), qc(e20, cv(t2), i2);
}
var Mp = Pp(Ep);
function Tp(e20, t2, n2) {
  var r2;
  return n2(e20, function(e21, n3, i2) {
    if (t2(e21, n3, i2))
      return r2 = n3, false;
  }), r2;
}
function Ip(e20, t2) {
  return Tp(e20, cv(t2), gv);
}
var Np = Math.max, Rp = Math.min;
function Dp(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  if (!r2)
    return -1;
  var i2 = r2 - 1;
  return n2 !== void 0 && (i2 = Vu(n2), i2 = n2 < 0 ? Np(r2 + i2, 0) : Rp(i2, r2 - 1)), qc(e20, cv(t2), i2, true);
}
var Lp = Pp(Dp);
function zp(e20, t2) {
  return Tp(e20, cv(t2), up);
}
function Bp(e20) {
  return e20 && e20.length ? e20[0] : void 0;
}
function qp(e20, t2) {
  var n2 = -1, r2 = vl(e20) ? Array(e20.length) : [];
  return bv(e20, function(e21, i2, o2) {
    r2[++n2] = t2(e21, i2, o2);
  }), r2;
}
function Fp(e20, t2) {
  return (_u(e20) ? Cu : qp)(e20, cv(t2));
}
function Vp(e20, t2) {
  return _f(Fp(e20, t2), 1);
}
function Hp(e20, t2) {
  return _f(Fp(e20, t2), Infinity);
}
function Wp(e20, t2, n2) {
  return n2 = n2 === void 0 ? 1 : Vu(n2), _f(Fp(e20, t2), n2);
}
function Up(e20) {
  return (e20 == null ? 0 : e20.length) ? _f(e20, Infinity) : [];
}
function Jp(e20, t2) {
  return (e20 == null ? 0 : e20.length) ? _f(e20, t2 = t2 === void 0 ? 1 : Vu(t2)) : [];
}
function Kp(e20) {
  return rl(e20, 512);
}
var Gp = Dh("floor");
function Qp(e20) {
  return Of(function(t2) {
    var n2 = t2.length, r2 = n2, i2 = Cc.prototype.thru;
    for (e20 && t2.reverse(); r2--; ) {
      var o2 = t2[r2];
      if (typeof o2 != "function")
        throw new TypeError("Expected a function");
      if (i2 && !a2 && Sc(o2) == "wrapper")
        var a2 = new Cc([], true);
    }
    for (r2 = a2 ? r2 : n2; ++r2 < n2; ) {
      var s2 = Sc(o2 = t2[r2]), u2 = s2 == "wrapper" ? kc(o2) : void 0;
      a2 = u2 && Ac(u2[0]) && u2[1] == 424 && !u2[4].length && u2[9] == 1 ? a2[Sc(u2[0])].apply(a2, u2[3]) : o2.length == 1 && Ac(o2) ? a2[s2]() : a2.thru(o2);
    }
    return function() {
      var e21 = arguments, r3 = e21[0];
      if (a2 && e21.length == 1 && _u(r3))
        return a2.plant(r3).value();
      for (var i3 = 0, o3 = n2 ? t2[i3].apply(this, e21) : r3; ++i3 < n2; )
        o3 = t2[i3].call(this, o3);
      return o3;
    };
  });
}
var Yp = Qp(), Zp = Qp(true);
function Xp(e20, t2) {
  return e20 == null ? e20 : mv(e20, ip(t2), Gl);
}
function em(e20, t2) {
  return e20 == null ? e20 : sp(e20, ip(t2), Gl);
}
function tm(e20, t2) {
  return e20 && gv(e20, ip(t2));
}
function nm(e20, t2) {
  return e20 && up(e20, ip(t2));
}
function rm(e20) {
  for (var t2 = -1, n2 = e20 == null ? 0 : e20.length, r2 = {}; ++t2 < n2; ) {
    var i2 = e20[t2];
    r2[i2[0]] = i2[1];
  }
  return r2;
}
function im(e20, t2) {
  return Zh(t2, function(t3) {
    return Uu(e20[t3]);
  });
}
function om(e20) {
  return e20 == null ? [] : im(e20, Hl(e20));
}
function am(e20) {
  return e20 == null ? [] : im(e20, Gl(e20));
}
var sm = Object.prototype.hasOwnProperty, um = kv(function(e20, t2, n2) {
  sm.call(e20, n2) ? e20[n2].push(t2) : ol(e20, n2, [t2]);
});
function cm(e20, t2) {
  return e20 > t2;
}
function lm(e20) {
  return function(t2, n2) {
    return typeof t2 == "string" && typeof n2 == "string" || (t2 = qu(t2), n2 = qu(n2)), e20(t2, n2);
  };
}
var fm = lm(cm), hm = lm(function(e20, t2) {
  return e20 >= t2;
}), dm = Object.prototype.hasOwnProperty;
function vm$1(e20, t2) {
  return e20 != null && dm.call(e20, t2);
}
function pm(e20, t2) {
  return e20 != null && iv(e20, t2, vm$1);
}
var mm = Math.max, gm = Math.min;
function ym(e20, t2, n2) {
  return t2 = Fu(t2), n2 === void 0 ? (n2 = t2, t2 = 0) : n2 = Fu(n2), function(e21, t3, n3) {
    return e21 >= gm(t3, n3) && e21 < mm(t3, n3);
  }(e20 = qu(e20), t2, n2);
}
function bm(e20) {
  return typeof e20 == "string" || !_u(e20) && ju(e20) && ku(e20) == "[object String]";
}
function wm(e20, t2) {
  return Cu(t2, function(t3) {
    return e20[t3];
  });
}
function km(e20) {
  return e20 == null ? [] : wm(e20, Hl(e20));
}
var jm = Math.max;
function xm(e20, t2, n2, r2) {
  e20 = vl(e20) ? e20 : km(e20), n2 = n2 && !r2 ? Vu(n2) : 0;
  var i2 = e20.length;
  return n2 < 0 && (n2 = jm(i2 + n2, 0)), bm(e20) ? n2 <= i2 && e20.indexOf(t2, n2) > -1 : !!i2 && Vc(e20, t2, n2) > -1;
}
var Sm = Math.max;
function Cm(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  if (!r2)
    return -1;
  var i2 = n2 == null ? 0 : Vu(n2);
  return i2 < 0 && (i2 = Sm(r2 + i2, 0)), Vc(e20, t2, i2);
}
function _m(e20) {
  return (e20 == null ? 0 : e20.length) ? Vf(e20, 0, -1) : [];
}
var $m = Math.min;
function Om(e20, t2, n2) {
  for (var r2 = n2 ? Uv : Hc, i2 = e20[0].length, o2 = e20.length, a2 = o2, s2 = Array(o2), u2 = 1 / 0, c2 = []; a2--; ) {
    var l2 = e20[a2];
    a2 && t2 && (l2 = Cu(l2, El(t2))), u2 = $m(l2.length, u2), s2[a2] = !n2 && (t2 || i2 >= 120 && l2.length >= 120) ? new zd(a2 && l2) : void 0;
  }
  l2 = e20[0];
  var f2 = -1, h2 = s2[0];
  e:
    for (; ++f2 < i2 && c2.length < u2; ) {
      var d2 = l2[f2], v2 = t2 ? t2(d2) : d2;
      if (d2 = n2 || d2 !== 0 ? d2 : 0, !(h2 ? qd(h2, v2) : r2(c2, v2, n2))) {
        for (a2 = o2; --a2; ) {
          var p2 = s2[a2];
          if (!(p2 ? qd(p2, v2) : r2(e20[a2], v2, n2)))
            continue e;
        }
        h2 && h2.push(v2), c2.push(d2);
      }
    }
  return c2;
}
function Pm(e20) {
  return Rv(e20) ? e20 : [];
}
var Am = hl(function(e20) {
  var t2 = Cu(e20, Pm);
  return t2.length && t2[0] === e20[0] ? Om(t2) : [];
}), Em = hl(function(e20) {
  var t2 = Gv(e20), n2 = Cu(e20, Pm);
  return t2 === Gv(n2) ? t2 = void 0 : n2.pop(), n2.length && n2[0] === e20[0] ? Om(n2, cv(t2)) : [];
}), Mm = hl(function(e20) {
  var t2 = Gv(e20), n2 = Cu(e20, Pm);
  return (t2 = typeof t2 == "function" ? t2 : void 0) && n2.pop(), n2.length && n2[0] === e20[0] ? Om(n2, void 0, t2) : [];
});
function Tm(e20, t2) {
  return function(n2, r2) {
    return function(e21, t3, n3, r3) {
      return gv(e21, function(e22, i2, o2) {
        t3(r3, n3(e22), i2, o2);
      }), r3;
    }(n2, e20, t2(r2), {});
  };
}
var Im = Object.prototype.toString, Nm = Tm(function(e20, t2, n2) {
  t2 != null && typeof t2.toString != "function" && (t2 = Im.call(t2)), e20[t2] = n2;
}, Dc(Wu)), Rm = Object.prototype, Dm = Rm.hasOwnProperty, Lm = Rm.toString, zm = Tm(function(e20, t2, n2) {
  t2 != null && typeof t2.toString != "function" && (t2 = Lm.call(t2)), Dm.call(e20, t2) ? e20[t2].push(n2) : e20[t2] = [n2];
}, cv);
function Bm(e20, t2) {
  return t2.length < 2 ? e20 : wf(e20, Vf(t2, 0, -1));
}
function qm(e20, t2, n2) {
  var r2 = (e20 = Bm(e20, t2 = yf(t2, e20))) == null ? e20 : e20[bf(Gv(t2))];
  return r2 == null ? void 0 : hc(r2, e20, n2);
}
var Fm = hl(qm), Vm = hl(function(e20, t2, n2) {
  var r2 = -1, i2 = typeof t2 == "function", o2 = vl(e20) ? Array(e20.length) : [];
  return bv(e20, function(e21) {
    o2[++r2] = i2 ? hc(t2, e21, n2) : qm(e21, t2, n2);
  }), o2;
});
var Hm = Nl && Nl.isArrayBuffer, Wm = Hm ? El(Hm) : function(e20) {
  return ju(e20) && ku(e20) == "[object ArrayBuffer]";
};
function Um(e20) {
  return e20 === true || e20 === false || ju(e20) && ku(e20) == "[object Boolean]";
}
var Jm = Nl && Nl.isDate, Km = Jm ? El(Jm) : function(e20) {
  return ju(e20) && ku(e20) == "[object Date]";
};
function Gm(e20) {
  return ju(e20) && e20.nodeType === 1 && !Rf(e20);
}
var Qm = Object.prototype.hasOwnProperty;
function Ym(e20) {
  if (e20 == null)
    return true;
  if (vl(e20) && (_u(e20) || typeof e20 == "string" || typeof e20.splice == "function" || Pl(e20) || Dl(e20) || Sl(e20)))
    return !e20.length;
  var t2 = md(e20);
  if (t2 == "[object Map]" || t2 == "[object Set]")
    return !e20.size;
  if (yl(e20))
    return !Vl(e20).length;
  for (var n2 in e20)
    if (Qm.call(e20, n2))
      return false;
  return true;
}
function Zm(e20, t2) {
  return Yd(e20, t2);
}
function Xm(e20, t2, n2) {
  var r2 = (n2 = typeof n2 == "function" ? n2 : void 0) ? n2(e20, t2) : void 0;
  return r2 === void 0 ? Yd(e20, t2, void 0, n2) : !!r2;
}
var eg = du.isFinite;
function tg(e20) {
  return typeof e20 == "number" && eg(e20);
}
function ng(e20) {
  return typeof e20 == "number" && e20 == Vu(e20);
}
function rg(e20, t2) {
  return e20 === t2 || Zd(e20, t2, ev(t2));
}
function ig(e20, t2, n2) {
  return n2 = typeof n2 == "function" ? n2 : void 0, Zd(e20, t2, ev(t2), n2);
}
function og(e20) {
  return typeof e20 == "number" || ju(e20) && ku(e20) == "[object Number]";
}
function ag(e20) {
  return og(e20) && e20 != +e20;
}
var sg = Ku ? Uu : Cl;
function ug(e20) {
  if (sg(e20))
    throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
  return ic(e20);
}
function cg(e20) {
  return e20 == null;
}
function lg(e20) {
  return e20 === null;
}
var fg = Nl && Nl.isRegExp, hg = fg ? El(fg) : function(e20) {
  return ju(e20) && ku(e20) == "[object RegExp]";
};
function dg(e20) {
  return ng(e20) && e20 >= -9007199254740991 && e20 <= 9007199254740991;
}
function vg(e20) {
  return e20 === void 0;
}
function pg(e20) {
  return ju(e20) && md(e20) == "[object WeakMap]";
}
function mg(e20) {
  return ju(e20) && ku(e20) == "[object WeakSet]";
}
function gg(e20) {
  return cv(typeof e20 == "function" ? e20 : Ed(e20, 1));
}
var yg = Array.prototype.join;
function bg(e20, t2) {
  return e20 == null ? "" : yg.call(e20, t2);
}
var wg = Mh(function(e20, t2, n2) {
  return e20 + (n2 ? "-" : "") + t2.toLowerCase();
}), kg = kv(function(e20, t2, n2) {
  ol(e20, n2, t2);
});
var jg = Math.max, xg = Math.min;
function Sg(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  if (!r2)
    return -1;
  var i2 = r2;
  return n2 !== void 0 && (i2 = (i2 = Vu(n2)) < 0 ? jg(r2 + i2, 0) : xg(i2, r2 - 1)), t2 == t2 ? function(e21, t3, n3) {
    for (var r3 = n3 + 1; r3--; )
      if (e21[r3] === t3)
        return r3;
    return r3;
  }(e20, t2, i2) : qc(e20, Fc, i2, true);
}
var Cg = Mh(function(e20, t2, n2) {
  return e20 + (n2 ? " " : "") + t2.toLowerCase();
}), _g = ih("toLowerCase");
function $g(e20, t2) {
  return e20 < t2;
}
var Og = lm($g), Pg = lm(function(e20, t2) {
  return e20 <= t2;
});
function Ag(e20, t2) {
  var n2 = {};
  return t2 = cv(t2), gv(e20, function(e21, r2, i2) {
    ol(n2, t2(e21, r2, i2), e21);
  }), n2;
}
function Eg(e20, t2) {
  var n2 = {};
  return t2 = cv(t2), gv(e20, function(e21, r2, i2) {
    ol(n2, r2, t2(e21, r2, i2));
  }), n2;
}
function Mg(e20) {
  return nv(Ed(e20, 1));
}
function Tg(e20, t2) {
  return av(e20, Ed(t2, 1));
}
function Ig(e20, t2, n2) {
  for (var r2 = -1, i2 = e20.length; ++r2 < i2; ) {
    var o2 = e20[r2], a2 = t2(o2);
    if (a2 != null && (s2 === void 0 ? a2 == a2 && !xu(a2) : n2(a2, s2)))
      var s2 = a2, u2 = o2;
  }
  return u2;
}
function Ng(e20) {
  return e20 && e20.length ? Ig(e20, Wu, cm) : void 0;
}
function Rg(e20, t2) {
  return e20 && e20.length ? Ig(e20, cv(t2), cm) : void 0;
}
function Dg(e20, t2) {
  for (var n2, r2 = -1, i2 = e20.length; ++r2 < i2; ) {
    var o2 = t2(e20[r2]);
    o2 !== void 0 && (n2 = n2 === void 0 ? o2 : n2 + o2);
  }
  return n2;
}
function Lg(e20, t2) {
  var n2 = e20 == null ? 0 : e20.length;
  return n2 ? Dg(e20, t2) / n2 : NaN;
}
function zg(e20) {
  return Lg(e20, Wu);
}
function Bg(e20, t2) {
  return Lg(e20, cv(t2));
}
var qg = ml(function(e20, t2, n2) {
  zv(e20, t2, n2);
}), Fg = hl(function(e20, t2) {
  return function(n2) {
    return qm(n2, e20, t2);
  };
}), Vg = hl(function(e20, t2) {
  return function(n2) {
    return qm(e20, n2, t2);
  };
});
function Hg(e20) {
  return e20 && e20.length ? Ig(e20, Wu, $g) : void 0;
}
function Wg(e20, t2) {
  return e20 && e20.length ? Ig(e20, cv(t2), $g) : void 0;
}
function Ug(e20, t2, n2) {
  var r2 = Hl(t2), i2 = im(t2, r2), o2 = !(Ru(n2) && "chain" in n2 && !n2.chain), a2 = Uu(e20);
  return Bc(i2, function(n3) {
    var r3 = t2[n3];
    e20[n3] = r3, a2 && (e20.prototype[n3] = function() {
      var t3 = this.__chain__;
      if (o2 || t3) {
        var n4 = e20(this.__wrapped__), i3 = n4.__actions__ = _c(this.__actions__);
        return i3.push({ func: r3, args: arguments, thisArg: e20 }), n4.__chain__ = t3, n4;
      }
      return r3.apply(e20, xf([this.value()], arguments));
    });
  }), e20;
}
var Jg = Au(function(e20, t2) {
  return e20 * t2;
}, 1);
function Kg(e20) {
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  return function() {
    var t2 = arguments;
    switch (t2.length) {
      case 0:
        return !e20.call(this);
      case 1:
        return !e20.call(this, t2[0]);
      case 2:
        return !e20.call(this, t2[0], t2[1]);
      case 3:
        return !e20.call(this, t2[0], t2[1], t2[2]);
    }
    return !e20.apply(this, t2);
  };
}
var Gg = vu ? vu.iterator : void 0;
function Qg(e20) {
  if (!e20)
    return [];
  if (vl(e20))
    return bm(e20) ? rh(e20) : _c(e20);
  if (Gg && e20[Gg])
    return function(e21) {
      for (var t3, n2 = []; !(t3 = e21.next()).done; )
        n2.push(t3.value);
      return n2;
    }(e20[Gg]());
  var t2 = md(e20);
  return (t2 == "[object Map]" ? Vd : t2 == "[object Set]" ? Hd : km)(e20);
}
function Yg() {
  this.__values__ === void 0 && (this.__values__ = Qg(this.value()));
  var e20 = this.__index__ >= this.__values__.length;
  return { done: e20, value: e20 ? void 0 : this.__values__[this.__index__++] };
}
function Zg(e20, t2) {
  var n2 = e20.length;
  if (n2)
    return Qc(t2 += t2 < 0 ? n2 : 0, n2) ? e20[t2] : void 0;
}
function Xg(e20, t2) {
  return e20 && e20.length ? Zg(e20, Vu(t2)) : void 0;
}
function ey(e20) {
  return e20 = Vu(e20), hl(function(t2) {
    return Zg(t2, e20);
  });
}
function ty(e20, t2) {
  return (e20 = Bm(e20, t2 = yf(t2, e20))) == null || delete e20[bf(Gv(t2))];
}
function ny(e20) {
  return Rf(e20) ? void 0 : e20;
}
var ry = Of(function(e20, t2) {
  var n2 = {};
  if (e20 == null)
    return n2;
  var r2 = false;
  t2 = Cu(t2, function(t3) {
    return t3 = yf(t3, e20), r2 || (r2 = t3.length > 1), t3;
  }), cl(e20, ad(e20), n2), r2 && (n2 = Ed(n2, 7, ny));
  for (var i2 = t2.length; i2--; )
    ty(n2, t2[i2]);
  return n2;
});
function iy(e20, t2, n2, r2) {
  if (!Ru(e20))
    return e20;
  for (var i2 = -1, o2 = (t2 = yf(t2, e20)).length, a2 = o2 - 1, s2 = e20; s2 != null && ++i2 < o2; ) {
    var u2 = bf(t2[i2]), c2 = n2;
    if (u2 === "__proto__" || u2 === "constructor" || u2 === "prototype")
      return e20;
    if (i2 != a2) {
      var l2 = s2[u2];
      (c2 = r2 ? r2(l2, u2, s2) : void 0) === void 0 && (c2 = Ru(l2) ? l2 : Qc(t2[i2 + 1]) ? [] : {});
    }
    ul(s2, u2, c2), s2 = s2[u2];
  }
  return e20;
}
function oy(e20, t2, n2) {
  for (var r2 = -1, i2 = t2.length, o2 = {}; ++r2 < i2; ) {
    var a2 = t2[r2], s2 = wf(e20, a2);
    n2(s2, a2) && iy(o2, yf(a2, e20), s2);
  }
  return o2;
}
function ay(e20, t2) {
  if (e20 == null)
    return {};
  var n2 = Cu(ad(e20), function(e21) {
    return [e21];
  });
  return t2 = cv(t2), oy(e20, n2, function(e21, n3) {
    return t2(e21, n3[0]);
  });
}
function sy(e20, t2) {
  return ay(e20, Kg(cv(t2)));
}
function uy(e20) {
  return zf(2, e20);
}
function cy(e20, t2) {
  if (e20 !== t2) {
    var n2 = e20 !== void 0, r2 = e20 === null, i2 = e20 == e20, o2 = xu(e20), a2 = t2 !== void 0, s2 = t2 === null, u2 = t2 == t2, c2 = xu(t2);
    if (!s2 && !c2 && !o2 && e20 > t2 || o2 && a2 && u2 && !s2 && !c2 || r2 && a2 && u2 || !n2 && u2 || !i2)
      return 1;
    if (!r2 && !o2 && !c2 && e20 < t2 || c2 && n2 && i2 && !r2 && !o2 || s2 && n2 && i2 || !a2 && i2 || !u2)
      return -1;
  }
  return 0;
}
function ly(e20, t2, n2) {
  t2 = t2.length ? Cu(t2, function(e21) {
    return _u(e21) ? function(t3) {
      return wf(t3, e21.length === 1 ? e21[0] : e21);
    } : e21;
  }) : [Wu];
  var r2 = -1;
  return t2 = Cu(t2, El(cv)), function(e21, t3) {
    var n3 = e21.length;
    for (e21.sort(t3); n3--; )
      e21[n3] = e21[n3].value;
    return e21;
  }(qp(e20, function(e21, n3, i2) {
    return { criteria: Cu(t2, function(t3) {
      return t3(e21);
    }), index: ++r2, value: e21 };
  }), function(e21, t3) {
    return function(e22, t4, n3) {
      for (var r3 = -1, i2 = e22.criteria, o2 = t4.criteria, a2 = i2.length, s2 = n3.length; ++r3 < a2; ) {
        var u2 = cy(i2[r3], o2[r3]);
        if (u2)
          return r3 >= s2 ? u2 : u2 * (n3[r3] == "desc" ? -1 : 1);
      }
      return e22.index - t4.index;
    }(e21, t3, n2);
  });
}
function fy(e20, t2, n2, r2) {
  return e20 == null ? [] : (_u(t2) || (t2 = t2 == null ? [] : [t2]), _u(n2 = r2 ? void 0 : n2) || (n2 = n2 == null ? [] : [n2]), ly(e20, t2, n2));
}
function hy(e20) {
  return Of(function(t2) {
    return t2 = Cu(t2, El(cv)), hl(function(n2) {
      var r2 = this;
      return e20(t2, function(e21) {
        return hc(e21, r2, n2);
      });
    });
  });
}
var dy = hy(Cu), vy = hl, py = Math.min, my = vy(function(e20, t2) {
  var n2 = (t2 = t2.length == 1 && _u(t2[0]) ? Cu(t2[0], El(cv)) : Cu(_f(t2, 1), El(cv))).length;
  return hl(function(r2) {
    for (var i2 = -1, o2 = py(r2.length, n2); ++i2 < o2; )
      r2[i2] = t2[i2].call(this, r2[i2]);
    return hc(e20, this, r2);
  });
}), gy = hy(jp), yy = hy(Bd), by = Math.floor;
function wy(e20, t2) {
  var n2 = "";
  if (!e20 || t2 < 1 || t2 > 9007199254740991)
    return n2;
  do {
    t2 % 2 && (n2 += e20), (t2 = by(t2 / 2)) && (e20 += e20);
  } while (t2);
  return n2;
}
var ky = sv("length"), jy = "[\\ud800-\\udfff]", xy = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Sy = "\\ud83c[\\udffb-\\udfff]", Cy = "[^\\ud800-\\udfff]", _y = "(?:\\ud83c[\\udde6-\\uddff]){2}", $y = "[\\ud800-\\udbff][\\udc00-\\udfff]", Oy = "(?:" + xy + "|" + Sy + ")?", Py = "[\\ufe0e\\ufe0f]?" + Oy + ("(?:\\u200d(?:" + [Cy, _y, $y].join("|") + ")[\\ufe0e\\ufe0f]?" + Oy + ")*"), Ay = "(?:" + [Cy + xy + "?", xy, _y, $y, jy].join("|") + ")", Ey = RegExp(Sy + "(?=" + Sy + ")|" + Ay + Py, "g");
function My(e20) {
  return Uf(e20) ? function(e21) {
    for (var t2 = Ey.lastIndex = 0; Ey.test(e21); )
      ++t2;
    return t2;
  }(e20) : ky(e20);
}
var Ty = Math.ceil;
function Iy(e20, t2) {
  var n2 = (t2 = t2 === void 0 ? " " : Pu(t2)).length;
  if (n2 < 2)
    return n2 ? wy(t2, e20) : t2;
  var r2 = wy(t2, Ty(e20 / My(t2)));
  return Uf(t2) ? Hf(rh(r2), 0, e20).join("") : r2.slice(0, e20);
}
var Ny = Math.ceil, Ry = Math.floor;
function Dy(e20, t2, n2) {
  e20 = gf(e20);
  var r2 = (t2 = Vu(t2)) ? My(e20) : 0;
  if (!t2 || r2 >= t2)
    return e20;
  var i2 = (t2 - r2) / 2;
  return Iy(Ry(i2), n2) + e20 + Iy(Ny(i2), n2);
}
function Ly(e20, t2, n2) {
  e20 = gf(e20);
  var r2 = (t2 = Vu(t2)) ? My(e20) : 0;
  return t2 && r2 < t2 ? e20 + Iy(t2 - r2, n2) : e20;
}
function zy(e20, t2, n2) {
  e20 = gf(e20);
  var r2 = (t2 = Vu(t2)) ? My(e20) : 0;
  return t2 && r2 < t2 ? Iy(t2 - r2, n2) + e20 : e20;
}
var By = /^\s+/, qy = du.parseInt;
function Fy(e20, t2, n2) {
  return n2 || t2 == null ? t2 = 0 : t2 && (t2 = +t2), qy(gf(e20).replace(By, ""), t2 || 0);
}
var Vy = hl(function(e20, t2) {
  return rl(e20, 32, void 0, t2, Xc(t2, Kc(Vy)));
});
Vy.placeholder = {};
var Hy = hl(function(e20, t2) {
  return rl(e20, 64, void 0, t2, Xc(t2, Kc(Hy)));
});
Hy.placeholder = {};
var Wy = kv(function(e20, t2, n2) {
  e20[n2 ? 0 : 1].push(t2);
}, function() {
  return [[], []];
});
var Uy = Of(function(e20, t2) {
  return e20 == null ? {} : function(e21, t3) {
    return oy(e21, t3, function(t4, n2) {
      return ov(e21, n2);
    });
  }(e20, t2);
});
function Jy(e20) {
  for (var t2, n2 = this; n2 instanceof yc; ) {
    var r2 = $c(n2);
    r2.__index__ = 0, r2.__values__ = void 0, t2 ? i2.__wrapped__ = r2 : t2 = r2;
    var i2 = r2;
    n2 = n2.__wrapped__;
  }
  return i2.__wrapped__ = e20, t2;
}
function Ky(e20) {
  return function(t2) {
    return e20 == null ? void 0 : wf(e20, t2);
  };
}
function Gy(e20, t2, n2, r2) {
  for (var i2 = n2 - 1, o2 = e20.length; ++i2 < o2; )
    if (r2(e20[i2], t2))
      return i2;
  return -1;
}
var Qy = Array.prototype.splice;
function Yy(e20, t2, n2, r2) {
  var i2 = r2 ? Gy : Vc, o2 = -1, a2 = t2.length, s2 = e20;
  for (e20 === t2 && (t2 = _c(t2)), n2 && (s2 = Cu(e20, El(n2))); ++o2 < a2; )
    for (var u2 = 0, c2 = t2[o2], l2 = n2 ? n2(c2) : c2; (u2 = i2(s2, l2, u2, r2)) > -1; )
      s2 !== e20 && Qy.call(s2, u2, 1), Qy.call(e20, u2, 1);
  return e20;
}
function Zy(e20, t2) {
  return e20 && e20.length && t2 && t2.length ? Yy(e20, t2) : e20;
}
var Xy = hl(Zy);
function eb(e20, t2, n2) {
  return e20 && e20.length && t2 && t2.length ? Yy(e20, t2, cv(n2)) : e20;
}
function tb(e20, t2, n2) {
  return e20 && e20.length && t2 && t2.length ? Yy(e20, t2, void 0, n2) : e20;
}
var nb = Array.prototype.splice;
function rb(e20, t2) {
  for (var n2 = e20 ? t2.length : 0, r2 = n2 - 1; n2--; ) {
    var i2 = t2[n2];
    if (n2 == r2 || i2 !== o2) {
      var o2 = i2;
      Qc(i2) ? nb.call(e20, i2, 1) : ty(e20, i2);
    }
  }
  return e20;
}
var ib = Of(function(e20, t2) {
  var n2 = e20 == null ? 0 : e20.length, r2 = jf(e20, t2);
  return rb(e20, Cu(t2, function(e21) {
    return Qc(e21, n2) ? +e21 : e21;
  }).sort(cy)), r2;
}), ob = Math.floor, ab = Math.random;
function sb(e20, t2) {
  return e20 + ob(ab() * (t2 - e20 + 1));
}
var ub = parseFloat, cb = Math.min, lb = Math.random;
function fb(e20, t2, n2) {
  if (n2 && typeof n2 != "boolean" && pl(e20, t2, n2) && (t2 = n2 = void 0), n2 === void 0 && (typeof t2 == "boolean" ? (n2 = t2, t2 = void 0) : typeof e20 == "boolean" && (n2 = e20, e20 = void 0)), e20 === void 0 && t2 === void 0 ? (e20 = 0, t2 = 1) : (e20 = Fu(e20), t2 === void 0 ? (t2 = e20, e20 = 0) : t2 = Fu(t2)), e20 > t2) {
    var r2 = e20;
    e20 = t2, t2 = r2;
  }
  if (n2 || e20 % 1 || t2 % 1) {
    var i2 = lb();
    return cb(e20 + i2 * (t2 - e20 + ub("1e-" + ((i2 + "").length - 1))), t2);
  }
  return sb(e20, t2);
}
var hb = Math.ceil, db = Math.max;
function vb(e20) {
  return function(t2, n2, r2) {
    return r2 && typeof r2 != "number" && pl(t2, n2, r2) && (n2 = r2 = void 0), t2 = Fu(t2), n2 === void 0 ? (n2 = t2, t2 = 0) : n2 = Fu(n2), function(e21, t3, n3, r3) {
      for (var i2 = -1, o2 = db(hb((t3 - e21) / (n3 || 1)), 0), a2 = Array(o2); o2--; )
        a2[r3 ? o2 : ++i2] = e21, e21 += n3;
      return a2;
    }(t2, n2, r2 = r2 === void 0 ? t2 < n2 ? 1 : -1 : Fu(r2), e20);
  };
}
var pb = vb(), mb = vb(true), gb = Of(function(e20, t2) {
  return rl(e20, 256, void 0, void 0, void 0, t2);
});
function yb(e20, t2, n2, r2, i2) {
  return i2(e20, function(e21, i3, o2) {
    n2 = r2 ? (r2 = false, e21) : t2(n2, e21, i3, o2);
  }), n2;
}
function bb(e20, t2, n2) {
  var r2 = _u(e20) ? sh : yb, i2 = arguments.length < 3;
  return r2(e20, cv(t2), n2, i2, bv);
}
function wb(e20, t2, n2, r2) {
  var i2 = e20 == null ? 0 : e20.length;
  for (r2 && i2 && (n2 = e20[--i2]); i2--; )
    n2 = t2(n2, e20[i2], i2, e20);
  return n2;
}
function kb(e20, t2, n2) {
  var r2 = _u(e20) ? wb : yb, i2 = arguments.length < 3;
  return r2(e20, cv(t2), n2, i2, cp);
}
function jb(e20, t2) {
  return (_u(e20) ? Zh : $p)(e20, Kg(cv(t2)));
}
function xb(e20, t2) {
  var n2 = [];
  if (!e20 || !e20.length)
    return n2;
  var r2 = -1, i2 = [], o2 = e20.length;
  for (t2 = cv(t2); ++r2 < o2; ) {
    var a2 = e20[r2];
    t2(a2, r2, e20) && (n2.push(a2), i2.push(r2));
  }
  return rb(e20, i2), n2;
}
function Sb(e20, t2, n2) {
  return t2 = (n2 ? pl(e20, t2, n2) : t2 === void 0) ? 1 : Vu(t2), wy(gf(e20), t2);
}
function Cb() {
  var e20 = arguments, t2 = gf(e20[0]);
  return e20.length < 3 ? t2 : t2.replace(e20[1], e20[2]);
}
function _b(e20, t2) {
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  return hl(e20, t2 = t2 === void 0 ? t2 : Vu(t2));
}
function $b(e20, t2, n2) {
  var r2 = -1, i2 = (t2 = yf(t2, e20)).length;
  for (i2 || (i2 = 1, e20 = void 0); ++r2 < i2; ) {
    var o2 = e20 == null ? void 0 : e20[bf(t2[r2])];
    o2 === void 0 && (r2 = i2, o2 = n2), e20 = Uu(o2) ? o2.call(e20) : o2;
  }
  return e20;
}
var Ob = Array.prototype.reverse;
function Pb(e20) {
  return e20 == null ? e20 : Ob.call(e20);
}
var Ab = Dh("round");
function Eb(e20) {
  var t2 = e20.length;
  return t2 ? e20[sb(0, t2 - 1)] : void 0;
}
function Mb(e20) {
  return Eb(km(e20));
}
function Tb(e20) {
  return (_u(e20) ? Eb : Mb)(e20);
}
function Ib(e20, t2) {
  var n2 = -1, r2 = e20.length, i2 = r2 - 1;
  for (t2 = t2 === void 0 ? r2 : t2; ++n2 < t2; ) {
    var o2 = sb(n2, i2), a2 = e20[o2];
    e20[o2] = e20[n2], e20[n2] = a2;
  }
  return e20.length = t2, e20;
}
function Nb(e20, t2) {
  return Ib(_c(e20), Vh(t2, 0, e20.length));
}
function Rb(e20, t2) {
  var n2 = km(e20);
  return Ib(n2, Vh(t2, 0, n2.length));
}
function Db(e20, t2, n2) {
  return t2 = (n2 ? pl(e20, t2, n2) : t2 === void 0) ? 1 : Vu(t2), (_u(e20) ? Nb : Rb)(e20, t2);
}
function Lb(e20, t2, n2) {
  return e20 == null ? e20 : iy(e20, t2, n2);
}
function zb(e20, t2, n2, r2) {
  return r2 = typeof r2 == "function" ? r2 : void 0, e20 == null ? e20 : iy(e20, t2, n2, r2);
}
function Bb(e20) {
  return Ib(_c(e20));
}
function qb(e20) {
  return Ib(km(e20));
}
function Fb(e20) {
  return (_u(e20) ? Bb : qb)(e20);
}
function Vb(e20) {
  if (e20 == null)
    return 0;
  if (vl(e20))
    return bm(e20) ? My(e20) : e20.length;
  var t2 = md(e20);
  return t2 == "[object Map]" || t2 == "[object Set]" ? e20.size : Vl(e20).length;
}
function Hb(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  return r2 ? (n2 && typeof n2 != "number" && pl(e20, t2, n2) ? (t2 = 0, n2 = r2) : (t2 = t2 == null ? 0 : Vu(t2), n2 = n2 === void 0 ? r2 : Vu(n2)), Vf(e20, t2, n2)) : [];
}
var Wb = Mh(function(e20, t2, n2) {
  return e20 + (n2 ? "_" : "") + t2.toLowerCase();
});
function Ub(e20, t2) {
  var n2;
  return bv(e20, function(e21, r2, i2) {
    return !(n2 = t2(e21, r2, i2));
  }), !!n2;
}
function Jb(e20, t2, n2) {
  var r2 = _u(e20) ? Bd : Ub;
  return n2 && pl(e20, t2, n2) && (t2 = void 0), r2(e20, cv(t2));
}
var Kb = hl(function(e20, t2) {
  if (e20 == null)
    return [];
  var n2 = t2.length;
  return n2 > 1 && pl(e20, t2[0], t2[1]) ? t2 = [] : n2 > 2 && pl(t2[0], t2[1], t2[2]) && (t2 = [t2[0]]), ly(e20, _f(t2, 1), []);
}), Gb = Math.floor, Qb = Math.min;
function Yb(e20, t2, n2, r2) {
  var i2 = 0, o2 = e20 == null ? 0 : e20.length;
  if (o2 === 0)
    return 0;
  for (var a2 = (t2 = n2(t2)) != t2, s2 = t2 === null, u2 = xu(t2), c2 = t2 === void 0; i2 < o2; ) {
    var l2 = Gb((i2 + o2) / 2), f2 = n2(e20[l2]), h2 = f2 !== void 0, d2 = f2 === null, v2 = f2 == f2, p2 = xu(f2);
    if (a2)
      var m2 = r2 || v2;
    else
      m2 = c2 ? v2 && (r2 || h2) : s2 ? v2 && h2 && (r2 || !d2) : u2 ? v2 && h2 && !d2 && (r2 || !p2) : !d2 && !p2 && (r2 ? f2 <= t2 : f2 < t2);
    m2 ? i2 = l2 + 1 : o2 = l2;
  }
  return Qb(o2, 4294967294);
}
function Zb(e20, t2, n2) {
  var r2 = 0, i2 = e20 == null ? r2 : e20.length;
  if (typeof t2 == "number" && t2 == t2 && i2 <= 2147483647) {
    for (; r2 < i2; ) {
      var o2 = r2 + i2 >>> 1, a2 = e20[o2];
      a2 !== null && !xu(a2) && (n2 ? a2 <= t2 : a2 < t2) ? r2 = o2 + 1 : i2 = o2;
    }
    return i2;
  }
  return Yb(e20, t2, Wu, n2);
}
function Xb(e20, t2) {
  return Zb(e20, t2);
}
function ew(e20, t2, n2) {
  return Yb(e20, t2, cv(n2));
}
function tw(e20, t2) {
  var n2 = e20 == null ? 0 : e20.length;
  if (n2) {
    var r2 = Zb(e20, t2);
    if (r2 < n2 && al(e20[r2], t2))
      return r2;
  }
  return -1;
}
function nw(e20, t2) {
  return Zb(e20, t2, true);
}
function rw(e20, t2, n2) {
  return Yb(e20, t2, cv(n2), true);
}
function iw(e20, t2) {
  if (e20 == null ? 0 : e20.length) {
    var n2 = Zb(e20, t2, true) - 1;
    if (al(e20[n2], t2))
      return n2;
  }
  return -1;
}
function ow(e20, t2) {
  for (var n2 = -1, r2 = e20.length, i2 = 0, o2 = []; ++n2 < r2; ) {
    var a2 = e20[n2], s2 = t2 ? t2(a2) : a2;
    if (!n2 || !al(s2, u2)) {
      var u2 = s2;
      o2[i2++] = a2 === 0 ? 0 : a2;
    }
  }
  return o2;
}
function aw(e20) {
  return e20 && e20.length ? ow(e20) : [];
}
function sw(e20, t2) {
  return e20 && e20.length ? ow(e20, cv(t2)) : [];
}
function uw(e20, t2, n2) {
  return n2 && typeof n2 != "number" && pl(e20, t2, n2) && (t2 = n2 = void 0), (n2 = n2 === void 0 ? 4294967295 : n2 >>> 0) ? (e20 = gf(e20)) && (typeof t2 == "string" || t2 != null && !hg(t2)) && !(t2 = Pu(t2)) && Uf(e20) ? Hf(rh(e20), 0, n2) : e20.split(t2, n2) : [];
}
var cw = Math.max;
function lw(e20, t2) {
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  return t2 = t2 == null ? 0 : cw(Vu(t2), 0), hl(function(n2) {
    var r2 = n2[t2], i2 = Hf(n2, 0, t2);
    return r2 && xf(i2, r2), hc(e20, this, i2);
  });
}
var fw = Mh(function(e20, t2, n2) {
  return e20 + (n2 ? " " : "") + oh(t2);
});
function hw(e20, t2, n2) {
  return e20 = gf(e20), n2 = n2 == null ? 0 : Vh(Vu(n2), 0, e20.length), t2 = Pu(t2), e20.slice(n2, n2 + t2.length) == t2;
}
function dw() {
  return {};
}
function vw() {
  return "";
}
function pw() {
  return true;
}
var mw = Au(function(e20, t2) {
  return e20 - t2;
}, 0);
function gw(e20) {
  return e20 && e20.length ? Dg(e20, Wu) : 0;
}
function yw(e20, t2) {
  return e20 && e20.length ? Dg(e20, cv(t2)) : 0;
}
function bw(e20) {
  var t2 = e20 == null ? 0 : e20.length;
  return t2 ? Vf(e20, 1, t2) : [];
}
function ww(e20, t2, n2) {
  return e20 && e20.length ? Vf(e20, 0, (t2 = n2 || t2 === void 0 ? 1 : Vu(t2)) < 0 ? 0 : t2) : [];
}
function kw(e20, t2, n2) {
  var r2 = e20 == null ? 0 : e20.length;
  return r2 ? Vf(e20, (t2 = r2 - (t2 = n2 || t2 === void 0 ? 1 : Vu(t2))) < 0 ? 0 : t2, r2) : [];
}
function jw(e20, t2) {
  return e20 && e20.length ? tp(e20, cv(t2), false, true) : [];
}
function xw(e20, t2) {
  return e20 && e20.length ? tp(e20, cv(t2)) : [];
}
function Sw(e20, t2) {
  return t2(e20), e20;
}
var Cw = Object.prototype, _w = Cw.hasOwnProperty;
function $w(e20, t2, n2, r2) {
  return e20 === void 0 || al(e20, Cw[n2]) && !_w.call(r2, n2) ? t2 : e20;
}
var Ow = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" };
function Pw(e20) {
  return "\\" + Ow[e20];
}
var Aw = /<%=([\s\S]+?)%>/g, Ew = { escape: /<%-([\s\S]+?)%>/g, evaluate: /<%([\s\S]+?)%>/g, interpolate: Aw, variable: "", imports: { _: { escape: yp } } }, Mw = /\b__p \+= '';/g, Tw = /\b(__p \+=) '' \+/g, Iw = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Nw = /[()=,{}\[\]\/\s]/, Rw = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Dw = /($^)/, Lw = /['\n\r\u2028\u2029\\]/g, zw = Object.prototype.hasOwnProperty;
function Bw(e20, t2, n2) {
  var r2 = Ew.imports._.templateSettings || Ew;
  n2 && pl(e20, t2, n2) && (t2 = void 0), e20 = gf(e20), t2 = Yl({}, t2, r2, $w);
  var i2, o2, a2 = Yl({}, t2.imports, r2.imports, $w), s2 = Hl(a2), u2 = wm(a2, s2), c2 = 0, l2 = t2.interpolate || Dw, f2 = "__p += '", h2 = RegExp((t2.escape || Dw).source + "|" + l2.source + "|" + (l2 === Aw ? Rw : Dw).source + "|" + (t2.evaluate || Dw).source + "|$", "g"), d2 = zw.call(t2, "sourceURL") ? "//# sourceURL=" + (t2.sourceURL + "").replace(/\s/g, " ") + "\n" : "";
  e20.replace(h2, function(t3, n3, r3, a3, s3, u3) {
    return r3 || (r3 = a3), f2 += e20.slice(c2, u3).replace(Lw, Pw), n3 && (i2 = true, f2 += "' +\n__e(" + n3 + ") +\n'"), s3 && (o2 = true, f2 += "';\n" + s3 + ";\n__p += '"), r3 && (f2 += "' +\n((__t = (" + r3 + ")) == null ? '' : __t) +\n'"), c2 = u3 + t3.length, t3;
  }), f2 += "';\n";
  var v2 = zw.call(t2, "variable") && t2.variable;
  if (v2) {
    if (Nw.test(v2))
      throw new Error("Invalid `variable` option passed into `_.template`");
  } else
    f2 = "with (obj) {\n" + f2 + "\n}\n";
  f2 = (o2 ? f2.replace(Mw, "") : f2).replace(Tw, "$1").replace(Iw, "$1;"), f2 = "function(" + (v2 || "obj") + ") {\n" + (v2 ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i2 ? ", __e = _.escape" : "") + (o2 ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + f2 + "return __p\n}";
  var p2 = Lf(function() {
    return Function(s2, d2 + "return " + f2).apply(void 0, u2);
  });
  if (p2.source = f2, Df(p2))
    throw p2;
  return p2;
}
function qw(e20, t2, n2) {
  var r2 = true, i2 = true;
  if (typeof e20 != "function")
    throw new TypeError("Expected a function");
  return Ru(n2) && (r2 = "leading" in n2 ? !!n2.leading : r2, i2 = "trailing" in n2 ? !!n2.trailing : i2), Av(e20, t2, { leading: r2, maxWait: t2, trailing: i2 });
}
function Fw(e20, t2) {
  return t2(e20);
}
var Vw = Math.min;
function Hw(e20, t2) {
  if ((e20 = Vu(e20)) < 1 || e20 > 9007199254740991)
    return [];
  var n2 = 4294967295, r2 = Vw(e20, 4294967295);
  e20 -= 4294967295;
  for (var i2 = bl(r2, t2 = ip(t2)); ++n2 < e20; )
    t2(n2);
  return i2;
}
function Ww() {
  return this;
}
function Uw(e20, t2) {
  var n2 = e20;
  return n2 instanceof bc && (n2 = n2.value()), sh(t2, function(e21, t3) {
    return t3.func.apply(t3.thisArg, xf([e21], t3.args));
  }, n2);
}
function Jw() {
  return Uw(this.__wrapped__, this.__actions__);
}
function Kw(e20) {
  return gf(e20).toLowerCase();
}
function Gw(e20) {
  return _u(e20) ? Cu(e20, bf) : xu(e20) ? [e20] : _c(mf(gf(e20)));
}
function Qw(e20) {
  return e20 ? Vh(Vu(e20), -9007199254740991, 9007199254740991) : e20 === 0 ? e20 : 0;
}
function Yw(e20) {
  return gf(e20).toUpperCase();
}
function Zw(e20, t2, n2) {
  var r2 = _u(e20), i2 = r2 || Pl(e20) || Dl(e20);
  if (t2 = cv(t2), n2 == null) {
    var o2 = e20 && e20.constructor;
    n2 = i2 ? r2 ? new o2() : [] : Ru(e20) && Uu(o2) ? lc(Af(e20)) : {};
  }
  return (i2 ? Bc : gv)(e20, function(e21, r3, i3) {
    return t2(n2, e21, r3, i3);
  }), n2;
}
function Xw(e20, t2) {
  for (var n2 = e20.length; n2-- && Vc(t2, e20[n2], 0) > -1; )
    ;
  return n2;
}
function ek(e20, t2) {
  for (var n2 = -1, r2 = e20.length; ++n2 < r2 && Vc(t2, e20[n2], 0) > -1; )
    ;
  return n2;
}
function tk(e20, t2, n2) {
  if ((e20 = gf(e20)) && (n2 || t2 === void 0))
    return Nu(e20);
  if (!e20 || !(t2 = Pu(t2)))
    return e20;
  var r2 = rh(e20), i2 = rh(t2);
  return Hf(r2, ek(r2, i2), Xw(r2, i2) + 1).join("");
}
function nk(e20, t2, n2) {
  if ((e20 = gf(e20)) && (n2 || t2 === void 0))
    return e20.slice(0, Tu(e20) + 1);
  if (!e20 || !(t2 = Pu(t2)))
    return e20;
  var r2 = rh(e20);
  return Hf(r2, 0, Xw(r2, rh(t2)) + 1).join("");
}
var rk = /^\s+/;
function ik(e20, t2, n2) {
  if ((e20 = gf(e20)) && (n2 || t2 === void 0))
    return e20.replace(rk, "");
  if (!e20 || !(t2 = Pu(t2)))
    return e20;
  var r2 = rh(e20);
  return Hf(r2, ek(r2, rh(t2))).join("");
}
var ok = /\w*$/;
function ak(e20, t2) {
  var n2 = 30, r2 = "...";
  if (Ru(t2)) {
    var i2 = "separator" in t2 ? t2.separator : i2;
    n2 = "length" in t2 ? Vu(t2.length) : n2, r2 = "omission" in t2 ? Pu(t2.omission) : r2;
  }
  var o2 = (e20 = gf(e20)).length;
  if (Uf(e20)) {
    var a2 = rh(e20);
    o2 = a2.length;
  }
  if (n2 >= o2)
    return e20;
  var s2 = n2 - My(r2);
  if (s2 < 1)
    return r2;
  var u2 = a2 ? Hf(a2, 0, s2).join("") : e20.slice(0, s2);
  if (i2 === void 0)
    return u2 + r2;
  if (a2 && (s2 += u2.length - s2), hg(i2)) {
    if (e20.slice(s2).search(i2)) {
      var c2, l2 = u2;
      for (i2.global || (i2 = RegExp(i2.source, gf(ok.exec(i2)) + "g")), i2.lastIndex = 0; c2 = i2.exec(l2); )
        var f2 = c2.index;
      u2 = u2.slice(0, f2 === void 0 ? s2 : f2);
    }
  } else if (e20.indexOf(Pu(i2), s2) != s2) {
    var h2 = u2.lastIndexOf(i2);
    h2 > -1 && (u2 = u2.slice(0, h2));
  }
  return u2 + r2;
}
function sk(e20) {
  return il(e20, 1);
}
var uk = uh({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }), ck = /&(?:amp|lt|gt|quot|#39);/g, lk = RegExp(ck.source);
function fk(e20) {
  return (e20 = gf(e20)) && lk.test(e20) ? e20.replace(ck, uk) : e20;
}
var hk = cd && 1 / Hd(new cd([, -0]))[1] == 1 / 0 ? function(e20) {
  return new cd(e20);
} : wc;
function dk(e20, t2, n2) {
  var r2 = -1, i2 = Hc, o2 = e20.length, a2 = true, s2 = [], u2 = s2;
  if (n2)
    a2 = false, i2 = Uv;
  else if (o2 >= 200) {
    var c2 = t2 ? null : hk(e20);
    if (c2)
      return Hd(c2);
    a2 = false, i2 = qd, u2 = new zd();
  } else
    u2 = t2 ? [] : s2;
  e:
    for (; ++r2 < o2; ) {
      var l2 = e20[r2], f2 = t2 ? t2(l2) : l2;
      if (l2 = n2 || l2 !== 0 ? l2 : 0, a2 && f2 == f2) {
        for (var h2 = u2.length; h2--; )
          if (u2[h2] === f2)
            continue e;
        t2 && u2.push(f2), s2.push(l2);
      } else
        i2(u2, f2, n2) || (u2 !== s2 && u2.push(f2), s2.push(l2));
    }
  return s2;
}
var vk = hl(function(e20) {
  return dk(_f(e20, 1, Rv, true));
}), pk = hl(function(e20) {
  var t2 = Gv(e20);
  return Rv(t2) && (t2 = void 0), dk(_f(e20, 1, Rv, true), cv(t2));
}), mk = hl(function(e20) {
  var t2 = Gv(e20);
  return t2 = typeof t2 == "function" ? t2 : void 0, dk(_f(e20, 1, Rv, true), void 0, t2);
});
function gk(e20) {
  return e20 && e20.length ? dk(e20) : [];
}
function yk(e20, t2) {
  return e20 && e20.length ? dk(e20, cv(t2)) : [];
}
function bk(e20, t2) {
  return t2 = typeof t2 == "function" ? t2 : void 0, e20 && e20.length ? dk(e20, void 0, t2) : [];
}
var wk = 0;
function kk(e20) {
  var t2 = ++wk;
  return gf(e20) + t2;
}
function jk(e20, t2) {
  return e20 == null || ty(e20, t2);
}
var xk = Math.max;
function Sk(e20) {
  if (!e20 || !e20.length)
    return [];
  var t2 = 0;
  return e20 = Zh(e20, function(e21) {
    if (Rv(e21))
      return t2 = xk(e21.length, t2), true;
  }), bl(t2, function(t3) {
    return Cu(e20, sv(t3));
  });
}
function Ck(e20, t2) {
  if (!e20 || !e20.length)
    return [];
  var n2 = Sk(e20);
  return t2 == null ? n2 : Cu(n2, function(e21) {
    return hc(t2, void 0, e21);
  });
}
function _k(e20, t2, n2, r2) {
  return iy(e20, t2, n2(wf(e20, t2)), r2);
}
function $k(e20, t2, n2) {
  return e20 == null ? e20 : _k(e20, t2, ip(n2));
}
function Ok(e20, t2, n2, r2) {
  return r2 = typeof r2 == "function" ? r2 : void 0, e20 == null ? e20 : _k(e20, t2, ip(n2), r2);
}
var Pk = Mh(function(e20, t2, n2) {
  return e20 + (n2 ? " " : "") + t2.toUpperCase();
});
function Ak(e20) {
  return e20 == null ? [] : wm(e20, Gl(e20));
}
var Ek = hl(function(e20, t2) {
  return Rv(e20) ? Jv(e20, t2) : [];
});
function Mk(e20, t2) {
  return Vy(ip(t2), e20);
}
var Tk = Of(function(e20) {
  var t2 = e20.length, n2 = t2 ? e20[0] : 0, r2 = this.__wrapped__, i2 = function(t3) {
    return jf(t3, e20);
  };
  return !(t2 > 1 || this.__actions__.length) && r2 instanceof bc && Qc(n2) ? ((r2 = r2.slice(n2, +n2 + (t2 ? 1 : 0))).__actions__.push({ func: Fw, args: [i2], thisArg: void 0 }), new Cc(r2, this.__chain__).thru(function(e21) {
    return t2 && !e21.length && e21.push(void 0), e21;
  })) : this.thru(i2);
});
function Ik() {
  return zh(this);
}
function Nk() {
  var e20 = this.__wrapped__;
  if (e20 instanceof bc) {
    var t2 = e20;
    return this.__actions__.length && (t2 = new bc(this)), (t2 = t2.reverse()).__actions__.push({ func: Fw, args: [Pb], thisArg: void 0 }), new Cc(t2, this.__chain__);
  }
  return this.thru(Pb);
}
function Rk(e20, t2, n2) {
  var r2 = e20.length;
  if (r2 < 2)
    return r2 ? dk(e20[0]) : [];
  for (var i2 = -1, o2 = Array(r2); ++i2 < r2; )
    for (var a2 = e20[i2], s2 = -1; ++s2 < r2; )
      s2 != i2 && (o2[i2] = Jv(o2[i2] || a2, e20[s2], t2, n2));
  return dk(_f(o2, 1), t2, n2);
}
var Dk = hl(function(e20) {
  return Rk(Zh(e20, Rv));
}), Lk = hl(function(e20) {
  var t2 = Gv(e20);
  return Rv(t2) && (t2 = void 0), Rk(Zh(e20, Rv), cv(t2));
}), zk = hl(function(e20) {
  var t2 = Gv(e20);
  return t2 = typeof t2 == "function" ? t2 : void 0, Rk(Zh(e20, Rv), void 0, t2);
}), Bk = hl(Sk);
function qk(e20, t2, n2) {
  for (var r2 = -1, i2 = e20.length, o2 = t2.length, a2 = {}; ++r2 < i2; ) {
    var s2 = r2 < o2 ? t2[r2] : void 0;
    n2(a2, e20[r2], s2);
  }
  return a2;
}
function Fk(e20, t2) {
  return qk(e20 || [], t2 || [], ul);
}
function Vk(e20, t2) {
  return qk(e20 || [], t2 || [], iy);
}
var Hk = hl(function(e20) {
  var t2 = e20.length, n2 = t2 > 1 ? e20[t2 - 1] : void 0;
  return n2 = typeof n2 == "function" ? (e20.pop(), n2) : void 0, Ck(e20, n2);
}), Wk = { chunk: Fh, compact: Dd, concat: Ld, difference: Kv, differenceBy: Qv, differenceWith: Yv, drop: Xv, dropRight: ep, dropRightWhile: np, dropWhile: rp, fill: _p, findIndex: Ep, findLastIndex: Dp, first: Bp, flatten: $f, flattenDeep: Up, flattenDepth: Jp, fromPairs: rm, head: Bp, indexOf: Cm, initial: _m, intersection: Am, intersectionBy: Em, intersectionWith: Mm, join: bg, last: Gv, lastIndexOf: Sg, nth: Xg, pull: Xy, pullAll: Zy, pullAllBy: eb, pullAllWith: tb, pullAt: ib, remove: xb, reverse: Pb, slice: Hb, sortedIndex: Xb, sortedIndexBy: ew, sortedIndexOf: tw, sortedLastIndex: nw, sortedLastIndexBy: rw, sortedLastIndexOf: iw, sortedUniq: aw, sortedUniqBy: sw, tail: bw, take: ww, takeRight: kw, takeRightWhile: jw, takeWhile: xw, union: vk, unionBy: pk, unionWith: mk, uniq: gk, uniqBy: yk, uniqWith: bk, unzip: Sk, unzipWith: Ck, without: Ek, xor: Dk, xorBy: Lk, xorWith: zk, zip: Bk, zipObject: Fk, zipObjectDeep: Vk, zipWith: Hk }, Uk = { countBy: xv, each: op, eachRight: lp, every: Sp, filter: Op, find: Mp, findLast: Lp, flatMap: Vp, flatMapDeep: Hp, flatMapDepth: Wp, forEach: op, forEachRight: lp, groupBy: um, includes: xm, invokeMap: Vm, keyBy: kg, map: Fp, orderBy: fy, partition: Wy, reduce: bb, reduceRight: kb, reject: jb, sample: Tb, sampleSize: Db, shuffle: Fb, size: Vb, some: Jb, sortBy: Kb }, Jk = $v, Kk = { after: Hu, ary: il, before: zf, bind: Bf, bindKey: Ff, curry: Cv, curryRight: _v, debounce: Av, defer: Hv, delay: Wv, flip: Kp, memoize: df, negate: Kg, once: uy, overArgs: my, partial: Vy, partialRight: Hy, rearg: gb, rest: _b, spread: lw, throttle: qw, unary: sk, wrap: Mk }, Gk = { castArray: Ih, clone: Md, cloneDeep: Td, cloneDeepWith: Id, cloneWith: Nd, conformsTo: dv, eq: al, gt: fm, gte: hm, isArguments: Sl, isArray: _u, isArrayBuffer: Wm, isArrayLike: vl, isArrayLikeObject: Rv, isBoolean: Um, isBuffer: Pl, isDate: Km, isElement: Gm, isEmpty: Ym, isEqual: Zm, isEqualWith: Xm, isError: Df, isFinite: tg, isFunction: Uu, isInteger: ng, isLength: dl, isMap: $d, isMatch: rg, isMatchWith: ig, isNaN: ag, isNative: ug, isNil: cg, isNull: lg, isNumber: og, isObject: Ru, isObjectLike: ju, isPlainObject: Rf, isRegExp: hg, isSafeInteger: dg, isSet: Pd, isString: bm, isSymbol: xu, isTypedArray: Dl, isUndefined: vg, isWeakMap: pg, isWeakSet: mg, lt: Og, lte: Pg, toArray: Qg, toFinite: Fu, toInteger: Vu, toLength: Cp, toNumber: qu, toPlainObject: Lv, toSafeInteger: Qw, toString: gf }, Qk = { add: Eu, ceil: Lh, divide: Zv, floor: Gp, max: Ng, maxBy: Rg, mean: zg, meanBy: Bg, min: Hg, minBy: Wg, multiply: Jg, round: Ab, subtract: mw, sum: gw, sumBy: yw }, Yk = Hh, Zk = ym, Xk = fb, ej = { assign: Ul, assignIn: Ql, assignInWith: Yl, assignWith: Zl, at: Pf, create: Sv, defaults: Iv, defaultsDeep: Fv, entries: dp, entriesIn: vp, extend: Ql, extendWith: Yl, findKey: Ip, findLastKey: zp, forIn: Xp, forInRight: em, forOwn: tm, forOwnRight: nm, functions: om, functionsIn: am, get: kf, has: pm, hasIn: ov, invert: Nm, invertBy: zm, invoke: Fm, keys: Hl, keysIn: Gl, mapKeys: Ag, mapValues: Eg, merge: qg, mergeWith: qv, omit: ry, omitBy: sy, pick: Uy, pickBy: ay, result: $b, set: Lb, setWith: zb, toPairs: dp, toPairsIn: vp, transform: Zw, unset: jk, update: $k, updateWith: Ok, values: km, valuesIn: Ak }, tj = { at: Tk, chain: zh, commit: Rd, lodash: Pc, next: Yg, plant: Jy, reverse: Nk, tap: Sw, thru: Fw, toIterator: Ww, toJSON: Jw, value: Jw, valueOf: Jw, wrapperChain: Ik }, nj = { camelCase: Th, capitalize: ah, deburr: hh, endsWith: fp, escape: yp, escapeRegExp: kp, kebabCase: wg, lowerCase: Cg, lowerFirst: _g, pad: Dy, padEnd: Ly, padStart: zy, parseInt: Fy, repeat: Sb, replace: Cb, snakeCase: Wb, split: uw, startCase: fw, startsWith: hw, template: Bw, templateSettings: Ew, toLower: Kw, toUpper: Yw, trim: tk, trimEnd: nk, trimStart: ik, truncate: ak, unescape: fk, upperCase: Pk, upperFirst: oh, words: Ah }, rj = { attempt: Lf, bindAll: qf, cond: lv, conforms: hv, constant: Dc, defaultTo: Ev, flow: Yp, flowRight: Zp, identity: Wu, iteratee: gg, matches: Mg, matchesProperty: Tg, method: Fg, methodOf: Vg, mixin: Ug, noop: wc, nthArg: ey, over: dy, overEvery: gy, overSome: yy, property: uv, propertyOf: Ky, range: pb, rangeRight: mb, stubArray: Xh, stubFalse: Cl, stubObject: dw, stubString: vw, stubTrue: pw, times: Hw, toPath: Gw, uniqueId: kk };
var ij = Math.max, oj = Math.min;
var aj = Math.min;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var sj, uj = Array.prototype, cj = Object.prototype.hasOwnProperty, lj = vu ? vu.iterator : void 0, fj = Math.max, hj = Math.min, dj = function(e20) {
  return function(t2, n2, r2) {
    if (r2 == null) {
      var i2 = Ru(n2), o2 = i2 && Hl(n2), a2 = o2 && o2.length && im(n2, o2);
      (a2 ? a2.length : i2) || (r2 = n2, n2 = t2, t2 = this);
    }
    return e20(t2, n2, r2);
  };
}(Ug);
Pc.after = Kk.after, Pc.ary = Kk.ary, Pc.assign = ej.assign, Pc.assignIn = ej.assignIn, Pc.assignInWith = ej.assignInWith, Pc.assignWith = ej.assignWith, Pc.at = ej.at, Pc.before = Kk.before, Pc.bind = Kk.bind, Pc.bindAll = rj.bindAll, Pc.bindKey = Kk.bindKey, Pc.castArray = Gk.castArray, Pc.chain = tj.chain, Pc.chunk = Wk.chunk, Pc.compact = Wk.compact, Pc.concat = Wk.concat, Pc.cond = rj.cond, Pc.conforms = rj.conforms, Pc.constant = rj.constant, Pc.countBy = Uk.countBy, Pc.create = ej.create, Pc.curry = Kk.curry, Pc.curryRight = Kk.curryRight, Pc.debounce = Kk.debounce, Pc.defaults = ej.defaults, Pc.defaultsDeep = ej.defaultsDeep, Pc.defer = Kk.defer, Pc.delay = Kk.delay, Pc.difference = Wk.difference, Pc.differenceBy = Wk.differenceBy, Pc.differenceWith = Wk.differenceWith, Pc.drop = Wk.drop, Pc.dropRight = Wk.dropRight, Pc.dropRightWhile = Wk.dropRightWhile, Pc.dropWhile = Wk.dropWhile, Pc.fill = Wk.fill, Pc.filter = Uk.filter, Pc.flatMap = Uk.flatMap, Pc.flatMapDeep = Uk.flatMapDeep, Pc.flatMapDepth = Uk.flatMapDepth, Pc.flatten = Wk.flatten, Pc.flattenDeep = Wk.flattenDeep, Pc.flattenDepth = Wk.flattenDepth, Pc.flip = Kk.flip, Pc.flow = rj.flow, Pc.flowRight = rj.flowRight, Pc.fromPairs = Wk.fromPairs, Pc.functions = ej.functions, Pc.functionsIn = ej.functionsIn, Pc.groupBy = Uk.groupBy, Pc.initial = Wk.initial, Pc.intersection = Wk.intersection, Pc.intersectionBy = Wk.intersectionBy, Pc.intersectionWith = Wk.intersectionWith, Pc.invert = ej.invert, Pc.invertBy = ej.invertBy, Pc.invokeMap = Uk.invokeMap, Pc.iteratee = rj.iteratee, Pc.keyBy = Uk.keyBy, Pc.keys = Hl, Pc.keysIn = ej.keysIn, Pc.map = Uk.map, Pc.mapKeys = ej.mapKeys, Pc.mapValues = ej.mapValues, Pc.matches = rj.matches, Pc.matchesProperty = rj.matchesProperty, Pc.memoize = Kk.memoize, Pc.merge = ej.merge, Pc.mergeWith = ej.mergeWith, Pc.method = rj.method, Pc.methodOf = rj.methodOf, Pc.mixin = dj, Pc.negate = Kg, Pc.nthArg = rj.nthArg, Pc.omit = ej.omit, Pc.omitBy = ej.omitBy, Pc.once = Kk.once, Pc.orderBy = Uk.orderBy, Pc.over = rj.over, Pc.overArgs = Kk.overArgs, Pc.overEvery = rj.overEvery, Pc.overSome = rj.overSome, Pc.partial = Kk.partial, Pc.partialRight = Kk.partialRight, Pc.partition = Uk.partition, Pc.pick = ej.pick, Pc.pickBy = ej.pickBy, Pc.property = rj.property, Pc.propertyOf = rj.propertyOf, Pc.pull = Wk.pull, Pc.pullAll = Wk.pullAll, Pc.pullAllBy = Wk.pullAllBy, Pc.pullAllWith = Wk.pullAllWith, Pc.pullAt = Wk.pullAt, Pc.range = rj.range, Pc.rangeRight = rj.rangeRight, Pc.rearg = Kk.rearg, Pc.reject = Uk.reject, Pc.remove = Wk.remove, Pc.rest = Kk.rest, Pc.reverse = Wk.reverse, Pc.sampleSize = Uk.sampleSize, Pc.set = ej.set, Pc.setWith = ej.setWith, Pc.shuffle = Uk.shuffle, Pc.slice = Wk.slice, Pc.sortBy = Uk.sortBy, Pc.sortedUniq = Wk.sortedUniq, Pc.sortedUniqBy = Wk.sortedUniqBy, Pc.split = nj.split, Pc.spread = Kk.spread, Pc.tail = Wk.tail, Pc.take = Wk.take, Pc.takeRight = Wk.takeRight, Pc.takeRightWhile = Wk.takeRightWhile, Pc.takeWhile = Wk.takeWhile, Pc.tap = tj.tap, Pc.throttle = Kk.throttle, Pc.thru = Fw, Pc.toArray = Gk.toArray, Pc.toPairs = ej.toPairs, Pc.toPairsIn = ej.toPairsIn, Pc.toPath = rj.toPath, Pc.toPlainObject = Gk.toPlainObject, Pc.transform = ej.transform, Pc.unary = Kk.unary, Pc.union = Wk.union, Pc.unionBy = Wk.unionBy, Pc.unionWith = Wk.unionWith, Pc.uniq = Wk.uniq, Pc.uniqBy = Wk.uniqBy, Pc.uniqWith = Wk.uniqWith, Pc.unset = ej.unset, Pc.unzip = Wk.unzip, Pc.unzipWith = Wk.unzipWith, Pc.update = ej.update, Pc.updateWith = ej.updateWith, Pc.values = ej.values, Pc.valuesIn = ej.valuesIn, Pc.without = Wk.without, Pc.words = nj.words, Pc.wrap = Kk.wrap, Pc.xor = Wk.xor, Pc.xorBy = Wk.xorBy, Pc.xorWith = Wk.xorWith, Pc.zip = Wk.zip, Pc.zipObject = Wk.zipObject, Pc.zipObjectDeep = Wk.zipObjectDeep, Pc.zipWith = Wk.zipWith, Pc.entries = ej.toPairs, Pc.entriesIn = ej.toPairsIn, Pc.extend = ej.assignIn, Pc.extendWith = ej.assignInWith, dj(Pc, Pc), Pc.add = Qk.add, Pc.attempt = rj.attempt, Pc.camelCase = nj.camelCase, Pc.capitalize = nj.capitalize, Pc.ceil = Qk.ceil, Pc.clamp = Yk, Pc.clone = Gk.clone, Pc.cloneDeep = Gk.cloneDeep, Pc.cloneDeepWith = Gk.cloneDeepWith, Pc.cloneWith = Gk.cloneWith, Pc.conformsTo = Gk.conformsTo, Pc.deburr = nj.deburr, Pc.defaultTo = rj.defaultTo, Pc.divide = Qk.divide, Pc.endsWith = nj.endsWith, Pc.eq = Gk.eq, Pc.escape = nj.escape, Pc.escapeRegExp = nj.escapeRegExp, Pc.every = Uk.every, Pc.find = Uk.find, Pc.findIndex = Wk.findIndex, Pc.findKey = ej.findKey, Pc.findLast = Uk.findLast, Pc.findLastIndex = Wk.findLastIndex, Pc.findLastKey = ej.findLastKey, Pc.floor = Qk.floor, Pc.forEach = Uk.forEach, Pc.forEachRight = Uk.forEachRight, Pc.forIn = ej.forIn, Pc.forInRight = ej.forInRight, Pc.forOwn = ej.forOwn, Pc.forOwnRight = ej.forOwnRight, Pc.get = ej.get, Pc.gt = Gk.gt, Pc.gte = Gk.gte, Pc.has = ej.has, Pc.hasIn = ej.hasIn, Pc.head = Wk.head, Pc.identity = Wu, Pc.includes = Uk.includes, Pc.indexOf = Wk.indexOf, Pc.inRange = Zk, Pc.invoke = ej.invoke, Pc.isArguments = Gk.isArguments, Pc.isArray = _u, Pc.isArrayBuffer = Gk.isArrayBuffer, Pc.isArrayLike = Gk.isArrayLike, Pc.isArrayLikeObject = Gk.isArrayLikeObject, Pc.isBoolean = Gk.isBoolean, Pc.isBuffer = Gk.isBuffer, Pc.isDate = Gk.isDate, Pc.isElement = Gk.isElement, Pc.isEmpty = Gk.isEmpty, Pc.isEqual = Gk.isEqual, Pc.isEqualWith = Gk.isEqualWith, Pc.isError = Gk.isError, Pc.isFinite = Gk.isFinite, Pc.isFunction = Gk.isFunction, Pc.isInteger = Gk.isInteger, Pc.isLength = Gk.isLength, Pc.isMap = Gk.isMap, Pc.isMatch = Gk.isMatch, Pc.isMatchWith = Gk.isMatchWith, Pc.isNaN = Gk.isNaN, Pc.isNative = Gk.isNative, Pc.isNil = Gk.isNil, Pc.isNull = Gk.isNull, Pc.isNumber = Gk.isNumber, Pc.isObject = Ru, Pc.isObjectLike = Gk.isObjectLike, Pc.isPlainObject = Gk.isPlainObject, Pc.isRegExp = Gk.isRegExp, Pc.isSafeInteger = Gk.isSafeInteger, Pc.isSet = Gk.isSet, Pc.isString = Gk.isString, Pc.isSymbol = Gk.isSymbol, Pc.isTypedArray = Gk.isTypedArray, Pc.isUndefined = Gk.isUndefined, Pc.isWeakMap = Gk.isWeakMap, Pc.isWeakSet = Gk.isWeakSet, Pc.join = Wk.join, Pc.kebabCase = nj.kebabCase, Pc.last = Gv, Pc.lastIndexOf = Wk.lastIndexOf, Pc.lowerCase = nj.lowerCase, Pc.lowerFirst = nj.lowerFirst, Pc.lt = Gk.lt, Pc.lte = Gk.lte, Pc.max = Qk.max, Pc.maxBy = Qk.maxBy, Pc.mean = Qk.mean, Pc.meanBy = Qk.meanBy, Pc.min = Qk.min, Pc.minBy = Qk.minBy, Pc.stubArray = rj.stubArray, Pc.stubFalse = rj.stubFalse, Pc.stubObject = rj.stubObject, Pc.stubString = rj.stubString, Pc.stubTrue = rj.stubTrue, Pc.multiply = Qk.multiply, Pc.nth = Wk.nth, Pc.noop = rj.noop, Pc.now = Jk, Pc.pad = nj.pad, Pc.padEnd = nj.padEnd, Pc.padStart = nj.padStart, Pc.parseInt = nj.parseInt, Pc.random = Xk, Pc.reduce = Uk.reduce, Pc.reduceRight = Uk.reduceRight, Pc.repeat = nj.repeat, Pc.replace = nj.replace, Pc.result = ej.result, Pc.round = Qk.round, Pc.sample = Uk.sample, Pc.size = Uk.size, Pc.snakeCase = nj.snakeCase, Pc.some = Uk.some, Pc.sortedIndex = Wk.sortedIndex, Pc.sortedIndexBy = Wk.sortedIndexBy, Pc.sortedIndexOf = Wk.sortedIndexOf, Pc.sortedLastIndex = Wk.sortedLastIndex, Pc.sortedLastIndexBy = Wk.sortedLastIndexBy, Pc.sortedLastIndexOf = Wk.sortedLastIndexOf, Pc.startCase = nj.startCase, Pc.startsWith = nj.startsWith, Pc.subtract = Qk.subtract, Pc.sum = Qk.sum, Pc.sumBy = Qk.sumBy, Pc.template = nj.template, Pc.times = rj.times, Pc.toFinite = Gk.toFinite, Pc.toInteger = Vu, Pc.toLength = Gk.toLength, Pc.toLower = nj.toLower, Pc.toNumber = Gk.toNumber, Pc.toSafeInteger = Gk.toSafeInteger, Pc.toString = Gk.toString, Pc.toUpper = nj.toUpper, Pc.trim = nj.trim, Pc.trimEnd = nj.trimEnd, Pc.trimStart = nj.trimStart, Pc.truncate = nj.truncate, Pc.unescape = nj.unescape, Pc.uniqueId = rj.uniqueId, Pc.upperCase = nj.upperCase, Pc.upperFirst = nj.upperFirst, Pc.each = Uk.forEach, Pc.eachRight = Uk.forEachRight, Pc.first = Wk.head, dj(Pc, (sj = {}, gv(Pc, function(e20, t2) {
  cj.call(Pc.prototype, t2) || (sj[t2] = e20);
}), sj), { chain: false }), Pc.VERSION = "4.17.21", (Pc.templateSettings = nj.templateSettings).imports._ = Pc, Bc(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e20) {
  Pc[e20].placeholder = Pc;
}), Bc(["drop", "take"], function(e20, t2) {
  bc.prototype[e20] = function(n2) {
    n2 = n2 === void 0 ? 1 : fj(Vu(n2), 0);
    var r2 = this.__filtered__ && !t2 ? new bc(this) : this.clone();
    return r2.__filtered__ ? r2.__takeCount__ = hj(n2, r2.__takeCount__) : r2.__views__.push({ size: hj(n2, 4294967295), type: e20 + (r2.__dir__ < 0 ? "Right" : "") }), r2;
  }, bc.prototype[e20 + "Right"] = function(t3) {
    return this.reverse()[e20](t3).reverse();
  };
}), Bc(["filter", "map", "takeWhile"], function(e20, t2) {
  var n2 = t2 + 1, r2 = n2 == 1 || n2 == 3;
  bc.prototype[e20] = function(e21) {
    var t3 = this.clone();
    return t3.__iteratees__.push({ iteratee: cv(e21), type: n2 }), t3.__filtered__ = t3.__filtered__ || r2, t3;
  };
}), Bc(["head", "last"], function(e20, t2) {
  var n2 = "take" + (t2 ? "Right" : "");
  bc.prototype[e20] = function() {
    return this[n2](1).value()[0];
  };
}), Bc(["initial", "tail"], function(e20, t2) {
  var n2 = "drop" + (t2 ? "" : "Right");
  bc.prototype[e20] = function() {
    return this.__filtered__ ? new bc(this) : this[n2](1);
  };
}), bc.prototype.compact = function() {
  return this.filter(Wu);
}, bc.prototype.find = function(e20) {
  return this.filter(e20).head();
}, bc.prototype.findLast = function(e20) {
  return this.reverse().find(e20);
}, bc.prototype.invokeMap = hl(function(e20, t2) {
  return typeof e20 == "function" ? new bc(this) : this.map(function(n2) {
    return qm(n2, e20, t2);
  });
}), bc.prototype.reject = function(e20) {
  return this.filter(Kg(cv(e20)));
}, bc.prototype.slice = function(e20, t2) {
  e20 = Vu(e20);
  var n2 = this;
  return n2.__filtered__ && (e20 > 0 || t2 < 0) ? new bc(n2) : (e20 < 0 ? n2 = n2.takeRight(-e20) : e20 && (n2 = n2.drop(e20)), t2 !== void 0 && (n2 = (t2 = Vu(t2)) < 0 ? n2.dropRight(-t2) : n2.take(t2 - e20)), n2);
}, bc.prototype.takeRightWhile = function(e20) {
  return this.reverse().takeWhile(e20).reverse();
}, bc.prototype.toArray = function() {
  return this.take(4294967295);
}, gv(bc.prototype, function(e20, t2) {
  var n2 = /^(?:filter|find|map|reject)|While$/.test(t2), r2 = /^(?:head|last)$/.test(t2), i2 = Pc[r2 ? "take" + (t2 == "last" ? "Right" : "") : t2], o2 = r2 || /^find/.test(t2);
  i2 && (Pc.prototype[t2] = function() {
    var t3 = this.__wrapped__, a2 = r2 ? [1] : arguments, s2 = t3 instanceof bc, u2 = a2[0], c2 = s2 || _u(t3), l2 = function(e21) {
      var t4 = i2.apply(Pc, xf([e21], a2));
      return r2 && f2 ? t4[0] : t4;
    };
    c2 && n2 && typeof u2 == "function" && u2.length != 1 && (s2 = c2 = false);
    var f2 = this.__chain__, h2 = !!this.__actions__.length, d2 = o2 && !f2, v2 = s2 && !h2;
    if (!o2 && c2) {
      t3 = v2 ? t3 : new bc(this);
      var p2 = e20.apply(t3, a2);
      return p2.__actions__.push({ func: Fw, args: [l2], thisArg: void 0 }), new Cc(p2, f2);
    }
    return d2 && v2 ? e20.apply(this, a2) : (p2 = this.thru(l2), d2 ? r2 ? p2.value()[0] : p2.value() : p2);
  });
}), Bc(["pop", "push", "shift", "sort", "splice", "unshift"], function(e20) {
  var t2 = uj[e20], n2 = /^(?:push|sort|unshift)$/.test(e20) ? "tap" : "thru", r2 = /^(?:pop|shift)$/.test(e20);
  Pc.prototype[e20] = function() {
    var e21 = arguments;
    if (r2 && !this.__chain__) {
      var i2 = this.value();
      return t2.apply(_u(i2) ? i2 : [], e21);
    }
    return this[n2](function(n3) {
      return t2.apply(_u(n3) ? n3 : [], e21);
    });
  };
}), gv(bc.prototype, function(e20, t2) {
  var n2 = Pc[t2];
  if (n2) {
    var r2 = n2.name + "";
    cj.call(jc, r2) || (jc[r2] = []), jc[r2].push({ name: t2, func: n2 });
  }
}), jc[el(void 0, 2).name] = [{ name: "wrapper", func: void 0 }], bc.prototype.clone = function() {
  var e20 = new bc(this.__wrapped__);
  return e20.__actions__ = _c(this.__actions__), e20.__dir__ = this.__dir__, e20.__filtered__ = this.__filtered__, e20.__iteratees__ = _c(this.__iteratees__), e20.__takeCount__ = this.__takeCount__, e20.__views__ = _c(this.__views__), e20;
}, bc.prototype.reverse = function() {
  if (this.__filtered__) {
    var e20 = new bc(this);
    e20.__dir__ = -1, e20.__filtered__ = true;
  } else
    (e20 = this.clone()).__dir__ *= -1;
  return e20;
}, bc.prototype.value = function() {
  var e20 = this.__wrapped__.value(), t2 = this.__dir__, n2 = _u(e20), r2 = t2 < 0, i2 = n2 ? e20.length : 0, o2 = function(e21, t3, n3) {
    for (var r3 = -1, i3 = n3.length; ++r3 < i3; ) {
      var o3 = n3[r3], a3 = o3.size;
      switch (o3.type) {
        case "drop":
          e21 += a3;
          break;
        case "dropRight":
          t3 -= a3;
          break;
        case "take":
          t3 = oj(t3, e21 + a3);
          break;
        case "takeRight":
          e21 = ij(e21, t3 - a3);
      }
    }
    return { start: e21, end: t3 };
  }(0, i2, this.__views__), a2 = o2.start, s2 = o2.end, u2 = s2 - a2, c2 = r2 ? s2 : a2 - 1, l2 = this.__iteratees__, f2 = l2.length, h2 = 0, d2 = aj(u2, this.__takeCount__);
  if (!n2 || !r2 && i2 == u2 && d2 == u2)
    return Uw(e20, this.__actions__);
  var v2 = [];
  e:
    for (; u2-- && h2 < d2; ) {
      for (var p2 = -1, m2 = e20[c2 += t2]; ++p2 < f2; ) {
        var g2 = l2[p2], y2 = g2.iteratee, b2 = g2.type, w2 = y2(m2);
        if (b2 == 2)
          m2 = w2;
        else if (!w2) {
          if (b2 == 1)
            continue e;
          break e;
        }
      }
      v2[h2++] = m2;
    }
  return v2;
}, Pc.prototype.at = tj.at, Pc.prototype.chain = tj.wrapperChain, Pc.prototype.commit = tj.commit, Pc.prototype.next = tj.next, Pc.prototype.plant = tj.plant, Pc.prototype.reverse = tj.reverse, Pc.prototype.toJSON = Pc.prototype.valueOf = Pc.prototype.value = tj.value, Pc.prototype.first = Pc.prototype.head, lj && (Pc.prototype[lj] = tj.toIterator);
Object.freeze({ __proto__: null, add: Eu, after: Hu, ary: il, assign: Ul, assignIn: Ql, assignInWith: Yl, assignWith: Zl, at: Pf, attempt: Lf, before: zf, bind: Bf, bindAll: qf, bindKey: Ff, camelCase: Th, capitalize: ah, castArray: Ih, ceil: Lh, chain: zh, chunk: Fh, clamp: Hh, clone: Md, cloneDeep: Td, cloneDeepWith: Id, cloneWith: Nd, commit: Rd, compact: Dd, concat: Ld, cond: lv, conforms: hv, conformsTo: dv, constant: Dc, countBy: xv, create: Sv, curry: Cv, curryRight: _v, debounce: Av, deburr: hh, defaultTo: Ev, defaults: Iv, defaultsDeep: Fv, defer: Hv, delay: Wv, difference: Kv, differenceBy: Qv, differenceWith: Yv, divide: Zv, drop: Xv, dropRight: ep, dropRightWhile: np, dropWhile: rp, each: op, eachRight: lp, endsWith: fp, entries: dp, entriesIn: vp, eq: al, escape: yp, escapeRegExp: kp, every: Sp, extend: Ql, extendWith: Yl, fill: _p, filter: Op, find: Mp, findIndex: Ep, findKey: Ip, findLast: Lp, findLastIndex: Dp, findLastKey: zp, first: Bp, flatMap: Vp, flatMapDeep: Hp, flatMapDepth: Wp, flatten: $f, flattenDeep: Up, flattenDepth: Jp, flip: Kp, floor: Gp, flow: Yp, flowRight: Zp, forEach: op, forEachRight: lp, forIn: Xp, forInRight: em, forOwn: tm, forOwnRight: nm, fromPairs: rm, functions: om, functionsIn: am, get: kf, groupBy: um, gt: fm, gte: hm, has: pm, hasIn: ov, head: Bp, identity: Wu, inRange: ym, includes: xm, indexOf: Cm, initial: _m, intersection: Am, intersectionBy: Em, intersectionWith: Mm, invert: Nm, invertBy: zm, invoke: Fm, invokeMap: Vm, isArguments: Sl, isArray: _u, isArrayBuffer: Wm, isArrayLike: vl, isArrayLikeObject: Rv, isBoolean: Um, isBuffer: Pl, isDate: Km, isElement: Gm, isEmpty: Ym, isEqual: Zm, isEqualWith: Xm, isError: Df, isFinite: tg, isFunction: Uu, isInteger: ng, isLength: dl, isMap: $d, isMatch: rg, isMatchWith: ig, isNaN: ag, isNative: ug, isNil: cg, isNull: lg, isNumber: og, isObject: Ru, isObjectLike: ju, isPlainObject: Rf, isRegExp: hg, isSafeInteger: dg, isSet: Pd, isString: bm, isSymbol: xu, isTypedArray: Dl, isUndefined: vg, isWeakMap: pg, isWeakSet: mg, iteratee: gg, join: bg, kebabCase: wg, keyBy: kg, keys: Hl, keysIn: Gl, last: Gv, lastIndexOf: Sg, lodash: Pc, lowerCase: Cg, lowerFirst: _g, lt: Og, lte: Pg, map: Fp, mapKeys: Ag, mapValues: Eg, matches: Mg, matchesProperty: Tg, max: Ng, maxBy: Rg, mean: zg, meanBy: Bg, memoize: df, merge: qg, mergeWith: qv, method: Fg, methodOf: Vg, min: Hg, minBy: Wg, mixin: Ug, multiply: Jg, negate: Kg, next: Yg, noop: wc, now: $v, nth: Xg, nthArg: ey, omit: ry, omitBy: sy, once: uy, orderBy: fy, over: dy, overArgs: my, overEvery: gy, overSome: yy, pad: Dy, padEnd: Ly, padStart: zy, parseInt: Fy, partial: Vy, partialRight: Hy, partition: Wy, pick: Uy, pickBy: ay, plant: Jy, property: uv, propertyOf: Ky, pull: Xy, pullAll: Zy, pullAllBy: eb, pullAllWith: tb, pullAt: ib, random: fb, range: pb, rangeRight: mb, rearg: gb, reduce: bb, reduceRight: kb, reject: jb, remove: xb, repeat: Sb, replace: Cb, rest: _b, result: $b, reverse: Pb, round: Ab, sample: Tb, sampleSize: Db, set: Lb, setWith: zb, shuffle: Fb, size: Vb, slice: Hb, snakeCase: Wb, some: Jb, sortBy: Kb, sortedIndex: Xb, sortedIndexBy: ew, sortedIndexOf: tw, sortedLastIndex: nw, sortedLastIndexBy: rw, sortedLastIndexOf: iw, sortedUniq: aw, sortedUniqBy: sw, split: uw, spread: lw, startCase: fw, startsWith: hw, stubArray: Xh, stubFalse: Cl, stubObject: dw, stubString: vw, stubTrue: pw, subtract: mw, sum: gw, sumBy: yw, tail: bw, take: ww, takeRight: kw, takeRightWhile: jw, takeWhile: xw, tap: Sw, template: Bw, templateSettings: Ew, throttle: qw, thru: Fw, times: Hw, toArray: Qg, toFinite: Fu, toInteger: Vu, toIterator: Ww, toJSON: Jw, toLength: Cp, toLower: Kw, toNumber: qu, toPairs: dp, toPairsIn: vp, toPath: Gw, toPlainObject: Lv, toSafeInteger: Qw, toString: gf, toUpper: Yw, transform: Zw, trim: tk, trimEnd: nk, trimStart: ik, truncate: ak, unary: sk, unescape: fk, union: vk, unionBy: pk, unionWith: mk, uniq: gk, uniqBy: yk, uniqWith: bk, uniqueId: kk, unset: jk, unzip: Sk, unzipWith: Ck, update: $k, updateWith: Ok, upperCase: Pk, upperFirst: oh, value: Jw, valueOf: Jw, values: km, valuesIn: Ak, without: Ek, words: Ah, wrap: Mk, wrapperAt: Tk, wrapperChain: Ik, wrapperCommit: Rd, wrapperLodash: Pc, wrapperNext: Yg, wrapperPlant: Jy, wrapperReverse: Nk, wrapperToIterator: Ww, wrapperValue: Jw, xor: Dk, xorBy: Lk, xorWith: zk, zip: Bk, zipObject: Fk, zipObjectDeep: Vk, zipWith: Hk, default: Pc });
function pj(e20, t2) {
  for (var n2 = ws.exports.parseJSONPointer(t2), r2 = 0; r2 < n2.length; r2++) {
    var i2 = n2[r2];
    if (mj.exec(i2)) {
      var o2 = n2.slice(0, r2), a2 = ws.exports.getIn(e20, o2);
      Array.isArray(a2) && (n2[r2] = parseInt(i2));
    }
  }
  return n2;
}
var mj = /^\d+$/;
function gj(e20) {
  for (var t2 = Kb(e20, function(e21) {
    return e21.start;
  }), n2 = [t2[0]], r2 = 0; r2 < t2.length; r2++) {
    var i2 = n2.length - 1, o2 = n2[i2], a2 = t2[r2];
    a2.start <= o2.end ? n2[i2] = { start: Math.min(o2.start, a2.start), end: Math.max(o2.end, a2.end) } : n2.push(a2);
  }
  return n2;
}
function yj(e20) {
  return bj(e20) + 100;
}
function bj(e20) {
  return 100 * Math.floor(e20 / 100);
}
function wj(e20, t2, n2, r2) {
  var i2 = arguments.length > 4 && arguments[4] !== void 0 && arguments[4], o2 = Array.isArray(e20) ? [] : {};
  return o2[Xa] = t2 && t2[Xa] ? t2[Xa] : kk(), Ls(e20) ? (o2[ns] = $j(e20, t2 && t2[ns]), o2[es] = t2 && !i2 ? t2[es] : r2(n2), o2[es] && Object.keys(e20).forEach(function(a2) {
    var s2 = e20[a2], u2 = t2 && t2[a2];
    o2[a2] = wj(s2, u2, n2.concat(a2), r2, i2);
  })) : Array.isArray(e20) ? (o2[es] = t2 && !i2 ? t2[es] : r2(n2), o2[ts] = t2 && o2[es] && t2[ts] || us, o2[es] && o2[ts].forEach(function(a2) {
    var s2 = a2.start, u2 = a2.end;
    Ks(s2, Math.min(e20.length, u2), function(a3) {
      var s3 = e20[a3], u3 = t2 && t2[a3];
      o2[a3] = wj(s3, u3, n2.concat(a3), r2, i2);
    });
  })) : t2 && t2[os] !== void 0 ? o2[os] = t2[os] : Ws(e20) && (o2[os] = true), o2;
}
function kj(e20) {
  if (Array.isArray(e20)) {
    var t2 = [];
    return t2[Xa] = kk(), t2[es] = false, t2[ts] = us, t2;
  }
  if (Ls(e20)) {
    var n2 = {};
    return n2[Xa] = kk(), n2[es] = false, n2[ns] = Object.keys(e20), n2;
  }
  var r2 = Mi({}, Xa, kk());
  return Ws(e20) && (r2[os] = true), r2;
}
function jj(e20, t2, n2) {
  t2[ts].forEach(function(t3) {
    var r2 = t3.start, i2 = t3.end;
    Ks(r2, Math.min(e20.length, i2), n2);
  });
}
function xj(e20, t2) {
  e20[ns].forEach(function(e21) {
    return t2(e21);
  });
}
function Sj(e20, t2, n2) {
  for (var r2 = t2, i2 = function(t3) {
    var i3 = n2.slice(0, t3), o3 = i3.concat(es);
    if (r2 = ws.exports.setIn(r2, o3, true, true), Array.isArray(ws.exports.getIn(r2, i3))) {
      var a2 = n2[t3], s2 = i3.concat(ts), u2 = ws.exports.getIn(r2, s2) || us;
      if (!function(e21, t4) {
        return e21.some(function(e22) {
          return t4 >= e22.start && t4 < e22.end;
        });
      }(u2, a2)) {
        var c2 = bj(a2), l2 = { start: c2, end: yj(c2) }, f2 = gj(u2.concat(l2));
        r2 = ws.exports.setIn(r2, s2, f2);
      }
    }
    var h2 = ws.exports.getIn(e20, i3);
    r2 = ws.exports.updateIn(r2, i3, function(e21) {
      return wj(h2, e21, [], function() {
        return false;
      });
    });
  }, o2 = 0; o2 < n2.length; o2++)
    i2(o2);
  return r2;
}
function Cj(e20, t2, n2, r2) {
  var i2 = ws.exports.setIn(t2, n2.concat(es), true, true);
  return ws.exports.updateIn(i2, n2, function(t3) {
    return wj(ws.exports.getIn(e20, n2), t3, [], r2, true);
  });
}
function _j(e20, t2, n2) {
  return ws.exports.updateIn(t2, n2, function(t3) {
    return wj(ws.exports.getIn(e20, n2), t3, [], function() {
      return false;
    }, true);
  });
}
function $j(e20, t2) {
  if (!t2)
    return Object.keys(e20);
  var n2 = t2.filter(function(t3) {
    return e20[t3] !== void 0;
  }), r2 = new Set(n2);
  return Object.keys(e20).filter(function(e21) {
    return !r2.has(e21);
  }).forEach(function(e21) {
    return n2.push(e21);
  }), n2;
}
function Oj(e20, t2, n2) {
  var r2 = ws.exports.immutableJSONPatch(e20, n2), i2 = function(e21, t3, n3) {
    var r3 = t3;
    function i3(e22, t4, n4) {
      var r4 = t4;
      return ws.exports.existsIn(e22, n4) && !ws.exports.existsIn(r4, n4) && (n4.length > 0 && (r4 = i3(e22, r4, _m(n4))), r4 = ws.exports.setIn(r4, n4, kj(ws.exports.getIn(e22, n4)))), r4;
    }
    return n3.forEach(function(t4) {
      var n4 = typeof t4.from == "string" ? pj(e21, t4.from) : null, o2 = typeof t4.path == "string" ? pj(e21, t4.path) : null;
      t4.op === "add" && (r3 = i3(e21, r3, _m(o2))), t4.op !== "copy" && t4.op !== "move" || (r3 = i3(e21, r3, n4), r3 = i3(e21, r3, _m(o2))), t4.op !== "remove" && t4.op !== "replace" && t4.op !== "test" || (r3 = i3(e21, r3, o2));
    }), r3;
  }(e20, t2, n2);
  return { json: r2, state: ws.exports.immutableJSONPatch(i2, n2, { before: function(e21, t3) {
    var n3 = t3.op, r3 = t3.path, i3 = t3.from, o2 = _m(r3), a2 = e21, s2 = t3;
    if (t3.value !== void 0 && (s2 = Ei(Ei({}, s2), {}, { value: kj(t3.value) })), n3 === "add" || n3 === "copy") {
      var u2 = Aj(e21, o2);
      if (u2) {
        var c2 = Gv(r3);
        u2.includes(c2) || (a2 = Mj(a2, o2, c2));
      }
      a2 = Pj(a2, r3, 1);
    }
    if (n3 === "move") {
      var l2 = _m(r3), f2 = Aj(a2, l2), h2 = Gv(i3), d2 = Gv(r3);
      if (Zm(_m(i3), _m(r3)))
        f2 && (a2 = h2 !== d2 ? function(e22, t4, n4, r4) {
          return ws.exports.updateIn(e22, t4.concat([ns]), function(e23) {
            var t5 = e23.indexOf(n4);
            if (t5 === -1)
              return e23;
            var i4 = e23.slice(0);
            return i4.splice(t5, 1, r4), i4;
          });
        }(a2 = Ej(a2, l2, d2), l2, h2, d2) : Mj(a2 = Ej(a2, l2, d2), l2, d2));
      else {
        var v2 = _m(i3);
        Aj(a2, v2) && (a2 = Ej(a2, v2, h2)), f2 && (a2 = Mj(a2, l2, d2));
      }
      a2 = Pj(a2, i3, -1), a2 = Pj(a2, r3, 1);
      var p2 = ws.exports.getIn(e21, i3);
      s2 = Ei(Ei({}, s2), {}, { value: p2 });
    }
    if (n3 === "remove") {
      var m2 = _m(r3);
      if (Aj(a2, m2))
        a2 = Ej(a2, m2, Gv(r3));
      else
        a2 = Pj(a2, r3, -1);
    }
    if (n3 === "replace") {
      var g2 = _m(r3), y2 = Aj(a2, g2);
      if (y2) {
        var b2 = Gv(r3);
        y2.includes(b2) || (a2 = Mj(a2, g2, b2));
      }
    }
    return { json: a2, operation: s2 };
  }, after: function(e21, t3, n3) {
    var r3 = t3.op, i3 = t3.path, o2 = e21;
    if (r3 === "copy" && ws.exports.existsIn(o2, i3.concat([Xa])) && (o2 = ws.exports.setIn(o2, i3.concat([Xa]), kk())), r3 === "replace") {
      var a2 = ws.exports.getIn(n3, i3.concat([os]));
      typeof a2 == "boolean" && (o2 = ws.exports.setIn(o2, i3.concat([os]), a2));
    }
    return o2;
  } }) };
}
function Pj(e20, t2, n2) {
  var r2 = _m(t2).concat([ts]), i2 = ws.exports.getIn(e20, r2);
  if (!i2)
    return e20;
  var o2 = parseInt(Gv(t2), 10), a2 = i2.map(function(e21) {
    return { start: e21.start > o2 ? e21.start + n2 : e21.start, end: e21.end >= o2 ? e21.end + n2 : e21.end };
  });
  return ws.exports.setIn(e20, r2, a2);
}
function Aj(e20, t2) {
  return ws.exports.getIn(e20, t2.concat([ns]));
}
function Ej(e20, t2, n2) {
  return ws.exports.updateIn(e20, t2.concat([ns]), function(e21) {
    var t3 = e21.indexOf(n2);
    if (t3 === -1)
      return e21;
    var r2 = e21.slice(0);
    return r2.splice(t3, 1), r2;
  });
}
function Mj(e20, t2, n2) {
  return ws.exports.updateIn(e20, t2.concat([ns]), function(e21) {
    return e21.concat(n2);
  });
}
function Tj(e20, t2) {
  var n2 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r2 = e20.indexOf(t2);
  return r2 !== -1 ? n2 ? e20.slice(r2) : e20.slice(r2 + 1) : [];
}
function Ij(e20, t2) {
  var n2 = [];
  return function e21(t3, r2, i2) {
    n2.push(i2), t3 && r2 && r2[es] === true && (Array.isArray(t3) ? jj(t3, r2, function(n3) {
      e21(t3[n3], r2[n3], i2.concat(n3));
    }) : xj(r2, function(n3) {
      e21(t3[n3], r2[n3], i2.concat(n3));
    }));
  }(e20, t2, []), n2;
}
var Nj = "inside", Rj = "after", Dj = "key", Lj = "value";
function zj(e20, t2) {
  var n2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], r2 = [];
  function i2(e21, t3, o2) {
    r2.push({ path: o2, type: Lj }), e21 && t3 && t3[es] === true && (n2 && r2.push({ path: o2, type: Nj }), Array.isArray(e21) ? jj(e21, t3, function(a2) {
      var s2 = o2.concat(a2);
      i2(e21[a2], t3[a2], s2), n2 && r2.push({ path: s2, type: Rj });
    }) : xj(t3, function(a2) {
      var s2 = o2.concat(a2);
      r2.push({ path: s2, type: Dj }), i2(e21[a2], t3[a2], s2), n2 && r2.push({ path: s2, type: Rj });
    }));
  }
  return i2(e20, t2, []), r2;
}
function Bj(e20, t2, n2) {
  var r2 = Ij(e20, t2), i2 = r2.map(ws.exports.compileJSONPointer), o2 = ws.exports.compileJSONPointer(n2), a2 = i2.indexOf(o2);
  return a2 !== -1 && a2 > 0 ? r2[a2 - 1] : null;
}
function qj(e20, t2, n2) {
  var r2 = Ij(e20, t2), i2 = r2.map(ws.exports.compileJSONPointer).indexOf(ws.exports.compileJSONPointer(n2));
  return i2 !== -1 && i2 < r2.length - 1 ? r2[i2 + 1] : null;
}
var Fj = "after", Vj = "inside", Hj = "key", Wj = "value", Uj = "multi";
function Jj(e20) {
  return e20.type === Vj ? e20.focusPath : _m(e20.focusPath);
}
function Kj(e20) {
  return e20.paths ? Bp(e20.paths) : e20.focusPath;
}
function Gj(e20) {
  return e20.paths ? Gv(e20.paths) : e20.focusPath;
}
function Qj(e20, t2) {
  return ox(e20.focusPath, t2) && (e20.focusPath.length > t2.length || e20.type === Vj);
}
function Yj(e20, t2, n2) {
  var r2 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], i2 = arguments.length > 4 && arguments[4] !== void 0 && arguments[4], o2 = !i2 && n2.paths ? Bp(n2.paths) : n2.focusPath, a2 = Bj(e20, t2, o2);
  if (a2 === null)
    return null;
  var s2 = a2, u2 = a2;
  if (r2)
    return n2.type === Fj || n2.type === Vj ? sx(e20, t2, { type: Uj, anchorPath: n2.anchorPath, focusPath: n2.anchorPath }) : sx(e20, t2, { type: Uj, anchorPath: n2.anchorPath, focusPath: u2 });
  if (n2.type === Hj) {
    var c2 = _m(a2), l2 = ws.exports.getIn(e20, c2);
    return Array.isArray(l2) || Ym(a2) ? { type: Wj, anchorPath: s2, focusPath: u2 } : { type: Hj, anchorPath: s2, focusPath: u2 };
  }
  return n2.type === Wj ? { type: Wj, anchorPath: s2, focusPath: u2 } : n2.type === Fj || n2.type === Vj ? sx(e20, t2, { type: Uj, anchorPath: o2, focusPath: o2 }) : sx(e20, t2, { type: Uj, anchorPath: s2, focusPath: u2 });
}
function Zj(e20, t2, n2) {
  var r2 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], i2 = arguments.length > 4 && arguments[4] !== void 0 && arguments[4], o2 = !i2 && n2.paths ? Gv(n2.paths) : n2.focusPath, a2 = qj(e20, t2, o2), s2 = a2, u2 = a2;
  if (a2 === null)
    return null;
  if (r2) {
    var c2 = zs(ws.exports.getIn(e20, o2)) ? ws.exports.setIn(t2, o2.concat(es), false, true) : t2, l2 = qj(e20, c2, o2);
    return l2 === null ? null : n2.type === Fj ? sx(e20, t2, { type: Uj, anchorPath: l2, focusPath: l2 }) : n2.type === Vj ? sx(e20, t2, { type: Uj, anchorPath: s2, focusPath: u2 }) : sx(e20, t2, { type: Uj, anchorPath: n2.anchorPath, focusPath: l2 });
  }
  if (n2.type === Hj) {
    var f2 = _m(a2), h2 = ws.exports.getIn(e20, f2);
    return Array.isArray(h2) ? { type: Wj, anchorPath: s2, focusPath: u2 } : { type: Hj, anchorPath: s2, focusPath: u2 };
  }
  return n2.type === Wj ? { type: Wj, anchorPath: s2, focusPath: u2 } : n2.type === Vj ? sx(e20, t2, { type: Uj, anchorPath: s2, focusPath: u2 }) : sx(e20, t2, { type: Uj, anchorPath: a2, focusPath: a2 });
}
function Xj(e20, t2, n2, r2) {
  var i2 = zj(e20, t2, r2), o2 = i2.findIndex(function(e21) {
    return Zm(e21.path, n2.focusPath) && e21.type === n2.type;
  });
  return { caret: o2 !== -1 ? i2[o2] : null, previous: o2 !== -1 && o2 > 0 ? i2[o2 - 1] : null, next: o2 !== -1 && o2 < i2.length - 1 ? i2[o2 + 1] : null };
}
function ex(e20, t2) {
  for (var n2 = Ij(e20, t2), r2 = 0; r2 < n2.length - 1 && n2[r2 + 1].length > n2[r2].length; )
    r2++;
  var i2 = n2[r2];
  return i2.length === 0 || Array.isArray(ws.exports.getIn(e20, _m(i2))) ? { type: Wj, anchorPath: i2, focusPath: i2 } : { type: Hj, anchorPath: i2, focusPath: i2 };
}
function tx(e20, t2, n2) {
  if (n2.length === 1) {
    var r2 = Bp(n2);
    if (r2.op === "replace" || r2.op === "move") {
      var i2 = pj(e20, r2.path);
      return { type: Wj, anchorPath: i2, focusPath: i2, edit: false };
    }
  }
  if (!Ym(n2) && n2.every(function(e21) {
    return e21.op === "move";
  })) {
    var o2 = Bp(n2), a2 = n2.slice(1);
    if (o2.from !== o2.path && a2.every(function(e21) {
      return e21.from === e21.path;
    })) {
      var s2 = pj(e20, o2.path);
      return { type: Hj, anchorPath: s2, focusPath: s2, edit: false };
    }
  }
  var u2 = n2.filter(function(e21) {
    return e21.op !== "test" && e21.op !== "remove" && (e21.op !== "move" || e21.from !== e21.path) && typeof e21.path == "string";
  }).map(function(t3) {
    return pj(e20, t3.path);
  });
  return Ym(u2) ? null : { type: Uj, paths: u2, anchorPath: Bp(u2), focusPath: Gv(u2), pathsMap: nx(u2) };
}
function nx(e20) {
  var t2 = {};
  return e20.forEach(function(e21) {
    t2[ws.exports.compileJSONPointer(e21)] = true;
  }), t2;
}
function rx(e20) {
  return e20 && (e20.type === Hj || e20.type === Wj || e20.type === Uj && e20.paths.length === 1);
}
function ix(e20, t2) {
  return rx(t2) && zs(ws.exports.getIn(e20, t2.focusPath)) ? t2.focusPath : _m(t2.focusPath);
}
function ox(e20, t2) {
  if (e20.length < t2.length)
    return false;
  for (var n2 = 0; n2 < t2.length; n2++)
    if (e20[n2] !== t2[n2])
      return false;
  return true;
}
function ax(e20) {
  return e20 && e20.edit ? Ei(Ei({}, e20), {}, { edit: false }) : e20;
}
function sx(e20, t2, n2) {
  var r2 = n2.type, i2 = n2.anchorPath, o2 = n2.focusPath, a2 = n2.path, s2 = n2.edit, u2 = s2 !== void 0 && s2, c2 = n2.next, l2 = c2 !== void 0 && c2, f2 = n2.nextInside, h2 = f2 !== void 0 && f2;
  if (r2 === Hj) {
    var d2 = { type: r2, anchorPath: a2, focusPath: a2, edit: u2 };
    return l2 && (d2 = Ei(Ei({}, d2), {}, { type: Wj })), d2;
  }
  if (r2 === Wj) {
    var v2 = { type: Wj, anchorPath: a2, focusPath: a2, edit: u2 };
    return l2 && (v2 = Zj(e20, t2, v2) || v2), h2 && (v2 = function(e21, t3, n3) {
      var r3 = n3.focusPath, i3 = _m(r3), o3 = [Gv(r3)], a3 = qj(ws.exports.getIn(e21, i3), ws.exports.getIn(t3, i3), o3);
      return sx(e21, t3, a3 ? { type: Wj, path: i3.concat(a3) } : { type: Fj, path: r3 });
    }(e20, t2, v2) || v2), v2;
  }
  if (r2 === Fj)
    return { type: r2, anchorPath: a2, focusPath: a2 };
  if (r2 === Vj)
    return { type: r2, anchorPath: a2, focusPath: a2 };
  if (r2 === Uj && a2) {
    var p2 = [a2];
    return { type: Uj, anchorPath: a2, focusPath: a2, paths: p2, pathsMap: nx(p2) };
  }
  if (i2 && o2) {
    var m2 = function(e21, t3, n3, r3) {
      if (Zm(n3, r3))
        return [n3];
      var i3 = function(e22, t4) {
        for (var n4 = 0; n4 < e22.length && n4 < t4.length && e22[n4] === t4[n4]; )
          n4++;
        return e22.slice(0, n4);
      }(n3, r3);
      if (n3.length === i3.length || r3.length === i3.length)
        return [i3];
      var o3 = n3[i3.length], a3 = r3[i3.length], s3 = ws.exports.getIn(e21, i3);
      if (Ls(s3)) {
        var u3 = Aj(t3, i3), c3 = u3.indexOf(o3), l3 = u3.indexOf(a3);
        if (c3 !== -1 && l3 !== -1) {
          for (var f3 = Math.min(c3, l3), h3 = Math.max(c3, l3), d3 = [], v3 = f3; v3 <= h3; v3++)
            d3.push(i3.concat(u3[v3]));
          return d3;
        }
      }
      if (Array.isArray(s3)) {
        for (var p3 = Math.min(o3, a3), m3 = Math.max(o3, a3), g3 = [], y2 = p3; y2 <= m3; y2++)
          g3.push(i3.concat(y2));
        return g3;
      }
      throw new Error("Failed to create selection");
    }(e20, t2, i2, o2), g2 = ox(o2, Gv(m2)) || ox(i2, Bp(m2));
    return { type: Uj, anchorPath: g2 ? Bp(m2) : Gv(m2), focusPath: g2 ? Gv(m2) : Bp(m2), paths: m2, pathsMap: nx(m2) };
  }
  throw new TypeError("Unknown type of selection ".concat(JSON.stringify(n2)));
}
function ux(e20, t2) {
  var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 2;
  if (t2.type === Hj)
    return Gv(t2.focusPath);
  if (t2.type === Wj) {
    var r2 = ws.exports.getIn(e20, t2.focusPath);
    return typeof r2 == "string" ? r2 : JSON.stringify(r2, null, n2);
  }
  if (t2.type === Uj) {
    if (Ym(t2.focusPath))
      return JSON.stringify(e20, null, n2);
    var i2 = Jj(t2), o2 = ws.exports.getIn(e20, i2);
    if (Array.isArray(o2)) {
      if (t2.paths.length === 1) {
        var a2 = ws.exports.getIn(e20, Bp(t2.paths));
        return JSON.stringify(a2, null, n2);
      }
      return t2.paths.map(function(t3) {
        var r3 = ws.exports.getIn(e20, t3);
        return "".concat(JSON.stringify(r3, null, n2), ",");
      }).join("\n");
    }
    return t2.paths.map(function(t3) {
      var r3 = Gv(t3), i3 = ws.exports.getIn(e20, t3);
      return "".concat(JSON.stringify(r3), ": ").concat(JSON.stringify(i3, null, n2), ",");
    }).join("\n");
  }
  return null;
}
function cx(e20, t2) {
  if (!t2)
    return null;
  var n2 = {};
  return (t2.type === Uj ? t2.paths : [t2.focusPath]).forEach(function(r2) {
    var i2 = r2.concat(as);
    if (!ws.exports.existsIn(n2, i2)) {
      var o2 = ws.exports.getIn(e20, i2);
      n2 = ws.exports.setIn(n2, i2, Array.isArray(o2) ? [] : {}, true);
    }
    n2 = ws.exports.setIn(n2, i2, t2, true);
  }), n2;
}
function lx(e20) {
  return !!e20 && (e20.type === Hj || e20.type === Wj || (e20.type === Uj && e20.paths.length === 1 || void 0));
}
function fx(e20, t2, n2) {
  var r2, i2 = (r2 = n2 == null ? void 0 : n2[t2]) === null || r2 === void 0 ? void 0 : r2[as];
  return !(!i2 || i2.type !== Hj || i2.edit) && Zm(i2.focusPath, e20.concat(t2));
}
function hx(e20) {
  var t2 = e20.escapeControlCharacters, n2 = e20.escapeUnicodeCharacters;
  return t2 ? n2 ? dx : vx : n2 ? px : mx;
}
var dx = { escapeValue: function(e20) {
  return gx(kx(String(e20)));
}, unescapeValue: function(e20) {
  return jx(yx(e20));
} }, vx = { escapeValue: function(e20) {
  return kx(String(e20));
}, unescapeValue: function(e20) {
  return jx(e20);
} }, px = { escapeValue: function(e20) {
  return gx(String(e20));
}, unescapeValue: function(e20) {
  return yx(e20);
} }, mx = { escapeValue: function(e20) {
  return String(e20);
}, unescapeValue: function(e20) {
  return e20;
} };
function gx(e20) {
  return e20.replace(/[^\x20-\x7F]/g, function(e21) {
    return e21 === "\b" || e21 === "\f" || e21 === "\n" || e21 === "\r" || e21 === "	" ? e21 : "\\u" + ("000" + e21.codePointAt(0).toString(16)).slice(-4);
  });
}
function yx(e20) {
  return e20.replace(/\\u[a-fA-F0-9]{4}/g, function(e21) {
    try {
      return JSON.parse('"' + e21 + '"');
    } catch (t2) {
      return e21;
    }
  });
}
var bx = { "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "	": "\\t" }, wx = { "\\b": "\b", "\\f": "\f", "\\n": "\n", "\\r": "\r", "\\t": "	" };
function kx(e20) {
  return e20.replace(/[\b\f\n\r\t]/g, function(e21) {
    return bx[e21] || e21;
  });
}
function jx(e20) {
  return e20.replace(/\\[bfnrt]/g, function(e21) {
    return wx[e21] || e21;
  });
}
function xx(e20) {
  return typeof e20 != "string" ? String(e20) : e20.endsWith("\n") ? e20 + "\n" : e20;
}
function Sx(e20, t2) {
  return _x(e20, function(e21) {
    return e21.nodeName.toUpperCase() === t2.toUpperCase();
  });
}
function Cx(e20, t2, n2) {
  return _x(e20, function(e21) {
    return function(e22, t3, n3) {
      return typeof e22.getAttribute == "function" && e22.getAttribute(t3) === n3;
    }(e21, t2, n2);
  });
}
function _x(e20, t2) {
  return !!$x(e20, t2);
}
function $x(e20, t2) {
  for (var n2 = e20; n2 && !t2(n2); )
    n2 = n2.parentNode;
  return n2 || void 0;
}
function Ox(e20) {
  if (e20.firstChild != null) {
    var t2 = document.createRange(), n2 = window.getSelection();
    t2.setStart(e20, 1), t2.collapse(true), n2.removeAllRanges(), n2.addRange(t2);
  } else
    e20.focus();
}
function Px(e20) {
  return e20 && e20.ownerDocument && e20.ownerDocument.defaultView;
}
function Ax(e20) {
  return _x(Px(e20).document.activeElement, function(t2) {
    return t2 === e20;
  });
}
function Ex(e20, t2) {
  return $x(e20, function(e21) {
    return e21.nodeName === t2;
  });
}
function Mx(e20) {
  return Cx(e20, "data-type", "selectable-key") ? Hj : Cx(e20, "data-type", "selectable-value") ? Wj : Cx(e20, "data-type", "insert-selection-area-inside") ? Vj : Cx(e20, "data-type", "insert-selection-area-after") ? Fj : Uj;
}
function Tx(e20) {
  return encodeURIComponent(JSON.stringify(e20));
}
function Ix(e20) {
  var t2, n2 = $x(e20, function(e21) {
    return e21.hasAttribute("data-path");
  });
  return n2 ? (t2 = n2.getAttribute("data-path"), JSON.parse(decodeURIComponent(t2))) : null;
}
function Nx(e20) {
  var t2 = e20.allElements, n2 = e20.currentElement, r2 = e20.direction, i2 = e20.hasPrio, o2 = i2 === void 0 ? function() {
    return true;
  } : i2, a2 = e20.margin, s2 = a2 === void 0 ? 10 : a2, u2 = Fp(t2.filter(function(e21) {
    var t3 = e21.getBoundingClientRect();
    return t3.width > 0 && t3.height > 0;
  }), l2), c2 = l2(n2);
  function l2(e21) {
    var t3 = e21.getBoundingClientRect();
    return { x: t3.left + t3.width / 2, y: t3.top + t3.height / 2, rect: t3, element: e21 };
  }
  function f2(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, r3 = e21.x - t3.x, i3 = (e21.y - t3.y) * n3;
    return Math.sqrt(r3 * r3 + i3 * i3);
  }
  var h2 = function(e21) {
    return f2(e21, c2);
  };
  if (r2 === "Left" || r2 === "Right") {
    var d2 = r2 === "Left" ? u2.filter(function(e21) {
      return t3 = c2, e21.rect.left + s2 < t3.rect.left;
      var t3;
    }) : u2.filter(function(e21) {
      return t3 = c2, e21.rect.right > t3.rect.right + s2;
      var t3;
    }), v2 = Wg(d2.filter(function(e21) {
      return t3 = e21, n3 = c2, Math.abs(t3.y - n3.y) < s2;
      var t3, n3;
    }), h2) || Wg(d2, function(e21) {
      return f2(e21, c2, 10);
    });
    return v2 == null ? void 0 : v2.element;
  }
  if (r2 === "Up" || r2 === "Down") {
    var p2 = r2 === "Up" ? u2.filter(function(e21) {
      return t3 = c2, e21.y + s2 < t3.y;
      var t3;
    }) : u2.filter(function(e21) {
      return t3 = c2, e21.y > t3.y + s2;
      var t3;
    }), m2 = Wg(p2.filter(function(e21) {
      return o2(e21.element);
    }), h2) || Wg(p2, h2);
    return m2 == null ? void 0 : m2.element;
  }
}
var Rx = typeof navigator != "undefined" && navigator.platform.toUpperCase().indexOf("MAC") >= 0;
function Dx(e20) {
  var t2 = [];
  e20.ctrlKey && t2.push("Ctrl"), e20.metaKey && t2.push("Command"), e20.altKey && t2.push(Rx ? "Option" : "Alt"), e20.shiftKey && t2.push("Shift");
  var n2 = function(e21) {
    return zx[e21] || "";
  }(e20.which);
  return Lx[n2] || t2.push(n2), t2.join("+");
}
var Lx = { Ctrl: true, Command: true, Alt: true, Option: true, Shift: true }, zx = { 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause_Break", 20: "Caps_Lock", 27: "Escape", 33: "Page_Up", 34: "Page_Down", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 45: "Insert", 46: "Delete", 48: "0", 49: "1", 50: "2", 51: "3", 52: "4", 53: "5", 54: "6", 55: "7", 56: "8", 57: "9", 65: "A", 66: "B", 67: "C", 68: "D", 69: "E", 70: "F", 71: "G", 72: "H", 73: "I", 74: "J", 75: "K", 76: "L", 77: "M", 78: "N", 79: "O", 80: "P", 81: "Q", 82: "R", 83: "S", 84: "T", 85: "U", 86: "V", 87: "W", 88: "X", 89: "Y", 90: "Z", 91: "Left_Window_Key", 92: "Right_Window_Key", 93: "Select_Key", 96: "Numpad_0", 97: "Numpad_1", 98: "Numpad_2", 99: "Numpad_3", 100: "Numpad_4", 101: "Numpad_5", 102: "Numpad_6", 103: "Numpad_7", 104: "Numpad_8", 105: "Numpad_9", 106: "Numpad_*", 107: "Numpad_+", 109: "Numpad_-", 110: "Numpad_.", 111: "Numpad_/", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "Num_Lock", 145: "Scroll_Lock", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'" }, Bx = ja.window;
function qx(e20) {
  co(e20, "svelte-p9zniz", ".jse-absolute-popup.svelte-p9zniz.svelte-p9zniz{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-p9zniz .jse-hidden-input.svelte-p9zniz{position:absolute;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-p9zniz .jse-absolute-popup-content.svelte-p9zniz{position:absolute}");
}
function Fx(e20) {
  var t2, n2, r2, i2, o2, a2 = [e20[1]], s2 = e20[0];
  function u2(e21) {
    for (var t3 = {}, n3 = 0; n3 < a2.length; n3 += 1)
      t3 = Fi(t3, a2[n3]);
    return { props: t3 };
  }
  return s2 && (i2 = new s2(u2())), { c: function() {
    t2 = go("div"), n2 = go("input"), r2 = wo(), i2 && Pa(i2.$$.fragment), So(n2, "class", "jse-hidden-input svelte-p9zniz"), So(t2, "class", "jse-absolute-popup-content svelte-p9zniz"), So(t2, "style", e20[7]());
  }, m: function(a3, s3) {
    vo(a3, t2, s3), uo(t2, n2), e20[10](n2), uo(t2, r2), i2 && Aa(i2, t2, null), o2 = true;
  }, p: function(e21, n3) {
    var r3 = 2 & n3 ? _a(a2, [$a(e21[1])]) : {};
    if (s2 !== (s2 = e21[0])) {
      if (i2) {
        ma();
        var o3 = i2;
        ba(o3.$$.fragment, 1, 0, function() {
          Ea(o3, 1);
        }), ga();
      }
      s2 ? (Pa((i2 = new s2(u2())).$$.fragment), ya(i2.$$.fragment, 1), Aa(i2, t2, null)) : i2 = null;
    } else
      s2 && i2.$set(r3);
  }, i: function(e21) {
    o2 || (i2 && ya(i2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    i2 && ba(i2.$$.fragment, e21), o2 = false;
  }, d: function(n3) {
    n3 && po(t2), e20[10](null), i2 && Ea(i2);
  } };
}
function Vx(e20) {
  var t2, n2, r2, i2, o2, a2 = e20[0] && e20[1] && Fx(e20), s2 = e20[9].default, u2 = Gi(s2, e20, e20[8], null);
  return { c: function() {
    t2 = go("div"), a2 && a2.c(), n2 = wo(), u2 && u2.c(), So(t2, "class", "jse-absolute-popup svelte-p9zniz");
  }, m: function(s3, c2) {
    vo(s3, t2, c2), a2 && a2.m(t2, null), e20[11](t2), vo(s3, n2, c2), u2 && u2.m(s3, c2), r2 = true, i2 || (o2 = [jo(Bx, "mousedown", e20[4], true), jo(Bx, "keydown", e20[5], true), jo(Bx, "wheel", e20[6], true), jo(t2, "mousedown", Hx), jo(t2, "keydown", e20[5])], i2 = true);
  }, p: function(e21, n3) {
    var i3 = ji(n3, 1)[0];
    e21[0] && e21[1] ? a2 ? (a2.p(e21, i3), 3 & i3 && ya(a2, 1)) : ((a2 = Fx(e21)).c(), ya(a2, 1), a2.m(t2, null)) : a2 && (ma(), ba(a2, 1, 1, function() {
      a2 = null;
    }), ga()), u2 && u2.p && (!r2 || 256 & i3) && Zi(u2, s2, e21, e21[8], r2 ? Yi(s2, e21[8], i3, null) : Xi(e21[8]), null);
  }, i: function(e21) {
    r2 || (ya(a2), ya(u2, e21), r2 = true);
  }, o: function(e21) {
    ba(a2), ba(u2, e21), r2 = false;
  }, d: function(r3) {
    r3 && po(t2), a2 && a2.d(), e20[11](null), r3 && po(n2), u2 && u2.d(r3), i2 = false, Wi(o2);
  } };
}
function Hx(e20) {
  e20.stopPropagation();
}
function Wx(e20, t2, n2) {
  var r2, i2, o2 = t2.$$slots, a2 = o2 === void 0 ? {} : o2, s2 = t2.$$scope, u2 = Na("jsoneditor:AbsolutePopup"), c2 = null, l2 = null, f2 = {};
  function h2() {
    if (c2) {
      var e21 = f2.onClose;
      n2(0, c2 = null), n2(1, l2 = null), f2 = {}, e21 && e21();
    }
  }
  function d2(e21) {
    f2 && f2.closeOnOuterClick && !_x(e21.target, function(e22) {
      return e22 === r2;
    }) && h2();
  }
  function v2() {
    i2 && i2.focus();
  }
  return Qo("absolute-popup", { openAbsolutePopup: function(e21, t3, r3) {
    u2("open...", r3), n2(0, c2 = e21), n2(1, l2 = t3 || {}), f2 = r3 || {}, oa().then(v2);
  }, closeAbsolutePopup: h2 }), e20.$$set = function(e21) {
    "$$scope" in e21 && n2(8, s2 = e21.$$scope);
  }, [c2, l2, r2, i2, function(e21) {
    d2(e21);
  }, function(e21) {
    Dx(e21) === "Escape" && h2();
  }, function(e21) {
    d2(e21);
  }, function() {
    var e21 = r2.getBoundingClientRect(), t3 = function() {
      if (f2.anchor) {
        var e22 = f2, t4 = e22.anchor, n4 = e22.width, r3 = n4 === void 0 ? 0 : n4, i4 = e22.height, o4 = i4 === void 0 ? 0 : i4, a4 = e22.offsetTop, s3 = a4 === void 0 ? 0 : a4, u3 = e22.offsetLeft, c3 = u3 === void 0 ? 0 : u3, l3 = e22.position, h3 = t4.getBoundingClientRect(), d3 = h3.left, v3 = h3.top, p2 = h3.bottom, m2 = h3.right, g2 = l3 === "top" || v3 + o4 > window.innerHeight && v3 > o4, y2 = l3 === "left" || d3 + r3 > window.innerWidth && d3 > r3;
        return { left: y2 ? m2 - c3 : d3 + c3, top: g2 ? v3 - s3 : p2 + s3, positionAbove: g2, positionLeft: y2 };
      }
      if (typeof f2.left == "number" && typeof f2.top == "number") {
        var b2 = f2, w2 = b2.left, k2 = b2.top, j2 = b2.width, x2 = j2 === void 0 ? 0 : j2, S2 = b2.height, C2 = S2 === void 0 ? 0 : S2;
        return { left: w2, top: k2, positionAbove: k2 + C2 > window.innerHeight && k2 > C2, positionLeft: w2 + x2 > window.innerWidth && w2 > x2 };
      }
      throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"');
    }(), n3 = t3.left, i3 = t3.top, o3 = t3.positionAbove, a3 = t3.positionLeft;
    return (o3 ? "bottom: ".concat(e21.top - i3, "px;") : "top: ".concat(i3 - e21.top, "px;")) + (a3 ? "right: ".concat(e21.left - n3, "px;") : "left: ".concat(n3 - e21.left, "px;"));
  }, s2, a2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(3, i2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(2, r2 = e21);
    });
  }];
}
var Ux = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, Wx, Vx, Ki, {}, qx), r2;
  }
  return Li(n2);
}(), Jx = { prefix: "fas", iconName: "angle-down", icon: [384, 512, [8964], "f107", "M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"] }, Kx = { prefix: "fas", iconName: "angle-right", icon: [256, 512, [8250], "f105", "M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"] }, Gx = { prefix: "fas", iconName: "arrow-down", icon: [384, 512, [8595], "f063", "M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"] }, Qx = { prefix: "fas", iconName: "arrow-down-short-wide", icon: [576, 512, ["sort-amount-desc", "sort-amount-down-alt"], "f884", "M320 224H416c17.67 0 32-14.33 32-32s-14.33-32-32-32h-95.1c-17.67 0-32 14.33-32 32S302.3 224 320 224zM320 352H480c17.67 0 32-14.33 32-32s-14.33-32-32-32h-159.1c-17.67 0-32 14.33-32 32S302.3 352 320 352zM320 96h32c17.67 0 31.1-14.33 31.1-32s-14.33-32-31.1-32h-32c-17.67 0-32 14.33-32 32S302.3 96 320 96zM544 416h-223.1c-17.67 0-32 14.33-32 32s14.33 32 32 32H544c17.67 0 32-14.33 32-32S561.7 416 544 416zM192.4 330.7L160 366.1V64.03C160 46.33 145.7 32 128 32S96 46.33 96 64.03v302L63.6 330.7c-6.312-6.883-14.94-10.38-23.61-10.38c-7.719 0-15.47 2.781-21.61 8.414c-13.03 11.95-13.9 32.22-1.969 45.27l87.1 96.09c12.12 13.26 35.06 13.26 47.19 0l87.1-96.09c11.94-13.05 11.06-33.31-1.969-45.27C224.6 316.8 204.4 317.7 192.4 330.7z"] }, Yx = { prefix: "fas", iconName: "arrow-rotate-left", icon: [512, 512, [8634, "arrow-left-rotate", "arrow-rotate-back", "arrow-rotate-backward", "undo"], "f0e2", "M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.86 0-95.19-15.58-134.2-44.86c-14.14-10.59-17-30.66-6.391-44.81c10.61-14.09 30.69-16.97 44.8-6.375c27.84 20.91 61 31.94 95.89 31.94C344.3 415.8 416 344.1 416 256s-71.67-159.8-159.8-159.8C205.9 96.22 158.6 120.3 128.6 160H192c17.67 0 32 14.31 32 32S209.7 224 192 224H48c-17.67 0-32-14.31-32-32V48c0-17.69 14.33-32 32-32s32 14.31 32 32v70.23C122.1 64.58 186.1 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"] }, Zx = { prefix: "fas", iconName: "arrow-rotate-right", icon: [512, 512, [8635, "arrow-right-rotate", "arrow-rotate-forward", "redo"], "f01e", "M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"] }, Xx = { prefix: "fas", iconName: "caret-down", icon: [320, 512, [], "f0d7", "M310.6 246.6l-127.1 128C176.4 380.9 168.2 384 160 384s-16.38-3.125-22.63-9.375l-127.1-128C.2244 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75S319.8 237.5 310.6 246.6z"] }, eS = { prefix: "fas", iconName: "caret-right", icon: [256, 512, [], "f0da", "M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"] }, tS = { prefix: "fas", iconName: "check", icon: [448, 512, [10004, 10003], "f00c", "M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"] }, nS = { prefix: "fas", iconName: "chevron-down", icon: [448, 512, [], "f078", "M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"] }, rS = { prefix: "fas", iconName: "chevron-up", icon: [448, 512, [], "f077", "M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"] }, iS = { prefix: "fas", iconName: "circle-notch", icon: [512, 512, [], "f1ce", "M222.7 32.15C227.7 49.08 218.1 66.9 201.1 71.94C121.8 95.55 64 169.1 64 255.1C64 362 149.1 447.1 256 447.1C362 447.1 448 362 448 255.1C448 169.1 390.2 95.55 310.9 71.94C293.9 66.9 284.3 49.08 289.3 32.15C294.4 15.21 312.2 5.562 329.1 10.6C434.9 42.07 512 139.1 512 255.1C512 397.4 397.4 511.1 256 511.1C114.6 511.1 0 397.4 0 255.1C0 139.1 77.15 42.07 182.9 10.6C199.8 5.562 217.6 15.21 222.7 32.15V32.15z"] }, oS = { prefix: "fas", iconName: "clone", icon: [512, 512, [], "f24d", "M0 224C0 188.7 28.65 160 64 160H128V288C128 341 170.1 384 224 384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224zM224 352C188.7 352 160 323.3 160 288V64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224z"] }, aS = { prefix: "fas", iconName: "code", icon: [640, 512, [], "f121", "M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z"] }, sS = { prefix: "fas", iconName: "copy", icon: [512, 512, [], "f0c5", "M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"] }, uS = { prefix: "fas", iconName: "crop-simple", icon: [512, 512, ["crop-alt"], "f565", "M128 384H352V448H128C92.65 448 64 419.3 64 384V128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H64V32C64 14.33 78.33 0 96 0C113.7 0 128 14.33 128 32V384zM384 128H160V64H384C419.3 64 448 92.65 448 128V384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H448V480C448 497.7 433.7 512 416 512C398.3 512 384 497.7 384 480V128z"] }, cS = { prefix: "fas", iconName: "ellipsis-vertical", icon: [128, 512, ["ellipsis-v"], "f142", "M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"] }, lS = { prefix: "fas", iconName: "filter", icon: [512, 512, [], "f0b0", "M3.853 54.87C10.47 40.9 24.54 32 40 32H472C487.5 32 501.5 40.9 508.1 54.87C514.8 68.84 512.7 85.37 502.1 97.33L320 320.9V448C320 460.1 313.2 471.2 302.3 476.6C291.5 482 278.5 480.9 268.8 473.6L204.8 425.6C196.7 419.6 192 410.1 192 400V320.9L9.042 97.33C-.745 85.37-2.765 68.84 3.854 54.87L3.853 54.87z"] }, fS = { prefix: "fas", iconName: "gear", icon: [512, 512, [9881, "cog"], "f013", "M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"] }, hS = { prefix: "fas", iconName: "magnifying-glass", icon: [512, 512, [128269, "search"], "f002", "M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"] }, dS = { prefix: "fas", iconName: "paste", icon: [512, 512, ["file-clipboard"], "f0ea", "M320 96V80C320 53.49 298.5 32 272 32H215.4C204.3 12.89 183.6 0 160 0S115.7 12.89 104.6 32H48C21.49 32 0 53.49 0 80v320C0 426.5 21.49 448 48 448l144 .0013L192 176C192 131.8 227.8 96 272 96H320zM160 88C146.8 88 136 77.25 136 64S146.8 40 160 40S184 50.75 184 64S173.3 88 160 88zM416 128v96h96L416 128zM384 224L384 128h-112C245.5 128 224 149.5 224 176v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48V256h-95.99C398.4 256 384 241.6 384 224z"] }, vS = { prefix: "fas", iconName: "pen", icon: [512, 512, [128394], "f304", "M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"] }, pS = { prefix: "fas", iconName: "scissors", icon: [512, 512, [9986, 9988, 9984, "cut"], "f0c4", "M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"] }, mS = { prefix: "fas", iconName: "square-caret-down", icon: [448, 512, ["caret-square-down"], "f150", "M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM345.6 232.3l-104 112C237 349.2 230.7 352 224 352s-13.03-2.781-17.59-7.656l-104-112c-6.5-7-8.219-17.19-4.407-25.94C101.8 197.7 110.5 192 120 192h208c9.531 0 18.19 5.656 21.1 14.41C353.8 215.2 352.1 225.3 345.6 232.3z"] }, gS = { prefix: "fas", iconName: "square-caret-up", icon: [448, 512, ["caret-square-up"], "f151", "M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM349.1 305.6C346.2 314.3 337.5 320 328 320h-208c-9.531 0-18.19-5.656-22-14.41C94.19 296.8 95.91 286.7 102.4 279.7l104-112c9.125-9.75 26.06-9.75 35.19 0l104 112C352.1 286.7 353.8 296.8 349.1 305.6z"] }, yS = { prefix: "fas", iconName: "triangle-exclamation", icon: [512, 512, [9888, "exclamation-triangle", "warning"], "f071", "M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"] }, bS = { prefix: "fas", iconName: "wrench", icon: [512, 512, [128295], "f0ad", "M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"] }, wS = { prefix: "fas", iconName: "xmark", icon: [320, 512, [128473, 10005, 10006, 10060, 215, "close", "multiply", "remove", "times"], "f00d", "M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"] };
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */
function kS(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;
  if (e20 < 0.9 * t2)
    return e20.toFixed() + " B";
  var n2 = e20 / t2;
  if (n2 < 0.9 * t2)
    return n2.toFixed(1) + " KB";
  var r2 = n2 / t2;
  if (r2 < 0.9 * t2)
    return r2.toFixed(1) + " MB";
  var i2 = r2 / t2;
  if (i2 < 0.9 * t2)
    return i2.toFixed(1) + " GB";
  var o2 = i2 / t2;
  return o2.toFixed(1) + " TB";
}
var jS = Na("jsoneditor:FocusTracker");
function xS(e20) {
  var t2, n2 = e20.onMount, r2 = e20.onDestroy, i2 = e20.getWindow, o2 = e20.hasFocus, a2 = e20.onFocus, s2 = e20.onBlur, u2 = false;
  function c2() {
    var e21 = o2();
    e21 && (clearTimeout(t2), u2 || (jS("focus"), a2(), u2 = e21));
  }
  function l2() {
    u2 && (clearTimeout(t2), t2 = setTimeout(function() {
      jS("blur"), u2 = false, s2();
    }));
  }
  n2(function() {
    jS("mount FocusTracker");
    var e21 = i2();
    e21 && (e21.addEventListener("focusin", c2, true), e21.addEventListener("focusout", l2, true));
  }), r2(function() {
    jS("destroy FocusTracker");
    var e21 = i2();
    e21 && (e21.removeEventListener("focusin", c2, true), e21.removeEventListener("focusout", l2, true));
  });
}
function SS(e20) {
  for (var t2, n2, r2 = [{ id: n2 = "path-" + e20[0] }, e20[1]], i2 = {}, o2 = 0; o2 < r2.length; o2 += 1)
    i2 = Fi(i2, r2[o2]);
  return { c: function() {
    _o(t2 = yo("path"), i2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, o3) {
    var a2 = ji(o3, 1)[0];
    _o(t2, i2 = _a(r2, [1 & a2 && n2 !== (n2 = "path-" + e21[0]) && { id: n2 }, 2 & a2 && e21[1]]));
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function CS(e20, t2, n2) {
  var r2 = t2.id, i2 = t2.data, o2 = i2 === void 0 ? {} : i2;
  return e20.$$set = function(e21) {
    "id" in e21 && n2(0, r2 = e21.id), "data" in e21 && n2(1, o2 = e21.data);
  }, [r2, o2];
}
var _S = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, CS, SS, Ji, { id: 0, data: 1 }), r2;
  }
  return Li(n2);
}();
function $S(e20) {
  for (var t2, n2, r2 = [{ id: n2 = "polygon-" + e20[0] }, e20[1]], i2 = {}, o2 = 0; o2 < r2.length; o2 += 1)
    i2 = Fi(i2, r2[o2]);
  return { c: function() {
    _o(t2 = yo("polygon"), i2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, o3) {
    var a2 = ji(o3, 1)[0];
    _o(t2, i2 = _a(r2, [1 & a2 && n2 !== (n2 = "polygon-" + e21[0]) && { id: n2 }, 2 & a2 && e21[1]]));
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function OS(e20, t2, n2) {
  var r2 = t2.id, i2 = t2.data, o2 = i2 === void 0 ? {} : i2;
  return e20.$$set = function(e21) {
    "id" in e21 && n2(0, r2 = e21.id), "data" in e21 && n2(1, o2 = e21.data);
  }, [r2, o2];
}
var PS = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, OS, $S, Ji, { id: 0, data: 1 }), r2;
  }
  return Li(n2);
}();
function AS(e20) {
  var t2;
  return { c: function() {
    t2 = yo("g");
  }, m: function(n2, r2) {
    vo(n2, t2, r2), t2.innerHTML = e20[0];
  }, p: function(e21, n2) {
    1 & ji(n2, 1)[0] && (t2.innerHTML = e21[0]);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function ES(e20, t2, n2) {
  var r2, i2 = 870711;
  var o2 = t2.data;
  function a2(e21) {
    if (!e21 || !e21.raw)
      return null;
    var t3 = e21.raw, n3 = {};
    return t3 = (t3 = t3.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g, function(e22, t4) {
      var r3 = "fa-".concat((i2 += 1).toString(16));
      return n3[t4] = r3, ' id="'.concat(r3, '"');
    })).replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g, function(e22, t4, r3, i3) {
      var o3 = t4 || i3;
      return o3 && n3[o3] ? "#".concat(n3[o3]) : e22;
    });
  }
  return e20.$$set = function(e21) {
    "data" in e21 && n2(1, o2 = e21.data);
  }, e20.$$.update = function() {
    2 & e20.$$.dirty && n2(0, r2 = a2(o2));
  }, [r2, o2];
}
var MS = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, ES, AS, Ji, { data: 1 }), r2;
  }
  return Li(n2);
}();
function TS(e20) {
  co(e20, "svelte-1dof0an", ".fa-icon.svelte-1dof0an{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1dof0an{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1dof0an{transform:scale(1, -1)}.fa-spin.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1dof0an{color:#fff}.fa-pulse.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s infinite steps(8)}@keyframes svelte-1dof0an-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}");
}
function IS(e20) {
  var t2, n2, r2, i2, o2 = e20[13].default, a2 = Gi(o2, e20, e20[12], null);
  return { c: function() {
    t2 = yo("svg"), a2 && a2.c(), So(t2, "version", "1.1"), So(t2, "class", n2 = "fa-icon " + e20[0] + " svelte-1dof0an"), So(t2, "x", e20[8]), So(t2, "y", e20[9]), So(t2, "width", e20[1]), So(t2, "height", e20[2]), So(t2, "aria-label", e20[11]), So(t2, "role", r2 = e20[11] ? "img" : "presentation"), So(t2, "viewBox", e20[3]), So(t2, "style", e20[10]), Io(t2, "fa-spin", e20[4]), Io(t2, "fa-pulse", e20[6]), Io(t2, "fa-inverse", e20[5]), Io(t2, "fa-flip-horizontal", e20[7] === "horizontal"), Io(t2, "fa-flip-vertical", e20[7] === "vertical");
  }, m: function(e21, n3) {
    vo(e21, t2, n3), a2 && a2.m(t2, null), i2 = true;
  }, p: function(e21, s2) {
    var u2 = ji(s2, 1)[0];
    a2 && a2.p && (!i2 || 4096 & u2) && Zi(a2, o2, e21, e21[12], i2 ? Yi(o2, e21[12], u2, null) : Xi(e21[12]), null), (!i2 || 1 & u2 && n2 !== (n2 = "fa-icon " + e21[0] + " svelte-1dof0an")) && So(t2, "class", n2), (!i2 || 256 & u2) && So(t2, "x", e21[8]), (!i2 || 512 & u2) && So(t2, "y", e21[9]), (!i2 || 2 & u2) && So(t2, "width", e21[1]), (!i2 || 4 & u2) && So(t2, "height", e21[2]), (!i2 || 2048 & u2) && So(t2, "aria-label", e21[11]), (!i2 || 2048 & u2 && r2 !== (r2 = e21[11] ? "img" : "presentation")) && So(t2, "role", r2), (!i2 || 8 & u2) && So(t2, "viewBox", e21[3]), (!i2 || 1024 & u2) && So(t2, "style", e21[10]), 17 & u2 && Io(t2, "fa-spin", e21[4]), 65 & u2 && Io(t2, "fa-pulse", e21[6]), 33 & u2 && Io(t2, "fa-inverse", e21[5]), 129 & u2 && Io(t2, "fa-flip-horizontal", e21[7] === "horizontal"), 129 & u2 && Io(t2, "fa-flip-vertical", e21[7] === "vertical");
  }, i: function(e21) {
    i2 || (ya(a2, e21), i2 = true);
  }, o: function(e21) {
    ba(a2, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), a2 && a2.d(e21);
  } };
}
function NS(e20, t2, n2) {
  var r2 = t2.$$slots, i2 = r2 === void 0 ? {} : r2, o2 = t2.$$scope, a2 = t2.class, s2 = t2.width, u2 = t2.height, c2 = t2.box, l2 = t2.spin, f2 = l2 !== void 0 && l2, h2 = t2.inverse, d2 = h2 !== void 0 && h2, v2 = t2.pulse, p2 = v2 !== void 0 && v2, m2 = t2.flip, g2 = m2 === void 0 ? null : m2, y2 = t2.x, b2 = y2 === void 0 ? void 0 : y2, w2 = t2.y, k2 = w2 === void 0 ? void 0 : w2, j2 = t2.style, x2 = j2 === void 0 ? void 0 : j2, S2 = t2.label, C2 = S2 === void 0 ? void 0 : S2;
  return e20.$$set = function(e21) {
    "class" in e21 && n2(0, a2 = e21.class), "width" in e21 && n2(1, s2 = e21.width), "height" in e21 && n2(2, u2 = e21.height), "box" in e21 && n2(3, c2 = e21.box), "spin" in e21 && n2(4, f2 = e21.spin), "inverse" in e21 && n2(5, d2 = e21.inverse), "pulse" in e21 && n2(6, p2 = e21.pulse), "flip" in e21 && n2(7, g2 = e21.flip), "x" in e21 && n2(8, b2 = e21.x), "y" in e21 && n2(9, k2 = e21.y), "style" in e21 && n2(10, x2 = e21.style), "label" in e21 && n2(11, C2 = e21.label), "$$scope" in e21 && n2(12, o2 = e21.$$scope);
  }, [a2, s2, u2, c2, f2, d2, p2, g2, b2, k2, x2, C2, o2, i2];
}
var RS = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, NS, IS, Ji, { class: 0, width: 1, height: 2, box: 3, spin: 4, inverse: 5, pulse: 6, flip: 7, x: 8, y: 9, style: 10, label: 11 }, TS), r2;
  }
  return Li(n2);
}();
function DS(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[24] = t2[n2], r2[26] = n2, r2;
}
function LS(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[27] = t2[n2], r2[26] = n2, r2;
}
function zS(e20) {
  var t2, n2, r2, i2, o2 = e20[6].paths && BS(e20), a2 = e20[6].polygons && FS(e20), s2 = e20[6].raw && HS(e20);
  return { c: function() {
    o2 && o2.c(), t2 = wo(), a2 && a2.c(), n2 = wo(), s2 && s2.c(), r2 = ko();
  }, m: function(e21, u2) {
    o2 && o2.m(e21, u2), vo(e21, t2, u2), a2 && a2.m(e21, u2), vo(e21, n2, u2), s2 && s2.m(e21, u2), vo(e21, r2, u2), i2 = true;
  }, p: function(e21, i3) {
    e21[6].paths ? o2 ? (o2.p(e21, i3), 64 & i3 && ya(o2, 1)) : ((o2 = BS(e21)).c(), ya(o2, 1), o2.m(t2.parentNode, t2)) : o2 && (ma(), ba(o2, 1, 1, function() {
      o2 = null;
    }), ga()), e21[6].polygons ? a2 ? (a2.p(e21, i3), 64 & i3 && ya(a2, 1)) : ((a2 = FS(e21)).c(), ya(a2, 1), a2.m(n2.parentNode, n2)) : a2 && (ma(), ba(a2, 1, 1, function() {
      a2 = null;
    }), ga()), e21[6].raw ? s2 ? (s2.p(e21, i3), 64 & i3 && ya(s2, 1)) : ((s2 = HS(e21)).c(), ya(s2, 1), s2.m(r2.parentNode, r2)) : s2 && (ma(), ba(s2, 1, 1, function() {
      s2 = null;
    }), ga());
  }, i: function(e21) {
    i2 || (ya(o2), ya(a2), ya(s2), i2 = true);
  }, o: function(e21) {
    ba(o2), ba(a2), ba(s2), i2 = false;
  }, d: function(e21) {
    o2 && o2.d(e21), e21 && po(t2), a2 && a2.d(e21), e21 && po(n2), s2 && s2.d(e21), e21 && po(r2);
  } };
}
function BS(e20) {
  for (var t2, n2, r2 = e20[6].paths, i2 = [], o2 = 0; o2 < r2.length; o2 += 1)
    i2[o2] = qS(LS(e20, r2, o2));
  var a2 = function(e21) {
    return ba(i2[e21], 1, 1, function() {
      i2[e21] = null;
    });
  };
  return { c: function() {
    for (var e21 = 0; e21 < i2.length; e21 += 1)
      i2[e21].c();
    t2 = ko();
  }, m: function(e21, r3) {
    for (var o3 = 0; o3 < i2.length; o3 += 1)
      i2[o3].m(e21, r3);
    vo(e21, t2, r3), n2 = true;
  }, p: function(e21, n3) {
    if (64 & n3) {
      var o3;
      for (r2 = e21[6].paths, o3 = 0; o3 < r2.length; o3 += 1) {
        var s2 = LS(e21, r2, o3);
        i2[o3] ? (i2[o3].p(s2, n3), ya(i2[o3], 1)) : (i2[o3] = qS(s2), i2[o3].c(), ya(i2[o3], 1), i2[o3].m(t2.parentNode, t2));
      }
      for (ma(), o3 = r2.length; o3 < i2.length; o3 += 1)
        a2(o3);
      ga();
    }
  }, i: function(e21) {
    if (!n2) {
      for (var t3 = 0; t3 < r2.length; t3 += 1)
        ya(i2[t3]);
      n2 = true;
    }
  }, o: function(e21) {
    i2 = i2.filter(Boolean);
    for (var t3 = 0; t3 < i2.length; t3 += 1)
      ba(i2[t3]);
    n2 = false;
  }, d: function(e21) {
    mo(i2, e21), e21 && po(t2);
  } };
}
function qS(e20) {
  var t2, n2;
  return t2 = new _S({ props: { id: e20[26], data: e20[27] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    64 & n3 && (r2.data = e21[27]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function FS(e20) {
  for (var t2, n2, r2 = e20[6].polygons, i2 = [], o2 = 0; o2 < r2.length; o2 += 1)
    i2[o2] = VS(DS(e20, r2, o2));
  var a2 = function(e21) {
    return ba(i2[e21], 1, 1, function() {
      i2[e21] = null;
    });
  };
  return { c: function() {
    for (var e21 = 0; e21 < i2.length; e21 += 1)
      i2[e21].c();
    t2 = ko();
  }, m: function(e21, r3) {
    for (var o3 = 0; o3 < i2.length; o3 += 1)
      i2[o3].m(e21, r3);
    vo(e21, t2, r3), n2 = true;
  }, p: function(e21, n3) {
    if (64 & n3) {
      var o3;
      for (r2 = e21[6].polygons, o3 = 0; o3 < r2.length; o3 += 1) {
        var s2 = DS(e21, r2, o3);
        i2[o3] ? (i2[o3].p(s2, n3), ya(i2[o3], 1)) : (i2[o3] = VS(s2), i2[o3].c(), ya(i2[o3], 1), i2[o3].m(t2.parentNode, t2));
      }
      for (ma(), o3 = r2.length; o3 < i2.length; o3 += 1)
        a2(o3);
      ga();
    }
  }, i: function(e21) {
    if (!n2) {
      for (var t3 = 0; t3 < r2.length; t3 += 1)
        ya(i2[t3]);
      n2 = true;
    }
  }, o: function(e21) {
    i2 = i2.filter(Boolean);
    for (var t3 = 0; t3 < i2.length; t3 += 1)
      ba(i2[t3]);
    n2 = false;
  }, d: function(e21) {
    mo(i2, e21), e21 && po(t2);
  } };
}
function VS(e20) {
  var t2, n2;
  return t2 = new PS({ props: { id: e20[26], data: e20[24] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    64 & n3 && (r2.data = e21[24]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function HS(e20) {
  var t2, n2, r2;
  function i2(t3) {
    e20[15](t3);
  }
  var o2 = {};
  return e20[6] !== void 0 && (o2.data = e20[6]), t2 = new MS({ props: o2 }), Xo.push(function() {
    return Oa(t2, "data", i2);
  }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, n3) {
    Aa(t2, e21, n3), r2 = true;
  }, p: function(e21, r3) {
    var i3 = {};
    !n2 && 64 & r3 && (n2 = true, i3.data = e21[6], sa(function() {
      return n2 = false;
    })), t2.$set(i3);
  }, i: function(e21) {
    r2 || (ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function WS(e20) {
  var t2, n2 = e20[14].default, r2 = Gi(n2, e20, e20[16], null), i2 = r2 || function(e21) {
    var t3, n3, r3 = e21[6] && zS(e21);
    return { c: function() {
      r3 && r3.c(), t3 = ko();
    }, m: function(e22, i3) {
      r3 && r3.m(e22, i3), vo(e22, t3, i3), n3 = true;
    }, p: function(e22, n4) {
      e22[6] ? r3 ? (r3.p(e22, n4), 64 & n4 && ya(r3, 1)) : ((r3 = zS(e22)).c(), ya(r3, 1), r3.m(t3.parentNode, t3)) : r3 && (ma(), ba(r3, 1, 1, function() {
        r3 = null;
      }), ga());
    }, i: function(e22) {
      n3 || (ya(r3), n3 = true);
    }, o: function(e22) {
      ba(r3), n3 = false;
    }, d: function(e22) {
      r3 && r3.d(e22), e22 && po(t3);
    } };
  }(e20);
  return { c: function() {
    i2 && i2.c();
  }, m: function(e21, n3) {
    i2 && i2.m(e21, n3), t2 = true;
  }, p: function(e21, o2) {
    r2 ? r2.p && (!t2 || 65536 & o2) && Zi(r2, n2, e21, e21[16], t2 ? Yi(n2, e21[16], o2, null) : Xi(e21[16]), null) : i2 && i2.p && (!t2 || 64 & o2) && i2.p(e21, t2 ? o2 : -1);
  }, i: function(e21) {
    t2 || (ya(i2, e21), t2 = true);
  }, o: function(e21) {
    ba(i2, e21), t2 = false;
  }, d: function(e21) {
    i2 && i2.d(e21);
  } };
}
function US(e20) {
  var t2, n2;
  return t2 = new RS({ props: { label: e20[5], width: e20[7], height: e20[8], box: e20[10], style: e20[9], spin: e20[1], flip: e20[4], inverse: e20[2], pulse: e20[3], class: e20[0], $$slots: { default: [WS] }, $$scope: { ctx: e20 } } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = ji(n3, 1)[0], i2 = {};
    32 & r2 && (i2.label = e21[5]), 128 & r2 && (i2.width = e21[7]), 256 & r2 && (i2.height = e21[8]), 1024 & r2 && (i2.box = e21[10]), 512 & r2 && (i2.style = e21[9]), 2 & r2 && (i2.spin = e21[1]), 16 & r2 && (i2.flip = e21[4]), 4 & r2 && (i2.inverse = e21[2]), 8 & r2 && (i2.pulse = e21[3]), 1 & r2 && (i2.class = e21[0]), 65600 & r2 && (i2.$$scope = { dirty: r2, ctx: e21 }), t2.$set(i2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function JS(e20, t2, n2) {
  var r2, i2, o2, a2, s2 = t2.$$slots, u2 = s2 === void 0 ? {} : s2, c2 = t2.$$scope, l2 = t2.class, f2 = l2 === void 0 ? "" : l2, h2 = t2.data, d2 = t2.scale, v2 = d2 === void 0 ? 1 : d2, p2 = t2.spin, m2 = p2 !== void 0 && p2, g2 = t2.inverse, y2 = g2 !== void 0 && g2, b2 = t2.pulse, w2 = b2 !== void 0 && b2, k2 = t2.flip, j2 = k2 === void 0 ? null : k2, x2 = t2.label, S2 = x2 === void 0 ? null : x2, C2 = null, _2 = t2.style, $2 = _2 === void 0 ? null : _2;
  function O2() {
    var e21 = 1;
    return v2 !== void 0 && (e21 = Number(v2)), isNaN(e21) || e21 <= 0 ? (console.warn('Invalid prop: prop "scale" should be a number over 0.'), 1) : 1 * e21;
  }
  function P2() {
    return C2 ? Math.max(C2.width, C2.height) / 16 : 1;
  }
  return e20.$$set = function(e21) {
    "class" in e21 && n2(0, f2 = e21.class), "data" in e21 && n2(11, h2 = e21.data), "scale" in e21 && n2(12, v2 = e21.scale), "spin" in e21 && n2(1, m2 = e21.spin), "inverse" in e21 && n2(2, y2 = e21.inverse), "pulse" in e21 && n2(3, w2 = e21.pulse), "flip" in e21 && n2(4, j2 = e21.flip), "label" in e21 && n2(5, S2 = e21.label), "style" in e21 && n2(13, $2 = e21.style), "$$scope" in e21 && n2(16, c2 = e21.$$scope);
  }, e20.$$.update = function() {
    14336 & e20.$$.dirty && (!function() {
      if (h2 !== void 0) {
        var e21 = function(e22) {
          if ("iconName" in e22 && "icon" in e22) {
            var t4 = {}, n3 = e22.icon, r3 = e22.iconName, i3 = { width: n3[0], height: n3[1], paths: [{ d: n3[4] }] };
            return t4[r3] = i3, t4;
          }
          return e22;
        }(h2), t3 = e21[ji(Object.keys(e21), 1)[0]];
        t3.paths || (t3.paths = []), t3.d && t3.paths.push({ d: t3.d }), t3.polygons || (t3.polygons = []), t3.points && t3.polygons.push({ points: t3.points }), n2(6, C2 = t3);
      }
    }(), n2(7, r2 = C2 ? C2.width / P2() * O2() : 0), n2(8, i2 = C2 ? C2.height / P2() * O2() : 0), n2(9, o2 = function() {
      var e21 = "";
      $2 !== null && (e21 += $2);
      var t3 = O2();
      if (t3 === 1) {
        if (e21.length === 0)
          return;
        return e21;
      }
      return e21 === "" || e21.endsWith(";") || (e21 += "; "), "".concat(e21, "font-size: ").concat(t3, "em");
    }()), n2(10, a2 = C2 ? "0 0 ".concat(C2.width, " ").concat(C2.height) : "0 0 ".concat(r2, " ").concat(i2)));
  }, [f2, m2, y2, w2, j2, S2, C2, r2, i2, o2, a2, h2, v2, $2, u2, function(e21) {
    n2(6, C2 = e21);
  }, c2];
}
var KS = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, JS, US, Ji, { class: 0, data: 11, scale: 12, spin: 1, inverse: 2, pulse: 3, flip: 4, label: 5, style: 13 }), r2;
  }
  return Li(n2);
}();
function GS(e20) {
  co(e20, "svelte-kvi5ls", ".jse-message.svelte-kvi5ls.svelte-kvi5ls{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:var(--jse-padding);display:flex;gap:var(--jse-padding);flex-wrap:wrap;align-items:center}.jse-message.jse-success.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-success-background);color:var(--jse-message-success-color)}.jse-message.svelte-kvi5ls .jse-text.svelte-kvi5ls{flex:1;min-width:60%}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls{cursor:pointer}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-error-background);color:var(--jse-message-error-color)}.jse-message.jse-warning.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-warning-background);color:var(--jse-message-warning-color)}.jse-message.jse-info.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-info-background);color:var(--jse-message-info-color)}.jse-message.svelte-kvi5ls .jse-actions.svelte-kvi5ls{display:flex;gap:var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-message-action-background);color:inherit;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls:hover{background:var(--jse-message-action-background-highlight)}");
}
function QS(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[8] = t2[n2], r2;
}
function YS(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: e20[1] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    2 & n3 && (r2.data = e21[1]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function ZS(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: e20[8].icon } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    8 & n3 && (r2.data = e21[8].icon), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function XS(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = e20[8].text + "", f2 = e20[8].icon && ZS(e20);
  function h2() {
    return e20[6](e20[8]);
  }
  function d2() {
    return e20[7](e20[8]);
  }
  return { c: function() {
    t2 = go("button"), f2 && f2.c(), n2 = wo(), r2 = bo(l2), i2 = wo(), So(t2, "type", "button"), So(t2, "class", "jse-button jse-action jse-primary svelte-kvi5ls"), So(t2, "title", o2 = e20[8].title), t2.disabled = a2 = e20[8].disabled;
  }, m: function(e21, o3) {
    vo(e21, t2, o3), f2 && f2.m(t2, null), uo(t2, n2), uo(t2, r2), uo(t2, i2), s2 = true, u2 || (c2 = [jo(t2, "click", h2), jo(t2, "mousedown", d2)], u2 = true);
  }, p: function(i3, u3) {
    (e20 = i3)[8].icon ? f2 ? (f2.p(e20, u3), 8 & u3 && ya(f2, 1)) : ((f2 = ZS(e20)).c(), ya(f2, 1), f2.m(t2, n2)) : f2 && (ma(), ba(f2, 1, 1, function() {
      f2 = null;
    }), ga()), (!s2 || 8 & u3) && l2 !== (l2 = e20[8].text + "") && Po(r2, l2), (!s2 || 8 & u3 && o2 !== (o2 = e20[8].title)) && So(t2, "title", o2), (!s2 || 8 & u3 && a2 !== (a2 = e20[8].disabled)) && (t2.disabled = a2);
  }, i: function(e21) {
    s2 || (ya(f2), s2 = true);
  }, o: function(e21) {
    ba(f2), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), f2 && f2.d(), u2 = false, Wi(c2);
  } };
}
function eC(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20[1] && YS(e20), h2 = e20[3], d2 = [], v2 = 0; v2 < h2.length; v2 += 1)
    d2[v2] = XS(QS(e20, h2, v2));
  var p2 = function(e21) {
    return ba(d2[e21], 1, 1, function() {
      d2[e21] = null;
    });
  };
  return { c: function() {
    t2 = go("div"), n2 = go("div"), f2 && f2.c(), r2 = wo(), i2 = bo(e20[2]), o2 = wo(), a2 = go("div");
    for (var u3 = 0; u3 < d2.length; u3 += 1)
      d2[u3].c();
    So(n2, "class", "jse-text svelte-kvi5ls"), Io(n2, "jse-clickable", e20[4] !== null), So(a2, "class", "jse-actions svelte-kvi5ls"), So(t2, "class", s2 = "jse-message jse-" + e20[0] + " svelte-kvi5ls");
  }, m: function(s3, h3) {
    vo(s3, t2, h3), uo(t2, n2), f2 && f2.m(n2, null), uo(n2, r2), uo(n2, i2), uo(t2, o2), uo(t2, a2);
    for (var v3 = 0; v3 < d2.length; v3 += 1)
      d2[v3].m(a2, null);
    u2 = true, c2 || (l2 = jo(n2, "click", e20[5]), c2 = true);
  }, p: function(e21, o3) {
    var c3 = ji(o3, 1)[0];
    if (e21[1] ? f2 ? (f2.p(e21, c3), 2 & c3 && ya(f2, 1)) : ((f2 = YS(e21)).c(), ya(f2, 1), f2.m(n2, r2)) : f2 && (ma(), ba(f2, 1, 1, function() {
      f2 = null;
    }), ga()), (!u2 || 4 & c3) && Po(i2, e21[2]), 16 & c3 && Io(n2, "jse-clickable", e21[4] !== null), 8 & c3) {
      var l3;
      for (h2 = e21[3], l3 = 0; l3 < h2.length; l3 += 1) {
        var v3 = QS(e21, h2, l3);
        d2[l3] ? (d2[l3].p(v3, c3), ya(d2[l3], 1)) : (d2[l3] = XS(v3), d2[l3].c(), ya(d2[l3], 1), d2[l3].m(a2, null));
      }
      for (ma(), l3 = h2.length; l3 < d2.length; l3 += 1)
        p2(l3);
      ga();
    }
    (!u2 || 1 & c3 && s2 !== (s2 = "jse-message jse-" + e21[0] + " svelte-kvi5ls")) && So(t2, "class", s2);
  }, i: function(e21) {
    if (!u2) {
      ya(f2);
      for (var t3 = 0; t3 < h2.length; t3 += 1)
        ya(d2[t3]);
      u2 = true;
    }
  }, o: function(e21) {
    ba(f2), d2 = d2.filter(Boolean);
    for (var t3 = 0; t3 < d2.length; t3 += 1)
      ba(d2[t3]);
    u2 = false;
  }, d: function(e21) {
    e21 && po(t2), f2 && f2.d(), mo(d2, e21), c2 = false, l2();
  } };
}
function tC(e20, t2, n2) {
  var r2 = t2.type, i2 = r2 === void 0 ? "success" : r2, o2 = t2.icon, a2 = o2 === void 0 ? void 0 : o2, s2 = t2.message, u2 = s2 === void 0 ? void 0 : s2, c2 = t2.actions, l2 = c2 === void 0 ? [] : c2, f2 = t2.onClick, h2 = f2 === void 0 ? void 0 : f2;
  return e20.$$set = function(e21) {
    "type" in e21 && n2(0, i2 = e21.type), "icon" in e21 && n2(1, a2 = e21.icon), "message" in e21 && n2(2, u2 = e21.message), "actions" in e21 && n2(3, l2 = e21.actions), "onClick" in e21 && n2(4, h2 = e21.onClick);
  }, [i2, a2, u2, l2, h2, function() {
    h2 && h2();
  }, function(e21) {
    return e21.onClick();
  }, function(e21) {
    return e21.onMouseDown();
  }];
}
var nC = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, tC, eC, Ki, { type: 0, icon: 1, message: 2, actions: 3, onClick: 4 }, GS), r2;
  }
  return Li(n2);
}();
function rC(e20) {
  return e20.map(function(e21) {
    return typeof e21 == "number" ? "[" + e21 + "]" : typeof e21 == "string" && e21.match(/^[A-Za-z0-9_$]+$/) ? "." + e21 : '["' + String(e21) + '"]';
  }).join("");
}
function iC(e20) {
  return e20.map(function(e21) {
    var t2 = String(e21);
    return oC.test(t2) ? "?.".concat(t2) : "?.[".concat(JSON.stringify(e21), "]");
  }).join("");
}
var oC = /^[A-z$_][A-z$_\d]*$/i;
function aC(e20) {
  co(e20, "svelte-1oe8e8r", ".jse-validation-errors-overview.svelte-1oe8e8r.svelte-1oe8e8r{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-message-warning-background);color:var(--jse-message-warning-color);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1oe8e8r table.svelte-1oe8e8r{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r{cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.svelte-1oe8e8r{padding:4px var(--jse-padding);vertical-align:middle}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-icon.svelte-1oe8e8r{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action.svelte-1oe8e8r{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td div.jse-validation-errors-expand.svelte-1oe8e8r{display:inline-block;position:relative;top:3px}");
}
function sC(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[6] = t2[n2], r2[8] = n2, r2;
}
function uC(e20) {
  var t2, n2, r2, i2, o2 = [lC, cC], a2 = [];
  function s2(e21, t3) {
    return e21[2] || e21[0].length === 1 ? 0 : 1;
  }
  return n2 = s2(e20), r2 = a2[n2] = o2[n2](e20), { c: function() {
    t2 = go("div"), r2.c(), So(t2, "class", "jse-validation-errors-overview svelte-1oe8e8r");
  }, m: function(e21, r3) {
    vo(e21, t2, r3), a2[n2].m(t2, null), i2 = true;
  }, p: function(e21, i3) {
    var u2 = n2;
    (n2 = s2(e21)) === u2 ? a2[n2].p(e21, i3) : (ma(), ba(a2[u2], 1, 1, function() {
      a2[u2] = null;
    }), ga(), (r2 = a2[n2]) ? r2.p(e21, i3) : (r2 = a2[n2] = o2[n2](e21)).c(), ya(r2, 1), r2.m(t2, null));
  }, i: function(e21) {
    i2 || (ya(r2), i2 = true);
  }, o: function(e21) {
    ba(r2), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), a2[n2].d();
  } };
}
function cC(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2 = e20[0].length + "";
  return o2 = new KS({ props: { data: yS } }), f2 = new KS({ props: { data: Kx } }), { c: function() {
    t2 = go("table"), n2 = go("tbody"), r2 = go("tr"), i2 = go("td"), Pa(o2.$$.fragment), a2 = wo(), s2 = go("td"), u2 = bo(p2), c2 = bo(" validation errors\n              "), l2 = go("div"), Pa(f2.$$.fragment), So(i2, "class", "jse-validation-error-icon svelte-1oe8e8r"), So(l2, "class", "jse-validation-errors-expand svelte-1oe8e8r"), So(s2, "class", "svelte-1oe8e8r"), So(r2, "class", "jse-validation-error svelte-1oe8e8r"), So(t2, "class", "svelte-1oe8e8r");
  }, m: function(p3, m2) {
    vo(p3, t2, m2), uo(t2, n2), uo(n2, r2), uo(r2, i2), Aa(o2, i2, null), uo(r2, a2), uo(r2, s2), uo(s2, u2), uo(s2, c2), uo(s2, l2), Aa(f2, l2, null), h2 = true, d2 || (v2 = jo(r2, "click", e20[4]), d2 = true);
  }, p: function(e21, t3) {
    (!h2 || 1 & t3) && p2 !== (p2 = e21[0].length + "") && Po(u2, p2);
  }, i: function(e21) {
    h2 || (ya(o2.$$.fragment, e21), ya(f2.$$.fragment, e21), h2 = true);
  }, o: function(e21) {
    ba(o2.$$.fragment, e21), ba(f2.$$.fragment, e21), h2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(o2), Ea(f2), d2 = false, v2();
  } };
}
function lC(e20) {
  for (var t2, n2, r2, i2 = e20[0], o2 = [], a2 = 0; a2 < i2.length; a2 += 1)
    o2[a2] = hC(sC(e20, i2, a2));
  var s2 = function(e21) {
    return ba(o2[e21], 1, 1, function() {
      o2[e21] = null;
    });
  };
  return { c: function() {
    t2 = go("table"), n2 = go("tbody");
    for (var e21 = 0; e21 < o2.length; e21 += 1)
      o2[e21].c();
    So(t2, "class", "svelte-1oe8e8r");
  }, m: function(e21, i3) {
    vo(e21, t2, i3), uo(t2, n2);
    for (var a3 = 0; a3 < o2.length; a3 += 1)
      o2[a3].m(n2, null);
    r2 = true;
  }, p: function(e21, t3) {
    if (11 & t3) {
      var r3;
      for (i2 = e21[0], r3 = 0; r3 < i2.length; r3 += 1) {
        var a3 = sC(e21, i2, r3);
        o2[r3] ? (o2[r3].p(a3, t3), ya(o2[r3], 1)) : (o2[r3] = hC(a3), o2[r3].c(), ya(o2[r3], 1), o2[r3].m(n2, null));
      }
      for (ma(), r3 = i2.length; r3 < o2.length; r3 += 1)
        s2(r3);
      ga();
    }
  }, i: function(e21) {
    if (!r2) {
      for (var t3 = 0; t3 < i2.length; t3 += 1)
        ya(o2[t3]);
      r2 = true;
    }
  }, o: function(e21) {
    o2 = o2.filter(Boolean);
    for (var t3 = 0; t3 < o2.length; t3 += 1)
      ba(o2[t3]);
    r2 = false;
  }, d: function(e21) {
    e21 && po(t2), mo(o2, e21);
  } };
}
function fC(e20) {
  var t2, n2, r2, i2, o2;
  return n2 = new KS({ props: { data: Jx } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), So(t2, "type", "button"), So(t2, "class", "jse-validation-errors-collapse svelte-1oe8e8r"), So(t2, "title", "Collapse validation errors");
  }, m: function(a2, s2) {
    vo(a2, t2, s2), Aa(n2, t2, null), r2 = true, i2 || (o2 = jo(t2, "click", xo(e20[3])), i2 = true);
  }, p: Bi, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), i2 = false, o2();
  } };
}
function hC(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2 = rC(e20[6].path) + "", g2 = e20[6].message + "";
  r2 = new KS({ props: { data: yS } });
  var y2 = e20[8] === 0 && e20[0].length > 1 && fC(e20);
  function b2() {
    return e20[5](e20[6]);
  }
  return { c: function() {
    t2 = go("tr"), n2 = go("td"), Pa(r2.$$.fragment), i2 = wo(), o2 = go("td"), a2 = bo(m2), s2 = wo(), u2 = go("td"), c2 = bo(g2), l2 = wo(), f2 = go("td"), y2 && y2.c(), h2 = wo(), So(n2, "class", "jse-validation-error-icon svelte-1oe8e8r"), So(o2, "class", "svelte-1oe8e8r"), So(u2, "class", "svelte-1oe8e8r"), So(f2, "class", "jse-validation-error-action svelte-1oe8e8r"), So(t2, "class", "jse-validation-error svelte-1oe8e8r");
  }, m: function(e21, m3) {
    vo(e21, t2, m3), uo(t2, n2), Aa(r2, n2, null), uo(t2, i2), uo(t2, o2), uo(o2, a2), uo(t2, s2), uo(t2, u2), uo(u2, c2), uo(t2, l2), uo(t2, f2), y2 && y2.m(f2, null), uo(t2, h2), d2 = true, v2 || (p2 = jo(t2, "click", b2), v2 = true);
  }, p: function(t3, n3) {
    e20 = t3, (!d2 || 1 & n3) && m2 !== (m2 = rC(e20[6].path) + "") && Po(a2, m2), (!d2 || 1 & n3) && g2 !== (g2 = e20[6].message + "") && Po(c2, g2), e20[8] === 0 && e20[0].length > 1 ? y2 ? (y2.p(e20, n3), 1 & n3 && ya(y2, 1)) : ((y2 = fC(e20)).c(), ya(y2, 1), y2.m(f2, null)) : y2 && (ma(), ba(y2, 1, 1, function() {
      y2 = null;
    }), ga());
  }, i: function(e21) {
    d2 || (ya(r2.$$.fragment, e21), ya(y2), d2 = true);
  }, o: function(e21) {
    ba(r2.$$.fragment, e21), ba(y2), d2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(r2), y2 && y2.d(), v2 = false, p2();
  } };
}
function dC(e20) {
  var t2, n2, r2 = !Ym(e20[0]), i2 = r2 && uC(e20);
  return { c: function() {
    i2 && i2.c(), t2 = ko();
  }, m: function(e21, r3) {
    i2 && i2.m(e21, r3), vo(e21, t2, r3), n2 = true;
  }, p: function(e21, n3) {
    var o2 = ji(n3, 1)[0];
    1 & o2 && (r2 = !Ym(e21[0])), r2 ? i2 ? (i2.p(e21, o2), 1 & o2 && ya(i2, 1)) : ((i2 = uC(e21)).c(), ya(i2, 1), i2.m(t2.parentNode, t2)) : i2 && (ma(), ba(i2, 1, 1, function() {
      i2 = null;
    }), ga());
  }, i: function(e21) {
    n2 || (ya(i2), n2 = true);
  }, o: function(e21) {
    ba(i2), n2 = false;
  }, d: function(e21) {
    i2 && i2.d(e21), e21 && po(t2);
  } };
}
function vC(e20, t2, n2) {
  var r2 = t2.validationErrors, i2 = t2.selectError, o2 = true;
  return e20.$$set = function(e21) {
    "validationErrors" in e21 && n2(0, r2 = e21.validationErrors), "selectError" in e21 && n2(1, i2 = e21.selectError);
  }, [r2, i2, o2, function() {
    n2(2, o2 = false);
  }, function() {
    n2(2, o2 = true);
  }, function(e21) {
    setTimeout(function() {
      return i2(e21);
    });
  }];
}
var pC = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, vC, dC, Ki, { validationErrors: 0, selectError: 1 }, aC), r2;
  }
  return Li(n2);
}(), mC = { prefix: "fas", iconName: "jsoneditor-expand", icon: [512, 512, [], null, "M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"] }, gC = { prefix: "fas", iconName: "jsoneditor-collapse", icon: [512, 512, [], null, "m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"] }, yC = { prefix: "fas", iconName: "jsoneditor-format", icon: [512, 512, [], null, "M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"] }, bC = { prefix: "fas", iconName: "jsoneditor-compact", icon: [512, 512, [], null, "M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"] };
function wC(e20) {
  co(e20, "svelte-v4jelk", ".jse-menu.svelte-v4jelk.svelte-v4jelk{background:var(--jse-theme-color);border-bottom:1px solid var(--jse-theme-color);color:var(--jse-menu-color);display:flex;flex-wrap:wrap;align-items:center;position:relative}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk{width:var(--jse-menu-button-size);height:var(--jse-menu-button-size);border:none;background:transparent;color:inherit;cursor:pointer;padding:calc(0.5 * var(--jse-padding));margin:0;border-radius:0}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:disabled{color:var(--jse-menu-color);opacity:0.5;background:transparent}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk{border:1px solid var(--jse-menu-color);padding:0;margin:calc(0.5 * var(--jse-padding)) 0;height:calc(var(--jse-menu-button-size) - var(--jse-padding));width:40px}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:not(.jse-last){border-right:none}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-first.svelte-v4jelk{margin-left:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-last.svelte-v4jelk{margin-right:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-selected.svelte-v4jelk{background:var(--jse-menu-color);color:var(--jse-theme-color)}.jse-menu.svelte-v4jelk .jse-space.svelte-v4jelk{flex:1}.jse-menu.svelte-v4jelk .jse-separator.svelte-v4jelk{background:var(--jse-menu-color);opacity:0.3;box-sizing:border-box;width:1px;height:calc(var(--jse-menu-button-size) - 6px);margin:3px}");
}
var kC = function(e20) {
  return {};
}, jC = function(e20) {
  return {};
};
function xC(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[3] = t2[n2], r2;
}
var SC = function(e20) {
  return {};
}, CC = function(e20) {
  return {};
};
function _C(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2 = e20[3].icon && PC(e20), l2 = e20[3].text && AC(e20);
  return { c: function() {
    t2 = go("button"), c2 && c2.c(), n2 = wo(), l2 && l2.c(), So(t2, "type", "button"), So(t2, "class", r2 = "jse-button " + e20[3].className + " svelte-v4jelk"), So(t2, "title", i2 = e20[3].title), t2.disabled = o2 = e20[3].disabled || false;
  }, m: function(r3, i3) {
    vo(r3, t2, i3), c2 && c2.m(t2, null), uo(t2, n2), l2 && l2.m(t2, null), a2 = true, s2 || (u2 = jo(t2, "click", function() {
      Ui(e20[3].onClick) && e20[3].onClick.apply(this, arguments);
    }), s2 = true);
  }, p: function(s3, u3) {
    (e20 = s3)[3].icon ? c2 ? (c2.p(e20, u3), 1 & u3 && ya(c2, 1)) : ((c2 = PC(e20)).c(), ya(c2, 1), c2.m(t2, n2)) : c2 && (ma(), ba(c2, 1, 1, function() {
      c2 = null;
    }), ga()), e20[3].text ? l2 ? l2.p(e20, u3) : ((l2 = AC(e20)).c(), l2.m(t2, null)) : l2 && (l2.d(1), l2 = null), (!a2 || 1 & u3 && r2 !== (r2 = "jse-button " + e20[3].className + " svelte-v4jelk")) && So(t2, "class", r2), (!a2 || 1 & u3 && i2 !== (i2 = e20[3].title)) && So(t2, "title", i2), (!a2 || 1 & u3 && o2 !== (o2 = e20[3].disabled || false)) && (t2.disabled = o2);
  }, i: function(e21) {
    a2 || (ya(c2), a2 = true);
  }, o: function(e21) {
    ba(c2), a2 = false;
  }, d: function(e21) {
    e21 && po(t2), c2 && c2.d(), l2 && l2.d(), s2 = false, u2();
  } };
}
function $C(e20) {
  var t2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-space svelte-v4jelk");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function OC(e20) {
  var t2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-separator svelte-v4jelk");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function PC(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: e20[3].icon } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    1 & n3 && (r2.data = e21[3].icon), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function AC(e20) {
  var t2, n2 = e20[3].text + "";
  return { c: function() {
    t2 = bo(n2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, r2) {
    1 & r2 && n2 !== (n2 = e21[3].text + "") && Po(t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function EC(e20) {
  var t2, n2, r2, i2, o2 = [OC, $C, _C], a2 = [];
  function s2(e21, t3) {
    return e21[3].separator === true ? 0 : e21[3].space === true ? 1 : 2;
  }
  return t2 = s2(e20), n2 = a2[t2] = o2[t2](e20), { c: function() {
    n2.c(), r2 = ko();
  }, m: function(e21, n3) {
    a2[t2].m(e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var u2 = t2;
    (t2 = s2(e21)) === u2 ? a2[t2].p(e21, i3) : (ma(), ba(a2[u2], 1, 1, function() {
      a2[u2] = null;
    }), ga(), (n2 = a2[t2]) ? n2.p(e21, i3) : (n2 = a2[t2] = o2[t2](e21)).c(), ya(n2, 1), n2.m(r2.parentNode, r2));
  }, i: function(e21) {
    i2 || (ya(n2), i2 = true);
  }, o: function(e21) {
    ba(n2), i2 = false;
  }, d: function(e21) {
    a2[t2].d(e21), e21 && po(r2);
  } };
}
function MC(e20) {
  for (var t2, n2, r2, i2, o2 = e20[2].left, a2 = Gi(o2, e20, e20[1], CC), s2 = e20[0], u2 = [], c2 = 0; c2 < s2.length; c2 += 1)
    u2[c2] = EC(xC(e20, s2, c2));
  var l2 = function(e21) {
    return ba(u2[e21], 1, 1, function() {
      u2[e21] = null;
    });
  }, f2 = e20[2].right, h2 = Gi(f2, e20, e20[1], jC);
  return { c: function() {
    t2 = go("div"), a2 && a2.c(), n2 = wo();
    for (var e21 = 0; e21 < u2.length; e21 += 1)
      u2[e21].c();
    r2 = wo(), h2 && h2.c(), So(t2, "class", "jse-menu svelte-v4jelk");
  }, m: function(e21, o3) {
    vo(e21, t2, o3), a2 && a2.m(t2, null), uo(t2, n2);
    for (var s3 = 0; s3 < u2.length; s3 += 1)
      u2[s3].m(t2, null);
    uo(t2, r2), h2 && h2.m(t2, null), i2 = true;
  }, p: function(e21, n3) {
    var c3 = ji(n3, 1)[0];
    if (a2 && a2.p && (!i2 || 2 & c3) && Zi(a2, o2, e21, e21[1], i2 ? Yi(o2, e21[1], c3, SC) : Xi(e21[1]), CC), 1 & c3) {
      var d2;
      for (s2 = e21[0], d2 = 0; d2 < s2.length; d2 += 1) {
        var v2 = xC(e21, s2, d2);
        u2[d2] ? (u2[d2].p(v2, c3), ya(u2[d2], 1)) : (u2[d2] = EC(v2), u2[d2].c(), ya(u2[d2], 1), u2[d2].m(t2, r2));
      }
      for (ma(), d2 = s2.length; d2 < u2.length; d2 += 1)
        l2(d2);
      ga();
    }
    h2 && h2.p && (!i2 || 2 & c3) && Zi(h2, f2, e21, e21[1], i2 ? Yi(f2, e21[1], c3, kC) : Xi(e21[1]), jC);
  }, i: function(e21) {
    if (!i2) {
      ya(a2, e21);
      for (var t3 = 0; t3 < s2.length; t3 += 1)
        ya(u2[t3]);
      ya(h2, e21), i2 = true;
    }
  }, o: function(e21) {
    ba(a2, e21), u2 = u2.filter(Boolean);
    for (var t3 = 0; t3 < u2.length; t3 += 1)
      ba(u2[t3]);
    ba(h2, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), a2 && a2.d(e21), mo(u2, e21), h2 && h2.d(e21);
  } };
}
function TC(e20, t2, n2) {
  var r2 = t2.$$slots, i2 = r2 === void 0 ? {} : r2, o2 = t2.$$scope, a2 = t2.items, s2 = a2 === void 0 ? [] : a2;
  return e20.$$set = function(e21) {
    "items" in e21 && n2(0, s2 = e21.items), "$$scope" in e21 && n2(1, o2 = e21.$$scope);
  }, [s2, o2, i2];
}
var IC = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, TC, MC, Ki, { items: 0 }, wC), r2;
  }
  return Li(n2);
}();
function NC(e20) {
  co(e20, "svelte-1yyupsl", ".jse-powered-by.svelte-1yyupsl.svelte-1yyupsl{font-size:8pt;padding:0 10px 3px}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl{color:inherit;opacity:0.7}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl:hover{opacity:1}");
}
function RC(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).innerHTML = '<a href="https://codemirror.net/6/" target="_blank" rel="noopener noreferrer" title="Code mode is powered by CodeMirror" class="svelte-1yyupsl">powered by CodeMirror</a>', So(t2, "slot", "right"), So(t2, "class", "jse-powered-by svelte-1yyupsl");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function DC(e20) {
  var t2, n2;
  return t2 = new IC({ props: { items: e20[0], $$slots: { right: [RC] }, $$scope: { ctx: e20 } } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = ji(n3, 1)[0], i2 = {};
    1 & r2 && (i2.items = e21[0]), 131072 & r2 && (i2.$$scope = { dirty: r2, ctx: e21 }), t2.$set(i2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function LC(e20, t2, n2) {
  var r2, i2, o2 = t2.readOnly, a2 = o2 !== void 0 && o2, s2 = t2.onFormat, u2 = t2.onCompact, c2 = t2.onSort, l2 = t2.onTransform, f2 = t2.onToggleSearch, h2 = t2.onUndo, d2 = t2.onRedo, v2 = t2.canUndo, p2 = t2.canRedo, m2 = t2.canFormat, g2 = t2.canCompact, y2 = t2.canSort, b2 = t2.canTransform, w2 = t2.onRenderMenu, k2 = w2 === void 0 ? wc : w2;
  return e20.$$set = function(e21) {
    "readOnly" in e21 && n2(1, a2 = e21.readOnly), "onFormat" in e21 && n2(2, s2 = e21.onFormat), "onCompact" in e21 && n2(3, u2 = e21.onCompact), "onSort" in e21 && n2(4, c2 = e21.onSort), "onTransform" in e21 && n2(5, l2 = e21.onTransform), "onToggleSearch" in e21 && n2(6, f2 = e21.onToggleSearch), "onUndo" in e21 && n2(7, h2 = e21.onUndo), "onRedo" in e21 && n2(8, d2 = e21.onRedo), "canUndo" in e21 && n2(9, v2 = e21.canUndo), "canRedo" in e21 && n2(10, p2 = e21.canRedo), "canFormat" in e21 && n2(11, m2 = e21.canFormat), "canCompact" in e21 && n2(12, g2 = e21.canCompact), "canSort" in e21 && n2(13, y2 = e21.canSort), "canTransform" in e21 && n2(14, b2 = e21.canTransform), "onRenderMenu" in e21 && n2(15, k2 = e21.onRenderMenu);
  }, e20.$$.update = function() {
    32766 & e20.$$.dirty && n2(16, r2 = a2 ? [{ space: true }] : [{ icon: yC, title: "Format JSON: add proper indentation and new lines (Ctrl+I)", className: "jse-format", onClick: s2, disabled: a2 || !m2 }, { icon: bC, title: "Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)", className: "jse-compact", onClick: u2, disabled: a2 || !g2 }, { separator: true }, { icon: Qx, title: "Sort", className: "jse-sort", onClick: c2, disabled: a2 || !y2 }, { icon: lS, title: "Transform contents (filter, sort, project)", className: "jse-transform", onClick: l2, disabled: a2 || !b2 }, { icon: hS, title: "Search (Ctrl+F)", className: "jse-search", onClick: f2 }, { separator: true }, { icon: Yx, title: "Undo (Ctrl+Z)", className: "jse-undo", onClick: h2, disabled: !v2 }, { icon: Zx, title: "Redo (Ctrl+Shift+Z)", className: "jse-redo", onClick: d2, disabled: !p2 }, { space: true }]), 98304 & e20.$$.dirty && n2(0, i2 = k2("code", r2) || r2);
  }, [i2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, k2, r2];
}
for (var zC = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, LC, DC, Ki, { readOnly: 1, onFormat: 2, onCompact: 3, onSort: 4, onTransform: 5, onToggleSearch: 6, onUndo: 7, onRedo: 8, canUndo: 9, canRedo: 10, canFormat: 11, canCompact: 12, canSort: 13, canTransform: 14, onRenderMenu: 15 }, NC), r2;
  }
  return Li(n2);
}(), BC = "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(e20) {
  return e20 ? parseInt(e20, 36) : 1;
}), qC = 1; qC < BC.length; qC++)
  BC[qC] += BC[qC - 1];
function FC(e20) {
  for (var t2 = 1; t2 < BC.length; t2 += 2)
    if (BC[t2] > e20)
      return BC[t2 - 1] <= e20;
  return false;
}
function VC(e20) {
  return e20 >= 127462 && e20 <= 127487;
}
function HC(e20, t2) {
  var n2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], r2 = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3];
  return (n2 ? WC : UC)(e20, t2, r2);
}
function WC(e20, t2, n2) {
  if (t2 == e20.length)
    return t2;
  t2 && JC(e20.charCodeAt(t2)) && KC(e20.charCodeAt(t2 - 1)) && t2--;
  var r2 = GC(e20, t2);
  for (t2 += YC(r2); t2 < e20.length; ) {
    var i2 = GC(e20, t2);
    if (r2 == 8205 || i2 == 8205 || n2 && FC(i2))
      t2 += YC(i2), r2 = i2;
    else {
      if (!VC(i2))
        break;
      for (var o2 = 0, a2 = t2 - 2; a2 >= 0 && VC(GC(e20, a2)); )
        o2++, a2 -= 2;
      if (o2 % 2 == 0)
        break;
      t2 += 2;
    }
  }
  return t2;
}
function UC(e20, t2, n2) {
  for (; t2 > 0; ) {
    var r2 = WC(e20, t2 - 2, n2);
    if (r2 < t2)
      return r2;
    t2--;
  }
  return 0;
}
function JC(e20) {
  return e20 >= 56320 && e20 < 57344;
}
function KC(e20) {
  return e20 >= 55296 && e20 < 56320;
}
function GC(e20, t2) {
  var n2 = e20.charCodeAt(t2);
  if (!KC(n2) || t2 + 1 == e20.length)
    return n2;
  var r2 = e20.charCodeAt(t2 + 1);
  return JC(r2) ? r2 - 56320 + (n2 - 55296 << 10) + 65536 : n2;
}
function QC(e20) {
  return e20 <= 65535 ? String.fromCharCode(e20) : (e20 -= 65536, String.fromCharCode(55296 + (e20 >> 10), 56320 + (1023 & e20)));
}
function YC(e20) {
  return e20 < 65536 ? 1 : 2;
}
function ZC(e20, t2) {
  for (var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e20.length, r2 = 0, i2 = 0; i2 < n2; )
    e20.charCodeAt(i2) == 9 ? (r2 += t2 - r2 % t2, i2++) : (r2++, i2 = HC(e20, i2));
  return r2;
}
function XC(e20, t2, n2, r2) {
  for (var i2 = 0, o2 = 0; ; ) {
    if (o2 >= t2)
      return i2;
    if (i2 == e20.length)
      break;
    o2 += e20.charCodeAt(i2) == 9 ? n2 - o2 % n2 : 1, i2 = HC(e20, i2);
  }
  return r2 === true ? -1 : e20.length;
}
var e_ = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "lineAt", value: function(e21) {
    if (e21 < 0 || e21 > this.length)
      throw new RangeError("Invalid position ".concat(e21, " in document of length ").concat(this.length));
    return this.lineInner(e21, false, 1, 0);
  } }, { key: "line", value: function(e21) {
    if (e21 < 1 || e21 > this.lines)
      throw new RangeError("Invalid line number ".concat(e21, " in ").concat(this.lines, "-line document"));
    return this.lineInner(e21, true, 1, 0);
  } }, { key: "replace", value: function(e21, t2, n2) {
    var r2 = [];
    return this.decompose(0, e21, r2, 2), n2.length && n2.decompose(0, n2.length, r2, 3), this.decompose(t2, this.length, r2, 1), n_.from(r2, this.length - (t2 - e21) + n2.length);
  } }, { key: "append", value: function(e21) {
    return this.replace(this.length, this.length, e21);
  } }, { key: "slice", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length, n2 = [];
    return this.decompose(e21, t2, n2, 0), n_.from(n2, t2 - e21);
  } }, { key: "eq", value: function(e21) {
    if (e21 == this)
      return true;
    if (e21.length != this.length || e21.lines != this.lines)
      return false;
    for (var t2 = this.scanIdentical(e21, 1), n2 = this.length - this.scanIdentical(e21, -1), r2 = new a_(this), i2 = new a_(e21), o2 = t2, a2 = t2; ; ) {
      if (r2.next(o2), i2.next(o2), o2 = 0, r2.lineBreak != i2.lineBreak || r2.done != i2.done || r2.value != i2.value)
        return false;
      if (a2 += r2.value.length, r2.done || a2 >= n2)
        return true;
    }
  } }, { key: "iter", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1;
    return new a_(this, e21);
  } }, { key: "iterRange", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length;
    return new s_(this, e21, t2);
  } }, { key: "iterLines", value: function(e21, t2) {
    var n2;
    if (e21 == null)
      n2 = this.iter();
    else {
      t2 == null && (t2 = this.lines + 1);
      var r2 = this.line(e21).from;
      n2 = this.iterRange(r2, Math.max(r2, t2 == this.lines + 1 ? this.length : t2 <= 1 ? 0 : this.line(t2 - 1).to));
    }
    return new u_(n2);
  } }, { key: "toString", value: function() {
    return this.sliceString(0);
  } }, { key: "toJSON", value: function() {
    var e21 = [];
    return this.flatten(e21), e21;
  } }], [{ key: "of", value: function(t2) {
    if (t2.length == 0)
      throw new RangeError("A document must have at least one line");
    return t2.length != 1 || t2[0] ? t2.length <= 32 ? new t_(t2) : n_.from(t_.split(t2, [])) : e20.empty;
  } }]), e20;
}(), t_ = function(e20) {
  xi(n2, e_);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2, i2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : r_(e21);
    return Ri(this, n2), (r2 = t2.call(this)).text = e21, r2.length = i2, r2;
  }
  return Li(n2, [{ key: "lines", get: function() {
    return this.text.length;
  } }, { key: "children", get: function() {
    return null;
  } }, { key: "lineInner", value: function(e21, t3, n3, r2) {
    for (var i2 = 0; ; i2++) {
      var o2 = this.text[i2], a2 = r2 + o2.length;
      if ((t3 ? n3 : a2) >= e21)
        return new c_(r2, a2, n3, o2);
      r2 = a2 + 1, n3++;
    }
  } }, { key: "decompose", value: function(e21, t3, r2, i2) {
    var o2 = e21 <= 0 && t3 >= this.length ? this : new n2(o_(this.text, e21, t3), Math.min(t3, this.length) - Math.max(0, e21));
    if (1 & i2) {
      var a2 = r2.pop(), s2 = i_(o2.text, a2.text.slice(), 0, o2.length);
      if (s2.length <= 32)
        r2.push(new n2(s2, a2.length + o2.length));
      else {
        var u2 = s2.length >> 1;
        r2.push(new n2(s2.slice(0, u2)), new n2(s2.slice(u2)));
      }
    } else
      r2.push(o2);
  } }, { key: "replace", value: function(e21, t3, r2) {
    if (!(r2 instanceof n2))
      return wi(Pi(n2.prototype), "replace", this).call(this, e21, t3, r2);
    var i2 = i_(this.text, i_(r2.text, o_(this.text, 0, e21)), t3), o2 = this.length + r2.length - (t3 - e21);
    return i2.length <= 32 ? new n2(i2, o2) : n_.from(n2.split(i2, []), o2);
  } }, { key: "sliceString", value: function(e21) {
    for (var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length, n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "\n", r2 = "", i2 = 0, o2 = 0; i2 <= t3 && o2 < this.text.length; o2++) {
      var a2 = this.text[o2], s2 = i2 + a2.length;
      i2 > e21 && o2 && (r2 += n3), e21 < s2 && t3 > i2 && (r2 += a2.slice(Math.max(0, e21 - i2), t3 - i2)), i2 = s2 + 1;
    }
    return r2;
  } }, { key: "flatten", value: function(e21) {
    var t3, n3 = bi(this.text);
    try {
      for (n3.s(); !(t3 = n3.n()).done; ) {
        var r2 = t3.value;
        e21.push(r2);
      }
    } catch (e22) {
      n3.e(e22);
    } finally {
      n3.f();
    }
  } }, { key: "scanIdentical", value: function() {
    return 0;
  } }], [{ key: "split", value: function(e21, t3) {
    var r2, i2 = [], o2 = -1, a2 = bi(e21);
    try {
      for (a2.s(); !(r2 = a2.n()).done; ) {
        var s2 = r2.value;
        i2.push(s2), o2 += s2.length + 1, i2.length == 32 && (t3.push(new n2(i2, o2)), i2 = [], o2 = -1);
      }
    } catch (e22) {
      a2.e(e22);
    } finally {
      a2.f();
    }
    return o2 > -1 && t3.push(new n2(i2, o2)), t3;
  } }]), n2;
}(), n_ = function(e20) {
  xi(n2, e_);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    Ri(this, n2), (i2 = t2.call(this)).children = e21, i2.length = r2, i2.lines = 0;
    var o2, a2 = bi(e21);
    try {
      for (a2.s(); !(o2 = a2.n()).done; ) {
        var s2 = o2.value;
        i2.lines += s2.lines;
      }
    } catch (e22) {
      a2.e(e22);
    } finally {
      a2.f();
    }
    return i2;
  }
  return Li(n2, [{ key: "lineInner", value: function(e21, t3, n3, r2) {
    for (var i2 = 0; ; i2++) {
      var o2 = this.children[i2], a2 = r2 + o2.length, s2 = n3 + o2.lines - 1;
      if ((t3 ? s2 : a2) >= e21)
        return o2.lineInner(e21, t3, n3, r2);
      r2 = a2 + 1, n3 = s2 + 1;
    }
  } }, { key: "decompose", value: function(e21, t3, n3, r2) {
    for (var i2 = 0, o2 = 0; o2 <= t3 && i2 < this.children.length; i2++) {
      var a2 = this.children[i2], s2 = o2 + a2.length;
      if (e21 <= s2 && t3 >= o2) {
        var u2 = r2 & ((o2 <= e21 ? 1 : 0) | (s2 >= t3 ? 2 : 0));
        o2 >= e21 && s2 <= t3 && !u2 ? n3.push(a2) : a2.decompose(e21 - o2, t3 - o2, n3, u2);
      }
      o2 = s2 + 1;
    }
  } }, { key: "replace", value: function(e21, t3, r2) {
    if (r2.lines < this.lines)
      for (var i2 = 0, o2 = 0; i2 < this.children.length; i2++) {
        var a2 = this.children[i2], s2 = o2 + a2.length;
        if (e21 >= o2 && t3 <= s2) {
          var u2 = a2.replace(e21 - o2, t3 - o2, r2), c2 = this.lines - a2.lines + u2.lines;
          if (u2.lines < c2 >> 4 && u2.lines > c2 >> 6) {
            var l2 = this.children.slice();
            return l2[i2] = u2, new n2(l2, this.length - (t3 - e21) + r2.length);
          }
          return wi(Pi(n2.prototype), "replace", this).call(this, o2, s2, u2);
        }
        o2 = s2 + 1;
      }
    return wi(Pi(n2.prototype), "replace", this).call(this, e21, t3, r2);
  } }, { key: "sliceString", value: function(e21) {
    for (var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length, n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "\n", r2 = "", i2 = 0, o2 = 0; i2 < this.children.length && o2 <= t3; i2++) {
      var a2 = this.children[i2], s2 = o2 + a2.length;
      o2 > e21 && i2 && (r2 += n3), e21 < s2 && t3 > o2 && (r2 += a2.sliceString(e21 - o2, t3 - o2, n3)), o2 = s2 + 1;
    }
    return r2;
  } }, { key: "flatten", value: function(e21) {
    var t3, n3 = bi(this.children);
    try {
      for (n3.s(); !(t3 = n3.n()).done; ) {
        t3.value.flatten(e21);
      }
    } catch (e22) {
      n3.e(e22);
    } finally {
      n3.f();
    }
  } }, { key: "scanIdentical", value: function(e21, t3) {
    if (!(e21 instanceof n2))
      return 0;
    for (var r2 = 0, i2 = ji(t3 > 0 ? [0, 0, this.children.length, e21.children.length] : [this.children.length - 1, e21.children.length - 1, -1, -1], 4), o2 = i2[0], a2 = i2[1], s2 = i2[2], u2 = i2[3]; ; o2 += t3, a2 += t3) {
      if (o2 == s2 || a2 == u2)
        return r2;
      var c2 = this.children[o2], l2 = e21.children[a2];
      if (c2 != l2)
        return r2 + c2.scanIdentical(l2, t3);
      r2 += c2.length + 1;
    }
  } }], [{ key: "from", value: function(e21) {
    var t3, r2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21.reduce(function(e22, t4) {
      return e22 + t4.length + 1;
    }, -1), i2 = 0, o2 = bi(e21);
    try {
      for (o2.s(); !(t3 = o2.n()).done; ) {
        var a2 = t3.value;
        i2 += a2.lines;
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    if (i2 < 32) {
      var s2, u2 = [], c2 = bi(e21);
      try {
        for (c2.s(); !(s2 = c2.n()).done; ) {
          var l2 = s2.value;
          l2.flatten(u2);
        }
      } catch (e22) {
        c2.e(e22);
      } finally {
        c2.f();
      }
      return new t_(u2, r2);
    }
    var f2 = Math.max(32, i2 >> 5), h2 = f2 << 1, d2 = f2 >> 1, v2 = [], p2 = 0, m2 = -1, g2 = [];
    function y2(e22) {
      var t4;
      if (e22.lines > h2 && e22 instanceof n2) {
        var r3, i3 = bi(e22.children);
        try {
          for (i3.s(); !(r3 = i3.n()).done; ) {
            y2(r3.value);
          }
        } catch (e23) {
          i3.e(e23);
        } finally {
          i3.f();
        }
      } else
        e22.lines > d2 && (p2 > d2 || !p2) ? (b2(), v2.push(e22)) : e22 instanceof t_ && p2 && (t4 = g2[g2.length - 1]) instanceof t_ && e22.lines + t4.lines <= 32 ? (p2 += e22.lines, m2 += e22.length + 1, g2[g2.length - 1] = new t_(t4.text.concat(e22.text), t4.length + 1 + e22.length)) : (p2 + e22.lines > f2 && b2(), p2 += e22.lines, m2 += e22.length + 1, g2.push(e22));
    }
    function b2() {
      p2 != 0 && (v2.push(g2.length == 1 ? g2[0] : n2.from(g2, m2)), m2 = -1, p2 = g2.length = 0);
    }
    var w2, k2 = bi(e21);
    try {
      for (k2.s(); !(w2 = k2.n()).done; ) {
        var j2 = w2.value;
        y2(j2);
      }
    } catch (e22) {
      k2.e(e22);
    } finally {
      k2.f();
    }
    return b2(), v2.length == 1 ? v2[0] : new n2(v2, r2);
  } }]), n2;
}();
function r_(e20) {
  var t2, n2 = -1, r2 = bi(e20);
  try {
    for (r2.s(); !(t2 = r2.n()).done; ) {
      n2 += t2.value.length + 1;
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return n2;
}
function i_(e20, t2) {
  for (var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1e9, i2 = 0, o2 = 0, a2 = true; o2 < e20.length && i2 <= r2; o2++) {
    var s2 = e20[o2], u2 = i2 + s2.length;
    u2 >= n2 && (u2 > r2 && (s2 = s2.slice(0, r2 - i2)), i2 < n2 && (s2 = s2.slice(n2 - i2)), a2 ? (t2[t2.length - 1] += s2, a2 = false) : t2.push(s2)), i2 = u2 + 1;
  }
  return t2;
}
function o_(e20, t2, n2) {
  return i_(e20, [""], t2, n2);
}
e_.empty = new t_([""], 0);
var a_ = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
    Ri(this, e20), this.dir = n2, this.done = false, this.lineBreak = false, this.value = "", this.nodes = [t2], this.offsets = [n2 > 0 ? 1 : (t2 instanceof t_ ? t2.text.length : t2.children.length) << 1];
  }
  return Li(e20, [{ key: "nextInner", value: function(e21, t2) {
    for (this.done = this.lineBreak = false; ; ) {
      var n2 = this.nodes.length - 1, r2 = this.nodes[n2], i2 = this.offsets[n2], o2 = i2 >> 1, a2 = r2 instanceof t_ ? r2.text.length : r2.children.length;
      if (o2 == (t2 > 0 ? a2 : 0)) {
        if (n2 == 0)
          return this.done = true, this.value = "", this;
        t2 > 0 && this.offsets[n2 - 1]++, this.nodes.pop(), this.offsets.pop();
      } else if ((1 & i2) == (t2 > 0 ? 0 : 1)) {
        if (this.offsets[n2] += t2, e21 == 0)
          return this.lineBreak = true, this.value = "\n", this;
        e21--;
      } else if (r2 instanceof t_) {
        var s2 = r2.text[o2 + (t2 < 0 ? -1 : 0)];
        if (this.offsets[n2] += t2, s2.length > Math.max(0, e21))
          return this.value = e21 == 0 ? s2 : t2 > 0 ? s2.slice(e21) : s2.slice(0, s2.length - e21), this;
        e21 -= s2.length;
      } else {
        var u2 = r2.children[o2 + (t2 < 0 ? -1 : 0)];
        e21 > u2.length ? (e21 -= u2.length, this.offsets[n2] += t2) : (t2 < 0 && this.offsets[n2]--, this.nodes.push(u2), this.offsets.push(t2 > 0 ? 1 : (u2 instanceof t_ ? u2.text.length : u2.children.length) << 1));
      }
    }
  } }, { key: "next", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
    return e21 < 0 && (this.nextInner(-e21, -this.dir), e21 = this.value.length), this.nextInner(e21, this.dir);
  } }]), e20;
}(), s_ = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.value = "", this.done = false, this.cursor = new a_(t2, n2 > r2 ? -1 : 1), this.pos = n2 > r2 ? t2.length : 0, this.from = Math.min(n2, r2), this.to = Math.max(n2, r2);
  }
  return Li(e20, [{ key: "nextInner", value: function(e21, t2) {
    if (t2 < 0 ? this.pos <= this.from : this.pos >= this.to)
      return this.value = "", this.done = true, this;
    e21 += Math.max(0, t2 < 0 ? this.pos - this.to : this.from - this.pos);
    var n2 = t2 < 0 ? this.pos - this.from : this.to - this.pos;
    e21 > n2 && (e21 = n2), n2 -= e21;
    var r2 = this.cursor.next(e21).value;
    return this.pos += (r2.length + e21) * t2, this.value = r2.length <= n2 ? r2 : t2 < 0 ? r2.slice(r2.length - n2) : r2.slice(0, n2), this.done = !this.value, this;
  } }, { key: "next", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
    return e21 < 0 ? e21 = Math.max(e21, this.from - this.pos) : e21 > 0 && (e21 = Math.min(e21, this.to - this.pos)), this.nextInner(e21, this.cursor.dir);
  } }, { key: "lineBreak", get: function() {
    return this.cursor.lineBreak && this.value != "";
  } }]), e20;
}(), u_ = function() {
  function e20(t2) {
    Ri(this, e20), this.inner = t2, this.afterBreak = true, this.value = "", this.done = false;
  }
  return Li(e20, [{ key: "next", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, t2 = this.inner.next(e21), n2 = t2.done, r2 = t2.lineBreak, i2 = t2.value;
    return n2 ? (this.done = true, this.value = "") : r2 ? this.afterBreak ? this.value = "" : (this.afterBreak = true, this.next()) : (this.value = i2, this.afterBreak = false), this;
  } }, { key: "lineBreak", get: function() {
    return false;
  } }]), e20;
}();
typeof Symbol != "undefined" && (e_.prototype[Symbol.iterator] = function() {
  return this.iter();
}, a_.prototype[Symbol.iterator] = s_.prototype[Symbol.iterator] = u_.prototype[Symbol.iterator] = function() {
  return this;
});
var c_ = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.number = r2, this.text = i2;
  }
  return Li(e20, [{ key: "length", get: function() {
    return this.to - this.from;
  } }]), e20;
}(), l_ = /\r\n?|\n/, f_ = function(e20) {
  return e20[e20.Simple = 0] = "Simple", e20[e20.TrackDel = 1] = "TrackDel", e20[e20.TrackBefore = 2] = "TrackBefore", e20[e20.TrackAfter = 3] = "TrackAfter", e20;
}(f_ || (f_ = {})), h_ = function() {
  function e20(t2) {
    Ri(this, e20), this.sections = t2;
  }
  return Li(e20, [{ key: "length", get: function() {
    for (var e21 = 0, t2 = 0; t2 < this.sections.length; t2 += 2)
      e21 += this.sections[t2];
    return e21;
  } }, { key: "newLength", get: function() {
    for (var e21 = 0, t2 = 0; t2 < this.sections.length; t2 += 2) {
      var n2 = this.sections[t2 + 1];
      e21 += n2 < 0 ? this.sections[t2] : n2;
    }
    return e21;
  } }, { key: "empty", get: function() {
    return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0;
  } }, { key: "iterGaps", value: function(e21) {
    for (var t2 = 0, n2 = 0, r2 = 0; t2 < this.sections.length; ) {
      var i2 = this.sections[t2++], o2 = this.sections[t2++];
      o2 < 0 ? (e21(n2, r2, i2), r2 += i2) : r2 += o2, n2 += i2;
    }
  } }, { key: "iterChangedRanges", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    m_(this, e21, t2);
  } }, { key: "invertedDesc", get: function() {
    for (var t2 = [], n2 = 0; n2 < this.sections.length; ) {
      var r2 = this.sections[n2++], i2 = this.sections[n2++];
      i2 < 0 ? t2.push(r2, i2) : t2.push(i2, r2);
    }
    return new e20(t2);
  } }, { key: "composeDesc", value: function(e21) {
    return this.empty ? e21 : e21.empty ? this : y_(this, e21);
  } }, { key: "mapDesc", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    return e21.empty ? this : g_(this, e21, t2);
  } }, { key: "mapPos", value: function(e21) {
    for (var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : f_.Simple, r2 = 0, i2 = 0, o2 = 0; o2 < this.sections.length; ) {
      var a2 = this.sections[o2++], s2 = this.sections[o2++], u2 = r2 + a2;
      if (s2 < 0) {
        if (u2 > e21)
          return i2 + (e21 - r2);
        i2 += a2;
      } else {
        if (n2 != f_.Simple && u2 >= e21 && (n2 == f_.TrackDel && r2 < e21 && u2 > e21 || n2 == f_.TrackBefore && r2 < e21 || n2 == f_.TrackAfter && u2 > e21))
          return null;
        if (u2 > e21 || u2 == e21 && t2 < 0 && !a2)
          return e21 == r2 || t2 < 0 ? i2 : i2 + s2;
        i2 += s2;
      }
      r2 = u2;
    }
    if (e21 > r2)
      throw new RangeError("Position ".concat(e21, " is out of range for changeset of length ").concat(r2));
    return i2;
  } }, { key: "touchesRange", value: function(e21) {
    for (var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21, n2 = 0, r2 = 0; n2 < this.sections.length && r2 <= t2; ) {
      var i2 = this.sections[n2++], o2 = this.sections[n2++], a2 = r2 + i2;
      if (o2 >= 0 && r2 <= t2 && a2 >= e21)
        return !(r2 < e21 && a2 > t2) || "cover";
      r2 = a2;
    }
    return false;
  } }, { key: "toString", value: function() {
    for (var e21 = "", t2 = 0; t2 < this.sections.length; ) {
      var n2 = this.sections[t2++], r2 = this.sections[t2++];
      e21 += (e21 ? " " : "") + n2 + (r2 >= 0 ? ":" + r2 : "");
    }
    return e21;
  } }, { key: "toJSON", value: function() {
    return this.sections;
  } }], [{ key: "fromJSON", value: function(t2) {
    if (!Array.isArray(t2) || t2.length % 2 || t2.some(function(e21) {
      return typeof e21 != "number";
    }))
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new e20(t2);
  } }]), e20;
}(), d_ = function(e20) {
  xi(n2, h_);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this, e21)).inserted = r2, i2;
  }
  return Li(n2, [{ key: "apply", value: function(e21) {
    if (this.length != e21.length)
      throw new RangeError("Applying change set to a document with the wrong length");
    return m_(this, function(t3, n3, r2, i2, o2) {
      return e21 = e21.replace(r2, r2 + (n3 - t3), o2);
    }, false), e21;
  } }, { key: "mapDesc", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    return g_(this, e21, t3, true);
  } }, { key: "invert", value: function(e21) {
    for (var t3 = this.sections.slice(), r2 = [], i2 = 0, o2 = 0; i2 < t3.length; i2 += 2) {
      var a2 = t3[i2], s2 = t3[i2 + 1];
      if (s2 >= 0) {
        t3[i2] = s2, t3[i2 + 1] = a2;
        for (var u2 = i2 >> 1; r2.length < u2; )
          r2.push(e_.empty);
        r2.push(a2 ? e21.slice(o2, o2 + a2) : e_.empty);
      }
      o2 += a2;
    }
    return new n2(t3, r2);
  } }, { key: "compose", value: function(e21) {
    return this.empty ? e21 : e21.empty ? this : y_(this, e21, true);
  } }, { key: "map", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    return e21.empty ? this : g_(this, e21, t3, true);
  } }, { key: "iterChanges", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    m_(this, e21, t3);
  } }, { key: "desc", get: function() {
    return new h_(this.sections);
  } }, { key: "filter", value: function(e21) {
    var t3 = [], r2 = [], i2 = [], o2 = new b_(this);
    e:
      for (var a2 = 0, s2 = 0; ; ) {
        for (var u2 = a2 == e21.length ? 1e9 : e21[a2++]; s2 < u2 || s2 == u2 && o2.len == 0; ) {
          if (o2.done)
            break e;
          var c2 = Math.min(o2.len, u2 - s2);
          v_(i2, c2, -1);
          var l2 = o2.ins == -1 ? -1 : o2.off == 0 ? o2.ins : 0;
          v_(t3, c2, l2), l2 > 0 && p_(r2, t3, o2.text), o2.forward(c2), s2 += c2;
        }
        for (var f2 = e21[a2++]; s2 < f2; ) {
          if (o2.done)
            break e;
          var h2 = Math.min(o2.len, f2 - s2);
          v_(t3, h2, -1), v_(i2, h2, o2.ins == -1 ? -1 : o2.off == 0 ? o2.ins : 0), o2.forward(h2), s2 += h2;
        }
      }
    return { changes: new n2(t3, r2), filtered: new h_(i2) };
  } }, { key: "toJSON", value: function() {
    for (var e21 = [], t3 = 0; t3 < this.sections.length; t3 += 2) {
      var n3 = this.sections[t3], r2 = this.sections[t3 + 1];
      r2 < 0 ? e21.push(n3) : r2 == 0 ? e21.push([n3]) : e21.push([n3].concat(this.inserted[t3 >> 1].toJSON()));
    }
    return e21;
  } }], [{ key: "of", value: function(e21, t3, r2) {
    var i2 = [], o2 = [], a2 = 0, s2 = null;
    function u2() {
      var e22 = arguments.length > 0 && arguments[0] !== void 0 && arguments[0];
      if (e22 || i2.length) {
        a2 < t3 && v_(i2, t3 - a2, -1);
        var r3 = new n2(i2, o2);
        s2 = s2 ? s2.compose(r3.map(s2)) : r3, i2 = [], o2 = [], a2 = 0;
      }
    }
    return function e22(c2) {
      if (Array.isArray(c2)) {
        var l2, f2 = bi(c2);
        try {
          for (f2.s(); !(l2 = f2.n()).done; ) {
            e22(l2.value);
          }
        } catch (e23) {
          f2.e(e23);
        } finally {
          f2.f();
        }
      } else if (c2 instanceof n2) {
        if (c2.length != t3)
          throw new RangeError("Mismatched change set length (got ".concat(c2.length, ", expected ").concat(t3, ")"));
        u2(), s2 = s2 ? s2.compose(c2.map(s2)) : c2;
      } else {
        var h2 = c2.from, d2 = c2.to, v2 = d2 === void 0 ? h2 : d2, p2 = c2.insert;
        if (h2 > v2 || h2 < 0 || v2 > t3)
          throw new RangeError("Invalid change range ".concat(h2, " to ").concat(v2, " (in doc of length ").concat(t3, ")"));
        var m2 = p2 ? typeof p2 == "string" ? e_.of(p2.split(r2 || l_)) : p2 : e_.empty, g2 = m2.length;
        if (h2 == v2 && g2 == 0)
          return;
        h2 < a2 && u2(), h2 > a2 && v_(i2, h2 - a2, -1), v_(i2, v2 - h2, g2), p_(o2, i2, m2), a2 = v2;
      }
    }(e21), u2(!s2), s2;
  } }, { key: "empty", value: function(e21) {
    return new n2(e21 ? [e21, -1] : [], []);
  } }, { key: "fromJSON", value: function(e21) {
    if (!Array.isArray(e21))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    for (var t3 = [], r2 = [], i2 = 0; i2 < e21.length; i2++) {
      var o2 = e21[i2];
      if (typeof o2 == "number")
        t3.push(o2, -1);
      else {
        if (!Array.isArray(o2) || typeof o2[0] != "number" || o2.some(function(e22, t4) {
          return t4 && typeof e22 != "string";
        }))
          throw new RangeError("Invalid JSON representation of ChangeSet");
        if (o2.length == 1)
          t3.push(o2[0], 0);
        else {
          for (; r2.length < i2; )
            r2.push(e_.empty);
          r2[i2] = e_.of(o2.slice(1)), t3.push(o2[0], r2[i2].length);
        }
      }
    }
    return new n2(t3, r2);
  } }]), n2;
}();
function v_(e20, t2, n2) {
  var r2 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3];
  if (!(t2 == 0 && n2 <= 0)) {
    var i2 = e20.length - 2;
    i2 >= 0 && n2 <= 0 && n2 == e20[i2 + 1] ? e20[i2] += t2 : t2 == 0 && e20[i2] == 0 ? e20[i2 + 1] += n2 : r2 ? (e20[i2] += t2, e20[i2 + 1] += n2) : e20.push(t2, n2);
  }
}
function p_(e20, t2, n2) {
  if (n2.length != 0) {
    var r2 = t2.length - 2 >> 1;
    if (r2 < e20.length)
      e20[e20.length - 1] = e20[e20.length - 1].append(n2);
    else {
      for (; e20.length < r2; )
        e20.push(e_.empty);
      e20.push(n2);
    }
  }
}
function m_(e20, t2, n2) {
  for (var r2 = e20.inserted, i2 = 0, o2 = 0, a2 = 0; a2 < e20.sections.length; ) {
    var s2 = e20.sections[a2++], u2 = e20.sections[a2++];
    if (u2 < 0)
      i2 += s2, o2 += s2;
    else {
      for (var c2 = i2, l2 = o2, f2 = e_.empty; c2 += s2, l2 += u2, u2 && r2 && (f2 = f2.append(r2[a2 - 2 >> 1])), !(n2 || a2 == e20.sections.length || e20.sections[a2 + 1] < 0); )
        s2 = e20.sections[a2++], u2 = e20.sections[a2++];
      t2(i2, c2, o2, l2, f2), i2 = c2, o2 = l2;
    }
  }
}
function g_(e20, t2, n2) {
  for (var r2 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], i2 = [], o2 = r2 ? [] : null, a2 = new b_(e20), s2 = new b_(t2), u2 = 0, c2 = 0; ; )
    if (a2.ins == -1)
      u2 += a2.len, a2.next();
    else if (s2.ins == -1 && c2 < u2) {
      var l2 = Math.min(s2.len, u2 - c2);
      s2.forward(l2), v_(i2, l2, -1), c2 += l2;
    } else if (s2.ins >= 0 && (a2.done || c2 < u2 || c2 == u2 && (s2.len < a2.len || s2.len == a2.len && !n2))) {
      for (v_(i2, s2.ins, -1); u2 > c2 && !a2.done && u2 + a2.len < c2 + s2.len; )
        u2 += a2.len, a2.next();
      c2 += s2.len, s2.next();
    } else {
      if (!(a2.ins >= 0)) {
        if (a2.done && s2.done)
          return o2 ? new d_(i2, o2) : new h_(i2);
        throw new Error("Mismatched change set lengths");
      }
      for (var f2 = 0, h2 = u2 + a2.len; ; )
        if (s2.ins >= 0 && c2 > u2 && c2 + s2.len < h2)
          f2 += s2.ins, c2 += s2.len, s2.next();
        else {
          if (!(s2.ins == -1 && c2 < h2))
            break;
          var d2 = Math.min(s2.len, h2 - c2);
          f2 += d2, s2.forward(d2), c2 += d2;
        }
      v_(i2, f2, a2.ins), o2 && p_(o2, i2, a2.text), u2 = h2, a2.next();
    }
}
function y_(e20, t2) {
  for (var n2 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r2 = [], i2 = n2 ? [] : null, o2 = new b_(e20), a2 = new b_(t2), s2 = false; ; ) {
    if (o2.done && a2.done)
      return i2 ? new d_(r2, i2) : new h_(r2);
    if (o2.ins == 0)
      v_(r2, o2.len, 0, s2), o2.next();
    else if (a2.len != 0 || a2.done) {
      if (o2.done || a2.done)
        throw new Error("Mismatched change set lengths");
      var u2 = Math.min(o2.len2, a2.len), c2 = r2.length;
      if (o2.ins == -1) {
        var l2 = a2.ins == -1 ? -1 : a2.off ? 0 : a2.ins;
        v_(r2, u2, l2, s2), i2 && l2 && p_(i2, r2, a2.text);
      } else
        a2.ins == -1 ? (v_(r2, o2.off ? 0 : o2.len, u2, s2), i2 && p_(i2, r2, o2.textBit(u2))) : (v_(r2, o2.off ? 0 : o2.len, a2.off ? 0 : a2.ins, s2), i2 && !a2.off && p_(i2, r2, a2.text));
      s2 = (o2.ins > u2 || a2.ins >= 0 && a2.len > u2) && (s2 || r2.length > c2), o2.forward2(u2), a2.forward(u2);
    } else
      v_(r2, 0, a2.ins, s2), i2 && p_(i2, r2, a2.text), a2.next();
  }
}
var b_ = function() {
  function e20(t2) {
    Ri(this, e20), this.set = t2, this.i = 0, this.next();
  }
  return Li(e20, [{ key: "next", value: function() {
    var e21 = this.set.sections;
    this.i < e21.length ? (this.len = e21[this.i++], this.ins = e21[this.i++]) : (this.len = 0, this.ins = -2), this.off = 0;
  } }, { key: "done", get: function() {
    return this.ins == -2;
  } }, { key: "len2", get: function() {
    return this.ins < 0 ? this.len : this.ins;
  } }, { key: "text", get: function() {
    var e21 = this.set.inserted, t2 = this.i - 2 >> 1;
    return t2 >= e21.length ? e_.empty : e21[t2];
  } }, { key: "textBit", value: function(e21) {
    var t2 = this.set.inserted, n2 = this.i - 2 >> 1;
    return n2 >= t2.length && !e21 ? e_.empty : t2[n2].slice(this.off, e21 == null ? void 0 : this.off + e21);
  } }, { key: "forward", value: function(e21) {
    e21 == this.len ? this.next() : (this.len -= e21, this.off += e21);
  } }, { key: "forward2", value: function(e21) {
    this.ins == -1 ? this.forward(e21) : e21 == this.ins ? this.next() : (this.ins -= e21, this.off += e21);
  } }]), e20;
}(), w_ = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.flags = r2;
  }
  return Li(e20, [{ key: "anchor", get: function() {
    return 16 & this.flags ? this.to : this.from;
  } }, { key: "head", get: function() {
    return 16 & this.flags ? this.from : this.to;
  } }, { key: "empty", get: function() {
    return this.from == this.to;
  } }, { key: "assoc", get: function() {
    return 4 & this.flags ? -1 : 8 & this.flags ? 1 : 0;
  } }, { key: "bidiLevel", get: function() {
    var e21 = 3 & this.flags;
    return e21 == 3 ? null : e21;
  } }, { key: "goalColumn", get: function() {
    var e21 = this.flags >> 5;
    return e21 == 33554431 ? void 0 : e21;
  } }, { key: "map", value: function(t2) {
    var n2, r2, i2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1;
    return this.empty ? n2 = r2 = t2.mapPos(this.from, i2) : (n2 = t2.mapPos(this.from, 1), r2 = t2.mapPos(this.to, -1)), n2 == this.from && r2 == this.to ? this : new e20(n2, r2, this.flags);
  } }, { key: "extend", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21;
    if (e21 <= this.anchor && t2 >= this.anchor)
      return k_.range(e21, t2);
    var n2 = Math.abs(e21 - this.anchor) > Math.abs(t2 - this.anchor) ? e21 : t2;
    return k_.range(this.anchor, n2);
  } }, { key: "eq", value: function(e21) {
    return this.anchor == e21.anchor && this.head == e21.head;
  } }, { key: "toJSON", value: function() {
    return { anchor: this.anchor, head: this.head };
  } }], [{ key: "fromJSON", value: function(e21) {
    if (!e21 || typeof e21.anchor != "number" || typeof e21.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return k_.range(e21.anchor, e21.head);
  } }]), e20;
}(), k_ = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    Ri(this, e20), this.ranges = t2, this.mainIndex = n2;
  }
  return Li(e20, [{ key: "map", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1;
    return t2.empty ? this : e20.create(this.ranges.map(function(e21) {
      return e21.map(t2, n2);
    }), this.mainIndex);
  } }, { key: "eq", value: function(e21) {
    if (this.ranges.length != e21.ranges.length || this.mainIndex != e21.mainIndex)
      return false;
    for (var t2 = 0; t2 < this.ranges.length; t2++)
      if (!this.ranges[t2].eq(e21.ranges[t2]))
        return false;
    return true;
  } }, { key: "main", get: function() {
    return this.ranges[this.mainIndex];
  } }, { key: "asSingle", value: function() {
    return this.ranges.length == 1 ? this : new e20([this.main]);
  } }, { key: "addRange", value: function(t2) {
    var n2 = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
    return e20.create([t2].concat(this.ranges), n2 ? 0 : this.mainIndex + 1);
  } }, { key: "replaceRange", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.mainIndex, r2 = this.ranges.slice();
    return r2[n2] = t2, e20.create(r2, this.mainIndex);
  } }, { key: "toJSON", value: function() {
    return { ranges: this.ranges.map(function(e21) {
      return e21.toJSON();
    }), main: this.mainIndex };
  } }], [{ key: "fromJSON", value: function(t2) {
    if (!t2 || !Array.isArray(t2.ranges) || typeof t2.main != "number" || t2.main >= t2.ranges.length)
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new e20(t2.ranges.map(function(e21) {
      return w_.fromJSON(e21);
    }), t2.main);
  } }, { key: "single", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t2;
    return new e20([e20.range(t2, n2)], 0);
  } }, { key: "create", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    if (t2.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (var r2 = 0, i2 = 0; i2 < t2.length; i2++) {
      var o2 = t2[i2];
      if (o2.empty ? o2.from <= r2 : o2.from < r2)
        return j_(t2.slice(), n2);
      r2 = o2.to;
    }
    return new e20(t2, n2);
  } }, { key: "cursor", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = arguments.length > 2 ? arguments[2] : void 0, r2 = arguments.length > 3 ? arguments[3] : void 0;
    return new w_(e21, e21, (t2 == 0 ? 0 : t2 < 0 ? 4 : 8) | (n2 == null ? 3 : Math.min(2, n2)) | (r2 != null ? r2 : 33554431) << 5);
  } }, { key: "range", value: function(e21, t2, n2) {
    var r2 = (n2 != null ? n2 : 33554431) << 5;
    return t2 < e21 ? new w_(t2, e21, 24 | r2) : new w_(e21, t2, r2 | (t2 > e21 ? 4 : 0));
  } }]), e20;
}();
function j_(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = e20[t2];
  e20.sort(function(e21, t3) {
    return e21.from - t3.from;
  }), t2 = e20.indexOf(n2);
  for (var r2 = 1; r2 < e20.length; r2++) {
    var i2 = e20[r2], o2 = e20[r2 - 1];
    if (i2.empty ? i2.from <= o2.to : i2.from < o2.to) {
      var a2 = o2.from, s2 = Math.max(i2.to, o2.to);
      r2 <= t2 && t2--, e20.splice(--r2, 2, i2.anchor > i2.head ? k_.range(s2, a2) : k_.range(a2, s2));
    }
  }
  return new k_(e20, t2);
}
function x_(e20, t2) {
  var n2, r2 = bi(e20.ranges);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      if (n2.value.to > t2)
        throw new RangeError("Selection points outside of document");
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
}
var S_ = 0, C_ = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.combine = t2, this.compareInput = n2, this.compare = r2, this.isStatic = i2, this.extensions = o2, this.id = S_++, this.default = t2([]);
  }
  return Li(e20, [{ key: "of", value: function(e21) {
    return new $_([], this, 0, e21);
  } }, { key: "compute", value: function(e21, t2) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new $_(e21, this, 1, t2);
  } }, { key: "computeN", value: function(e21, t2) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new $_(e21, this, 2, t2);
  } }, { key: "from", value: function(e21, t2) {
    return t2 || (t2 = function(e22) {
      return e22;
    }), this.compute([e21], function(n2) {
      return t2(n2.field(e21));
    });
  } }], [{ key: "define", value: function() {
    var t2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return new e20(t2.combine || function(e21) {
      return e21;
    }, t2.compareInput || function(e21, t3) {
      return e21 === t3;
    }, t2.compare || (t2.combine ? function(e21, t3) {
      return e21 === t3;
    } : __), !!t2.static, t2.enables);
  } }]), e20;
}();
function __(e20, t2) {
  return e20 == t2 || e20.length == t2.length && e20.every(function(e21, n2) {
    return e21 === t2[n2];
  });
}
var $_ = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.dependencies = t2, this.facet = n2, this.type = r2, this.value = i2, this.id = S_++;
  }
  return Li(e20, [{ key: "dynamicSlot", value: function(e21) {
    var t2, n2, r2 = this.value, i2 = this.facet.compareInput, o2 = this.id, a2 = e21[o2] >> 1, s2 = this.type == 2, u2 = false, c2 = false, l2 = [], f2 = bi(this.dependencies);
    try {
      for (f2.s(); !(n2 = f2.n()).done; ) {
        var h2 = n2.value;
        h2 == "doc" ? u2 = true : h2 == "selection" ? c2 = true : (1 & ((t2 = e21[h2.id]) !== null && t2 !== void 0 ? t2 : 1)) == 0 && l2.push(e21[h2.id]);
      }
    } catch (e22) {
      f2.e(e22);
    } finally {
      f2.f();
    }
    return { create: function(e22) {
      return e22.values[a2] = r2(e22), 1;
    }, update: function(e22, t3) {
      if (u2 && t3.docChanged || c2 && (t3.docChanged || t3.selection) || l2.some(function(t4) {
        return (1 & F_(e22, t4)) > 0;
      })) {
        var n3 = r2(e22);
        if (s2 ? !O_(n3, e22.values[a2], i2) : !i2(n3, e22.values[a2]))
          return e22.values[a2] = n3, 1;
      }
      return 0;
    }, reconfigure: function(e22, t3) {
      var n3 = r2(e22), u3 = t3.config.address[o2];
      if (u3 != null) {
        var c3 = V_(t3, u3);
        if (s2 ? O_(n3, c3, i2) : i2(n3, c3))
          return e22.values[a2] = c3, 0;
      }
      return e22.values[a2] = n3, 1;
    } };
  } }]), e20;
}();
function O_(e20, t2, n2) {
  if (e20.length != t2.length)
    return false;
  for (var r2 = 0; r2 < e20.length; r2++)
    if (!n2(e20[r2], t2[r2]))
      return false;
  return true;
}
var P_ = C_.define({ static: true }), A_ = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.id = t2, this.createF = n2, this.updateF = r2, this.compareF = i2, this.spec = o2, this.provides = void 0;
  }
  return Li(e20, [{ key: "create", value: function(e21) {
    var t2 = this, n2 = e21.facet(P_).find(function(e22) {
      return e22.field == t2;
    });
    return ((n2 == null ? void 0 : n2.create) || this.createF)(e21);
  } }, { key: "slot", value: function(e21) {
    var t2 = this, n2 = e21[this.id] >> 1;
    return { create: function(e22) {
      return e22.values[n2] = t2.create(e22), 1;
    }, update: function(e22, r2) {
      var i2 = e22.values[n2], o2 = t2.updateF(i2, r2);
      return t2.compareF(i2, o2) ? 0 : (e22.values[n2] = o2, 1);
    }, reconfigure: function(e22, r2) {
      return r2.config.address[t2.id] != null ? (e22.values[n2] = r2.field(t2), 0) : (e22.values[n2] = t2.create(e22), 1);
    } };
  } }, { key: "init", value: function(e21) {
    return [this, P_.of({ field: this, create: e21 })];
  } }, { key: "extension", get: function() {
    return this;
  } }], [{ key: "define", value: function(t2) {
    var n2 = new e20(S_++, t2.create, t2.update, t2.compare || function(e21, t3) {
      return e21 === t3;
    }, t2);
    return t2.provide && (n2.provides = t2.provide(n2)), n2;
  } }]), e20;
}(), E_ = 4, M_ = 3, T_ = 2, I_ = 1, N_ = 0;
function R_(e20) {
  return function(t2) {
    return new L_(t2, e20);
  };
}
var D_ = { lowest: R_(E_), low: R_(M_), default: R_(T_), high: R_(I_), highest: R_(N_), fallback: R_(E_), extend: R_(I_), override: R_(N_) }, L_ = Li(function e2(t2, n2) {
  Ri(this, e2), this.inner = t2, this.prec = n2;
}), z_ = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "of", value: function(e21) {
    return new B_(this, e21);
  } }, { key: "reconfigure", value: function(t2) {
    return e20.reconfigure.of({ compartment: this, extension: t2 });
  } }, { key: "get", value: function(e21) {
    return e21.config.compartments.get(this);
  } }]), e20;
}(), B_ = Li(function e3(t2, n2) {
  Ri(this, e3), this.compartment = t2, this.inner = n2;
}), q_ = function() {
  function e20(t2, n2, r2, i2, o2, a2) {
    for (Ri(this, e20), this.base = t2, this.compartments = n2, this.dynamicSlots = r2, this.address = i2, this.staticValues = o2, this.facets = a2, this.statusTemplate = []; this.statusTemplate.length < r2.length; )
      this.statusTemplate.push(0);
  }
  return Li(e20, [{ key: "staticFacet", value: function(e21) {
    var t2 = this.address[e21.id];
    return t2 == null ? e21.default : this.staticValues[t2 >> 1];
  } }], [{ key: "resolve", value: function(t2, n2, r2) {
    var i2, o2 = [], a2 = /* @__PURE__ */ Object.create(null), s2 = /* @__PURE__ */ new Map(), u2 = bi(function(e21, t3, n3) {
      var r3 = [[], [], [], [], []], i3 = /* @__PURE__ */ new Map();
      function o3(e22, a3) {
        var s3 = i3.get(e22);
        if (s3 != null) {
          if (s3 >= a3)
            return;
          var u3 = r3[s3].indexOf(e22);
          u3 > -1 && r3[s3].splice(u3, 1), e22 instanceof B_ && n3.delete(e22.compartment);
        }
        if (i3.set(e22, a3), Array.isArray(e22)) {
          var c3, l3 = bi(e22);
          try {
            for (l3.s(); !(c3 = l3.n()).done; ) {
              o3(c3.value, a3);
            }
          } catch (e23) {
            l3.e(e23);
          } finally {
            l3.f();
          }
        } else if (e22 instanceof B_) {
          if (n3.has(e22.compartment))
            throw new RangeError("Duplicate use of compartment in extensions");
          var f3 = t3.get(e22.compartment) || e22.inner;
          n3.set(e22.compartment, f3), o3(f3, a3);
        } else if (e22 instanceof L_)
          o3(e22.inner, e22.prec);
        else if (e22 instanceof A_)
          r3[a3].push(e22), e22.provides && o3(e22.provides, a3);
        else if (e22 instanceof $_)
          r3[a3].push(e22), e22.facet.extensions && o3(e22.facet.extensions, a3);
        else {
          var h3 = e22.extension;
          if (!h3)
            throw new Error("Unrecognized extension value in extension set (".concat(e22, "). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));
          o3(h3, a3);
        }
      }
      return o3(e21, T_), r3.reduce(function(e22, t4) {
        return e22.concat(t4);
      });
    }(t2, n2, s2));
    try {
      for (u2.s(); !(i2 = u2.n()).done; ) {
        var c2 = i2.value;
        c2 instanceof A_ ? o2.push(c2) : (a2[c2.facet.id] || (a2[c2.facet.id] = [])).push(c2);
      }
    } catch (e21) {
      u2.e(e21);
    } finally {
      u2.f();
    }
    for (var l2 = /* @__PURE__ */ Object.create(null), f2 = [], h2 = [], d2 = function() {
      var e21 = p2[v2];
      l2[e21.id] = h2.length << 1, h2.push(function(t3) {
        return e21.slot(t3);
      });
    }, v2 = 0, p2 = o2; v2 < p2.length; v2++)
      d2();
    var m2 = r2 == null ? void 0 : r2.config.facets, g2 = function(e21) {
      var t3 = a2[e21], n3 = t3[0].facet, i3 = m2 && m2[e21] || [];
      if (t3.every(function(e22) {
        return e22.type == 0;
      }))
        if (l2[n3.id] = f2.length << 1 | 1, __(i3, t3))
          f2.push(r2.facet(n3));
        else {
          var o3 = n3.combine(t3.map(function(e22) {
            return e22.value;
          }));
          f2.push(r2 && n3.compare(o3, r2.facet(n3)) ? r2.facet(n3) : o3);
        }
      else {
        var s3, u3 = bi(t3);
        try {
          var c3 = function() {
            var e22 = s3.value;
            e22.type == 0 ? (l2[e22.id] = f2.length << 1 | 1, f2.push(e22.value)) : (l2[e22.id] = h2.length << 1, h2.push(function(t4) {
              return e22.dynamicSlot(t4);
            }));
          };
          for (u3.s(); !(s3 = u3.n()).done; )
            c3();
        } catch (e22) {
          u3.e(e22);
        } finally {
          u3.f();
        }
        l2[n3.id] = h2.length << 1, h2.push(function(e22) {
          return function(e23, t4, n4) {
            var r3 = n4.map(function(t5) {
              return e23[t5.id];
            }), i4 = n4.map(function(e24) {
              return e24.type;
            }), o4 = r3.filter(function(e24) {
              return !(1 & e24);
            }), a3 = e23[t4.id] >> 1;
            function s4(e24) {
              for (var n5 = [], o5 = 0; o5 < r3.length; o5++) {
                var a4 = V_(e24, r3[o5]);
                if (i4[o5] == 2) {
                  var s5, u4 = bi(a4);
                  try {
                    for (u4.s(); !(s5 = u4.n()).done; ) {
                      var c4 = s5.value;
                      n5.push(c4);
                    }
                  } catch (e25) {
                    u4.e(e25);
                  } finally {
                    u4.f();
                  }
                } else
                  n5.push(a4);
              }
              return t4.combine(n5);
            }
            return { create: function(e24) {
              var t5, n5 = bi(r3);
              try {
                for (n5.s(); !(t5 = n5.n()).done; )
                  F_(e24, t5.value);
              } catch (e25) {
                n5.e(e25);
              } finally {
                n5.f();
              }
              return e24.values[a3] = s4(e24), 1;
            }, update: function(e24, n5) {
              if (!o4.some(function(t5) {
                return 1 & F_(e24, t5);
              }))
                return 0;
              var r4 = s4(e24);
              return t4.compare(r4, e24.values[a3]) ? 0 : (e24.values[a3] = r4, 1);
            }, reconfigure: function(e24, i5) {
              var o5 = r3.some(function(t5) {
                return 1 & F_(e24, t5);
              }), u4 = i5.config.facets[t4.id], c4 = i5.facet(t4);
              if (u4 && !o5 && __(n4, u4))
                return e24.values[a3] = c4, 0;
              var l3 = s4(e24);
              return t4.compare(l3, c4) ? (e24.values[a3] = c4, 0) : (e24.values[a3] = l3, 1);
            } };
          }(e22, n3, t3);
        });
      }
    };
    for (var y2 in a2)
      g2(y2);
    return new e20(t2, s2, h2.map(function(e21) {
      return e21(l2);
    }), l2, f2, a2);
  } }]), e20;
}();
function F_(e20, t2) {
  if (1 & t2)
    return 2;
  var n2 = t2 >> 1, r2 = e20.status[n2];
  if (r2 == 4)
    throw new Error("Cyclic dependency between fields and/or facets");
  if (2 & r2)
    return r2;
  e20.status[n2] = 4;
  var i2 = e20.computeSlot(e20, e20.config.dynamicSlots[n2]);
  return e20.status[n2] = 2 | i2;
}
function V_(e20, t2) {
  return 1 & t2 ? e20.config.staticValues[t2 >> 1] : e20.values[t2 >> 1];
}
var H_ = C_.define(), W_ = C_.define({ combine: function(e20) {
  return e20.some(function(e21) {
    return e21;
  });
}, static: true }), U_ = C_.define({ combine: function(e20) {
  return e20.length ? e20[0] : void 0;
}, static: true }), J_ = C_.define(), K_ = C_.define(), G_ = C_.define(), Q_ = C_.define({ combine: function(e20) {
  return !!e20.length && e20[0];
} }), Y_ = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.type = t2, this.value = n2;
  }
  return Li(e20, null, [{ key: "define", value: function() {
    return new Z_();
  } }]), e20;
}(), Z_ = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "of", value: function(e21) {
    return new Y_(this, e21);
  } }]), e20;
}(), X_ = function() {
  function e20(t2) {
    Ri(this, e20), this.map = t2;
  }
  return Li(e20, [{ key: "of", value: function(e21) {
    return new e$(this, e21);
  } }]), e20;
}(), e$ = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.type = t2, this.value = n2;
  }
  return Li(e20, [{ key: "map", value: function(t2) {
    var n2 = this.type.map(this.value, t2);
    return n2 === void 0 ? void 0 : n2 == this.value ? this : new e20(this.type, n2);
  } }, { key: "is", value: function(e21) {
    return this.type == e21;
  } }], [{ key: "define", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return new X_(e21.map || function(e22) {
      return e22;
    });
  } }, { key: "mapEffects", value: function(e21, t2) {
    if (!e21.length)
      return e21;
    var n2, r2 = [], i2 = bi(e21);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        var o2 = n2.value.map(t2);
        o2 && r2.push(o2);
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return r2;
  } }]), e20;
}();
e$.reconfigure = e$.define(), e$.appendConfig = e$.define();
var t$ = function() {
  function e20(t2, n2, r2, i2, o2, a2) {
    Ri(this, e20), this.startState = t2, this.changes = n2, this.selection = r2, this.effects = i2, this.annotations = o2, this.scrollIntoView = a2, this._doc = null, this._state = null, r2 && x_(r2, n2.newLength), o2.some(function(t3) {
      return t3.type == e20.time;
    }) || (this.annotations = o2.concat(e20.time.of(Date.now())));
  }
  return Li(e20, [{ key: "newDoc", get: function() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  } }, { key: "newSelection", get: function() {
    return this.selection || this.startState.selection.map(this.changes);
  } }, { key: "state", get: function() {
    return this._state || this.startState.applyTransaction(this), this._state;
  } }, { key: "annotation", value: function(e21) {
    var t2, n2 = bi(this.annotations);
    try {
      for (n2.s(); !(t2 = n2.n()).done; ) {
        var r2 = t2.value;
        if (r2.type == e21)
          return r2.value;
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
  } }, { key: "docChanged", get: function() {
    return !this.changes.empty;
  } }, { key: "reconfigured", get: function() {
    return this.startState.config != this.state.config;
  } }, { key: "isUserEvent", value: function(t2) {
    var n2 = this.annotation(e20.userEvent);
    return !(!n2 || !(n2 == t2 || n2.length > t2.length && n2.slice(0, t2.length) == t2 && n2[t2.length] == "."));
  } }]), e20;
}();
function n$(e20, t2) {
  for (var n2 = [], r2 = 0, i2 = 0; ; ) {
    var o2 = void 0, a2 = void 0;
    if (r2 < e20.length && (i2 == t2.length || t2[i2] >= e20[r2]))
      o2 = e20[r2++], a2 = e20[r2++];
    else {
      if (!(i2 < t2.length))
        return n2;
      o2 = t2[i2++], a2 = t2[i2++];
    }
    !n2.length || n2[n2.length - 1] < o2 ? n2.push(o2, a2) : n2[n2.length - 1] < a2 && (n2[n2.length - 1] = a2);
  }
}
function r$(e20, t2, n2) {
  var r2, i2, o2, a2;
  return n2 ? (i2 = t2.changes, o2 = d_.empty(t2.changes.length), a2 = e20.changes.compose(t2.changes)) : (i2 = t2.changes.map(e20.changes), o2 = e20.changes.mapDesc(t2.changes, true), a2 = e20.changes.compose(i2)), { changes: a2, selection: t2.selection ? t2.selection.map(o2) : (r2 = e20.selection) === null || r2 === void 0 ? void 0 : r2.map(i2), effects: e$.mapEffects(e20.effects, i2).concat(e$.mapEffects(t2.effects, o2)), annotations: e20.annotations.length ? e20.annotations.concat(t2.annotations) : t2.annotations, scrollIntoView: e20.scrollIntoView || t2.scrollIntoView };
}
function i$(e20, t2, n2) {
  var r2 = t2.selection, i2 = s$(t2.annotations);
  return t2.userEvent && (i2 = i2.concat(t$.userEvent.of(t2.userEvent))), { changes: t2.changes instanceof d_ ? t2.changes : d_.of(t2.changes || [], n2, e20.facet(U_)), selection: r2 && (r2 instanceof k_ ? r2 : k_.single(r2.anchor, r2.head)), effects: s$(t2.effects), annotations: i2, scrollIntoView: !!t2.scrollIntoView };
}
function o$(e20, t2, n2) {
  var r2 = i$(e20, t2.length ? t2[0] : {}, e20.doc.length);
  t2.length && t2[0].filter === false && (n2 = false);
  for (var i2 = 1; i2 < t2.length; i2++) {
    t2[i2].filter === false && (n2 = false);
    var o2 = !!t2[i2].sequential;
    r2 = r$(r2, i$(e20, t2[i2], o2 ? r2.changes.newLength : e20.doc.length), o2);
  }
  var a2 = new t$(e20, r2.changes, r2.selection, r2.effects, r2.annotations, r2.scrollIntoView);
  return function(e21) {
    for (var t3 = e21.startState, n3 = t3.facet(G_), r3 = e21, i3 = n3.length - 1; i3 >= 0; i3--) {
      var o3 = n3[i3](e21);
      o3 && Object.keys(o3).length && (r3 = r$(e21, i$(t3, o3, e21.changes.newLength), true));
    }
    return r3 == e21 ? e21 : new t$(t3, e21.changes, e21.selection, r3.effects, r3.annotations, r3.scrollIntoView);
  }(n2 ? function(e21) {
    var t3, n3 = e21.startState, r3 = true, i3 = bi(n3.facet(J_));
    try {
      for (i3.s(); !(t3 = i3.n()).done; ) {
        var o3 = (0, t3.value)(e21);
        if (o3 === false) {
          r3 = false;
          break;
        }
        Array.isArray(o3) && (r3 = r3 === true ? o3 : n$(r3, o3));
      }
    } catch (e22) {
      i3.e(e22);
    } finally {
      i3.f();
    }
    if (r3 !== true) {
      var a3, s2;
      if (r3 === false)
        s2 = e21.changes.invertedDesc, a3 = d_.empty(n3.doc.length);
      else {
        var u2 = e21.changes.filter(r3);
        a3 = u2.changes, s2 = u2.filtered.invertedDesc;
      }
      e21 = new t$(n3, a3, e21.selection && e21.selection.map(s2), e$.mapEffects(e21.effects, s2), e21.annotations, e21.scrollIntoView);
    }
    for (var c2 = n3.facet(K_), l2 = c2.length - 1; l2 >= 0; l2--) {
      var f2 = c2[l2](e21);
      e21 = f2 instanceof t$ ? f2 : Array.isArray(f2) && f2.length == 1 && f2[0] instanceof t$ ? f2[0] : o$(n3, s$(f2), false);
    }
    return e21;
  }(a2) : a2);
}
t$.time = Y_.define(), t$.userEvent = Y_.define(), t$.addToHistory = Y_.define(), t$.remote = Y_.define();
var a$ = [];
function s$(e20) {
  return e20 == null ? a$ : Array.isArray(e20) ? e20 : [e20];
}
var u$, c$ = function(e20) {
  return e20[e20.Word = 0] = "Word", e20[e20.Space = 1] = "Space", e20[e20.Other = 2] = "Other", e20;
}(c$ || (c$ = {})), l$ = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
try {
  u$ = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch (vj) {
}
function f$(e20) {
  return function(t2) {
    if (!/\S/.test(t2))
      return c$.Space;
    if (function(e21) {
      if (u$)
        return u$.test(e21);
      for (var t3 = 0; t3 < e21.length; t3++) {
        var n3 = e21[t3];
        if (/\w/.test(n3) || n3 > "\x80" && (n3.toUpperCase() != n3.toLowerCase() || l$.test(n3)))
          return true;
      }
      return false;
    }(t2))
      return c$.Word;
    for (var n2 = 0; n2 < e20.length; n2++)
      if (t2.indexOf(e20[n2]) > -1)
        return c$.Word;
    return c$.Other;
  };
}
var h$ = function() {
  function e20(t2, n2, r2, i2, o2, a2) {
    Ri(this, e20), this.config = t2, this.doc = n2, this.selection = r2, this.values = i2, this.status = t2.statusTemplate.slice(), this.computeSlot = o2, a2 && (a2._state = this);
    for (var s2 = 0; s2 < this.config.dynamicSlots.length; s2++)
      F_(this, s2 << 1);
    this.computeSlot = null;
  }
  return Li(e20, [{ key: "field", value: function(e21) {
    var t2 = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1], n2 = this.config.address[e21.id];
    if (n2 != null)
      return F_(this, n2), V_(this, n2);
    if (t2)
      throw new RangeError("Field is not present in this state");
  } }, { key: "update", value: function() {
    for (var e21 = arguments.length, t2 = new Array(e21), n2 = 0; n2 < e21; n2++)
      t2[n2] = arguments[n2];
    return o$(this, t2, true);
  } }, { key: "applyTransaction", value: function(t2) {
    var n2, r2, i2 = this, o2 = this.config, a2 = o2, s2 = a2.base, u2 = a2.compartments, c2 = bi(t2.effects);
    try {
      for (c2.s(); !(n2 = c2.n()).done; ) {
        var l2 = n2.value;
        l2.is(z_.reconfigure) ? (o2 && (u2 = /* @__PURE__ */ new Map(), o2.compartments.forEach(function(e21, t3) {
          return u2.set(t3, e21);
        }), o2 = null), u2.set(l2.value.compartment, l2.value.extension)) : l2.is(e$.reconfigure) ? (o2 = null, s2 = l2.value) : l2.is(e$.appendConfig) && (o2 = null, s2 = s$(s2).concat(l2.value));
      }
    } catch (e21) {
      c2.e(e21);
    } finally {
      c2.f();
    }
    o2 ? r2 = t2.startState.values.slice() : r2 = new e20(o2 = q_.resolve(s2, u2, this), this.doc, this.selection, o2.dynamicSlots.map(function() {
      return null;
    }), function(e21, t3) {
      return t3.reconfigure(e21, i2);
    }, null).values;
    new e20(o2, t2.newDoc, t2.newSelection, r2, function(e21, n3) {
      return n3.update(e21, t2);
    }, t2);
  } }, { key: "replaceSelection", value: function(e21) {
    return typeof e21 == "string" && (e21 = this.toText(e21)), this.changeByRange(function(t2) {
      return { changes: { from: t2.from, to: t2.to, insert: e21 }, range: k_.cursor(t2.from + e21.length) };
    });
  } }, { key: "changeByRange", value: function(e21) {
    for (var t2 = this.selection, n2 = e21(t2.ranges[0]), r2 = this.changes(n2.changes), i2 = [n2.range], o2 = s$(n2.effects), a2 = 1; a2 < t2.ranges.length; a2++) {
      for (var s2 = e21(t2.ranges[a2]), u2 = this.changes(s2.changes), c2 = u2.map(r2), l2 = 0; l2 < a2; l2++)
        i2[l2] = i2[l2].map(c2);
      var f2 = r2.mapDesc(u2, true);
      i2.push(s2.range.map(f2)), r2 = r2.compose(c2), o2 = e$.mapEffects(o2, c2).concat(e$.mapEffects(s$(s2.effects), f2));
    }
    return { changes: r2, selection: k_.create(i2, t2.mainIndex), effects: o2 };
  } }, { key: "changes", value: function() {
    var t2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return t2 instanceof d_ ? t2 : d_.of(t2, this.doc.length, this.facet(e20.lineSeparator));
  } }, { key: "toText", value: function(t2) {
    return e_.of(t2.split(this.facet(e20.lineSeparator) || l_));
  } }, { key: "sliceDoc", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.doc.length;
    return this.doc.sliceString(e21, t2, this.lineBreak);
  } }, { key: "facet", value: function(e21) {
    var t2 = this.config.address[e21.id];
    return t2 == null ? e21.default : (F_(this, t2), V_(this, t2));
  } }, { key: "toJSON", value: function(e21) {
    var t2 = { doc: this.sliceDoc(), selection: this.selection.toJSON() };
    if (e21)
      for (var n2 in e21) {
        var r2 = e21[n2];
        r2 instanceof A_ && (t2[n2] = r2.spec.toJSON(this.field(e21[n2]), this));
      }
    return t2;
  } }, { key: "tabSize", get: function() {
    return this.facet(e20.tabSize);
  } }, { key: "lineBreak", get: function() {
    return this.facet(e20.lineSeparator) || "\n";
  } }, { key: "readOnly", get: function() {
    return this.facet(Q_);
  } }, { key: "phrase", value: function(t2) {
    var n2, r2 = bi(this.facet(e20.phrases));
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        if (Object.prototype.hasOwnProperty.call(i2, t2))
          return i2[t2];
      }
    } catch (e21) {
      r2.e(e21);
    } finally {
      r2.f();
    }
    return t2;
  } }, { key: "languageDataAt", value: function(e21, t2) {
    var n2, r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1, i2 = [], o2 = bi(this.facet(H_));
    try {
      for (o2.s(); !(n2 = o2.n()).done; ) {
        var a2, s2 = n2.value, u2 = bi(s2(this, t2, r2));
        try {
          for (u2.s(); !(a2 = u2.n()).done; ) {
            var c2 = a2.value;
            Object.prototype.hasOwnProperty.call(c2, e21) && i2.push(c2[e21]);
          }
        } catch (e22) {
          u2.e(e22);
        } finally {
          u2.f();
        }
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    return i2;
  } }, { key: "charCategorizer", value: function(e21) {
    return f$(this.languageDataAt("wordChars", e21).join(""));
  } }, { key: "wordAt", value: function(e21) {
    for (var t2 = this.doc.lineAt(e21), n2 = t2.text, r2 = t2.from, i2 = t2.length, o2 = this.charCategorizer(e21), a2 = e21 - r2, s2 = e21 - r2; a2 > 0; ) {
      var u2 = HC(n2, a2, false);
      if (o2(n2.slice(u2, a2)) != c$.Word)
        break;
      a2 = u2;
    }
    for (; s2 < i2; ) {
      var c2 = HC(n2, s2);
      if (o2(n2.slice(s2, c2)) != c$.Word)
        break;
      s2 = c2;
    }
    return a2 == s2 ? null : k_.range(a2 + r2, s2 + r2);
  } }], [{ key: "fromJSON", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r2 = arguments.length > 2 ? arguments[2] : void 0;
    if (!t2 || typeof t2.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    var i2 = [];
    if (r2) {
      var o2 = function(e21) {
        var n3 = r2[e21], o3 = t2[e21];
        i2.push(n3.init(function(e22) {
          return n3.spec.fromJSON(o3, e22);
        }));
      };
      for (var a2 in r2)
        o2(a2);
    }
    return e20.create({ doc: t2.doc, selection: k_.fromJSON(t2.selection), extensions: n2.extensions ? i2.concat([n2.extensions]) : i2 });
  } }, { key: "create", value: function() {
    var t2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n2 = q_.resolve(t2.extensions || [], /* @__PURE__ */ new Map()), r2 = t2.doc instanceof e_ ? t2.doc : e_.of((t2.doc || "").split(n2.staticFacet(e20.lineSeparator) || l_)), i2 = t2.selection ? t2.selection instanceof k_ ? t2.selection : k_.single(t2.selection.anchor, t2.selection.head) : k_.single(0);
    return x_(i2, r2.length), n2.staticFacet(W_) || (i2 = i2.asSingle()), new e20(n2, r2, i2, n2.dynamicSlots.map(function() {
      return null;
    }), function(e21, t3) {
      return t3.create(e21);
    }, null);
  } }]), e20;
}();
function d$(e20, t2) {
  var n2, r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, i2 = {}, o2 = bi(e20);
  try {
    for (o2.s(); !(n2 = o2.n()).done; )
      for (var a2 = n2.value, s2 = 0, u2 = Object.keys(a2); s2 < u2.length; s2++) {
        var c2 = u2[s2], l2 = a2[c2], f2 = i2[c2];
        if (f2 === void 0)
          i2[c2] = l2;
        else if (f2 === l2 || l2 === void 0)
          ;
        else {
          if (!Object.hasOwnProperty.call(r2, c2))
            throw new Error("Config merge conflict for field " + c2);
          i2[c2] = r2[c2](f2, l2);
        }
      }
  } catch (e21) {
    o2.e(e21);
  } finally {
    o2.f();
  }
  for (var h2 in t2)
    i2[h2] === void 0 && (i2[h2] = t2[h2]);
  return i2;
}
h$.allowMultipleSelections = W_, h$.tabSize = C_.define({ combine: function(e20) {
  return e20.length ? e20[0] : 4;
} }), h$.lineSeparator = U_, h$.readOnly = Q_, h$.phrases = C_.define(), h$.languageData = H_, h$.changeFilter = J_, h$.transactionFilter = K_, h$.transactionExtender = G_, z_.reconfigure = e$.define();
var v$ = typeof Symbol == "undefined" ? "__\u037C" : Symbol.for("\u037C"), p$ = typeof Symbol == "undefined" ? "__styleSet" + Math.floor(1e8 * Math.random()) : Symbol("styleSet"), m$ = typeof globalThis != "undefined" ? globalThis : typeof window != "undefined" ? window : {}, g$ = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.rules = [];
    var r2 = (n2 || {}).finish;
    function i2(e21) {
      return /^@/.test(e21) ? [e21] : e21.split(/,\s*/);
    }
    function o2(e21, t3, n3, a3) {
      var s2 = [], u2 = /^@(\w+)\b/.exec(e21[0]), c2 = u2 && u2[1] == "keyframes";
      if (u2 && t3 == null)
        return n3.push(e21[0] + ";");
      for (var l2 in t3) {
        var f2 = t3[l2];
        if (/&/.test(l2))
          o2(l2.split(/,\s*/).map(function(t4) {
            return e21.map(function(e22) {
              return t4.replace(/&/, e22);
            });
          }).reduce(function(e22, t4) {
            return e22.concat(t4);
          }), f2, n3);
        else if (f2 && zi(f2) == "object") {
          if (!u2)
            throw new RangeError("The value of a property (" + l2 + ") should be a primitive value.");
          o2(i2(l2), f2, s2, c2);
        } else
          f2 != null && s2.push(l2.replace(/_.*/, "").replace(/[A-Z]/g, function(e22) {
            return "-" + e22.toLowerCase();
          }) + ": " + f2 + ";");
      }
      (s2.length || c2) && n3.push((!r2 || u2 || a3 ? e21 : e21.map(r2)).join(", ") + " {" + s2.join(" ") + "}");
    }
    for (var a2 in t2)
      o2(i2(a2), t2[a2], this.rules);
  }
  return Li(e20, [{ key: "getRules", value: function() {
    return this.rules.join("\n");
  } }], [{ key: "newName", value: function() {
    var e21 = m$[v$] || 1;
    return m$[v$] = e21 + 1, "\u037C" + e21.toString(36);
  } }, { key: "mount", value: function(e21, t2) {
    (e21[p$] || new b$(e21)).mount(Array.isArray(t2) ? t2 : [t2]);
  } }]), e20;
}(), y$ = null, b$ = function() {
  function e20(t2) {
    if (Ri(this, e20), !t2.head && t2.adoptedStyleSheets && typeof CSSStyleSheet != "undefined") {
      if (y$)
        return t2.adoptedStyleSheets = [y$.sheet].concat(t2.adoptedStyleSheets), t2[p$] = y$;
      this.sheet = new CSSStyleSheet(), t2.adoptedStyleSheets = [this.sheet].concat(t2.adoptedStyleSheets), y$ = this;
    } else {
      this.styleTag = (t2.ownerDocument || t2).createElement("style");
      var n2 = t2.head || t2;
      n2.insertBefore(this.styleTag, n2.firstChild);
    }
    this.modules = [], t2[p$] = this;
  }
  return Li(e20, [{ key: "mount", value: function(e21) {
    for (var t2 = this.sheet, n2 = 0, r2 = 0, i2 = 0; i2 < e21.length; i2++) {
      var o2 = e21[i2], a2 = this.modules.indexOf(o2);
      if (a2 < r2 && a2 > -1 && (this.modules.splice(a2, 1), r2--, a2 = -1), a2 == -1) {
        if (this.modules.splice(r2++, 0, o2), t2)
          for (var s2 = 0; s2 < o2.rules.length; s2++)
            t2.insertRule(o2.rules[s2], n2++);
      } else {
        for (; r2 < a2; )
          n2 += this.modules[r2++].rules.length;
        n2 += o2.rules.length, r2++;
      }
    }
    if (!t2) {
      for (var u2 = "", c2 = 0; c2 < this.modules.length; c2++)
        u2 += this.modules[c2].getRules() + "\n";
      this.styleTag.textContent = u2;
    }
  } }]), e20;
}(), w$ = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "eq", value: function(e21) {
    return this == e21;
  } }, { key: "range", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21;
    return new k$(e21, t2, this);
  } }]), e20;
}();
w$.prototype.startSide = w$.prototype.endSide = 0, w$.prototype.point = false, w$.prototype.mapMode = f_.TrackDel;
var k$ = Li(function e4(t2, n2, r2) {
  Ri(this, e4), this.from = t2, this.to = n2, this.value = r2;
});
function j$(e20, t2) {
  return e20.from - t2.from || e20.value.startSide - t2.value.startSide;
}
var x$ = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.value = r2, this.maxPoint = i2;
  }
  return Li(e20, [{ key: "length", get: function() {
    return this.to[this.to.length - 1];
  } }, { key: "findIndex", value: function(e21, t2, n2) {
    for (var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, i2 = n2 ? this.to : this.from, o2 = r2, a2 = i2.length; ; ) {
      if (o2 == a2)
        return o2;
      var s2 = o2 + a2 >> 1, u2 = i2[s2] - e21 || (n2 ? this.value[s2].endSide : this.value[s2].startSide) - t2;
      if (s2 == o2)
        return u2 >= 0 ? o2 : a2;
      u2 >= 0 ? a2 = s2 : o2 = s2 + 1;
    }
  } }, { key: "between", value: function(e21, t2, n2, r2) {
    for (var i2 = this.findIndex(t2, -1e9, true), o2 = this.findIndex(n2, 1e9, false, i2); i2 < o2; i2++)
      if (r2(this.from[i2] + e21, this.to[i2] + e21, this.value[i2]) === false)
        return false;
  } }, { key: "map", value: function(t2, n2) {
    for (var r2 = [], i2 = [], o2 = [], a2 = -1, s2 = -1, u2 = 0; u2 < this.value.length; u2++) {
      var c2 = this.value[u2], l2 = this.from[u2] + t2, f2 = this.to[u2] + t2, h2 = void 0, d2 = void 0;
      if (l2 == f2) {
        var v2 = n2.mapPos(l2, c2.startSide, c2.mapMode);
        if (v2 == null)
          continue;
        if (h2 = d2 = v2, c2.startSide != c2.endSide && (d2 = n2.mapPos(l2, c2.endSide)) < h2)
          continue;
      } else if ((h2 = n2.mapPos(l2, c2.startSide)) > (d2 = n2.mapPos(f2, c2.endSide)) || h2 == d2 && c2.startSide > 0 && c2.endSide <= 0)
        continue;
      (d2 - h2 || c2.endSide - c2.startSide) < 0 || (a2 < 0 && (a2 = h2), c2.point && (s2 = Math.max(s2, d2 - h2)), r2.push(c2), i2.push(h2 - a2), o2.push(d2 - a2));
    }
    return { mapped: r2.length ? new e20(i2, o2, r2, s2) : null, pos: a2 };
  } }]), e20;
}(), S$ = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e20.empty, i2 = arguments.length > 3 ? arguments[3] : void 0;
    Ri(this, e20), this.chunkPos = t2, this.chunk = n2, this.nextLayer = r2, this.maxPoint = i2;
  }
  return Li(e20, [{ key: "length", get: function() {
    var e21 = this.chunk.length - 1;
    return e21 < 0 ? 0 : Math.max(this.chunkEnd(e21), this.nextLayer.length);
  } }, { key: "size", get: function() {
    if (this.isEmpty)
      return 0;
    var e21, t2 = this.nextLayer.size, n2 = bi(this.chunk);
    try {
      for (n2.s(); !(e21 = n2.n()).done; ) {
        t2 += e21.value.value.length;
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
    return t2;
  } }, { key: "chunkEnd", value: function(e21) {
    return this.chunkPos[e21] + this.chunk[e21].length;
  } }, { key: "update", value: function(t2) {
    var n2 = t2.add, r2 = n2 === void 0 ? [] : n2, i2 = t2.sort, o2 = i2 !== void 0 && i2, a2 = t2.filterFrom, s2 = a2 === void 0 ? 0 : a2, u2 = t2.filterTo, c2 = u2 === void 0 ? this.length : u2, l2 = t2.filter;
    if (r2.length == 0 && !l2)
      return this;
    if (o2 && (r2 = r2.slice().sort(j$)), this.isEmpty)
      return r2.length ? e20.of(r2) : this;
    for (var f2 = new O$(this, null, -1).goto(0), h2 = 0, d2 = [], v2 = new _$(); f2.value || h2 < r2.length; )
      if (h2 < r2.length && (f2.from - r2[h2].from || f2.startSide - r2[h2].value.startSide) >= 0) {
        var p2 = r2[h2++];
        v2.addInner(p2.from, p2.to, p2.value) || d2.push(p2);
      } else
        f2.rangeIndex == 1 && f2.chunkIndex < this.chunk.length && (h2 == r2.length || this.chunkEnd(f2.chunkIndex) < r2[h2].from) && (!l2 || s2 > this.chunkEnd(f2.chunkIndex) || c2 < this.chunkPos[f2.chunkIndex]) && v2.addChunk(this.chunkPos[f2.chunkIndex], this.chunk[f2.chunkIndex]) ? f2.nextChunk() : ((!l2 || s2 > f2.to || c2 < f2.from || l2(f2.from, f2.to, f2.value)) && (v2.addInner(f2.from, f2.to, f2.value) || d2.push(new k$(f2.from, f2.to, f2.value))), f2.next());
    return v2.finishInner(this.nextLayer.isEmpty && !d2.length ? e20.empty : this.nextLayer.update({ add: d2, filter: l2, filterFrom: s2, filterTo: c2 }));
  } }, { key: "map", value: function(t2) {
    if (t2.empty || this.isEmpty)
      return this;
    for (var n2 = [], r2 = [], i2 = -1, o2 = 0; o2 < this.chunk.length; o2++) {
      var a2 = this.chunkPos[o2], s2 = this.chunk[o2], u2 = t2.touchesRange(a2, a2 + s2.length);
      if (u2 === false)
        i2 = Math.max(i2, s2.maxPoint), n2.push(s2), r2.push(t2.mapPos(a2));
      else if (u2 === true) {
        var c2 = s2.map(a2, t2), l2 = c2.mapped, f2 = c2.pos;
        l2 && (i2 = Math.max(i2, l2.maxPoint), n2.push(l2), r2.push(f2));
      }
    }
    var h2 = this.nextLayer.map(t2);
    return n2.length == 0 ? h2 : new e20(r2, n2, h2, i2);
  } }, { key: "between", value: function(e21, t2, n2) {
    if (!this.isEmpty) {
      for (var r2 = 0; r2 < this.chunk.length; r2++) {
        var i2 = this.chunkPos[r2], o2 = this.chunk[r2];
        if (t2 >= i2 && e21 <= i2 + o2.length && o2.between(i2, e21 - i2, t2 - i2, n2) === false)
          return;
      }
      this.nextLayer.between(e21, t2, n2);
    }
  } }, { key: "iter", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
    return P$.from([this]).goto(e21);
  } }, { key: "isEmpty", get: function() {
    return this.nextLayer == this;
  } }], [{ key: "iter", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return P$.from(e21).goto(t2);
  } }, { key: "compare", value: function(e21, t2, n2, r2) {
    var i2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : -1, o2 = e21.filter(function(e22) {
      return e22.maxPoint > 0 || !e22.isEmpty && e22.maxPoint >= i2;
    }), a2 = t2.filter(function(e22) {
      return e22.maxPoint > 0 || !e22.isEmpty && e22.maxPoint >= i2;
    }), s2 = $$(o2, a2, n2), u2 = new E$(o2, s2, i2), c2 = new E$(a2, s2, i2);
    n2.iterGaps(function(e22, t3, n3) {
      return M$(u2, e22, c2, t3, n3, r2);
    }), n2.empty && n2.length == 0 && M$(u2, 0, c2, 0, 0, r2);
  } }, { key: "eq", value: function(e21, t2) {
    var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r2 = arguments.length > 3 ? arguments[3] : void 0;
    r2 == null && (r2 = 1e9);
    var i2 = e21.filter(function(e22) {
      return !e22.isEmpty && t2.indexOf(e22) < 0;
    }), o2 = t2.filter(function(t3) {
      return !t3.isEmpty && e21.indexOf(t3) < 0;
    });
    if (i2.length != o2.length)
      return false;
    if (!i2.length)
      return true;
    for (var a2 = $$(i2, o2), s2 = new E$(i2, a2, 0).goto(n2), u2 = new E$(o2, a2, 0).goto(n2); ; ) {
      if (s2.to != u2.to || !T$(s2.active, u2.active) || s2.point && (!u2.point || !s2.point.eq(u2.point)))
        return false;
      if (s2.to > r2)
        return true;
      s2.next(), u2.next();
    }
  } }, { key: "spans", value: function(e21, t2, n2, r2) {
    for (var i2, o2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : -1, a2 = new E$(e21, null, o2, (i2 = r2.filterPoint) === null || i2 === void 0 ? void 0 : i2.bind(r2)).goto(t2), s2 = t2, u2 = a2.openStart; ; ) {
      var c2 = Math.min(a2.to, n2);
      if (a2.point ? (r2.point(s2, c2, a2.point, a2.activeForPoint(a2.to), u2), u2 = a2.openEnd(c2) + (a2.to > c2 ? 1 : 0)) : c2 > s2 && (r2.span(s2, c2, a2.active, u2), u2 = a2.openEnd(c2)), a2.to > n2)
        break;
      s2 = a2.to, a2.next();
    }
    return u2;
  } }, { key: "of", value: function(e21) {
    var t2, n2 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], r2 = new _$(), i2 = bi(e21 instanceof k$ ? [e21] : n2 ? C$(e21) : e21);
    try {
      for (i2.s(); !(t2 = i2.n()).done; ) {
        var o2 = t2.value;
        r2.add(o2.from, o2.to, o2.value);
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return r2.finish();
  } }]), e20;
}();
function C$(e20) {
  if (e20.length > 1)
    for (var t2 = e20[0], n2 = 1; n2 < e20.length; n2++) {
      var r2 = e20[n2];
      if (j$(t2, r2) > 0)
        return e20.slice().sort(j$);
      t2 = r2;
    }
  return e20;
}
S$.empty = new S$([], [], null, -1), S$.empty.nextLayer = S$.empty;
var _$ = function() {
  function e20() {
    Ri(this, e20), this.chunks = [], this.chunkPos = [], this.chunkStart = -1, this.last = null, this.lastFrom = -1e9, this.lastTo = -1e9, this.from = [], this.to = [], this.value = [], this.maxPoint = -1, this.setMaxPoint = -1, this.nextLayer = null;
  }
  return Li(e20, [{ key: "finishChunk", value: function(e21) {
    this.chunks.push(new x$(this.from, this.to, this.value, this.maxPoint)), this.chunkPos.push(this.chunkStart), this.chunkStart = -1, this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint), this.maxPoint = -1, e21 && (this.from = [], this.to = [], this.value = []);
  } }, { key: "add", value: function(t2, n2, r2) {
    this.addInner(t2, n2, r2) || (this.nextLayer || (this.nextLayer = new e20())).add(t2, n2, r2);
  } }, { key: "addInner", value: function(e21, t2, n2) {
    var r2 = e21 - this.lastTo || n2.startSide - this.last.endSide;
    if (r2 <= 0 && (e21 - this.lastFrom || n2.startSide - this.last.startSide) < 0)
      throw new Error("Ranges must be added sorted by `from` position and `startSide`");
    return !(r2 < 0) && (this.from.length == 250 && this.finishChunk(true), this.chunkStart < 0 && (this.chunkStart = e21), this.from.push(e21 - this.chunkStart), this.to.push(t2 - this.chunkStart), this.last = n2, this.lastFrom = e21, this.lastTo = t2, this.value.push(n2), n2.point && (this.maxPoint = Math.max(this.maxPoint, t2 - e21)), true);
  } }, { key: "addChunk", value: function(e21, t2) {
    if ((e21 - this.lastTo || t2.value[0].startSide - this.last.endSide) < 0)
      return false;
    this.from.length && this.finishChunk(true), this.setMaxPoint = Math.max(this.setMaxPoint, t2.maxPoint), this.chunks.push(t2), this.chunkPos.push(e21);
    var n2 = t2.value.length - 1;
    return this.last = t2.value[n2], this.lastFrom = t2.from[n2] + e21, this.lastTo = t2.to[n2] + e21, true;
  } }, { key: "finish", value: function() {
    return this.finishInner(S$.empty);
  } }, { key: "finishInner", value: function(e21) {
    if (this.from.length && this.finishChunk(false), this.chunks.length == 0)
      return e21;
    var t2 = new S$(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(e21) : e21, this.setMaxPoint);
    return this.from = null, t2;
  } }]), e20;
}();
function $$(e20, t2, n2) {
  var r2, i2 = /* @__PURE__ */ new Map(), o2 = bi(e20);
  try {
    for (o2.s(); !(r2 = o2.n()).done; )
      for (var a2 = r2.value, s2 = 0; s2 < a2.chunk.length; s2++)
        a2.chunk[s2].maxPoint <= 0 && i2.set(a2.chunk[s2], a2.chunkPos[s2]);
  } catch (e21) {
    o2.e(e21);
  } finally {
    o2.f();
  }
  var u2, c2 = /* @__PURE__ */ new Set(), l2 = bi(t2);
  try {
    for (l2.s(); !(u2 = l2.n()).done; )
      for (var f2 = u2.value, h2 = 0; h2 < f2.chunk.length; h2++) {
        var d2 = i2.get(f2.chunk[h2]);
        d2 == null || (n2 ? n2.mapPos(d2) : d2) != f2.chunkPos[h2] || (n2 == null ? void 0 : n2.touchesRange(d2, d2 + f2.chunk[h2].length)) || c2.add(f2.chunk[h2]);
      }
  } catch (e21) {
    l2.e(e21);
  } finally {
    l2.f();
  }
  return c2;
}
var O$ = function() {
  function e20(t2, n2, r2) {
    var i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
    Ri(this, e20), this.layer = t2, this.skip = n2, this.minPoint = r2, this.rank = i2;
  }
  return Li(e20, [{ key: "startSide", get: function() {
    return this.value ? this.value.startSide : 0;
  } }, { key: "endSide", get: function() {
    return this.value ? this.value.endSide : 0;
  } }, { key: "goto", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9;
    return this.chunkIndex = this.rangeIndex = 0, this.gotoInner(e21, t2, false), this;
  } }, { key: "gotoInner", value: function(e21, t2, n2) {
    for (; this.chunkIndex < this.layer.chunk.length; ) {
      var r2 = this.layer.chunk[this.chunkIndex];
      if (!(this.skip && this.skip.has(r2) || this.layer.chunkEnd(this.chunkIndex) < e21 || r2.maxPoint < this.minPoint))
        break;
      this.chunkIndex++, n2 = false;
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      var i2 = this.layer.chunk[this.chunkIndex].findIndex(e21 - this.layer.chunkPos[this.chunkIndex], t2, true);
      (!n2 || this.rangeIndex < i2) && this.setRangeIndex(i2);
    }
    this.next();
  } }, { key: "forward", value: function(e21, t2) {
    (this.to - e21 || this.endSide - t2) < 0 && this.gotoInner(e21, t2, true);
  } }, { key: "next", value: function() {
    for (; ; ) {
      if (this.chunkIndex == this.layer.chunk.length) {
        this.from = this.to = 1e9, this.value = null;
        break;
      }
      var e21 = this.layer.chunkPos[this.chunkIndex], t2 = this.layer.chunk[this.chunkIndex], n2 = e21 + t2.from[this.rangeIndex];
      if (this.from = n2, this.to = e21 + t2.to[this.rangeIndex], this.value = t2.value[this.rangeIndex], this.setRangeIndex(this.rangeIndex + 1), this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)
        break;
    }
  } }, { key: "setRangeIndex", value: function(e21) {
    if (e21 == this.layer.chunk[this.chunkIndex].value.length) {
      if (this.chunkIndex++, this.skip)
        for (; this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]); )
          this.chunkIndex++;
      this.rangeIndex = 0;
    } else
      this.rangeIndex = e21;
  } }, { key: "nextChunk", value: function() {
    this.chunkIndex++, this.rangeIndex = 0, this.next();
  } }, { key: "compare", value: function(e21) {
    return this.from - e21.from || this.startSide - e21.startSide || this.rank - e21.rank || this.to - e21.to || this.endSide - e21.endSide;
  } }]), e20;
}(), P$ = function() {
  function e20(t2) {
    Ri(this, e20), this.heap = t2;
  }
  return Li(e20, [{ key: "startSide", get: function() {
    return this.value ? this.value.startSide : 0;
  } }, { key: "goto", value: function(e21) {
    var t2, n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9, r2 = bi(this.heap);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value;
        i2.goto(e21, n2);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    for (var o2 = this.heap.length >> 1; o2 >= 0; o2--)
      A$(this.heap, o2);
    return this.next(), this;
  } }, { key: "forward", value: function(e21, t2) {
    var n2, r2 = bi(this.heap);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        n2.value.forward(e21, t2);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    for (var i2 = this.heap.length >> 1; i2 >= 0; i2--)
      A$(this.heap, i2);
    (this.to - e21 || this.value.endSide - t2) < 0 && this.next();
  } }, { key: "next", value: function() {
    if (this.heap.length == 0)
      this.from = this.to = 1e9, this.value = null, this.rank = -1;
    else {
      var e21 = this.heap[0];
      this.from = e21.from, this.to = e21.to, this.value = e21.value, this.rank = e21.rank, e21.value && e21.next(), A$(this.heap, 0);
    }
  } }], [{ key: "from", value: function(t2) {
    for (var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1, i2 = [], o2 = 0; o2 < t2.length; o2++)
      for (var a2 = t2[o2]; !a2.isEmpty; a2 = a2.nextLayer)
        a2.maxPoint >= r2 && i2.push(new O$(a2, n2, r2, o2));
    return i2.length == 1 ? i2[0] : new e20(i2);
  } }]), e20;
}();
function A$(e20, t2) {
  for (var n2 = e20[t2]; ; ) {
    var r2 = 1 + (t2 << 1);
    if (r2 >= e20.length)
      break;
    var i2 = e20[r2];
    if (r2 + 1 < e20.length && i2.compare(e20[r2 + 1]) >= 0 && (i2 = e20[r2 + 1], r2++), n2.compare(i2) < 0)
      break;
    e20[r2] = n2, e20[t2] = i2, t2 = r2;
  }
}
var E$ = function() {
  function e20(t2, n2, r2) {
    var i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : function() {
      return true;
    };
    Ri(this, e20), this.minPoint = r2, this.filterPoint = i2, this.active = [], this.activeTo = [], this.activeRank = [], this.minActive = -1, this.point = null, this.pointFrom = 0, this.pointRank = 0, this.to = -1e9, this.endSide = 0, this.openStart = -1, this.cursor = P$.from(t2, n2, r2);
  }
  return Li(e20, [{ key: "goto", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9;
    return this.cursor.goto(e21, t2), this.active.length = this.activeTo.length = this.activeRank.length = 0, this.minActive = -1, this.to = e21, this.endSide = t2, this.openStart = -1, this.next(), this;
  } }, { key: "forward", value: function(e21, t2) {
    for (; this.minActive > -1 && (this.activeTo[this.minActive] - e21 || this.active[this.minActive].endSide - t2) < 0; )
      this.removeActive(this.minActive);
    this.cursor.forward(e21, t2);
  } }, { key: "removeActive", value: function(e21) {
    I$(this.active, e21), I$(this.activeTo, e21), I$(this.activeRank, e21), this.minActive = R$(this.active, this.activeTo);
  } }, { key: "addActive", value: function(e21) {
    for (var t2 = 0, n2 = this.cursor, r2 = n2.value, i2 = n2.to, o2 = n2.rank; t2 < this.activeRank.length && this.activeRank[t2] <= o2; )
      t2++;
    N$(this.active, t2, r2), N$(this.activeTo, t2, i2), N$(this.activeRank, t2, o2), e21 && N$(e21, t2, this.cursor.from), this.minActive = R$(this.active, this.activeTo);
  } }, { key: "next", value: function() {
    var e21 = this.to, t2 = this.point;
    this.point = null;
    for (var n2 = this.openStart < 0 ? [] : null, r2 = 0; ; ) {
      var i2 = this.minActive;
      if (i2 > -1 && (this.activeTo[i2] - this.cursor.from || this.active[i2].endSide - this.cursor.startSide) < 0) {
        if (this.activeTo[i2] > e21) {
          this.to = this.activeTo[i2], this.endSide = this.active[i2].endSide;
          break;
        }
        this.removeActive(i2), n2 && I$(n2, i2);
      } else {
        if (!this.cursor.value) {
          this.to = this.endSide = 1e9;
          break;
        }
        if (this.cursor.from > e21) {
          this.to = this.cursor.from, this.endSide = this.cursor.startSide;
          break;
        }
        var o2 = this.cursor.value;
        if (o2.point)
          if (t2 && this.cursor.to == this.to && this.cursor.from < this.cursor.to)
            this.cursor.next();
          else {
            if (this.filterPoint(this.cursor.from, this.cursor.to, this.cursor.value, this.cursor.rank)) {
              this.point = o2, this.pointFrom = this.cursor.from, this.pointRank = this.cursor.rank, this.to = this.cursor.to, this.endSide = o2.endSide, this.cursor.from < e21 && (r2 = 1), this.cursor.next(), this.forward(this.to, this.endSide);
              break;
            }
            this.cursor.next();
          }
        else
          this.addActive(n2), this.cursor.next();
      }
    }
    if (n2) {
      for (var a2 = 0; a2 < n2.length && n2[a2] < e21; )
        a2++;
      this.openStart = a2 + r2;
    }
  } }, { key: "activeForPoint", value: function(e21) {
    if (!this.active.length)
      return this.active;
    for (var t2 = [], n2 = this.active.length - 1; n2 >= 0 && !(this.activeRank[n2] < this.pointRank); n2--)
      (this.activeTo[n2] > e21 || this.activeTo[n2] == e21 && this.active[n2].endSide >= this.point.endSide) && t2.push(this.active[n2]);
    return t2.reverse();
  } }, { key: "openEnd", value: function(e21) {
    for (var t2 = 0, n2 = this.activeTo.length - 1; n2 >= 0 && this.activeTo[n2] > e21; n2--)
      t2++;
    return t2;
  } }]), e20;
}();
function M$(e20, t2, n2, r2, i2, o2) {
  e20.goto(t2), n2.goto(r2);
  for (var a2 = r2 + i2, s2 = r2, u2 = r2 - t2; ; ) {
    var c2 = e20.to + u2 - n2.to || e20.endSide - n2.endSide, l2 = c2 < 0 ? e20.to + u2 : n2.to, f2 = Math.min(l2, a2);
    if (e20.point || n2.point ? e20.point && n2.point && (e20.point == n2.point || e20.point.eq(n2.point)) && T$(e20.activeForPoint(e20.to + u2), n2.activeForPoint(n2.to)) || o2.comparePoint(s2, f2, e20.point, n2.point) : f2 > s2 && !T$(e20.active, n2.active) && o2.compareRange(s2, f2, e20.active, n2.active), l2 > a2)
      break;
    s2 = l2, c2 <= 0 && e20.next(), c2 >= 0 && n2.next();
  }
}
function T$(e20, t2) {
  if (e20.length != t2.length)
    return false;
  for (var n2 = 0; n2 < e20.length; n2++)
    if (e20[n2] != t2[n2] && !e20[n2].eq(t2[n2]))
      return false;
  return true;
}
function I$(e20, t2) {
  for (var n2 = t2, r2 = e20.length - 1; n2 < r2; n2++)
    e20[n2] = e20[n2 + 1];
  e20.pop();
}
function N$(e20, t2, n2) {
  for (var r2 = e20.length - 1; r2 >= t2; r2--)
    e20[r2 + 1] = e20[r2];
  e20[t2] = n2;
}
function R$(e20, t2) {
  for (var n2 = -1, r2 = 1e9, i2 = 0; i2 < t2.length; i2++)
    (t2[i2] - r2 || e20[i2].endSide - e20[n2].endSide) < 0 && (n2 = i2, r2 = t2[i2]);
  return n2;
}
for (var D$ = { 8: "Backspace", 9: "Tab", 10: "Enter", 12: "NumLock", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 44: "PrintScreen", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Meta", 92: "Meta", 106: "*", 107: "+", 108: ",", 109: "-", 110: ".", 111: "/", 144: "NumLock", 145: "ScrollLock", 160: "Shift", 161: "Shift", 162: "Control", 163: "Control", 164: "Alt", 165: "Alt", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 229: "q" }, L$ = { 48: ")", 49: "!", 50: "@", 51: "#", 52: "$", 53: "%", 54: "^", 55: "&", 56: "*", 57: "(", 59: ":", 61: "+", 173: "_", 186: ":", 187: "+", 188: "<", 189: "_", 190: ">", 191: "?", 192: "~", 219: "{", 220: "|", 221: "}", 222: '"', 229: "Q" }, z$ = typeof navigator != "undefined" && /Chrome\/(\d+)/.exec(navigator.userAgent), B$ = typeof navigator != "undefined" && /Apple Computer/.test(navigator.vendor), q$ = typeof navigator != "undefined" && /Gecko\/\d+/.test(navigator.userAgent), F$ = typeof navigator != "undefined" && /Mac/.test(navigator.platform), V$ = typeof navigator != "undefined" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent), H$ = z$ && (F$ || +z$[1] < 57) || q$ && F$, W$ = 0; W$ < 10; W$++)
  D$[48 + W$] = D$[96 + W$] = String(W$);
for (W$ = 1; W$ <= 24; W$++)
  D$[W$ + 111] = "F" + W$;
for (W$ = 65; W$ <= 90; W$++)
  D$[W$] = String.fromCharCode(W$ + 32), L$[W$] = String.fromCharCode(W$);
for (var U$ in D$)
  L$.hasOwnProperty(U$) || (L$[U$] = D$[U$]);
function J$(e20) {
  return (e20.nodeType == 11 ? e20.getSelection ? e20 : e20.ownerDocument : e20).getSelection();
}
function K$(e20, t2) {
  return !!t2 && (e20 == t2 || e20.contains(t2.nodeType != 1 ? t2.parentNode : t2));
}
function G$(e20, t2) {
  if (!t2.anchorNode)
    return false;
  try {
    return K$(e20, t2.anchorNode);
  } catch (e21) {
    return false;
  }
}
function Q$(e20) {
  return e20.nodeType == 3 ? uO(e20, 0, e20.nodeValue.length).getClientRects() : e20.nodeType == 1 ? e20.getClientRects() : [];
}
function Y$(e20, t2, n2, r2) {
  return !!n2 && (X$(e20, t2, n2, r2, -1) || X$(e20, t2, n2, r2, 1));
}
function Z$(e20) {
  for (var t2 = 0; ; t2++)
    if (!(e20 = e20.previousSibling))
      return t2;
}
function X$(e20, t2, n2, r2, i2) {
  for (; ; ) {
    if (e20 == n2 && t2 == r2)
      return true;
    if (t2 == (i2 < 0 ? 0 : eO(e20))) {
      if (e20.nodeName == "DIV")
        return false;
      var o2 = e20.parentNode;
      if (!o2 || o2.nodeType != 1)
        return false;
      t2 = Z$(e20) + (i2 < 0 ? 0 : 1), e20 = o2;
    } else {
      if (e20.nodeType != 1)
        return false;
      if ((e20 = e20.childNodes[t2 + (i2 < 0 ? -1 : 0)]).nodeType == 1 && e20.contentEditable == "false")
        return false;
      t2 = i2 < 0 ? eO(e20) : 0;
    }
  }
}
function eO(e20) {
  return e20.nodeType == 3 ? e20.nodeValue.length : e20.childNodes.length;
}
var tO = { left: 0, right: 0, top: 0, bottom: 0 };
function nO(e20, t2) {
  var n2 = t2 ? e20.left : e20.right;
  return { left: n2, right: n2, top: e20.top, bottom: e20.bottom };
}
function rO(e20) {
  return { left: 0, right: e20.innerWidth, top: 0, bottom: e20.innerHeight };
}
var iO, oO = function() {
  function e20() {
    Ri(this, e20), this.anchorNode = null, this.anchorOffset = 0, this.focusNode = null, this.focusOffset = 0;
  }
  return Li(e20, [{ key: "eq", value: function(e21) {
    return this.anchorNode == e21.anchorNode && this.anchorOffset == e21.anchorOffset && this.focusNode == e21.focusNode && this.focusOffset == e21.focusOffset;
  } }, { key: "setRange", value: function(e21) {
    this.set(e21.anchorNode, e21.anchorOffset, e21.focusNode, e21.focusOffset);
  } }, { key: "set", value: function(e21, t2, n2, r2) {
    this.anchorNode = e21, this.anchorOffset = t2, this.focusNode = n2, this.focusOffset = r2;
  } }]), e20;
}(), aO = null;
function sO(e20) {
  if (e20.setActive)
    return e20.setActive();
  if (aO)
    return e20.focus(aO);
  for (var t2 = [], n2 = e20; n2 && (t2.push(n2, n2.scrollTop, n2.scrollLeft), n2 != n2.ownerDocument); n2 = n2.parentNode)
    ;
  if (e20.focus(aO == null ? { get preventScroll() {
    return aO = { preventScroll: true }, true;
  } } : void 0), !aO) {
    aO = false;
    for (var r2 = 0; r2 < t2.length; ) {
      var i2 = t2[r2++], o2 = t2[r2++], a2 = t2[r2++];
      i2.scrollTop != o2 && (i2.scrollTop = o2), i2.scrollLeft != a2 && (i2.scrollLeft = a2);
    }
  }
}
function uO(e20, t2) {
  var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t2, r2 = iO || (iO = document.createRange());
  return r2.setEnd(e20, n2), r2.setStart(e20, t2), r2;
}
function cO(e20, t2, n2) {
  var r2 = { key: t2, code: t2, keyCode: n2, which: n2, cancelable: true }, i2 = new KeyboardEvent("keydown", r2);
  i2.synthetic = true, e20.dispatchEvent(i2);
  var o2 = new KeyboardEvent("keyup", r2);
  return o2.synthetic = true, e20.dispatchEvent(o2), i2.defaultPrevented || o2.defaultPrevented;
}
function lO(e20) {
  for (; e20; ) {
    if (e20 && (e20.nodeType == 9 || e20.nodeType == 11 && e20.host))
      return e20;
    e20 = e20.assignedSlot || e20.parentNode;
  }
  return null;
}
function fO(e20) {
  for (; e20.attributes.length; )
    e20.removeAttributeNode(e20.attributes[0]);
}
var hO = function() {
  function e20(t2, n2) {
    var r2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2];
    Ri(this, e20), this.node = t2, this.offset = n2, this.precise = r2;
  }
  return Li(e20, null, [{ key: "before", value: function(t2, n2) {
    return new e20(t2.parentNode, Z$(t2), n2);
  } }, { key: "after", value: function(t2, n2) {
    return new e20(t2.parentNode, Z$(t2) + 1, n2);
  } }]), e20;
}(), dO = [], vO = function() {
  function e20() {
    Ri(this, e20), this.parent = null, this.dom = null, this.dirty = 2;
  }
  return Li(e20, [{ key: "editorView", get: function() {
    if (!this.parent)
      throw new Error("Accessing view in orphan content view");
    return this.parent.editorView;
  } }, { key: "overrideDOMText", get: function() {
    return null;
  } }, { key: "posAtStart", get: function() {
    return this.parent ? this.parent.posBefore(this) : 0;
  } }, { key: "posAtEnd", get: function() {
    return this.posAtStart + this.length;
  } }, { key: "posBefore", value: function(e21) {
    var t2, n2 = this.posAtStart, r2 = bi(this.children);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value;
        if (i2 == e21)
          return n2;
        n2 += i2.length + i2.breakAfter;
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    throw new RangeError("Invalid child in posBefore");
  } }, { key: "posAfter", value: function(e21) {
    return this.posBefore(e21) + e21.length;
  } }, { key: "coordsAt", value: function(e21, t2) {
    return null;
  } }, { key: "sync", value: function(t2) {
    if (2 & this.dirty) {
      var n2, r2, i2 = this.dom, o2 = null, a2 = bi(this.children);
      try {
        for (a2.s(); !(r2 = a2.n()).done; ) {
          var s2 = r2.value;
          if (s2.dirty) {
            if (!s2.dom && (n2 = o2 ? o2.nextSibling : i2.firstChild)) {
              var u2 = e20.get(n2);
              u2 && (u2.parent || u2.constructor != s2.constructor) || s2.reuseDOM(n2);
            }
            s2.sync(t2), s2.dirty = 0;
          }
          if (n2 = o2 ? o2.nextSibling : i2.firstChild, t2 && !t2.written && t2.node == i2 && n2 != s2.dom && (t2.written = true), s2.dom.parentNode == i2)
            for (; n2 && n2 != s2.dom; )
              n2 = pO(n2);
          else
            i2.insertBefore(s2.dom, n2);
          o2 = s2.dom;
        }
      } catch (e21) {
        a2.e(e21);
      } finally {
        a2.f();
      }
      for ((n2 = o2 ? o2.nextSibling : i2.firstChild) && t2 && t2.node == i2 && (t2.written = true); n2; )
        n2 = pO(n2);
    } else if (1 & this.dirty) {
      var c2, l2 = bi(this.children);
      try {
        for (l2.s(); !(c2 = l2.n()).done; ) {
          var f2 = c2.value;
          f2.dirty && (f2.sync(t2), f2.dirty = 0);
        }
      } catch (e21) {
        l2.e(e21);
      } finally {
        l2.f();
      }
    }
  } }, { key: "reuseDOM", value: function(e21) {
  } }, { key: "localPosFromDOM", value: function(t2, n2) {
    var r2;
    if (t2 == this.dom)
      r2 = this.dom.childNodes[n2];
    else {
      for (var i2 = eO(t2) == 0 ? 0 : n2 == 0 ? -1 : 1; ; ) {
        var o2 = t2.parentNode;
        if (o2 == this.dom)
          break;
        i2 == 0 && o2.firstChild != o2.lastChild && (i2 = t2 == o2.firstChild ? -1 : 1), t2 = o2;
      }
      r2 = i2 < 0 ? t2 : t2.nextSibling;
    }
    if (r2 == this.dom.firstChild)
      return 0;
    for (; r2 && !e20.get(r2); )
      r2 = r2.nextSibling;
    if (!r2)
      return this.length;
    for (var a2 = 0, s2 = 0; ; a2++) {
      var u2 = this.children[a2];
      if (u2.dom == r2)
        return s2;
      s2 += u2.length + u2.breakAfter;
    }
  } }, { key: "domBoundsAround", value: function(e21, t2) {
    for (var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r2 = -1, i2 = -1, o2 = -1, a2 = -1, s2 = 0, u2 = n2, c2 = n2; s2 < this.children.length; s2++) {
      var l2 = this.children[s2], f2 = u2 + l2.length;
      if (u2 < e21 && f2 > t2)
        return l2.domBoundsAround(e21, t2, u2);
      if (f2 >= e21 && r2 == -1 && (r2 = s2, i2 = u2), u2 > t2 && l2.dom.parentNode == this.dom) {
        o2 = s2, a2 = c2;
        break;
      }
      c2 = f2, u2 = f2 + l2.breakAfter;
    }
    return { from: i2, to: a2 < 0 ? n2 + this.length : a2, startDOM: (r2 ? this.children[r2 - 1].dom.nextSibling : null) || this.dom.firstChild, endDOM: o2 < this.children.length && o2 >= 0 ? this.children[o2].dom : null };
  } }, { key: "markDirty", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 && arguments[0];
    this.dirty |= 2, this.markParentsDirty(e21);
  } }, { key: "markParentsDirty", value: function(e21) {
    for (var t2 = this.parent; t2; t2 = t2.parent) {
      if (e21 && (t2.dirty |= 2), 1 & t2.dirty)
        return;
      t2.dirty |= 1, e21 = false;
    }
  } }, { key: "setParent", value: function(e21) {
    this.parent != e21 && (this.parent = e21, this.dirty && this.markParentsDirty(true));
  } }, { key: "setDOM", value: function(e21) {
    this.dom && (this.dom.cmView = null), this.dom = e21, e21.cmView = this;
  } }, { key: "rootView", get: function() {
    for (var e21 = this; ; ) {
      var t2 = e21.parent;
      if (!t2)
        return e21;
      e21 = t2;
    }
  } }, { key: "replaceChildren", value: function(e21, t2) {
    var n2, r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : dO;
    this.markDirty();
    for (var i2 = e21; i2 < t2; i2++) {
      var o2 = this.children[i2];
      o2.parent == this && o2.destroy();
    }
    (n2 = this.children).splice.apply(n2, [e21, t2 - e21].concat(Ti(r2)));
    for (var a2 = 0; a2 < r2.length; a2++)
      r2[a2].setParent(this);
  } }, { key: "ignoreMutation", value: function(e21) {
    return false;
  } }, { key: "ignoreEvent", value: function(e21) {
    return false;
  } }, { key: "childCursor", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.length;
    return new mO(this.children, e21, this.children.length);
  } }, { key: "childPos", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
    return this.childCursor().findPos(e21, t2);
  } }, { key: "toString", value: function() {
    var e21 = this.constructor.name.replace("View", "");
    return e21 + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + (e21 == "Text" ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "");
  } }, { key: "isEditable", get: function() {
    return true;
  } }, { key: "merge", value: function(e21, t2, n2, r2, i2, o2) {
    return false;
  } }, { key: "become", value: function(e21) {
    return false;
  } }, { key: "getSide", value: function() {
    return 0;
  } }, { key: "destroy", value: function() {
    this.parent = null;
  } }], [{ key: "get", value: function(e21) {
    return e21.cmView;
  } }]), e20;
}();
function pO(e20) {
  var t2 = e20.nextSibling;
  return e20.parentNode.removeChild(e20), t2;
}
vO.prototype.breakAfter = 0;
var mO = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.children = t2, this.pos = n2, this.i = r2, this.off = 0;
  }
  return Li(e20, [{ key: "findPos", value: function(e21) {
    for (var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1; ; ) {
      if (e21 > this.pos || e21 == this.pos && (t2 > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))
        return this.off = e21 - this.pos, this;
      var n2 = this.children[--this.i];
      this.pos -= n2.length + n2.breakAfter;
    }
  } }]), e20;
}();
function gO(e20, t2, n2, r2, i2, o2, a2, s2, u2) {
  var c2 = e20.children, l2 = c2.length ? c2[t2] : null, f2 = o2.length ? o2[o2.length - 1] : null, h2 = f2 ? f2.breakAfter : a2;
  if (!(t2 == r2 && l2 && !a2 && !h2 && o2.length < 2 && l2.merge(n2, i2, o2.length ? f2 : null, n2 == 0, s2, u2))) {
    if (r2 < c2.length) {
      var d2 = c2[r2];
      d2 && i2 < d2.length ? (t2 == r2 && (d2 = d2.split(i2), i2 = 0), !h2 && f2 && d2.merge(0, i2, f2, true, 0, u2) ? o2[o2.length - 1] = d2 : (i2 && d2.merge(0, i2, null, false, 0, u2), o2.push(d2))) : (d2 == null ? void 0 : d2.breakAfter) && (f2 ? f2.breakAfter = 1 : a2 = 1), r2++;
    }
    for (l2 && (l2.breakAfter = a2, n2 > 0 && (!a2 && o2.length && l2.merge(n2, l2.length, o2[0], false, s2, 0) ? l2.breakAfter = o2.shift().breakAfter : (n2 < l2.length || l2.children.length && l2.children[l2.children.length - 1].length == 0) && l2.merge(n2, l2.length, null, false, s2, 0), t2++)); t2 < r2 && o2.length; )
      if (c2[r2 - 1].become(o2[o2.length - 1]))
        r2--, o2.pop(), u2 = o2.length ? 0 : s2;
      else {
        if (!c2[t2].become(o2[0]))
          break;
        t2++, o2.shift(), s2 = o2.length ? 0 : u2;
      }
    !o2.length && t2 && r2 < c2.length && !c2[t2 - 1].breakAfter && c2[r2].merge(0, 0, c2[t2 - 1], false, s2, u2) && t2--, (t2 < r2 || o2.length) && e20.replaceChildren(t2, r2, o2);
  }
}
function yO(e20, t2, n2, r2, i2, o2) {
  var a2, s2 = e20.childCursor(), u2 = s2.findPos(n2, 1), c2 = u2.i, l2 = u2.off, f2 = s2.findPos(t2, -1), h2 = f2.i, d2 = f2.off, v2 = t2 - n2, p2 = bi(r2);
  try {
    for (p2.s(); !(a2 = p2.n()).done; ) {
      v2 += a2.value.length;
    }
  } catch (e21) {
    p2.e(e21);
  } finally {
    p2.f();
  }
  e20.length += v2, gO(e20, h2, d2, c2, l2, r2, 0, i2, o2);
}
var bO = typeof navigator != "undefined" ? navigator : { userAgent: "", vendor: "", platform: "" }, wO = typeof document != "undefined" ? document : { documentElement: { style: {} } }, kO = /Edge\/(\d+)/.exec(bO.userAgent), jO = /MSIE \d/.test(bO.userAgent), xO = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bO.userAgent), SO = !!(jO || xO || kO), CO = !SO && /gecko\/(\d+)/i.test(bO.userAgent), _O = !SO && /Chrome\/(\d+)/.exec(bO.userAgent), $O = "webkitFontSmoothing" in wO.documentElement.style, OO = !SO && /Apple Computer/.test(bO.vendor), PO = OO && (/Mobile\/\w+/.test(bO.userAgent) || bO.maxTouchPoints > 2), AO = { mac: PO || /Mac/.test(bO.platform), windows: /Win/.test(bO.platform), linux: /Linux|X11/.test(bO.platform), ie: SO, ie_version: jO ? wO.documentMode || 6 : xO ? +xO[1] : kO ? +kO[1] : 0, gecko: CO, gecko_version: CO ? +(/Firefox\/(\d+)/.exec(bO.userAgent) || [0, 0])[1] : 0, chrome: !!_O, chrome_version: _O ? +_O[1] : 0, ios: PO, android: /Android\b/.test(bO.userAgent), webkit: $O, safari: OO, webkit_version: $O ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0, tabSize: wO.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size" }, EO = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).text = e21, r2;
  }
  return Li(n2, [{ key: "length", get: function() {
    return this.text.length;
  } }, { key: "createDOM", value: function(e21) {
    this.setDOM(e21 || document.createTextNode(this.text));
  } }, { key: "sync", value: function(e21) {
    this.dom || this.createDOM(), this.dom.nodeValue != this.text && (e21 && e21.node == this.dom && (e21.written = true), this.dom.nodeValue = this.text);
  } }, { key: "reuseDOM", value: function(e21) {
    e21.nodeType == 3 && this.createDOM(e21);
  } }, { key: "merge", value: function(e21, t3, r2) {
    return (!r2 || r2 instanceof n2 && !(this.length - (t3 - e21) + r2.length > 256)) && (this.text = this.text.slice(0, e21) + (r2 ? r2.text : "") + this.text.slice(t3), this.markDirty(), true);
  } }, { key: "split", value: function(e21) {
    var t3 = new n2(this.text.slice(e21));
    return this.text = this.text.slice(0, e21), this.markDirty(), t3;
  } }, { key: "localPosFromDOM", value: function(e21, t3) {
    return e21 == this.dom ? t3 : t3 ? this.text.length : 0;
  } }, { key: "domAtPos", value: function(e21) {
    return new hO(this.dom, e21);
  } }, { key: "domBoundsAround", value: function(e21, t3, n3) {
    return { from: n3, to: n3 + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };
  } }, { key: "coordsAt", value: function(e21, t3) {
    return TO(this.dom, e21, t3);
  } }]), n2;
}(), MO = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2, i2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], o2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
    Ri(this, n2), (r2 = t2.call(this)).mark = e21, r2.children = i2, r2.length = o2;
    var a2, s2 = bi(i2);
    try {
      for (s2.s(); !(a2 = s2.n()).done; ) {
        var u2 = a2.value;
        u2.setParent($i(r2));
      }
    } catch (e22) {
      s2.e(e22);
    } finally {
      s2.f();
    }
    return r2;
  }
  return Li(n2, [{ key: "setAttrs", value: function(e21) {
    if (fO(e21), this.mark.class && (e21.className = this.mark.class), this.mark.attrs)
      for (var t3 in this.mark.attrs)
        e21.setAttribute(t3, this.mark.attrs[t3]);
    return e21;
  } }, { key: "reuseDOM", value: function(e21) {
    e21.nodeName == this.mark.tagName.toUpperCase() && (this.setDOM(e21), this.dirty |= 6);
  } }, { key: "sync", value: function(e21) {
    this.dom ? 4 & this.dirty && this.setAttrs(this.dom) : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))), wi(Pi(n2.prototype), "sync", this).call(this, e21);
  } }, { key: "merge", value: function(e21, t3, r2, i2, o2, a2) {
    return (!r2 || !(!(r2 instanceof n2 && r2.mark.eq(this.mark)) || e21 && o2 <= 0 || t3 < this.length && a2 <= 0)) && (yO(this, e21, t3, r2 ? r2.children : [], o2 - 1, a2 - 1), this.markDirty(), true);
  } }, { key: "split", value: function(e21) {
    var t3, r2 = [], i2 = 0, o2 = -1, a2 = 0, s2 = bi(this.children);
    try {
      for (s2.s(); !(t3 = s2.n()).done; ) {
        var u2 = t3.value, c2 = i2 + u2.length;
        c2 > e21 && r2.push(i2 < e21 ? u2.split(e21 - i2) : u2), o2 < 0 && i2 >= e21 && (o2 = a2), i2 = c2, a2++;
      }
    } catch (e22) {
      s2.e(e22);
    } finally {
      s2.f();
    }
    var l2 = this.length - e21;
    return this.length = e21, o2 > -1 && (this.children.length = o2, this.markDirty()), new n2(this.mark, r2, l2);
  } }, { key: "domAtPos", value: function(e21) {
    return zO(this.dom, this.children, e21);
  } }, { key: "coordsAt", value: function(e21, t3) {
    return qO(this, e21, t3);
  } }]), n2;
}();
function TO(e20, t2, n2) {
  var r2 = e20.nodeValue.length;
  t2 > r2 && (t2 = r2);
  var i2 = t2, o2 = t2, a2 = 0;
  t2 == 0 && n2 < 0 || t2 == r2 && n2 >= 0 ? AO.chrome || AO.gecko || (t2 ? (i2--, a2 = 1) : (o2++, a2 = -1)) : n2 < 0 ? i2-- : o2++;
  var s2 = uO(e20, i2, o2).getClientRects();
  if (!s2.length)
    return tO;
  var u2 = s2[(a2 ? a2 < 0 : n2 >= 0) ? 0 : s2.length - 1];
  return AO.safari && !a2 && u2.width == 0 && (u2 = Array.prototype.find.call(s2, function(e21) {
    return e21.width;
  }) || u2), a2 ? nO(u2, a2 < 0) : u2 || null;
}
var IO = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this)).widget = e21, o2.length = r2, o2.side = i2, o2.prevWidget = null, o2;
  }
  return Li(n2, [{ key: "split", value: function(e21) {
    var t3 = n2.create(this.widget, this.length - e21, this.side);
    return this.length -= e21, t3;
  } }, { key: "sync", value: function() {
    this.dom && this.widget.updateDOM(this.dom) || (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), this.prevWidget = null, this.setDOM(this.widget.toDOM(this.editorView)), this.dom.contentEditable = "false");
  } }, { key: "getSide", value: function() {
    return this.side;
  } }, { key: "merge", value: function(e21, t3, r2, i2, o2, a2) {
    return !(r2 && (!(r2 instanceof n2 && this.widget.compare(r2.widget)) || e21 > 0 && o2 <= 0 || t3 < this.length && a2 <= 0)) && (this.length = e21 + (r2 ? r2.length : 0) + (this.length - t3), true);
  } }, { key: "become", value: function(e21) {
    return e21.length == this.length && e21 instanceof n2 && e21.side == this.side && this.widget.constructor == e21.widget.constructor && (this.widget.eq(e21.widget) || this.markDirty(true), this.dom && !this.prevWidget && (this.prevWidget = this.widget), this.widget = e21.widget, true);
  } }, { key: "ignoreMutation", value: function() {
    return true;
  } }, { key: "ignoreEvent", value: function(e21) {
    return this.widget.ignoreEvent(e21);
  } }, { key: "overrideDOMText", get: function() {
    if (this.length == 0)
      return e_.empty;
    for (var e21 = this; e21.parent; )
      e21 = e21.parent;
    var t3 = e21.editorView, n3 = t3 && t3.state.doc, r2 = this.posAtStart;
    return n3 ? n3.slice(r2, r2 + this.length) : e_.empty;
  } }, { key: "domAtPos", value: function(e21) {
    return e21 == 0 ? hO.before(this.dom) : hO.after(this.dom, e21 == this.length);
  } }, { key: "domBoundsAround", value: function() {
    return null;
  } }, { key: "coordsAt", value: function(e21, t3) {
    var n3 = this.dom.getClientRects(), r2 = null;
    if (!n3.length)
      return tO;
    for (var i2 = e21 > 0 ? n3.length - 1 : 0; r2 = n3[i2], !(e21 > 0 ? i2 == 0 : i2 == n3.length - 1 || r2.top < r2.bottom); i2 += e21 > 0 ? -1 : 1)
      ;
    return e21 == 0 && t3 > 0 || e21 == this.length && t3 <= 0 ? r2 : nO(r2, e21 == 0);
  } }, { key: "isEditable", get: function() {
    return false;
  } }, { key: "destroy", value: function() {
    wi(Pi(n2.prototype), "destroy", this).call(this), this.dom && this.widget.destroy(this.dom);
  } }], [{ key: "create", value: function(e21, t3, r2) {
    return new (e21.customView || n2)(e21, t3, r2);
  } }]), n2;
}(), NO$1 = function(e20) {
  xi(n2, IO);
  var t2 = Ci(n2);
  function n2() {
    return Ri(this, n2), t2.apply(this, arguments);
  }
  return Li(n2, [{ key: "domAtPos", value: function(e21) {
    var t3 = this.widget, n3 = t3.topView, r2 = t3.text;
    return n3 ? RO(e21, 0, n3, r2, function(e22, t4) {
      return e22.domAtPos(t4);
    }, function(e22) {
      return new hO(r2, Math.min(e22, r2.nodeValue.length));
    }) : new hO(r2, Math.min(e21, r2.nodeValue.length));
  } }, { key: "sync", value: function() {
    this.setDOM(this.widget.toDOM());
  } }, { key: "localPosFromDOM", value: function(e21, t3) {
    var n3 = this.widget, r2 = n3.topView, i2 = n3.text;
    return r2 ? DO(e21, t3, r2, i2) : Math.min(t3, this.length);
  } }, { key: "ignoreMutation", value: function() {
    return false;
  } }, { key: "overrideDOMText", get: function() {
    return null;
  } }, { key: "coordsAt", value: function(e21, t3) {
    var n3 = this.widget, r2 = n3.topView, i2 = n3.text;
    return r2 ? RO(e21, t3, r2, i2, function(e22, t4, n4) {
      return e22.coordsAt(t4, n4);
    }, function(e22, t4) {
      return TO(i2, e22, t4);
    }) : TO(i2, e21, t3);
  } }, { key: "destroy", value: function() {
    var e21;
    wi(Pi(n2.prototype), "destroy", this).call(this), (e21 = this.widget.topView) === null || e21 === void 0 || e21.destroy();
  } }, { key: "isEditable", get: function() {
    return true;
  } }]), n2;
}();
function RO(e20, t2, n2, r2, i2, o2) {
  if (n2 instanceof MO) {
    var a2, s2 = bi(n2.children);
    try {
      for (s2.s(); !(a2 = s2.n()).done; ) {
        var u2 = a2.value, c2 = K$(u2.dom, r2), l2 = c2 ? r2.nodeValue.length : u2.length;
        if (e20 < l2 || e20 == l2 && u2.getSide() <= 0)
          return c2 ? RO(e20, t2, u2, r2, i2, o2) : i2(u2, e20, t2);
        e20 -= l2;
      }
    } catch (e21) {
      s2.e(e21);
    } finally {
      s2.f();
    }
    return i2(n2, n2.length, -1);
  }
  return n2.dom == r2 ? o2(e20, t2) : i2(n2, e20, t2);
}
function DO(e20, t2, n2, r2) {
  if (n2 instanceof MO) {
    var i2, o2 = bi(n2.children);
    try {
      for (o2.s(); !(i2 = o2.n()).done; ) {
        var a2 = i2.value, s2 = 0, u2 = K$(a2.dom, r2);
        if (K$(a2.dom, e20))
          return s2 + (u2 ? DO(e20, t2, a2, r2) : a2.localPosFromDOM(e20, t2));
        s2 += u2 ? r2.nodeValue.length : a2.length;
      }
    } catch (e21) {
      o2.e(e21);
    } finally {
      o2.f();
    }
  } else if (n2.dom == r2)
    return Math.min(t2, r2.nodeValue.length);
  return n2.localPosFromDOM(e20, t2);
}
var LO = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).side = e21, r2;
  }
  return Li(n2, [{ key: "length", get: function() {
    return 0;
  } }, { key: "merge", value: function() {
    return false;
  } }, { key: "become", value: function(e21) {
    return e21 instanceof n2 && e21.side == this.side;
  } }, { key: "split", value: function() {
    return new n2(this.side);
  } }, { key: "sync", value: function() {
    if (!this.dom) {
      var e21 = document.createElement("img");
      e21.className = "cm-widgetBuffer", e21.setAttribute("aria-hidden", "true"), this.setDOM(e21);
    }
  } }, { key: "getSide", value: function() {
    return this.side;
  } }, { key: "domAtPos", value: function(e21) {
    return hO.before(this.dom);
  } }, { key: "localPosFromDOM", value: function() {
    return 0;
  } }, { key: "domBoundsAround", value: function() {
    return null;
  } }, { key: "coordsAt", value: function(e21) {
    var t3 = this.dom.getBoundingClientRect(), n3 = function(e22, t4) {
      var n4 = e22.parent, r2 = n4 ? n4.children.indexOf(e22) : -1;
      for (; n4 && r2 >= 0; )
        if (t4 < 0 ? r2 > 0 : r2 < n4.children.length) {
          var i2 = n4.children[r2 + t4];
          if (i2 instanceof EO) {
            var o2 = i2.coordsAt(t4 < 0 ? i2.length : 0, t4);
            if (o2)
              return o2;
          }
          r2 += t4;
        } else {
          if (!(n4 instanceof MO && n4.parent)) {
            var a2 = n4.dom.lastChild;
            if (a2 && a2.nodeName == "BR")
              return a2.getClientRects()[0];
            break;
          }
          r2 = n4.parent.children.indexOf(n4) + (t4 < 0 ? 0 : 1), n4 = n4.parent;
        }
      return;
    }(this, this.side > 0 ? -1 : 1);
    return n3 && n3.top < t3.bottom && n3.bottom > t3.top ? { left: t3.left, right: t3.right, top: n3.top, bottom: n3.bottom } : t3;
  } }, { key: "overrideDOMText", get: function() {
    return e_.empty;
  } }]), n2;
}();
function zO(e20, t2, n2) {
  for (var r2 = 0, i2 = 0; r2 < t2.length; r2++) {
    var o2 = t2[r2], a2 = i2 + o2.length;
    if (!(a2 == i2 && o2.getSide() <= 0)) {
      if (n2 > i2 && n2 < a2 && o2.dom.parentNode == e20)
        return o2.domAtPos(n2 - i2);
      if (n2 <= i2)
        break;
      i2 = a2;
    }
  }
  for (; r2 > 0; r2--) {
    var s2 = t2[r2 - 1].dom;
    if (s2.parentNode == e20)
      return hO.after(s2);
  }
  return new hO(e20, 0);
}
function BO(e20, t2, n2) {
  var r2, i2 = e20.children;
  n2 > 0 && t2 instanceof MO && i2.length && (r2 = i2[i2.length - 1]) instanceof MO && r2.mark.eq(t2.mark) ? BO(r2, t2.children[0], n2 - 1) : (i2.push(t2), t2.setParent(e20)), e20.length += t2.length;
}
function qO(e20, t2, n2) {
  for (var r2 = 0, i2 = 0; i2 < e20.children.length; i2++) {
    var o2 = e20.children[i2], a2 = r2 + o2.length, s2 = void 0;
    if ((n2 <= 0 || a2 == e20.length || o2.getSide() > 0 ? a2 >= t2 : a2 > t2) && (t2 < a2 || i2 + 1 == e20.children.length || (s2 = e20.children[i2 + 1]).length || s2.getSide() > 0)) {
      var u2 = 0;
      if (a2 == r2) {
        if (o2.getSide() <= 0)
          continue;
        u2 = n2 = -o2.getSide();
      }
      var c2 = o2.coordsAt(Math.max(0, t2 - r2), n2);
      return u2 && c2 ? nO(c2, n2 < 0) : c2;
    }
    r2 = a2;
  }
  var l2 = e20.dom.lastChild;
  if (!l2)
    return e20.dom.getBoundingClientRect();
  var f2 = Q$(l2);
  return f2[f2.length - 1] || null;
}
function FO(e20, t2) {
  for (var n2 in e20)
    n2 == "class" && t2.class ? t2.class += " " + e20.class : n2 == "style" && t2.style ? t2.style += ";" + e20.style : t2[n2] = e20[n2];
  return t2;
}
function VO(e20, t2) {
  if (e20 == t2)
    return true;
  if (!e20 || !t2)
    return false;
  var n2 = Object.keys(e20), r2 = Object.keys(t2);
  if (n2.length != r2.length)
    return false;
  for (var i2 = 0, o2 = n2; i2 < o2.length; i2++) {
    var a2 = o2[i2];
    if (r2.indexOf(a2) == -1 || e20[a2] !== t2[a2])
      return false;
  }
  return true;
}
function HO(e20, t2, n2) {
  if (t2)
    for (var r2 in t2)
      n2 && r2 in n2 || e20.removeAttribute(r2);
  if (n2)
    for (var i2 in n2)
      t2 && t2[i2] == n2[i2] || e20.setAttribute(i2, n2[i2]);
}
EO.prototype.children = IO.prototype.children = LO.prototype.children = dO;
var WO = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "eq", value: function(e21) {
    return false;
  } }, { key: "updateDOM", value: function(e21) {
    return false;
  } }, { key: "compare", value: function(e21) {
    return this == e21 || this.constructor == e21.constructor && this.eq(e21);
  } }, { key: "estimatedHeight", get: function() {
    return -1;
  } }, { key: "ignoreEvent", value: function(e21) {
    return true;
  } }, { key: "customView", get: function() {
    return null;
  } }, { key: "destroy", value: function(e21) {
  } }]), e20;
}(), UO = function(e20) {
  return e20[e20.Text = 0] = "Text", e20[e20.WidgetBefore = 1] = "WidgetBefore", e20[e20.WidgetAfter = 2] = "WidgetAfter", e20[e20.WidgetRange = 3] = "WidgetRange", e20;
}(UO || (UO = {})), JO = function(e20) {
  xi(n2, w$);
  var t2 = Ci(n2);
  function n2(e21, r2, i2, o2) {
    var a2;
    return Ri(this, n2), (a2 = t2.call(this)).startSide = e21, a2.endSide = r2, a2.widget = i2, a2.spec = o2, a2;
  }
  return Li(n2, [{ key: "heightRelevant", get: function() {
    return false;
  } }, { key: "hasHeight", value: function() {
    return !!this.widget && this.widget.estimatedHeight > -1;
  } }], [{ key: "mark", value: function(e21) {
    return new KO(e21);
  } }, { key: "widget", value: function(e21) {
    var t3 = e21.side || 0, n3 = !!e21.block;
    return new QO(e21, t3 += n3 ? t3 > 0 ? 3e8 : -4e8 : t3 > 0 ? 1e8 : -1e8, t3, n3, e21.widget || null, false);
  } }, { key: "replace", value: function(e21) {
    var t3, n3, r2 = !!e21.block;
    if (e21.isBlockGap)
      t3 = -5e8, n3 = 4e8;
    else {
      var i2 = YO(e21, r2);
      t3 = (i2.start ? r2 ? -3e8 : -1 : 5e8) - 1, n3 = 1 + (i2.end ? r2 ? 2e8 : 1 : -6e8);
    }
    return new QO(e21, t3, n3, r2, e21.widget || null, true);
  } }, { key: "line", value: function(e21) {
    return new GO(e21);
  } }, { key: "set", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    return S$.of(e21, t3);
  } }]), n2;
}();
JO.none = S$.empty;
var KO = function(e20) {
  xi(n2, JO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    Ri(this, n2);
    var i2 = YO(e21), o2 = i2.start, a2 = i2.end;
    return (r2 = t2.call(this, o2 ? -1 : 5e8, a2 ? 1 : -6e8, null, e21)).tagName = e21.tagName || "span", r2.class = e21.class || "", r2.attrs = e21.attributes || null, r2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return this == e21 || e21 instanceof n2 && this.tagName == e21.tagName && this.class == e21.class && VO(this.attrs, e21.attrs);
  } }, { key: "range", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21;
    if (e21 >= t3)
      throw new RangeError("Mark decorations may not be empty");
    return wi(Pi(n2.prototype), "range", this).call(this, e21, t3);
  } }]), n2;
}();
KO.prototype.point = false;
var GO = function(e20) {
  xi(n2, JO);
  var t2 = Ci(n2);
  function n2(e21) {
    return Ri(this, n2), t2.call(this, -2e8, -2e8, null, e21);
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21 instanceof n2 && VO(this.spec.attributes, e21.spec.attributes);
  } }, { key: "range", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21;
    if (t3 != e21)
      throw new RangeError("Line decoration ranges must be zero-length");
    return wi(Pi(n2.prototype), "range", this).call(this, e21, t3);
  } }]), n2;
}();
GO.prototype.mapMode = f_.TrackBefore, GO.prototype.point = true;
var QO = function(e20) {
  xi(n2, JO);
  var t2 = Ci(n2);
  function n2(e21, r2, i2, o2, a2, s2) {
    var u2;
    return Ri(this, n2), (u2 = t2.call(this, r2, i2, a2, e21)).block = o2, u2.isReplace = s2, u2.mapMode = o2 ? r2 <= 0 ? f_.TrackBefore : f_.TrackAfter : f_.TrackDel, u2;
  }
  return Li(n2, [{ key: "type", get: function() {
    return this.startSide < this.endSide ? UO.WidgetRange : this.startSide <= 0 ? UO.WidgetBefore : UO.WidgetAfter;
  } }, { key: "heightRelevant", get: function() {
    return this.block || !!this.widget && this.widget.estimatedHeight >= 5;
  } }, { key: "eq", value: function(e21) {
    return e21 instanceof n2 && (t3 = this.widget, r2 = e21.widget, t3 == r2 || !!(t3 && r2 && t3.compare(r2))) && this.block == e21.block && this.startSide == e21.startSide && this.endSide == e21.endSide;
    var t3, r2;
  } }, { key: "range", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21;
    if (this.isReplace && (e21 > t3 || e21 == t3 && this.startSide > 0 && this.endSide <= 0))
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && t3 != e21)
      throw new RangeError("Widget decorations can only have zero-length ranges");
    return wi(Pi(n2.prototype), "range", this).call(this, e21, t3);
  } }]), n2;
}();
function YO(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], n2 = e20.inclusiveStart, r2 = e20.inclusiveEnd;
  return n2 == null && (n2 = e20.inclusive), r2 == null && (r2 = e20.inclusive), { start: n2 != null ? n2 : t2, end: r2 != null ? r2 : t2 };
}
function ZO(e20, t2, n2) {
  var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, i2 = n2.length - 1;
  i2 >= 0 && n2[i2] + r2 >= e20 ? n2[i2] = Math.max(n2[i2], t2) : n2.push(e20, t2);
}
QO.prototype.point = true;
var XO = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2() {
    var e21;
    return Ri(this, n2), (e21 = t2.apply(this, arguments)).children = [], e21.length = 0, e21.prevAttrs = void 0, e21.attrs = null, e21.breakAfter = 0, e21;
  }
  return Li(n2, [{ key: "merge", value: function(e21, t3, r2, i2, o2, a2) {
    if (r2) {
      if (!(r2 instanceof n2))
        return false;
      this.dom || r2.transferDOM(this);
    }
    return i2 && this.setDeco(r2 ? r2.attrs : null), yO(this, e21, t3, r2 ? r2.children : [], o2, a2), true;
  } }, { key: "split", value: function(e21) {
    var t3 = new n2();
    if (t3.breakAfter = this.breakAfter, this.length == 0)
      return t3;
    var r2 = this.childPos(e21), i2 = r2.i, o2 = r2.off;
    o2 && (t3.append(this.children[i2].split(o2), 0), this.children[i2].merge(o2, this.children[i2].length, null, false, 0, 0), i2++);
    for (var a2 = i2; a2 < this.children.length; a2++)
      t3.append(this.children[a2], 0);
    for (; i2 > 0 && this.children[i2 - 1].length == 0; )
      this.children[--i2].destroy();
    return this.children.length = i2, this.markDirty(), this.length = e21, t3;
  } }, { key: "transferDOM", value: function(e21) {
    this.dom && (e21.setDOM(this.dom), e21.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs, this.prevAttrs = void 0, this.dom = null);
  } }, { key: "setDeco", value: function(e21) {
    VO(this.attrs, e21) || (this.dom && (this.prevAttrs = this.attrs, this.markDirty()), this.attrs = e21);
  } }, { key: "append", value: function(e21, t3) {
    BO(this, e21, t3);
  } }, { key: "addLineDeco", value: function(e21) {
    var t3 = e21.spec.attributes, n3 = e21.spec.class;
    t3 && (this.attrs = FO(t3, this.attrs || {})), n3 && (this.attrs = FO({ class: n3 }, this.attrs || {}));
  } }, { key: "domAtPos", value: function(e21) {
    return zO(this.dom, this.children, e21);
  } }, { key: "reuseDOM", value: function(e21) {
    e21.nodeName == "DIV" && (this.setDOM(e21), this.dirty |= 6);
  } }, { key: "sync", value: function(e21) {
    var t3;
    this.dom ? 4 & this.dirty && (fO(this.dom), this.dom.className = "cm-line", this.prevAttrs = this.attrs ? null : void 0) : (this.setDOM(document.createElement("div")), this.dom.className = "cm-line", this.prevAttrs = this.attrs ? null : void 0), this.prevAttrs !== void 0 && (HO(this.dom, this.prevAttrs, this.attrs), this.dom.classList.add("cm-line"), this.prevAttrs = void 0), wi(Pi(n2.prototype), "sync", this).call(this, e21);
    for (var r2 = this.dom.lastChild; r2 && vO.get(r2) instanceof MO; )
      r2 = r2.lastChild;
    if (!(r2 && this.length && (r2.nodeName == "BR" || ((t3 = vO.get(r2)) === null || t3 === void 0 ? void 0 : t3.isEditable) != 0 || AO.ios && this.children.some(function(e22) {
      return e22 instanceof EO;
    })))) {
      var i2 = document.createElement("BR");
      i2.cmIgnore = true, this.dom.appendChild(i2);
    }
  } }, { key: "measureTextSize", value: function() {
    if (this.children.length == 0 || this.length > 20)
      return null;
    var e21, t3 = 0, n3 = bi(this.children);
    try {
      for (n3.s(); !(e21 = n3.n()).done; ) {
        var r2 = e21.value;
        if (!(r2 instanceof EO))
          return null;
        var i2 = Q$(r2.dom);
        if (i2.length != 1)
          return null;
        t3 += i2[0].width;
      }
    } catch (e22) {
      n3.e(e22);
    } finally {
      n3.f();
    }
    return { lineHeight: this.dom.getBoundingClientRect().height, charWidth: t3 / this.length };
  } }, { key: "coordsAt", value: function(e21, t3) {
    return qO(this, e21, t3);
  } }, { key: "become", value: function(e21) {
    return false;
  } }, { key: "type", get: function() {
    return UO.Text;
  } }], [{ key: "find", value: function(e21, t3) {
    for (var r2 = 0, i2 = 0; r2 < e21.children.length; r2++) {
      var o2 = e21.children[r2], a2 = i2 + o2.length;
      if (a2 >= t3) {
        if (o2 instanceof n2)
          return o2;
        if (a2 > t3)
          break;
      }
      i2 = a2 + o2.breakAfter;
    }
    return null;
  } }]), n2;
}(), eP = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this)).widget = e21, o2.length = r2, o2.type = i2, o2.breakAfter = 0, o2.prevWidget = null, o2;
  }
  return Li(n2, [{ key: "merge", value: function(e21, t3, r2, i2, o2, a2) {
    return !(r2 && (!(r2 instanceof n2 && this.widget.compare(r2.widget)) || e21 > 0 && o2 <= 0 || t3 < this.length && a2 <= 0)) && (this.length = e21 + (r2 ? r2.length : 0) + (this.length - t3), true);
  } }, { key: "domAtPos", value: function(e21) {
    return e21 == 0 ? hO.before(this.dom) : hO.after(this.dom, e21 == this.length);
  } }, { key: "split", value: function(e21) {
    var t3 = this.length - e21;
    this.length = e21;
    var r2 = new n2(this.widget, t3, this.type);
    return r2.breakAfter = this.breakAfter, r2;
  } }, { key: "children", get: function() {
    return dO;
  } }, { key: "sync", value: function() {
    this.dom && this.widget.updateDOM(this.dom) || (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), this.prevWidget = null, this.setDOM(this.widget.toDOM(this.editorView)), this.dom.contentEditable = "false");
  } }, { key: "overrideDOMText", get: function() {
    return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : e_.empty;
  } }, { key: "domBoundsAround", value: function() {
    return null;
  } }, { key: "become", value: function(e21) {
    return e21 instanceof n2 && e21.type == this.type && e21.widget.constructor == this.widget.constructor && (e21.widget.eq(this.widget) || this.markDirty(true), this.dom && !this.prevWidget && (this.prevWidget = this.widget), this.widget = e21.widget, this.length = e21.length, this.breakAfter = e21.breakAfter, true);
  } }, { key: "ignoreMutation", value: function() {
    return true;
  } }, { key: "ignoreEvent", value: function(e21) {
    return this.widget.ignoreEvent(e21);
  } }, { key: "destroy", value: function() {
    wi(Pi(n2.prototype), "destroy", this).call(this), this.dom && this.widget.destroy(this.dom);
  } }]), n2;
}(), tP = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.doc = t2, this.pos = n2, this.end = r2, this.disallowBlockEffectsBelow = i2, this.content = [], this.curLine = null, this.breakAtStart = 0, this.pendingBuffer = 0, this.atCursorPos = true, this.openStart = -1, this.openEnd = -1, this.text = "", this.textOff = 0, this.cursor = t2.iter(), this.skip = n2;
  }
  return Li(e20, [{ key: "posCovered", value: function() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    var e21 = this.content[this.content.length - 1];
    return !(e21.breakAfter || e21 instanceof eP && e21.type == UO.WidgetBefore);
  } }, { key: "getLine", value: function() {
    return this.curLine || (this.content.push(this.curLine = new XO()), this.atCursorPos = true), this.curLine;
  } }, { key: "flushBuffer", value: function(e21) {
    this.pendingBuffer && (this.curLine.append(nP(new LO(-1), e21), e21.length), this.pendingBuffer = 0);
  } }, { key: "addBlockWidget", value: function(e21) {
    this.flushBuffer([]), this.curLine = null, this.content.push(e21);
  } }, { key: "finish", value: function(e21) {
    e21 ? this.pendingBuffer = 0 : this.flushBuffer([]), this.posCovered() || this.getLine();
  } }, { key: "buildText", value: function(e21, t2, n2) {
    for (; e21 > 0; ) {
      if (this.textOff == this.text.length) {
        var r2 = this.cursor.next(this.skip), i2 = r2.value, o2 = r2.lineBreak, a2 = r2.done;
        if (this.skip = 0, a2)
          throw new Error("Ran out of text content when drawing inline views");
        if (o2) {
          this.posCovered() || this.getLine(), this.content.length ? this.content[this.content.length - 1].breakAfter = 1 : this.breakAtStart = 1, this.flushBuffer([]), this.curLine = null, e21--;
          continue;
        }
        this.text = i2, this.textOff = 0;
      }
      var s2 = Math.min(this.text.length - this.textOff, e21, 512);
      this.flushBuffer(t2.slice(0, n2)), this.getLine().append(nP(new EO(this.text.slice(this.textOff, this.textOff + s2)), t2), n2), this.atCursorPos = true, this.textOff += s2, e21 -= s2, n2 = 0;
    }
  } }, { key: "span", value: function(e21, t2, n2, r2) {
    this.buildText(t2 - e21, n2, r2), this.pos = t2, this.openStart < 0 && (this.openStart = r2);
  } }, { key: "point", value: function(e21, t2, n2, r2, i2) {
    var o2 = t2 - e21;
    if (n2 instanceof QO)
      if (n2.block) {
        var a2 = n2.type;
        a2 != UO.WidgetAfter || this.posCovered() || this.getLine(), this.addBlockWidget(new eP(n2.widget || new rP("div"), o2, a2));
      } else {
        var s2 = IO.create(n2.widget || new rP("span"), o2, n2.startSide), u2 = this.atCursorPos && !s2.isEditable && i2 <= r2.length && (e21 < t2 || n2.startSide > 0), c2 = !s2.isEditable && (e21 < t2 || n2.startSide <= 0), l2 = this.getLine();
        this.pendingBuffer != 2 || u2 || (this.pendingBuffer = 0), this.flushBuffer(r2), u2 && (l2.append(nP(new LO(1), r2), i2), i2 = r2.length + Math.max(0, i2 - r2.length)), l2.append(nP(s2, r2), i2), this.atCursorPos = c2, this.pendingBuffer = c2 ? e21 < t2 ? 1 : 2 : 0;
      }
    else
      this.doc.lineAt(this.pos).from == this.pos && this.getLine().addLineDeco(n2);
    o2 && (this.textOff + o2 <= this.text.length ? this.textOff += o2 : (this.skip += o2 - (this.text.length - this.textOff), this.text = "", this.textOff = 0), this.pos = t2), this.openStart < 0 && (this.openStart = i2);
  } }, { key: "filterPoint", value: function(e21, t2, n2, r2) {
    if (r2 < this.disallowBlockEffectsBelow && n2 instanceof QO) {
      if (n2.block)
        throw new RangeError("Block decorations may not be specified via plugins");
      if (t2 > this.doc.lineAt(this.pos).to)
        throw new RangeError("Decorations that replace line breaks may not be specified via plugins");
    }
    return true;
  } }], [{ key: "build", value: function(t2, n2, r2, i2, o2) {
    var a2 = new e20(t2, n2, r2, o2);
    return a2.openEnd = S$.spans(i2, n2, r2, a2), a2.openStart < 0 && (a2.openStart = a2.openEnd), a2.finish(a2.openEnd), a2;
  } }]), e20;
}();
function nP(e20, t2) {
  var n2, r2 = bi(t2);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = n2.value;
      e20 = new MO(i2, [e20], e20.length);
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return e20;
}
var rP = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).tag = e21, r2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21.tag == this.tag;
  } }, { key: "toDOM", value: function() {
    return document.createElement(this.tag);
  } }, { key: "updateDOM", value: function(e21) {
    return e21.nodeName.toLowerCase() == this.tag;
  } }]), n2;
}(), iP = [], oP = C_.define(), aP = C_.define(), sP = C_.define(), uP = C_.define(), cP = C_.define(), lP = C_.define(), fP = e$.define({ map: function(e20, t2) {
  return e20.map(t2);
} }), hP = e$.define({ map: function(e20, t2) {
  return e20.map(t2);
} }), dP = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "nearest", r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "nearest", i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 5, o2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 5;
    Ri(this, e20), this.range = t2, this.y = n2, this.x = r2, this.yMargin = i2, this.xMargin = o2;
  }
  return Li(e20, [{ key: "map", value: function(t2) {
    return t2.empty ? this : new e20(this.range.map(t2), this.y, this.x, this.yMargin, this.xMargin);
  } }]), e20;
}(), vP = e$.define({ map: function(e20, t2) {
  return e20.map(t2);
} });
function pP(e20, t2, n2) {
  var r2 = e20.facet(uP);
  r2.length ? r2[0](t2) : window.onerror ? window.onerror(String(t2), n2, void 0, void 0, t2) : n2 ? console.error(n2 + ":", t2) : console.error(t2);
}
var mP = C_.define({ combine: function(e20) {
  return !e20.length || e20[0];
} }), gP = Li(function e5(t2, n2) {
  Ri(this, e5), this.field = t2, this.get = n2;
}), yP = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "from", value: function(e21) {
    return new gP(this, e21);
  } }], [{ key: "define", value: function() {
    return new e20();
  } }]), e20;
}();
yP.decorations = yP.define(), yP.atomicRanges = yP.define(), yP.scrollMargins = yP.define();
var bP = 0, wP = C_.define(), kP = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.id = t2, this.create = n2, this.fields = r2, this.extension = wP.of(this);
  }
  return Li(e20, null, [{ key: "define", value: function(t2, n2) {
    var r2 = n2 || {}, i2 = r2.eventHandlers, o2 = r2.provide, a2 = r2.decorations, s2 = [];
    if (o2) {
      var u2, c2 = bi(Array.isArray(o2) ? o2 : [o2]);
      try {
        for (c2.s(); !(u2 = c2.n()).done; ) {
          var l2 = u2.value;
          s2.push(l2);
        }
      } catch (e21) {
        c2.e(e21);
      } finally {
        c2.f();
      }
    }
    return i2 && s2.push(jP.from(function(e21) {
      return { plugin: e21, handlers: i2 };
    })), a2 && s2.push(yP.decorations.from(a2)), new e20(bP++, t2, s2);
  } }, { key: "fromClass", value: function(t2, n2) {
    return e20.define(function(e21) {
      return new t2(e21);
    }, n2);
  } }]), e20;
}(), jP = yP.define(), xP = function() {
  function e20(t2) {
    Ri(this, e20), this.spec = t2, this.mustUpdate = null, this.value = null;
  }
  return Li(e20, [{ key: "takeField", value: function(e21, t2) {
    if (this.spec) {
      var n2, r2 = bi(this.spec.fields);
      try {
        for (r2.s(); !(n2 = r2.n()).done; ) {
          var i2 = n2.value, o2 = i2.field, a2 = i2.get;
          o2 == e21 && t2.push(a2(this.value));
        }
      } catch (e22) {
        r2.e(e22);
      } finally {
        r2.f();
      }
    }
  } }, { key: "update", value: function(e21) {
    if (this.value) {
      if (this.mustUpdate) {
        var t2 = this.mustUpdate;
        if (this.mustUpdate = null, this.value.update)
          try {
            this.value.update(t2);
          } catch (e22) {
            if (pP(t2.state, e22, "CodeMirror plugin crashed"), this.value.destroy)
              try {
                this.value.destroy();
              } catch (e23) {
              }
            this.deactivate();
          }
      }
    } else if (this.spec)
      try {
        this.value = this.spec.create(e21);
      } catch (t3) {
        pP(e21.state, t3, "CodeMirror plugin crashed"), this.deactivate();
      }
    return this;
  } }, { key: "destroy", value: function(e21) {
    var t2;
    if ((t2 = this.value) === null || t2 === void 0 ? void 0 : t2.destroy)
      try {
        this.value.destroy();
      } catch (t3) {
        pP(e21.state, t3, "CodeMirror plugin crashed");
      }
  } }, { key: "deactivate", value: function() {
    this.spec = this.value = null;
  } }]), e20;
}(), SP = C_.define(), CP = C_.define(), _P = C_.define(), $P = C_.define(), OP = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.fromA = t2, this.toA = n2, this.fromB = r2, this.toB = i2;
  }
  return Li(e20, [{ key: "join", value: function(t2) {
    return new e20(Math.min(this.fromA, t2.fromA), Math.max(this.toA, t2.toA), Math.min(this.fromB, t2.fromB), Math.max(this.toB, t2.toB));
  } }, { key: "addToSet", value: function(e21) {
    for (var t2 = e21.length, n2 = this; t2 > 0; t2--) {
      var r2 = e21[t2 - 1];
      if (!(r2.fromA > n2.toA)) {
        if (r2.toA < n2.fromA)
          break;
        n2 = n2.join(r2), e21.splice(t2 - 1, 1);
      }
    }
    return e21.splice(t2, 0, n2), e21;
  } }], [{ key: "extendWithRanges", value: function(t2, n2) {
    if (n2.length == 0)
      return t2;
    for (var r2 = [], i2 = 0, o2 = 0, a2 = 0, s2 = 0; ; i2++) {
      for (var u2 = i2 == t2.length ? null : t2[i2], c2 = a2 - s2, l2 = u2 ? u2.fromB : 1e9; o2 < n2.length && n2[o2] < l2; ) {
        var f2 = n2[o2], h2 = n2[o2 + 1], d2 = Math.max(s2, f2), v2 = Math.min(l2, h2);
        if (d2 <= v2 && new e20(d2 + c2, v2 + c2, d2, v2).addToSet(r2), h2 > l2)
          break;
        o2 += 2;
      }
      if (!u2)
        return r2;
      new e20(u2.fromA, u2.toA, u2.fromB, u2.toB).addToSet(r2), a2 = u2.toA, s2 = u2.toB;
    }
  } }]), e20;
}(), PP = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : iP;
    Ri(this, e20), this.view = t2, this.state = n2, this.transactions = r2, this.flags = 0, this.startState = t2.state, this.changes = d_.empty(this.startState.doc.length);
    var i2, o2 = bi(r2);
    try {
      for (o2.s(); !(i2 = o2.n()).done; ) {
        var a2 = i2.value;
        this.changes = this.changes.compose(a2.changes);
      }
    } catch (e21) {
      o2.e(e21);
    } finally {
      o2.f();
    }
    var s2 = [];
    this.changes.iterChangedRanges(function(e21, t3, n3, r3) {
      return s2.push(new OP(e21, t3, n3, r3));
    }), this.changedRanges = s2;
    var u2 = t2.hasFocus;
    u2 != t2.inputState.notifiedFocused && (t2.inputState.notifiedFocused = u2, this.flags |= 1);
  }
  return Li(e20, [{ key: "viewportChanged", get: function() {
    return (4 & this.flags) > 0;
  } }, { key: "heightChanged", get: function() {
    return (2 & this.flags) > 0;
  } }, { key: "geometryChanged", get: function() {
    return this.docChanged || (10 & this.flags) > 0;
  } }, { key: "focusChanged", get: function() {
    return (1 & this.flags) > 0;
  } }, { key: "docChanged", get: function() {
    return !this.changes.empty;
  } }, { key: "selectionSet", get: function() {
    return this.transactions.some(function(e21) {
      return e21.selection;
    });
  } }, { key: "empty", get: function() {
    return this.flags == 0 && this.transactions.length == 0;
  } }]), e20;
}(), AP = function(e20) {
  return e20[e20.LTR = 0] = "LTR", e20[e20.RTL = 1] = "RTL", e20;
}(AP || (AP = {})), EP = AP.LTR, MP = AP.RTL;
function TP(e20) {
  for (var t2 = [], n2 = 0; n2 < e20.length; n2++)
    t2.push(1 << +e20[n2]);
  return t2;
}
for (var IP = TP("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"), NP = TP("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"), RP = /* @__PURE__ */ Object.create(null), DP = [], LP = 0, zP = ["()", "[]", "{}"]; LP < zP.length; LP++) {
  var BP = zP[LP], qP = BP.charCodeAt(0), FP = BP.charCodeAt(1);
  RP[qP] = FP, RP[FP] = -qP;
}
function VP(e20) {
  return e20 <= 247 ? IP[e20] : 1424 <= e20 && e20 <= 1524 ? 2 : 1536 <= e20 && e20 <= 1785 ? NP[e20 - 1536] : 1774 <= e20 && e20 <= 2220 ? 4 : 8192 <= e20 && e20 <= 8203 || e20 == 8204 ? 256 : 1;
}
var HP = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, WP = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.level = r2;
  }
  return Li(e20, [{ key: "dir", get: function() {
    return this.level % 2 ? MP : EP;
  } }, { key: "side", value: function(e21, t2) {
    return this.dir == t2 == e21 ? this.to : this.from;
  } }], [{ key: "find", value: function(e21, t2, n2, r2) {
    for (var i2 = -1, o2 = 0; o2 < e21.length; o2++) {
      var a2 = e21[o2];
      if (a2.from <= t2 && a2.to >= t2) {
        if (a2.level == n2)
          return o2;
        (i2 < 0 || (r2 != 0 ? r2 < 0 ? a2.from < t2 : a2.to > t2 : e21[i2].level > a2.level)) && (i2 = o2);
      }
    }
    if (i2 < 0)
      throw new RangeError("Index out of range");
    return i2;
  } }]), e20;
}(), UP = [];
function JP(e20) {
  return [new WP(0, e20, 0)];
}
var KP = "";
function GP(e20, t2, n2, r2, i2) {
  var o2, a2 = r2.head - e20.from, s2 = -1;
  if (a2 == 0) {
    if (!i2 || !e20.length)
      return null;
    t2[0].level != n2 && (a2 = t2[0].side(false, n2), s2 = 0);
  } else if (a2 == e20.length) {
    if (i2)
      return null;
    var u2 = t2[t2.length - 1];
    u2.level != n2 && (a2 = u2.side(true, n2), s2 = t2.length - 1);
  }
  s2 < 0 && (s2 = WP.find(t2, a2, (o2 = r2.bidiLevel) !== null && o2 !== void 0 ? o2 : -1, r2.assoc));
  var c2 = t2[s2];
  a2 == c2.side(i2, n2) && (a2 = (c2 = t2[s2 += i2 ? 1 : -1]).side(!i2, n2));
  var l2 = i2 == (c2.dir == n2), f2 = HC(e20.text, a2, l2);
  if (KP = e20.text.slice(Math.min(a2, f2), Math.max(a2, f2)), f2 != c2.side(i2, n2))
    return k_.cursor(f2 + e20.from, l2 ? -1 : 1, c2.level);
  var h2 = s2 == (i2 ? t2.length - 1 : 0) ? null : t2[s2 + (i2 ? 1 : -1)];
  return h2 || c2.level == n2 ? h2 && h2.level < c2.level ? k_.cursor(h2.side(!i2, n2) + e20.from, i2 ? 1 : -1, h2.level) : k_.cursor(f2 + e20.from, i2 ? -1 : 1, c2.level) : k_.cursor(i2 ? e20.to : e20.from, i2 ? -1 : 1, n2);
}
var QP = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.points = t2, this.text = "", this.lineSeparator = n2.facet(h$.lineSeparator);
  }
  return Li(e20, [{ key: "append", value: function(e21) {
    this.text += e21;
  } }, { key: "lineBreak", value: function() {
    this.text += "\uFFFF";
  } }, { key: "readRange", value: function(e21, t2) {
    if (!e21)
      return this;
    for (var n2 = e21.parentNode, r2 = e21; ; ) {
      this.findPointBefore(n2, r2), this.readNode(r2);
      var i2 = r2.nextSibling;
      if (i2 == t2)
        break;
      var o2 = vO.get(r2), a2 = vO.get(i2);
      (o2 && a2 ? o2.breakAfter : (o2 ? o2.breakAfter : YP(r2)) || YP(i2) && (r2.nodeName != "BR" || r2.cmIgnore)) && this.lineBreak(), r2 = i2;
    }
    return this.findPointBefore(n2, t2), this;
  } }, { key: "readTextNode", value: function(e21) {
    var t2, n2 = e21.nodeValue, r2 = bi(this.points);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value;
        i2.node == e21 && (i2.pos = this.text.length + Math.min(i2.offset, n2.length));
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    for (var o2 = 0, a2 = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      var s2 = -1, u2 = 1, c2 = void 0;
      if (this.lineSeparator ? (s2 = n2.indexOf(this.lineSeparator, o2), u2 = this.lineSeparator.length) : (c2 = a2.exec(n2)) && (s2 = c2.index, u2 = c2[0].length), this.append(n2.slice(o2, s2 < 0 ? n2.length : s2)), s2 < 0)
        break;
      if (this.lineBreak(), u2 > 1) {
        var l2, f2 = bi(this.points);
        try {
          for (f2.s(); !(l2 = f2.n()).done; ) {
            var h2 = l2.value;
            h2.node == e21 && h2.pos > this.text.length && (h2.pos -= u2 - 1);
          }
        } catch (e22) {
          f2.e(e22);
        } finally {
          f2.f();
        }
      }
      o2 = s2 + u2;
    }
  } }, { key: "readNode", value: function(e21) {
    if (!e21.cmIgnore) {
      var t2 = vO.get(e21), n2 = t2 && t2.overrideDOMText;
      if (n2 != null) {
        this.findPointInside(e21, n2.length);
        for (var r2 = n2.iter(); !r2.next().done; )
          r2.lineBreak ? this.lineBreak() : this.append(r2.value);
      } else
        e21.nodeType == 3 ? this.readTextNode(e21) : e21.nodeName == "BR" ? e21.nextSibling && this.lineBreak() : e21.nodeType == 1 && this.readRange(e21.firstChild, null);
    }
  } }, { key: "findPointBefore", value: function(e21, t2) {
    var n2, r2 = bi(this.points);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        i2.node == e21 && e21.childNodes[i2.offset] == t2 && (i2.pos = this.text.length);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
  } }, { key: "findPointInside", value: function(e21, t2) {
    var n2, r2 = bi(this.points);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        (e21.nodeType == 3 ? i2.node == e21 : e21.contains(i2.node)) && (i2.pos = this.text.length + Math.min(t2, i2.offset));
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
  } }]), e20;
}();
function YP(e20) {
  return e20.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e20.nodeName);
}
var ZP = Li(function e6(t2, n2) {
  Ri(this, e6), this.node = t2, this.offset = n2, this.pos = -1;
}), XP = function(e20) {
  xi(n2, vO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).view = e21, r2.compositionDeco = JO.none, r2.decorations = [], r2.pluginDecorationLength = 0, r2.minWidth = 0, r2.minWidthFrom = 0, r2.minWidthTo = 0, r2.impreciseAnchor = null, r2.impreciseHead = null, r2.forceSelection = false, r2.lastUpdate = Date.now(), r2.setDOM(e21.contentDOM), r2.children = [new XO()], r2.children[0].setParent($i(r2)), r2.updateDeco(), r2.updateInner([new OP(0, 0, 0, e21.state.doc.length)], 0), r2;
  }
  return Li(n2, [{ key: "root", get: function() {
    return this.view.root;
  } }, { key: "editorView", get: function() {
    return this.view;
  } }, { key: "length", get: function() {
    return this.view.state.doc.length;
  } }, { key: "update", value: function(e21) {
    var t3 = this, n3 = e21.changedRanges;
    this.minWidth > 0 && n3.length && (n3.every(function(e22) {
      var n4 = e22.fromA;
      return e22.toA < t3.minWidthFrom || n4 > t3.minWidthTo;
    }) ? (this.minWidthFrom = e21.changes.mapPos(this.minWidthFrom, 1), this.minWidthTo = e21.changes.mapPos(this.minWidthTo, 1)) : this.minWidth = this.minWidthFrom = this.minWidthTo = 0), this.view.inputState.composing < 0 ? this.compositionDeco = JO.none : (e21.transactions.length || this.dirty) && (this.compositionDeco = function(e22, t4) {
      var n4 = nA(e22);
      if (!n4)
        return JO.none;
      var r3 = n4.from, i3 = n4.to, o3 = n4.node, a3 = n4.text, s3 = t4.mapPos(r3, 1), u3 = Math.max(s3, t4.mapPos(i3, -1)), c3 = e22.state, l2 = o3.nodeType == 3 ? o3.nodeValue : new QP([], c3).readRange(o3.firstChild, null).text;
      if (u3 - s3 < l2.length)
        if (c3.doc.sliceString(s3, Math.min(c3.doc.length, s3 + l2.length), "\uFFFF") == l2)
          u3 = s3 + l2.length;
        else {
          if (c3.doc.sliceString(Math.max(0, u3 - l2.length), u3, "\uFFFF") != l2)
            return JO.none;
          s3 = u3 - l2.length;
        }
      else if (c3.doc.sliceString(s3, u3, "\uFFFF") != l2)
        return JO.none;
      var f2 = vO.get(o3);
      f2 instanceof NO$1 ? f2 = f2.widget.topView : f2 && (f2.parent = null);
      return JO.set(JO.replace({ widget: new rA(o3, a3, f2) }).range(s3, u3));
    }(this.view, e21.changes)), (AO.ie || AO.chrome) && !this.compositionDeco.size && e21 && e21.state.doc.lines != e21.startState.doc.lines && (this.forceSelection = true);
    var r2, i2, o2, a2, s2 = this.decorations, u2 = this.updateDeco(), c2 = (r2 = s2, i2 = u2, o2 = e21.changes, a2 = new aA(), S$.compare(r2, i2, o2, a2), a2.changes);
    return n3 = OP.extendWithRanges(n3, c2), (this.dirty != 0 || n3.length != 0) && (this.updateInner(n3, e21.startState.doc.length), e21.transactions.length && (this.lastUpdate = Date.now()), true);
  } }, { key: "updateInner", value: function(e21, t3) {
    var n3 = this;
    this.view.viewState.mustMeasureContent = true, this.updateChildren(e21, t3);
    var r2 = this.view.observer;
    r2.ignore(function() {
      n3.dom.style.height = n3.view.viewState.contentHeight + "px", n3.dom.style.minWidth = n3.minWidth ? n3.minWidth + "px" : "";
      var e22 = AO.chrome || AO.ios ? { node: r2.selectionRange.focusNode, written: false } : void 0;
      n3.sync(e22), n3.dirty = 0, e22 && (e22.written || r2.selectionRange.focusNode != e22.node) && (n3.forceSelection = true), n3.dom.style.height = "";
    });
    var i2 = [];
    if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length) {
      var o2, a2 = bi(this.children);
      try {
        for (a2.s(); !(o2 = a2.n()).done; ) {
          var s2 = o2.value;
          s2 instanceof eP && s2.widget instanceof tA && i2.push(s2.dom);
        }
      } catch (e22) {
        a2.e(e22);
      } finally {
        a2.f();
      }
    }
    r2.updateGaps(i2);
  } }, { key: "updateChildren", value: function(e21, t3) {
    for (var n3 = this.childCursor(t3), r2 = e21.length - 1; ; r2--) {
      var i2 = r2 >= 0 ? e21[r2] : null;
      if (!i2)
        break;
      var o2 = i2.fromA, a2 = i2.toA, s2 = i2.fromB, u2 = i2.toB, c2 = tP.build(this.view.state.doc, s2, u2, this.decorations, this.pluginDecorationLength), l2 = c2.content, f2 = c2.breakAtStart, h2 = c2.openStart, d2 = c2.openEnd, v2 = n3.findPos(a2, 1), p2 = v2.i, m2 = v2.off, g2 = n3.findPos(o2, -1);
      gO(this, g2.i, g2.off, p2, m2, l2, f2, h2, d2);
    }
  } }, { key: "updateSelection", value: function() {
    var e21 = this, t3 = arguments.length > 0 && arguments[0] !== void 0 && arguments[0], n3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    if (t3 && this.view.observer.readSelectionRange(), !(!n3 && !this.mayControlSelection() || AO.ios && this.view.inputState.rapidCompositionStart)) {
      var r2 = this.forceSelection;
      this.forceSelection = false;
      var i2 = this.view.state.selection.main, o2 = this.domAtPos(i2.anchor), a2 = i2.empty ? o2 : this.domAtPos(i2.head);
      if (AO.gecko && i2.empty && eA(o2)) {
        var s2 = document.createTextNode("");
        this.view.observer.ignore(function() {
          return o2.node.insertBefore(s2, o2.node.childNodes[o2.offset] || null);
        }), o2 = a2 = new hO(s2, 0), r2 = true;
      }
      var u2 = this.view.observer.selectionRange;
      !r2 && u2.focusNode && Y$(o2.node, o2.offset, u2.anchorNode, u2.anchorOffset) && Y$(a2.node, a2.offset, u2.focusNode, u2.focusOffset) || (this.view.observer.ignore(function() {
        AO.android && AO.chrome && e21.dom.contains(u2.focusNode) && sA(u2.focusNode, e21.dom) && (e21.dom.blur(), e21.dom.focus({ preventScroll: true }));
        var t4 = J$(e21.root);
        if (i2.empty) {
          if (AO.gecko) {
            var n4 = oA(o2.node, o2.offset);
            if (n4 && n4 != 3) {
              var r3 = iA(o2.node, o2.offset, n4 == 1 ? 1 : -1);
              r3 && (o2 = new hO(r3, n4 == 1 ? 0 : r3.nodeValue.length));
            }
          }
          t4.collapse(o2.node, o2.offset), i2.bidiLevel != null && u2.cursorBidiLevel != null && (u2.cursorBidiLevel = i2.bidiLevel);
        } else if (t4.extend)
          t4.collapse(o2.node, o2.offset), t4.extend(a2.node, a2.offset);
        else {
          var s3 = document.createRange();
          if (i2.anchor > i2.head) {
            var c2 = [a2, o2];
            o2 = c2[0], a2 = c2[1];
          }
          s3.setEnd(a2.node, a2.offset), s3.setStart(o2.node, o2.offset), t4.removeAllRanges(), t4.addRange(s3);
        }
      }), this.view.observer.setSelectionRange(o2, a2)), this.impreciseAnchor = o2.precise ? null : new hO(u2.anchorNode, u2.anchorOffset), this.impreciseHead = a2.precise ? null : new hO(u2.focusNode, u2.focusOffset);
    }
  } }, { key: "enforceCursorAssoc", value: function() {
    if (!this.compositionDeco.size) {
      var e21 = this.view.state.selection.main, t3 = J$(this.root);
      if (e21.empty && e21.assoc && t3.modify) {
        var n3 = XO.find(this, e21.head);
        if (n3) {
          var r2 = n3.posAtStart;
          if (e21.head != r2 && e21.head != r2 + n3.length) {
            var i2 = this.coordsAt(e21.head, -1), o2 = this.coordsAt(e21.head, 1);
            if (i2 && o2 && !(i2.bottom > o2.top)) {
              var a2 = this.domAtPos(e21.head + e21.assoc);
              t3.collapse(a2.node, a2.offset), t3.modify("move", e21.assoc < 0 ? "forward" : "backward", "lineboundary");
            }
          }
        }
      }
    }
  } }, { key: "mayControlSelection", value: function() {
    return this.view.state.facet(mP) ? this.root.activeElement == this.dom : G$(this.dom, this.view.observer.selectionRange);
  } }, { key: "nearest", value: function(e21) {
    for (var t3 = e21; t3; ) {
      var n3 = vO.get(t3);
      if (n3 && n3.rootView == this)
        return n3;
      t3 = t3.parentNode;
    }
    return null;
  } }, { key: "posFromDOM", value: function(e21, t3) {
    var n3 = this.nearest(e21);
    if (!n3)
      throw new RangeError("Trying to find position for a DOM position outside of the document");
    return n3.localPosFromDOM(e21, t3) + n3.posAtStart;
  } }, { key: "domAtPos", value: function(e21) {
    for (var t3 = this.childCursor().findPos(e21, -1), n3 = t3.i, r2 = t3.off; n3 < this.children.length - 1; ) {
      var i2 = this.children[n3];
      if (r2 < i2.length || i2 instanceof XO)
        break;
      n3++, r2 = 0;
    }
    return this.children[n3].domAtPos(r2);
  } }, { key: "coordsAt", value: function(e21, t3) {
    for (var n3 = this.length, r2 = this.children.length - 1; ; r2--) {
      var i2 = this.children[r2], o2 = n3 - i2.breakAfter - i2.length;
      if (e21 > o2 || e21 == o2 && i2.type != UO.WidgetBefore && i2.type != UO.WidgetAfter && (!r2 || t3 == 2 || this.children[r2 - 1].breakAfter || this.children[r2 - 1].type == UO.WidgetBefore && t3 > -2))
        return i2.coordsAt(e21 - o2, t3);
      n3 = o2;
    }
  } }, { key: "measureVisibleLineHeights", value: function() {
    for (var e21 = [], t3 = this.view.viewState.viewport, n3 = t3.from, r2 = t3.to, i2 = this.view.contentDOM.clientWidth, o2 = i2 > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1, a2 = -1, s2 = 0, u2 = 0; u2 < this.children.length; u2++) {
      var c2 = this.children[u2], l2 = s2 + c2.length;
      if (l2 > r2)
        break;
      if (s2 >= n3) {
        var f2 = c2.dom.getBoundingClientRect();
        if (e21.push(f2.height), o2) {
          var h2 = c2.dom.lastChild, d2 = h2 ? Q$(h2) : [];
          if (d2.length) {
            var v2 = d2[d2.length - 1], p2 = this.view.textDirection == AP.LTR ? v2.right - f2.left : f2.right - v2.left;
            p2 > a2 && (a2 = p2, this.minWidth = i2, this.minWidthFrom = s2, this.minWidthTo = l2);
          }
        }
      }
      s2 = l2 + c2.breakAfter;
    }
    return e21;
  } }, { key: "measureTextSize", value: function() {
    var e21, t3 = this, n3 = bi(this.children);
    try {
      for (n3.s(); !(e21 = n3.n()).done; ) {
        var r2 = e21.value;
        if (r2 instanceof XO) {
          var i2 = r2.measureTextSize();
          if (i2)
            return i2;
        }
      }
    } catch (e22) {
      n3.e(e22);
    } finally {
      n3.f();
    }
    var o2, a2, s2 = document.createElement("div");
    return s2.className = "cm-line", s2.textContent = "abc def ghi jkl mno pqr stu", this.view.observer.ignore(function() {
      t3.dom.appendChild(s2);
      var e22 = Q$(s2.firstChild)[0];
      o2 = s2.getBoundingClientRect().height, a2 = e22 ? e22.width / 27 : 7, s2.remove();
    }), { lineHeight: o2, charWidth: a2 };
  } }, { key: "childCursor", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.length, t3 = this.children.length;
    return t3 && (e21 -= this.children[--t3].length), new mO(this.children, e21, t3);
  } }, { key: "computeBlockGapDeco", value: function() {
    for (var e21 = [], t3 = this.view.viewState, n3 = 0, r2 = 0; ; r2++) {
      var i2 = r2 == t3.viewports.length ? null : t3.viewports[r2], o2 = i2 ? i2.from - 1 : this.length;
      if (o2 > n3) {
        var a2 = t3.lineBlockAt(o2).bottom - t3.lineBlockAt(n3).top;
        e21.push(JO.replace({ widget: new tA(a2), block: true, inclusive: true, isBlockGap: true }).range(n3, o2));
      }
      if (!i2)
        break;
      n3 = i2.to + 1;
    }
    return JO.set(e21);
  } }, { key: "updateDeco", value: function() {
    var e21 = this.view.pluginField(yP.decorations);
    return this.pluginDecorationLength = e21.length, this.decorations = [].concat(Ti(e21), Ti(this.view.state.facet(_P)), [this.compositionDeco, this.computeBlockGapDeco(), this.view.viewState.lineGapDeco]);
  } }, { key: "scrollIntoView", value: function(e21) {
    var t3, n3 = e21.range, r2 = this.coordsAt(n3.head, n3.empty ? n3.assoc : n3.head > n3.anchor ? -1 : 1);
    if (r2) {
      !n3.empty && (t3 = this.coordsAt(n3.anchor, n3.anchor > n3.head ? -1 : 1)) && (r2 = { left: Math.min(r2.left, t3.left), top: Math.min(r2.top, t3.top), right: Math.max(r2.right, t3.right), bottom: Math.max(r2.bottom, t3.bottom) });
      var i2, o2 = 0, a2 = 0, s2 = 0, u2 = 0, c2 = bi(this.view.pluginField(yP.scrollMargins));
      try {
        for (c2.s(); !(i2 = c2.n()).done; ) {
          var l2 = i2.value;
          if (l2) {
            var f2 = l2.left, h2 = l2.right, d2 = l2.top, v2 = l2.bottom;
            f2 != null && (o2 = Math.max(o2, f2)), h2 != null && (a2 = Math.max(a2, h2)), d2 != null && (s2 = Math.max(s2, d2)), v2 != null && (u2 = Math.max(u2, v2));
          }
        }
      } catch (e22) {
        c2.e(e22);
      } finally {
        c2.f();
      }
      var p2 = { left: r2.left - o2, top: r2.top - s2, right: r2.right + a2, bottom: r2.bottom + u2 };
      !function(e22, t4, n4, r3, i3, o3, a3, s3) {
        for (var u3 = e22.ownerDocument, c3 = u3.defaultView, l3 = e22; l3; )
          if (l3.nodeType == 1) {
            var f3 = void 0, h3 = l3 == u3.body;
            if (h3)
              f3 = rO(c3);
            else {
              if (l3.scrollHeight <= l3.clientHeight && l3.scrollWidth <= l3.clientWidth) {
                l3 = l3.parentNode;
                continue;
              }
              var d3 = l3.getBoundingClientRect();
              f3 = { left: d3.left, right: d3.left + l3.clientWidth, top: d3.top, bottom: d3.top + l3.clientHeight };
            }
            var v3 = 0, p3 = 0;
            if (i3 == "nearest")
              t4.top < f3.top ? (p3 = -(f3.top - t4.top + a3), n4 > 0 && t4.bottom > f3.bottom + p3 && (p3 = t4.bottom - f3.bottom + p3 + a3)) : t4.bottom > f3.bottom && (p3 = t4.bottom - f3.bottom + a3, n4 < 0 && t4.top - p3 < f3.top && (p3 = -(f3.top + p3 - t4.top + a3)));
            else {
              var m2 = t4.bottom - t4.top, g2 = f3.bottom - f3.top;
              p3 = (i3 == "center" && m2 <= g2 ? t4.top + m2 / 2 - g2 / 2 : i3 == "start" || i3 == "center" && n4 < 0 ? t4.top - a3 : t4.bottom - g2 + a3) - f3.top;
            }
            if (r3 == "nearest" ? t4.left < f3.left ? (v3 = -(f3.left - t4.left + o3), n4 > 0 && t4.right > f3.right + v3 && (v3 = t4.right - f3.right + v3 + o3)) : t4.right > f3.right && (v3 = t4.right - f3.right + o3, n4 < 0 && t4.left < f3.left + v3 && (v3 = -(f3.left + v3 - t4.left + o3))) : v3 = (r3 == "center" ? t4.left + (t4.right - t4.left) / 2 - (f3.right - f3.left) / 2 : r3 == "start" == s3 ? t4.left - o3 : t4.right - (f3.right - f3.left) + o3) - f3.left, v3 || p3)
              if (h3)
                c3.scrollBy(v3, p3);
              else {
                if (p3) {
                  var y2 = l3.scrollTop;
                  l3.scrollTop += p3, p3 = l3.scrollTop - y2;
                }
                if (v3) {
                  var b2 = l3.scrollLeft;
                  l3.scrollLeft += v3, v3 = l3.scrollLeft - b2;
                }
                t4 = { left: t4.left - v3, top: t4.top - p3, right: t4.right - v3, bottom: t4.bottom - p3 };
              }
            if (h3)
              break;
            l3 = l3.assignedSlot || l3.parentNode, r3 = i3 = "nearest";
          } else {
            if (l3.nodeType != 11)
              break;
            l3 = l3.host;
          }
      }(this.view.scrollDOM, p2, n3.head < n3.anchor ? -1 : 1, e21.x, e21.y, e21.xMargin, e21.yMargin, this.view.textDirection == AP.LTR);
    }
  } }]), n2;
}();
function eA(e20) {
  return e20.node.nodeType == 1 && e20.node.firstChild && (e20.offset == 0 || e20.node.childNodes[e20.offset - 1].contentEditable == "false") && (e20.offset == e20.node.childNodes.length || e20.node.childNodes[e20.offset].contentEditable == "false");
}
var tA = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).height = e21, r2;
  }
  return Li(n2, [{ key: "toDOM", value: function() {
    var e21 = document.createElement("div");
    return this.updateDOM(e21), e21;
  } }, { key: "eq", value: function(e21) {
    return e21.height == this.height;
  } }, { key: "updateDOM", value: function(e21) {
    return e21.style.height = this.height + "px", true;
  } }, { key: "estimatedHeight", get: function() {
    return this.height;
  } }]), n2;
}();
function nA(e20) {
  var t2 = e20.observer.selectionRange, n2 = t2.focusNode && iA(t2.focusNode, t2.focusOffset, 0);
  if (!n2)
    return null;
  var r2 = e20.docView.nearest(n2);
  if (!r2)
    return null;
  if (r2 instanceof XO) {
    for (var i2 = n2; i2.parentNode != r2.dom; )
      i2 = i2.parentNode;
    for (var o2 = i2.previousSibling; o2 && !vO.get(o2); )
      o2 = o2.previousSibling;
    var a2 = o2 ? vO.get(o2).posAtEnd : r2.posAtStart;
    return { from: a2, to: a2, node: i2, text: n2 };
  }
  for (; ; ) {
    var s2 = r2.parent;
    if (!s2)
      return null;
    if (s2 instanceof XO)
      break;
    r2 = s2;
  }
  var u2 = r2.posAtStart;
  return { from: u2, to: u2 + r2.length, node: r2.dom, text: n2 };
}
var rA = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this)).top = e21, o2.text = r2, o2.topView = i2, o2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return this.top == e21.top && this.text == e21.text;
  } }, { key: "toDOM", value: function() {
    return this.top;
  } }, { key: "ignoreEvent", value: function() {
    return false;
  } }, { key: "customView", get: function() {
    return NO$1;
  } }]), n2;
}();
function iA(e20, t2, n2) {
  for (; ; ) {
    if (e20.nodeType == 3)
      return e20;
    if (e20.nodeType == 1 && t2 > 0 && n2 <= 0)
      t2 = eO(e20 = e20.childNodes[t2 - 1]);
    else {
      if (!(e20.nodeType == 1 && t2 < e20.childNodes.length && n2 >= 0))
        return null;
      e20 = e20.childNodes[t2], t2 = 0;
    }
  }
}
function oA(e20, t2) {
  return e20.nodeType != 1 ? 0 : (t2 && e20.childNodes[t2 - 1].contentEditable == "false" ? 1 : 0) | (t2 < e20.childNodes.length && e20.childNodes[t2].contentEditable == "false" ? 2 : 0);
}
var aA = function() {
  function e20() {
    Ri(this, e20), this.changes = [];
  }
  return Li(e20, [{ key: "compareRange", value: function(e21, t2) {
    ZO(e21, t2, this.changes);
  } }, { key: "comparePoint", value: function(e21, t2) {
    ZO(e21, t2, this.changes);
  } }]), e20;
}();
function sA(e20, t2) {
  for (var n2 = e20; n2 && n2 != t2; n2 = n2.assignedSlot || n2.parentNode)
    if (n2.nodeType == 1 && n2.contentEditable == "false")
      return true;
  return false;
}
function uA(e20, t2) {
  return t2.left > e20 ? t2.left - e20 : Math.max(0, e20 - t2.right);
}
function cA(e20, t2) {
  return t2.top > e20 ? t2.top - e20 : Math.max(0, e20 - t2.bottom);
}
function lA(e20, t2) {
  return e20.top < t2.bottom - 1 && e20.bottom > t2.top + 1;
}
function fA(e20, t2) {
  return t2 < e20.top ? { top: t2, left: e20.left, right: e20.right, bottom: e20.bottom } : e20;
}
function hA(e20, t2) {
  return t2 > e20.bottom ? { top: e20.top, left: e20.left, right: e20.right, bottom: t2 } : e20;
}
function dA(e20, t2, n2) {
  for (var r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20.firstChild; f2; f2 = f2.nextSibling)
    for (var h2 = Q$(f2), d2 = 0; d2 < h2.length; d2++) {
      var v2 = h2[d2];
      i2 && lA(i2, v2) && (v2 = fA(hA(v2, i2.bottom), i2.top));
      var p2 = uA(t2, v2), m2 = cA(n2, v2);
      if (p2 == 0 && m2 == 0)
        return f2.nodeType == 3 ? vA(f2, t2, n2) : dA(f2, t2, n2);
      (!r2 || a2 > m2 || a2 == m2 && o2 > p2) && (r2 = f2, i2 = v2, o2 = p2, a2 = m2), p2 == 0 ? n2 > v2.bottom && (!c2 || c2.bottom < v2.bottom) ? (s2 = f2, c2 = v2) : n2 < v2.top && (!l2 || l2.top > v2.top) && (u2 = f2, l2 = v2) : c2 && lA(c2, v2) ? c2 = hA(c2, v2.bottom) : l2 && lA(l2, v2) && (l2 = fA(l2, v2.top));
    }
  if (c2 && c2.bottom >= n2 ? (r2 = s2, i2 = c2) : l2 && l2.top <= n2 && (r2 = u2, i2 = l2), !r2)
    return { node: e20, offset: 0 };
  var g2 = Math.max(i2.left, Math.min(i2.right, t2));
  return r2.nodeType == 3 ? vA(r2, g2, n2) : o2 || r2.contentEditable != "true" ? { node: e20, offset: Array.prototype.indexOf.call(e20.childNodes, r2) + (t2 >= (i2.left + i2.right) / 2 ? 1 : 0) } : dA(r2, g2, n2);
}
function vA(e20, t2, n2) {
  for (var r2 = e20.nodeValue.length, i2 = -1, o2 = 1e9, a2 = 0, s2 = 0; s2 < r2; s2++)
    for (var u2 = uO(e20, s2, s2 + 1).getClientRects(), c2 = 0; c2 < u2.length; c2++) {
      var l2 = u2[c2];
      if (l2.top != l2.bottom) {
        a2 || (a2 = t2 - l2.left);
        var f2 = (l2.top > n2 ? l2.top - n2 : n2 - l2.bottom) - 1;
        if (l2.left - 1 <= t2 && l2.right + 1 >= t2 && f2 < o2) {
          var h2 = t2 >= (l2.left + l2.right) / 2, d2 = h2;
          if (AO.chrome || AO.gecko)
            uO(e20, s2).getBoundingClientRect().left == l2.right && (d2 = !h2);
          if (f2 <= 0)
            return { node: e20, offset: s2 + (d2 ? 1 : 0) };
          i2 = s2 + (d2 ? 1 : 0), o2 = f2;
        }
      }
    }
  return { node: e20, offset: i2 > -1 ? i2 : a2 > 0 ? e20.nodeValue.length : 0 };
}
function pA(e20, t2, n2) {
  var r2, i2, o2 = t2.x, a2 = t2.y, s2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : -1, u2 = e20.contentDOM.getBoundingClientRect(), c2 = u2.top + e20.viewState.paddingTop, l2 = e20.viewState.docHeight, f2 = a2 - c2;
  if (f2 < 0)
    return 0;
  if (f2 > l2)
    return e20.state.doc.length;
  for (var h2 = e20.defaultLineHeight / 2, d2 = false; (i2 = e20.elementAtHeight(f2)).type != UO.Text; )
    for (; !((f2 = s2 > 0 ? i2.bottom + h2 : i2.top - h2) >= 0 && f2 <= l2); ) {
      if (d2)
        return n2 ? null : 0;
      d2 = true, s2 = -s2;
    }
  a2 = c2 + f2;
  var v2 = i2.from;
  if (v2 < e20.viewport.from)
    return e20.viewport.from == 0 ? 0 : n2 ? null : mA(e20, u2, i2, o2, a2);
  if (v2 > e20.viewport.to)
    return e20.viewport.to == e20.state.doc.length ? e20.state.doc.length : n2 ? null : mA(e20, u2, i2, o2, a2);
  var p2 = e20.dom.ownerDocument, m2 = e20.root.elementFromPoint ? e20.root : p2, g2 = m2.elementFromPoint(o2, a2);
  g2 && !e20.contentDOM.contains(g2) && (g2 = null), g2 || (o2 = Math.max(u2.left + 1, Math.min(u2.right - 1, o2)), (g2 = m2.elementFromPoint(o2, a2)) && !e20.contentDOM.contains(g2) && (g2 = null));
  var y2, b2 = -1;
  if (g2 && ((r2 = e20.docView.nearest(g2)) === null || r2 === void 0 ? void 0 : r2.isEditable) != 0) {
    if (p2.caretPositionFromPoint) {
      var w2 = p2.caretPositionFromPoint(o2, a2);
      w2 && (y2 = w2.offsetNode, b2 = w2.offset);
    } else if (p2.caretRangeFromPoint) {
      var k2 = p2.caretRangeFromPoint(o2, a2);
      k2 && (y2 = k2.startContainer, b2 = k2.startOffset, AO.safari && gA(y2, b2, o2) && (y2 = void 0));
    }
  }
  if (!y2 || !e20.docView.dom.contains(y2)) {
    var j2 = XO.find(e20.docView, v2);
    if (!j2)
      return f2 > i2.top + i2.height / 2 ? i2.to : i2.from;
    var x2 = dA(j2.dom, o2, a2);
    y2 = x2.node, b2 = x2.offset;
  }
  return e20.docView.posFromDOM(y2, b2);
}
function mA(e20, t2, n2, r2, i2) {
  var o2 = Math.round((r2 - t2.left) * e20.defaultCharacterWidth);
  e20.lineWrapping && n2.height > 1.5 * e20.defaultLineHeight && (o2 += Math.floor((i2 - n2.top) / e20.defaultLineHeight) * e20.viewState.heightOracle.lineLength);
  var a2 = e20.state.sliceDoc(n2.from, n2.to);
  return n2.from + XC(a2, o2, e20.state.tabSize);
}
function gA(e20, t2, n2) {
  var r2;
  if (e20.nodeType != 3 || t2 != (r2 = e20.nodeValue.length))
    return false;
  for (var i2 = e20.nextSibling; i2; i2 = i2.nextSibling)
    if (i2.nodeType != 1 || i2.nodeName != "BR")
      return false;
  return uO(e20, r2 - 1, r2).getBoundingClientRect().left > n2;
}
function yA(e20, t2, n2, r2) {
  var i2 = e20.state.doc.lineAt(t2.head), o2 = r2 && e20.lineWrapping ? e20.coordsAtPos(t2.assoc < 0 && t2.head > i2.from ? t2.head - 1 : t2.head) : null;
  if (o2) {
    var a2 = e20.dom.getBoundingClientRect(), s2 = e20.posAtCoords({ x: n2 == (e20.textDirection == AP.LTR) ? a2.right - 1 : a2.left + 1, y: (o2.top + o2.bottom) / 2 });
    if (s2 != null)
      return k_.cursor(s2, n2 ? -1 : 1);
  }
  var u2 = XO.find(e20.docView, t2.head), c2 = u2 ? n2 ? u2.posAtEnd : u2.posAtStart : n2 ? i2.to : i2.from;
  return k_.cursor(c2, n2 ? -1 : 1);
}
function bA(e20, t2, n2, r2) {
  for (var i2 = e20.state.doc.lineAt(t2.head), o2 = e20.bidiSpans(i2), a2 = t2, s2 = null; ; ) {
    var u2 = GP(i2, o2, e20.textDirection, a2, n2), c2 = KP;
    if (!u2) {
      if (i2.number == (n2 ? e20.state.doc.lines : 1))
        return a2;
      c2 = "\n", i2 = e20.state.doc.line(i2.number + (n2 ? 1 : -1)), o2 = e20.bidiSpans(i2), u2 = k_.cursor(n2 ? i2.from : i2.to);
    }
    if (s2) {
      if (!s2(c2))
        return a2;
    } else {
      if (!r2)
        return u2;
      s2 = r2(c2);
    }
    a2 = u2;
  }
}
function wA(e20, t2, n2) {
  for (var r2 = e20.pluginField(yP.atomicRanges); ; ) {
    var i2, o2 = false, a2 = bi(r2);
    try {
      for (a2.s(); !(i2 = a2.n()).done; ) {
        i2.value.between(n2.from - 1, n2.from + 1, function(e21, r3, i3) {
          n2.from > e21 && n2.from < r3 && (n2 = t2.from > n2.from ? k_.cursor(e21, 1) : k_.cursor(r3, -1), o2 = true);
        });
      }
    } catch (e21) {
      a2.e(e21);
    } finally {
      a2.f();
    }
    if (!o2)
      return n2;
  }
}
var kA = function() {
  function e20(t2) {
    var n2 = this;
    Ri(this, e20), this.lastKeyCode = 0, this.lastKeyTime = 0, this.pendingIOSKey = void 0, this.lastSelectionOrigin = null, this.lastSelectionTime = 0, this.lastEscPress = 0, this.lastContextMenu = 0, this.scrollHandlers = [], this.registeredEvents = [], this.customHandlers = [], this.composing = -1, this.compositionFirstChange = null, this.compositionEndedAt = 0, this.rapidCompositionStart = false, this.mouseSelection = null;
    var r2 = function(e21) {
      var r3 = _A[e21];
      t2.contentDOM.addEventListener(e21, function(i3) {
        CA(t2, i3) && !n2.ignoreDuringComposition(i3) && (e21 == "keydown" && n2.keydown(t2, i3) || (n2.mustFlushObserver(i3) && t2.observer.forceFlush(), n2.runCustomHandlers(e21, t2, i3) ? i3.preventDefault() : r3(t2, i3)));
      }), n2.registeredEvents.push(e21);
    };
    for (var i2 in _A)
      r2(i2);
    this.notifiedFocused = t2.hasFocus, this.ensureHandlers(t2), AO.safari && t2.contentDOM.addEventListener("input", function() {
      return null;
    });
  }
  return Li(e20, [{ key: "setSelectionOrigin", value: function(e21) {
    this.lastSelectionOrigin = e21, this.lastSelectionTime = Date.now();
  } }, { key: "ensureHandlers", value: function(e21) {
    var t2, n2 = this, r2 = bi(this.customHandlers = e21.pluginField(jP));
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value, o2 = function(t3) {
          n2.registeredEvents.indexOf(t3) < 0 && t3 != "scroll" && (n2.registeredEvents.push(t3), e21.contentDOM.addEventListener(t3, function(r3) {
            CA(e21, r3) && n2.runCustomHandlers(t3, e21, r3) && r3.preventDefault();
          }));
        };
        for (var a2 in i2.handlers)
          o2(a2);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
  } }, { key: "runCustomHandlers", value: function(e21, t2, n2) {
    var r2, i2 = bi(this.customHandlers);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value, a2 = o2.handlers[e21];
        if (a2)
          try {
            if (a2.call(o2.plugin, n2, t2) || n2.defaultPrevented)
              return true;
          } catch (e22) {
            pP(t2.state, e22);
          }
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return false;
  } }, { key: "runScrollHandlers", value: function(e21, t2) {
    var n2, r2 = bi(this.customHandlers);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value, o2 = i2.handlers.scroll;
        if (o2)
          try {
            o2.call(i2.plugin, t2, e21);
          } catch (t3) {
            pP(e21.state, t3);
          }
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
  } }, { key: "keydown", value: function(e21, t2) {
    var n2, r2 = this;
    return this.lastKeyCode = t2.keyCode, this.lastKeyTime = Date.now(), t2.keyCode == 9 && Date.now() < this.lastEscPress + 2e3 || (!AO.android || !AO.chrome || t2.synthetic || t2.keyCode != 13 && t2.keyCode != 8 ? !(!AO.ios || !(n2 = jA.find(function(e22) {
      return e22.keyCode == t2.keyCode;
    })) || t2.ctrlKey || t2.altKey || t2.metaKey || t2.synthetic) && (this.pendingIOSKey = n2, setTimeout(function() {
      return r2.flushIOSKey(e21);
    }, 250), true) : (e21.observer.delayAndroidKey(t2.key, t2.keyCode), true));
  } }, { key: "flushIOSKey", value: function(e21) {
    var t2 = this.pendingIOSKey;
    return !!t2 && (this.pendingIOSKey = void 0, cO(e21.contentDOM, t2.key, t2.keyCode));
  } }, { key: "ignoreDuringComposition", value: function(e21) {
    return !!/^key/.test(e21.type) && (this.composing > 0 || !!(AO.safari && Date.now() - this.compositionEndedAt < 500) && (this.compositionEndedAt = 0, true));
  } }, { key: "mustFlushObserver", value: function(e21) {
    return e21.type == "keydown" && e21.keyCode != 229 || e21.type == "compositionend" && !AO.ios;
  } }, { key: "startMouseSelection", value: function(e21) {
    this.mouseSelection && this.mouseSelection.destroy(), this.mouseSelection = e21;
  } }, { key: "update", value: function(e21) {
    this.mouseSelection && this.mouseSelection.update(e21), e21.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
  } }, { key: "destroy", value: function() {
    this.mouseSelection && this.mouseSelection.destroy();
  } }]), e20;
}(), jA = [{ key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" }, { key: "Enter", keyCode: 13, inputType: "insertParagraph" }, { key: "Delete", keyCode: 46, inputType: "deleteContentForward" }], xA = [16, 17, 18, 20, 91, 92, 224, 225], SA = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.view = t2, this.style = r2, this.mustSelect = i2, this.lastEvent = n2;
    var o2 = t2.contentDOM.ownerDocument;
    o2.addEventListener("mousemove", this.move = this.move.bind(this)), o2.addEventListener("mouseup", this.up = this.up.bind(this)), this.extend = n2.shiftKey, this.multiple = t2.state.facet(h$.allowMultipleSelections) && function(e21, t3) {
      var n3 = e21.state.facet(oP);
      return n3.length ? n3[0](t3) : AO.mac ? t3.metaKey : t3.ctrlKey;
    }(t2, n2), this.dragMove = function(e21, t3) {
      var n3 = e21.state.facet(aP);
      return n3.length ? n3[0](t3) : AO.mac ? !t3.altKey : !t3.ctrlKey;
    }(t2, n2), this.dragging = !(!function(e21, t3) {
      if (e21.state.selection.main.empty)
        return false;
      var n3 = J$(e21.root);
      if (n3.rangeCount == 0)
        return true;
      for (var r3 = n3.getRangeAt(0).getClientRects(), i3 = 0; i3 < r3.length; i3++) {
        var o3 = r3[i3];
        if (o3.left <= t3.clientX && o3.right >= t3.clientX && o3.top <= t3.clientY && o3.bottom >= t3.clientY)
          return true;
      }
      return false;
    }(t2, n2) || zA(n2) != 1) && null, this.dragging === false && (n2.preventDefault(), this.select(n2));
  }
  return Li(e20, [{ key: "move", value: function(e21) {
    if (e21.buttons == 0)
      return this.destroy();
    this.dragging === false && this.select(this.lastEvent = e21);
  } }, { key: "up", value: function(e21) {
    this.dragging == null && this.select(this.lastEvent), this.dragging || e21.preventDefault(), this.destroy();
  } }, { key: "destroy", value: function() {
    var e21 = this.view.contentDOM.ownerDocument;
    e21.removeEventListener("mousemove", this.move), e21.removeEventListener("mouseup", this.up), this.view.inputState.mouseSelection = null;
  } }, { key: "select", value: function(e21) {
    var t2 = this.style.get(e21, this.extend, this.multiple);
    !this.mustSelect && t2.eq(this.view.state.selection) && t2.main.assoc == this.view.state.selection.main.assoc || this.view.dispatch({ selection: t2, userEvent: "select.pointer", scrollIntoView: true }), this.mustSelect = false;
  } }, { key: "update", value: function(e21) {
    var t2 = this;
    e21.docChanged && this.dragging && (this.dragging = this.dragging.map(e21.changes)), this.style.update(e21) && setTimeout(function() {
      return t2.select(t2.lastEvent);
    }, 20);
  } }]), e20;
}();
function CA(e20, t2) {
  if (!t2.bubbles)
    return true;
  if (t2.defaultPrevented)
    return false;
  for (var n2, r2 = t2.target; r2 != e20.contentDOM; r2 = r2.parentNode)
    if (!r2 || r2.nodeType == 11 || (n2 = vO.get(r2)) && n2.ignoreEvent(t2))
      return false;
  return true;
}
var _A = /* @__PURE__ */ Object.create(null), $A = AO.ie && AO.ie_version < 15 || AO.ios && AO.webkit_version < 604;
function OA(e20, t2) {
  var n2, r2 = e20.state, i2 = 1, o2 = r2.toText(t2), a2 = o2.lines == r2.selection.ranges.length;
  if (qA != null && r2.selection.ranges.every(function(e21) {
    return e21.empty;
  }) && qA == o2.toString()) {
    var s2 = -1;
    n2 = r2.changeByRange(function(e21) {
      var n3 = r2.doc.lineAt(e21.from);
      if (n3.from == s2)
        return { range: e21 };
      s2 = n3.from;
      var u2 = r2.toText((a2 ? o2.line(i2++).text : t2) + r2.lineBreak);
      return { changes: { from: n3.from, insert: u2 }, range: k_.cursor(e21.from + u2.length) };
    });
  } else
    n2 = a2 ? r2.changeByRange(function(e21) {
      var t3 = o2.line(i2++);
      return { changes: { from: e21.from, to: e21.to, insert: t3.text }, range: k_.cursor(e21.from + t3.length) };
    }) : r2.replaceSelection(o2);
  e20.dispatch(n2, { userEvent: "input.paste", scrollIntoView: true });
}
_A.keydown = function(e20, t2) {
  e20.inputState.setSelectionOrigin("select"), t2.keyCode == 27 ? e20.inputState.lastEscPress = Date.now() : xA.indexOf(t2.keyCode) < 0 && (e20.inputState.lastEscPress = 0);
};
var PA = 0;
function AA(e20, t2, n2, r2) {
  if (r2 == 1)
    return k_.cursor(t2, n2);
  if (r2 == 2)
    return function(e21, t3) {
      var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, r3 = e21.charCategorizer(t3), i3 = e21.doc.lineAt(t3), o3 = t3 - i3.from;
      if (i3.length == 0)
        return k_.cursor(t3);
      o3 == 0 ? n3 = 1 : o3 == i3.length && (n3 = -1);
      var a3 = o3, s3 = o3;
      n3 < 0 ? a3 = HC(i3.text, o3, false) : s3 = HC(i3.text, o3);
      for (var u2 = r3(i3.text.slice(a3, s3)); a3 > 0; ) {
        var c2 = HC(i3.text, a3, false);
        if (r3(i3.text.slice(c2, a3)) != u2)
          break;
        a3 = c2;
      }
      for (; s3 < i3.length; ) {
        var l2 = HC(i3.text, s3);
        if (r3(i3.text.slice(s3, l2)) != u2)
          break;
        s3 = l2;
      }
      return k_.range(a3 + i3.from, s3 + i3.from);
    }(e20.state, t2, n2);
  var i2 = XO.find(e20.docView, t2), o2 = e20.state.doc.lineAt(i2 ? i2.posAtEnd : t2), a2 = i2 ? i2.posAtStart : o2.from, s2 = i2 ? i2.posAtEnd : o2.to;
  return s2 < e20.state.doc.length && s2 == o2.to && s2++, k_.range(a2, s2);
}
_A.touchstart = function(e20, t2) {
  PA = Date.now(), e20.inputState.setSelectionOrigin("select.pointer");
}, _A.touchmove = function(e20) {
  e20.inputState.setSelectionOrigin("select.pointer");
}, _A.mousedown = function(e20, t2) {
  if (e20.observer.flush(), !(PA > Date.now() - 2e3 && zA(t2) == 1)) {
    var n2, r2 = null, i2 = bi(e20.state.facet(sP));
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        if (r2 = (0, n2.value)(e20, t2))
          break;
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
    if (r2 || t2.button != 0 || (r2 = function(e21, t3) {
      var n3 = IA(e21, t3), r3 = zA(t3), i3 = e21.state.selection, o3 = n3, a2 = t3;
      return { update: function(e22) {
        e22.docChanged && (n3 && (n3.pos = e22.changes.mapPos(n3.pos)), i3 = i3.map(e22.changes), a2 = null);
      }, get: function(t4, s2, u2) {
        var c2;
        if (a2 && t4.clientX == a2.clientX && t4.clientY == a2.clientY ? c2 = o3 : (c2 = o3 = IA(e21, t4), a2 = t4), !c2 || !n3)
          return i3;
        var l2 = AA(e21, c2.pos, c2.bias, r3);
        if (n3.pos != c2.pos && !s2) {
          var f2 = AA(e21, n3.pos, n3.bias, r3), h2 = Math.min(f2.from, l2.from), d2 = Math.max(f2.to, l2.to);
          l2 = h2 < l2.from ? k_.range(h2, d2) : k_.range(d2, h2);
        }
        return s2 ? i3.replaceRange(i3.main.extend(l2.from, l2.to)) : u2 ? i3.addRange(l2) : k_.create([l2]);
      } };
    }(e20, t2)), r2) {
      var o2 = e20.root.activeElement != e20.contentDOM;
      o2 && e20.observer.ignore(function() {
        return sO(e20.contentDOM);
      }), e20.inputState.startMouseSelection(new SA(e20, t2, r2, o2));
    }
  }
};
var EA = function(e20, t2) {
  return e20 >= t2.top && e20 <= t2.bottom;
}, MA = function(e20, t2, n2) {
  return EA(t2, n2) && e20 >= n2.left && e20 <= n2.right;
};
function TA(e20, t2, n2, r2) {
  var i2 = XO.find(e20.docView, t2);
  if (!i2)
    return 1;
  var o2 = t2 - i2.posAtStart;
  if (o2 == 0)
    return 1;
  if (o2 == i2.length)
    return -1;
  var a2 = i2.coordsAt(o2, -1);
  if (a2 && MA(n2, r2, a2))
    return -1;
  var s2 = i2.coordsAt(o2, 1);
  return s2 && MA(n2, r2, s2) ? 1 : a2 && EA(r2, a2) ? -1 : 1;
}
function IA(e20, t2) {
  var n2 = e20.posAtCoords({ x: t2.clientX, y: t2.clientY }, false);
  return { pos: n2, bias: TA(e20, n2, t2.clientX, t2.clientY) };
}
var NA = AO.ie && AO.ie_version <= 11, RA = null, DA = 0, LA = 0;
function zA(e20) {
  if (!NA)
    return e20.detail;
  var t2 = RA, n2 = LA;
  return RA = e20, LA = Date.now(), DA = !t2 || n2 > Date.now() - 400 && Math.abs(t2.clientX - e20.clientX) < 2 && Math.abs(t2.clientY - e20.clientY) < 2 ? (DA + 1) % 3 : 1;
}
function BA(e20, t2, n2, r2) {
  if (n2) {
    var i2 = e20.posAtCoords({ x: t2.clientX, y: t2.clientY }, false);
    t2.preventDefault();
    var o2 = e20.inputState.mouseSelection, a2 = r2 && o2 && o2.dragging && o2.dragMove ? { from: o2.dragging.from, to: o2.dragging.to } : null, s2 = { from: i2, insert: n2 }, u2 = e20.state.changes(a2 ? [a2, s2] : s2);
    e20.focus(), e20.dispatch({ changes: u2, selection: { anchor: u2.mapPos(i2, -1), head: u2.mapPos(i2, 1) }, userEvent: a2 ? "move.drop" : "input.drop" });
  }
}
_A.dragstart = function(e20, t2) {
  var n2 = e20.state.selection.main, r2 = e20.inputState.mouseSelection;
  r2 && (r2.dragging = n2), t2.dataTransfer && (t2.dataTransfer.setData("Text", e20.state.sliceDoc(n2.from, n2.to)), t2.dataTransfer.effectAllowed = "copyMove");
}, _A.drop = function(e20, t2) {
  if (t2.dataTransfer) {
    if (e20.state.readOnly)
      return t2.preventDefault();
    var n2 = t2.dataTransfer.files;
    n2 && n2.length ? function() {
      t2.preventDefault();
      for (var r2 = Array(n2.length), i2 = 0, o2 = function() {
        ++i2 == n2.length && BA(e20, t2, r2.filter(function(e21) {
          return e21 != null;
        }).join(e20.state.lineBreak), false);
      }, a2 = function(e21) {
        var t3 = new FileReader();
        t3.onerror = o2, t3.onload = function() {
          /[\x00-\x08\x0e-\x1f]{2}/.test(t3.result) || (r2[e21] = t3.result), o2();
        }, t3.readAsText(n2[e21]);
      }, s2 = 0; s2 < n2.length; s2++)
        a2(s2);
    }() : BA(e20, t2, t2.dataTransfer.getData("Text"), true);
  }
}, _A.paste = function(e20, t2) {
  if (e20.state.readOnly)
    return t2.preventDefault();
  e20.observer.flush();
  var n2 = $A ? null : t2.clipboardData;
  n2 ? (OA(e20, n2.getData("text/plain")), t2.preventDefault()) : function(e21) {
    var t3 = e21.dom.parentNode;
    if (t3) {
      var n3 = t3.appendChild(document.createElement("textarea"));
      n3.style.cssText = "position: fixed; left: -10000px; top: 10px", n3.focus(), setTimeout(function() {
        e21.focus(), n3.remove(), OA(e21, n3.value);
      }, 50);
    }
  }(e20);
};
var qA = null;
function FA(e20, t2) {
  if (e20.docView.compositionDeco.size) {
    e20.inputState.rapidCompositionStart = t2;
    try {
      e20.update([]);
    } finally {
      e20.inputState.rapidCompositionStart = false;
    }
  }
}
_A.copy = _A.cut = function(e20, t2) {
  var n2 = function(e21) {
    var t3, n3 = [], r3 = [], i3 = false, o3 = bi(e21.selection.ranges);
    try {
      for (o3.s(); !(t3 = o3.n()).done; ) {
        var a3 = t3.value;
        a3.empty || (n3.push(e21.sliceDoc(a3.from, a3.to)), r3.push(a3));
      }
    } catch (e22) {
      o3.e(e22);
    } finally {
      o3.f();
    }
    if (!n3.length) {
      var s2, u2 = -1, c2 = bi(e21.selection.ranges);
      try {
        for (c2.s(); !(s2 = c2.n()).done; ) {
          var l2 = s2.value.from, f2 = e21.doc.lineAt(l2);
          f2.number > u2 && (n3.push(f2.text), r3.push({ from: f2.from, to: Math.min(e21.doc.length, f2.to + 1) })), u2 = f2.number;
        }
      } catch (e22) {
        c2.e(e22);
      } finally {
        c2.f();
      }
      i3 = true;
    }
    return { text: n3.join(e21.lineBreak), ranges: r3, linewise: i3 };
  }(e20.state), r2 = n2.text, i2 = n2.ranges, o2 = n2.linewise;
  if (r2 || o2) {
    qA = o2 ? r2 : null;
    var a2 = $A ? null : t2.clipboardData;
    a2 ? (t2.preventDefault(), a2.clearData(), a2.setData("text/plain", r2)) : function(e21, t3) {
      var n3 = e21.dom.parentNode;
      if (n3) {
        var r3 = n3.appendChild(document.createElement("textarea"));
        r3.style.cssText = "position: fixed; left: -10000px; top: 10px", r3.value = t3, r3.focus(), r3.selectionEnd = t3.length, r3.selectionStart = 0, setTimeout(function() {
          r3.remove(), e21.focus();
        }, 50);
      }
    }(e20, r2), t2.type != "cut" || e20.state.readOnly || e20.dispatch({ changes: i2, scrollIntoView: true, userEvent: "delete.cut" });
  }
}, _A.focus = _A.blur = function(e20) {
  setTimeout(function() {
    e20.hasFocus != e20.inputState.notifiedFocused && e20.update([]);
  }, 10);
}, _A.compositionstart = _A.compositionupdate = function(e20) {
  e20.inputState.compositionFirstChange == null && (e20.inputState.compositionFirstChange = true), e20.inputState.composing < 0 && (e20.inputState.composing = 0, e20.docView.compositionDeco.size && (e20.observer.flush(), FA(e20, true)));
}, _A.compositionend = function(e20) {
  e20.inputState.composing = -1, e20.inputState.compositionEndedAt = Date.now(), e20.inputState.compositionFirstChange = null, setTimeout(function() {
    e20.inputState.composing < 0 && FA(e20, false);
  }, 50);
}, _A.contextmenu = function(e20) {
  e20.inputState.lastContextMenu = Date.now();
}, _A.beforeinput = function(e20, t2) {
  var n2, r2;
  if (AO.chrome && AO.android && (r2 = jA.find(function(e21) {
    return e21.inputType == t2.inputType;
  })) && (e20.observer.delayAndroidKey(r2.key, r2.keyCode), r2.key == "Backspace" || r2.key == "Delete")) {
    var i2 = ((n2 = window.visualViewport) === null || n2 === void 0 ? void 0 : n2.height) || 0;
    setTimeout(function() {
      var t3;
      (((t3 = window.visualViewport) === null || t3 === void 0 ? void 0 : t3.height) || 0) > i2 + 10 && e20.hasFocus && (e20.contentDOM.blur(), e20.focus());
    }, 100);
  }
};
var VA = ["pre-wrap", "normal", "pre-line", "break-spaces"], HA = function() {
  function e20() {
    Ri(this, e20), this.doc = e_.empty, this.lineWrapping = false, this.direction = AP.LTR, this.heightSamples = {}, this.lineHeight = 14, this.charWidth = 7, this.lineLength = 30, this.heightChanged = false;
  }
  return Li(e20, [{ key: "heightForGap", value: function(e21, t2) {
    var n2 = this.doc.lineAt(t2).number - this.doc.lineAt(e21).number + 1;
    return this.lineWrapping && (n2 += Math.ceil((t2 - e21 - n2 * this.lineLength * 0.5) / this.lineLength)), this.lineHeight * n2;
  } }, { key: "heightForLine", value: function(e21) {
    return this.lineWrapping ? (1 + Math.max(0, Math.ceil((e21 - this.lineLength) / (this.lineLength - 5)))) * this.lineHeight : this.lineHeight;
  } }, { key: "setDoc", value: function(e21) {
    return this.doc = e21, this;
  } }, { key: "mustRefreshForStyle", value: function(e21, t2) {
    return VA.indexOf(e21) > -1 != this.lineWrapping || this.direction != t2;
  } }, { key: "mustRefreshForHeights", value: function(e21) {
    for (var t2 = false, n2 = 0; n2 < e21.length; n2++) {
      var r2 = e21[n2];
      r2 < 0 ? n2++ : this.heightSamples[Math.floor(10 * r2)] || (t2 = true, this.heightSamples[Math.floor(10 * r2)] = true);
    }
    return t2;
  } }, { key: "refresh", value: function(e21, t2, n2, r2, i2, o2) {
    var a2 = VA.indexOf(e21) > -1, s2 = Math.round(n2) != Math.round(this.lineHeight) || this.lineWrapping != a2 || this.direction != t2;
    if (this.lineWrapping = a2, this.direction = t2, this.lineHeight = n2, this.charWidth = r2, this.lineLength = i2, s2) {
      this.heightSamples = {};
      for (var u2 = 0; u2 < o2.length; u2++) {
        var c2 = o2[u2];
        c2 < 0 ? u2++ : this.heightSamples[Math.floor(10 * c2)] = true;
      }
    }
    return s2;
  } }]), e20;
}(), WA = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.from = t2, this.heights = n2, this.index = 0;
  }
  return Li(e20, [{ key: "more", get: function() {
    return this.index < this.heights.length;
  } }]), e20;
}(), UA = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.from = t2, this.length = n2, this.top = r2, this.height = i2, this.type = o2;
  }
  return Li(e20, [{ key: "to", get: function() {
    return this.from + this.length;
  } }, { key: "bottom", get: function() {
    return this.top + this.height;
  } }, { key: "join", value: function(t2) {
    var n2 = (Array.isArray(this.type) ? this.type : [this]).concat(Array.isArray(t2.type) ? t2.type : [t2]);
    return new e20(this.from, this.length + t2.length, this.top, this.height + t2.height, n2);
  } }, { key: "moveY", value: function(t2) {
    return t2 ? new e20(this.from, this.length, this.top + t2, this.height, Array.isArray(this.type) ? this.type.map(function(e21) {
      return e21.moveY(t2);
    }) : this.type) : this;
  } }]), e20;
}(), JA = function(e20) {
  return e20[e20.ByPos = 0] = "ByPos", e20[e20.ByHeight = 1] = "ByHeight", e20[e20.ByPosNoHeight = 2] = "ByPosNoHeight", e20;
}(JA || (JA = {})), KA = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 2;
    Ri(this, e20), this.length = t2, this.height = n2, this.flags = r2;
  }
  return Li(e20, [{ key: "outdated", get: function() {
    return (2 & this.flags) > 0;
  }, set: function(e21) {
    this.flags = (e21 ? 2 : 0) | -3 & this.flags;
  } }, { key: "setHeight", value: function(e21, t2) {
    this.height != t2 && (Math.abs(this.height - t2) > 1e-3 && (e21.heightChanged = true), this.height = t2);
  } }, { key: "replace", value: function(t2, n2, r2) {
    return e20.of(r2);
  } }, { key: "decomposeLeft", value: function(e21, t2) {
    t2.push(this);
  } }, { key: "decomposeRight", value: function(e21, t2) {
    t2.push(this);
  } }, { key: "applyChanges", value: function(e21, t2, n2, r2) {
    for (var i2 = this, o2 = r2.length - 1; o2 >= 0; o2--) {
      var a2 = r2[o2], s2 = a2.fromA, u2 = a2.toA, c2 = a2.fromB, l2 = a2.toB, f2 = i2.lineAt(s2, JA.ByPosNoHeight, t2, 0, 0), h2 = f2.to >= u2 ? f2 : i2.lineAt(u2, JA.ByPosNoHeight, t2, 0, 0);
      for (l2 += h2.to - u2, u2 = h2.to; o2 > 0 && f2.from <= r2[o2 - 1].toA; )
        s2 = r2[o2 - 1].fromA, c2 = r2[o2 - 1].fromB, o2--, s2 < f2.from && (f2 = i2.lineAt(s2, JA.ByPosNoHeight, t2, 0, 0));
      c2 += f2.from - s2, s2 = f2.from;
      var d2 = eE.build(n2, e21, c2, l2);
      i2 = i2.replace(s2, u2, d2);
    }
    return i2.updateHeight(n2, 0);
  } }], [{ key: "empty", value: function() {
    return new QA(0, 0);
  } }, { key: "of", value: function(t2) {
    if (t2.length == 1)
      return t2[0];
    for (var n2 = 0, r2 = t2.length, i2 = 0, o2 = 0; ; )
      if (n2 == r2)
        if (i2 > 2 * o2) {
          var a2 = t2[n2 - 1];
          a2.break ? t2.splice(--n2, 1, a2.left, null, a2.right) : t2.splice(--n2, 1, a2.left, a2.right), r2 += 1 + a2.break, i2 -= a2.size;
        } else {
          if (!(o2 > 2 * i2))
            break;
          var s2 = t2[r2];
          s2.break ? t2.splice(r2, 1, s2.left, null, s2.right) : t2.splice(r2, 1, s2.left, s2.right), r2 += 2 + s2.break, o2 -= s2.size;
        }
      else if (i2 < o2) {
        var u2 = t2[n2++];
        u2 && (i2 += u2.size);
      } else {
        var c2 = t2[--r2];
        c2 && (o2 += c2.size);
      }
    var l2 = 0;
    return t2[n2 - 1] == null ? (l2 = 1, n2--) : t2[n2] == null && (l2 = 1, r2++), new ZA(e20.of(t2.slice(0, n2)), l2, e20.of(t2.slice(r2)));
  } }]), e20;
}();
KA.prototype.size = 1;
var GA = function(e20) {
  xi(n2, KA);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this, e21, r2)).type = i2, o2;
  }
  return Li(n2, [{ key: "blockAt", value: function(e21, t3, n3, r2) {
    return new UA(r2, this.length, n3, this.height, this.type);
  } }, { key: "lineAt", value: function(e21, t3, n3, r2, i2) {
    return this.blockAt(0, n3, r2, i2);
  } }, { key: "forEachLine", value: function(e21, t3, n3, r2, i2, o2) {
    o2(this.blockAt(0, n3, r2, i2));
  } }, { key: "updateHeight", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n3 = arguments.length > 3 ? arguments[3] : void 0;
    return n3 && n3.from <= t3 && n3.more && this.setHeight(e21, n3.heights[n3.index++]), this.outdated = false, this;
  } }, { key: "toString", value: function() {
    return "block(".concat(this.length, ")");
  } }]), n2;
}(), QA = function(e20) {
  xi(n2, GA);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this, e21, r2, UO.Text)).collapsed = 0, i2.widgetHeight = 0, i2;
  }
  return Li(n2, [{ key: "replace", value: function(e21, t3, r2) {
    var i2 = r2[0];
    return r2.length == 1 && (i2 instanceof n2 || i2 instanceof YA && 4 & i2.flags) && Math.abs(this.length - i2.length) < 10 ? (i2 instanceof YA ? i2 = new n2(i2.length, this.height) : i2.height = this.height, this.outdated || (i2.outdated = false), i2) : KA.of(r2);
  } }, { key: "updateHeight", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r2 = arguments.length > 3 ? arguments[3] : void 0;
    return r2 && r2.from <= t3 && r2.more ? this.setHeight(e21, r2.heights[r2.index++]) : (n3 || this.outdated) && this.setHeight(e21, Math.max(this.widgetHeight, e21.heightForLine(this.length - this.collapsed))), this.outdated = false, this;
  } }, { key: "toString", value: function() {
    return "line(".concat(this.length).concat(this.collapsed ? -this.collapsed : "").concat(this.widgetHeight ? ":" + this.widgetHeight : "", ")");
  } }]), n2;
}(), YA = function(e20) {
  xi(n2, KA);
  var t2 = Ci(n2);
  function n2(e21) {
    return Ri(this, n2), t2.call(this, e21, 0);
  }
  return Li(n2, [{ key: "lines", value: function(e21, t3) {
    var n3 = e21.lineAt(t3).number, r2 = e21.lineAt(t3 + this.length).number;
    return { firstLine: n3, lastLine: r2, lineHeight: this.height / (r2 - n3 + 1) };
  } }, { key: "blockAt", value: function(e21, t3, n3, r2) {
    var i2 = this.lines(t3, r2), o2 = i2.firstLine, a2 = i2.lastLine, s2 = i2.lineHeight, u2 = Math.max(0, Math.min(a2 - o2, Math.floor((e21 - n3) / s2))), c2 = t3.line(o2 + u2), l2 = c2.from, f2 = c2.length;
    return new UA(l2, f2, n3 + s2 * u2, s2, UO.Text);
  } }, { key: "lineAt", value: function(e21, t3, n3, r2, i2) {
    if (t3 == JA.ByHeight)
      return this.blockAt(e21, n3, r2, i2);
    if (t3 == JA.ByPosNoHeight) {
      var o2 = n3.lineAt(e21), a2 = o2.from, s2 = o2.to;
      return new UA(a2, s2 - a2, 0, 0, UO.Text);
    }
    var u2 = this.lines(n3, i2), c2 = u2.firstLine, l2 = u2.lineHeight, f2 = n3.lineAt(e21), h2 = f2.from, d2 = f2.length, v2 = f2.number;
    return new UA(h2, d2, r2 + l2 * (v2 - c2), l2, UO.Text);
  } }, { key: "forEachLine", value: function(e21, t3, n3, r2, i2, o2) {
    for (var a2 = this.lines(n3, i2), s2 = a2.firstLine, u2 = a2.lineHeight, c2 = Math.max(e21, i2), l2 = Math.min(i2 + this.length, t3); c2 <= l2; ) {
      var f2 = n3.lineAt(c2);
      c2 == e21 && (r2 += u2 * (f2.number - s2)), o2(new UA(f2.from, f2.length, r2, u2, UO.Text)), r2 += u2, c2 = f2.to + 1;
    }
  } }, { key: "replace", value: function(e21, t3, r2) {
    var i2 = this.length - t3;
    if (i2 > 0) {
      var o2 = r2[r2.length - 1];
      o2 instanceof n2 ? r2[r2.length - 1] = new n2(o2.length + i2) : r2.push(null, new n2(i2 - 1));
    }
    if (e21 > 0) {
      var a2 = r2[0];
      a2 instanceof n2 ? r2[0] = new n2(e21 + a2.length) : r2.unshift(new n2(e21 - 1), null);
    }
    return KA.of(r2);
  } }, { key: "decomposeLeft", value: function(e21, t3) {
    t3.push(new n2(e21 - 1), null);
  } }, { key: "decomposeRight", value: function(e21, t3) {
    t3.push(null, new n2(this.length - e21 - 1));
  } }, { key: "updateHeight", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r2 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], i2 = arguments.length > 3 ? arguments[3] : void 0, o2 = t3 + this.length;
    if (i2 && i2.from <= t3 + this.length && i2.more) {
      var a2 = [], s2 = Math.max(t3, i2.from), u2 = -1, c2 = e21.heightChanged;
      for (i2.from > t3 && a2.push(new n2(i2.from - t3 - 1).updateHeight(e21, t3)); s2 <= o2 && i2.more; ) {
        var l2 = e21.doc.lineAt(s2).length;
        a2.length && a2.push(null);
        var f2 = i2.heights[i2.index++];
        u2 == -1 ? u2 = f2 : Math.abs(f2 - u2) >= 1e-3 && (u2 = -2);
        var h2 = new QA(l2, f2);
        h2.outdated = false, a2.push(h2), s2 += l2 + 1;
      }
      s2 <= o2 && a2.push(null, new n2(o2 - s2).updateHeight(e21, s2));
      var d2 = KA.of(a2);
      return e21.heightChanged = c2 || u2 < 0 || Math.abs(d2.height - this.height) >= 1e-3 || Math.abs(u2 - this.lines(e21.doc, t3).lineHeight) >= 1e-3, d2;
    }
    return (r2 || this.outdated) && (this.setHeight(e21, e21.heightForGap(t3, t3 + this.length)), this.outdated = false), this;
  } }, { key: "toString", value: function() {
    return "gap(".concat(this.length, ")");
  } }]), n2;
}(), ZA = function(e20) {
  xi(n2, KA);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this, e21.length + r2 + i2.length, e21.height + i2.height, r2 | (e21.outdated || i2.outdated ? 2 : 0))).left = e21, o2.right = i2, o2.size = e21.size + i2.size, o2;
  }
  return Li(n2, [{ key: "break", get: function() {
    return 1 & this.flags;
  } }, { key: "blockAt", value: function(e21, t3, n3, r2) {
    var i2 = n3 + this.left.height;
    return e21 < i2 ? this.left.blockAt(e21, t3, n3, r2) : this.right.blockAt(e21, t3, i2, r2 + this.left.length + this.break);
  } }, { key: "lineAt", value: function(e21, t3, n3, r2, i2) {
    var o2 = r2 + this.left.height, a2 = i2 + this.left.length + this.break, s2 = t3 == JA.ByHeight ? e21 < o2 : e21 < a2, u2 = s2 ? this.left.lineAt(e21, t3, n3, r2, i2) : this.right.lineAt(e21, t3, n3, o2, a2);
    if (this.break || (s2 ? u2.to < a2 : u2.from > a2))
      return u2;
    var c2 = t3 == JA.ByPosNoHeight ? JA.ByPosNoHeight : JA.ByPos;
    return s2 ? u2.join(this.right.lineAt(a2, c2, n3, o2, a2)) : this.left.lineAt(a2, c2, n3, r2, i2).join(u2);
  } }, { key: "forEachLine", value: function(e21, t3, n3, r2, i2, o2) {
    var a2 = r2 + this.left.height, s2 = i2 + this.left.length + this.break;
    if (this.break)
      e21 < s2 && this.left.forEachLine(e21, t3, n3, r2, i2, o2), t3 >= s2 && this.right.forEachLine(e21, t3, n3, a2, s2, o2);
    else {
      var u2 = this.lineAt(s2, JA.ByPos, n3, r2, i2);
      e21 < u2.from && this.left.forEachLine(e21, u2.from - 1, n3, r2, i2, o2), u2.to >= e21 && u2.from <= t3 && o2(u2), t3 > u2.to && this.right.forEachLine(u2.to + 1, t3, n3, a2, s2, o2);
    }
  } }, { key: "replace", value: function(e21, t3, n3) {
    var r2 = this.left.length + this.break;
    if (t3 < r2)
      return this.balanced(this.left.replace(e21, t3, n3), this.right);
    if (e21 > this.left.length)
      return this.balanced(this.left, this.right.replace(e21 - r2, t3 - r2, n3));
    var i2 = [];
    e21 > 0 && this.decomposeLeft(e21, i2);
    var o2, a2 = i2.length, s2 = bi(n3);
    try {
      for (s2.s(); !(o2 = s2.n()).done; ) {
        var u2 = o2.value;
        i2.push(u2);
      }
    } catch (e22) {
      s2.e(e22);
    } finally {
      s2.f();
    }
    if (e21 > 0 && XA(i2, a2 - 1), t3 < this.length) {
      var c2 = i2.length;
      this.decomposeRight(t3, i2), XA(i2, c2);
    }
    return KA.of(i2);
  } }, { key: "decomposeLeft", value: function(e21, t3) {
    var n3 = this.left.length;
    if (e21 <= n3)
      return this.left.decomposeLeft(e21, t3);
    t3.push(this.left), this.break && e21 >= ++n3 && t3.push(null), e21 > n3 && this.right.decomposeLeft(e21 - n3, t3);
  } }, { key: "decomposeRight", value: function(e21, t3) {
    var n3 = this.left.length, r2 = n3 + this.break;
    if (e21 >= r2)
      return this.right.decomposeRight(e21 - r2, t3);
    e21 < n3 && this.left.decomposeRight(e21, t3), this.break && e21 < r2 && t3.push(null), t3.push(this.right);
  } }, { key: "balanced", value: function(e21, t3) {
    return e21.size > 2 * t3.size || t3.size > 2 * e21.size ? KA.of(this.break ? [e21, null, t3] : [e21, t3]) : (this.left = e21, this.right = t3, this.height = e21.height + t3.height, this.outdated = e21.outdated || t3.outdated, this.size = e21.size + t3.size, this.length = e21.length + this.break + t3.length, this);
  } }, { key: "updateHeight", value: function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r2 = arguments.length > 3 ? arguments[3] : void 0, i2 = this.left, o2 = this.right, a2 = t3 + i2.length + this.break, s2 = null;
    return r2 && r2.from <= t3 + i2.length && r2.more ? s2 = i2 = i2.updateHeight(e21, t3, n3, r2) : i2.updateHeight(e21, t3, n3), r2 && r2.from <= a2 + o2.length && r2.more ? s2 = o2 = o2.updateHeight(e21, a2, n3, r2) : o2.updateHeight(e21, a2, n3), s2 ? this.balanced(i2, o2) : (this.height = this.left.height + this.right.height, this.outdated = false, this);
  } }, { key: "toString", value: function() {
    return this.left + (this.break ? " " : "-") + this.right;
  } }]), n2;
}();
function XA(e20, t2) {
  var n2, r2;
  e20[t2] == null && (n2 = e20[t2 - 1]) instanceof YA && (r2 = e20[t2 + 1]) instanceof YA && e20.splice(t2 - 1, 3, new YA(n2.length + 1 + r2.length));
}
var eE = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.pos = t2, this.oracle = n2, this.nodes = [], this.lineStart = -1, this.lineEnd = -1, this.covering = null, this.writtenTo = t2;
  }
  return Li(e20, [{ key: "isCovered", get: function() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  } }, { key: "span", value: function(e21, t2) {
    if (this.lineStart > -1) {
      var n2 = Math.min(t2, this.lineEnd), r2 = this.nodes[this.nodes.length - 1];
      r2 instanceof QA ? r2.length += n2 - this.pos : (n2 > this.pos || !this.isCovered) && this.nodes.push(new QA(n2 - this.pos, -1)), this.writtenTo = n2, t2 > n2 && (this.nodes.push(null), this.writtenTo++, this.lineStart = -1);
    }
    this.pos = t2;
  } }, { key: "point", value: function(e21, t2, n2) {
    if (e21 < t2 || n2.heightRelevant) {
      var r2 = n2.widget ? n2.widget.estimatedHeight : 0;
      r2 < 0 && (r2 = this.oracle.lineHeight);
      var i2 = t2 - e21;
      n2.block ? this.addBlock(new GA(i2, r2, n2.type)) : (i2 || r2 >= 5) && this.addLineDeco(r2, i2);
    } else
      t2 > e21 && this.span(e21, t2);
    this.lineEnd > -1 && this.lineEnd < this.pos && (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
  } }, { key: "enterLine", value: function() {
    if (!(this.lineStart > -1)) {
      var e21 = this.oracle.doc.lineAt(this.pos), t2 = e21.from, n2 = e21.to;
      this.lineStart = t2, this.lineEnd = n2, this.writtenTo < t2 && ((this.writtenTo < t2 - 1 || this.nodes[this.nodes.length - 1] == null) && this.nodes.push(this.blankContent(this.writtenTo, t2 - 1)), this.nodes.push(null)), this.pos > t2 && this.nodes.push(new QA(this.pos - t2, -1)), this.writtenTo = this.pos;
    }
  } }, { key: "blankContent", value: function(e21, t2) {
    var n2 = new YA(t2 - e21);
    return this.oracle.doc.lineAt(e21).to == t2 && (n2.flags |= 4), n2;
  } }, { key: "ensureLine", value: function() {
    this.enterLine();
    var e21 = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (e21 instanceof QA)
      return e21;
    var t2 = new QA(0, -1);
    return this.nodes.push(t2), t2;
  } }, { key: "addBlock", value: function(e21) {
    this.enterLine(), e21.type != UO.WidgetAfter || this.isCovered || this.ensureLine(), this.nodes.push(e21), this.writtenTo = this.pos = this.pos + e21.length, e21.type != UO.WidgetBefore && (this.covering = e21);
  } }, { key: "addLineDeco", value: function(e21, t2) {
    var n2 = this.ensureLine();
    n2.length += t2, n2.collapsed += t2, n2.widgetHeight = Math.max(n2.widgetHeight, e21), this.writtenTo = this.pos = this.pos + t2;
  } }, { key: "finish", value: function(e21) {
    var t2 = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    !(this.lineStart > -1) || t2 instanceof QA || this.isCovered ? (this.writtenTo < this.pos || t2 == null) && this.nodes.push(this.blankContent(this.writtenTo, this.pos)) : this.nodes.push(new QA(0, -1));
    var n2, r2 = e21, i2 = bi(this.nodes);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        var o2 = n2.value;
        o2 instanceof QA && o2.updateHeight(this.oracle, r2), r2 += o2 ? o2.length : 1;
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return this.nodes;
  } }], [{ key: "build", value: function(t2, n2, r2, i2) {
    var o2 = new e20(r2, t2);
    return S$.spans(n2, r2, i2, o2, 0), o2.finish(r2);
  } }]), e20;
}();
function tE(e20, t2, n2) {
  var r2 = new nE();
  return S$.compare(e20, t2, n2, r2, 0), r2.changes;
}
var nE = function() {
  function e20() {
    Ri(this, e20), this.changes = [];
  }
  return Li(e20, [{ key: "compareRange", value: function() {
  } }, { key: "comparePoint", value: function(e21, t2, n2, r2) {
    (e21 < t2 || n2 && n2.heightRelevant || r2 && r2.heightRelevant) && ZO(e21, t2, this.changes, 5);
  } }]), e20;
}();
function rE(e20, t2) {
  for (var n2 = e20.getBoundingClientRect(), r2 = Math.max(0, n2.left), i2 = Math.min(innerWidth, n2.right), o2 = Math.max(0, n2.top), a2 = Math.min(innerHeight, n2.bottom), s2 = e20.ownerDocument.body, u2 = e20.parentNode; u2 && u2 != s2; )
    if (u2.nodeType == 1) {
      var c2 = u2, l2 = window.getComputedStyle(c2);
      if ((c2.scrollHeight > c2.clientHeight || c2.scrollWidth > c2.clientWidth) && l2.overflow != "visible") {
        var f2 = c2.getBoundingClientRect();
        r2 = Math.max(r2, f2.left), i2 = Math.min(i2, f2.right), o2 = Math.max(o2, f2.top), a2 = Math.min(a2, f2.bottom);
      }
      u2 = l2.position == "absolute" || l2.position == "fixed" ? c2.offsetParent : c2.parentNode;
    } else {
      if (u2.nodeType != 11)
        break;
      u2 = u2.host;
    }
  return { left: r2 - n2.left, right: Math.max(r2, i2) - n2.left, top: o2 - (n2.top + t2), bottom: Math.max(o2, a2) - (n2.top + t2) };
}
function iE(e20, t2) {
  var n2 = e20.getBoundingClientRect();
  return { left: 0, right: n2.right - n2.left, top: t2, bottom: n2.bottom - (n2.top + t2) };
}
var oE = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.size = r2;
  }
  return Li(e20, [{ key: "draw", value: function(e21) {
    return JO.replace({ widget: new aE(this.size, e21) }).range(this.from, this.to);
  } }], [{ key: "same", value: function(e21, t2) {
    if (e21.length != t2.length)
      return false;
    for (var n2 = 0; n2 < e21.length; n2++) {
      var r2 = e21[n2], i2 = t2[n2];
      if (r2.from != i2.from || r2.to != i2.to || r2.size != i2.size)
        return false;
    }
    return true;
  } }]), e20;
}(), aE = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this)).size = e21, i2.vertical = r2, i2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21.size == this.size && e21.vertical == this.vertical;
  } }, { key: "toDOM", value: function() {
    var e21 = document.createElement("div");
    return this.vertical ? e21.style.height = this.size + "px" : (e21.style.width = this.size + "px", e21.style.height = "2px", e21.style.display = "inline-block"), e21;
  } }, { key: "estimatedHeight", get: function() {
    return this.vertical ? this.size : -1;
  } }]), n2;
}(), sE = function() {
  function e20(t2) {
    Ri(this, e20), this.state = t2, this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 }, this.inView = true, this.paddingTop = 0, this.paddingBottom = 0, this.contentDOMWidth = 0, this.contentDOMHeight = 0, this.editorHeight = 0, this.editorWidth = 0, this.heightOracle = new HA(), this.scaler = hE, this.scrollTarget = null, this.printing = false, this.mustMeasureContent = true, this.visibleRanges = [], this.mustEnforceCursorAssoc = false, this.heightMap = KA.empty().applyChanges(t2.facet(_P), e_.empty, this.heightOracle.setDoc(t2.doc), [new OP(0, 0, 0, t2.doc.length)]), this.viewport = this.getViewport(0, null), this.updateViewportLines(), this.updateForViewport(), this.lineGaps = this.ensureLineGaps([]), this.lineGapDeco = JO.set(this.lineGaps.map(function(e21) {
      return e21.draw(false);
    })), this.computeVisibleRanges();
  }
  return Li(e20, [{ key: "updateForViewport", value: function() {
    for (var e21 = this, t2 = [this.viewport], n2 = this.state.selection.main, r2 = function(r3) {
      var i3 = r3 ? n2.head : n2.anchor;
      if (!t2.some(function(e22) {
        var t3 = e22.from, n3 = e22.to;
        return i3 >= t3 && i3 <= n3;
      })) {
        var o2 = e21.lineBlockAt(i3), a2 = o2.from, s2 = o2.to;
        t2.push(new uE(a2, s2));
      }
    }, i2 = 0; i2 <= 1; i2++)
      r2(i2);
    this.viewports = t2.sort(function(e22, t3) {
      return e22.from - t3.from;
    }), this.scaler = this.heightMap.height <= 7e6 ? hE : new dE(this.heightOracle.doc, this.heightMap, this.viewports);
  } }, { key: "updateViewportLines", value: function() {
    var e21 = this;
    this.viewportLines = [], this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, function(t2) {
      e21.viewportLines.push(e21.scaler.scale == 1 ? t2 : vE(t2, e21.scaler));
    });
  } }, { key: "update", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = this.state;
    this.state = e21.state;
    var r2 = this.state.facet(_P), i2 = e21.changedRanges, o2 = OP.extendWithRanges(i2, tE(e21.startState.facet(_P), r2, e21 ? e21.changes : d_.empty(this.state.doc.length))), a2 = this.heightMap.height;
    this.heightMap = this.heightMap.applyChanges(r2, n2.doc, this.heightOracle.setDoc(this.state.doc), o2), this.heightMap.height != a2 && (e21.flags |= 2);
    var s2 = o2.length ? this.mapViewport(this.viewport, e21.changes) : this.viewport;
    (t2 && (t2.range.head < s2.from || t2.range.head > s2.to) || !this.viewportIsAppropriate(s2)) && (s2 = this.getViewport(0, t2));
    var u2 = !e21.changes.empty || 2 & e21.flags || s2.from != this.viewport.from || s2.to != this.viewport.to;
    this.viewport = s2, this.updateForViewport(), u2 && this.updateViewportLines(), (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e21.changes))), e21.flags |= this.computeVisibleRanges(), t2 && (this.scrollTarget = t2), !this.mustEnforceCursorAssoc && e21.selectionSet && e21.view.lineWrapping && e21.state.selection.main.empty && e21.state.selection.main.assoc && (this.mustEnforceCursorAssoc = true);
  } }, { key: "measure", value: function(e21) {
    var t2 = e21.contentDOM, n2 = window.getComputedStyle(t2), r2 = this.heightOracle, i2 = n2.whiteSpace, o2 = n2.direction == "rtl" ? AP.RTL : AP.LTR, a2 = this.heightOracle.mustRefreshForStyle(i2, o2), s2 = a2 || this.mustMeasureContent || this.contentDOMHeight != t2.clientHeight, u2 = 0, c2 = 0;
    if (this.editorWidth != e21.scrollDOM.clientWidth && (r2.lineWrapping && (s2 = true), this.editorWidth = e21.scrollDOM.clientWidth, u2 |= 8), s2) {
      this.mustMeasureContent = false, this.contentDOMHeight = t2.clientHeight;
      var l2 = parseInt(n2.paddingTop) || 0, f2 = parseInt(n2.paddingBottom) || 0;
      this.paddingTop == l2 && this.paddingBottom == f2 || (u2 |= 8, this.paddingTop = l2, this.paddingBottom = f2);
    }
    var h2 = (this.printing ? iE : rE)(t2, this.paddingTop), d2 = h2.top - this.pixelViewport.top, v2 = h2.bottom - this.pixelViewport.bottom;
    this.pixelViewport = h2;
    var p2 = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;
    if (p2 != this.inView && (this.inView = p2, p2 && (s2 = true)), !this.inView)
      return 0;
    var m2 = t2.clientWidth;
    if (this.contentDOMWidth == m2 && this.editorHeight == e21.scrollDOM.clientHeight || (this.contentDOMWidth = m2, this.editorHeight = e21.scrollDOM.clientHeight, u2 |= 8), s2) {
      var g2 = e21.docView.measureVisibleLineHeights();
      if (r2.mustRefreshForHeights(g2) && (a2 = true), a2 || r2.lineWrapping && Math.abs(m2 - this.contentDOMWidth) > r2.charWidth) {
        var y2 = e21.docView.measureTextSize(), b2 = y2.lineHeight, w2 = y2.charWidth;
        (a2 = r2.refresh(i2, o2, b2, w2, m2 / w2, g2)) && (e21.docView.minWidth = 0, u2 |= 8);
      }
      d2 > 0 && v2 > 0 ? c2 = Math.max(d2, v2) : d2 < 0 && v2 < 0 && (c2 = Math.min(d2, v2)), r2.heightChanged = false, this.heightMap = this.heightMap.updateHeight(r2, 0, a2, new WA(this.viewport.from, g2)), r2.heightChanged && (u2 |= 2);
    }
    var k2 = !this.viewportIsAppropriate(this.viewport, c2) || this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);
    return k2 && (this.viewport = this.getViewport(c2, this.scrollTarget)), this.updateForViewport(), (2 & u2 || k2) && this.updateViewportLines(), (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(a2 ? [] : this.lineGaps)), u2 |= this.computeVisibleRanges(), this.mustEnforceCursorAssoc && (this.mustEnforceCursorAssoc = false, e21.docView.enforceCursorAssoc()), u2;
  } }, { key: "visibleTop", get: function() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  } }, { key: "visibleBottom", get: function() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  } }, { key: "getViewport", value: function(e21, t2) {
    var n2 = 0.5 - Math.max(-0.5, Math.min(0.5, e21 / 1e3 / 2)), r2 = this.heightMap, i2 = this.state.doc, o2 = this.visibleTop, a2 = this.visibleBottom, s2 = new uE(r2.lineAt(o2 - 1e3 * n2, JA.ByHeight, i2, 0, 0).from, r2.lineAt(a2 + 1e3 * (1 - n2), JA.ByHeight, i2, 0, 0).to);
    if (t2) {
      var u2 = t2.range.head;
      if (u2 < s2.from || u2 > s2.to) {
        var c2, l2 = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top), f2 = r2.lineAt(u2, JA.ByPos, i2, 0, 0);
        c2 = t2.y == "center" ? (f2.top + f2.bottom) / 2 - l2 / 2 : t2.y == "start" || t2.y == "nearest" && u2 < s2.from ? f2.top : f2.bottom - l2, s2 = new uE(r2.lineAt(c2 - 500, JA.ByHeight, i2, 0, 0).from, r2.lineAt(c2 + l2 + 500, JA.ByHeight, i2, 0, 0).to);
      }
    }
    return s2;
  } }, { key: "mapViewport", value: function(e21, t2) {
    var n2 = t2.mapPos(e21.from, -1), r2 = t2.mapPos(e21.to, 1);
    return new uE(this.heightMap.lineAt(n2, JA.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(r2, JA.ByPos, this.state.doc, 0, 0).to);
  } }, { key: "viewportIsAppropriate", value: function(e21) {
    var t2 = e21.from, n2 = e21.to, r2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    if (!this.inView)
      return true;
    var i2 = this.heightMap.lineAt(t2, JA.ByPos, this.state.doc, 0, 0), o2 = i2.top, a2 = this.heightMap.lineAt(n2, JA.ByPos, this.state.doc, 0, 0), s2 = a2.bottom, u2 = this.visibleTop, c2 = this.visibleBottom;
    return (t2 == 0 || o2 <= u2 - Math.max(10, Math.min(-r2, 250))) && (n2 == this.state.doc.length || s2 >= c2 + Math.max(10, Math.min(r2, 250))) && o2 > u2 - 2e3 && s2 < c2 + 2e3;
  } }, { key: "mapLineGaps", value: function(e21, t2) {
    if (!e21.length || t2.empty)
      return e21;
    var n2, r2 = [], i2 = bi(e21);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        var o2 = n2.value;
        t2.touchesRange(o2.from, o2.to) || r2.push(new oE(t2.mapPos(o2.from), t2.mapPos(o2.to), o2.size));
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return r2;
  } }, { key: "ensureLineGaps", value: function(e21) {
    var t2 = this, n2 = [];
    if (this.heightOracle.direction != AP.LTR)
      return n2;
    var r2, i2 = bi(this.viewportLines);
    try {
      var o2 = function() {
        var i3 = r2.value;
        if (i3.length < 4e3)
          return "continue";
        var o3 = function(e22, t3, n3) {
          var r3 = [], i4 = e22, o4 = 0;
          S$.spans(n3.facet(_P), e22, t3, { span: function() {
          }, point: function(e23, t4) {
            e23 > i4 && (r3.push({ from: i4, to: e23 }), o4 += e23 - i4), i4 = t4;
          } }, 20), i4 < t3 && (r3.push({ from: i4, to: t3 }), o4 += t3 - i4);
          return { total: o4, ranges: r3 };
        }(i3.from, i3.to, t2.state);
        if (o3.total < 4e3)
          return "continue";
        var a2 = void 0, s2 = void 0;
        if (t2.heightOracle.lineWrapping) {
          var u2 = 2e3 / t2.heightOracle.lineLength * t2.heightOracle.lineHeight;
          a2 = cE(o3, (t2.visibleTop - i3.top - u2) / i3.height), s2 = cE(o3, (t2.visibleBottom - i3.top + u2) / i3.height);
        } else {
          var c2 = o3.total * t2.heightOracle.charWidth, l2 = 2e3 * t2.heightOracle.charWidth;
          a2 = cE(o3, (t2.pixelViewport.left - l2) / c2), s2 = cE(o3, (t2.pixelViewport.right + l2) / c2);
        }
        var f2 = [];
        a2 > i3.from && f2.push({ from: i3.from, to: a2 }), s2 < i3.to && f2.push({ from: s2, to: i3.to });
        var h2 = t2.state.selection.main;
        h2.from >= i3.from && h2.from <= i3.to && fE(f2, h2.from - 10, h2.from + 10), !h2.empty && h2.to >= i3.from && h2.to <= i3.to && fE(f2, h2.to - 10, h2.to + 10);
        for (var d2 = function() {
          var r3 = p2[v2], a3 = r3.from, s3 = r3.to;
          s3 - a3 > 1e3 && n2.push(function(e22, t3) {
            var n3, r4 = bi(e22);
            try {
              for (r4.s(); !(n3 = r4.n()).done; ) {
                var i4 = n3.value;
                if (t3(i4))
                  return i4;
              }
            } catch (e23) {
              r4.e(e23);
            } finally {
              r4.f();
            }
            return;
          }(e21, function(e22) {
            return e22.from >= i3.from && e22.to <= i3.to && Math.abs(e22.from - a3) < 1e3 && Math.abs(e22.to - s3) < 1e3;
          }) || new oE(a3, s3, t2.gapSize(i3, a3, s3, o3)));
        }, v2 = 0, p2 = f2; v2 < p2.length; v2++)
          d2();
      };
      for (i2.s(); !(r2 = i2.n()).done; )
        o2();
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return n2;
  } }, { key: "gapSize", value: function(e21, t2, n2, r2) {
    var i2 = lE(r2, n2) - lE(r2, t2);
    return this.heightOracle.lineWrapping ? e21.height * i2 : r2.total * this.heightOracle.charWidth * i2;
  } }, { key: "updateLineGaps", value: function(e21) {
    var t2 = this;
    oE.same(e21, this.lineGaps) || (this.lineGaps = e21, this.lineGapDeco = JO.set(e21.map(function(e22) {
      return e22.draw(t2.heightOracle.lineWrapping);
    })));
  } }, { key: "computeVisibleRanges", value: function() {
    var e21 = this.state.facet(_P);
    this.lineGaps.length && (e21 = e21.concat(this.lineGapDeco));
    var t2 = [];
    S$.spans(e21, this.viewport.from, this.viewport.to, { span: function(e22, n3) {
      t2.push({ from: e22, to: n3 });
    }, point: function() {
    } }, 20);
    var n2 = t2.length != this.visibleRanges.length || this.visibleRanges.some(function(e22, n3) {
      return e22.from != t2[n3].from || e22.to != t2[n3].to;
    });
    return this.visibleRanges = t2, n2 ? 4 : 0;
  } }, { key: "lineBlockAt", value: function(e21) {
    return e21 >= this.viewport.from && e21 <= this.viewport.to && this.viewportLines.find(function(t2) {
      return t2.from <= e21 && t2.to >= e21;
    }) || vE(this.heightMap.lineAt(e21, JA.ByPos, this.state.doc, 0, 0), this.scaler);
  } }, { key: "lineBlockAtHeight", value: function(e21) {
    return vE(this.heightMap.lineAt(this.scaler.fromDOM(e21), JA.ByHeight, this.state.doc, 0, 0), this.scaler);
  } }, { key: "elementAtHeight", value: function(e21) {
    return vE(this.heightMap.blockAt(this.scaler.fromDOM(e21), this.state.doc, 0, 0), this.scaler);
  } }, { key: "docHeight", get: function() {
    return this.scaler.toDOM(this.heightMap.height);
  } }, { key: "contentHeight", get: function() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  } }]), e20;
}(), uE = Li(function e7(t2, n2) {
  Ri(this, e7), this.from = t2, this.to = n2;
});
function cE(e20, t2) {
  var n2 = e20.total, r2 = e20.ranges;
  if (t2 <= 0)
    return r2[0].from;
  if (t2 >= 1)
    return r2[r2.length - 1].to;
  for (var i2 = Math.floor(n2 * t2), o2 = 0; ; o2++) {
    var a2 = r2[o2], s2 = a2.from, u2 = a2.to - s2;
    if (i2 <= u2)
      return s2 + i2;
    i2 -= u2;
  }
}
function lE(e20, t2) {
  var n2, r2 = 0, i2 = bi(e20.ranges);
  try {
    for (i2.s(); !(n2 = i2.n()).done; ) {
      var o2 = n2.value, a2 = o2.from, s2 = o2.to;
      if (t2 <= s2) {
        r2 += t2 - a2;
        break;
      }
      r2 += s2 - a2;
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  return r2 / e20.total;
}
function fE(e20, t2, n2) {
  for (var r2 = 0; r2 < e20.length; r2++) {
    var i2 = e20[r2];
    if (i2.from < n2 && i2.to > t2) {
      var o2 = [];
      i2.from < t2 && o2.push({ from: i2.from, to: t2 }), i2.to > n2 && o2.push({ from: n2, to: i2.to }), e20.splice.apply(e20, [r2, 1].concat(o2)), r2 += o2.length - 1;
    }
  }
}
var hE = { toDOM: function(e20) {
  return e20;
}, fromDOM: function(e20) {
  return e20;
}, scale: 1 }, dE = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20);
    var i2 = 0, o2 = 0, a2 = 0;
    this.viewports = r2.map(function(e21) {
      var r3 = e21.from, o3 = e21.to, a3 = n2.lineAt(r3, JA.ByPos, t2, 0, 0).top, s3 = n2.lineAt(o3, JA.ByPos, t2, 0, 0).bottom;
      return i2 += s3 - a3, { from: r3, to: o3, top: a3, bottom: s3, domTop: 0, domBottom: 0 };
    }), this.scale = (7e6 - i2) / (n2.height - i2);
    var s2, u2 = bi(this.viewports);
    try {
      for (u2.s(); !(s2 = u2.n()).done; ) {
        var c2 = s2.value;
        c2.domTop = a2 + (c2.top - o2) * this.scale, a2 = c2.domBottom = c2.domTop + (c2.bottom - c2.top), o2 = c2.bottom;
      }
    } catch (e21) {
      u2.e(e21);
    } finally {
      u2.f();
    }
  }
  return Li(e20, [{ key: "toDOM", value: function(e21) {
    for (var t2 = 0, n2 = 0, r2 = 0; ; t2++) {
      var i2 = t2 < this.viewports.length ? this.viewports[t2] : null;
      if (!i2 || e21 < i2.top)
        return r2 + (e21 - n2) * this.scale;
      if (e21 <= i2.bottom)
        return i2.domTop + (e21 - i2.top);
      n2 = i2.bottom, r2 = i2.domBottom;
    }
  } }, { key: "fromDOM", value: function(e21) {
    for (var t2 = 0, n2 = 0, r2 = 0; ; t2++) {
      var i2 = t2 < this.viewports.length ? this.viewports[t2] : null;
      if (!i2 || e21 < i2.domTop)
        return n2 + (e21 - r2) / this.scale;
      if (e21 <= i2.domBottom)
        return i2.top + (e21 - i2.domTop);
      n2 = i2.bottom, r2 = i2.domBottom;
    }
  } }]), e20;
}();
function vE(e20, t2) {
  if (t2.scale == 1)
    return e20;
  var n2 = t2.toDOM(e20.top), r2 = t2.toDOM(e20.bottom);
  return new UA(e20.from, e20.length, n2, r2 - n2, Array.isArray(e20.type) ? e20.type.map(function(e21) {
    return vE(e21, t2);
  }) : e20.type);
}
var pE = C_.define({ combine: function(e20) {
  return e20.join(" ");
} }), mE = C_.define({ combine: function(e20) {
  return e20.indexOf(true) > -1;
} }), gE = g$.newName(), yE = g$.newName(), bE = g$.newName(), wE = { "&light": "." + yE, "&dark": "." + bE };
function kE(e20, t2, n2) {
  return new g$(t2, { finish: function(t3) {
    return /&/.test(t3) ? t3.replace(/&\w*/, function(t4) {
      if (t4 == "&")
        return e20;
      if (!n2 || !n2[t4])
        throw new RangeError("Unsupported selector: ".concat(t4));
      return n2[t4];
    }) : e20 + " " + t3;
  } });
}
var jE = kE("." + gE, { "&.cm-editor": { position: "relative !important", boxSizing: "border-box", "&.cm-focused": { outline: "1px dotted #212121" }, display: "flex !important", flexDirection: "column" }, ".cm-scroller": { display: "flex !important", alignItems: "flex-start !important", fontFamily: "monospace", lineHeight: 1.4, height: "100%", overflowX: "auto", position: "relative", zIndex: 0 }, ".cm-content": { margin: 0, flexGrow: 2, minHeight: "100%", display: "block", whiteSpace: "pre", wordWrap: "normal", boxSizing: "border-box", padding: "4px 0", outline: "none", "&[contenteditable=true]": { WebkitUserModify: "read-write-plaintext-only" } }, ".cm-lineWrapping": { whiteSpace_fallback: "pre-wrap", whiteSpace: "break-spaces", wordBreak: "break-word", overflowWrap: "anywhere" }, "&light .cm-content": { caretColor: "black" }, "&dark .cm-content": { caretColor: "white" }, ".cm-line": { display: "block", padding: "0 2px 0 4px" }, ".cm-selectionLayer": { zIndex: -1, contain: "size style" }, ".cm-selectionBackground": { position: "absolute" }, "&light .cm-selectionBackground": { background: "#d9d9d9" }, "&dark .cm-selectionBackground": { background: "#222" }, "&light.cm-focused .cm-selectionBackground": { background: "#d7d4f0" }, "&dark.cm-focused .cm-selectionBackground": { background: "#233" }, ".cm-cursorLayer": { zIndex: 100, contain: "size style", pointerEvents: "none" }, "&.cm-focused .cm-cursorLayer": { animation: "steps(1) cm-blink 1.2s infinite" }, "@keyframes cm-blink": { "0%": {}, "50%": { visibility: "hidden" }, "100%": {} }, "@keyframes cm-blink2": { "0%": {}, "50%": { visibility: "hidden" }, "100%": {} }, ".cm-cursor, .cm-dropCursor": { position: "absolute", borderLeft: "1.2px solid black", marginLeft: "-0.6px", pointerEvents: "none" }, ".cm-cursor": { display: "none" }, "&dark .cm-cursor": { borderLeftColor: "#444" }, "&.cm-focused .cm-cursor": { display: "block" }, "&light .cm-activeLine": { backgroundColor: "#f3f9ff" }, "&dark .cm-activeLine": { backgroundColor: "#223039" }, "&light .cm-specialChar": { color: "red" }, "&dark .cm-specialChar": { color: "#f78" }, ".cm-tab": { display: "inline-block", overflow: "hidden", verticalAlign: "bottom" }, ".cm-widgetBuffer": { verticalAlign: "text-top", height: "1em", display: "inline" }, ".cm-placeholder": { color: "#888", display: "inline-block", verticalAlign: "top" }, ".cm-button": { verticalAlign: "middle", color: "inherit", fontSize: "70%", padding: ".2em 1em", borderRadius: "1px" }, "&light .cm-button": { backgroundImage: "linear-gradient(#eff1f5, #d9d9df)", border: "1px solid #888", "&:active": { backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)" } }, "&dark .cm-button": { backgroundImage: "linear-gradient(#393939, #111)", border: "1px solid #888", "&:active": { backgroundImage: "linear-gradient(#111, #333)" } }, ".cm-textfield": { verticalAlign: "middle", color: "inherit", fontSize: "70%", border: "1px solid silver", padding: ".2em .5em" }, "&light .cm-textfield": { backgroundColor: "white" }, "&dark .cm-textfield": { border: "1px solid #555", backgroundColor: "inherit" } }, wE), xE = { childList: true, characterData: true, subtree: true, attributes: true, characterDataOldValue: true }, SE = AO.ie && AO.ie_version <= 11, CE = function() {
  function e20(t2, n2, r2) {
    var i2 = this;
    Ri(this, e20), this.view = t2, this.onChange = n2, this.onScrollChanged = r2, this.active = false, this.selectionRange = new oO(), this.selectionChanged = false, this.delayedFlush = -1, this.resizeTimeout = -1, this.queue = [], this.delayedAndroidKey = null, this.scrollTargets = [], this.intersection = null, this.resize = null, this.intersecting = false, this.gapIntersection = null, this.gaps = [], this.parentCheck = -1, this.dom = t2.contentDOM, this.observer = new MutationObserver(function(e21) {
      var n3, r3 = bi(e21);
      try {
        for (r3.s(); !(n3 = r3.n()).done; ) {
          var o2 = n3.value;
          i2.queue.push(o2);
        }
      } catch (e22) {
        r3.e(e22);
      } finally {
        r3.f();
      }
      (AO.ie && AO.ie_version <= 11 || AO.ios && t2.composing) && e21.some(function(e22) {
        return e22.type == "childList" && e22.removedNodes.length || e22.type == "characterData" && e22.oldValue.length > e22.target.nodeValue.length;
      }) ? i2.flushSoon() : i2.flush();
    }), SE && (this.onCharData = function(e21) {
      i2.queue.push({ target: e21.target, type: "characterData", oldValue: e21.prevValue }), i2.flushSoon();
    }), this.onSelectionChange = this.onSelectionChange.bind(this), window.addEventListener("resize", this.onResize = this.onResize.bind(this)), typeof ResizeObserver == "function" && (this.resize = new ResizeObserver(function() {
      i2.view.docView.lastUpdate < Date.now() - 75 && i2.onResize();
    }), this.resize.observe(t2.scrollDOM)), window.addEventListener("beforeprint", this.onPrint = this.onPrint.bind(this)), this.start(), window.addEventListener("scroll", this.onScroll = this.onScroll.bind(this)), typeof IntersectionObserver == "function" && (this.intersection = new IntersectionObserver(function(e21) {
      i2.parentCheck < 0 && (i2.parentCheck = setTimeout(i2.listenForScroll.bind(i2), 1e3)), e21.length > 0 && e21[e21.length - 1].intersectionRatio > 0 != i2.intersecting && (i2.intersecting = !i2.intersecting, i2.intersecting != i2.view.inView && i2.onScrollChanged(document.createEvent("Event")));
    }, {}), this.intersection.observe(this.dom), this.gapIntersection = new IntersectionObserver(function(e21) {
      e21.length > 0 && e21[e21.length - 1].intersectionRatio > 0 && i2.onScrollChanged(document.createEvent("Event"));
    }, {})), this.listenForScroll(), this.readSelectionRange(), this.dom.ownerDocument.addEventListener("selectionchange", this.onSelectionChange);
  }
  return Li(e20, [{ key: "onScroll", value: function(e21) {
    this.intersecting && this.flush(false), this.onScrollChanged(e21);
  } }, { key: "onResize", value: function() {
    var e21 = this;
    this.resizeTimeout < 0 && (this.resizeTimeout = setTimeout(function() {
      e21.resizeTimeout = -1, e21.view.requestMeasure();
    }, 50));
  } }, { key: "onPrint", value: function() {
    var e21 = this;
    this.view.viewState.printing = true, this.view.measure(), setTimeout(function() {
      e21.view.viewState.printing = false, e21.view.requestMeasure();
    }, 500);
  } }, { key: "updateGaps", value: function(e21) {
    if (this.gapIntersection && (e21.length != this.gaps.length || this.gaps.some(function(t3, n3) {
      return t3 != e21[n3];
    }))) {
      this.gapIntersection.disconnect();
      var t2, n2 = bi(e21);
      try {
        for (n2.s(); !(t2 = n2.n()).done; ) {
          var r2 = t2.value;
          this.gapIntersection.observe(r2);
        }
      } catch (e22) {
        n2.e(e22);
      } finally {
        n2.f();
      }
      this.gaps = e21;
    }
  } }, { key: "onSelectionChange", value: function(e21) {
    if (this.readSelectionRange() && !this.delayedAndroidKey) {
      var t2 = this.view, n2 = this.selectionRange;
      if (t2.state.facet(mP) ? t2.root.activeElement == this.dom : G$(t2.dom, n2)) {
        var r2 = n2.anchorNode && t2.docView.nearest(n2.anchorNode);
        r2 && r2.ignoreEvent(e21) || ((AO.ie && AO.ie_version <= 11 || AO.android && AO.chrome) && !t2.state.selection.main.empty && n2.focusNode && Y$(n2.focusNode, n2.focusOffset, n2.anchorNode, n2.anchorOffset) ? this.flushSoon() : this.flush(false));
      }
    }
  } }, { key: "readSelectionRange", value: function() {
    var e21 = this.view.root, t2 = J$(e21), n2 = AO.safari && e21.nodeType == 11 && function() {
      for (var e22 = document.activeElement; e22 && e22.shadowRoot; )
        e22 = e22.shadowRoot.activeElement;
      return e22;
    }() == this.view.contentDOM && function(e22) {
      var t3 = null;
      function n3(e23) {
        e23.preventDefault(), e23.stopImmediatePropagation(), t3 = e23.getTargetRanges()[0];
      }
      if (e22.contentDOM.addEventListener("beforeinput", n3, true), document.execCommand("indent"), e22.contentDOM.removeEventListener("beforeinput", n3, true), !t3)
        return null;
      var r2 = t3.startContainer, i2 = t3.startOffset, o2 = t3.endContainer, a2 = t3.endOffset, s2 = e22.docView.domAtPos(e22.state.selection.main.anchor);
      if (Y$(s2.node, s2.offset, o2, a2)) {
        var u2 = [o2, a2, r2, i2];
        r2 = u2[0], i2 = u2[1], o2 = u2[2], a2 = u2[3];
      }
      return { anchorNode: r2, anchorOffset: i2, focusNode: o2, focusOffset: a2 };
    }(this.view) || t2;
    return !this.selectionRange.eq(n2) && (this.selectionRange.setRange(n2), this.selectionChanged = true);
  } }, { key: "setSelectionRange", value: function(e21, t2) {
    this.selectionRange.set(e21.node, e21.offset, t2.node, t2.offset), this.selectionChanged = false;
  } }, { key: "listenForScroll", value: function() {
    this.parentCheck = -1;
    for (var e21 = 0, t2 = null, n2 = this.dom; n2; )
      if (n2.nodeType == 1)
        !t2 && e21 < this.scrollTargets.length && this.scrollTargets[e21] == n2 ? e21++ : t2 || (t2 = this.scrollTargets.slice(0, e21)), t2 && t2.push(n2), n2 = n2.assignedSlot || n2.parentNode;
      else {
        if (n2.nodeType != 11)
          break;
        n2 = n2.host;
      }
    if (e21 < this.scrollTargets.length && !t2 && (t2 = this.scrollTargets.slice(0, e21)), t2) {
      var r2, i2 = bi(this.scrollTargets);
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          r2.value.removeEventListener("scroll", this.onScroll);
        }
      } catch (e22) {
        i2.e(e22);
      } finally {
        i2.f();
      }
      var o2, a2 = bi(this.scrollTargets = t2);
      try {
        for (a2.s(); !(o2 = a2.n()).done; ) {
          o2.value.addEventListener("scroll", this.onScroll);
        }
      } catch (e22) {
        a2.e(e22);
      } finally {
        a2.f();
      }
    }
  } }, { key: "ignore", value: function(e21) {
    if (!this.active)
      return e21();
    try {
      return this.stop(), e21();
    } finally {
      this.start(), this.clear();
    }
  } }, { key: "start", value: function() {
    this.active || (this.observer.observe(this.dom, xE), SE && this.dom.addEventListener("DOMCharacterDataModified", this.onCharData), this.active = true);
  } }, { key: "stop", value: function() {
    this.active && (this.active = false, this.observer.disconnect(), SE && this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData));
  } }, { key: "clear", value: function() {
    this.processRecords(), this.queue.length = 0, this.selectionChanged = false;
  } }, { key: "delayAndroidKey", value: function(e21, t2) {
    var n2 = this;
    this.delayedAndroidKey || requestAnimationFrame(function() {
      var e22 = n2.delayedAndroidKey;
      n2.delayedAndroidKey = null;
      var t3 = n2.view.state;
      cO(n2.view.contentDOM, e22.key, e22.keyCode) ? n2.processRecords() : n2.flush(), n2.view.state == t3 && n2.view.update([]);
    }), this.delayedAndroidKey && e21 != "Enter" || (this.delayedAndroidKey = { key: e21, keyCode: t2 });
  } }, { key: "flushSoon", value: function() {
    var e21 = this;
    this.delayedFlush < 0 && (this.delayedFlush = window.setTimeout(function() {
      e21.delayedFlush = -1, e21.flush();
    }, 20));
  } }, { key: "forceFlush", value: function() {
    this.delayedFlush >= 0 && (window.clearTimeout(this.delayedFlush), this.delayedFlush = -1, this.flush());
  } }, { key: "processRecords", value: function() {
    var e21, t2 = this.queue, n2 = bi(this.observer.takeRecords());
    try {
      for (n2.s(); !(e21 = n2.n()).done; ) {
        var r2 = e21.value;
        t2.push(r2);
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
    t2.length && (this.queue = []);
    var i2, o2 = -1, a2 = -1, s2 = false, u2 = bi(t2);
    try {
      for (u2.s(); !(i2 = u2.n()).done; ) {
        var c2 = i2.value, l2 = this.readMutation(c2);
        l2 && (l2.typeOver && (s2 = true), o2 == -1 ? (o2 = l2.from, a2 = l2.to) : (o2 = Math.min(l2.from, o2), a2 = Math.max(l2.to, a2)));
      }
    } catch (e22) {
      u2.e(e22);
    } finally {
      u2.f();
    }
    return { from: o2, to: a2, typeOver: s2 };
  } }, { key: "flush", value: function() {
    var e21 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
    if (!(this.delayedFlush >= 0 || this.delayedAndroidKey)) {
      e21 && this.readSelectionRange();
      var t2 = this.processRecords(), n2 = t2.from, r2 = t2.to, i2 = t2.typeOver, o2 = this.selectionChanged && G$(this.dom, this.selectionRange);
      if (!(n2 < 0) || o2) {
        this.selectionChanged = false;
        var a2 = this.view.state;
        this.onChange(n2, r2, i2), this.view.state == a2 && this.view.update([]);
      }
    }
  } }, { key: "readMutation", value: function(e21) {
    var t2 = this.view.docView.nearest(e21.target);
    if (!t2 || t2.ignoreMutation(e21))
      return null;
    if (t2.markDirty(e21.type == "attributes"), e21.type == "attributes" && (t2.dirty |= 4), e21.type == "childList") {
      var n2 = _E(t2, e21.previousSibling || e21.target.previousSibling, -1), r2 = _E(t2, e21.nextSibling || e21.target.nextSibling, 1);
      return { from: n2 ? t2.posAfter(n2) : t2.posAtStart, to: r2 ? t2.posBefore(r2) : t2.posAtEnd, typeOver: false };
    }
    return e21.type == "characterData" ? { from: t2.posAtStart, to: t2.posAtEnd, typeOver: e21.target.nodeValue == e21.oldValue } : null;
  } }, { key: "destroy", value: function() {
    var e21, t2, n2;
    this.stop(), (e21 = this.intersection) === null || e21 === void 0 || e21.disconnect(), (t2 = this.gapIntersection) === null || t2 === void 0 || t2.disconnect(), (n2 = this.resize) === null || n2 === void 0 || n2.disconnect();
    var r2, i2 = bi(this.scrollTargets);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        r2.value.removeEventListener("scroll", this.onScroll);
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    window.removeEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onResize), window.removeEventListener("beforeprint", this.onPrint), this.dom.ownerDocument.removeEventListener("selectionchange", this.onSelectionChange), clearTimeout(this.parentCheck), clearTimeout(this.resizeTimeout);
  } }]), e20;
}();
function _E(e20, t2, n2) {
  for (; t2; ) {
    var r2 = vO.get(t2);
    if (r2 && r2.parent == e20)
      return r2;
    var i2 = t2.parentNode;
    t2 = i2 != e20.dom ? i2 : n2 > 0 ? t2.nextSibling : t2.previousSibling;
  }
  return null;
}
function $E(e20, t2, n2, r2) {
  var i2, o2, a2 = e20.state.selection.main;
  if (t2 > -1) {
    var s2 = e20.docView.domBoundsAround(t2, n2, 0);
    if (!s2 || e20.state.readOnly)
      return;
    var u2 = s2.from, c2 = s2.to, l2 = e20.docView.impreciseHead || e20.docView.impreciseAnchor ? [] : function(e21) {
      var t3 = [];
      if (e21.root.activeElement != e21.contentDOM)
        return t3;
      var n3 = e21.observer.selectionRange, r3 = n3.anchorNode, i3 = n3.anchorOffset, o3 = n3.focusNode, a3 = n3.focusOffset;
      r3 && (t3.push(new ZP(r3, i3)), o3 == r3 && a3 == i3 || t3.push(new ZP(o3, a3)));
      return t3;
    }(e20), f2 = new QP(l2, e20.state);
    f2.readRange(s2.startDOM, s2.endDOM);
    var h2 = a2.from, d2 = null;
    (e20.inputState.lastKeyCode === 8 && e20.inputState.lastKeyTime > Date.now() - 100 || AO.android && f2.text.length < c2 - u2) && (h2 = a2.to, d2 = "end");
    var v2 = function(e21, t3, n3, r3) {
      var i3 = Math.min(e21.length, t3.length), o3 = 0;
      for (; o3 < i3 && e21.charCodeAt(o3) == t3.charCodeAt(o3); )
        o3++;
      if (o3 == i3 && e21.length == t3.length)
        return null;
      var a3 = e21.length, s3 = t3.length;
      for (; a3 > 0 && s3 > 0 && e21.charCodeAt(a3 - 1) == t3.charCodeAt(s3 - 1); )
        a3--, s3--;
      if (r3 == "end") {
        n3 -= a3 + Math.max(0, o3 - Math.min(a3, s3)) - o3;
      }
      if (a3 < o3 && e21.length < t3.length) {
        s3 = (o3 -= n3 <= o3 && n3 >= a3 ? o3 - n3 : 0) + (s3 - a3), a3 = o3;
      } else if (s3 < o3) {
        a3 = (o3 -= n3 <= o3 && n3 >= s3 ? o3 - n3 : 0) + (a3 - s3), s3 = o3;
      }
      return { from: o3, toA: a3, toB: s3 };
    }(e20.state.doc.sliceString(u2, c2, "\uFFFF"), f2.text, h2 - u2, d2);
    v2 && (AO.chrome && e20.inputState.lastKeyCode == 13 && v2.toB == v2.from + 2 && f2.text.slice(v2.from, v2.toB) == "\uFFFF\uFFFF" && v2.toB--, i2 = { from: u2 + v2.from, to: u2 + v2.toA, insert: e_.of(f2.text.slice(v2.from, v2.toB).split("\uFFFF")) }), o2 = function(e21, t3) {
      if (e21.length == 0)
        return null;
      var n3 = e21[0].pos, r3 = e21.length == 2 ? e21[1].pos : n3;
      return n3 > -1 && r3 > -1 ? k_.single(n3 + t3, r3 + t3) : null;
    }(l2, u2);
  } else if (e20.hasFocus || !e20.state.facet(mP)) {
    var p2 = e20.observer.selectionRange, m2 = e20.docView, g2 = m2.impreciseHead, y2 = m2.impreciseAnchor, b2 = g2 && g2.node == p2.focusNode && g2.offset == p2.focusOffset || !K$(e20.contentDOM, p2.focusNode) ? e20.state.selection.main.head : e20.docView.posFromDOM(p2.focusNode, p2.focusOffset), w2 = y2 && y2.node == p2.anchorNode && y2.offset == p2.anchorOffset || !K$(e20.contentDOM, p2.anchorNode) ? e20.state.selection.main.anchor : e20.docView.posFromDOM(p2.anchorNode, p2.anchorOffset);
    b2 == a2.head && w2 == a2.anchor || (o2 = k_.single(w2, b2));
  }
  if (i2 || o2) {
    if (!i2 && r2 && !a2.empty && o2 && o2.main.empty ? i2 = { from: a2.from, to: a2.to, insert: e20.state.doc.slice(a2.from, a2.to) } : i2 && i2.from >= a2.from && i2.to <= a2.to && (i2.from != a2.from || i2.to != a2.to) && a2.to - a2.from - (i2.to - i2.from) <= 4 && (i2 = { from: a2.from, to: a2.to, insert: e20.state.doc.slice(a2.from, i2.from).append(i2.insert).append(e20.state.doc.slice(i2.to, a2.to)) }), i2) {
      var k2 = e20.state;
      if (AO.ios && e20.inputState.flushIOSKey(e20))
        return;
      if (AO.android && (i2.from == a2.from && i2.to == a2.to && i2.insert.length == 1 && i2.insert.lines == 2 && cO(e20.contentDOM, "Enter", 13) || i2.from == a2.from - 1 && i2.to == a2.to && i2.insert.length == 0 && cO(e20.contentDOM, "Backspace", 8) || i2.from == a2.from && i2.to == a2.to + 1 && i2.insert.length == 0 && cO(e20.contentDOM, "Delete", 46)))
        return;
      var j2, x2 = i2.insert.toString();
      if (e20.state.facet(lP).some(function(t3) {
        return t3(e20, i2.from, i2.to, x2);
      }))
        return;
      if (e20.inputState.composing >= 0 && e20.inputState.composing++, i2.from >= a2.from && i2.to <= a2.to && i2.to - i2.from >= (a2.to - a2.from) / 3 && (!o2 || o2.main.empty && o2.main.from == i2.from + i2.insert.length) && e20.inputState.composing < 0) {
        var S2 = a2.from < i2.from ? k2.sliceDoc(a2.from, i2.from) : "", C2 = a2.to > i2.to ? k2.sliceDoc(i2.to, a2.to) : "";
        j2 = k2.replaceSelection(e20.state.toText(S2 + i2.insert.sliceString(0, void 0, e20.state.lineBreak) + C2));
      } else {
        var _2 = k2.changes(i2), $2 = o2 && !k2.selection.main.eq(o2.main) && o2.main.to <= _2.newLength ? o2.main : void 0;
        if (k2.selection.ranges.length > 1 && e20.inputState.composing >= 0 && i2.to <= a2.to && i2.to >= a2.to - 10) {
          var O2 = e20.state.sliceDoc(i2.from, i2.to), P2 = nA(e20) || e20.state.doc.lineAt(a2.head), A2 = a2.to - i2.to, E2 = a2.to - a2.from;
          j2 = k2.changeByRange(function(t3) {
            if (t3.from == a2.from && t3.to == a2.to)
              return { changes: _2, range: $2 || t3.map(_2) };
            var n3 = t3.to - A2, r3 = n3 - O2.length;
            if (t3.to - t3.from != E2 || e20.state.sliceDoc(r3, n3) != O2 || P2 && t3.to >= P2.from && t3.from <= P2.to)
              return { range: t3 };
            var o3 = k2.changes({ from: r3, to: n3, insert: i2.insert }), s3 = t3.to - a2.to;
            return { changes: o3, range: $2 ? k_.range(Math.max(0, $2.anchor + s3), Math.max(0, $2.head + s3)) : t3.map(o3) };
          });
        } else
          j2 = { changes: _2, selection: $2 && k2.selection.replaceRange($2) };
      }
      var M2 = "input.type";
      e20.composing && (M2 += ".compose", e20.inputState.compositionFirstChange && (M2 += ".start", e20.inputState.compositionFirstChange = false)), e20.dispatch(j2, { scrollIntoView: true, userEvent: M2 });
    } else if (o2 && !o2.main.eq(a2)) {
      var T2 = false, I2 = "select";
      e20.inputState.lastSelectionTime > Date.now() - 50 && (e20.inputState.lastSelectionOrigin == "select" && (T2 = true), I2 = e20.inputState.lastSelectionOrigin), e20.dispatch({ selection: o2, scrollIntoView: T2, userEvent: I2 });
    }
  }
}
var OE = function() {
  function e20() {
    var t2 = this, n2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Ri(this, e20), this.plugins = [], this.pluginMap = /* @__PURE__ */ new Map(), this.editorAttrs = {}, this.contentAttrs = {}, this.bidiCache = [], this.destroyed = false, this.updateState = 2, this.measureScheduled = -1, this.measureRequests = [], this.contentDOM = document.createElement("div"), this.scrollDOM = document.createElement("div"), this.scrollDOM.tabIndex = -1, this.scrollDOM.className = "cm-scroller", this.scrollDOM.appendChild(this.contentDOM), this.announceDOM = document.createElement("div"), this.announceDOM.style.cssText = "position: absolute; top: -10000px", this.announceDOM.setAttribute("aria-live", "polite"), this.dom = document.createElement("div"), this.dom.appendChild(this.announceDOM), this.dom.appendChild(this.scrollDOM), this._dispatch = n2.dispatch || function(e21) {
      return t2.update([e21]);
    }, this.dispatch = this.dispatch.bind(this), this.root = n2.root || lO(n2.parent) || document, this.viewState = new sE(n2.state || h$.create()), this.plugins = this.state.facet(wP).map(function(e21) {
      return new xP(e21);
    });
    var r2, i2 = bi(this.plugins);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value;
        o2.update(this);
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
    this.observer = new CE(this, function(e21, n3, r3) {
      $E(t2, e21, n3, r3);
    }, function(e21) {
      t2.inputState.runScrollHandlers(t2, e21), t2.observer.intersecting && t2.measure();
    }), this.inputState = new kA(this), this.docView = new XP(this), this.mountStyles(), this.updateAttrs(), this.updateState = 0, this.requestMeasure(), n2.parent && n2.parent.appendChild(this.dom);
  }
  return Li(e20, [{ key: "state", get: function() {
    return this.viewState.state;
  } }, { key: "viewport", get: function() {
    return this.viewState.viewport;
  } }, { key: "visibleRanges", get: function() {
    return this.viewState.visibleRanges;
  } }, { key: "inView", get: function() {
    return this.viewState.inView;
  } }, { key: "composing", get: function() {
    return this.inputState.composing > 0;
  } }, { key: "compositionStarted", get: function() {
    return this.inputState.composing >= 0;
  } }, { key: "dispatch", value: function() {
    var e21;
    this._dispatch(arguments.length == 1 && (arguments.length <= 0 ? void 0 : arguments[0]) instanceof t$ ? arguments.length <= 0 ? void 0 : arguments[0] : (e21 = this.state).update.apply(e21, arguments));
  } }, { key: "update", value: function(e21) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
    var t2, n2, r2 = false, i2 = this.state, o2 = bi(e21);
    try {
      for (o2.s(); !(n2 = o2.n()).done; ) {
        var a2 = n2.value;
        if (a2.startState != i2)
          throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
        i2 = a2.state;
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    if (this.destroyed)
      this.viewState.state = i2;
    else {
      if (i2.facet(h$.phrases) != this.state.facet(h$.phrases))
        return this.setState(i2);
      t2 = new PP(this, i2, e21);
      var s2 = this.viewState.scrollTarget;
      try {
        this.updateState = 2;
        var u2, c2 = bi(e21);
        try {
          for (c2.s(); !(u2 = c2.n()).done; ) {
            var l2 = u2.value;
            if (s2 && (s2 = s2.map(l2.changes)), l2.scrollIntoView) {
              var f2 = l2.state.selection.main;
              s2 = new dP(f2.empty ? f2 : k_.cursor(f2.head, f2.head > f2.anchor ? -1 : 1));
            }
            var h2, d2 = bi(l2.effects);
            try {
              for (d2.s(); !(h2 = d2.n()).done; ) {
                var v2 = h2.value;
                v2.is(fP) ? s2 = new dP(v2.value) : v2.is(hP) ? s2 = new dP(v2.value, "center") : v2.is(vP) && (s2 = v2.value);
              }
            } catch (e22) {
              d2.e(e22);
            } finally {
              d2.f();
            }
          }
        } catch (e22) {
          c2.e(e22);
        } finally {
          c2.f();
        }
        this.viewState.update(t2, s2), this.bidiCache = ME.update(this.bidiCache, t2.changes), t2.empty || (this.updatePlugins(t2), this.inputState.update(t2)), r2 = this.docView.update(t2), this.state.facet($P) != this.styleModules && this.mountStyles(), this.updateAttrs(), this.showAnnouncements(e21), this.docView.updateSelection(r2, e21.some(function(e22) {
          return e22.isUserEvent("select.pointer");
        }));
      } finally {
        this.updateState = 0;
      }
      if (t2.startState.facet(pE) != t2.state.facet(pE) && (this.viewState.mustMeasureContent = true), (r2 || s2 || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent) && this.requestMeasure(), !t2.empty) {
        var p2, m2 = bi(this.state.facet(cP));
        try {
          for (m2.s(); !(p2 = m2.n()).done; ) {
            (0, p2.value)(t2);
          }
        } catch (e22) {
          m2.e(e22);
        } finally {
          m2.f();
        }
      }
    }
  } }, { key: "setState", value: function(e21) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
    if (this.destroyed)
      this.viewState.state = e21;
    else {
      this.updateState = 2;
      var t2 = this.hasFocus;
      try {
        var n2, r2 = bi(this.plugins);
        try {
          for (r2.s(); !(n2 = r2.n()).done; ) {
            n2.value.destroy(this);
          }
        } catch (e22) {
          r2.e(e22);
        } finally {
          r2.f();
        }
        this.viewState = new sE(e21), this.plugins = e21.facet(wP).map(function(e22) {
          return new xP(e22);
        }), this.pluginMap.clear();
        var i2, o2 = bi(this.plugins);
        try {
          for (o2.s(); !(i2 = o2.n()).done; ) {
            i2.value.update(this);
          }
        } catch (e22) {
          o2.e(e22);
        } finally {
          o2.f();
        }
        this.docView = new XP(this), this.inputState.ensureHandlers(this), this.mountStyles(), this.updateAttrs(), this.bidiCache = [];
      } finally {
        this.updateState = 0;
      }
      t2 && this.focus(), this.requestMeasure();
    }
  } }, { key: "updatePlugins", value: function(e21) {
    var t2 = e21.startState.facet(wP), n2 = e21.state.facet(wP);
    if (t2 != n2) {
      var r2, i2 = [], o2 = bi(n2);
      try {
        for (o2.s(); !(r2 = o2.n()).done; ) {
          var a2 = r2.value, s2 = t2.indexOf(a2);
          if (s2 < 0)
            i2.push(new xP(a2));
          else {
            var u2 = this.plugins[s2];
            u2.mustUpdate = e21, i2.push(u2);
          }
        }
      } catch (e22) {
        o2.e(e22);
      } finally {
        o2.f();
      }
      var c2, l2 = bi(this.plugins);
      try {
        for (l2.s(); !(c2 = l2.n()).done; ) {
          var f2 = c2.value;
          f2.mustUpdate != e21 && f2.destroy(this);
        }
      } catch (e22) {
        l2.e(e22);
      } finally {
        l2.f();
      }
      this.plugins = i2, this.pluginMap.clear(), this.inputState.ensureHandlers(this);
    } else {
      var h2, d2 = bi(this.plugins);
      try {
        for (d2.s(); !(h2 = d2.n()).done; ) {
          h2.value.mustUpdate = e21;
        }
      } catch (e22) {
        d2.e(e22);
      } finally {
        d2.f();
      }
    }
    for (var v2 = 0; v2 < this.plugins.length; v2++)
      this.plugins[v2].update(this);
  } }, { key: "measure", value: function() {
    var e21 = this, t2 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
    if (!this.destroyed) {
      this.measureScheduled > -1 && cancelAnimationFrame(this.measureScheduled), this.measureScheduled = 0, t2 && this.observer.flush();
      var n2 = null;
      try {
        for (var r2 = 0; ; r2++) {
          this.updateState = 1;
          var i2 = this.viewport, o2 = this.viewState.measure(this);
          if (!o2 && !this.measureRequests.length && this.viewState.scrollTarget == null)
            break;
          if (r2 > 5) {
            console.warn(this.measureRequests.length ? "Measure loop restarted more than 5 times" : "Viewport failed to stabilize");
            break;
          }
          var a2 = [];
          if (!(4 & o2)) {
            var s2 = [a2, this.measureRequests];
            this.measureRequests = s2[0], a2 = s2[1];
          }
          var u2 = a2.map(function(t3) {
            try {
              return t3.read(e21);
            } catch (t4) {
              return pP(e21.state, t4), EE;
            }
          }), c2 = new PP(this, this.state), l2 = false, f2 = false;
          c2.flags |= o2, n2 ? n2.flags |= o2 : n2 = c2, this.updateState = 2, c2.empty || (this.updatePlugins(c2), this.inputState.update(c2), this.updateAttrs(), l2 = this.docView.update(c2));
          for (var h2 = 0; h2 < a2.length; h2++)
            if (u2[h2] != EE)
              try {
                var d2 = a2[h2];
                d2.write && d2.write(u2[h2], this);
              } catch (e22) {
                pP(this.state, e22);
              }
          if (this.viewState.scrollTarget && (this.docView.scrollIntoView(this.viewState.scrollTarget), this.viewState.scrollTarget = null, f2 = true), l2 && this.docView.updateSelection(true), this.viewport.from == i2.from && this.viewport.to == i2.to && !f2 && this.measureRequests.length == 0)
            break;
        }
      } finally {
        this.updateState = 0, this.measureScheduled = -1;
      }
      if (n2 && !n2.empty) {
        var v2, p2 = bi(this.state.facet(cP));
        try {
          for (p2.s(); !(v2 = p2.n()).done; ) {
            var m2 = v2.value;
            m2(n2);
          }
        } catch (e22) {
          p2.e(e22);
        } finally {
          p2.f();
        }
      }
    }
  } }, { key: "themeClasses", get: function() {
    return gE + " " + (this.state.facet(mE) ? bE : yE) + " " + this.state.facet(pE);
  } }, { key: "updateAttrs", value: function() {
    var e21 = this, t2 = TE(this, SP, { class: "cm-editor" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses }), n2 = { spellcheck: "false", autocorrect: "off", autocapitalize: "off", translate: "no", contenteditable: this.state.facet(mP) ? "true" : "false", class: "cm-content", style: "".concat(AO.tabSize, ": ").concat(this.state.tabSize), role: "textbox", "aria-multiline": "true" };
    this.state.readOnly && (n2["aria-readonly"] = "true"), TE(this, CP, n2), this.observer.ignore(function() {
      HO(e21.contentDOM, e21.contentAttrs, n2), HO(e21.dom, e21.editorAttrs, t2);
    }), this.editorAttrs = t2, this.contentAttrs = n2;
  } }, { key: "showAnnouncements", value: function(t2) {
    var n2, r2 = true, i2 = bi(t2);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        var o2, a2 = bi(n2.value.effects);
        try {
          for (a2.s(); !(o2 = a2.n()).done; ) {
            var s2 = o2.value;
            if (s2.is(e20.announce))
              r2 && (this.announceDOM.textContent = ""), r2 = false, this.announceDOM.appendChild(document.createElement("div")).textContent = s2.value;
          }
        } catch (e21) {
          a2.e(e21);
        } finally {
          a2.f();
        }
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
  } }, { key: "mountStyles", value: function() {
    this.styleModules = this.state.facet($P), g$.mount(this.root, this.styleModules.concat(jE).reverse());
  } }, { key: "readMeasured", value: function() {
    if (this.updateState == 2)
      throw new Error("Reading the editor layout isn't allowed during an update");
    this.updateState == 0 && this.measureScheduled > -1 && this.measure(false);
  } }, { key: "requestMeasure", value: function(e21) {
    var t2 = this;
    if (this.measureScheduled < 0 && (this.measureScheduled = requestAnimationFrame(function() {
      return t2.measure();
    })), e21) {
      if (e21.key != null) {
        for (var n2 = 0; n2 < this.measureRequests.length; n2++)
          if (this.measureRequests[n2].key === e21.key)
            return void (this.measureRequests[n2] = e21);
      }
      this.measureRequests.push(e21);
    }
  } }, { key: "pluginField", value: function(e21) {
    var t2, n2 = [], r2 = bi(this.plugins);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        t2.value.update(this).takeField(e21, n2);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    return n2;
  } }, { key: "plugin", value: function(e21) {
    var t2 = this.pluginMap.get(e21);
    return (t2 === void 0 || t2 && t2.spec != e21) && this.pluginMap.set(e21, t2 = this.plugins.find(function(t3) {
      return t3.spec == e21;
    }) || null), t2 && t2.update(this).value;
  } }, { key: "documentTop", get: function() {
    return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;
  } }, { key: "documentPadding", get: function() {
    return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };
  } }, { key: "blockAtHeight", value: function(e21, t2) {
    var n2 = AE(t2, this);
    return this.elementAtHeight(e21 - n2).moveY(n2);
  } }, { key: "elementAtHeight", value: function(e21) {
    return this.readMeasured(), this.viewState.elementAtHeight(e21);
  } }, { key: "visualLineAtHeight", value: function(e21, t2) {
    var n2 = AE(t2, this);
    return this.lineBlockAtHeight(e21 - n2).moveY(n2);
  } }, { key: "lineBlockAtHeight", value: function(e21) {
    return this.readMeasured(), this.viewState.lineBlockAtHeight(e21);
  } }, { key: "viewportLines", value: function(e21, t2) {
    var n2, r2 = AE(t2, this), i2 = bi(this.viewportLineBlocks);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        e21(n2.value.moveY(r2));
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
  } }, { key: "viewportLineBlocks", get: function() {
    return this.viewState.viewportLines;
  } }, { key: "visualLineAt", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return this.lineBlockAt(e21).moveY(t2 + this.viewState.paddingTop);
  } }, { key: "lineBlockAt", value: function(e21) {
    return this.viewState.lineBlockAt(e21);
  } }, { key: "contentHeight", get: function() {
    return this.viewState.contentHeight;
  } }, { key: "moveByChar", value: function(e21, t2, n2) {
    return wA(this, e21, bA(this, e21, t2, n2));
  } }, { key: "moveByGroup", value: function(e21, t2) {
    var n2 = this;
    return wA(this, e21, bA(this, e21, t2, function(t3) {
      return function(e22, t4, n3) {
        var r2 = e22.state.charCategorizer(t4), i2 = r2(n3);
        return function(e23) {
          var t5 = r2(e23);
          return i2 == c$.Space && (i2 = t5), i2 == t5;
        };
      }(n2, e21.head, t3);
    }));
  } }, { key: "moveToLineBoundary", value: function(e21, t2) {
    var n2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2];
    return yA(this, e21, t2, n2);
  } }, { key: "moveVertically", value: function(e21, t2, n2) {
    return wA(this, e21, function(e22, t3, n3, r2) {
      var i2 = t3.head, o2 = n3 ? 1 : -1;
      if (i2 == (n3 ? e22.state.doc.length : 0))
        return k_.cursor(i2, t3.assoc);
      var a2, s2 = t3.goalColumn, u2 = e22.contentDOM.getBoundingClientRect(), c2 = e22.coordsAtPos(i2), l2 = e22.documentTop;
      if (c2)
        s2 == null && (s2 = c2.left - u2.left), a2 = o2 < 0 ? c2.top : c2.bottom;
      else {
        var f2 = e22.viewState.lineBlockAt(i2 - l2);
        s2 == null && (s2 = Math.min(u2.right - u2.left, e22.defaultCharacterWidth * (i2 - f2.from))), a2 = (o2 < 0 ? f2.top : f2.bottom) + l2;
      }
      for (var h2 = u2.left + s2, d2 = r2 != null ? r2 : e22.defaultLineHeight >> 1, v2 = 0; ; v2 += 10) {
        var p2 = a2 + (d2 + v2) * o2, m2 = pA(e22, { x: h2, y: p2 }, false, o2);
        if (p2 < u2.top || p2 > u2.bottom || (o2 < 0 ? m2 < i2 : m2 > i2))
          return k_.cursor(m2, t3.assoc, void 0, s2);
      }
    }(this, e21, t2, n2));
  } }, { key: "scrollPosIntoView", value: function(e21) {
    this.dispatch({ effects: fP.of(k_.cursor(e21)) });
  } }, { key: "domAtPos", value: function(e21) {
    return this.docView.domAtPos(e21);
  } }, { key: "posAtDOM", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return this.docView.posFromDOM(e21, t2);
  } }, { key: "posAtCoords", value: function(e21) {
    var t2 = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
    return this.readMeasured(), pA(this, e21, t2);
  } }, { key: "coordsAtPos", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
    this.readMeasured();
    var n2 = this.docView.coordsAt(e21, t2);
    if (!n2 || n2.left == n2.right)
      return n2;
    var r2 = this.state.doc.lineAt(e21), i2 = this.bidiSpans(r2), o2 = i2[WP.find(i2, e21 - r2.from, -1, t2)];
    return nO(n2, o2.dir == AP.LTR == t2 > 0);
  } }, { key: "defaultCharacterWidth", get: function() {
    return this.viewState.heightOracle.charWidth;
  } }, { key: "defaultLineHeight", get: function() {
    return this.viewState.heightOracle.lineHeight;
  } }, { key: "textDirection", get: function() {
    return this.viewState.heightOracle.direction;
  } }, { key: "lineWrapping", get: function() {
    return this.viewState.heightOracle.lineWrapping;
  } }, { key: "bidiSpans", value: function(e21) {
    if (e21.length > PE)
      return JP(e21.length);
    var t2, n2 = this.textDirection, r2 = bi(this.bidiCache);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value;
        if (i2.from == e21.from && i2.dir == n2)
          return i2.order;
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    var o2 = function(e22, t3) {
      var n3 = e22.length, r3 = t3 == EP ? 1 : 2, i3 = t3 == EP ? 2 : 1;
      if (!e22 || r3 == 1 && !HP.test(e22))
        return JP(n3);
      for (var o3 = 0, a2 = r3, s2 = r3; o3 < n3; o3++) {
        var u2 = VP(e22.charCodeAt(o3));
        u2 == 512 ? u2 = a2 : u2 == 8 && s2 == 4 && (u2 = 16), UP[o3] = u2 == 4 ? 2 : u2, 7 & u2 && (s2 = u2), a2 = u2;
      }
      for (var c2 = 0, l2 = r3, f2 = r3; c2 < n3; c2++) {
        var h2 = UP[c2];
        if (h2 == 128)
          c2 < n3 - 1 && l2 == UP[c2 + 1] && 24 & l2 ? h2 = UP[c2] = l2 : UP[c2] = 256;
        else if (h2 == 64) {
          for (var d2 = c2 + 1; d2 < n3 && UP[d2] == 64; )
            d2++;
          for (var v2 = c2 && l2 == 8 || d2 < n3 && UP[d2] == 8 ? f2 == 1 ? 1 : 8 : 256, p2 = c2; p2 < d2; p2++)
            UP[p2] = v2;
          c2 = d2 - 1;
        } else
          h2 == 8 && f2 == 1 && (UP[c2] = 1);
        l2 = h2, 7 & h2 && (f2 = h2);
      }
      for (var m2, g2, y2, b2 = 0, w2 = 0, k2 = 0; b2 < n3; b2++)
        if (g2 = RP[m2 = e22.charCodeAt(b2)])
          if (g2 < 0) {
            for (var j2 = w2 - 3; j2 >= 0; j2 -= 3)
              if (DP[j2 + 1] == -g2) {
                var x2 = DP[j2 + 2], S2 = 2 & x2 ? r3 : 4 & x2 ? 1 & x2 ? i3 : r3 : 0;
                S2 && (UP[b2] = UP[DP[j2]] = S2), w2 = j2;
                break;
              }
          } else {
            if (DP.length == 189)
              break;
            DP[w2++] = b2, DP[w2++] = m2, DP[w2++] = k2;
          }
        else if ((y2 = UP[b2]) == 2 || y2 == 1) {
          var C2 = y2 == r3;
          k2 = C2 ? 0 : 1;
          for (var _2 = w2 - 3; _2 >= 0; _2 -= 3) {
            var $2 = DP[_2 + 2];
            if (2 & $2)
              break;
            if (C2)
              DP[_2 + 2] |= 2;
            else {
              if (4 & $2)
                break;
              DP[_2 + 2] |= 4;
            }
          }
        }
      for (var O2 = 0; O2 < n3; O2++)
        if (UP[O2] == 256) {
          for (var P2 = O2 + 1; P2 < n3 && UP[P2] == 256; )
            P2++;
          for (var A2 = (O2 ? UP[O2 - 1] : r3) == 1, E2 = A2 == ((P2 < n3 ? UP[P2] : r3) == 1) ? A2 ? 1 : 2 : r3, M2 = O2; M2 < P2; M2++)
            UP[M2] = E2;
          O2 = P2 - 1;
        }
      var T2 = [];
      if (r3 == 1)
        for (var I2 = 0; I2 < n3; ) {
          for (var N2 = I2, R2 = UP[I2++] != 1; I2 < n3 && R2 == (UP[I2] != 1); )
            I2++;
          if (R2)
            for (var D2 = I2; D2 > N2; ) {
              for (var L2 = D2, z2 = UP[--D2] != 2; D2 > N2 && z2 == (UP[D2 - 1] != 2); )
                D2--;
              T2.push(new WP(D2, L2, z2 ? 2 : 1));
            }
          else
            T2.push(new WP(N2, I2, 0));
        }
      else
        for (var B2 = 0; B2 < n3; ) {
          for (var q2 = B2, F2 = UP[B2++] == 2; B2 < n3 && F2 == (UP[B2] == 2); )
            B2++;
          T2.push(new WP(q2, B2, F2 ? 1 : 2));
        }
      return T2;
    }(e21.text, this.textDirection);
    return this.bidiCache.push(new ME(e21.from, e21.to, n2, o2)), o2;
  } }, { key: "hasFocus", get: function() {
    var e21;
    return (document.hasFocus() || AO.safari && ((e21 = this.inputState) === null || e21 === void 0 ? void 0 : e21.lastContextMenu) > Date.now() - 3e4) && this.root.activeElement == this.contentDOM;
  } }, { key: "focus", value: function() {
    var e21 = this;
    this.observer.ignore(function() {
      sO(e21.contentDOM), e21.docView.updateSelection();
    });
  } }, { key: "destroy", value: function() {
    var e21, t2 = bi(this.plugins);
    try {
      for (t2.s(); !(e21 = t2.n()).done; ) {
        e21.value.destroy(this);
      }
    } catch (e22) {
      t2.e(e22);
    } finally {
      t2.f();
    }
    this.plugins = [], this.inputState.destroy(), this.dom.remove(), this.observer.destroy(), this.measureScheduled > -1 && cancelAnimationFrame(this.measureScheduled), this.destroyed = true;
  } }], [{ key: "scrollIntoView", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return vP.of(new dP(typeof e21 == "number" ? k_.cursor(e21) : e21, t2.y, t2.x, t2.yMargin, t2.xMargin));
  } }, { key: "domEventHandlers", value: function(e21) {
    return kP.define(function() {
      return {};
    }, { eventHandlers: e21 });
  } }, { key: "theme", value: function(e21, t2) {
    var n2 = g$.newName(), r2 = [pE.of(n2), $P.of(kE(".".concat(n2), e21))];
    return t2 && t2.dark && r2.push(mE.of(true)), r2;
  } }, { key: "baseTheme", value: function(e21) {
    return D_.lowest($P.of(kE("." + gE, e21, wE)));
  } }]), e20;
}();
OE.scrollTo = fP, OE.centerOn = hP, OE.styleModule = $P, OE.inputHandler = lP, OE.exceptionSink = uP, OE.updateListener = cP, OE.editable = mP, OE.mouseSelectionStyle = sP, OE.dragMovesSelection = aP, OE.clickAddsSelectionRange = oP, OE.decorations = _P, OE.darkTheme = mE, OE.contentAttributes = CP, OE.editorAttributes = SP, OE.lineWrapping = OE.contentAttributes.of({ class: "cm-lineWrapping" }), OE.announce = e$.define();
var PE = 4096;
function AE(e20, t2) {
  return (e20 == null ? t2.contentDOM.getBoundingClientRect().top : e20) + t2.viewState.paddingTop;
}
var EE = {}, ME = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.from = t2, this.to = n2, this.dir = r2, this.order = i2;
  }
  return Li(e20, null, [{ key: "update", value: function(t2, n2) {
    if (n2.empty)
      return t2;
    for (var r2 = [], i2 = t2.length ? t2[t2.length - 1].dir : AP.LTR, o2 = Math.max(0, t2.length - 10); o2 < t2.length; o2++) {
      var a2 = t2[o2];
      a2.dir != i2 || n2.touchesRange(a2.from, a2.to) || r2.push(new e20(n2.mapPos(a2.from, 1), n2.mapPos(a2.to, -1), a2.dir, a2.order));
    }
    return r2;
  } }]), e20;
}();
function TE(e20, t2, n2) {
  for (var r2 = e20.state.facet(t2), i2 = r2.length - 1; i2 >= 0; i2--) {
    var o2 = r2[i2], a2 = typeof o2 == "function" ? o2(e20) : o2;
    a2 && FO(a2, n2);
  }
  return n2;
}
var IE = AO.mac ? "mac" : AO.windows ? "win" : AO.linux ? "linux" : "key";
function NE(e20, t2) {
  var n2, r2, i2, o2, a2 = e20.split(/-(?!$)/), s2 = a2[a2.length - 1];
  s2 == "Space" && (s2 = " ");
  for (var u2 = 0; u2 < a2.length - 1; ++u2) {
    var c2 = a2[u2];
    if (/^(cmd|meta|m)$/i.test(c2))
      o2 = true;
    else if (/^a(lt)?$/i.test(c2))
      n2 = true;
    else if (/^(c|ctrl|control)$/i.test(c2))
      r2 = true;
    else if (/^s(hift)?$/i.test(c2))
      i2 = true;
    else {
      if (!/^mod$/i.test(c2))
        throw new Error("Unrecognized modifier name: " + c2);
      t2 == "mac" ? o2 = true : r2 = true;
    }
  }
  return n2 && (s2 = "Alt-" + s2), r2 && (s2 = "Ctrl-" + s2), o2 && (s2 = "Meta-" + s2), i2 && (s2 = "Shift-" + s2), s2;
}
function RE(e20, t2, n2) {
  return t2.altKey && (e20 = "Alt-" + e20), t2.ctrlKey && (e20 = "Ctrl-" + e20), t2.metaKey && (e20 = "Meta-" + e20), n2 !== false && t2.shiftKey && (e20 = "Shift-" + e20), e20;
}
var DE = OE.domEventHandlers({ keydown: function(e20, t2) {
  return FE(BE(t2.state), e20, t2, "editor");
} }), LE = C_.define({ enables: DE }), zE = /* @__PURE__ */ new WeakMap();
function BE(e20) {
  var t2 = e20.facet(LE), n2 = zE.get(t2);
  return n2 || zE.set(t2, n2 = function(e21) {
    var t3, n3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : IE, r2 = /* @__PURE__ */ Object.create(null), i2 = /* @__PURE__ */ Object.create(null), o2 = function(e22, t4) {
      var n4 = i2[e22];
      if (n4 == null)
        i2[e22] = t4;
      else if (n4 != t4)
        throw new Error("Key binding " + e22 + " is used both as a regular binding and as a multi-stroke prefix");
    }, a2 = function(e22, t4, i3, a3) {
      for (var s3 = r2[e22] || (r2[e22] = /* @__PURE__ */ Object.create(null)), u3 = t4.split(/ (?!$)/).map(function(e23) {
        return NE(e23, n3);
      }), c3 = function(t5) {
        var n4 = u3.slice(0, t5).join(" ");
        o2(n4, true), s3[n4] || (s3[n4] = { preventDefault: true, commands: [function(t6) {
          var r3 = qE = { view: t6, prefix: n4, scope: e22 };
          return setTimeout(function() {
            qE == r3 && (qE = null);
          }, 4e3), true;
        }] });
      }, l3 = 1; l3 < u3.length; l3++)
        c3(l3);
      var f3 = u3.join(" ");
      o2(f3, false);
      var h3 = s3[f3] || (s3[f3] = { preventDefault: false, commands: [] });
      h3.commands.push(i3), a3 && (h3.preventDefault = true);
    }, s2 = bi(e21);
    try {
      for (s2.s(); !(t3 = s2.n()).done; ) {
        var u2 = t3.value, c2 = u2[n3] || u2.key;
        if (c2) {
          var l2, f2 = bi(u2.scope ? u2.scope.split(" ") : ["editor"]);
          try {
            for (f2.s(); !(l2 = f2.n()).done; ) {
              var h2 = l2.value;
              a2(h2, c2, u2.run, u2.preventDefault), u2.shift && a2(h2, "Shift-" + c2, u2.shift, u2.preventDefault);
            }
          } catch (e22) {
            f2.e(e22);
          } finally {
            f2.f();
          }
        }
      }
    } catch (e22) {
      s2.e(e22);
    } finally {
      s2.f();
    }
    return r2;
  }(t2.reduce(function(e21, t3) {
    return e21.concat(t3);
  }, []))), n2;
}
var qE = null;
function FE(e20, t2, n2, r2) {
  var i2 = function(e21) {
    var t3 = !(H$ && (e21.ctrlKey || e21.altKey || e21.metaKey) || (B$ || V$) && e21.shiftKey && e21.key && e21.key.length == 1) && e21.key || (e21.shiftKey ? L$ : D$)[e21.keyCode] || e21.key || "Unidentified";
    return t3 == "Esc" && (t3 = "Escape"), t3 == "Del" && (t3 = "Delete"), t3 == "Left" && (t3 = "ArrowLeft"), t3 == "Up" && (t3 = "ArrowUp"), t3 == "Right" && (t3 = "ArrowRight"), t3 == "Down" && (t3 = "ArrowDown"), t3;
  }(t2), o2 = i2.length == 1 && i2 != " ", a2 = "", s2 = false;
  qE && qE.view == n2 && qE.scope == r2 && (a2 = qE.prefix + " ", (s2 = xA.indexOf(t2.keyCode) < 0) && (qE = null));
  var u2, c2 = function(e21) {
    if (e21) {
      var t3, r3 = bi(e21.commands);
      try {
        for (r3.s(); !(t3 = r3.n()).done; ) {
          if ((0, t3.value)(n2))
            return true;
        }
      } catch (e22) {
        r3.e(e22);
      } finally {
        r3.f();
      }
      e21.preventDefault && (s2 = true);
    }
    return false;
  }, l2 = e20[r2];
  if (l2) {
    if (c2(l2[a2 + RE(i2, t2, !o2)]))
      return true;
    if (o2 && (t2.shiftKey || t2.altKey || t2.metaKey) && (u2 = D$[t2.keyCode]) && u2 != i2) {
      if (c2(l2[a2 + RE(u2, t2, true)]))
        return true;
    } else if (o2 && t2.shiftKey && c2(l2[a2 + RE(i2, t2, true)]))
      return true;
  }
  return s2;
}
var VE = !AO.ios, HE = C_.define({ combine: function(e20) {
  return d$(e20, { cursorBlinkRate: 1200, drawRangeCursor: true }, { cursorBlinkRate: function(e21, t2) {
    return Math.min(e21, t2);
  }, drawRangeCursor: function(e21, t2) {
    return e21 || t2;
  } });
} });
function WE() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [HE.of(e20), JE, GE];
}
var UE = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.left = t2, this.top = n2, this.width = r2, this.height = i2, this.className = o2;
  }
  return Li(e20, [{ key: "draw", value: function() {
    var e21 = document.createElement("div");
    return e21.className = this.className, this.adjust(e21), e21;
  } }, { key: "adjust", value: function(e21) {
    e21.style.left = this.left + "px", e21.style.top = this.top + "px", this.width >= 0 && (e21.style.width = this.width + "px"), e21.style.height = this.height + "px";
  } }, { key: "eq", value: function(e21) {
    return this.left == e21.left && this.top == e21.top && this.width == e21.width && this.height == e21.height && this.className == e21.className;
  } }]), e20;
}(), JE = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.rangePieces = [], this.cursors = [], this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) }, this.selectionLayer = t2.scrollDOM.appendChild(document.createElement("div")), this.selectionLayer.className = "cm-selectionLayer", this.selectionLayer.setAttribute("aria-hidden", "true"), this.cursorLayer = t2.scrollDOM.appendChild(document.createElement("div")), this.cursorLayer.className = "cm-cursorLayer", this.cursorLayer.setAttribute("aria-hidden", "true"), t2.requestMeasure(this.measureReq), this.setBlinkRate();
  }
  return Li(e20, [{ key: "setBlinkRate", value: function() {
    this.cursorLayer.style.animationDuration = this.view.state.facet(HE).cursorBlinkRate + "ms";
  } }, { key: "update", value: function(e21) {
    var t2 = e21.startState.facet(HE) != e21.state.facet(HE);
    (t2 || e21.selectionSet || e21.geometryChanged || e21.viewportChanged) && this.view.requestMeasure(this.measureReq), e21.transactions.some(function(e22) {
      return e22.scrollIntoView;
    }) && (this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink"), t2 && this.setBlinkRate();
  } }, { key: "readPos", value: function() {
    var e21, t2 = this, n2 = this.view.state, r2 = n2.facet(HE), i2 = n2.selection.ranges.map(function(e22) {
      return e22.empty ? [] : function(e23, t3) {
        if (t3.to <= e23.viewport.from || t3.from >= e23.viewport.to)
          return [];
        var n3 = Math.max(t3.from, e23.viewport.from), r3 = Math.min(t3.to, e23.viewport.to), i3 = e23.textDirection == AP.LTR, o3 = e23.contentDOM, a3 = o3.getBoundingClientRect(), s3 = QE(e23), u3 = window.getComputedStyle(o3.firstChild), c3 = a3.left + parseInt(u3.paddingLeft) + Math.min(0, parseInt(u3.textIndent)), l2 = a3.right - parseInt(u3.paddingRight), f2 = ZE(e23, n3), h2 = ZE(e23, r3), d2 = f2.type == UO.Text ? f2 : null, v2 = h2.type == UO.Text ? h2 : null;
        e23.lineWrapping && (d2 && (d2 = YE(e23, n3, d2)), v2 && (v2 = YE(e23, r3, v2)));
        if (d2 && v2 && d2.from == v2.from)
          return b2(w2(t3.from, t3.to, d2));
        var p2 = d2 ? w2(t3.from, null, d2) : k2(f2, false), m2 = v2 ? w2(null, t3.to, v2) : k2(h2, true), g2 = [];
        return (d2 || f2).to < (v2 || h2).from - 1 ? g2.push(y2(c3, p2.bottom, l2, m2.top)) : p2.bottom < m2.top && e23.elementAtHeight((p2.bottom + m2.top) / 2).type == UO.Text && (p2.bottom = m2.top = (p2.bottom + m2.top) / 2), b2(p2).concat(g2).concat(b2(m2));
        function y2(e24, t4, n4, r4) {
          return new UE(e24 - s3.left, t4 - s3.top - 0.01, n4 - e24, r4 - t4 + 0.01, "cm-selectionBackground");
        }
        function b2(e24) {
          for (var t4 = e24.top, n4 = e24.bottom, r4 = e24.horizontal, i4 = [], o4 = 0; o4 < r4.length; o4 += 2)
            i4.push(y2(r4[o4], t4, r4[o4 + 1], n4));
          return i4;
        }
        function w2(t4, n4, r4) {
          var o4 = 1e9, a4 = -1e9, s4 = [];
          function u4(t5, n5, u5, f4, h4) {
            var d4 = e23.coordsAtPos(t5, t5 == r4.to ? -2 : 2), v4 = e23.coordsAtPos(u5, u5 == r4.from ? 2 : -2);
            o4 = Math.min(d4.top, v4.top, o4), a4 = Math.max(d4.bottom, v4.bottom, a4), h4 == AP.LTR ? s4.push(i3 && n5 ? c3 : d4.left, i3 && f4 ? l2 : v4.right) : s4.push(!i3 && f4 ? c3 : v4.left, !i3 && n5 ? l2 : d4.right);
          }
          var f3, h3 = t4 != null ? t4 : r4.from, d3 = n4 != null ? n4 : r4.to, v3 = bi(e23.visibleRanges);
          try {
            for (v3.s(); !(f3 = v3.n()).done; ) {
              var p3 = f3.value;
              if (p3.to > h3 && p3.from < d3)
                for (var m3 = Math.max(p3.from, h3), g3 = Math.min(p3.to, d3); ; ) {
                  var y3, b3 = e23.state.doc.lineAt(m3), w3 = bi(e23.bidiSpans(b3));
                  try {
                    for (w3.s(); !(y3 = w3.n()).done; ) {
                      var k3 = y3.value, j2 = k3.from + b3.from, x2 = k3.to + b3.from;
                      if (j2 >= g3)
                        break;
                      x2 > m3 && u4(Math.max(j2, m3), t4 == null && j2 <= h3, Math.min(x2, g3), n4 == null && x2 >= d3, k3.dir);
                    }
                  } catch (e24) {
                    w3.e(e24);
                  } finally {
                    w3.f();
                  }
                  if ((m3 = b3.to + 1) >= g3)
                    break;
                }
            }
          } catch (e24) {
            v3.e(e24);
          } finally {
            v3.f();
          }
          return s4.length == 0 && u4(h3, t4 == null, d3, n4 == null, e23.textDirection), { top: o4, bottom: a4, horizontal: s4 };
        }
        function k2(e24, t4) {
          var n4 = a3.top + (t4 ? e24.top : e24.bottom);
          return { top: n4, bottom: n4, horizontal: [] };
        }
      }(t2.view, e22);
    }).reduce(function(e22, t3) {
      return e22.concat(t3);
    }), o2 = [], a2 = bi(n2.selection.ranges);
    try {
      for (a2.s(); !(e21 = a2.n()).done; ) {
        var s2 = e21.value, u2 = s2 == n2.selection.main;
        if (s2.empty ? !u2 || VE : r2.drawRangeCursor) {
          var c2 = XE(this.view, s2, u2);
          c2 && o2.push(c2);
        }
      }
    } catch (e22) {
      a2.e(e22);
    } finally {
      a2.f();
    }
    return { rangePieces: i2, cursors: o2 };
  } }, { key: "drawSel", value: function(e21) {
    var t2 = this, n2 = e21.rangePieces, r2 = e21.cursors;
    if (n2.length != this.rangePieces.length || n2.some(function(e22, n3) {
      return !e22.eq(t2.rangePieces[n3]);
    })) {
      this.selectionLayer.textContent = "";
      var i2, o2 = bi(n2);
      try {
        for (o2.s(); !(i2 = o2.n()).done; ) {
          var a2 = i2.value;
          this.selectionLayer.appendChild(a2.draw());
        }
      } catch (e22) {
        o2.e(e22);
      } finally {
        o2.f();
      }
      this.rangePieces = n2;
    }
    if (r2.length != this.cursors.length || r2.some(function(e22, n3) {
      return !e22.eq(t2.cursors[n3]);
    })) {
      var s2 = this.cursorLayer.children;
      if (s2.length !== r2.length) {
        this.cursorLayer.textContent = "";
        var u2, c2 = bi(r2);
        try {
          for (c2.s(); !(u2 = c2.n()).done; ) {
            var l2 = u2.value;
            this.cursorLayer.appendChild(l2.draw());
          }
        } catch (e22) {
          c2.e(e22);
        } finally {
          c2.f();
        }
      } else
        r2.forEach(function(e22, t3) {
          return e22.adjust(s2[t3]);
        });
      this.cursors = r2;
    }
  } }, { key: "destroy", value: function() {
    this.selectionLayer.remove(), this.cursorLayer.remove();
  } }]), e20;
}()), KE = { ".cm-line": { "& ::selection": { backgroundColor: "transparent !important" }, "&::selection": { backgroundColor: "transparent !important" } } };
VE && (KE[".cm-line"].caretColor = "transparent !important");
var GE = D_.highest(OE.theme(KE));
function QE(e20) {
  var t2 = e20.scrollDOM.getBoundingClientRect();
  return { left: (e20.textDirection == AP.LTR ? t2.left : t2.right - e20.scrollDOM.clientWidth) - e20.scrollDOM.scrollLeft, top: t2.top - e20.scrollDOM.scrollTop };
}
function YE(e20, t2, n2) {
  var r2 = k_.cursor(t2);
  return { from: Math.max(n2.from, e20.moveToLineBoundary(r2, false, true).from), to: Math.min(n2.to, e20.moveToLineBoundary(r2, true, true).from), type: UO.Text };
}
function ZE(e20, t2) {
  var n2 = e20.lineBlockAt(t2);
  if (Array.isArray(n2.type)) {
    var r2, i2 = bi(n2.type);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value;
        if (o2.to > t2 || o2.to == t2 && (o2.to == n2.to || o2.type == UO.Text))
          return o2;
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
  }
  return n2;
}
function XE(e20, t2, n2) {
  var r2 = e20.coordsAtPos(t2.head, t2.assoc || 1);
  if (!r2)
    return null;
  var i2 = QE(e20);
  return new UE(r2.left - i2.left, r2.top - i2.top, -1, r2.bottom - r2.top, n2 ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary");
}
var eM = e$.define({ map: function(e20, t2) {
  return e20 == null ? null : t2.mapPos(e20);
} }), tM = A_.define({ create: function() {
  return null;
}, update: function(e20, t2) {
  return e20 != null && (e20 = t2.changes.mapPos(e20)), t2.effects.reduce(function(e21, t3) {
    return t3.is(eM) ? t3.value : e21;
  }, e20);
} }), nM = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.cursor = null, this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2, n2 = e21.state.field(tM);
    n2 == null ? this.cursor != null && ((t2 = this.cursor) === null || t2 === void 0 || t2.remove(), this.cursor = null) : (this.cursor || (this.cursor = this.view.scrollDOM.appendChild(document.createElement("div")), this.cursor.className = "cm-dropCursor"), (e21.startState.field(tM) != n2 || e21.docChanged || e21.geometryChanged) && this.view.requestMeasure(this.measureReq));
  } }, { key: "readPos", value: function() {
    var e21 = this.view.state.field(tM), t2 = e21 != null && this.view.coordsAtPos(e21);
    if (!t2)
      return null;
    var n2 = this.view.scrollDOM.getBoundingClientRect();
    return { left: t2.left - n2.left + this.view.scrollDOM.scrollLeft, top: t2.top - n2.top + this.view.scrollDOM.scrollTop, height: t2.bottom - t2.top };
  } }, { key: "drawCursor", value: function(e21) {
    this.cursor && (e21 ? (this.cursor.style.left = e21.left + "px", this.cursor.style.top = e21.top + "px", this.cursor.style.height = e21.height + "px") : this.cursor.style.left = "-100000px");
  } }, { key: "destroy", value: function() {
    this.cursor && this.cursor.remove();
  } }, { key: "setDropPos", value: function(e21) {
    this.view.state.field(tM) != e21 && this.view.dispatch({ effects: eM.of(e21) });
  } }]), e20;
}(), { eventHandlers: { dragover: function(e20) {
  this.setDropPos(this.view.posAtCoords({ x: e20.clientX, y: e20.clientY }));
}, dragleave: function(e20) {
  e20.target != this.view.contentDOM && this.view.contentDOM.contains(e20.relatedTarget) || this.setDropPos(null);
}, dragend: function() {
  this.setDropPos(null);
}, drop: function() {
  this.setDropPos(null);
} } });
function rM() {
  return [tM, nM];
}
function iM(e20, t2, n2, r2, i2) {
  t2.lastIndex = 0;
  for (var o2, a2 = e20.iterRange(n2, r2), s2 = n2; !a2.next().done; s2 += a2.value.length)
    if (!a2.lineBreak)
      for (; o2 = t2.exec(a2.value); )
        i2(s2 + o2.index, s2 + o2.index + o2[0].length, o2);
}
var oM = function() {
  function e20(t2) {
    Ri(this, e20);
    var n2 = t2.regexp, r2 = t2.decoration, i2 = t2.boundary, o2 = t2.maxLength, a2 = o2 === void 0 ? 1e3 : o2;
    if (!n2.global)
      throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");
    this.regexp = n2, this.getDeco = typeof r2 == "function" ? r2 : function() {
      return r2;
    }, this.boundary = i2, this.maxLength = a2;
  }
  return Li(e20, [{ key: "createDeco", value: function(e21) {
    var t2, n2 = this, r2 = new _$(), i2 = bi(function(e22, t3) {
      var n3 = e22.visibleRanges;
      if (n3.length == 1 && n3[0].from == e22.viewport.from && n3[0].to == e22.viewport.to)
        return n3;
      var r3, i3 = [], o3 = bi(n3);
      try {
        for (o3.s(); !(r3 = o3.n()).done; ) {
          var a3 = r3.value, s3 = a3.from, u2 = a3.to;
          s3 = Math.max(e22.state.doc.lineAt(s3).from, s3 - t3), u2 = Math.min(e22.state.doc.lineAt(u2).to, u2 + t3), i3.length && i3[i3.length - 1].to >= s3 ? i3[i3.length - 1].to = u2 : i3.push({ from: s3, to: u2 });
        }
      } catch (e23) {
        o3.e(e23);
      } finally {
        o3.f();
      }
      return i3;
    }(e21, this.maxLength));
    try {
      for (i2.s(); !(t2 = i2.n()).done; ) {
        var o2 = t2.value, a2 = o2.from, s2 = o2.to;
        iM(e21.state.doc, this.regexp, a2, s2, function(t3, i3, o3) {
          return r2.add(t3, i3, n2.getDeco(o3, e21, t3));
        });
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return r2.finish();
  } }, { key: "updateDeco", value: function(e21, t2) {
    var n2 = 1e9, r2 = -1;
    return e21.docChanged && e21.changes.iterChanges(function(t3, i2, o2, a2) {
      a2 > e21.view.viewport.from && o2 < e21.view.viewport.to && (n2 = Math.min(o2, n2), r2 = Math.max(a2, r2));
    }), e21.viewportChanged || r2 - n2 > 1e3 ? this.createDeco(e21.view) : r2 > -1 ? this.updateRange(e21.view, t2.map(e21.changes), n2, r2) : t2;
  } }, { key: "updateRange", value: function(e21, t2, n2, r2) {
    var i2, o2 = this, a2 = bi(e21.visibleRanges);
    try {
      for (a2.s(); !(i2 = a2.n()).done; ) {
        var s2 = i2.value, u2 = Math.max(s2.from, n2), c2 = Math.min(s2.to, r2);
        c2 > u2 && function() {
          var n3 = e21.state.doc.lineAt(u2), r3 = n3.to < c2 ? e21.state.doc.lineAt(c2) : n3, i3 = Math.max(s2.from, n3.from), a3 = Math.min(s2.to, r3.to);
          if (o2.boundary) {
            for (; u2 > n3.from; u2--)
              if (o2.boundary.test(n3.text[u2 - 1 - n3.from])) {
                i3 = u2;
                break;
              }
            for (; c2 < r3.to; c2++)
              if (o2.boundary.test(r3.text[c2 - r3.from])) {
                a3 = c2;
                break;
              }
          }
          var l2 = [], f2 = void 0;
          if (n3 == r3)
            for (o2.regexp.lastIndex = i3 - n3.from; (f2 = o2.regexp.exec(n3.text)) && f2.index < a3 - n3.from; ) {
              var h2 = f2.index + n3.from;
              l2.push(o2.getDeco(f2, e21, h2).range(h2, h2 + f2[0].length));
            }
          else
            iM(e21.state.doc, o2.regexp, i3, a3, function(t3, n4, r4) {
              return l2.push(o2.getDeco(r4, e21, t3).range(t3, n4));
            });
          t2 = t2.update({ filterFrom: i3, filterTo: a3, filter: function(e22, t3) {
            return e22 < i3 || t3 > a3;
          }, add: l2 });
        }();
      }
    } catch (e22) {
      a2.e(e22);
    } finally {
      a2.f();
    }
    return t2;
  } }]), e20;
}(), aM = /x/.unicode != null ? "gu" : "g", sM = new RegExp("[\0-\b\n-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\uFEFF\uFFF9-\uFFFC]", aM), uM = { 0: "null", 7: "bell", 8: "backspace", 10: "newline", 11: "vertical tab", 13: "carriage return", 27: "escape", 8203: "zero width space", 8204: "zero width non-joiner", 8205: "zero width joiner", 8206: "left-to-right mark", 8207: "right-to-left mark", 8232: "line separator", 8237: "left-to-right override", 8238: "right-to-left override", 8233: "paragraph separator", 65279: "zero width no-break space", 65532: "object replacement" }, cM = null;
var lM = C_.define({ combine: function(e20) {
  var t2 = d$(e20, { render: null, specialChars: sM, addSpecialChars: null });
  return (t2.replaceTabs = !function() {
    var e21;
    if (cM == null && typeof document != "undefined" && document.body) {
      var t3 = document.body.style;
      cM = ((e21 = t3.tabSize) !== null && e21 !== void 0 ? e21 : t3.MozTabSize) != null;
    }
    return cM || false;
  }()) && (t2.specialChars = new RegExp("	|" + t2.specialChars.source, aM)), t2.addSpecialChars && (t2.specialChars = new RegExp(t2.specialChars.source + "|" + t2.addSpecialChars.source, aM)), t2;
} });
function fM() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [lM.of(e20), dM()];
}
var hM = null;
function dM() {
  return hM || (hM = kP.fromClass(function() {
    function e20(t2) {
      Ri(this, e20), this.view = t2, this.decorations = JO.none, this.decorationCache = /* @__PURE__ */ Object.create(null), this.decorator = this.makeDecorator(t2.state.facet(lM)), this.decorations = this.decorator.createDeco(t2);
    }
    return Li(e20, [{ key: "makeDecorator", value: function(e21) {
      var t2 = this;
      return new oM({ regexp: e21.specialChars, decoration: function(n2, r2, i2) {
        var o2 = r2.state.doc, a2 = GC(n2[0], 0);
        if (a2 == 9) {
          var s2 = o2.lineAt(i2), u2 = r2.state.tabSize, c2 = ZC(s2.text, u2, i2 - s2.from);
          return JO.replace({ widget: new pM((u2 - c2 % u2) * t2.view.defaultCharacterWidth) });
        }
        return t2.decorationCache[a2] || (t2.decorationCache[a2] = JO.replace({ widget: new vM(e21, a2) }));
      }, boundary: e21.replaceTabs ? void 0 : /[^]/ });
    } }, { key: "update", value: function(e21) {
      var t2 = e21.state.facet(lM);
      e21.startState.facet(lM) != t2 ? (this.decorator = this.makeDecorator(t2), this.decorations = this.decorator.createDeco(e21.view)) : this.decorations = this.decorator.updateDeco(e21, this.decorations);
    } }]), e20;
  }(), { decorations: function(e20) {
    return e20.decorations;
  } }));
}
var vM = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this)).options = e21, i2.code = r2, i2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21.code == this.code;
  } }, { key: "toDOM", value: function(e21) {
    var t3 = function(e22) {
      return e22 >= 32 ? "\u2022" : e22 == 10 ? "\u2424" : String.fromCharCode(9216 + e22);
    }(this.code), n3 = e21.state.phrase("Control character") + " " + (uM[this.code] || "0x" + this.code.toString(16)), r2 = this.options.render && this.options.render(this.code, n3, t3);
    if (r2)
      return r2;
    var i2 = document.createElement("span");
    return i2.textContent = t3, i2.title = n3, i2.setAttribute("aria-label", n3), i2.className = "cm-specialChar", i2;
  } }, { key: "ignoreEvent", value: function() {
    return false;
  } }]), n2;
}(), pM = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).width = e21, r2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21.width == this.width;
  } }, { key: "toDOM", value: function() {
    var e21 = document.createElement("span");
    return e21.textContent = "	", e21.className = "cm-tab", e21.style.width = this.width + "px", e21;
  } }, { key: "ignoreEvent", value: function() {
    return false;
  } }]), n2;
}();
function mM() {
  return yM;
}
var gM = JO.line({ class: "cm-activeLine" }), yM = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.decorations = this.getDeco(t2);
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    (e21.docChanged || e21.selectionSet) && (this.decorations = this.getDeco(e21.view));
  } }, { key: "getDeco", value: function(e21) {
    var t2, n2 = -1, r2 = [], i2 = bi(e21.state.selection.ranges);
    try {
      for (i2.s(); !(t2 = i2.n()).done; ) {
        var o2 = t2.value;
        if (!o2.empty)
          return JO.none;
        var a2 = e21.lineBlockAt(o2.head);
        a2.from > n2 && (r2.push(gM.range(a2.from)), n2 = a2.from);
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return JO.set(r2);
  } }]), e20;
}(), { decorations: function(e20) {
  return e20.decorations;
} }), bM = Y_.define(), wM = Y_.define(), kM = C_.define(), jM = C_.define({ combine: function(e20) {
  return d$(e20, { minDepth: 100, newGroupDelay: 500 }, { minDepth: Math.max, newGroupDelay: Math.min });
} });
var xM = A_.define({ create: function() {
  return FM.empty;
}, update: function(e20, t2) {
  var n2, r2, i2 = t2.state.facet(jM), o2 = t2.annotation(bM);
  if (o2) {
    var a2 = t2.docChanged ? k_.single((n2 = t2.changes, r2 = 0, n2.iterChangedRanges(function(e21, t3) {
      return r2 = t3;
    }), r2)) : void 0, s2 = TM.fromTransaction(t2, a2), u2 = o2.side, c2 = u2 == 0 ? e20.undone : e20.done;
    return c2 = s2 ? IM(c2, c2.length, i2.minDepth, s2) : DM(c2, t2.startState.selection), new FM(u2 == 0 ? o2.rest : c2, u2 == 0 ? c2 : o2.rest);
  }
  var l2 = t2.annotation(wM);
  if (l2 != "full" && l2 != "before" || (e20 = e20.isolate()), t2.annotation(t$.addToHistory) === false)
    return t2.changes.empty ? e20 : e20.addMapping(t2.changes.desc);
  var f2 = TM.fromTransaction(t2), h2 = t2.annotation(t$.time), d2 = t2.annotation(t$.userEvent);
  return f2 ? e20 = e20.addChanges(f2, h2, d2, i2.newGroupDelay, i2.minDepth) : t2.selection && (e20 = e20.addSelection(t2.startState.selection, h2, d2, i2.newGroupDelay)), l2 != "full" && l2 != "after" || (e20 = e20.isolate()), e20;
}, toJSON: function(e20) {
  return { done: e20.done.map(function(e21) {
    return e21.toJSON();
  }), undone: e20.undone.map(function(e21) {
    return e21.toJSON();
  }) };
}, fromJSON: function(e20) {
  return new FM(e20.done.map(TM.fromJSON), e20.undone.map(TM.fromJSON));
} });
function SM() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [xM, jM.of(e20), OE.domEventHandlers({ beforeinput: function(e21, t2) {
    var n2 = e21.inputType == "historyUndo" ? _M : e21.inputType == "historyRedo" ? $M : null;
    return !!n2 && (e21.preventDefault(), n2(t2));
  } })];
}
function CM(e20, t2) {
  return function(n2) {
    var r2 = n2.state, i2 = n2.dispatch;
    if (!t2 && r2.readOnly)
      return false;
    var o2 = r2.field(xM, false);
    if (!o2)
      return false;
    var a2 = o2.pop(e20, r2, t2);
    return !!a2 && (i2(a2), true);
  };
}
var _M = CM(0, false), $M = CM(1, false), OM = CM(0, true), PM = CM(1, true);
function AM(e20) {
  return function(t2) {
    var n2 = t2.field(xM, false);
    if (!n2)
      return 0;
    var r2 = e20 == 0 ? n2.done : n2.undone;
    return r2.length - (r2.length && !r2[0].changes ? 1 : 0);
  };
}
var EM = AM(0), MM = AM(1), TM = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.changes = t2, this.effects = n2, this.mapped = r2, this.startSelection = i2, this.selectionsAfter = o2;
  }
  return Li(e20, [{ key: "setSelAfter", value: function(t2) {
    return new e20(this.changes, this.effects, this.mapped, this.startSelection, t2);
  } }, { key: "toJSON", value: function() {
    var e21, t2, n2;
    return { changes: (e21 = this.changes) === null || e21 === void 0 ? void 0 : e21.toJSON(), mapped: (t2 = this.mapped) === null || t2 === void 0 ? void 0 : t2.toJSON(), startSelection: (n2 = this.startSelection) === null || n2 === void 0 ? void 0 : n2.toJSON(), selectionsAfter: this.selectionsAfter.map(function(e22) {
      return e22.toJSON();
    }) };
  } }], [{ key: "fromJSON", value: function(t2) {
    return new e20(t2.changes && d_.fromJSON(t2.changes), [], t2.mapped && h_.fromJSON(t2.mapped), t2.startSelection && k_.fromJSON(t2.startSelection), t2.selectionsAfter.map(k_.fromJSON));
  } }, { key: "fromTransaction", value: function(t2, n2) {
    var r2, i2 = RM, o2 = bi(t2.startState.facet(kM));
    try {
      for (o2.s(); !(r2 = o2.n()).done; ) {
        var a2 = (0, r2.value)(t2);
        a2.length && (i2 = i2.concat(a2));
      }
    } catch (e21) {
      o2.e(e21);
    } finally {
      o2.f();
    }
    return !i2.length && t2.changes.empty ? null : new e20(t2.changes.invert(t2.startState.doc), i2, void 0, n2 || t2.startState.selection, RM);
  } }, { key: "selection", value: function(t2) {
    return new e20(void 0, RM, void 0, void 0, t2);
  } }]), e20;
}();
function IM(e20, t2, n2, r2) {
  var i2 = t2 + 1 > n2 + 20 ? t2 - n2 - 1 : 0, o2 = e20.slice(i2, t2);
  return o2.push(r2), o2;
}
function NM(e20, t2) {
  return e20.length ? t2.length ? e20.concat(t2) : e20 : t2;
}
var RM = [];
function DM(e20, t2) {
  if (e20.length) {
    var n2 = e20[e20.length - 1], r2 = n2.selectionsAfter.slice(Math.max(0, n2.selectionsAfter.length - 200));
    return r2.length && r2[r2.length - 1].eq(t2) ? e20 : (r2.push(t2), IM(e20, e20.length - 1, 1e9, n2.setSelAfter(r2)));
  }
  return [TM.selection([t2])];
}
function LM(e20) {
  var t2 = e20[e20.length - 1], n2 = e20.slice();
  return n2[e20.length - 1] = t2.setSelAfter(t2.selectionsAfter.slice(0, t2.selectionsAfter.length - 1)), n2;
}
function zM(e20, t2) {
  if (!e20.length)
    return e20;
  for (var n2 = e20.length, r2 = RM; n2; ) {
    var i2 = BM(e20[n2 - 1], t2, r2);
    if (i2.changes && !i2.changes.empty || i2.effects.length) {
      var o2 = e20.slice(0, n2);
      return o2[n2 - 1] = i2, o2;
    }
    t2 = i2.mapped, n2--, r2 = i2.selectionsAfter;
  }
  return r2.length ? [TM.selection(r2)] : RM;
}
function BM(e20, t2, n2) {
  var r2 = NM(e20.selectionsAfter.length ? e20.selectionsAfter.map(function(e21) {
    return e21.map(t2);
  }) : RM, n2);
  if (!e20.changes)
    return TM.selection(r2);
  var i2 = e20.changes.map(t2), o2 = t2.mapDesc(e20.changes, true), a2 = e20.mapped ? e20.mapped.composeDesc(o2) : o2;
  return new TM(i2, e$.mapEffects(e20.effects, t2), a2, e20.startSelection.map(o2), r2);
}
var qM = /^(input\.type|delete)($|\.)/, FM = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : void 0;
    Ri(this, e20), this.done = t2, this.undone = n2, this.prevTime = r2, this.prevUserEvent = i2;
  }
  return Li(e20, [{ key: "isolate", value: function() {
    return this.prevTime ? new e20(this.done, this.undone) : this;
  } }, { key: "addChanges", value: function(t2, n2, r2, i2, o2) {
    var a2 = this.done, s2 = a2[a2.length - 1];
    return new e20(a2 = s2 && s2.changes && !s2.changes.empty && t2.changes && (!r2 || qM.test(r2)) && (!s2.selectionsAfter.length && n2 - this.prevTime < i2 && function(e21, t3) {
      var n3 = [], r3 = false;
      return e21.iterChangedRanges(function(e22, t4) {
        return n3.push(e22, t4);
      }), t3.iterChangedRanges(function(e22, t4, i3, o3) {
        for (var a3 = 0; a3 < n3.length; ) {
          var s3 = n3[a3++], u2 = n3[a3++];
          o3 >= s3 && i3 <= u2 && (r3 = true);
        }
      }), r3;
    }(s2.changes, t2.changes) || r2 == "input.type.compose") ? IM(a2, a2.length - 1, o2, new TM(t2.changes.compose(s2.changes), NM(t2.effects, s2.effects), s2.mapped, s2.startSelection, RM)) : IM(a2, a2.length, o2, t2), RM, n2, r2);
  } }, { key: "addSelection", value: function(t2, n2, r2, i2) {
    var o2, a2, s2 = this.done.length ? this.done[this.done.length - 1].selectionsAfter : RM;
    return s2.length > 0 && n2 - this.prevTime < i2 && r2 == this.prevUserEvent && r2 && /^select($|\.)/.test(r2) && (o2 = s2[s2.length - 1], a2 = t2, o2.ranges.length == a2.ranges.length && o2.ranges.filter(function(e21, t3) {
      return e21.empty != a2.ranges[t3].empty;
    }).length === 0) ? this : new e20(DM(this.done, t2), this.undone, n2, r2);
  } }, { key: "addMapping", value: function(t2) {
    return new e20(zM(this.done, t2), zM(this.undone, t2), this.prevTime, this.prevUserEvent);
  } }, { key: "pop", value: function(e21, t2, n2) {
    var r2 = e21 == 0 ? this.done : this.undone;
    if (r2.length == 0)
      return null;
    var i2 = r2[r2.length - 1];
    if (n2 && i2.selectionsAfter.length)
      return t2.update({ selection: i2.selectionsAfter[i2.selectionsAfter.length - 1], annotations: bM.of({ side: e21, rest: LM(r2) }), userEvent: e21 == 0 ? "select.undo" : "select.redo", scrollIntoView: true });
    if (i2.changes) {
      var o2 = r2.length == 1 ? RM : r2.slice(0, r2.length - 1);
      return i2.mapped && (o2 = zM(o2, i2.mapped)), t2.update({ changes: i2.changes, selection: i2.startSelection, effects: i2.effects, annotations: bM.of({ side: e21, rest: o2 }), filter: false, userEvent: e21 == 0 ? "undo" : "redo", scrollIntoView: true });
    }
    return null;
  } }]), e20;
}();
FM.empty = new FM(RM, RM);
var VM$1 = [{ key: "Mod-z", run: _M, preventDefault: true }, { key: "Mod-y", mac: "Mod-Shift-z", run: $M, preventDefault: true }, { key: "Mod-u", run: OM, preventDefault: true }, { key: "Alt-u", mac: "Mod-Shift-u", run: PM, preventDefault: true }], HM = 0, WM = Li(function e8(t2, n2) {
  Ri(this, e8), this.from = t2, this.to = n2;
}), UM = function() {
  function e20() {
    var t2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Ri(this, e20), this.id = HM++, this.perNode = !!t2.perNode, this.deserialize = t2.deserialize || function() {
      throw new Error("This node type doesn't define a deserialize function");
    };
  }
  return Li(e20, [{ key: "add", value: function(e21) {
    var t2 = this;
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    return typeof e21 != "function" && (e21 = KM.match(e21)), function(n2) {
      var r2 = e21(n2);
      return r2 === void 0 ? null : [t2, r2];
    };
  } }]), e20;
}();
UM.closedBy = new UM({ deserialize: function(e20) {
  return e20.split(" ");
} }), UM.openedBy = new UM({ deserialize: function(e20) {
  return e20.split(" ");
} }), UM.group = new UM({ deserialize: function(e20) {
  return e20.split(" ");
} }), UM.contextHash = new UM({ perNode: true }), UM.lookAhead = new UM({ perNode: true }), UM.mounted = new UM({ perNode: true });
var JM = /* @__PURE__ */ Object.create(null), KM = function() {
  function e20(t2, n2, r2) {
    var i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
    Ri(this, e20), this.name = t2, this.props = n2, this.id = r2, this.flags = i2;
  }
  return Li(e20, [{ key: "prop", value: function(e21) {
    return this.props[e21.id];
  } }, { key: "isTop", get: function() {
    return (1 & this.flags) > 0;
  } }, { key: "isSkipped", get: function() {
    return (2 & this.flags) > 0;
  } }, { key: "isError", get: function() {
    return (4 & this.flags) > 0;
  } }, { key: "isAnonymous", get: function() {
    return (8 & this.flags) > 0;
  } }, { key: "is", value: function(e21) {
    if (typeof e21 == "string") {
      if (this.name == e21)
        return true;
      var t2 = this.prop(UM.group);
      return !!t2 && t2.indexOf(e21) > -1;
    }
    return this.id == e21;
  } }], [{ key: "define", value: function(t2) {
    var n2 = t2.props && t2.props.length ? /* @__PURE__ */ Object.create(null) : JM, r2 = (t2.top ? 1 : 0) | (t2.skipped ? 2 : 0) | (t2.error ? 4 : 0) | (t2.name == null ? 8 : 0), i2 = new e20(t2.name || "", n2, t2.id, r2);
    if (t2.props) {
      var o2, a2 = bi(t2.props);
      try {
        for (a2.s(); !(o2 = a2.n()).done; ) {
          var s2 = o2.value;
          if (Array.isArray(s2) || (s2 = s2(i2)), s2) {
            if (s2[0].perNode)
              throw new RangeError("Can't store a per-node prop on a node type");
            n2[s2[0].id] = s2[1];
          }
        }
      } catch (e21) {
        a2.e(e21);
      } finally {
        a2.f();
      }
    }
    return i2;
  } }, { key: "match", value: function(e21) {
    var t2 = /* @__PURE__ */ Object.create(null);
    for (var n2 in e21) {
      var r2, i2 = bi(n2.split(" "));
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          var o2 = r2.value;
          t2[o2] = e21[n2];
        }
      } catch (e22) {
        i2.e(e22);
      } finally {
        i2.f();
      }
    }
    return function(e22) {
      for (var n3 = e22.prop(UM.group), r3 = -1; r3 < (n3 ? n3.length : 0); r3++) {
        var i3 = t2[r3 < 0 ? e22.name : n3[r3]];
        if (i3)
          return i3;
      }
    };
  } }]), e20;
}();
KM.none = new KM("", /* @__PURE__ */ Object.create(null), 0, 8);
var GM = function() {
  function e20(t2) {
    Ri(this, e20), this.types = t2;
    for (var n2 = 0; n2 < t2.length; n2++)
      if (t2[n2].id != n2)
        throw new RangeError("Node type ids should correspond to array positions when creating a node set");
  }
  return Li(e20, [{ key: "extend", value: function() {
    for (var t2 = [], n2 = arguments.length, r2 = new Array(n2), i2 = 0; i2 < n2; i2++)
      r2[i2] = arguments[i2];
    var o2, a2 = bi(this.types);
    try {
      for (a2.s(); !(o2 = a2.n()).done; ) {
        var s2, u2 = o2.value, c2 = null, l2 = bi(r2);
        try {
          for (l2.s(); !(s2 = l2.n()).done; ) {
            var f2 = s2.value, h2 = f2(u2);
            h2 && (c2 || (c2 = Object.assign({}, u2.props)), c2[h2[0].id] = h2[1]);
          }
        } catch (e21) {
          l2.e(e21);
        } finally {
          l2.f();
        }
        t2.push(c2 ? new KM(u2.name, c2, u2.id, u2.flags) : u2);
      }
    } catch (e21) {
      a2.e(e21);
    } finally {
      a2.f();
    }
    return new e20(t2);
  } }]), e20;
}(), QM = /* @__PURE__ */ new WeakMap(), YM = /* @__PURE__ */ new WeakMap(), ZM = function() {
  function e20(t2, n2, r2, i2, o2) {
    if (Ri(this, e20), this.type = t2, this.children = n2, this.positions = r2, this.length = i2, this.props = null, o2 && o2.length) {
      this.props = /* @__PURE__ */ Object.create(null);
      var a2, s2 = bi(o2);
      try {
        for (s2.s(); !(a2 = s2.n()).done; ) {
          var u2 = ji(a2.value, 2), c2 = u2[0], l2 = u2[1];
          this.props[typeof c2 == "number" ? c2 : c2.id] = l2;
        }
      } catch (e21) {
        s2.e(e21);
      } finally {
        s2.f();
      }
    }
  }
  return Li(e20, [{ key: "toString", value: function() {
    var e21 = this.prop(UM.mounted);
    if (e21 && !e21.overlay)
      return e21.tree.toString();
    var t2, n2 = "", r2 = bi(this.children);
    try {
      for (r2.s(); !(t2 = r2.n()).done; ) {
        var i2 = t2.value.toString();
        i2 && (n2 && (n2 += ","), n2 += i2);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    return this.type.name ? (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (n2.length ? "(" + n2 + ")" : "") : n2;
  } }, { key: "cursor", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = e21 != null && QM.get(this) || this.topNode, r2 = new uT(n2);
    return e21 != null && (r2.moveTo(e21, t2), QM.set(this, r2._tree)), r2;
  } }, { key: "fullCursor", value: function() {
    return new uT(this.topNode, 1);
  } }, { key: "topNode", get: function() {
    return new iT(this, 0, 0, null);
  } }, { key: "resolve", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = rT(QM.get(this) || this.topNode, e21, t2, false);
    return QM.set(this, n2), n2;
  } }, { key: "resolveInner", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = rT(YM.get(this) || this.topNode, e21, t2, true);
    return YM.set(this, n2), n2;
  } }, { key: "iterate", value: function(e21) {
    for (var t2 = e21.enter, n2 = e21.leave, r2 = e21.from, i2 = r2 === void 0 ? 0 : r2, o2 = e21.to, a2 = o2 === void 0 ? this.length : o2, s2 = this.cursor(), u2 = function() {
      return s2.node;
    }; ; ) {
      var c2 = false;
      if (s2.from <= a2 && s2.to >= i2 && (s2.type.isAnonymous || t2(s2.type, s2.from, s2.to, u2) !== false)) {
        if (s2.firstChild())
          continue;
        s2.type.isAnonymous || (c2 = true);
      }
      for (; c2 && n2 && n2(s2.type, s2.from, s2.to, u2), c2 = s2.type.isAnonymous, !s2.nextSibling(); ) {
        if (!s2.parent())
          return;
        c2 = true;
      }
    }
  } }, { key: "prop", value: function(e21) {
    return e21.perNode ? this.props ? this.props[e21.id] : void 0 : this.type.prop(e21);
  } }, { key: "propValues", get: function() {
    var e21 = [];
    if (this.props)
      for (var t2 in this.props)
        e21.push([+t2, this.props[t2]]);
    return e21;
  } }, { key: "balance", value: function() {
    var t2 = this, n2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return this.children.length <= 8 ? this : dT(KM.none, this.children, this.positions, 0, this.children.length, 0, this.length, function(n3, r2, i2) {
      return new e20(t2.type, n3, r2, i2, t2.propValues);
    }, n2.makeTree || function(t3, n3, r2) {
      return new e20(KM.none, t3, n3, r2);
    });
  } }], [{ key: "build", value: function(e21) {
    return lT(e21);
  } }]), e20;
}();
ZM.empty = new ZM(KM.none, [], [], 0);
var XM = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.buffer = t2, this.index = n2;
  }
  return Li(e20, [{ key: "id", get: function() {
    return this.buffer[this.index - 4];
  } }, { key: "start", get: function() {
    return this.buffer[this.index - 3];
  } }, { key: "end", get: function() {
    return this.buffer[this.index - 2];
  } }, { key: "size", get: function() {
    return this.buffer[this.index - 1];
  } }, { key: "pos", get: function() {
    return this.index;
  } }, { key: "next", value: function() {
    this.index -= 4;
  } }, { key: "fork", value: function() {
    return new e20(this.buffer, this.index);
  } }]), e20;
}(), eT = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.buffer = t2, this.length = n2, this.set = r2;
  }
  return Li(e20, [{ key: "type", get: function() {
    return KM.none;
  } }, { key: "toString", value: function() {
    for (var e21 = [], t2 = 0; t2 < this.buffer.length; )
      e21.push(this.childString(t2)), t2 = this.buffer[t2 + 3];
    return e21.join(",");
  } }, { key: "childString", value: function(e21) {
    var t2 = this.buffer[e21], n2 = this.buffer[e21 + 3], r2 = this.set.types[t2], i2 = r2.name;
    if (/\W/.test(i2) && !r2.isError && (i2 = JSON.stringify(i2)), n2 == (e21 += 4))
      return i2;
    for (var o2 = []; e21 < n2; )
      o2.push(this.childString(e21)), e21 = this.buffer[e21 + 3];
    return i2 + "(" + o2.join(",") + ")";
  } }, { key: "findChild", value: function(e21, t2, n2, r2, i2) {
    for (var o2 = this.buffer, a2 = -1, s2 = e21; s2 != t2 && !(tT(i2, r2, o2[s2 + 1], o2[s2 + 2]) && (a2 = s2, n2 > 0)); s2 = o2[s2 + 3])
      ;
    return a2;
  } }, { key: "slice", value: function(t2, n2, r2, i2) {
    for (var o2 = this.buffer, a2 = new Uint16Array(n2 - t2), s2 = t2, u2 = 0; s2 < n2; )
      a2[u2++] = o2[s2++], a2[u2++] = o2[s2++] - r2, a2[u2++] = o2[s2++] - r2, a2[u2++] = o2[s2++] - t2;
    return new e20(a2, i2 - r2, this.set);
  } }]), e20;
}();
function tT(e20, t2, n2, r2) {
  switch (e20) {
    case -2:
      return n2 < t2;
    case -1:
      return r2 >= t2 && n2 < t2;
    case 0:
      return n2 < t2 && r2 > t2;
    case 1:
      return n2 <= t2 && r2 > t2;
    case 2:
      return r2 > t2;
    case 4:
      return true;
  }
}
function nT(e20, t2) {
  for (var n2 = e20.childBefore(t2); n2; ) {
    var r2 = n2.lastChild;
    if (!r2 || r2.to != n2.to)
      break;
    r2.type.isError && r2.from == r2.to ? (e20 = n2, n2 = r2.prevSibling) : n2 = r2;
  }
  return e20;
}
function rT(e20, t2, n2, r2) {
  for (var i2; e20.from == e20.to || (n2 < 1 ? e20.from >= t2 : e20.from > t2) || (n2 > -1 ? e20.to <= t2 : e20.to < t2); ) {
    var o2 = !r2 && e20 instanceof iT && e20.index < 0 ? null : e20.parent;
    if (!o2)
      return e20;
    e20 = o2;
  }
  if (r2)
    for (var a2 = e20, s2 = a2.parent; s2; s2 = (a2 = s2).parent)
      a2 instanceof iT && a2.index < 0 && ((i2 = s2.enter(t2, n2, true)) === null || i2 === void 0 ? void 0 : i2.from) != a2.from && (e20 = s2);
  for (; ; ) {
    var u2 = e20.enter(t2, n2, r2);
    if (!u2)
      return e20;
    e20 = u2;
  }
}
var iT = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.node = t2, this._from = n2, this.index = r2, this._parent = i2;
  }
  return Li(e20, [{ key: "type", get: function() {
    return this.node.type;
  } }, { key: "name", get: function() {
    return this.node.type.name;
  } }, { key: "from", get: function() {
    return this._from;
  } }, { key: "to", get: function() {
    return this._from + this.node.length;
  } }, { key: "nextChild", value: function(t2, n2, r2, i2) {
    for (var o2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0, a2 = this; ; ) {
      for (var s2 = a2.node, u2 = s2.children, c2 = s2.positions, l2 = n2 > 0 ? u2.length : -1; t2 != l2; t2 += n2) {
        var f2 = u2[t2], h2 = c2[t2] + a2._from;
        if (tT(i2, r2, h2, h2 + f2.length)) {
          if (f2 instanceof eT) {
            if (2 & o2)
              continue;
            var d2 = f2.findChild(0, f2.buffer.length, n2, r2 - h2, i2);
            if (d2 > -1)
              return new sT(new aT(a2, f2, t2, h2), null, d2);
          } else if (1 & o2 || !f2.type.isAnonymous || cT(f2)) {
            var v2 = void 0;
            if (!(1 & o2) && f2.props && (v2 = f2.prop(UM.mounted)) && !v2.overlay)
              return new e20(v2.tree, h2, t2, a2);
            var p2 = new e20(f2, h2, t2, a2);
            return 1 & o2 || !p2.type.isAnonymous ? p2 : p2.nextChild(n2 < 0 ? f2.children.length - 1 : 0, n2, r2, i2);
          }
        }
      }
      if (1 & o2 || !a2.type.isAnonymous)
        return null;
      if (t2 = a2.index >= 0 ? a2.index + n2 : n2 < 0 ? -1 : a2._parent.node.children.length, !(a2 = a2._parent))
        return null;
    }
  } }, { key: "firstChild", get: function() {
    return this.nextChild(0, 1, 0, 4);
  } }, { key: "lastChild", get: function() {
    return this.nextChild(this.node.children.length - 1, -1, 0, 4);
  } }, { key: "childAfter", value: function(e21) {
    return this.nextChild(0, 1, e21, 2);
  } }, { key: "childBefore", value: function(e21) {
    return this.nextChild(this.node.children.length - 1, -1, e21, -2);
  } }, { key: "enter", value: function(t2, n2) {
    var r2, i2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], o2 = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3];
    if (i2 && (r2 = this.node.prop(UM.mounted)) && r2.overlay) {
      var a2, s2 = t2 - this.from, u2 = bi(r2.overlay);
      try {
        for (u2.s(); !(a2 = u2.n()).done; ) {
          var c2 = a2.value, l2 = c2.from, f2 = c2.to;
          if ((n2 > 0 ? l2 <= s2 : l2 < s2) && (n2 < 0 ? f2 >= s2 : f2 > s2))
            return new e20(r2.tree, r2.overlay[0].from + this.from, -1, this);
        }
      } catch (e21) {
        u2.e(e21);
      } finally {
        u2.f();
      }
    }
    return this.nextChild(0, 1, t2, n2, o2 ? 0 : 2);
  } }, { key: "nextSignificantParent", value: function() {
    for (var e21 = this; e21.type.isAnonymous && e21._parent; )
      e21 = e21._parent;
    return e21;
  } }, { key: "parent", get: function() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  } }, { key: "nextSibling", get: function() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4) : null;
  } }, { key: "prevSibling", get: function() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4) : null;
  } }, { key: "cursor", get: function() {
    return new uT(this);
  } }, { key: "tree", get: function() {
    return this.node;
  } }, { key: "toTree", value: function() {
    return this.node;
  } }, { key: "resolve", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return rT(this, e21, t2, false);
  } }, { key: "resolveInner", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return rT(this, e21, t2, true);
  } }, { key: "enterUnfinishedNodesBefore", value: function(e21) {
    return nT(this, e21);
  } }, { key: "getChild", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null, r2 = oT(this, e21, t2, n2);
    return r2.length ? r2[0] : null;
  } }, { key: "getChildren", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
    return oT(this, e21, t2, n2);
  } }, { key: "toString", value: function() {
    return this.node.toString();
  } }]), e20;
}();
function oT(e20, t2, n2, r2) {
  var i2 = e20.cursor, o2 = [];
  if (!i2.firstChild())
    return o2;
  if (n2 != null) {
    for (; !i2.type.is(n2); )
      if (!i2.nextSibling())
        return o2;
  }
  for (; ; ) {
    if (r2 != null && i2.type.is(r2))
      return o2;
    if (i2.type.is(t2) && o2.push(i2.node), !i2.nextSibling())
      return r2 == null ? o2 : [];
  }
}
var aT = Li(function e9(t2, n2, r2, i2) {
  Ri(this, e9), this.parent = t2, this.buffer = n2, this.index = r2, this.start = i2;
}), sT = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.context = t2, this._parent = n2, this.index = r2, this.type = t2.buffer.set.types[t2.buffer.buffer[r2]];
  }
  return Li(e20, [{ key: "name", get: function() {
    return this.type.name;
  } }, { key: "from", get: function() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  } }, { key: "to", get: function() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  } }, { key: "child", value: function(t2, n2, r2) {
    var i2 = this.context.buffer, o2 = i2.findChild(this.index + 4, i2.buffer[this.index + 3], t2, n2 - this.context.start, r2);
    return o2 < 0 ? null : new e20(this.context, this, o2);
  } }, { key: "firstChild", get: function() {
    return this.child(1, 0, 4);
  } }, { key: "lastChild", get: function() {
    return this.child(-1, 0, 4);
  } }, { key: "childAfter", value: function(e21) {
    return this.child(1, e21, 2);
  } }, { key: "childBefore", value: function(e21) {
    return this.child(-1, e21, -2);
  } }, { key: "enter", value: function(t2, n2, r2) {
    var i2 = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3];
    if (!i2)
      return null;
    var o2 = this.context.buffer, a2 = o2.findChild(this.index + 4, o2.buffer[this.index + 3], n2 > 0 ? 1 : -1, t2 - this.context.start, n2);
    return a2 < 0 ? null : new e20(this.context, this, a2);
  } }, { key: "parent", get: function() {
    return this._parent || this.context.parent.nextSignificantParent();
  } }, { key: "externalSibling", value: function(e21) {
    return this._parent ? null : this.context.parent.nextChild(this.context.index + e21, e21, 0, 4);
  } }, { key: "nextSibling", get: function() {
    var t2 = this.context.buffer, n2 = t2.buffer[this.index + 3];
    return n2 < (this._parent ? t2.buffer[this._parent.index + 3] : t2.buffer.length) ? new e20(this.context, this._parent, n2) : this.externalSibling(1);
  } }, { key: "prevSibling", get: function() {
    var t2 = this.context.buffer, n2 = this._parent ? this._parent.index + 4 : 0;
    return this.index == n2 ? this.externalSibling(-1) : new e20(this.context, this._parent, t2.findChild(n2, this.index, -1, 0, 4));
  } }, { key: "cursor", get: function() {
    return new uT(this);
  } }, { key: "tree", get: function() {
    return null;
  } }, { key: "toTree", value: function() {
    var e21 = [], t2 = [], n2 = this.context.buffer, r2 = this.index + 4, i2 = n2.buffer[this.index + 3];
    if (i2 > r2) {
      var o2 = n2.buffer[this.index + 1], a2 = n2.buffer[this.index + 2];
      e21.push(n2.slice(r2, i2, o2, a2)), t2.push(0);
    }
    return new ZM(this.type, e21, t2, this.to - this.from);
  } }, { key: "resolve", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return rT(this, e21, t2, false);
  } }, { key: "resolveInner", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return rT(this, e21, t2, true);
  } }, { key: "enterUnfinishedNodesBefore", value: function(e21) {
    return nT(this, e21);
  } }, { key: "toString", value: function() {
    return this.context.buffer.childString(this.index);
  } }, { key: "getChild", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null, r2 = oT(this, e21, t2, n2);
    return r2.length ? r2[0] : null;
  } }, { key: "getChildren", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
    return oT(this, e21, t2, n2);
  } }]), e20;
}(), uT = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    if (Ri(this, e20), this.mode = n2, this.buffer = null, this.stack = [], this.index = 0, this.bufferNode = null, t2 instanceof iT)
      this.yieldNode(t2);
    else {
      this._tree = t2.context.parent, this.buffer = t2.context;
      for (var r2 = t2._parent; r2; r2 = r2._parent)
        this.stack.unshift(r2.index);
      this.bufferNode = t2, this.yieldBuf(t2.index);
    }
  }
  return Li(e20, [{ key: "name", get: function() {
    return this.type.name;
  } }, { key: "yieldNode", value: function(e21) {
    return !!e21 && (this._tree = e21, this.type = e21.type, this.from = e21.from, this.to = e21.to, true);
  } }, { key: "yieldBuf", value: function(e21, t2) {
    this.index = e21;
    var n2 = this.buffer, r2 = n2.start, i2 = n2.buffer;
    return this.type = t2 || i2.set.types[i2.buffer[e21]], this.from = r2 + i2.buffer[e21 + 1], this.to = r2 + i2.buffer[e21 + 2], true;
  } }, { key: "yield", value: function(e21) {
    return !!e21 && (e21 instanceof iT ? (this.buffer = null, this.yieldNode(e21)) : (this.buffer = e21.context, this.yieldBuf(e21.index, e21.type)));
  } }, { key: "toString", value: function() {
    return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();
  } }, { key: "enterChild", value: function(e21, t2, n2) {
    if (!this.buffer)
      return this.yield(this._tree.nextChild(e21 < 0 ? this._tree.node.children.length - 1 : 0, e21, t2, n2, this.mode));
    var r2 = this.buffer.buffer, i2 = r2.findChild(this.index + 4, r2.buffer[this.index + 3], e21, t2 - this.buffer.start, n2);
    return !(i2 < 0) && (this.stack.push(this.index), this.yieldBuf(i2));
  } }, { key: "firstChild", value: function() {
    return this.enterChild(1, 0, 4);
  } }, { key: "lastChild", value: function() {
    return this.enterChild(-1, 0, 4);
  } }, { key: "childAfter", value: function(e21) {
    return this.enterChild(1, e21, 2);
  } }, { key: "childBefore", value: function(e21) {
    return this.enterChild(-1, e21, -2);
  } }, { key: "enter", value: function(e21, t2) {
    var n2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], r2 = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3];
    return this.buffer ? !!r2 && this.enterChild(1, e21, t2) : this.yield(this._tree.enter(e21, t2, n2 && !(1 & this.mode), r2));
  } }, { key: "parent", value: function() {
    if (!this.buffer)
      return this.yieldNode(1 & this.mode ? this._tree._parent : this._tree.parent);
    if (this.stack.length)
      return this.yieldBuf(this.stack.pop());
    var e21 = 1 & this.mode ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
    return this.buffer = null, this.yieldNode(e21);
  } }, { key: "sibling", value: function(e21) {
    if (!this.buffer)
      return !!this._tree._parent && this.yield(this._tree.index < 0 ? null : this._tree._parent.nextChild(this._tree.index + e21, e21, 0, 4, this.mode));
    var t2 = this.buffer.buffer, n2 = this.stack.length - 1;
    if (e21 < 0) {
      var r2 = n2 < 0 ? 0 : this.stack[n2] + 4;
      if (this.index != r2)
        return this.yieldBuf(t2.findChild(r2, this.index, -1, 0, 4));
    } else {
      var i2 = t2.buffer[this.index + 3];
      if (i2 < (n2 < 0 ? t2.buffer.length : t2.buffer[this.stack[n2] + 3]))
        return this.yieldBuf(i2);
    }
    return n2 < 0 && this.yield(this.buffer.parent.nextChild(this.buffer.index + e21, e21, 0, 4, this.mode));
  } }, { key: "nextSibling", value: function() {
    return this.sibling(1);
  } }, { key: "prevSibling", value: function() {
    return this.sibling(-1);
  } }, { key: "atLastNode", value: function(e21) {
    var t2, n2, r2 = this.buffer;
    if (r2) {
      if (e21 > 0) {
        if (this.index < r2.buffer.buffer.length)
          return false;
      } else
        for (var i2 = 0; i2 < this.index; i2++)
          if (r2.buffer.buffer[i2 + 3] < this.index)
            return false;
      t2 = r2.index, n2 = r2.parent;
    } else {
      var o2 = this._tree;
      t2 = o2.index, n2 = o2._parent;
    }
    for (; n2; t2 = (a2 = n2).index, n2 = a2._parent, a2) {
      var a2;
      if (t2 > -1)
        for (var s2 = t2 + e21, u2 = e21 < 0 ? -1 : n2.node.children.length; s2 != u2; s2 += e21) {
          var c2 = n2.node.children[s2];
          if (1 & this.mode || c2 instanceof eT || !c2.type.isAnonymous || cT(c2))
            return false;
        }
    }
    return true;
  } }, { key: "move", value: function(e21, t2) {
    if (t2 && this.enterChild(e21, 0, 4))
      return true;
    for (; ; ) {
      if (this.sibling(e21))
        return true;
      if (this.atLastNode(e21) || !this.parent())
        return false;
    }
  } }, { key: "next", value: function() {
    var e21 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
    return this.move(1, e21);
  } }, { key: "prev", value: function() {
    var e21 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
    return this.move(-1, e21);
  } }, { key: "moveTo", value: function(e21) {
    for (var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0; (this.from == this.to || (t2 < 1 ? this.from >= e21 : this.from > e21) || (t2 > -1 ? this.to <= e21 : this.to < e21)) && this.parent(); )
      ;
    for (; this.enterChild(1, e21, t2); )
      ;
    return this;
  } }, { key: "node", get: function() {
    if (!this.buffer)
      return this._tree;
    var e21 = this.bufferNode, t2 = null, n2 = 0;
    if (e21 && e21.context == this.buffer)
      e:
        for (var r2 = this.index, i2 = this.stack.length; i2 >= 0; ) {
          for (var o2 = e21; o2; o2 = o2._parent)
            if (o2.index == r2) {
              if (r2 == this.index)
                return o2;
              t2 = o2, n2 = i2 + 1;
              break e;
            }
          r2 = this.stack[--i2];
        }
    for (var a2 = n2; a2 < this.stack.length; a2++)
      t2 = new sT(this.buffer, t2, this.stack[a2]);
    return this.bufferNode = new sT(this.buffer, t2, this.index);
  } }, { key: "tree", get: function() {
    return this.buffer ? null : this._tree.node;
  } }]), e20;
}();
function cT(e20) {
  return e20.children.some(function(e21) {
    return e21 instanceof eT || !e21.type.isAnonymous || cT(e21);
  });
}
function lT(e20) {
  var t2, n2 = e20.buffer, r2 = e20.nodeSet, i2 = e20.maxBufferLength, o2 = i2 === void 0 ? 1024 : i2, a2 = e20.reused, s2 = a2 === void 0 ? [] : a2, u2 = e20.minRepeatType, c2 = u2 === void 0 ? r2.types.length : u2, l2 = Array.isArray(n2) ? new XM(n2, n2.length) : n2, f2 = r2.types, h2 = 0, d2 = 0;
  function v2(e21, t3, n3, i3, a3) {
    for (var u3 = l2.id, y3 = l2.start, b3 = l2.end, w3 = l2.size, k2 = d2; w3 < 0; ) {
      if (l2.next(), w3 == -1) {
        var j2 = s2[u3];
        return n3.push(j2), void i3.push(y3 - e21);
      }
      if (w3 == -3)
        return void (h2 = u3);
      if (w3 == -4)
        return void (d2 = u3);
      throw new RangeError("Unrecognized record size: ".concat(w3));
    }
    var x2, S2, C2 = f2[u3], _2 = y3 - e21;
    if (b3 - y3 <= o2 && (S2 = function(e22, t4) {
      var n4 = l2.fork(), r3 = 0, i4 = 0, a4 = 0, s3 = n4.end - o2, u4 = { size: 0, start: 0, skip: 0 };
      e:
        for (var f3 = n4.pos - e22; n4.pos > f3; ) {
          var h3 = n4.size;
          if (n4.id == t4 && h3 >= 0)
            u4.size = r3, u4.start = i4, u4.skip = a4, a4 += 4, r3 += 4, n4.next();
          else {
            var d3 = n4.pos - h3;
            if (h3 < 0 || d3 < f3 || n4.start < s3)
              break;
            var v3 = n4.id >= c2 ? 4 : 0, p3 = n4.start;
            for (n4.next(); n4.pos > d3; ) {
              if (n4.size < 0) {
                if (n4.size != -3)
                  break e;
                v3 += 4;
              } else
                n4.id >= c2 && (v3 += 4);
              n4.next();
            }
            i4 = p3, r3 += h3, a4 += v3;
          }
        }
      (t4 < 0 || r3 == e22) && (u4.size = r3, u4.start = i4, u4.skip = a4);
      return u4.size > 4 ? u4 : void 0;
    }(l2.pos - t3, a3))) {
      for (var $2 = new Uint16Array(S2.size - S2.skip), O2 = l2.pos - S2.size, P2 = $2.length; l2.pos > O2; )
        P2 = g2(S2.start, $2, P2);
      x2 = new eT($2, b3 - S2.start, r2), _2 = S2.start - e21;
    } else {
      var A2 = l2.pos - w3;
      l2.next();
      for (var E2 = [], M2 = [], T2 = u3 >= c2 ? u3 : -1, I2 = 0, N2 = b3; l2.pos > A2; )
        T2 >= 0 && l2.id == T2 && l2.size >= 0 ? (l2.end <= N2 - o2 && (p2(E2, M2, y3, I2, l2.end, N2, T2, k2), I2 = E2.length, N2 = l2.end), l2.next()) : v2(y3, A2, E2, M2, T2);
      if (T2 >= 0 && I2 > 0 && I2 < E2.length && p2(E2, M2, y3, I2, y3, N2, T2, k2), E2.reverse(), M2.reverse(), T2 > -1 && I2 > 0) {
        var R2 = function(e22) {
          return function(t4, n4, r3) {
            var i4, o3, a4 = 0, s3 = t4.length - 1;
            if (s3 >= 0 && (i4 = t4[s3]) instanceof ZM) {
              if (!s3 && i4.type == e22 && i4.length == r3)
                return i4;
              (o3 = i4.prop(UM.lookAhead)) && (a4 = n4[s3] + i4.length + o3);
            }
            return m2(e22, t4, n4, r3, a4);
          };
        }(C2);
        x2 = dT(C2, E2, M2, 0, E2.length, 0, b3 - y3, R2, R2);
      } else
        x2 = m2(C2, E2, M2, b3 - y3, k2 - b3);
    }
    n3.push(x2), i3.push(_2);
  }
  function p2(e21, t3, n3, i3, o3, a3, s3, u3) {
    for (var c3 = [], l3 = []; e21.length > i3; )
      c3.push(e21.pop()), l3.push(t3.pop() + n3 - o3);
    e21.push(m2(r2.types[s3], c3, l3, a3 - o3, u3 - a3)), t3.push(o3 - n3);
  }
  function m2(e21, t3, n3, r3) {
    var i3 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0, o3 = arguments.length > 5 ? arguments[5] : void 0;
    if (h2) {
      var a3 = [UM.contextHash, h2];
      o3 = o3 ? [a3].concat(o3) : [a3];
    }
    if (i3 > 25) {
      var s3 = [UM.lookAhead, i3];
      o3 = o3 ? [s3].concat(o3) : [s3];
    }
    return new ZM(e21, t3, n3, r3, o3);
  }
  function g2(e21, t3, n3) {
    var r3 = l2.id, i3 = l2.start, o3 = l2.end, a3 = l2.size;
    if (l2.next(), a3 >= 0 && r3 < c2) {
      var s3 = n3;
      if (a3 > 4)
        for (var u3 = l2.pos - (a3 - 4); l2.pos > u3; )
          n3 = g2(e21, t3, n3);
      t3[--n3] = s3, t3[--n3] = o3 - e21, t3[--n3] = i3 - e21, t3[--n3] = r3;
    } else
      a3 == -3 ? h2 = r3 : a3 == -4 && (d2 = r3);
    return n3;
  }
  for (var y2 = [], b2 = []; l2.pos > 0; )
    v2(e20.start || 0, e20.bufferStart || 0, y2, b2, -1);
  var w2 = (t2 = e20.length) !== null && t2 !== void 0 ? t2 : y2.length ? b2[0] + y2[0].length : 0;
  return new ZM(f2[e20.topID], y2.reverse(), b2.reverse(), w2);
}
var fT = /* @__PURE__ */ new WeakMap();
function hT(e20, t2) {
  if (!e20.isAnonymous || t2 instanceof eT || t2.type != e20)
    return 1;
  var n2 = fT.get(t2);
  if (n2 == null) {
    n2 = 1;
    var r2, i2 = bi(t2.children);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value;
        if (o2.type != e20 || !(o2 instanceof ZM)) {
          n2 = 1;
          break;
        }
        n2 += hT(e20, o2);
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
    fT.set(t2, n2);
  }
  return n2;
}
function dT(e20, t2, n2, r2, i2, o2, a2, s2, u2) {
  for (var c2 = 0, l2 = r2; l2 < i2; l2++)
    c2 += hT(e20, t2[l2]);
  var f2 = Math.ceil(1.5 * c2 / 8), h2 = [], d2 = [];
  return function t3(n3, r3, i3, a3, s3) {
    for (var c3 = i3; c3 < a3; ) {
      var l3 = c3, v2 = r3[c3], p2 = hT(e20, n3[c3]);
      for (c3++; c3 < a3; c3++) {
        var m2 = hT(e20, n3[c3]);
        if (p2 + m2 >= f2)
          break;
        p2 += m2;
      }
      if (c3 == l3 + 1) {
        if (p2 > f2) {
          var g2 = n3[l3];
          t3(g2.children, g2.positions, 0, g2.children.length, r3[l3] + s3);
          continue;
        }
        h2.push(n3[l3]);
      } else {
        var y2 = r3[c3 - 1] + n3[c3 - 1].length - v2;
        h2.push(dT(e20, n3, r3, l3, c3, v2, y2, null, u2));
      }
      d2.push(v2 + s3 - o2);
    }
  }(t2, n2, r2, i2, 0), (s2 || u2)(h2, d2, a2);
}
var vT, pT = function() {
  function e20(t2, n2, r2, i2) {
    var o2 = arguments.length > 4 && arguments[4] !== void 0 && arguments[4], a2 = arguments.length > 5 && arguments[5] !== void 0 && arguments[5];
    Ri(this, e20), this.from = t2, this.to = n2, this.tree = r2, this.offset = i2, this.open = (o2 ? 1 : 0) | (a2 ? 2 : 0);
  }
  return Li(e20, [{ key: "openStart", get: function() {
    return (1 & this.open) > 0;
  } }, { key: "openEnd", get: function() {
    return (2 & this.open) > 0;
  } }], [{ key: "addTree", value: function(t2) {
    var n2, r2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], i2 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], o2 = [new e20(0, t2.length, t2, 0, false, i2)], a2 = bi(r2);
    try {
      for (a2.s(); !(n2 = a2.n()).done; ) {
        var s2 = n2.value;
        s2.to > t2.length && o2.push(s2);
      }
    } catch (e21) {
      a2.e(e21);
    } finally {
      a2.f();
    }
    return o2;
  } }, { key: "applyChanges", value: function(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 128;
    if (!n2.length)
      return t2;
    for (var i2 = [], o2 = 1, a2 = t2.length ? t2[0] : null, s2 = 0, u2 = 0, c2 = 0; ; s2++) {
      var l2 = s2 < n2.length ? n2[s2] : null, f2 = l2 ? l2.fromA : 1e9;
      if (f2 - u2 >= r2)
        for (; a2 && a2.from < f2; ) {
          var h2 = a2;
          if (u2 >= h2.from || f2 <= h2.to || c2) {
            var d2 = Math.max(h2.from, u2) - c2, v2 = Math.min(h2.to, f2) - c2;
            h2 = d2 >= v2 ? null : new e20(d2, v2, h2.tree, h2.offset + c2, s2 > 0, !!l2);
          }
          if (h2 && i2.push(h2), a2.to > f2)
            break;
          a2 = o2 < t2.length ? t2[o2++] : null;
        }
      if (!l2)
        break;
      u2 = l2.toA, c2 = l2.toA - l2.toB;
    }
    return i2;
  } }]), e20;
}(), mT = function() {
  function e20() {
    Ri(this, e20);
  }
  return Li(e20, [{ key: "startParse", value: function(e21, t2, n2) {
    return typeof e21 == "string" && (e21 = new gT(e21)), n2 = n2 ? n2.length ? n2.map(function(e22) {
      return new WM(e22.from, e22.to);
    }) : [new WM(0, 0)] : [new WM(0, e21.length)], this.createParse(e21, t2 || [], n2);
  } }, { key: "parse", value: function(e21, t2, n2) {
    for (var r2 = this.startParse(e21, t2, n2); ; ) {
      var i2 = r2.advance();
      if (i2)
        return i2;
    }
  } }]), e20;
}(), gT = function() {
  function e20(t2) {
    Ri(this, e20), this.string = t2;
  }
  return Li(e20, [{ key: "length", get: function() {
    return this.string.length;
  } }, { key: "chunk", value: function(e21) {
    return this.string.slice(e21);
  } }, { key: "lineChunks", get: function() {
    return false;
  } }, { key: "read", value: function(e21, t2) {
    return this.string.slice(e21, t2);
  } }]), e20;
}();
new UM({ perNode: true });
var yT = new UM();
var bT = function() {
  function e20(t2, n2, r2) {
    var i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : [];
    Ri(this, e20), this.data = t2, this.topNode = r2, h$.prototype.hasOwnProperty("tree") || Object.defineProperty(h$.prototype, "tree", { get: function() {
      return jT(this);
    } }), this.parser = n2, this.extension = [ET.of(this), h$.languageData.of(function(e21, t3, n3) {
      return e21.facet(wT(e21, t3, n3));
    })].concat(i2);
  }
  return Li(e20, [{ key: "isActiveAt", value: function(e21, t2) {
    var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;
    return wT(e21, t2, n2) == this.data;
  } }, { key: "findRegions", value: function(e21) {
    var t2 = this, n2 = e21.facet(ET);
    if ((n2 == null ? void 0 : n2.data) == this.data)
      return [{ from: 0, to: e21.doc.length }];
    if (!n2 || !n2.allowsNesting)
      return [];
    var r2 = [];
    return function e22(n3, i2) {
      if (n3.prop(yT) != t2.data) {
        var o2 = n3.prop(UM.mounted);
        if (o2) {
          if (o2.tree.prop(yT) == t2.data) {
            if (o2.overlay) {
              var a2, s2 = bi(o2.overlay);
              try {
                for (s2.s(); !(a2 = s2.n()).done; ) {
                  var u2 = a2.value;
                  r2.push({ from: u2.from + i2, to: u2.to + i2 });
                }
              } catch (e23) {
                s2.e(e23);
              } finally {
                s2.f();
              }
            } else
              r2.push({ from: i2, to: i2 + n3.length });
            return;
          }
          if (o2.overlay) {
            var c2 = r2.length;
            if (e22(o2.tree, o2.overlay[0].from + i2), r2.length > c2)
              return;
          }
        }
        for (var l2 = 0; l2 < n3.children.length; l2++) {
          var f2 = n3.children[l2];
          f2 instanceof ZM && e22(f2, n3.positions[l2] + i2);
        }
      } else
        r2.push({ from: i2, to: i2 + n3.length });
    }(jT(e21), 0), r2;
  } }, { key: "allowsNesting", get: function() {
    return true;
  } }]), e20;
}();
function wT(e20, t2, n2) {
  var r2 = e20.facet(ET);
  if (!r2)
    return null;
  var i2 = r2.data;
  if (r2.allowsNesting)
    for (var o2 = jT(e20).topNode; o2; o2 = o2.enter(t2, n2, true, false))
      i2 = o2.type.prop(yT) || i2;
  return i2;
}
bT.setState = e$.define();
var kT = function(e20) {
  xi(n2, bT);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this, e21, r2, r2.topNode)).parser = r2, i2;
  }
  return Li(n2, [{ key: "configure", value: function(e21) {
    return new n2(this.data, this.parser.configure(e21));
  } }, { key: "allowsNesting", get: function() {
    return this.parser.wrappers.length > 0;
  } }], [{ key: "define", value: function(e21) {
    var t3, r2 = (t3 = e21.languageData, C_.define({ combine: t3 ? function(e22) {
      return e22.concat(t3);
    } : void 0 }));
    return new n2(r2, e21.parser.configure({ props: [yT.add(function(e22) {
      return e22.isTop ? r2 : void 0;
    })] }));
  } }]), n2;
}();
function jT(e20) {
  var t2 = e20.field(bT.state, false);
  return t2 ? t2.tree : ZM.empty;
}
var xT = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t2.length;
    Ri(this, e20), this.doc = t2, this.length = n2, this.cursorPos = 0, this.string = "", this.cursor = t2.iter();
  }
  return Li(e20, [{ key: "syncTo", value: function(e21) {
    return this.string = this.cursor.next(e21 - this.cursorPos).value, this.cursorPos = e21 + this.string.length, this.cursorPos - this.string.length;
  } }, { key: "chunk", value: function(e21) {
    return this.syncTo(e21), this.string;
  } }, { key: "lineChunks", get: function() {
    return true;
  } }, { key: "read", value: function(e21, t2) {
    var n2 = this.cursorPos - this.string.length;
    return e21 < n2 || t2 >= this.cursorPos ? this.doc.sliceString(e21, t2) : this.string.slice(e21 - n2, t2 - n2);
  } }]), e20;
}(), ST = null, CT = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [], i2 = arguments.length > 3 ? arguments[3] : void 0, o2 = arguments.length > 4 ? arguments[4] : void 0, a2 = arguments.length > 5 ? arguments[5] : void 0, s2 = arguments.length > 6 ? arguments[6] : void 0, u2 = arguments.length > 7 ? arguments[7] : void 0;
    Ri(this, e20), this.parser = t2, this.state = n2, this.fragments = r2, this.tree = i2, this.treeLen = o2, this.viewport = a2, this.skipped = s2, this.scheduleOn = u2, this.parse = null, this.tempSkipped = [];
  }
  return Li(e20, [{ key: "startParse", value: function() {
    return this.parser.startParse(new xT(this.state.doc), this.fragments);
  } }, { key: "work", value: function(e21, t2) {
    var n2 = this;
    return t2 != null && t2 >= this.state.doc.length && (t2 = void 0), this.tree != ZM.empty && this.isDone(t2 != null ? t2 : this.state.doc.length) ? (this.takeTree(), true) : this.withContext(function() {
      var r2;
      if (typeof e21 == "number") {
        var i2 = Date.now() + e21;
        e21 = function() {
          return Date.now() > i2;
        };
      }
      for (n2.parse || (n2.parse = n2.startParse()), t2 != null && (n2.parse.stoppedAt == null || n2.parse.stoppedAt > t2) && t2 < n2.state.doc.length && n2.parse.stopAt(t2); ; ) {
        var o2 = n2.parse.advance();
        if (o2) {
          if (n2.fragments = n2.withoutTempSkipped(pT.addTree(o2, n2.fragments, n2.parse.stoppedAt != null)), n2.treeLen = (r2 = n2.parse.stoppedAt) !== null && r2 !== void 0 ? r2 : n2.state.doc.length, n2.tree = o2, n2.parse = null, !(n2.treeLen < (t2 != null ? t2 : n2.state.doc.length)))
            return true;
          n2.parse = n2.startParse();
        }
        if (e21())
          return false;
      }
    });
  } }, { key: "takeTree", value: function() {
    var e21, t2, n2 = this;
    this.parse && (e21 = this.parse.parsedPos) >= this.treeLen && ((this.parse.stoppedAt == null || this.parse.stoppedAt > e21) && this.parse.stopAt(e21), this.withContext(function() {
      for (; !(t2 = n2.parse.advance()); )
        ;
    }), this.treeLen = e21, this.tree = t2, this.fragments = this.withoutTempSkipped(pT.addTree(this.tree, this.fragments, true)), this.parse = null);
  } }, { key: "withContext", value: function(e21) {
    var t2 = ST;
    ST = this;
    try {
      return e21();
    } finally {
      ST = t2;
    }
  } }, { key: "withoutTempSkipped", value: function(e21) {
    for (var t2; t2 = this.tempSkipped.pop(); )
      e21 = _T(e21, t2.from, t2.to);
    return e21;
  } }, { key: "changes", value: function(t2, n2) {
    var r2 = this.fragments, i2 = this.tree, o2 = this.treeLen, a2 = this.viewport, s2 = this.skipped;
    if (this.takeTree(), !t2.empty) {
      var u2 = [];
      if (t2.iterChangedRanges(function(e21, t3, n3, r3) {
        return u2.push({ fromA: e21, toA: t3, fromB: n3, toB: r3 });
      }), r2 = pT.applyChanges(r2, u2), i2 = ZM.empty, o2 = 0, a2 = { from: t2.mapPos(a2.from, -1), to: t2.mapPos(a2.to, 1) }, this.skipped.length) {
        s2 = [];
        var c2, l2 = bi(this.skipped);
        try {
          for (l2.s(); !(c2 = l2.n()).done; ) {
            var f2 = c2.value, h2 = t2.mapPos(f2.from, 1), d2 = t2.mapPos(f2.to, -1);
            h2 < d2 && s2.push({ from: h2, to: d2 });
          }
        } catch (e21) {
          l2.e(e21);
        } finally {
          l2.f();
        }
      }
    }
    return new e20(this.parser, n2, r2, i2, o2, a2, s2, this.scheduleOn);
  } }, { key: "updateViewport", value: function(e21) {
    if (this.viewport.from == e21.from && this.viewport.to == e21.to)
      return false;
    this.viewport = e21;
    for (var t2 = this.skipped.length, n2 = 0; n2 < this.skipped.length; n2++) {
      var r2 = this.skipped[n2], i2 = r2.from, o2 = r2.to;
      i2 < e21.to && o2 > e21.from && (this.fragments = _T(this.fragments, i2, o2), this.skipped.splice(n2--, 1));
    }
    return !(this.skipped.length >= t2) && (this.reset(), true);
  } }, { key: "reset", value: function() {
    this.parse && (this.takeTree(), this.parse = null);
  } }, { key: "skipUntilInView", value: function(e21, t2) {
    this.skipped.push({ from: e21, to: t2 });
  } }, { key: "isDone", value: function(e21) {
    e21 = Math.min(e21, this.state.doc.length);
    var t2 = this.fragments;
    return this.treeLen >= e21 && t2.length && t2[0].from == 0 && t2[0].to >= e21;
  } }], [{ key: "getSkippingParser", value: function(e21) {
    return new (function(t2) {
      xi(r2, mT);
      var n2 = Ci(r2);
      function r2() {
        return Ri(this, r2), n2.apply(this, arguments);
      }
      return Li(r2, [{ key: "createParse", value: function(t3, n3, r3) {
        var i2 = r3[0].from, o2 = r3[r3.length - 1].to;
        return { parsedPos: i2, advance: function() {
          var t4 = ST;
          if (t4) {
            var n4, a2 = bi(r3);
            try {
              for (a2.s(); !(n4 = a2.n()).done; ) {
                var s2 = n4.value;
                t4.tempSkipped.push(s2);
              }
            } catch (e22) {
              a2.e(e22);
            } finally {
              a2.f();
            }
            e21 && (t4.scheduleOn = t4.scheduleOn ? Promise.all([t4.scheduleOn, e21]) : e21);
          }
          return this.parsedPos = o2, new ZM(KM.none, [], [], o2 - i2);
        }, stoppedAt: null, stopAt: function() {
        } };
      } }]), r2;
    }())();
  } }, { key: "get", value: function() {
    return ST;
  } }]), e20;
}();
function _T(e20, t2, n2) {
  return pT.applyChanges(e20, [{ fromA: t2, toA: n2, fromB: t2, toB: n2 }]);
}
var $T = function() {
  function e20(t2) {
    Ri(this, e20), this.context = t2, this.tree = t2.tree;
  }
  return Li(e20, [{ key: "apply", value: function(t2) {
    if (!t2.docChanged && this.tree == this.context.tree)
      return this;
    var n2 = this.context.changes(t2.changes, t2.state), r2 = this.context.treeLen == t2.startState.doc.length ? void 0 : Math.max(t2.changes.mapPos(this.context.treeLen), n2.viewport.to);
    return n2.work(20, r2) || n2.takeTree(), new e20(n2);
  } }], [{ key: "init", value: function(t2) {
    var n2 = Math.min(3e3, t2.doc.length), r2 = new CT(t2.facet(ET).parser, t2, [], ZM.empty, 0, { from: 0, to: n2 }, [], null);
    return r2.work(20, n2) || r2.takeTree(), new e20(r2);
  } }]), e20;
}();
bT.state = A_.define({ create: $T.init, update: function(e20, t2) {
  var n2, r2 = bi(t2.effects);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = n2.value;
      if (i2.is(bT.setState))
        return i2.value;
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return t2.startState.facet(ET) != t2.state.facet(ET) ? $T.init(t2.state) : e20.apply(t2);
} });
var OT = function(e20) {
  var t2 = setTimeout(function() {
    return e20();
  }, 500);
  return function() {
    return clearTimeout(t2);
  };
};
typeof requestIdleCallback != "undefined" && (OT = function(e20) {
  var t2 = -1, n2 = setTimeout(function() {
    t2 = requestIdleCallback(e20, { timeout: 400 });
  }, 100);
  return function() {
    return t2 < 0 ? clearTimeout(n2) : cancelIdleCallback(t2);
  };
});
var PT = typeof navigator != "undefined" && ((vT = navigator.scheduling) === null || vT === void 0 ? void 0 : vT.isInputPending) ? function() {
  return navigator.scheduling.isInputPending();
} : null, AT = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.working = null, this.workScheduled = 0, this.chunkEnd = -1, this.chunkBudget = -1, this.work = this.work.bind(this), this.scheduleWork();
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = this.view.state.field(bT.state).context;
    (t2.updateViewport(e21.view.viewport) || this.view.viewport.to > t2.treeLen) && this.scheduleWork(), e21.docChanged && (this.view.hasFocus && (this.chunkBudget += 50), this.scheduleWork()), this.checkAsyncSchedule(t2);
  } }, { key: "scheduleWork", value: function() {
    if (!this.working) {
      var e21 = this.view.state, t2 = e21.field(bT.state);
      t2.tree == t2.context.tree && t2.context.isDone(e21.doc.length) || (this.working = OT(this.work));
    }
  } }, { key: "work", value: function(e21) {
    this.working = null;
    var t2 = Date.now();
    if (this.chunkEnd < t2 && (this.chunkEnd < 0 || this.view.hasFocus) && (this.chunkEnd = t2 + 3e4, this.chunkBudget = 3e3), !(this.chunkBudget <= 0)) {
      var n2 = this.view, r2 = n2.state, i2 = n2.viewport.to, o2 = r2.field(bT.state);
      if (o2.tree != o2.context.tree || !o2.context.isDone(i2 + 1e5)) {
        var a2 = Date.now() + Math.min(this.chunkBudget, 100, e21 && !PT ? Math.max(25, e21.timeRemaining() - 5) : 1e9), s2 = o2.context.treeLen < i2 && r2.doc.length > i2 + 1e3, u2 = o2.context.work(function() {
          return PT && PT() || Date.now() > a2;
        }, i2 + (s2 ? 0 : 1e5));
        this.chunkBudget -= Date.now() - t2, (u2 || this.chunkBudget <= 0) && (o2.context.takeTree(), this.view.dispatch({ effects: bT.setState.of(new $T(o2.context)) })), this.chunkBudget > 0 && (!u2 || s2) && this.scheduleWork(), this.checkAsyncSchedule(o2.context);
      }
    }
  } }, { key: "checkAsyncSchedule", value: function(e21) {
    var t2 = this;
    e21.scheduleOn && (this.workScheduled++, e21.scheduleOn.then(function() {
      return t2.scheduleWork();
    }).catch(function(e22) {
      return pP(t2.view.state, e22);
    }).then(function() {
      return t2.workScheduled--;
    }), e21.scheduleOn = null);
  } }, { key: "destroy", value: function() {
    this.working && this.working();
  } }, { key: "isWorking", value: function() {
    return !!(this.working || this.workScheduled > 0);
  } }]), e20;
}(), { eventHandlers: { focus: function() {
  this.scheduleWork();
} } }), ET = C_.define({ combine: function(e20) {
  return e20.length ? e20[0] : null;
}, enables: [bT.state, AT] }), MT = Li(function e10(t2) {
  var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
  Ri(this, e10), this.language = t2, this.support = n2, this.extension = [t2, n2];
}), TT = C_.define(), IT = C_.define({ combine: function(e20) {
  if (!e20.length)
    return "  ";
  if (!/^(?: +|\t+)$/.test(e20[0]))
    throw new Error("Invalid indent unit: " + JSON.stringify(e20[0]));
  return e20[0];
} });
function NT(e20) {
  var t2 = e20.facet(IT);
  return t2.charCodeAt(0) == 9 ? e20.tabSize * t2.length : t2.length;
}
function RT(e20, t2) {
  var n2 = "", r2 = e20.tabSize;
  if (e20.facet(IT).charCodeAt(0) == 9)
    for (; t2 >= r2; )
      n2 += "	", t2 -= r2;
  for (var i2 = 0; i2 < t2; i2++)
    n2 += " ";
  return n2;
}
function DT(e20, t2) {
  e20 instanceof h$ && (e20 = new LT(e20));
  var n2, r2 = bi(e20.state.facet(TT));
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = (0, n2.value)(e20, t2);
      if (i2 != null)
        return i2;
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  var o2 = jT(e20.state);
  return o2 ? function(e21, t3, n3) {
    return qT(t3.resolveInner(n3).enterUnfinishedNodesBefore(n3), n3, e21);
  }(e20, o2, t2) : null;
}
var LT = function() {
  function e20(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Ri(this, e20), this.state = t2, this.options = n2, this.unit = NT(t2);
  }
  return Li(e20, [{ key: "lineAt", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, n2 = this.state.doc.lineAt(e21), r2 = this.options, i2 = r2.simulateBreak, o2 = r2.simulateDoubleBreak;
    return i2 != null && i2 >= n2.from && i2 <= n2.to ? o2 && i2 == e21 ? { text: "", from: e21 } : (t2 < 0 ? i2 < e21 : i2 <= e21) ? { text: n2.text.slice(i2 - n2.from), from: i2 } : { text: n2.text.slice(0, i2 - n2.from), from: n2.from } : n2;
  } }, { key: "textAfterPos", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
    if (this.options.simulateDoubleBreak && e21 == this.options.simulateBreak)
      return "";
    var n2 = this.lineAt(e21, t2), r2 = n2.text, i2 = n2.from;
    return r2.slice(e21 - i2, Math.min(r2.length, e21 + 100 - i2));
  } }, { key: "column", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, n2 = this.lineAt(e21, t2), r2 = n2.text, i2 = n2.from, o2 = this.countColumn(r2, e21 - i2), a2 = this.options.overrideIndentation ? this.options.overrideIndentation(i2) : -1;
    return a2 > -1 && (o2 += a2 - this.countColumn(r2, r2.search(/\S|$/))), o2;
  } }, { key: "countColumn", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21.length;
    return ZC(e21, this.state.tabSize, t2);
  } }, { key: "lineIndent", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, n2 = this.lineAt(e21, t2), r2 = n2.text, i2 = n2.from, o2 = this.options.overrideIndentation;
    if (o2) {
      var a2 = o2(i2);
      if (a2 > -1)
        return a2;
    }
    return this.countColumn(r2, r2.search(/\S|$/));
  } }, { key: "simulatedBreak", get: function() {
    return this.options.simulateBreak || null;
  } }]), e20;
}(), zT = new UM();
function BT(e20) {
  var t2 = e20.type.prop(zT);
  if (t2)
    return t2;
  var n2, r2 = e20.firstChild;
  if (r2 && (n2 = r2.type.prop(UM.closedBy))) {
    var i2 = e20.lastChild, o2 = i2 && n2.indexOf(i2.name) > -1;
    return function(e21) {
      return function(e22, t3, n3, r3, i3) {
        var o3 = e22.textAfter, a2 = o3.match(/^\s*/)[0].length, s2 = r3 && o3.slice(a2, a2 + r3.length) == r3 || i3 == e22.pos + a2, u2 = t3 ? function(e23) {
          var t4 = e23.node, n4 = t4.childAfter(t4.from), r4 = t4.lastChild;
          if (!n4)
            return null;
          for (var i4 = e23.options.simulateBreak, o4 = e23.state.doc.lineAt(n4.from), a3 = i4 == null || i4 <= o4.from ? o4.to : Math.min(o4.to, i4), s3 = n4.to; ; ) {
            var u3 = t4.childAfter(s3);
            if (!u3 || u3 == r4)
              return null;
            if (!u3.type.isSkipped)
              return u3.from < a3 ? n4 : null;
            s3 = u3.to;
          }
        }(e22) : null;
        return u2 ? s2 ? e22.column(u2.from) : e22.column(u2.to) : e22.baseIndent + (s2 ? 0 : e22.unit * n3);
      }(e21, true, 1, void 0, o2 && !function(e22) {
        return e22.pos == e22.options.simulateBreak && e22.options.simulateDoubleBreak;
      }(e21) ? i2.from : void 0);
    };
  }
  return e20.parent == null ? FT : null;
}
function qT(e20, t2, n2) {
  for (; e20; e20 = e20.parent) {
    var r2 = BT(e20);
    if (r2)
      return r2(new VT(n2, t2, e20));
  }
  return null;
}
function FT() {
  return 0;
}
var VT = function(e20) {
  xi(n2, LT);
  var t2 = Ci(n2);
  function n2(e21, r2, i2) {
    var o2;
    return Ri(this, n2), (o2 = t2.call(this, e21.state, e21.options)).base = e21, o2.pos = r2, o2.node = i2, o2;
  }
  return Li(n2, [{ key: "textAfter", get: function() {
    return this.textAfterPos(this.pos);
  } }, { key: "baseIndent", get: function() {
    for (var e21 = this.state.doc.lineAt(this.node.from); ; ) {
      for (var t3 = this.node.resolve(e21.from); t3.parent && t3.parent.from == t3.from; )
        t3 = t3.parent;
      if (HT(t3, this.node))
        break;
      e21 = this.state.doc.lineAt(t3.from);
    }
    return this.lineIndent(e21.from);
  } }, { key: "continue", value: function() {
    var e21 = this.node.parent;
    return e21 ? qT(e21, this.pos, this.base) : 0;
  } }]), n2;
}();
function HT(e20, t2) {
  for (var n2 = t2; n2; n2 = n2.parent)
    if (e20 == n2)
      return true;
  return false;
}
function WT() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t2 = e20.except, n2 = e20.units, r2 = n2 === void 0 ? 1 : n2;
  return function(e21) {
    var n3 = t2 && t2.test(e21.textAfter);
    return e21.baseIndent + (n3 ? 0 : r2 * e21.unit);
  };
}
function UT() {
  return h$.transactionFilter.of(function(e20) {
    if (!e20.docChanged || !e20.isUserEvent("input.type") && !e20.isUserEvent("input.complete"))
      return e20;
    var t2 = e20.startState.languageDataAt("indentOnInput", e20.startState.selection.main.head);
    if (!t2.length)
      return e20;
    var n2 = e20.newDoc, r2 = e20.newSelection.main.head, i2 = n2.lineAt(r2);
    if (r2 > i2.from + 200)
      return e20;
    var o2 = n2.sliceString(i2.from, r2);
    if (!t2.some(function(e21) {
      return e21.test(o2);
    }))
      return e20;
    var a2, s2 = e20.state, u2 = -1, c2 = [], l2 = bi(s2.selection.ranges);
    try {
      for (l2.s(); !(a2 = l2.n()).done; ) {
        var f2 = a2.value.head, h2 = s2.doc.lineAt(f2);
        if (h2.from != u2) {
          u2 = h2.from;
          var d2 = DT(s2, h2.from);
          if (d2 != null) {
            var v2 = /^\s*/.exec(h2.text)[0], p2 = RT(s2, d2);
            v2 != p2 && c2.push({ from: h2.from, to: h2.from + v2.length, insert: p2 });
          }
        }
      }
    } catch (e21) {
      l2.e(e21);
    } finally {
      l2.f();
    }
    return c2.length ? [e20, { changes: c2, sequential: true }] : e20;
  });
}
var JT = C_.define(), KT = new UM();
function GT(e20, t2, n2) {
  var r2, i2 = bi(e20.facet(JT));
  try {
    for (i2.s(); !(r2 = i2.n()).done; ) {
      var o2 = (0, r2.value)(e20, t2, n2);
      if (o2)
        return o2;
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  return function(e21, t3, n3) {
    var r3 = jT(e21);
    if (r3.length == 0)
      return null;
    for (var i3, o3, a2 = null, s2 = r3.resolveInner(n3); s2; s2 = s2.parent)
      if (!(s2.to <= n3 || s2.from > n3)) {
        if (a2 && s2.from < t3)
          break;
        var u2 = s2.type.prop(KT);
        if (u2 && (s2.to < r3.length - 50 || r3.length == e21.doc.length || (o3 = void 0, !(o3 = (i3 = s2).lastChild) || o3.to != i3.to || !o3.type.isError))) {
          var c2 = u2(s2, e21);
          c2 && c2.from <= n3 && c2.from >= t3 && c2.to > n3 && (a2 = c2);
        }
      }
    return a2;
  }(e20, t2, n2);
}
var QT = function(e20) {
  xi(n2, w$);
  var t2 = Ci(n2);
  function n2() {
    return Ri(this, n2), t2.apply(this, arguments);
  }
  return Li(n2, [{ key: "compare", value: function(e21) {
    return this == e21 || this.constructor == e21.constructor && this.eq(e21);
  } }, { key: "eq", value: function(e21) {
    return false;
  } }, { key: "destroy", value: function(e21) {
  } }]), n2;
}();
QT.prototype.elementClass = "", QT.prototype.toDOM = void 0, QT.prototype.mapMode = f_.TrackBefore, QT.prototype.startSide = QT.prototype.endSide = -1, QT.prototype.point = true;
var YT = C_.define(), ZT = { class: "", renderEmptyElements: false, elementStyle: "", markers: function() {
  return S$.empty;
}, lineMarker: function() {
  return null;
}, lineMarkerChange: null, initialSpacer: null, updateSpacer: null, domEventHandlers: {} }, XT = C_.define();
function eI(e20) {
  return [rI(), XT.of(Object.assign(Object.assign({}, ZT), e20))];
}
var tI = OE.baseTheme({ ".cm-gutters": { display: "flex", height: "100%", boxSizing: "border-box", left: 0, zIndex: 200 }, "&light .cm-gutters": { backgroundColor: "#f5f5f5", color: "#999", borderRight: "1px solid #ddd" }, "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" }, ".cm-gutter": { display: "flex !important", flexDirection: "column", flexShrink: 0, boxSizing: "border-box", minHeight: "100%", overflow: "hidden" }, ".cm-gutterElement": { boxSizing: "border-box" }, ".cm-lineNumbers .cm-gutterElement": { padding: "0 3px 0 5px", minWidth: "20px", textAlign: "right", whiteSpace: "nowrap" }, "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" }, "&dark .cm-activeLineGutter": { backgroundColor: "#222227" } }), nI = C_.define({ combine: function(e20) {
  return e20.some(function(e21) {
    return e21;
  });
} });
function rI(e20) {
  var t2 = [iI, tI];
  return e20 && e20.fixed === false && t2.push(nI.of(true)), t2;
}
var iI = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.prevViewport = t2.viewport, this.dom = document.createElement("div"), this.dom.className = "cm-gutters", this.dom.setAttribute("aria-hidden", "true"), this.dom.style.minHeight = this.view.contentHeight + "px", this.gutters = t2.state.facet(XT).map(function(e21) {
      return new uI(t2, e21);
    });
    var n2, r2 = bi(this.gutters);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        this.dom.appendChild(i2.dom);
      }
    } catch (e21) {
      r2.e(e21);
    } finally {
      r2.f();
    }
    this.fixed = !t2.state.facet(nI), this.fixed && (this.dom.style.position = "sticky"), this.syncGutters(false), t2.scrollDOM.insertBefore(this.dom, t2.contentDOM);
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    if (this.updateGutters(e21)) {
      var t2 = this.prevViewport, n2 = e21.view.viewport, r2 = Math.min(t2.to, n2.to) - Math.max(t2.from, n2.from);
      this.syncGutters(r2 < 0.8 * (n2.to - n2.from));
    }
    e21.geometryChanged && (this.dom.style.minHeight = this.view.contentHeight + "px"), this.view.state.facet(nI) != !this.fixed && (this.fixed = !this.fixed, this.dom.style.position = this.fixed ? "sticky" : ""), this.prevViewport = e21.view.viewport;
  } }, { key: "syncGutters", value: function(e21) {
    var t2 = this, n2 = this.dom.nextSibling;
    e21 && this.dom.remove();
    var r2, i2 = S$.iter(this.view.state.facet(YT), this.view.viewport.from), o2 = [], a2 = this.gutters.map(function(e22) {
      return new sI(e22, t2.view.viewport, -t2.view.documentPadding.top);
    }), s2 = bi(this.view.viewportLineBlocks);
    try {
      for (s2.s(); !(r2 = s2.n()).done; ) {
        var u2 = r2.value, c2 = void 0;
        if (Array.isArray(u2.type)) {
          var l2, f2 = bi(u2.type);
          try {
            for (f2.s(); !(l2 = f2.n()).done; ) {
              var h2 = l2.value;
              if (h2.type == UO.Text) {
                c2 = h2;
                break;
              }
            }
          } catch (e22) {
            f2.e(e22);
          } finally {
            f2.f();
          }
        } else
          c2 = u2.type == UO.Text ? u2 : void 0;
        if (c2) {
          o2.length && (o2 = []), aI(i2, o2, u2.from);
          var d2, v2 = bi(a2);
          try {
            for (v2.s(); !(d2 = v2.n()).done; ) {
              d2.value.line(this.view, c2, o2);
            }
          } catch (e22) {
            v2.e(e22);
          } finally {
            v2.f();
          }
        }
      }
    } catch (e22) {
      s2.e(e22);
    } finally {
      s2.f();
    }
    var p2, m2 = bi(a2);
    try {
      for (m2.s(); !(p2 = m2.n()).done; ) {
        p2.value.finish();
      }
    } catch (e22) {
      m2.e(e22);
    } finally {
      m2.f();
    }
    e21 && this.view.scrollDOM.insertBefore(this.dom, n2);
  } }, { key: "updateGutters", value: function(e21) {
    var t2 = e21.startState.facet(XT), n2 = e21.state.facet(XT), r2 = e21.docChanged || e21.heightChanged || e21.viewportChanged || !S$.eq(e21.startState.facet(YT), e21.state.facet(YT), e21.view.viewport.from, e21.view.viewport.to);
    if (t2 == n2) {
      var i2, o2 = bi(this.gutters);
      try {
        for (o2.s(); !(i2 = o2.n()).done; ) {
          i2.value.update(e21) && (r2 = true);
        }
      } catch (e22) {
        o2.e(e22);
      } finally {
        o2.f();
      }
    } else {
      r2 = true;
      var a2, s2 = [], u2 = bi(n2);
      try {
        for (u2.s(); !(a2 = u2.n()).done; ) {
          var c2 = a2.value, l2 = t2.indexOf(c2);
          l2 < 0 ? s2.push(new uI(this.view, c2)) : (this.gutters[l2].update(e21), s2.push(this.gutters[l2]));
        }
      } catch (e22) {
        u2.e(e22);
      } finally {
        u2.f();
      }
      var f2, h2 = bi(this.gutters);
      try {
        for (h2.s(); !(f2 = h2.n()).done; ) {
          var d2 = f2.value;
          d2.dom.remove(), s2.indexOf(d2) < 0 && d2.destroy();
        }
      } catch (e22) {
        h2.e(e22);
      } finally {
        h2.f();
      }
      for (var v2 = 0, p2 = s2; v2 < p2.length; v2++) {
        var m2 = p2[v2];
        this.dom.appendChild(m2.dom);
      }
      this.gutters = s2;
    }
    return r2;
  } }, { key: "destroy", value: function() {
    var e21, t2 = bi(this.gutters);
    try {
      for (t2.s(); !(e21 = t2.n()).done; ) {
        e21.value.destroy();
      }
    } catch (e22) {
      t2.e(e22);
    } finally {
      t2.f();
    }
    this.dom.remove();
  } }]), e20;
}(), { provide: yP.scrollMargins.from(function(e20) {
  return e20.gutters.length != 0 && e20.fixed ? e20.view.textDirection == AP.LTR ? { left: e20.dom.offsetWidth } : { right: e20.dom.offsetWidth } : null;
}) });
function oI(e20) {
  return Array.isArray(e20) ? e20 : [e20];
}
function aI(e20, t2, n2) {
  for (; e20.value && e20.from <= n2; )
    e20.from == n2 && t2.push(e20.value), e20.next();
}
var sI = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.gutter = t2, this.height = r2, this.localMarkers = [], this.i = 0, this.cursor = S$.iter(t2.markers, n2.from);
  }
  return Li(e20, [{ key: "line", value: function(e21, t2, n2) {
    this.localMarkers.length && (this.localMarkers = []), aI(this.cursor, this.localMarkers, t2.from);
    var r2 = n2.length ? this.localMarkers.concat(n2) : this.localMarkers, i2 = this.gutter.config.lineMarker(e21, t2, r2);
    i2 && r2.unshift(i2);
    var o2 = this.gutter;
    if (r2.length != 0 || o2.config.renderEmptyElements) {
      var a2 = t2.top - this.height;
      if (this.i == o2.elements.length) {
        var s2 = new cI(e21, t2.height, a2, r2);
        o2.elements.push(s2), o2.dom.appendChild(s2.dom);
      } else
        o2.elements[this.i].update(e21, t2.height, a2, r2);
      this.height = t2.bottom, this.i++;
    }
  } }, { key: "finish", value: function() {
    for (var e21 = this.gutter; e21.elements.length > this.i; ) {
      var t2 = e21.elements.pop();
      e21.dom.removeChild(t2.dom), t2.destroy();
    }
  } }]), e20;
}(), uI = function() {
  function e20(t2, n2) {
    var r2 = this;
    Ri(this, e20), this.view = t2, this.config = n2, this.elements = [], this.spacer = null, this.dom = document.createElement("div"), this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : "");
    var i2 = function(e21) {
      r2.dom.addEventListener(e21, function(r3) {
        var i3 = t2.lineBlockAtHeight(r3.clientY - t2.documentTop);
        n2.domEventHandlers[e21](t2, i3, r3) && r3.preventDefault();
      });
    };
    for (var o2 in n2.domEventHandlers)
      i2(o2);
    this.markers = oI(n2.markers(t2)), n2.initialSpacer && (this.spacer = new cI(t2, 0, 0, [n2.initialSpacer(t2)]), this.dom.appendChild(this.spacer.dom), this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none");
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = this.markers;
    if (this.markers = oI(this.config.markers(e21.view)), this.spacer && this.config.updateSpacer) {
      var n2 = this.config.updateSpacer(this.spacer.markers[0], e21);
      n2 != this.spacer.markers[0] && this.spacer.update(e21.view, 0, 0, [n2]);
    }
    var r2 = e21.view.viewport;
    return !S$.eq(this.markers, t2, r2.from, r2.to) || !!this.config.lineMarkerChange && this.config.lineMarkerChange(e21);
  } }, { key: "destroy", value: function() {
    var e21, t2 = bi(this.elements);
    try {
      for (t2.s(); !(e21 = t2.n()).done; ) {
        e21.value.destroy();
      }
    } catch (e22) {
      t2.e(e22);
    } finally {
      t2.f();
    }
  } }]), e20;
}(), cI = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.height = -1, this.above = 0, this.markers = [], this.dom = document.createElement("div"), this.update(t2, n2, r2, i2);
  }
  return Li(e20, [{ key: "update", value: function(e21, t2, n2, r2) {
    this.height != t2 && (this.dom.style.height = (this.height = t2) + "px"), this.above != n2 && (this.dom.style.marginTop = (this.above = n2) ? n2 + "px" : ""), function(e22, t3) {
      if (e22.length != t3.length)
        return false;
      for (var n3 = 0; n3 < e22.length; n3++)
        if (!e22[n3].compare(t3[n3]))
          return false;
      return true;
    }(this.markers, r2) || this.setMarkers(e21, r2);
  } }, { key: "setMarkers", value: function(e21, t2) {
    for (var n2 = "cm-gutterElement", r2 = this.dom.firstChild, i2 = 0, o2 = 0; ; ) {
      var a2 = o2, s2 = i2 < t2.length ? t2[i2++] : null, u2 = false;
      if (s2) {
        var c2 = s2.elementClass;
        c2 && (n2 += " " + c2);
        for (var l2 = o2; l2 < this.markers.length; l2++)
          if (this.markers[l2].compare(s2)) {
            a2 = l2, u2 = true;
            break;
          }
      } else
        a2 = this.markers.length;
      for (; o2 < a2; ) {
        var f2 = this.markers[o2++];
        if (f2.toDOM) {
          f2.destroy(r2);
          var h2 = r2.nextSibling;
          r2.remove(), r2 = h2;
        }
      }
      if (!s2)
        break;
      s2.toDOM && (u2 ? r2 = r2.nextSibling : this.dom.insertBefore(s2.toDOM(e21), r2)), u2 && o2++;
    }
    this.dom.className = n2, this.markers = t2;
  } }, { key: "destroy", value: function() {
    this.setMarkers(null, []);
  } }]), e20;
}();
var lI = C_.define(), fI = C_.define({ combine: function(e20) {
  return d$(e20, { formatNumber: String, domEventHandlers: {} }, { domEventHandlers: function(e21, t2) {
    var n2 = Object.assign({}, e21), r2 = function(e22) {
      var r3 = n2[e22], i3 = t2[e22];
      n2[e22] = r3 ? function(e23, t3, n3) {
        return r3(e23, t3, n3) || i3(e23, t3, n3);
      } : i3;
    };
    for (var i2 in t2)
      r2(i2);
    return n2;
  } });
} }), hI = function(e20) {
  xi(n2, QT);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).number = e21, r2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return this.number == e21.number;
  } }, { key: "toDOM", value: function() {
    return document.createTextNode(this.number);
  } }]), n2;
}();
function dI(e20, t2) {
  return e20.state.facet(fI).formatNumber(t2, e20.state);
}
var vI = XT.compute([fI], function(e20) {
  return { class: "cm-lineNumbers", renderEmptyElements: false, markers: function(e21) {
    return e21.state.facet(lI);
  }, lineMarker: function(e21, t2, n2) {
    return n2.some(function(e22) {
      return e22.toDOM;
    }) ? null : new hI(dI(e21, e21.state.doc.lineAt(t2.from).number));
  }, lineMarkerChange: function(e21) {
    return e21.startState.facet(fI) != e21.state.facet(fI);
  }, initialSpacer: function(e21) {
    return new hI(dI(e21, mI(e21.state.doc.lines)));
  }, updateSpacer: function(e21, t2) {
    var n2 = dI(t2.view, mI(t2.view.state.doc.lines));
    return n2 == e21.number ? e21 : new hI(n2);
  }, domEventHandlers: e20.facet(fI).domEventHandlers };
});
function pI() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [fI.of(e20), rI(), vI];
}
function mI(e20) {
  for (var t2 = 9; t2 < e20; )
    t2 = 10 * t2 + 9;
  return t2;
}
var gI = new (function(e20) {
  xi(n2, QT);
  var t2 = Ci(n2);
  function n2() {
    var e21;
    return Ri(this, n2), (e21 = t2.apply(this, arguments)).elementClass = "cm-activeLineGutter", e21;
  }
  return Li(n2);
}())(), yI = YT.compute(["selection"], function(e20) {
  var t2, n2 = [], r2 = -1, i2 = bi(e20.selection.ranges);
  try {
    for (i2.s(); !(t2 = i2.n()).done; ) {
      var o2 = t2.value;
      if (o2.empty) {
        var a2 = e20.doc.lineAt(o2.head).from;
        a2 > r2 && (r2 = a2, n2.push(gI.range(a2)));
      }
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  return S$.of(n2);
});
function bI() {
  return yI;
}
function wI(e20, t2) {
  var n2 = t2.mapPos(e20.from, 1), r2 = t2.mapPos(e20.to, -1);
  return n2 >= r2 ? void 0 : { from: n2, to: r2 };
}
var kI = e$.define({ map: wI }), jI = e$.define({ map: wI });
function xI(e20) {
  var t2, n2 = [], r2 = bi(e20.state.selection.ranges);
  try {
    var i2 = function() {
      var r3 = t2.value.head;
      if (n2.some(function(e21) {
        return e21.from <= r3 && e21.to >= r3;
      }))
        return "continue";
      n2.push(e20.lineBlockAt(r3));
    };
    for (r2.s(); !(t2 = r2.n()).done; )
      i2();
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return n2;
}
var SI = A_.define({ create: function() {
  return JO.none;
}, update: function(e20, t2) {
  e20 = e20.map(t2.changes);
  var n2, r2 = bi(t2.effects);
  try {
    var i2 = function() {
      var t3 = n2.value;
      t3.is(kI) && !function(e21, t4, n3) {
        var r3 = false;
        return e21.between(t4, t4, function(e22, i3) {
          e22 == t4 && i3 == n3 && (r3 = true);
        }), r3;
      }(e20, t3.value.from, t3.value.to) ? e20 = e20.update({ add: [MI.range(t3.value.from, t3.value.to)] }) : t3.is(jI) && (e20 = e20.update({ filter: function(e21, n3) {
        return t3.value.from != e21 || t3.value.to != n3;
      }, filterFrom: t3.value.from, filterTo: t3.value.to }));
    };
    for (r2.s(); !(n2 = r2.n()).done; )
      i2();
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  if (t2.selection) {
    var o2 = false, a2 = t2.selection.main.head;
    e20.between(a2, a2, function(e21, t3) {
      e21 < a2 && t3 > a2 && (o2 = true);
    }), o2 && (e20 = e20.update({ filterFrom: a2, filterTo: a2, filter: function(e21, t3) {
      return t3 <= a2 || e21 >= a2;
    } }));
  }
  return e20;
}, provide: function(e20) {
  return OE.decorations.from(e20);
} });
function CI(e20, t2, n2) {
  var r2, i2 = null;
  return (r2 = e20.field(SI, false)) === null || r2 === void 0 || r2.between(t2, n2, function(e21, t3) {
    (!i2 || i2.from > e21) && (i2 = { from: e21, to: t3 });
  }), i2;
}
function _I(e20, t2) {
  return e20.field(SI, false) ? t2 : t2.concat(e$.appendConfig.of(EI()));
}
function $I(e20, t2) {
  var n2 = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], r2 = e20.state.doc.lineAt(t2.from).number, i2 = e20.state.doc.lineAt(t2.to).number;
  return OE.announce.of("".concat(e20.state.phrase(n2 ? "Folded lines" : "Unfolded lines"), " ").concat(r2, " ").concat(e20.state.phrase("to"), " ").concat(i2, "."));
}
var OI = [{ key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: function(e20) {
  var t2, n2 = bi(xI(e20));
  try {
    for (n2.s(); !(t2 = n2.n()).done; ) {
      var r2 = t2.value, i2 = GT(e20.state, r2.from, r2.to);
      if (i2)
        return e20.dispatch({ effects: _I(e20.state, [kI.of(i2), $I(e20, i2)]) }), true;
    }
  } catch (e21) {
    n2.e(e21);
  } finally {
    n2.f();
  }
  return false;
} }, { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: function(e20) {
  if (!e20.state.field(SI, false))
    return false;
  var t2, n2 = [], r2 = bi(xI(e20));
  try {
    for (r2.s(); !(t2 = r2.n()).done; ) {
      var i2 = t2.value, o2 = CI(e20.state, i2.from, i2.to);
      o2 && n2.push(jI.of(o2), $I(e20, o2, false));
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return n2.length && e20.dispatch({ effects: n2 }), n2.length > 0;
} }, { key: "Ctrl-Alt-[", run: function(e20) {
  for (var t2 = e20.state, n2 = [], r2 = 0; r2 < t2.doc.length; ) {
    var i2 = e20.lineBlockAt(r2), o2 = GT(t2, i2.from, i2.to);
    o2 && n2.push(kI.of(o2)), r2 = (o2 ? e20.lineBlockAt(o2.to) : i2).to + 1;
  }
  return n2.length && e20.dispatch({ effects: _I(e20.state, n2) }), !!n2.length;
} }, { key: "Ctrl-Alt-]", run: function(e20) {
  var t2 = e20.state.field(SI, false);
  if (!t2 || !t2.size)
    return false;
  var n2 = [];
  return t2.between(0, e20.state.doc.length, function(e21, t3) {
    n2.push(jI.of({ from: e21, to: t3 }));
  }), e20.dispatch({ effects: n2 }), true;
} }], PI = { placeholderDOM: null, placeholderText: "\u2026" }, AI = C_.define({ combine: function(e20) {
  return d$(e20, PI);
} });
function EI(e20) {
  var t2 = [SI, RI];
  return e20 && t2.push(AI.of(e20)), t2;
}
var MI = JO.replace({ widget: new (function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2() {
    return Ri(this, n2), t2.apply(this, arguments);
  }
  return Li(n2, [{ key: "toDOM", value: function(e21) {
    var t3 = e21.state, n3 = t3.facet(AI), r2 = function(t4) {
      var n4 = e21.lineBlockAt(e21.posAtDOM(t4.target)), r3 = CI(e21.state, n4.from, n4.to);
      r3 && e21.dispatch({ effects: jI.of(r3) }), t4.preventDefault();
    };
    if (n3.placeholderDOM)
      return n3.placeholderDOM(e21, r2);
    var i2 = document.createElement("span");
    return i2.textContent = n3.placeholderText, i2.setAttribute("aria-label", t3.phrase("folded code")), i2.title = t3.phrase("unfold"), i2.className = "cm-foldPlaceholder", i2.onclick = r2, i2;
  } }]), n2;
}())() }), TI = { openText: "\u2304", closedText: "\u203A", markerDOM: null, domEventHandlers: {} }, II = function(e20) {
  xi(n2, QT);
  var t2 = Ci(n2);
  function n2(e21, r2) {
    var i2;
    return Ri(this, n2), (i2 = t2.call(this)).config = e21, i2.open = r2, i2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return this.config == e21.config && this.open == e21.open;
  } }, { key: "toDOM", value: function(e21) {
    if (this.config.markerDOM)
      return this.config.markerDOM(this.open);
    var t3 = document.createElement("span");
    return t3.textContent = this.open ? this.config.openText : this.config.closedText, t3.title = e21.state.phrase(this.open ? "Fold line" : "Unfold line"), t3;
  } }]), n2;
}();
function NI() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t2 = Object.assign(Object.assign({}, TI), e20), n2 = new II(t2, true), r2 = new II(t2, false), i2 = kP.fromClass(function() {
    function e21(t3) {
      Ri(this, e21), this.from = t3.viewport.from, this.markers = this.buildMarkers(t3);
    }
    return Li(e21, [{ key: "update", value: function(e22) {
      (e22.docChanged || e22.viewportChanged || e22.startState.facet(ET) != e22.state.facet(ET) || e22.startState.field(SI, false) != e22.state.field(SI, false) || jT(e22.startState) != jT(e22.state)) && (this.markers = this.buildMarkers(e22.view));
    } }, { key: "buildMarkers", value: function(e22) {
      var t3, i3 = new _$(), o3 = bi(e22.viewportLineBlocks);
      try {
        for (o3.s(); !(t3 = o3.n()).done; ) {
          var a2 = t3.value, s2 = CI(e22.state, a2.from, a2.to) ? r2 : GT(e22.state, a2.from, a2.to) ? n2 : null;
          s2 && i3.add(a2.from, a2.from, s2);
        }
      } catch (e23) {
        o3.e(e23);
      } finally {
        o3.f();
      }
      return i3.finish();
    } }]), e21;
  }()), o2 = t2.domEventHandlers;
  return [i2, eI({ class: "cm-foldGutter", markers: function(e21) {
    var t3;
    return ((t3 = e21.plugin(i2)) === null || t3 === void 0 ? void 0 : t3.markers) || S$.empty;
  }, initialSpacer: function() {
    return new II(t2, false);
  }, domEventHandlers: Object.assign(Object.assign({}, o2), { click: function(e21, t3, n3) {
    if (o2.click && o2.click(e21, t3, n3))
      return true;
    var r3 = CI(e21.state, t3.from, t3.to);
    if (r3)
      return e21.dispatch({ effects: jI.of(r3) }), true;
    var i3 = GT(e21.state, t3.from, t3.to);
    return !!i3 && (e21.dispatch({ effects: kI.of(i3) }), true);
  } }) }), EI()];
}
var RI = OE.baseTheme({ ".cm-foldPlaceholder": { backgroundColor: "#eee", border: "1px solid #ddd", color: "#888", borderRadius: ".2em", margin: "0 1px", padding: "0 1px", cursor: "pointer" }, ".cm-foldGutter span": { padding: "0 1px", cursor: "pointer" } }), DI = OE.baseTheme({ "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" }, "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" } }), LI = C_.define({ combine: function(e20) {
  return d$(e20, { afterCursor: true, brackets: "()[]{}", maxScanDistance: 1e4 });
} }), zI = JO.mark({ class: "cm-matchingBracket" }), BI = JO.mark({ class: "cm-nonmatchingBracket" }), qI = [A_.define({ create: function() {
  return JO.none;
}, update: function(e20, t2) {
  if (!t2.docChanged && !t2.selection)
    return e20;
  var n2, r2 = [], i2 = t2.state.facet(LI), o2 = bi(t2.state.selection.ranges);
  try {
    for (o2.s(); !(n2 = o2.n()).done; ) {
      var a2 = n2.value;
      if (a2.empty) {
        var s2 = HI(t2.state, a2.head, -1, i2) || a2.head > 0 && HI(t2.state, a2.head - 1, 1, i2) || i2.afterCursor && (HI(t2.state, a2.head, 1, i2) || a2.head < t2.state.doc.length && HI(t2.state, a2.head + 1, -1, i2));
        if (s2) {
          var u2 = s2.matched ? zI : BI;
          r2.push(u2.range(s2.start.from, s2.start.to)), s2.end && r2.push(u2.range(s2.end.from, s2.end.to));
        }
      }
    }
  } catch (e21) {
    o2.e(e21);
  } finally {
    o2.f();
  }
  return JO.set(r2, true);
}, provide: function(e20) {
  return OE.decorations.from(e20);
} }), DI];
function FI() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [LI.of(e20), qI];
}
function VI(e20, t2, n2) {
  var r2 = e20.prop(t2 < 0 ? UM.openedBy : UM.closedBy);
  if (r2)
    return r2;
  if (e20.name.length == 1) {
    var i2 = n2.indexOf(e20.name);
    if (i2 > -1 && i2 % 2 == (t2 < 0 ? 1 : 0))
      return [n2[i2 + t2]];
  }
  return null;
}
function HI(e20, t2, n2) {
  for (var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, i2 = r2.maxScanDistance || 1e4, o2 = r2.brackets || "()[]{}", a2 = jT(e20), s2 = a2.resolveInner(t2, n2), u2 = s2; u2; u2 = u2.parent) {
    var c2 = VI(u2.type, n2, o2);
    if (c2 && u2.from < u2.to)
      return WI(e20, t2, n2, u2, c2, o2);
  }
  return UI(e20, t2, n2, a2, s2.type, i2, o2);
}
function WI(e20, t2, n2, r2, i2, o2) {
  var a2 = r2.parent, s2 = { from: r2.from, to: r2.to }, u2 = 0, c2 = a2 == null ? void 0 : a2.cursor;
  if (c2 && (n2 < 0 ? c2.childBefore(r2.from) : c2.childAfter(r2.to)))
    do {
      if (n2 < 0 ? c2.to <= r2.from : c2.from >= r2.to) {
        if (u2 == 0 && i2.indexOf(c2.type.name) > -1 && c2.from < c2.to)
          return { start: s2, end: { from: c2.from, to: c2.to }, matched: true };
        if (VI(c2.type, n2, o2))
          u2++;
        else if (VI(c2.type, -n2, o2) && --u2 == 0)
          return { start: s2, end: c2.from == c2.to ? void 0 : { from: c2.from, to: c2.to }, matched: false };
      }
    } while (n2 < 0 ? c2.prevSibling() : c2.nextSibling());
  return { start: s2, matched: false };
}
function UI(e20, t2, n2, r2, i2, o2, a2) {
  var s2 = n2 < 0 ? e20.sliceDoc(t2 - 1, t2) : e20.sliceDoc(t2, t2 + 1), u2 = a2.indexOf(s2);
  if (u2 < 0 || u2 % 2 == 0 != n2 > 0)
    return null;
  for (var c2 = { from: n2 < 0 ? t2 - 1 : t2, to: n2 > 0 ? t2 + 1 : t2 }, l2 = e20.doc.iterRange(t2, n2 > 0 ? e20.doc.length : 0), f2 = 0, h2 = 0; !l2.next().done && h2 <= o2; ) {
    var d2 = l2.value;
    n2 < 0 && (h2 += d2.length);
    for (var v2 = t2 + h2 * n2, p2 = n2 > 0 ? 0 : d2.length - 1, m2 = n2 > 0 ? d2.length : -1; p2 != m2; p2 += n2) {
      var g2 = a2.indexOf(d2[p2]);
      if (!(g2 < 0 || r2.resolve(v2 + p2, 1).type != i2))
        if (g2 % 2 == 0 == n2 > 0)
          f2++;
        else {
          if (f2 == 1)
            return { start: c2, end: { from: v2 + p2, to: v2 + p2 + 1 }, matched: g2 >> 1 == u2 >> 1 };
          f2--;
        }
    }
    n2 > 0 && (h2 += d2.length);
  }
  return l2.done ? { start: c2, matched: false } : null;
}
function JI(e20, t2) {
  return k_.create(e20.ranges.map(t2), e20.mainIndex);
}
function KI(e20, t2) {
  return e20.update({ selection: t2, scrollIntoView: true, userEvent: "select" });
}
function GI(e20, t2) {
  var n2 = e20.state, r2 = e20.dispatch, i2 = JI(n2.selection, t2);
  return !i2.eq(n2.selection) && (r2(KI(n2, i2)), true);
}
function QI(e20, t2) {
  return k_.cursor(t2 ? e20.to : e20.from);
}
function YI(e20, t2) {
  return GI(e20, function(n2) {
    return n2.empty ? e20.moveByChar(n2, t2) : QI(n2, t2);
  });
}
var ZI = function(e20) {
  return YI(e20, e20.textDirection != AP.LTR);
}, XI = function(e20) {
  return YI(e20, e20.textDirection == AP.LTR);
};
function eN(e20, t2) {
  return GI(e20, function(n2) {
    return n2.empty ? e20.moveByGroup(n2, t2) : QI(n2, t2);
  });
}
function tN(e20, t2, n2) {
  if (t2.type.prop(n2))
    return true;
  var r2 = t2.to - t2.from;
  return r2 && (r2 > 2 || /[^\s,.;:]/.test(e20.sliceDoc(t2.from, t2.to))) || t2.firstChild;
}
function nN(e20, t2, n2) {
  for (var r2 = jT(e20).resolveInner(t2.head), i2 = n2 ? UM.closedBy : UM.openedBy, o2 = t2.head; ; ) {
    var a2 = n2 ? r2.childAfter(o2) : r2.childBefore(o2);
    if (!a2)
      break;
    tN(e20, a2, i2) ? r2 = a2 : o2 = n2 ? a2.to : a2.from;
  }
  var s2, u2;
  return u2 = r2.type.prop(i2) && (s2 = n2 ? HI(e20, r2.from, 1) : HI(e20, r2.to, -1)) && s2.matched ? n2 ? s2.end.to : s2.end.from : n2 ? r2.to : r2.from, k_.cursor(u2, n2 ? -1 : 1);
}
function rN(e20, t2) {
  return GI(e20, function(n2) {
    if (!n2.empty)
      return QI(n2, t2);
    var r2 = e20.moveVertically(n2, t2);
    return r2.head != n2.head ? r2 : e20.moveToLineBoundary(n2, t2);
  });
}
var iN = function(e20) {
  return rN(e20, false);
}, oN = function(e20) {
  return rN(e20, true);
};
function aN(e20, t2) {
  var n2 = e20.state, r2 = JI(n2.selection, function(n3) {
    return n3.empty ? e20.moveVertically(n3, t2, e20.dom.clientHeight) : QI(n3, t2);
  });
  if (r2.eq(n2.selection))
    return false;
  var i2 = e20.coordsAtPos(n2.selection.main.head), o2 = e20.scrollDOM.getBoundingClientRect();
  return e20.dispatch(KI(n2, r2), { effects: i2 && i2.top > o2.top && i2.bottom < o2.bottom ? OE.scrollIntoView(r2.main.head, { y: "start", yMargin: i2.top - o2.top }) : void 0 }), true;
}
var sN = function(e20) {
  return aN(e20, false);
}, uN = function(e20) {
  return aN(e20, true);
};
function cN(e20, t2, n2) {
  var r2 = e20.lineBlockAt(t2.head), i2 = e20.moveToLineBoundary(t2, n2);
  if (i2.head == t2.head && i2.head != (n2 ? r2.to : r2.from) && (i2 = e20.moveToLineBoundary(t2, n2, false)), !n2 && i2.head == r2.from && r2.length) {
    var o2 = /^\s*/.exec(e20.state.sliceDoc(r2.from, Math.min(r2.from + 100, r2.to)))[0].length;
    o2 && t2.head != r2.from + o2 && (i2 = k_.cursor(r2.from + o2));
  }
  return i2;
}
var lN = function(e20) {
  return GI(e20, function(t2) {
    return cN(e20, t2, true);
  });
}, fN = function(e20) {
  return GI(e20, function(t2) {
    return cN(e20, t2, false);
  });
};
function hN(e20, t2) {
  var n2 = JI(e20.state.selection, function(e21) {
    var n3 = t2(e21);
    return k_.range(e21.anchor, n3.head, n3.goalColumn);
  });
  return !n2.eq(e20.state.selection) && (e20.dispatch(KI(e20.state, n2)), true);
}
function dN(e20, t2) {
  return hN(e20, function(n2) {
    return e20.moveByChar(n2, t2);
  });
}
var vN = function(e20) {
  return dN(e20, e20.textDirection != AP.LTR);
}, pN = function(e20) {
  return dN(e20, e20.textDirection == AP.LTR);
};
function mN(e20, t2) {
  return hN(e20, function(n2) {
    return e20.moveByGroup(n2, t2);
  });
}
function gN(e20, t2) {
  return hN(e20, function(n2) {
    return e20.moveVertically(n2, t2);
  });
}
var yN = function(e20) {
  return gN(e20, false);
}, bN = function(e20) {
  return gN(e20, true);
};
function wN(e20, t2) {
  return hN(e20, function(n2) {
    return e20.moveVertically(n2, t2, e20.dom.clientHeight);
  });
}
var kN = function(e20) {
  return wN(e20, false);
}, jN = function(e20) {
  return wN(e20, true);
}, xN = function(e20) {
  return hN(e20, function(t2) {
    return cN(e20, t2, true);
  });
}, SN = function(e20) {
  return hN(e20, function(t2) {
    return cN(e20, t2, false);
  });
}, CN = function(e20) {
  var t2 = e20.state;
  return (0, e20.dispatch)(KI(t2, { anchor: 0 })), true;
}, _N = function(e20) {
  var t2 = e20.state;
  return (0, e20.dispatch)(KI(t2, { anchor: t2.doc.length })), true;
}, $N = function(e20) {
  var t2 = e20.state;
  return (0, e20.dispatch)(KI(t2, { anchor: t2.selection.main.anchor, head: 0 })), true;
}, ON = function(e20) {
  var t2 = e20.state;
  return (0, e20.dispatch)(KI(t2, { anchor: t2.selection.main.anchor, head: t2.doc.length })), true;
};
function PN(e20, t2) {
  var n2 = e20.state, r2 = e20.dispatch;
  if (n2.readOnly)
    return false;
  var i2 = "delete.selection", o2 = n2.changeByRange(function(e21) {
    var n3 = e21.from, r3 = e21.to;
    if (n3 == r3) {
      var o3 = t2(n3);
      o3 < n3 ? i2 = "delete.backward" : o3 > n3 && (i2 = "delete.forward"), n3 = Math.min(n3, o3), r3 = Math.max(r3, o3);
    }
    return n3 == r3 ? { range: e21 } : { changes: { from: n3, to: r3 }, range: k_.cursor(n3) };
  });
  return !o2.changes.empty && (r2(n2.update(o2, { scrollIntoView: true, userEvent: i2 })), true);
}
function AN(e20, t2, n2) {
  if (e20 instanceof OE) {
    var r2, i2 = bi(e20.pluginField(yP.atomicRanges));
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        r2.value.between(t2, t2, function(e21, r3) {
          e21 < t2 && r3 > t2 && (t2 = n2 ? r3 : e21);
        });
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
  }
  return t2;
}
var EN = function(e20, t2) {
  return PN(e20, function(n2) {
    var r2, i2, o2 = e20.state, a2 = o2.doc.lineAt(n2);
    if (!t2 && n2 > a2.from && n2 < a2.from + 200 && !/[^ \t]/.test(r2 = a2.text.slice(0, n2 - a2.from))) {
      if (r2[r2.length - 1] == "	")
        return n2 - 1;
      for (var s2 = ZC(r2, o2.tabSize) % NT(o2) || NT(o2), u2 = 0; u2 < s2 && r2[r2.length - 1 - u2] == " "; u2++)
        n2--;
      i2 = n2;
    } else
      (i2 = HC(a2.text, n2 - a2.from, t2, t2) + a2.from) == n2 && a2.number != (t2 ? o2.doc.lines : 1) && (i2 += t2 ? 1 : -1);
    return AN(e20, i2, t2);
  });
}, MN = function(e20) {
  return EN(e20, false);
}, TN = function(e20) {
  return EN(e20, true);
}, IN = function(e20, t2) {
  return PN(e20, function(n2) {
    for (var r2 = n2, i2 = e20.state, o2 = i2.doc.lineAt(r2), a2 = i2.charCategorizer(r2), s2 = null; ; ) {
      if (r2 == (t2 ? o2.to : o2.from)) {
        r2 == n2 && o2.number != (t2 ? i2.doc.lines : 1) && (r2 += t2 ? 1 : -1);
        break;
      }
      var u2 = HC(o2.text, r2 - o2.from, t2) + o2.from, c2 = o2.text.slice(Math.min(r2, u2) - o2.from, Math.max(r2, u2) - o2.from), l2 = a2(c2);
      if (s2 != null && l2 != s2)
        break;
      c2 == " " && r2 == n2 || (s2 = l2), r2 = u2;
    }
    return AN(e20, r2, t2);
  });
}, NN = function(e20) {
  return IN(e20, false);
}, RN = function(e20) {
  return PN(e20, function(t2) {
    var n2 = e20.lineBlockAt(t2).to;
    return AN(e20, t2 < n2 ? n2 : Math.min(e20.state.doc.length, t2 + 1), true);
  });
};
function DN(e20) {
  var t2, n2 = [], r2 = -1, i2 = bi(e20.selection.ranges);
  try {
    for (i2.s(); !(t2 = i2.n()).done; ) {
      var o2 = t2.value, a2 = e20.doc.lineAt(o2.from), s2 = e20.doc.lineAt(o2.to);
      if (o2.empty || o2.to != s2.from || (s2 = e20.doc.lineAt(o2.to - 1)), r2 >= a2.number) {
        var u2 = n2[n2.length - 1];
        u2.to = s2.to, u2.ranges.push(o2);
      } else
        n2.push({ from: a2.from, to: s2.to, ranges: [o2] });
      r2 = s2.number + 1;
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  return n2;
}
function LN(e20, t2, n2) {
  if (e20.readOnly)
    return false;
  var r2, i2 = [], o2 = [], a2 = bi(DN(e20));
  try {
    for (a2.s(); !(r2 = a2.n()).done; ) {
      var s2 = r2.value;
      if (n2 ? s2.to != e20.doc.length : s2.from != 0) {
        var u2 = e20.doc.lineAt(n2 ? s2.to + 1 : s2.from - 1), c2 = u2.length + 1;
        if (n2) {
          i2.push({ from: s2.to, to: u2.to }, { from: s2.from, insert: u2.text + e20.lineBreak });
          var l2, f2 = bi(s2.ranges);
          try {
            for (f2.s(); !(l2 = f2.n()).done; ) {
              var h2 = l2.value;
              o2.push(k_.range(Math.min(e20.doc.length, h2.anchor + c2), Math.min(e20.doc.length, h2.head + c2)));
            }
          } catch (e21) {
            f2.e(e21);
          } finally {
            f2.f();
          }
        } else {
          i2.push({ from: u2.from, to: s2.from }, { from: s2.to, insert: e20.lineBreak + u2.text });
          var d2, v2 = bi(s2.ranges);
          try {
            for (v2.s(); !(d2 = v2.n()).done; ) {
              var p2 = d2.value;
              o2.push(k_.range(p2.anchor - c2, p2.head - c2));
            }
          } catch (e21) {
            v2.e(e21);
          } finally {
            v2.f();
          }
        }
      }
    }
  } catch (e21) {
    a2.e(e21);
  } finally {
    a2.f();
  }
  return !!i2.length && (t2(e20.update({ changes: i2, scrollIntoView: true, selection: k_.create(o2, e20.selection.mainIndex), userEvent: "move.line" })), true);
}
function zN(e20, t2, n2) {
  if (e20.readOnly)
    return false;
  var r2, i2 = [], o2 = bi(DN(e20));
  try {
    for (o2.s(); !(r2 = o2.n()).done; ) {
      var a2 = r2.value;
      n2 ? i2.push({ from: a2.from, insert: e20.doc.slice(a2.from, a2.to) + e20.lineBreak }) : i2.push({ from: a2.to, insert: e20.lineBreak + e20.doc.slice(a2.from, a2.to) });
    }
  } catch (e21) {
    o2.e(e21);
  } finally {
    o2.f();
  }
  return t2(e20.update({ changes: i2, scrollIntoView: true, userEvent: "input.copyline" })), true;
}
var BN = qN(false);
function qN(e20) {
  return function(t2) {
    var n2 = t2.state, r2 = t2.dispatch;
    if (n2.readOnly)
      return false;
    var i2 = n2.changeByRange(function(t3) {
      var r3 = t3.from, i3 = t3.to, o2 = n2.doc.lineAt(r3), a2 = !e20 && r3 == i3 && function(e21, t4) {
        if (/\(\)|\[\]|\{\}/.test(e21.sliceDoc(t4 - 1, t4 + 1)))
          return { from: t4, to: t4 };
        var n3, r4 = jT(e21).resolveInner(t4), i4 = r4.childBefore(t4), o3 = r4.childAfter(t4);
        return i4 && o3 && i4.to <= t4 && o3.from >= t4 && (n3 = i4.type.prop(UM.closedBy)) && n3.indexOf(o3.name) > -1 && e21.doc.lineAt(i4.to).from == e21.doc.lineAt(o3.from).from ? { from: i4.to, to: o3.from } : null;
      }(n2, r3);
      e20 && (r3 = i3 = (i3 <= o2.to ? o2 : n2.doc.lineAt(i3)).to);
      var s2 = new LT(n2, { simulateBreak: r3, simulateDoubleBreak: !!a2 }), u2 = DT(s2, r3);
      for (u2 == null && (u2 = /^\s*/.exec(n2.doc.lineAt(r3).text)[0].length); i3 < o2.to && /\s/.test(o2.text[i3 - o2.from]); )
        i3++;
      a2 ? (r3 = a2.from, i3 = a2.to) : r3 > o2.from && r3 < o2.from + 100 && !/\S/.test(o2.text.slice(0, r3)) && (r3 = o2.from);
      var c2 = ["", RT(n2, u2)];
      return a2 && c2.push(RT(n2, s2.lineIndent(o2.from, -1))), { changes: { from: r3, to: i3, insert: e_.of(c2) }, range: k_.cursor(r3 + 1 + c2[1].length) };
    });
    return r2(n2.update(i2, { scrollIntoView: true, userEvent: "input" })), true;
  };
}
function FN(e20, t2) {
  var n2 = -1;
  return e20.changeByRange(function(r2) {
    for (var i2 = [], o2 = r2.from; o2 <= r2.to; ) {
      var a2 = e20.doc.lineAt(o2);
      a2.number > n2 && (r2.empty || r2.to > a2.from) && (t2(a2, i2, r2), n2 = a2.number), o2 = a2.to + 1;
    }
    var s2 = e20.changes(i2);
    return { changes: i2, range: k_.range(s2.mapPos(r2.anchor, 1), s2.mapPos(r2.head, 1)) };
  });
}
var VN = function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  return !t2.readOnly && (n2(t2.update(FN(t2, function(e21, n3) {
    n3.push({ from: e21.from, insert: t2.facet(IT) });
  }), { userEvent: "input.indent" })), true);
}, HN = function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  return !t2.readOnly && (n2(t2.update(FN(t2, function(e21, n3) {
    var r2 = /^\s*/.exec(e21.text)[0];
    if (r2) {
      for (var i2 = ZC(r2, t2.tabSize), o2 = 0, a2 = RT(t2, Math.max(0, i2 - NT(t2))); o2 < r2.length && o2 < a2.length && r2.charCodeAt(o2) == a2.charCodeAt(o2); )
        o2++;
      n3.push({ from: e21.from + o2, to: e21.from + r2.length, insert: a2.slice(o2) });
    }
  }), { userEvent: "delete.dedent" })), true);
}, WN = [{ key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: function(e20) {
  return GI(e20, function(t2) {
    return nN(e20.state, t2, e20.textDirection != AP.LTR);
  });
}, shift: function(e20) {
  return hN(e20, function(t2) {
    return nN(e20.state, t2, e20.textDirection != AP.LTR);
  });
} }, { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: function(e20) {
  return GI(e20, function(t2) {
    return nN(e20.state, t2, e20.textDirection == AP.LTR);
  });
}, shift: function(e20) {
  return hN(e20, function(t2) {
    return nN(e20.state, t2, e20.textDirection == AP.LTR);
  });
} }, { key: "Alt-ArrowUp", run: function(e20) {
  return LN(e20.state, e20.dispatch, false);
} }, { key: "Shift-Alt-ArrowUp", run: function(e20) {
  return zN(e20.state, e20.dispatch, false);
} }, { key: "Alt-ArrowDown", run: function(e20) {
  return LN(e20.state, e20.dispatch, true);
} }, { key: "Shift-Alt-ArrowDown", run: function(e20) {
  return zN(e20.state, e20.dispatch, true);
} }, { key: "Escape", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch, r2 = t2.selection, i2 = null;
  return r2.ranges.length > 1 ? i2 = k_.create([r2.main]) : r2.main.empty || (i2 = k_.create([k_.cursor(r2.main.head)])), !!i2 && (n2(KI(t2, i2)), true);
} }, { key: "Mod-Enter", run: qN(true) }, { key: "Alt-l", mac: "Ctrl-l", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch, r2 = DN(t2).map(function(e21) {
    var n3 = e21.from, r3 = e21.to;
    return k_.range(n3, Math.min(r3 + 1, t2.doc.length));
  });
  return n2(t2.update({ selection: k_.create(r2), userEvent: "select" })), true;
} }, { key: "Mod-i", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch, r2 = JI(t2.selection, function(e21) {
    for (var n3, r3 = jT(t2).resolveInner(e21.head, 1); !(r3.from < e21.from && r3.to >= e21.to || r3.to > e21.to && r3.from <= e21.from) && ((n3 = r3.parent) === null || n3 === void 0 ? void 0 : n3.parent); )
      r3 = r3.parent;
    return k_.range(r3.to, r3.from);
  });
  return n2(KI(t2, r2)), true;
}, preventDefault: true }, { key: "Mod-[", run: HN }, { key: "Mod-]", run: VN }, { key: "Mod-Alt-\\", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  if (t2.readOnly)
    return false;
  var r2 = /* @__PURE__ */ Object.create(null), i2 = new LT(t2, { overrideIndentation: function(e21) {
    var t3 = r2[e21];
    return t3 == null ? -1 : t3;
  } }), o2 = FN(t2, function(e21, n3, o3) {
    var a2 = DT(i2, e21.from);
    if (a2 != null) {
      /\S/.test(e21.text) || (a2 = 0);
      var s2 = /^\s*/.exec(e21.text)[0], u2 = RT(t2, a2);
      (s2 != u2 || o3.from < e21.from + s2.length) && (r2[e21.from] = a2, n3.push({ from: e21.from, to: e21.from + s2.length, insert: u2 }));
    }
  });
  return o2.changes.empty || n2(t2.update(o2, { userEvent: "indent" })), true;
} }, { key: "Shift-Mod-k", run: function(e20) {
  if (e20.state.readOnly)
    return false;
  var t2 = e20.state, n2 = t2.changes(DN(t2).map(function(e21) {
    var n3 = e21.from, r3 = e21.to;
    return n3 > 0 ? n3-- : r3 < t2.doc.length && r3++, { from: n3, to: r3 };
  })), r2 = JI(t2.selection, function(t3) {
    return e20.moveVertically(t3, true);
  }).map(n2);
  return e20.dispatch({ changes: n2, selection: r2, scrollIntoView: true, userEvent: "delete.line" }), true;
} }, { key: "Shift-Mod-\\", run: function(e20) {
  return function(e21, t2, n2) {
    var r2 = false, i2 = JI(e21.selection, function(t3) {
      var i3 = HI(e21, t3.head, -1) || HI(e21, t3.head, 1) || t3.head > 0 && HI(e21, t3.head - 1, 1) || t3.head < e21.doc.length && HI(e21, t3.head + 1, -1);
      if (!i3 || !i3.end)
        return t3;
      r2 = true;
      var o2 = i3.start.from == t3.head ? i3.end.to : i3.end.from;
      return n2 ? k_.range(t3.anchor, o2) : k_.cursor(o2);
    });
    return !!r2 && (t2(KI(e21, i2)), true);
  }(e20.state, e20.dispatch, false);
} }].concat([{ key: "ArrowLeft", run: ZI, shift: vN, preventDefault: true }, { key: "Mod-ArrowLeft", mac: "Alt-ArrowLeft", run: function(e20) {
  return eN(e20, e20.textDirection != AP.LTR);
}, shift: function(e20) {
  return mN(e20, e20.textDirection != AP.LTR);
} }, { mac: "Cmd-ArrowLeft", run: fN, shift: SN }, { key: "ArrowRight", run: XI, shift: pN, preventDefault: true }, { key: "Mod-ArrowRight", mac: "Alt-ArrowRight", run: function(e20) {
  return eN(e20, e20.textDirection == AP.LTR);
}, shift: function(e20) {
  return mN(e20, e20.textDirection == AP.LTR);
} }, { mac: "Cmd-ArrowRight", run: lN, shift: xN }, { key: "ArrowUp", run: iN, shift: yN, preventDefault: true }, { mac: "Cmd-ArrowUp", run: CN, shift: $N }, { mac: "Ctrl-ArrowUp", run: sN, shift: kN }, { key: "ArrowDown", run: oN, shift: bN, preventDefault: true }, { mac: "Cmd-ArrowDown", run: _N, shift: ON }, { mac: "Ctrl-ArrowDown", run: uN, shift: jN }, { key: "PageUp", run: sN, shift: kN }, { key: "PageDown", run: uN, shift: jN }, { key: "Home", run: fN, shift: SN }, { key: "Mod-Home", run: CN, shift: $N }, { key: "End", run: lN, shift: xN }, { key: "Mod-End", run: _N, shift: ON }, { key: "Enter", run: BN }, { key: "Mod-a", run: function(e20) {
  var t2 = e20.state;
  return (0, e20.dispatch)(t2.update({ selection: { anchor: 0, head: t2.doc.length }, userEvent: "select" })), true;
} }, { key: "Backspace", run: MN, shift: MN }, { key: "Delete", run: TN }, { key: "Mod-Backspace", mac: "Alt-Backspace", run: NN }, { key: "Mod-Delete", mac: "Alt-Delete", run: function(e20) {
  return IN(e20, true);
} }, { mac: "Mod-Backspace", run: function(e20) {
  return PN(e20, function(t2) {
    var n2 = e20.lineBlockAt(t2).from;
    return AN(e20, t2 > n2 ? n2 : Math.max(0, t2 - 1), false);
  });
} }, { mac: "Mod-Delete", run: RN }].concat([{ key: "Ctrl-b", run: ZI, shift: vN, preventDefault: true }, { key: "Ctrl-f", run: XI, shift: pN }, { key: "Ctrl-p", run: iN, shift: yN }, { key: "Ctrl-n", run: oN, shift: bN }, { key: "Ctrl-a", run: function(e20) {
  return GI(e20, function(t2) {
    return k_.cursor(e20.lineBlockAt(t2.head).from, 1);
  });
}, shift: function(e20) {
  return hN(e20, function(t2) {
    return k_.cursor(e20.lineBlockAt(t2.head).from);
  });
} }, { key: "Ctrl-e", run: function(e20) {
  return GI(e20, function(t2) {
    return k_.cursor(e20.lineBlockAt(t2.head).to, -1);
  });
}, shift: function(e20) {
  return hN(e20, function(t2) {
    return k_.cursor(e20.lineBlockAt(t2.head).to);
  });
} }, { key: "Ctrl-d", run: TN }, { key: "Ctrl-h", run: MN }, { key: "Ctrl-k", run: RN }, { key: "Ctrl-Alt-h", run: NN }, { key: "Ctrl-o", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  if (t2.readOnly)
    return false;
  var r2 = t2.changeByRange(function(e21) {
    return { changes: { from: e21.from, to: e21.to, insert: e_.of(["", ""]) }, range: k_.cursor(e21.from) };
  });
  return n2(t2.update(r2, { scrollIntoView: true, userEvent: "input" })), true;
} }, { key: "Ctrl-t", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  if (t2.readOnly)
    return false;
  var r2 = t2.changeByRange(function(e21) {
    if (!e21.empty || e21.from == 0 || e21.from == t2.doc.length)
      return { range: e21 };
    var n3 = e21.from, r3 = t2.doc.lineAt(n3), i2 = n3 == r3.from ? n3 - 1 : HC(r3.text, n3 - r3.from, false) + r3.from, o2 = n3 == r3.to ? n3 + 1 : HC(r3.text, n3 - r3.from, true) + r3.from;
    return { changes: { from: i2, to: o2, insert: t2.doc.slice(n3, o2).append(t2.doc.slice(i2, n3)) }, range: k_.cursor(o2) };
  });
  return !r2.changes.empty && (n2(t2.update(r2, { scrollIntoView: true, userEvent: "move.character" })), true);
} }, { key: "Ctrl-v", run: uN }].map(function(e20) {
  return { mac: e20.key, run: e20.run, shift: e20.shift };
}))), UN = { key: "Tab", run: VN, shift: HN }, JN = { brackets: ["(", "[", "{", "'", '"'], before: ")]}:;>" }, KN = e$.define({ map: function(e20, t2) {
  var n2 = t2.mapPos(e20, -1, f_.TrackAfter);
  return n2 == null ? void 0 : n2;
} }), GN = e$.define({ map: function(e20, t2) {
  return t2.mapPos(e20);
} }), QN = new (function(e20) {
  xi(n2, w$);
  var t2 = Ci(n2);
  function n2() {
    return Ri(this, n2), t2.apply(this, arguments);
  }
  return Li(n2);
}())();
QN.startSide = 1, QN.endSide = -1;
var YN = A_.define({ create: function() {
  return S$.empty;
}, update: function(e20, t2) {
  if (t2.selection) {
    var n2 = t2.state.doc.lineAt(t2.selection.main.head).from, r2 = t2.startState.doc.lineAt(t2.startState.selection.main.head).from;
    n2 != t2.changes.mapPos(r2, -1) && (e20 = S$.empty);
  }
  e20 = e20.map(t2.changes);
  var i2, o2 = bi(t2.effects);
  try {
    var a2 = function() {
      var t3 = i2.value;
      t3.is(KN) ? e20 = e20.update({ add: [QN.range(t3.value, t3.value + 1)] }) : t3.is(GN) && (e20 = e20.update({ filter: function(e21) {
        return e21 != t3.value;
      } }));
    };
    for (o2.s(); !(i2 = o2.n()).done; )
      a2();
  } catch (e21) {
    o2.e(e21);
  } finally {
    o2.f();
  }
  return e20;
} });
function ZN() {
  return [nR, YN];
}
function XN(e20) {
  for (var t2 = 0; t2 < "()[]{}<>".length; t2 += 2)
    if ("()[]{}<>".charCodeAt(t2) == e20)
      return "()[]{}<>".charAt(t2 + 1);
  return QC(e20 < 128 ? e20 : e20 + 1);
}
function eR(e20, t2) {
  return e20.languageDataAt("closeBrackets", t2)[0] || JN;
}
var tR = (typeof navigator == "undefined" ? "undefined" : zi(navigator)) == "object" && /Android\b/.test(navigator.userAgent), nR = OE.inputHandler.of(function(e20, t2, n2, r2) {
  if ((tR ? e20.composing : e20.compositionStarted) || e20.state.readOnly)
    return false;
  var i2 = e20.state.selection.main;
  if (r2.length > 2 || r2.length == 2 && YC(GC(r2, 0)) == 1 || t2 != i2.from || n2 != i2.to)
    return false;
  var o2 = function(e21, t3) {
    var n3, r3 = eR(e21, e21.selection.main.head), i3 = r3.brackets || JN.brackets, o3 = bi(i3);
    try {
      for (o3.s(); !(n3 = o3.n()).done; ) {
        var a2 = n3.value, s2 = XN(GC(a2, 0));
        if (t3 == a2)
          return s2 == a2 ? uR(e21, a2, i3.indexOf(a2 + a2 + a2) > -1) : aR(e21, a2, s2, r3.before || JN.before);
        if (t3 == s2 && iR(e21, e21.selection.main.from))
          return sR(e21, a2, s2);
      }
    } catch (e22) {
      o3.e(e22);
    } finally {
      o3.f();
    }
    return null;
  }(e20.state, r2);
  return !!o2 && (e20.dispatch(o2), true);
}), rR = [{ key: "Backspace", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch;
  if (t2.readOnly)
    return false;
  var r2 = eR(t2, t2.selection.main.head).brackets || JN.brackets, i2 = null, o2 = t2.changeByRange(function(e21) {
    if (e21.empty) {
      var n3, o3 = function(e22, t3) {
        var n4 = e22.sliceString(t3 - 2, t3);
        return YC(GC(n4, 0)) == n4.length ? n4 : n4.slice(1);
      }(t2.doc, e21.head), a2 = bi(r2);
      try {
        for (a2.s(); !(n3 = a2.n()).done; ) {
          var s2 = n3.value;
          if (s2 == o3 && oR(t2.doc, e21.head) == XN(GC(s2, 0)))
            return { changes: { from: e21.head - s2.length, to: e21.head + s2.length }, range: k_.cursor(e21.head - s2.length), userEvent: "delete.backward" };
        }
      } catch (e22) {
        a2.e(e22);
      } finally {
        a2.f();
      }
    }
    return { range: i2 = e21 };
  });
  return i2 || n2(t2.update(o2, { scrollIntoView: true })), !i2;
} }];
function iR(e20, t2) {
  var n2 = false;
  return e20.field(YN).between(0, e20.doc.length, function(e21) {
    e21 == t2 && (n2 = true);
  }), n2;
}
function oR(e20, t2) {
  var n2 = e20.sliceString(t2, t2 + 2);
  return n2.slice(0, YC(GC(n2, 0)));
}
function aR(e20, t2, n2, r2) {
  var i2 = null, o2 = e20.changeByRange(function(o3) {
    if (!o3.empty)
      return { changes: [{ insert: t2, from: o3.from }, { insert: n2, from: o3.to }], effects: KN.of(o3.to + t2.length), range: k_.range(o3.anchor + t2.length, o3.head + t2.length) };
    var a2 = oR(e20.doc, o3.head);
    return !a2 || /\s/.test(a2) || r2.indexOf(a2) > -1 ? { changes: { insert: t2 + n2, from: o3.head }, effects: KN.of(o3.head + t2.length), range: k_.cursor(o3.head + t2.length) } : { range: i2 = o3 };
  });
  return i2 ? null : e20.update(o2, { scrollIntoView: true, userEvent: "input.type" });
}
function sR(e20, t2, n2) {
  var r2 = null, i2 = e20.selection.ranges.map(function(t3) {
    return t3.empty && oR(e20.doc, t3.head) == n2 ? k_.cursor(t3.head + n2.length) : r2 = t3;
  });
  return r2 ? null : e20.update({ selection: k_.create(i2, e20.selection.mainIndex), scrollIntoView: true, effects: e20.selection.ranges.map(function(e21) {
    var t3 = e21.from;
    return GN.of(t3);
  }) });
}
function uR(e20, t2, n2) {
  var r2 = null, i2 = e20.changeByRange(function(i3) {
    if (!i3.empty)
      return { changes: [{ insert: t2, from: i3.from }, { insert: t2, from: i3.to }], effects: KN.of(i3.to + t2.length), range: k_.range(i3.anchor + t2.length, i3.head + t2.length) };
    var o2 = i3.head, a2 = oR(e20.doc, o2);
    if (a2 == t2) {
      if (cR(e20, o2))
        return { changes: { insert: t2 + t2, from: o2 }, effects: KN.of(o2 + t2.length), range: k_.cursor(o2 + t2.length) };
      if (iR(e20, o2)) {
        var s2 = n2 && e20.sliceDoc(o2, o2 + 3 * t2.length) == t2 + t2 + t2;
        return { range: k_.cursor(o2 + t2.length * (s2 ? 3 : 1)), effects: GN.of(o2) };
      }
    } else {
      if (n2 && e20.sliceDoc(o2 - 2 * t2.length, o2) == t2 + t2 && cR(e20, o2 - 2 * t2.length))
        return { changes: { insert: t2 + t2 + t2 + t2, from: o2 }, effects: KN.of(o2 + t2.length), range: k_.cursor(o2 + t2.length) };
      if (e20.charCategorizer(o2)(a2) != c$.Word) {
        var u2 = e20.sliceDoc(o2 - 1, o2);
        if (u2 != t2 && e20.charCategorizer(o2)(u2) != c$.Word && !function(e21, t3, n3) {
          for (var r3 = jT(e21).resolveInner(t3, -1), i4 = 0; i4 < 5; i4++) {
            if (e21.sliceDoc(r3.from, r3.from + n3.length) == n3)
              return true;
            var o3 = r3.to == t3 && r3.parent;
            if (!o3)
              break;
            r3 = o3;
          }
          return false;
        }(e20, o2, t2))
          return { changes: { insert: t2 + t2, from: o2 }, effects: KN.of(o2 + t2.length), range: k_.cursor(o2 + t2.length) };
      }
    }
    return { range: r2 = i3 };
  });
  return r2 ? null : e20.update(i2, { scrollIntoView: true, userEvent: "input.type" });
}
function cR(e20, t2) {
  var n2 = jT(e20).resolveInner(t2 + 1);
  return n2.parent && n2.from == t2;
}
var lR = C_.define({ combine: function(e20) {
  var t2, n2, r2, i2 = bi(e20);
  try {
    for (i2.s(); !(r2 = i2.n()).done; ) {
      var o2 = r2.value;
      t2 = t2 || o2.topContainer, n2 = n2 || o2.bottomContainer;
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  return { topContainer: t2, bottomContainer: n2 };
} });
function fR(e20, t2) {
  var n2 = e20.plugin(hR), r2 = n2 ? n2.specs.indexOf(t2) : -1;
  return r2 > -1 ? n2.panels[r2] : null;
}
var hR = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.input = t2.state.facet(mR), this.specs = this.input.filter(function(e21) {
      return e21;
    }), this.panels = this.specs.map(function(e21) {
      return e21(t2);
    });
    var n2 = t2.state.facet(lR);
    this.top = new dR(t2, true, n2.topContainer), this.bottom = new dR(t2, false, n2.bottomContainer), this.top.sync(this.panels.filter(function(e21) {
      return e21.top;
    })), this.bottom.sync(this.panels.filter(function(e21) {
      return !e21.top;
    }));
    var r2, i2 = bi(this.panels);
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value;
        o2.dom.classList.add("cm-panel"), o2.mount && o2.mount();
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = e21.state.facet(lR);
    this.top.container != t2.topContainer && (this.top.sync([]), this.top = new dR(e21.view, true, t2.topContainer)), this.bottom.container != t2.bottomContainer && (this.bottom.sync([]), this.bottom = new dR(e21.view, false, t2.bottomContainer)), this.top.syncClasses(), this.bottom.syncClasses();
    var n2 = e21.state.facet(mR);
    if (n2 != this.input) {
      var r2, i2 = n2.filter(function(e22) {
        return e22;
      }), o2 = [], a2 = [], s2 = [], u2 = [], c2 = bi(i2);
      try {
        for (c2.s(); !(r2 = c2.n()).done; ) {
          var l2 = r2.value, f2 = this.specs.indexOf(l2), h2 = void 0;
          f2 < 0 ? (h2 = l2(e21.view), u2.push(h2)) : (h2 = this.panels[f2]).update && h2.update(e21), o2.push(h2), (h2.top ? a2 : s2).push(h2);
        }
      } catch (e22) {
        c2.e(e22);
      } finally {
        c2.f();
      }
      this.specs = i2, this.panels = o2, this.top.sync(a2), this.bottom.sync(s2);
      for (var d2 = 0, v2 = u2; d2 < v2.length; d2++) {
        var p2 = v2[d2];
        p2.dom.classList.add("cm-panel"), p2.mount && p2.mount();
      }
    } else {
      var m2, g2 = bi(this.panels);
      try {
        for (g2.s(); !(m2 = g2.n()).done; ) {
          var y2 = m2.value;
          y2.update && y2.update(e21);
        }
      } catch (e22) {
        g2.e(e22);
      } finally {
        g2.f();
      }
    }
  } }, { key: "destroy", value: function() {
    this.top.sync([]), this.bottom.sync([]);
  } }]), e20;
}(), { provide: yP.scrollMargins.from(function(e20) {
  return { top: e20.top.scrollMargin(), bottom: e20.bottom.scrollMargin() };
}) }), dR = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.view = t2, this.top = n2, this.container = r2, this.dom = void 0, this.classes = "", this.panels = [], this.syncClasses();
  }
  return Li(e20, [{ key: "sync", value: function(e21) {
    var t2, n2 = bi(this.panels);
    try {
      for (n2.s(); !(t2 = n2.n()).done; ) {
        var r2 = t2.value;
        r2.destroy && e21.indexOf(r2) < 0 && r2.destroy();
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
    this.panels = e21, this.syncDOM();
  } }, { key: "syncDOM", value: function() {
    if (this.panels.length != 0) {
      if (!this.dom) {
        this.dom = document.createElement("div"), this.dom.className = this.top ? "cm-panels cm-panels-top" : "cm-panels cm-panels-bottom", this.dom.style[this.top ? "top" : "bottom"] = "0";
        var e21 = this.container || this.view.dom;
        e21.insertBefore(this.dom, this.top ? e21.firstChild : null);
      }
      var t2, n2 = this.dom.firstChild, r2 = bi(this.panels);
      try {
        for (r2.s(); !(t2 = r2.n()).done; ) {
          var i2 = t2.value;
          if (i2.dom.parentNode == this.dom) {
            for (; n2 != i2.dom; )
              n2 = vR(n2);
            n2 = n2.nextSibling;
          } else
            this.dom.insertBefore(i2.dom, n2);
        }
      } catch (e22) {
        r2.e(e22);
      } finally {
        r2.f();
      }
      for (; n2; )
        n2 = vR(n2);
    } else
      this.dom && (this.dom.remove(), this.dom = void 0);
  } }, { key: "scrollMargin", value: function() {
    return !this.dom || this.container ? 0 : Math.max(0, this.top ? this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) : Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);
  } }, { key: "syncClasses", value: function() {
    if (this.container && this.classes != this.view.themeClasses) {
      var e21, t2 = bi(this.classes.split(" "));
      try {
        for (t2.s(); !(e21 = t2.n()).done; ) {
          var n2 = e21.value;
          n2 && this.container.classList.remove(n2);
        }
      } catch (e22) {
        t2.e(e22);
      } finally {
        t2.f();
      }
      var r2, i2 = bi((this.classes = this.view.themeClasses).split(" "));
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          var o2 = r2.value;
          o2 && this.container.classList.add(o2);
        }
      } catch (e22) {
        i2.e(e22);
      } finally {
        i2.f();
      }
    }
  } }]), e20;
}();
function vR(e20) {
  var t2 = e20.nextSibling;
  return e20.remove(), t2;
}
var pR = OE.baseTheme({ ".cm-panels": { boxSizing: "border-box", position: "sticky", left: 0, right: 0 }, "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" }, "&light .cm-panels-top": { borderBottom: "1px solid #ddd" }, "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" }, "&dark .cm-panels": { backgroundColor: "#333338", color: "white" } }), mR = C_.define({ enables: [hR, pR] });
function gR() {
  var e20 = arguments[0];
  typeof e20 == "string" && (e20 = document.createElement(e20));
  var t2 = 1, n2 = arguments[1];
  if (n2 && zi(n2) == "object" && n2.nodeType == null && !Array.isArray(n2)) {
    for (var r2 in n2)
      if (Object.prototype.hasOwnProperty.call(n2, r2)) {
        var i2 = n2[r2];
        typeof i2 == "string" ? e20.setAttribute(r2, i2) : i2 != null && (e20[r2] = i2);
      }
    t2++;
  }
  for (; t2 < arguments.length; t2++)
    yR(e20, arguments[t2]);
  return e20;
}
function yR(e20, t2) {
  if (typeof t2 == "string")
    e20.appendChild(document.createTextNode(t2));
  else if (t2 == null)
    ;
  else if (t2.nodeType != null)
    e20.appendChild(t2);
  else {
    if (!Array.isArray(t2))
      throw new RangeError("Unsupported child node: " + t2);
    for (var n2 = 0; n2 < t2.length; n2++)
      yR(e20, t2[n2]);
  }
}
var bR = typeof String.prototype.normalize == "function" ? function(e20) {
  return e20.normalize("NFKD");
} : function(e20) {
  return e20;
}, wR = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : t2.length, o2 = arguments.length > 4 ? arguments[4] : void 0;
    Ri(this, e20), this.value = { from: 0, to: 0 }, this.done = false, this.matches = [], this.buffer = "", this.bufferPos = 0, this.iter = t2.iterRange(r2, i2), this.bufferStart = r2, this.normalize = o2 ? function(e21) {
      return o2(bR(e21));
    } : bR, this.query = this.normalize(n2);
  }
  return Li(e20, [{ key: "peek", value: function() {
    if (this.bufferPos == this.buffer.length) {
      if (this.bufferStart += this.buffer.length, this.iter.next(), this.iter.done)
        return -1;
      this.bufferPos = 0, this.buffer = this.iter.value;
    }
    return GC(this.buffer, this.bufferPos);
  } }, { key: "next", value: function() {
    for (; this.matches.length; )
      this.matches.pop();
    return this.nextOverlapping();
  } }, { key: "nextOverlapping", value: function() {
    for (; ; ) {
      var e21 = this.peek();
      if (e21 < 0)
        return this.done = true, this;
      var t2 = QC(e21), n2 = this.bufferStart + this.bufferPos;
      this.bufferPos += YC(e21);
      for (var r2 = this.normalize(t2), i2 = 0, o2 = n2; ; i2++) {
        var a2 = r2.charCodeAt(i2), s2 = this.match(a2, o2);
        if (s2)
          return this.value = s2, this;
        if (i2 == r2.length - 1)
          break;
        o2 == n2 && i2 < t2.length && t2.charCodeAt(i2) == a2 && o2++;
      }
    }
  } }, { key: "match", value: function(e21, t2) {
    for (var n2 = null, r2 = 0; r2 < this.matches.length; r2 += 2) {
      var i2 = this.matches[r2], o2 = false;
      this.query.charCodeAt(i2) == e21 && (i2 == this.query.length - 1 ? n2 = { from: this.matches[r2 + 1], to: t2 + 1 } : (this.matches[r2]++, o2 = true)), o2 || (this.matches.splice(r2, 2), r2 -= 2);
    }
    return this.query.charCodeAt(0) == e21 && (this.query.length == 1 ? n2 = { from: t2, to: t2 + 1 } : this.matches.push(1, t2)), n2;
  } }]), e20;
}();
typeof Symbol != "undefined" && (wR.prototype[Symbol.iterator] = function() {
  return this;
});
var kR = { from: -1, to: -1, match: /.*/.exec("") }, jR = "gm" + (/x/.unicode == null ? "" : "u"), xR = function() {
  function e20(t2, n2, r2) {
    var i2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, o2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : t2.length;
    if (Ri(this, e20), this.to = o2, this.curLine = "", this.done = false, this.value = kR, /\\[sWDnr]|\n|\r|\[\^/.test(n2))
      return new _R(t2, n2, r2, i2, o2);
    this.re = new RegExp(n2, jR + ((r2 == null ? void 0 : r2.ignoreCase) ? "i" : "")), this.iter = t2.iter();
    var a2 = t2.lineAt(i2);
    this.curLineStart = a2.from, this.matchPos = i2, this.getLine(this.curLineStart);
  }
  return Li(e20, [{ key: "getLine", value: function(e21) {
    this.iter.next(e21), this.iter.lineBreak ? this.curLine = "" : (this.curLine = this.iter.value, this.curLineStart + this.curLine.length > this.to && (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)), this.iter.next());
  } }, { key: "nextLine", value: function() {
    this.curLineStart = this.curLineStart + this.curLine.length + 1, this.curLineStart > this.to ? this.curLine = "" : this.getLine(0);
  } }, { key: "next", value: function() {
    for (var e21 = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = e21;
      var t2 = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (t2) {
        var n2 = this.curLineStart + t2.index, r2 = n2 + t2[0].length;
        if (this.matchPos = r2 + (n2 == r2 ? 1 : 0), n2 == this.curLine.length && this.nextLine(), n2 < r2 || n2 > this.value.to)
          return this.value = { from: n2, to: r2, match: t2 }, this;
        e21 = this.matchPos - this.curLineStart;
      } else {
        if (!(this.curLineStart + this.curLine.length < this.to))
          return this.done = true, this;
        this.nextLine(), e21 = 0;
      }
    }
  } }]), e20;
}(), SR = /* @__PURE__ */ new WeakMap(), CR = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.from = t2, this.text = n2;
  }
  return Li(e20, [{ key: "to", get: function() {
    return this.from + this.text.length;
  } }], [{ key: "get", value: function(t2, n2, r2) {
    var i2 = SR.get(t2);
    if (!i2 || i2.from >= r2 || i2.to <= n2) {
      var o2 = new e20(n2, t2.sliceString(n2, r2));
      return SR.set(t2, o2), o2;
    }
    if (i2.from == n2 && i2.to == r2)
      return i2;
    var a2 = i2.text, s2 = i2.from;
    return s2 > n2 && (a2 = t2.sliceString(n2, s2) + a2, s2 = n2), i2.to < r2 && (a2 += t2.sliceString(i2.to, r2)), SR.set(t2, new e20(s2, a2)), new e20(n2, a2.slice(n2 - s2, r2 - s2));
  } }]), e20;
}(), _R = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.text = t2, this.to = o2, this.done = false, this.value = kR, this.matchPos = i2, this.re = new RegExp(n2, jR + ((r2 == null ? void 0 : r2.ignoreCase) ? "i" : "")), this.flat = CR.get(t2, i2, this.chunkEnd(i2 + 5e3));
  }
  return Li(e20, [{ key: "chunkEnd", value: function(e21) {
    return e21 >= this.to ? this.to : this.text.lineAt(e21).to;
  } }, { key: "next", value: function() {
    for (; ; ) {
      var e21 = this.re.lastIndex = this.matchPos - this.flat.from, t2 = this.re.exec(this.flat.text);
      if (t2 && !t2[0] && t2.index == e21 && (this.re.lastIndex = e21 + 1, t2 = this.re.exec(this.flat.text)), t2 && this.flat.to < this.to && t2.index + t2[0].length > this.flat.text.length - 10 && (t2 = null), t2) {
        var n2 = this.flat.from + t2.index, r2 = n2 + t2[0].length;
        return this.value = { from: n2, to: r2, match: t2 }, this.matchPos = r2 + (n2 == r2 ? 1 : 0), this;
      }
      if (this.flat.to == this.to)
        return this.done = true, this;
      this.flat = CR.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + 2 * this.flat.text.length));
    }
  } }]), e20;
}();
function $R(e20) {
  var t2 = gR("input", { class: "cm-textfield", name: "line" });
  function n2() {
    var n3 = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t2.value);
    if (n3) {
      var r2 = e20.state, i2 = r2.doc.lineAt(r2.selection.main.head), o2 = ji(n3, 5), a2 = o2[1], s2 = o2[2], u2 = o2[3], c2 = o2[4], l2 = u2 ? +u2.slice(1) : 0, f2 = s2 ? +s2 : i2.number;
      if (s2 && c2) {
        var h2 = f2 / 100;
        a2 && (h2 = h2 * (a2 == "-" ? -1 : 1) + i2.number / r2.doc.lines), f2 = Math.round(r2.doc.lines * h2);
      } else
        s2 && a2 && (f2 = f2 * (a2 == "-" ? -1 : 1) + i2.number);
      var d2 = r2.doc.line(Math.max(1, Math.min(r2.doc.lines, f2)));
      e20.dispatch({ effects: OR.of(false), selection: k_.cursor(d2.from + Math.max(0, Math.min(l2, d2.length))), scrollIntoView: true }), e20.focus();
    }
  }
  return { dom: gR("form", { class: "cm-gotoLine", onkeydown: function(t3) {
    t3.keyCode == 27 ? (t3.preventDefault(), e20.dispatch({ effects: OR.of(false) }), e20.focus()) : t3.keyCode == 13 && (t3.preventDefault(), n2());
  }, onsubmit: function(e21) {
    e21.preventDefault(), n2();
  } }, gR("label", e20.state.phrase("Go to line"), ": ", t2), " ", gR("button", { class: "cm-button", type: "submit" }, e20.state.phrase("go"))), pos: -10 };
}
typeof Symbol != "undefined" && (xR.prototype[Symbol.iterator] = _R.prototype[Symbol.iterator] = function() {
  return this;
});
var OR = e$.define(), PR = A_.define({ create: function() {
  return true;
}, update: function(e20, t2) {
  var n2, r2 = bi(t2.effects);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = n2.value;
      i2.is(OR) && (e20 = i2.value);
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return e20;
}, provide: function(e20) {
  return mR.from(e20, function(e21) {
    return e21 ? $R : null;
  });
} }), AR = OE.baseTheme({ ".cm-panel.cm-gotoLine": { padding: "2px 6px 4px", "& label": { fontSize: "80%" } } }), ER = { highlightWordAroundCursor: false, minSelectionLength: 1, maxMatches: 100, wholeWords: true }, MR = C_.define({ combine: function(e20) {
  return d$(e20, ER, { highlightWordAroundCursor: function(e21, t2) {
    return e21 || t2;
  }, minSelectionLength: Math.min, maxMatches: Math.min });
} });
function TR(e20) {
  var t2 = [LR, DR];
  return e20 && t2.push(MR.of(e20)), t2;
}
var IR = JO.mark({ class: "cm-selectionMatch" }), NR = JO.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function RR(e20, t2, n2, r2) {
  return !(n2 != 0 && e20(t2.sliceDoc(n2 - 1, n2)) == c$.Word || r2 != t2.doc.length && e20(t2.sliceDoc(r2, r2 + 1)) == c$.Word);
}
var DR = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.decorations = this.getDeco(t2);
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    (e21.selectionSet || e21.docChanged || e21.viewportChanged) && (this.decorations = this.getDeco(e21.view));
  } }, { key: "getDeco", value: function(e21) {
    var t2 = e21.state.facet(MR), n2 = e21.state, r2 = n2.selection;
    if (r2.ranges.length > 1)
      return JO.none;
    var i2, o2 = r2.main, a2 = null;
    if (o2.empty) {
      if (!t2.highlightWordAroundCursor)
        return JO.none;
      var s2 = n2.wordAt(o2.head);
      if (!s2)
        return JO.none;
      a2 = n2.charCategorizer(o2.head), i2 = n2.sliceDoc(s2.from, s2.to);
    } else {
      var u2 = o2.to - o2.from;
      if (u2 < t2.minSelectionLength || u2 > 200)
        return JO.none;
      if (t2.wholeWords) {
        if (i2 = n2.sliceDoc(o2.from, o2.to), !RR(a2 = n2.charCategorizer(o2.head), n2, o2.from, o2.to) || !function(e22, t3, n3, r3) {
          return e22(t3.sliceDoc(n3, n3 + 1)) == c$.Word && e22(t3.sliceDoc(r3 - 1, r3)) == c$.Word;
        }(a2, n2, o2.from, o2.to))
          return JO.none;
      } else if (!(i2 = n2.sliceDoc(o2.from, o2.to).trim()))
        return JO.none;
    }
    var c2, l2 = [], f2 = bi(e21.visibleRanges);
    try {
      for (f2.s(); !(c2 = f2.n()).done; )
        for (var h2 = c2.value, d2 = new wR(n2.doc, i2, h2.from, h2.to); !d2.next().done; ) {
          var v2 = d2.value, p2 = v2.from, m2 = v2.to;
          if ((!a2 || RR(a2, n2, p2, m2)) && (o2.empty && p2 <= o2.from && m2 >= o2.to ? l2.push(NR.range(p2, m2)) : (p2 >= o2.to || m2 <= o2.from) && l2.push(IR.range(p2, m2)), l2.length > t2.maxMatches))
            return JO.none;
        }
    } catch (e22) {
      f2.e(e22);
    } finally {
      f2.f();
    }
    return JO.set(l2);
  } }]), e20;
}(), { decorations: function(e20) {
  return e20.decorations;
} }), LR = OE.baseTheme({ ".cm-selectionMatch": { backgroundColor: "#99ff7780" }, ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" } });
var zR = C_.define({ combine: function(e20) {
  var t2;
  return { top: e20.reduce(function(e21, t3) {
    return e21 != null ? e21 : t3.top;
  }, void 0) || false, caseSensitive: e20.reduce(function(e21, t3) {
    return e21 != null ? e21 : t3.caseSensitive || t3.matchCase;
  }, void 0) || false, createPanel: ((t2 = e20.find(function(e21) {
    return e21.createPanel;
  })) === null || t2 === void 0 ? void 0 : t2.createPanel) || function(e21) {
    return new fD(e21);
  } };
} });
function BR(e20) {
  return e20 ? [zR.of(e20), mD] : mD;
}
var qR = function() {
  function e20(t2) {
    Ri(this, e20), this.search = t2.search, this.caseSensitive = !!t2.caseSensitive, this.regexp = !!t2.regexp, this.replace = t2.replace || "", this.valid = !!this.search && (!this.regexp || function(e21) {
      try {
        return new RegExp(e21, jR), true;
      } catch (e22) {
        return false;
      }
    }(this.search)), this.unquoted = this.search.replace(/\\([nrt\\])/g, function(e21, t3) {
      return t3 == "n" ? "\n" : t3 == "r" ? "\r" : t3 == "t" ? "	" : "\\";
    });
  }
  return Li(e20, [{ key: "eq", value: function(e21) {
    return this.search == e21.search && this.replace == e21.replace && this.caseSensitive == e21.caseSensitive && this.regexp == e21.regexp;
  } }, { key: "create", value: function() {
    return this.regexp ? new UR(this) : new HR(this);
  } }, { key: "getCursor", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e21.length;
    return this.regexp ? WR(this, e21, t2, n2) : VR(this, e21, t2, n2);
  } }]), e20;
}(), FR = Li(function e11(t2) {
  Ri(this, e11), this.spec = t2;
});
function VR(e20, t2, n2, r2) {
  return new wR(t2, e20.unquoted, n2, r2, e20.caseSensitive ? void 0 : function(e21) {
    return e21.toLowerCase();
  });
}
var HR = function(e20) {
  xi(n2, FR);
  var t2 = Ci(n2);
  function n2(e21) {
    return Ri(this, n2), t2.call(this, e21);
  }
  return Li(n2, [{ key: "nextMatch", value: function(e21, t3, n3) {
    var r2 = VR(this.spec, e21, n3, e21.length).nextOverlapping();
    return r2.done && (r2 = VR(this.spec, e21, 0, t3).nextOverlapping()), r2.done ? null : r2.value;
  } }, { key: "prevMatchInRange", value: function(e21, t3, n3) {
    for (var r2 = n3; ; ) {
      for (var i2 = Math.max(t3, r2 - 1e4 - this.spec.unquoted.length), o2 = VR(this.spec, e21, i2, r2), a2 = null; !o2.nextOverlapping().done; )
        a2 = o2.value;
      if (a2)
        return a2;
      if (i2 == t3)
        return null;
      r2 -= 1e4;
    }
  } }, { key: "prevMatch", value: function(e21, t3, n3) {
    return this.prevMatchInRange(e21, 0, t3) || this.prevMatchInRange(e21, n3, e21.length);
  } }, { key: "getReplacement", value: function(e21) {
    return this.spec.replace;
  } }, { key: "matchAll", value: function(e21, t3) {
    for (var n3 = VR(this.spec, e21, 0, e21.length), r2 = []; !n3.next().done; ) {
      if (r2.length >= t3)
        return null;
      r2.push(n3.value);
    }
    return r2;
  } }, { key: "highlight", value: function(e21, t3, n3, r2) {
    for (var i2 = VR(this.spec, e21, Math.max(0, t3 - this.spec.unquoted.length), Math.min(n3 + this.spec.unquoted.length, e21.length)); !i2.next().done; )
      r2(i2.value.from, i2.value.to);
  } }]), n2;
}();
function WR(e20, t2, n2, r2) {
  return new xR(t2, e20.search, e20.caseSensitive ? void 0 : { ignoreCase: true }, n2, r2);
}
var UR = function(e20) {
  xi(n2, FR);
  var t2 = Ci(n2);
  function n2() {
    return Ri(this, n2), t2.apply(this, arguments);
  }
  return Li(n2, [{ key: "nextMatch", value: function(e21, t3, n3) {
    var r2 = WR(this.spec, e21, n3, e21.length).next();
    return r2.done && (r2 = WR(this.spec, e21, 0, t3).next()), r2.done ? null : r2.value;
  } }, { key: "prevMatchInRange", value: function(e21, t3, n3) {
    for (var r2 = 1; ; r2++) {
      for (var i2 = Math.max(t3, n3 - 1e4 * r2), o2 = WR(this.spec, e21, i2, n3), a2 = null; !o2.next().done; )
        a2 = o2.value;
      if (a2 && (i2 == t3 || a2.from > i2 + 10))
        return a2;
      if (i2 == t3)
        return null;
    }
  } }, { key: "prevMatch", value: function(e21, t3, n3) {
    return this.prevMatchInRange(e21, 0, t3) || this.prevMatchInRange(e21, n3, e21.length);
  } }, { key: "getReplacement", value: function(e21) {
    return this.spec.replace.replace(/\$([$&\d+])/g, function(t3, n3) {
      return n3 == "$" ? "$" : n3 == "&" ? e21.match[0] : n3 != "0" && +n3 < e21.match.length ? e21.match[n3] : t3;
    });
  } }, { key: "matchAll", value: function(e21, t3) {
    for (var n3 = WR(this.spec, e21, 0, e21.length), r2 = []; !n3.next().done; ) {
      if (r2.length >= t3)
        return null;
      r2.push(n3.value);
    }
    return r2;
  } }, { key: "highlight", value: function(e21, t3, n3, r2) {
    for (var i2 = WR(this.spec, e21, Math.max(0, t3 - 250), Math.min(n3 + 250, e21.length)); !i2.next().done; )
      r2(i2.value.from, i2.value.to);
  } }]), n2;
}(), JR = e$.define(), KR = e$.define(), GR = A_.define({ create: function(e20) {
  return new QR(sD(e20).create(), null);
}, update: function(e20, t2) {
  var n2, r2 = bi(t2.effects);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = n2.value;
      i2.is(JR) ? e20 = new QR(i2.value.create(), e20.panel) : i2.is(KR) && (e20 = new QR(e20.query, i2.value ? aD : null));
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return e20;
}, provide: function(e20) {
  return mR.from(e20, function(e21) {
    return e21.panel;
  });
} }), QR = Li(function e12(t2, n2) {
  Ri(this, e12), this.query = t2, this.panel = n2;
}), YR = JO.mark({ class: "cm-searchMatch" }), ZR = JO.mark({ class: "cm-searchMatch cm-searchMatch-selected" }), XR = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.decorations = this.highlight(t2.state.field(GR));
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = e21.state.field(GR);
    (t2 != e21.startState.field(GR) || e21.docChanged || e21.selectionSet || e21.viewportChanged) && (this.decorations = this.highlight(t2));
  } }, { key: "highlight", value: function(e21) {
    var t2 = e21.query;
    if (!e21.panel || !t2.spec.valid)
      return JO.none;
    for (var n2 = this.view, r2 = new _$(), i2 = 0, o2 = n2.visibleRanges, a2 = o2.length; i2 < a2; i2++) {
      for (var s2 = o2[i2], u2 = s2.from, c2 = s2.to; i2 < a2 - 1 && c2 > o2[i2 + 1].from - 500; )
        c2 = o2[++i2].to;
      t2.highlight(n2.state.doc, u2, c2, function(e22, t3) {
        var i3 = n2.state.selection.ranges.some(function(n3) {
          return n3.from == e22 && n3.to == t3;
        });
        r2.add(e22, t3, i3 ? ZR : YR);
      });
    }
    return r2.finish();
  } }]), e20;
}(), { decorations: function(e20) {
  return e20.decorations;
} });
function eD(e20) {
  return function(t2) {
    var n2 = t2.state.field(GR, false);
    return n2 && n2.query.spec.valid ? e20(t2, n2) : uD(t2);
  };
}
var tD = eD(function(e20, t2) {
  var n2 = t2.query, r2 = e20.state.selection.main, i2 = r2.from, o2 = r2.to, a2 = n2.nextMatch(e20.state.doc, i2, o2);
  return !(!a2 || a2.from == i2 && a2.to == o2) && (e20.dispatch({ selection: { anchor: a2.from, head: a2.to }, scrollIntoView: true, effects: vD(e20, a2), userEvent: "select.search" }), true);
}), nD = eD(function(e20, t2) {
  var n2 = t2.query, r2 = e20.state, i2 = r2.selection.main, o2 = i2.from, a2 = i2.to, s2 = n2.prevMatch(r2.doc, o2, a2);
  return !!s2 && (e20.dispatch({ selection: { anchor: s2.from, head: s2.to }, scrollIntoView: true, effects: vD(e20, s2), userEvent: "select.search" }), true);
}), rD = eD(function(e20, t2) {
  var n2 = t2.query.matchAll(e20.state.doc, 1e3);
  return !(!n2 || !n2.length) && (e20.dispatch({ selection: k_.create(n2.map(function(e21) {
    return k_.range(e21.from, e21.to);
  })), userEvent: "select.search.matches" }), true);
}), iD = eD(function(e20, t2) {
  var n2 = t2.query, r2 = e20.state, i2 = r2.selection.main, o2 = i2.from, a2 = i2.to;
  if (r2.readOnly)
    return false;
  var s2 = n2.nextMatch(r2.doc, o2, o2);
  if (!s2)
    return false;
  var u2, c2, l2 = [];
  if (s2.from == o2 && s2.to == a2 && (c2 = r2.toText(n2.getReplacement(s2)), l2.push({ from: s2.from, to: s2.to, insert: c2 }), s2 = n2.nextMatch(r2.doc, s2.from, s2.to)), s2) {
    var f2 = l2.length == 0 || l2[0].from >= s2.to ? 0 : s2.to - s2.from - c2.length;
    u2 = { anchor: s2.from - f2, head: s2.to - f2 };
  }
  return e20.dispatch({ changes: l2, selection: u2, scrollIntoView: !!u2, effects: s2 ? vD(e20, s2) : void 0, userEvent: "input.replace" }), true;
}), oD = eD(function(e20, t2) {
  var n2 = t2.query;
  if (e20.state.readOnly)
    return false;
  var r2 = n2.matchAll(e20.state.doc, 1e9).map(function(e21) {
    return { from: e21.from, to: e21.to, insert: n2.getReplacement(e21) };
  });
  return !!r2.length && (e20.dispatch({ changes: r2, userEvent: "input.replace.all" }), true);
});
function aD(e20) {
  return e20.state.facet(zR).createPanel(e20);
}
function sD(e20, t2) {
  var n2, r2 = e20.selection.main, i2 = r2.empty || r2.to > r2.from + 100 ? "" : e20.sliceDoc(r2.from, r2.to), o2 = (n2 = t2 == null ? void 0 : t2.caseSensitive) !== null && n2 !== void 0 ? n2 : e20.facet(zR).caseSensitive;
  return t2 && !i2 ? t2 : new qR({ search: i2.replace(/\n/g, "\\n"), caseSensitive: o2 });
}
var uD = function(e20) {
  var t2 = e20.state.field(GR, false);
  if (t2 && t2.panel) {
    var n2 = fR(e20, aD);
    if (!n2)
      return false;
    var r2 = n2.dom.querySelector("[name=search]");
    if (r2 != e20.root.activeElement) {
      var i2 = sD(e20.state, t2.query.spec);
      i2.valid && e20.dispatch({ effects: JR.of(i2) }), r2.focus(), r2.select();
    }
  } else
    e20.dispatch({ effects: [KR.of(true), t2 ? JR.of(sD(e20.state, t2.query.spec)) : e$.appendConfig.of(mD)] });
  return true;
}, cD = function(e20) {
  var t2 = e20.state.field(GR, false);
  if (!t2 || !t2.panel)
    return false;
  var n2 = fR(e20, aD);
  return n2 && n2.dom.contains(e20.root.activeElement) && e20.focus(), e20.dispatch({ effects: KR.of(false) }), true;
}, lD = [{ key: "Mod-f", run: uD, scope: "editor search-panel" }, { key: "F3", run: tD, shift: nD, scope: "editor search-panel", preventDefault: true }, { key: "Mod-g", run: tD, shift: nD, scope: "editor search-panel", preventDefault: true }, { key: "Escape", run: cD, scope: "editor search-panel" }, { key: "Mod-Shift-l", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch, r2 = t2.selection;
  if (r2.ranges.length > 1 || r2.main.empty)
    return false;
  for (var i2 = r2.main, o2 = i2.from, a2 = i2.to, s2 = [], u2 = 0, c2 = new wR(t2.doc, t2.sliceDoc(o2, a2)); !c2.next().done; ) {
    if (s2.length > 1e3)
      return false;
    c2.value.from == o2 && (u2 = s2.length), s2.push(k_.range(c2.value.from, c2.value.to));
  }
  return n2(t2.update({ selection: k_.create(s2, u2), userEvent: "select.search.matches" })), true;
} }, { key: "Alt-g", run: function(e20) {
  var t2 = fR(e20, $R);
  if (!t2) {
    var n2 = [OR.of(true)];
    e20.state.field(PR, false) == null && n2.push(e$.appendConfig.of([PR, AR])), e20.dispatch({ effects: n2 }), t2 = fR(e20, $R);
  }
  return t2 && t2.dom.querySelector("input").focus(), true;
} }, { key: "Mod-d", run: function(e20) {
  var t2 = e20.state, n2 = e20.dispatch, r2 = t2.selection.ranges;
  if (r2.some(function(e21) {
    return e21.from === e21.to;
  }))
    return function(e21) {
      var t3 = e21.state, n3 = e21.dispatch, r3 = t3.selection, i3 = k_.create(r3.ranges.map(function(e22) {
        return t3.wordAt(e22.head) || k_.cursor(e22.head);
      }), r3.mainIndex);
      return !i3.eq(r3) && (n3(t3.update({ selection: i3 })), true);
    }({ state: t2, dispatch: n2 });
  var i2 = t2.sliceDoc(r2[0].from, r2[0].to);
  if (t2.selection.ranges.some(function(e21) {
    return t2.sliceDoc(e21.from, e21.to) != i2;
  }))
    return false;
  var o2 = function(e21, t3) {
    for (var n3 = e21.selection, r3 = n3.main, i3 = n3.ranges, o3 = e21.wordAt(r3.head), a2 = o3 && o3.from == r3.from && o3.to == r3.to, s2 = function(n4, r4) {
      if (r4.next(), !r4.done) {
        if (n4 && i3.some(function(e22) {
          return e22.from == r4.value.from;
        }))
          return c2 = r4, u2 = n4, "continue";
        if (a2) {
          var o4 = e21.wordAt(r4.value.from);
          if (!o4 || o4.from != r4.value.from || o4.to != r4.value.to)
            return c2 = r4, u2 = n4, "continue";
        }
        return u2 = n4, c2 = r4, { v: r4.value };
      }
      if (n4)
        return c2 = r4, u2 = n4, { v: null };
      r4 = new wR(e21.doc, t3, 0, Math.max(0, i3[i3.length - 1].from - 1)), u2 = n4 = true, c2 = r4;
    }, u2 = false, c2 = new wR(e21.doc, t3, i3[i3.length - 1].to); ; ) {
      var l2 = s2(u2, c2);
      if (l2 !== "continue" && zi(l2) === "object")
        return l2.v;
    }
  }(t2, i2);
  return !!o2 && (n2(t2.update({ selection: t2.selection.addRange(k_.range(o2.from, o2.to), false), effects: OE.scrollIntoView(o2.to) })), true);
}, preventDefault: true }], fD = function() {
  function e20(t2) {
    var n2 = this;
    Ri(this, e20), this.view = t2;
    var r2 = this.query = t2.state.field(GR).query.spec;
    function i2(e21, t3, n3) {
      return gR("button", { class: "cm-button", name: e21, onclick: t3, type: "button" }, n3);
    }
    this.commit = this.commit.bind(this), this.searchField = gR("input", { value: r2.search, placeholder: hD(t2, "Find"), "aria-label": hD(t2, "Find"), class: "cm-textfield", name: "search", onchange: this.commit, onkeyup: this.commit }), this.replaceField = gR("input", { value: r2.replace, placeholder: hD(t2, "Replace"), "aria-label": hD(t2, "Replace"), class: "cm-textfield", name: "replace", onchange: this.commit, onkeyup: this.commit }), this.caseField = gR("input", { type: "checkbox", name: "case", checked: r2.caseSensitive, onchange: this.commit }), this.reField = gR("input", { type: "checkbox", name: "re", checked: r2.regexp, onchange: this.commit }), this.dom = gR("div", { onkeydown: function(e21) {
      return n2.keydown(e21);
    }, class: "cm-search" }, [this.searchField, i2("next", function() {
      return tD(t2);
    }, [hD(t2, "next")]), i2("prev", function() {
      return nD(t2);
    }, [hD(t2, "previous")]), i2("select", function() {
      return rD(t2);
    }, [hD(t2, "all")]), gR("label", null, [this.caseField, hD(t2, "match case")]), gR("label", null, [this.reField, hD(t2, "regexp")])].concat(Ti(t2.state.readOnly ? [] : [gR("br"), this.replaceField, i2("replace", function() {
      return iD(t2);
    }, [hD(t2, "replace")]), i2("replaceAll", function() {
      return oD(t2);
    }, [hD(t2, "replace all")]), gR("button", { name: "close", onclick: function() {
      return cD(t2);
    }, "aria-label": hD(t2, "close"), type: "button" }, ["\xD7"])])));
  }
  return Li(e20, [{ key: "commit", value: function() {
    var e21 = new qR({ search: this.searchField.value, caseSensitive: this.caseField.checked, regexp: this.reField.checked, replace: this.replaceField.value });
    e21.eq(this.query) || (this.query = e21, this.view.dispatch({ effects: JR.of(e21) }));
  } }, { key: "keydown", value: function(e21) {
    var t2, n2, r2;
    t2 = this.view, n2 = e21, r2 = "search-panel", FE(BE(t2.state), n2, t2, r2) ? e21.preventDefault() : e21.keyCode == 13 && e21.target == this.searchField ? (e21.preventDefault(), (e21.shiftKey ? nD : tD)(this.view)) : e21.keyCode == 13 && e21.target == this.replaceField && (e21.preventDefault(), iD(this.view));
  } }, { key: "update", value: function(e21) {
    var t2, n2 = bi(e21.transactions);
    try {
      for (n2.s(); !(t2 = n2.n()).done; ) {
        var r2, i2 = bi(t2.value.effects);
        try {
          for (i2.s(); !(r2 = i2.n()).done; ) {
            var o2 = r2.value;
            o2.is(JR) && !o2.value.eq(this.query) && this.setQuery(o2.value);
          }
        } catch (e22) {
          i2.e(e22);
        } finally {
          i2.f();
        }
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
  } }, { key: "setQuery", value: function(e21) {
    this.query = e21, this.searchField.value = e21.search, this.replaceField.value = e21.replace, this.caseField.checked = e21.caseSensitive, this.reField.checked = e21.regexp;
  } }, { key: "mount", value: function() {
    this.searchField.select();
  } }, { key: "pos", get: function() {
    return 80;
  } }, { key: "top", get: function() {
    return this.view.state.facet(zR).top;
  } }]), e20;
}();
function hD(e20, t2) {
  return e20.state.phrase(t2);
}
var dD = /[\s\.,:;?!]/;
function vD(e20, t2) {
  var n2 = t2.from, r2 = t2.to, i2 = e20.state.doc.lineAt(n2).from, o2 = e20.state.doc.lineAt(r2).to, a2 = Math.max(i2, n2 - 30), s2 = Math.min(o2, r2 + 30), u2 = e20.state.sliceDoc(a2, s2);
  if (a2 != i2) {
    for (var c2 = 0; c2 < 30; c2++)
      if (!dD.test(u2[c2 + 1]) && dD.test(u2[c2])) {
        u2 = u2.slice(c2);
        break;
      }
  }
  if (s2 != o2) {
    for (var l2 = u2.length - 1; l2 > u2.length - 30; l2--)
      if (!dD.test(u2[l2 - 1]) && dD.test(u2[l2])) {
        u2 = u2.slice(0, l2);
        break;
      }
  }
  return OE.announce.of("".concat(e20.state.phrase("current match"), ". ").concat(u2, " ").concat(e20.state.phrase("on line"), " ").concat(e20.state.doc.lineAt(n2).number));
}
var pD = OE.baseTheme({ ".cm-panel.cm-search": { padding: "2px 6px 4px", position: "relative", "& [name=close]": { position: "absolute", top: "0", right: "4px", backgroundColor: "inherit", border: "none", font: "inherit", padding: 0, margin: 0 }, "& input, & button, & label": { margin: ".2em .6em .2em 0" }, "& input[type=checkbox]": { marginRight: ".2em" }, "& label": { fontSize: "80%", whiteSpace: "pre" } }, "&light .cm-searchMatch": { backgroundColor: "#ffff0054" }, "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" }, "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" }, "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" } }), mD = [GR, D_.lowest(XR), pD], gD = typeof navigator != "undefined" && !/Edge\/(\d+)/.exec(navigator.userAgent) && /Apple Computer/.test(navigator.vendor) && (/Mobile\/\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2), yD = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.facet = n2, this.createTooltipView = r2, this.input = t2.state.facet(n2), this.tooltips = this.input.filter(function(e21) {
      return e21;
    }), this.tooltipViews = this.tooltips.map(r2);
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = e21.state.facet(this.facet), n2 = t2.filter(function(e22) {
      return e22;
    });
    if (t2 === this.input) {
      var r2, i2 = bi(this.tooltipViews);
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          var o2 = r2.value;
          o2.update && o2.update(e21);
        }
      } catch (e22) {
        i2.e(e22);
      } finally {
        i2.f();
      }
      return false;
    }
    for (var a2 = [], s2 = 0; s2 < n2.length; s2++) {
      var u2 = n2[s2], c2 = -1;
      if (u2) {
        for (var l2 = 0; l2 < this.tooltips.length; l2++) {
          var f2 = this.tooltips[l2];
          f2 && f2.create == u2.create && (c2 = l2);
        }
        if (c2 < 0)
          a2[s2] = this.createTooltipView(u2);
        else {
          var h2 = a2[s2] = this.tooltipViews[c2];
          h2.update && h2.update(e21);
        }
      }
    }
    var d2, v2 = bi(this.tooltipViews);
    try {
      for (v2.s(); !(d2 = v2.n()).done; ) {
        var p2 = d2.value;
        a2.indexOf(p2) < 0 && p2.dom.remove();
      }
    } catch (e22) {
      v2.e(e22);
    } finally {
      v2.f();
    }
    return this.input = t2, this.tooltips = n2, this.tooltipViews = a2, true;
  } }]), e20;
}();
function bD() {
  return { top: 0, left: 0, bottom: innerHeight, right: innerWidth };
}
var wD = C_.define({ combine: function(e20) {
  var t2, n2, r2;
  return { position: gD ? "absolute" : ((t2 = e20.find(function(e21) {
    return e21.position;
  })) === null || t2 === void 0 ? void 0 : t2.position) || "fixed", parent: ((n2 = e20.find(function(e21) {
    return e21.parent;
  })) === null || n2 === void 0 ? void 0 : n2.parent) || null, tooltipSpace: ((r2 = e20.find(function(e21) {
    return e21.tooltipSpace;
  })) === null || r2 === void 0 ? void 0 : r2.tooltipSpace) || bD };
} }), kD = kP.fromClass(function() {
  function e20(t2) {
    var n2, r2 = this;
    Ri(this, e20), this.view = t2, this.inView = true, this.lastTransaction = 0, this.measureTimeout = -1;
    var i2 = t2.state.facet(wD);
    this.position = i2.position, this.parent = i2.parent, this.classes = t2.themeClasses, this.createContainer(), this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this }, this.manager = new yD(t2, SD, function(e21) {
      return r2.createTooltip(e21);
    }), this.intersectionObserver = typeof IntersectionObserver == "function" ? new IntersectionObserver(function(e21) {
      Date.now() > r2.lastTransaction - 50 && e21.length > 0 && e21[e21.length - 1].intersectionRatio < 1 && r2.measureSoon();
    }, { threshold: [1] }) : null, this.observeIntersection(), (n2 = t2.dom.ownerDocument.defaultView) === null || n2 === void 0 || n2.addEventListener("resize", this.measureSoon = this.measureSoon.bind(this)), this.maybeMeasure();
  }
  return Li(e20, [{ key: "createContainer", value: function() {
    this.parent ? (this.container = document.createElement("div"), this.container.style.position = "relative", this.container.className = this.view.themeClasses, this.parent.appendChild(this.container)) : this.container = this.view.dom;
  } }, { key: "observeIntersection", value: function() {
    if (this.intersectionObserver) {
      this.intersectionObserver.disconnect();
      var e21, t2 = bi(this.manager.tooltipViews);
      try {
        for (t2.s(); !(e21 = t2.n()).done; ) {
          var n2 = e21.value;
          this.intersectionObserver.observe(n2.dom);
        }
      } catch (e22) {
        t2.e(e22);
      } finally {
        t2.f();
      }
    }
  } }, { key: "measureSoon", value: function() {
    var e21 = this;
    this.measureTimeout < 0 && (this.measureTimeout = setTimeout(function() {
      e21.measureTimeout = -1, e21.maybeMeasure();
    }, 50));
  } }, { key: "update", value: function(e21) {
    e21.transactions.length && (this.lastTransaction = Date.now());
    var t2 = this.manager.update(e21);
    t2 && this.observeIntersection();
    var n2 = t2 || e21.geometryChanged, r2 = e21.state.facet(wD);
    if (r2.position != this.position) {
      this.position = r2.position;
      var i2, o2 = bi(this.manager.tooltipViews);
      try {
        for (o2.s(); !(i2 = o2.n()).done; ) {
          i2.value.dom.style.position = this.position;
        }
      } catch (e22) {
        o2.e(e22);
      } finally {
        o2.f();
      }
      n2 = true;
    }
    if (r2.parent != this.parent) {
      this.parent && this.container.remove(), this.parent = r2.parent, this.createContainer();
      var a2, s2 = bi(this.manager.tooltipViews);
      try {
        for (s2.s(); !(a2 = s2.n()).done; ) {
          var u2 = a2.value;
          this.container.appendChild(u2.dom);
        }
      } catch (e22) {
        s2.e(e22);
      } finally {
        s2.f();
      }
      n2 = true;
    } else
      this.parent && this.view.themeClasses != this.classes && (this.classes = this.container.className = this.view.themeClasses);
    n2 && this.maybeMeasure();
  } }, { key: "createTooltip", value: function(e21) {
    var t2 = e21.create(this.view);
    if (t2.dom.classList.add("cm-tooltip"), e21.arrow && !t2.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")) {
      var n2 = document.createElement("div");
      n2.className = "cm-tooltip-arrow", t2.dom.appendChild(n2);
    }
    return t2.dom.style.position = this.position, t2.dom.style.top = "-10000px", this.container.appendChild(t2.dom), t2.mount && t2.mount(this.view), t2;
  } }, { key: "destroy", value: function() {
    var e21, t2;
    (e21 = this.view.dom.ownerDocument.defaultView) === null || e21 === void 0 || e21.removeEventListener("resize", this.measureSoon);
    var n2, r2 = bi(this.manager.tooltipViews);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        n2.value.dom.remove();
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    (t2 = this.intersectionObserver) === null || t2 === void 0 || t2.disconnect(), clearTimeout(this.measureTimeout);
  } }, { key: "readMeasure", value: function() {
    var e21 = this, t2 = this.view.dom.getBoundingClientRect();
    return { editor: t2, parent: this.parent ? this.container.getBoundingClientRect() : t2, pos: this.manager.tooltips.map(function(t3, n2) {
      var r2 = e21.manager.tooltipViews[n2];
      return r2.getCoords ? r2.getCoords(t3.pos) : e21.view.coordsAtPos(t3.pos);
    }), size: this.manager.tooltipViews.map(function(e22) {
      return e22.dom.getBoundingClientRect();
    }), space: this.view.state.facet(wD).tooltipSpace(this.view) };
  } }, { key: "writeMeasure", value: function(e21) {
    for (var t2 = e21.editor, n2 = e21.space, r2 = [], i2 = 0; i2 < this.manager.tooltips.length; i2++) {
      var o2 = this.manager.tooltips[i2], a2 = this.manager.tooltipViews[i2], s2 = a2.dom, u2 = e21.pos[i2], c2 = e21.size[i2];
      if (!u2 || u2.bottom <= Math.max(t2.top, n2.top) || u2.top >= Math.min(t2.bottom, n2.bottom) || u2.right < Math.max(t2.left, n2.left) - 0.1 || u2.left > Math.min(t2.right, n2.right) + 0.1)
        s2.style.top = "-10000px";
      else {
        var l2 = o2.arrow ? a2.dom.querySelector(".cm-tooltip-arrow") : null, f2 = l2 ? 7 : 0, h2 = c2.right - c2.left, d2 = c2.bottom - c2.top, v2 = a2.offset || xD, p2 = this.view.textDirection == AP.LTR, m2 = c2.width > n2.right - n2.left ? p2 ? n2.left : n2.right - c2.width : p2 ? Math.min(u2.left - (l2 ? 14 : 0) + v2.x, n2.right - h2) : Math.max(n2.left, u2.left - h2 + (l2 ? 14 : 0) - v2.x), g2 = !!o2.above;
        !o2.strictSide && (g2 ? u2.top - (c2.bottom - c2.top) - v2.y < n2.top : u2.bottom + (c2.bottom - c2.top) + v2.y > n2.bottom) && g2 == n2.bottom - u2.bottom > u2.top - n2.top && (g2 = !g2);
        var y2 = g2 ? u2.top - d2 - f2 - v2.y : u2.bottom + f2 + v2.y, b2 = m2 + h2;
        if (a2.overlap !== true) {
          var w2, k2 = bi(r2);
          try {
            for (k2.s(); !(w2 = k2.n()).done; ) {
              var j2 = w2.value;
              j2.left < b2 && j2.right > m2 && j2.top < y2 + d2 && j2.bottom > y2 && (y2 = g2 ? j2.top - d2 - 2 - f2 : j2.bottom + f2 + 2);
            }
          } catch (e22) {
            k2.e(e22);
          } finally {
            k2.f();
          }
        }
        this.position == "absolute" ? (s2.style.top = y2 - e21.parent.top + "px", s2.style.left = m2 - e21.parent.left + "px") : (s2.style.top = y2 + "px", s2.style.left = m2 + "px"), l2 && (l2.style.left = "".concat(u2.left + (p2 ? v2.x : -v2.x) - (m2 + 14 - 7), "px")), a2.overlap !== true && r2.push({ left: m2, top: y2, right: b2, bottom: y2 + d2 }), s2.classList.toggle("cm-tooltip-above", g2), s2.classList.toggle("cm-tooltip-below", !g2), a2.positioned && a2.positioned();
      }
    }
  } }, { key: "maybeMeasure", value: function() {
    if (this.manager.tooltips.length && (this.view.inView && this.view.requestMeasure(this.measureReq), this.inView != this.view.inView && (this.inView = this.view.inView, !this.inView))) {
      var e21, t2 = bi(this.manager.tooltipViews);
      try {
        for (t2.s(); !(e21 = t2.n()).done; ) {
          e21.value.dom.style.top = "-10000px";
        }
      } catch (e22) {
        t2.e(e22);
      } finally {
        t2.f();
      }
    }
  } }]), e20;
}(), { eventHandlers: { scroll: function() {
  this.maybeMeasure();
} } }), jD = OE.baseTheme({ ".cm-tooltip": { zIndex: 100 }, "&light .cm-tooltip": { border: "1px solid #bbb", backgroundColor: "#f5f5f5" }, "&light .cm-tooltip-section:not(:first-child)": { borderTop: "1px solid #bbb" }, "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" }, ".cm-tooltip-arrow": { height: "".concat(7, "px"), width: "".concat(14, "px"), position: "absolute", zIndex: -1, overflow: "hidden", "&:before, &:after": { content: "''", position: "absolute", width: 0, height: 0, borderLeft: "".concat(7, "px solid transparent"), borderRight: "".concat(7, "px solid transparent") }, ".cm-tooltip-above &": { bottom: "-".concat(7, "px"), "&:before": { borderTop: "".concat(7, "px solid #bbb") }, "&:after": { borderTop: "".concat(7, "px solid #f5f5f5"), bottom: "1px" } }, ".cm-tooltip-below &": { top: "-".concat(7, "px"), "&:before": { borderBottom: "".concat(7, "px solid #bbb") }, "&:after": { borderBottom: "".concat(7, "px solid #f5f5f5"), top: "1px" } } }, "&dark .cm-tooltip .cm-tooltip-arrow": { "&:before": { borderTopColor: "#333338", borderBottomColor: "#333338" }, "&:after": { borderTopColor: "transparent", borderBottomColor: "transparent" } } }), xD = { x: 0, y: 0 }, SD = C_.define({ enables: [kD, jD] }), CD = C_.define(), _D = function() {
  function e20(t2) {
    var n2 = this;
    Ri(this, e20), this.view = t2, this.mounted = false, this.dom = document.createElement("div"), this.dom.classList.add("cm-tooltip-hover"), this.manager = new yD(t2, CD, function(e21) {
      return n2.createHostedView(e21);
    });
  }
  return Li(e20, [{ key: "createHostedView", value: function(e21) {
    var t2 = e21.create(this.view);
    return t2.dom.classList.add("cm-tooltip-section"), this.dom.appendChild(t2.dom), this.mounted && t2.mount && t2.mount(this.view), t2;
  } }, { key: "mount", value: function(e21) {
    var t2, n2 = bi(this.manager.tooltipViews);
    try {
      for (n2.s(); !(t2 = n2.n()).done; ) {
        var r2 = t2.value;
        r2.mount && r2.mount(e21);
      }
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
    this.mounted = true;
  } }, { key: "positioned", value: function() {
    var e21, t2 = bi(this.manager.tooltipViews);
    try {
      for (t2.s(); !(e21 = t2.n()).done; ) {
        var n2 = e21.value;
        n2.positioned && n2.positioned();
      }
    } catch (e22) {
      t2.e(e22);
    } finally {
      t2.f();
    }
  } }, { key: "update", value: function(e21) {
    this.manager.update(e21);
  } }], [{ key: "create", value: function(t2) {
    return new e20(t2);
  } }]), e20;
}(), $D = SD.compute([CD], function(e20) {
  var t2 = e20.facet(CD).filter(function(e21) {
    return e21;
  });
  return t2.length === 0 ? null : { pos: Math.min.apply(Math, Ti(t2.map(function(e21) {
    return e21.pos;
  }))), end: Math.max.apply(Math, Ti(t2.filter(function(e21) {
    return e21.end != null;
  }).map(function(e21) {
    return e21.end;
  }))), create: _D.create, above: t2[0].above, arrow: t2.some(function(e21) {
    return e21.arrow;
  }) };
}), OD = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.view = t2, this.source = n2, this.field = r2, this.setHover = i2, this.hoverTime = o2, this.hoverTimeout = -1, this.restartTimeout = -1, this.pending = null, this.lastMove = { x: 0, y: 0, target: t2.dom, time: 0 }, this.checkHover = this.checkHover.bind(this), t2.dom.addEventListener("mouseleave", this.mouseleave = this.mouseleave.bind(this)), t2.dom.addEventListener("mousemove", this.mousemove = this.mousemove.bind(this));
  }
  return Li(e20, [{ key: "update", value: function() {
    var e21 = this;
    this.pending && (this.pending = null, clearTimeout(this.restartTimeout), this.restartTimeout = setTimeout(function() {
      return e21.startHover();
    }, 20));
  } }, { key: "active", get: function() {
    return this.view.state.field(this.field);
  } }, { key: "checkHover", value: function() {
    if (this.hoverTimeout = -1, !this.active) {
      var e21 = Date.now() - this.lastMove.time;
      e21 < this.hoverTime ? this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e21) : this.startHover();
    }
  } }, { key: "startHover", value: function() {
    var e21, t2 = this;
    clearTimeout(this.restartTimeout);
    var n2 = this.lastMove, r2 = this.view.contentDOM.contains(n2.target) ? this.view.posAtCoords(n2) : null;
    if (r2 != null) {
      var i2 = this.view.coordsAtPos(r2);
      if (!(i2 == null || n2.y < i2.top || n2.y > i2.bottom || n2.x < i2.left - this.view.defaultCharacterWidth || n2.x > i2.right + this.view.defaultCharacterWidth)) {
        var o2 = this.view.bidiSpans(this.view.state.doc.lineAt(r2)).find(function(e22) {
          return e22.from <= r2 && e22.to >= r2;
        }), a2 = o2 && o2.dir == AP.RTL ? -1 : 1, s2 = this.source(this.view, r2, n2.x < i2.left ? -a2 : a2);
        if ((e21 = s2) === null || e21 === void 0 ? void 0 : e21.then) {
          var u2 = this.pending = { pos: r2 };
          s2.then(function(e22) {
            t2.pending == u2 && (t2.pending = null, e22 && t2.view.dispatch({ effects: t2.setHover.of(e22) }));
          }, function(e22) {
            return pP(t2.view.state, e22, "hover tooltip");
          });
        } else
          s2 && this.view.dispatch({ effects: this.setHover.of(s2) });
      }
    }
  } }, { key: "mousemove", value: function(e21) {
    var t2;
    this.lastMove = { x: e21.clientX, y: e21.clientY, target: e21.target, time: Date.now() }, this.hoverTimeout < 0 && (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
    var n2 = this.active;
    if (n2 && !function(e22) {
      for (var t3 = e22; t3; t3 = t3.parentNode)
        if (t3.nodeType == 1 && t3.classList.contains("cm-tooltip"))
          return true;
      return false;
    }(this.lastMove.target) || this.pending) {
      var r2 = (n2 || this.pending).pos, i2 = (t2 = n2 == null ? void 0 : n2.end) !== null && t2 !== void 0 ? t2 : r2;
      (r2 == i2 ? this.view.posAtCoords(this.lastMove) == r2 : function(e22, t3, n3, r3, i3, o2) {
        var a2 = document.createRange(), s2 = e22.domAtPos(t3), u2 = e22.domAtPos(n3);
        a2.setEnd(u2.node, u2.offset), a2.setStart(s2.node, s2.offset);
        var c2 = a2.getClientRects();
        a2.detach();
        for (var l2 = 0; l2 < c2.length; l2++) {
          var f2 = c2[l2];
          if (Math.max(f2.top - i3, i3 - f2.bottom, f2.left - r3, r3 - f2.right) <= o2)
            return true;
        }
        return false;
      }(this.view, r2, i2, e21.clientX, e21.clientY, 6)) || (this.view.dispatch({ effects: this.setHover.of(null) }), this.pending = null);
    }
  } }, { key: "mouseleave", value: function() {
    clearTimeout(this.hoverTimeout), this.hoverTimeout = -1, this.active && this.view.dispatch({ effects: this.setHover.of(null) });
  } }, { key: "destroy", value: function() {
    clearTimeout(this.hoverTimeout), this.view.dom.removeEventListener("mouseleave", this.mouseleave), this.view.dom.removeEventListener("mousemove", this.mousemove);
  } }]), e20;
}();
function PD(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n2 = e$.define(), r2 = A_.define({ create: function() {
    return null;
  }, update: function(e21, r3) {
    if (e21 && t2.hideOnChange && (r3.docChanged || r3.selection))
      return null;
    var i2, o2 = bi(r3.effects);
    try {
      for (o2.s(); !(i2 = o2.n()).done; ) {
        var a2 = i2.value;
        if (a2.is(n2))
          return a2.value;
        if (a2.is(ED))
          return null;
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    if (e21 && r3.docChanged) {
      var s2 = r3.changes.mapPos(e21.pos, -1, f_.TrackDel);
      if (s2 == null)
        return null;
      var u2 = Object.assign(/* @__PURE__ */ Object.create(null), e21);
      return u2.pos = s2, e21.end != null && (u2.end = r3.changes.mapPos(e21.end)), u2;
    }
    return e21;
  }, provide: function(e21) {
    return CD.from(e21);
  } });
  return [r2, kP.define(function(i2) {
    return new OD(i2, e20, r2, n2, t2.hoverTime || 300);
  }), $D];
}
function AD(e20, t2) {
  var n2 = e20.plugin(kD);
  if (!n2)
    return null;
  var r2 = n2.manager.tooltips.indexOf(t2);
  return r2 < 0 ? null : n2.manager.tooltipViews[r2];
}
var ED = e$.define(), MD = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.state = t2, this.pos = n2, this.explicit = r2, this.abortListeners = [];
  }
  return Li(e20, [{ key: "tokenBefore", value: function(e21) {
    for (var t2 = jT(this.state).resolveInner(this.pos, -1); t2 && e21.indexOf(t2.name) < 0; )
      t2 = t2.parent;
    return t2 ? { from: t2.from, to: this.pos, text: this.state.sliceDoc(t2.from, this.pos), type: t2.type } : null;
  } }, { key: "matchBefore", value: function(e21) {
    var t2 = this.state.doc.lineAt(this.pos), n2 = Math.max(t2.from, this.pos - 250), r2 = t2.text.slice(n2 - t2.from, this.pos - t2.from), i2 = r2.search(DD(e21, false));
    return i2 < 0 ? null : { from: n2 + i2, to: this.pos, text: r2.slice(i2) };
  } }, { key: "aborted", get: function() {
    return this.abortListeners == null;
  } }, { key: "addEventListener", value: function(e21, t2) {
    e21 == "abort" && this.abortListeners && this.abortListeners.push(t2);
  } }]), e20;
}();
function TD(e20) {
  var t2 = Object.keys(e20).join(""), n2 = /\w/.test(t2);
  return n2 && (t2 = t2.replace(/\w/g, "")), "[".concat(n2 ? "\\w" : "").concat(t2.replace(/[^\w\s]/g, "\\$&"), "]");
}
function ID(e20) {
  var t2 = e20.map(function(e21) {
    return typeof e21 == "string" ? { label: e21 } : e21;
  }), n2 = ji(t2.every(function(e21) {
    return /^\w+$/.test(e21.label);
  }) ? [/\w*$/, /\w+$/] : function(e21) {
    var t3, n3 = /* @__PURE__ */ Object.create(null), r3 = /* @__PURE__ */ Object.create(null), i3 = bi(e21);
    try {
      for (i3.s(); !(t3 = i3.n()).done; ) {
        var o2 = t3.value.label;
        n3[o2[0]] = true;
        for (var a2 = 1; a2 < o2.length; a2++)
          r3[o2[a2]] = true;
      }
    } catch (e22) {
      i3.e(e22);
    } finally {
      i3.f();
    }
    var s2 = TD(n3) + TD(r3) + "*$";
    return [new RegExp("^" + s2), new RegExp(s2)];
  }(t2), 2), r2 = n2[0], i2 = n2[1];
  return function(e21) {
    var n3 = e21.matchBefore(i2);
    return n3 || e21.explicit ? { from: n3 ? n3.from : e21.pos, options: t2, span: r2 } : null;
  };
}
var ND = Li(function e13(t2, n2, r2) {
  Ri(this, e13), this.completion = t2, this.source = n2, this.match = r2;
});
function RD(e20) {
  return e20.selection.main.head;
}
function DD(e20, t2) {
  var n2, r2 = e20.source, i2 = t2 && r2[0] != "^", o2 = r2[r2.length - 1] != "$";
  return i2 || o2 ? new RegExp("".concat(i2 ? "^" : "", "(?:").concat(r2, ")").concat(o2 ? "$" : ""), (n2 = e20.flags) !== null && n2 !== void 0 ? n2 : e20.ignoreCase ? "i" : "") : e20;
}
var LD = Y_.define();
function zD(e20, t2) {
  var n2 = t2.completion.apply || t2.completion.label, r2 = t2.source;
  typeof n2 == "string" ? e20.dispatch({ changes: { from: r2.from, to: r2.to, insert: n2 }, selection: { anchor: r2.from + n2.length }, userEvent: "input.complete", annotations: LD.of(t2.completion) }) : n2(e20, t2.completion, r2.from, r2.to);
}
var BD = /* @__PURE__ */ new WeakMap();
function qD(e20) {
  if (!Array.isArray(e20))
    return e20;
  var t2 = BD.get(e20);
  return t2 || BD.set(e20, t2 = ID(e20)), t2;
}
var FD = function() {
  function e20(t2) {
    Ri(this, e20), this.pattern = t2, this.chars = [], this.folded = [], this.any = [], this.precise = [], this.byWord = [];
    for (var n2 = 0; n2 < t2.length; ) {
      var r2 = GC(t2, n2), i2 = YC(r2);
      this.chars.push(r2);
      var o2 = t2.slice(n2, n2 + i2), a2 = o2.toUpperCase();
      this.folded.push(GC(a2 == o2 ? o2.toLowerCase() : a2, 0)), n2 += i2;
    }
    this.astral = t2.length != this.chars.length;
  }
  return Li(e20, [{ key: "match", value: function(e21) {
    if (this.pattern.length == 0)
      return [0];
    if (e21.length < this.pattern.length)
      return null;
    var t2 = this.chars, n2 = this.folded, r2 = this.any, i2 = this.precise, o2 = this.byWord;
    if (t2.length == 1) {
      var a2 = GC(e21, 0);
      return a2 == t2[0] ? [0, 0, YC(a2)] : a2 == n2[0] ? [-200, 0, YC(a2)] : null;
    }
    var s2 = e21.indexOf(this.pattern);
    if (s2 == 0)
      return [0, 0, this.pattern.length];
    var u2 = t2.length, c2 = 0;
    if (s2 < 0) {
      for (var l2 = 0, f2 = Math.min(e21.length, 200); l2 < f2 && c2 < u2; ) {
        var h2 = GC(e21, l2);
        h2 != t2[c2] && h2 != n2[c2] || (r2[c2++] = l2), l2 += YC(h2);
      }
      if (c2 < u2)
        return null;
    }
    for (var d2 = 0, v2 = 0, p2 = false, m2 = 0, g2 = -1, y2 = -1, b2 = /[a-z]/.test(e21), w2 = true, k2 = 0, j2 = Math.min(e21.length, 200), x2 = 0; k2 < j2 && v2 < u2; ) {
      var S2 = GC(e21, k2);
      s2 < 0 && (d2 < u2 && S2 == t2[d2] && (i2[d2++] = k2), m2 < u2 && (S2 == t2[m2] || S2 == n2[m2] ? (m2 == 0 && (g2 = k2), y2 = k2 + 1, m2++) : m2 = 0));
      var C2 = void 0, _2 = S2 < 255 ? S2 >= 48 && S2 <= 57 || S2 >= 97 && S2 <= 122 ? 2 : S2 >= 65 && S2 <= 90 ? 1 : 0 : (C2 = QC(S2)) != C2.toLowerCase() ? 1 : C2 != C2.toUpperCase() ? 2 : 0;
      (!k2 || _2 == 1 && b2 || x2 == 0 && _2 != 0) && (t2[v2] == S2 || n2[v2] == S2 && (p2 = true) ? o2[v2++] = k2 : o2.length && (w2 = false)), x2 = _2, k2 += YC(S2);
    }
    return v2 == u2 && o2[0] == 0 && w2 ? this.result((p2 ? -200 : 0) - 100, o2, e21) : m2 == u2 && g2 == 0 ? [-200 - e21.length, 0, y2] : s2 > -1 ? [-700 - e21.length, s2, s2 + this.pattern.length] : m2 == u2 ? [-900 - e21.length, g2, y2] : v2 == u2 ? this.result((p2 ? -200 : 0) - 100 - 700 + (w2 ? 0 : -1100), o2, e21) : t2.length == 2 ? null : this.result((r2[0] ? -700 : 0) - 200 - 1100, r2, e21);
  } }, { key: "result", value: function(e21, t2, n2) {
    var r2, i2 = [e21 - n2.length], o2 = 1, a2 = bi(t2);
    try {
      for (a2.s(); !(r2 = a2.n()).done; ) {
        var s2 = r2.value, u2 = s2 + (this.astral ? YC(GC(n2, s2)) : 1);
        o2 > 1 && i2[o2 - 1] == s2 ? i2[o2 - 1] = u2 : (i2[o2++] = s2, i2[o2++] = u2);
      }
    } catch (e22) {
      a2.e(e22);
    } finally {
      a2.f();
    }
    return i2;
  } }]), e20;
}(), VD = C_.define({ combine: function(e20) {
  return d$(e20, { activateOnTyping: true, override: null, maxRenderedOptions: 100, defaultKeymap: true, optionClass: function() {
    return "";
  }, aboveCursor: false, icons: true, addToOptions: [] }, { defaultKeymap: function(e21, t2) {
    return e21 && t2;
  }, icons: function(e21, t2) {
    return e21 && t2;
  }, optionClass: function(e21, t2) {
    return function(n2) {
      return function(e22, t3) {
        return e22 ? t3 ? e22 + " " + t3 : e22 : t3;
      }(e21(n2), t2(n2));
    };
  }, addToOptions: function(e21, t2) {
    return e21.concat(t2);
  } });
} });
function HD(e20, t2, n2) {
  if (e20 <= n2)
    return { from: 0, to: e20 };
  if (t2 <= e20 >> 1) {
    var r2 = Math.floor(t2 / n2);
    return { from: r2 * n2, to: (r2 + 1) * n2 };
  }
  var i2 = Math.floor((e20 - t2) / n2);
  return { from: e20 - (i2 + 1) * n2, to: e20 - i2 * n2 };
}
var WD = function() {
  function e20(t2, n2) {
    var r2 = this;
    Ri(this, e20), this.view = t2, this.stateField = n2, this.info = null, this.placeInfo = { read: function() {
      return r2.measureInfo();
    }, write: function(e21) {
      return r2.positionInfo(e21);
    }, key: this };
    var i2 = t2.state.field(n2), o2 = i2.open, a2 = o2.options, s2 = o2.selected, u2 = t2.state.facet(VD);
    this.optionContent = function(e21) {
      var t3 = e21.addToOptions.slice();
      return e21.icons && t3.push({ render: function(e22) {
        var t4, n3 = document.createElement("div");
        return n3.classList.add("cm-completionIcon"), e22.type && (t4 = n3.classList).add.apply(t4, Ti(e22.type.split(/\s+/g).map(function(e23) {
          return "cm-completionIcon-" + e23;
        }))), n3.setAttribute("aria-hidden", "true"), n3;
      }, position: 20 }), t3.push({ render: function(e22, t4, n3) {
        var r3 = document.createElement("span");
        r3.className = "cm-completionLabel";
        for (var i3 = e22.label, o3 = 0, a3 = 1; a3 < n3.length; ) {
          var s3 = n3[a3++], u3 = n3[a3++];
          s3 > o3 && r3.appendChild(document.createTextNode(i3.slice(o3, s3)));
          var c2 = r3.appendChild(document.createElement("span"));
          c2.appendChild(document.createTextNode(i3.slice(s3, u3))), c2.className = "cm-completionMatchedText", o3 = u3;
        }
        return o3 < i3.length && r3.appendChild(document.createTextNode(i3.slice(o3))), r3;
      }, position: 50 }, { render: function(e22) {
        if (!e22.detail)
          return null;
        var t4 = document.createElement("span");
        return t4.className = "cm-completionDetail", t4.textContent = e22.detail, t4;
      }, position: 80 }), t3.sort(function(e22, t4) {
        return e22.position - t4.position;
      }).map(function(e22) {
        return e22.render;
      });
    }(u2), this.optionClass = u2.optionClass, this.range = HD(a2.length, s2, u2.maxRenderedOptions), this.dom = document.createElement("div"), this.dom.className = "cm-tooltip-autocomplete", this.dom.addEventListener("mousedown", function(e21) {
      for (var n3, i3 = e21.target; i3 && i3 != r2.dom; i3 = i3.parentNode)
        if (i3.nodeName == "LI" && (n3 = /-(\d+)$/.exec(i3.id)) && +n3[1] < a2.length)
          return zD(t2, a2[+n3[1]]), void e21.preventDefault();
    }), this.list = this.dom.appendChild(this.createListBox(a2, i2.id, this.range)), this.list.addEventListener("scroll", function() {
      r2.info && r2.view.requestMeasure(r2.placeInfo);
    });
  }
  return Li(e20, [{ key: "mount", value: function() {
    this.updateSel();
  } }, { key: "update", value: function(e21) {
    e21.state.field(this.stateField) != e21.startState.field(this.stateField) && this.updateSel();
  } }, { key: "positioned", value: function() {
    this.info && this.view.requestMeasure(this.placeInfo);
  } }, { key: "updateSel", value: function() {
    var e21 = this, t2 = this.view.state.field(this.stateField), n2 = t2.open;
    if ((n2.selected < this.range.from || n2.selected >= this.range.to) && (this.range = HD(n2.options.length, n2.selected, this.view.state.facet(VD).maxRenderedOptions), this.list.remove(), this.list = this.dom.appendChild(this.createListBox(n2.options, t2.id, this.range)), this.list.addEventListener("scroll", function() {
      e21.info && e21.view.requestMeasure(e21.placeInfo);
    })), this.updateSelectedOption(n2.selected)) {
      this.info && (this.info.remove(), this.info = null);
      var r2 = n2.options[n2.selected].completion, i2 = r2.info;
      if (!i2)
        return;
      var o2 = typeof i2 == "string" ? document.createTextNode(i2) : i2(r2);
      if (!o2)
        return;
      "then" in o2 ? o2.then(function(n3) {
        n3 && e21.view.state.field(e21.stateField, false) == t2 && e21.addInfoPane(n3);
      }).catch(function(t3) {
        return pP(e21.view.state, t3, "completion info");
      }) : this.addInfoPane(o2);
    }
  } }, { key: "addInfoPane", value: function(e21) {
    var t2 = this.info = document.createElement("div");
    t2.className = "cm-tooltip cm-completionInfo", t2.appendChild(e21), this.dom.appendChild(t2), this.view.requestMeasure(this.placeInfo);
  } }, { key: "updateSelectedOption", value: function(e21) {
    for (var t2 = null, n2 = this.list.firstChild, r2 = this.range.from; n2; n2 = n2.nextSibling, r2++)
      r2 == e21 ? n2.hasAttribute("aria-selected") || (n2.setAttribute("aria-selected", "true"), t2 = n2) : n2.hasAttribute("aria-selected") && n2.removeAttribute("aria-selected");
    return t2 && function(e22, t3) {
      var n3 = e22.getBoundingClientRect(), r3 = t3.getBoundingClientRect();
      r3.top < n3.top ? e22.scrollTop -= n3.top - r3.top : r3.bottom > n3.bottom && (e22.scrollTop += r3.bottom - n3.bottom);
    }(this.list, t2), t2;
  } }, { key: "measureInfo", value: function() {
    var e21 = this.dom.querySelector("[aria-selected]");
    if (!e21 || !this.info)
      return null;
    var t2 = this.dom.getBoundingClientRect(), n2 = this.info.getBoundingClientRect(), r2 = e21.getBoundingClientRect();
    if (r2.top > Math.min(innerHeight, t2.bottom) - 10 || r2.bottom < Math.max(0, t2.top) + 10)
      return null;
    var i2 = Math.max(0, Math.min(r2.top, innerHeight - n2.height)) - t2.top, o2 = this.view.textDirection == AP.RTL, a2 = t2.left, s2 = innerWidth - t2.right;
    return o2 && a2 < Math.min(n2.width, s2) ? o2 = false : !o2 && s2 < Math.min(n2.width, a2) && (o2 = true), { top: i2, left: o2 };
  } }, { key: "positionInfo", value: function(e21) {
    this.info && (this.info.style.top = (e21 ? e21.top : -1e6) + "px", e21 && (this.info.classList.toggle("cm-completionInfo-left", e21.left), this.info.classList.toggle("cm-completionInfo-right", !e21.left)));
  } }, { key: "createListBox", value: function(e21, t2, n2) {
    var r2 = document.createElement("ul");
    r2.id = t2, r2.setAttribute("role", "listbox"), r2.setAttribute("aria-expanded", "true");
    for (var i2 = n2.from; i2 < n2.to; i2++) {
      var o2 = e21[i2], a2 = o2.completion, s2 = o2.match, u2 = r2.appendChild(document.createElement("li"));
      u2.id = t2 + "-" + i2, u2.setAttribute("role", "option");
      var c2 = this.optionClass(a2);
      c2 && (u2.className = c2);
      var l2, f2 = bi(this.optionContent);
      try {
        for (f2.s(); !(l2 = f2.n()).done; ) {
          var h2 = (0, l2.value)(a2, this.view.state, s2);
          h2 && u2.appendChild(h2);
        }
      } catch (e22) {
        f2.e(e22);
      } finally {
        f2.f();
      }
    }
    return n2.from && r2.classList.add("cm-completionListIncompleteTop"), n2.to < e21.length && r2.classList.add("cm-completionListIncompleteBottom"), r2;
  } }]), e20;
}();
function UD(e20) {
  return 100 * (e20.boost || 0) + (e20.apply ? 10 : 0) + (e20.info ? 5 : 0) + (e20.type ? 1 : 0);
}
var JD = function() {
  function e20(t2, n2, r2, i2, o2) {
    Ri(this, e20), this.options = t2, this.attrs = n2, this.tooltip = r2, this.timestamp = i2, this.selected = o2;
  }
  return Li(e20, [{ key: "setSelected", value: function(t2, n2) {
    return t2 == this.selected || t2 >= this.options.length ? this : new e20(this.options, QD(n2, t2), this.tooltip, this.timestamp, t2);
  } }, { key: "map", value: function(t2) {
    return new e20(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: t2.mapPos(this.tooltip.pos) }), this.timestamp, this.selected);
  } }], [{ key: "build", value: function(t2, n2, r2, i2, o2) {
    var a2 = function(e21, t3) {
      var n3, r3 = [], i3 = 0, o3 = bi(e21);
      try {
        for (o3.s(); !(n3 = o3.n()).done; ) {
          var a3 = n3.value;
          if (a3.hasResult())
            if (a3.result.filter === false) {
              var s3, u3 = bi(a3.result.options);
              try {
                for (u3.s(); !(s3 = u3.n()).done; ) {
                  var c3 = s3.value;
                  r3.push(new ND(c3, a3, [1e9 - i3++]));
                }
              } catch (e22) {
                u3.e(e22);
              } finally {
                u3.f();
              }
            } else {
              var l3, f2 = new FD(t3.sliceDoc(a3.from, a3.to)), h2 = void 0, d2 = bi(a3.result.options);
              try {
                for (d2.s(); !(l3 = d2.n()).done; ) {
                  var v2 = l3.value;
                  (h2 = f2.match(v2.label)) && (v2.boost != null && (h2[0] += v2.boost), r3.push(new ND(v2, a3, h2)));
                }
              } catch (e22) {
                d2.e(e22);
              } finally {
                d2.f();
              }
            }
        }
      } catch (e22) {
        o3.e(e22);
      } finally {
        o3.f();
      }
      var p2, m2 = [], g2 = null, y2 = bi(r3.sort(ZD));
      try {
        for (y2.s(); !(p2 = y2.n()).done; ) {
          var b2 = p2.value;
          if (m2.length == 300)
            break;
          g2 && g2.label == b2.completion.label && g2.detail == b2.completion.detail && g2.type == b2.completion.type && g2.apply == b2.completion.apply ? UD(b2.completion) > UD(g2) && (m2[m2.length - 1] = b2) : m2.push(b2), g2 = b2.completion;
        }
      } catch (e22) {
        y2.e(e22);
      } finally {
        y2.f();
      }
      return m2;
    }(t2, n2);
    if (!a2.length)
      return null;
    var s2, u2 = 0;
    if (i2 && i2.selected) {
      for (var c2 = i2.options[i2.selected].completion, l2 = 0; l2 < a2.length; l2++)
        if (a2[l2].completion == c2) {
          u2 = l2;
          break;
        }
    }
    return new e20(a2, QD(r2, u2), { pos: t2.reduce(function(e21, t3) {
      return t3.hasResult() ? Math.min(e21, t3.from) : e21;
    }, 1e8), create: (s2 = aL, function(e21) {
      return new WD(e21, s2);
    }), above: o2.aboveCursor }, i2 ? i2.timestamp : Date.now(), u2);
  } }]), e20;
}(), KD = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.active = t2, this.id = n2, this.open = r2;
  }
  return Li(e20, [{ key: "update", value: function(t2) {
    var n2 = this, r2 = t2.state, i2 = r2.facet(VD), o2 = (i2.override || r2.languageDataAt("autocomplete", RD(r2)).map(qD)).map(function(e21) {
      return (n2.active.find(function(t3) {
        return t3.source == e21;
      }) || new eL(e21, n2.active.some(function(e22) {
        return e22.state != 0;
      }) ? 1 : 0)).update(t2, i2);
    });
    o2.length == this.active.length && o2.every(function(e21, t3) {
      return e21 == n2.active[t3];
    }) && (o2 = this.active);
    var a2 = t2.selection || o2.some(function(e21) {
      return e21.hasResult() && t2.changes.touchesRange(e21.from, e21.to);
    }) || !function(e21, t3) {
      if (e21 == t3)
        return true;
      for (var n3 = 0, r3 = 0; ; ) {
        for (; n3 < e21.length && !e21[n3].hasResult; )
          n3++;
        for (; r3 < t3.length && !t3[r3].hasResult; )
          r3++;
        var i3 = n3 == e21.length, o3 = r3 == t3.length;
        if (i3 || o3)
          return i3 == o3;
        if (e21[n3++].result != t3[r3++].result)
          return false;
      }
    }(o2, this.active) ? JD.build(o2, r2, this.id, this.open, i2) : this.open && t2.docChanged ? this.open.map(t2.changes) : this.open;
    !a2 && o2.every(function(e21) {
      return e21.state != 1;
    }) && o2.some(function(e21) {
      return e21.hasResult();
    }) && (o2 = o2.map(function(e21) {
      return e21.hasResult() ? new eL(e21.source, 0) : e21;
    }));
    var s2, u2 = bi(t2.effects);
    try {
      for (u2.s(); !(s2 = u2.n()).done; ) {
        var c2 = s2.value;
        c2.is(oL) && (a2 = a2 && a2.setSelected(c2.value, this.id));
      }
    } catch (e21) {
      u2.e(e21);
    } finally {
      u2.f();
    }
    return o2 == this.active && a2 == this.open ? this : new e20(o2, this.id, a2);
  } }, { key: "tooltip", get: function() {
    return this.open ? this.open.tooltip : null;
  } }, { key: "attrs", get: function() {
    return this.open ? this.open.attrs : GD;
  } }], [{ key: "start", value: function() {
    return new e20(YD, "cm-ac-" + Math.floor(2e6 * Math.random()).toString(36), null);
  } }]), e20;
}();
var GD = { "aria-autocomplete": "list" };
function QD(e20, t2) {
  return { "aria-autocomplete": "list", "aria-haspopup": "listbox", "aria-activedescendant": e20 + "-" + t2, "aria-controls": e20 };
}
var YD = [];
function ZD(e20, t2) {
  var n2 = t2.match[0] - e20.match[0];
  return n2 || e20.completion.label.localeCompare(t2.completion.label);
}
function XD(e20) {
  return e20.isUserEvent("input.type") ? "input" : e20.isUserEvent("delete.backward") ? "delete" : null;
}
var eL = function() {
  function e20(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;
    Ri(this, e20), this.source = t2, this.state = n2, this.explicitPos = r2;
  }
  return Li(e20, [{ key: "hasResult", value: function() {
    return false;
  } }, { key: "update", value: function(t2, n2) {
    var r2 = XD(t2), i2 = this;
    r2 ? i2 = i2.handleUserEvent(t2, r2, n2) : t2.docChanged ? i2 = i2.handleChange(t2) : t2.selection && i2.state != 0 && (i2 = new e20(i2.source, 0));
    var o2, a2 = bi(t2.effects);
    try {
      for (a2.s(); !(o2 = a2.n()).done; ) {
        var s2 = o2.value;
        if (s2.is(nL))
          i2 = new e20(i2.source, 1, s2.value ? RD(t2.state) : -1);
        else if (s2.is(rL))
          i2 = new e20(i2.source, 0);
        else if (s2.is(iL)) {
          var u2, c2 = bi(s2.value);
          try {
            for (c2.s(); !(u2 = c2.n()).done; ) {
              var l2 = u2.value;
              l2.source == i2.source && (i2 = l2);
            }
          } catch (e21) {
            c2.e(e21);
          } finally {
            c2.f();
          }
        }
      }
    } catch (e21) {
      a2.e(e21);
    } finally {
      a2.f();
    }
    return i2;
  } }, { key: "handleUserEvent", value: function(t2, n2, r2) {
    return n2 != "delete" && r2.activateOnTyping ? new e20(this.source, 1) : this.map(t2.changes);
  } }, { key: "handleChange", value: function(t2) {
    return t2.changes.touchesRange(RD(t2.startState)) ? new e20(this.source, 0) : this.map(t2.changes);
  } }, { key: "map", value: function(t2) {
    return t2.empty || this.explicitPos < 0 ? this : new e20(this.source, this.state, t2.mapPos(this.explicitPos));
  } }]), e20;
}(), tL = function(e20) {
  xi(n2, eL);
  var t2 = Ci(n2);
  function n2(e21, r2, i2, o2, a2, s2) {
    var u2;
    return Ri(this, n2), (u2 = t2.call(this, e21, 2, r2)).result = i2, u2.from = o2, u2.to = a2, u2.span = s2, u2;
  }
  return Li(n2, [{ key: "hasResult", value: function() {
    return true;
  } }, { key: "handleUserEvent", value: function(e21, t3, r2) {
    var i2 = e21.changes.mapPos(this.from), o2 = e21.changes.mapPos(this.to, 1), a2 = RD(e21.state);
    if ((this.explicitPos < 0 ? a2 <= i2 : a2 < this.from) || a2 > o2 || t3 == "delete" && RD(e21.startState) == this.from)
      return new eL(this.source, t3 == "input" && r2.activateOnTyping ? 1 : 0);
    var s2 = this.explicitPos < 0 ? -1 : e21.changes.mapPos(this.explicitPos);
    return this.span && (i2 == o2 || this.span.test(e21.state.sliceDoc(i2, o2))) ? new n2(this.source, s2, this.result, i2, o2, this.span) : new eL(this.source, 1, s2);
  } }, { key: "handleChange", value: function(e21) {
    return e21.changes.touchesRange(this.from, this.to) ? new eL(this.source, 0) : this.map(e21.changes);
  } }, { key: "map", value: function(e21) {
    return e21.empty ? this : new n2(this.source, this.explicitPos < 0 ? -1 : e21.mapPos(this.explicitPos), this.result, e21.mapPos(this.from), e21.mapPos(this.to, 1), this.span);
  } }]), n2;
}(), nL = e$.define(), rL = e$.define(), iL = e$.define({ map: function(e20, t2) {
  return e20.map(function(e21) {
    return e21.map(t2);
  });
} }), oL = e$.define(), aL = A_.define({ create: function() {
  return KD.start();
}, update: function(e20, t2) {
  return e20.update(t2);
}, provide: function(e20) {
  return [SD.from(e20, function(e21) {
    return e21.tooltip;
  }), OE.contentAttributes.from(e20, function(e21) {
    return e21.attrs;
  })];
} });
function sL(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "option";
  return function(n2) {
    var r2 = n2.state.field(aL, false);
    if (!r2 || !r2.open || Date.now() - r2.open.timestamp < 75)
      return false;
    var i2, o2 = 1;
    t2 == "page" && (i2 = AD(n2, r2.open.tooltip)) && (o2 = Math.max(2, Math.floor(i2.dom.offsetHeight / i2.dom.querySelector("li").offsetHeight) - 1));
    var a2 = r2.open.selected + o2 * (e20 ? 1 : -1), s2 = r2.open.options.length;
    return a2 < 0 ? a2 = t2 == "page" ? 0 : s2 - 1 : a2 >= s2 && (a2 = t2 == "page" ? s2 - 1 : 0), n2.dispatch({ effects: oL.of(a2) }), true;
  };
}
var uL = Li(function e14(t2, n2) {
  Ri(this, e14), this.active = t2, this.context = n2, this.time = Date.now(), this.updates = [], this.done = void 0;
}), cL = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.debounceUpdate = -1, this.running = [], this.debounceAccept = -1, this.composing = 0;
    var n2, r2 = bi(t2.state.field(aL).active);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        i2.state == 1 && this.startQuery(i2);
      }
    } catch (e21) {
      r2.e(e21);
    } finally {
      r2.f();
    }
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = this, n2 = e21.state.field(aL);
    if (e21.selectionSet || e21.docChanged || e21.startState.field(aL) != n2) {
      for (var r2 = e21.transactions.some(function(e22) {
        return (e22.selection || e22.docChanged) && !XD(e22);
      }), i2 = 0; i2 < this.running.length; i2++) {
        var o2 = this.running[i2];
        if (r2 || o2.updates.length + e21.transactions.length > 50 && Date.now() - o2.time > 1e3) {
          var a2, s2 = bi(o2.context.abortListeners);
          try {
            for (s2.s(); !(a2 = s2.n()).done; ) {
              var u2 = a2.value;
              try {
                u2();
              } catch (e22) {
                pP(this.view.state, e22);
              }
            }
          } catch (e22) {
            s2.e(e22);
          } finally {
            s2.f();
          }
          o2.context.abortListeners = null, this.running.splice(i2--, 1);
        } else {
          var c2;
          (c2 = o2.updates).push.apply(c2, Ti(e21.transactions));
        }
      }
      if (this.debounceUpdate > -1 && clearTimeout(this.debounceUpdate), this.debounceUpdate = n2.active.some(function(e22) {
        return e22.state == 1 && !t2.running.some(function(t3) {
          return t3.active.source == e22.source;
        });
      }) ? setTimeout(function() {
        return t2.startUpdate();
      }, 50) : -1, this.composing != 0) {
        var l2, f2 = bi(e21.transactions);
        try {
          for (f2.s(); !(l2 = f2.n()).done; ) {
            var h2 = l2.value;
            XD(h2) == "input" ? this.composing = 2 : this.composing == 2 && h2.selection && (this.composing = 3);
          }
        } catch (e22) {
          f2.e(e22);
        } finally {
          f2.f();
        }
      }
    }
  } }, { key: "startUpdate", value: function() {
    var e21 = this;
    this.debounceUpdate = -1;
    var t2, n2 = bi(this.view.state.field(aL).active);
    try {
      var r2 = function() {
        var n3 = t2.value;
        n3.state != 1 || e21.running.some(function(e22) {
          return e22.active.source == n3.source;
        }) || e21.startQuery(n3);
      };
      for (n2.s(); !(t2 = n2.n()).done; )
        r2();
    } catch (e22) {
      n2.e(e22);
    } finally {
      n2.f();
    }
  } }, { key: "startQuery", value: function(e21) {
    var t2 = this, n2 = this.view.state, r2 = RD(n2), i2 = new MD(n2, r2, e21.explicitPos == r2), o2 = new uL(e21, i2);
    this.running.push(o2), Promise.resolve(e21.source(i2)).then(function(e22) {
      o2.context.aborted || (o2.done = e22 || null, t2.scheduleAccept());
    }, function(e22) {
      t2.view.dispatch({ effects: rL.of(null) }), pP(t2.view.state, e22);
    });
  } }, { key: "scheduleAccept", value: function() {
    var e21 = this;
    this.running.every(function(e22) {
      return e22.done !== void 0;
    }) ? this.accept() : this.debounceAccept < 0 && (this.debounceAccept = setTimeout(function() {
      return e21.accept();
    }, 50));
  } }, { key: "accept", value: function() {
    var e21, t2 = this;
    this.debounceAccept > -1 && clearTimeout(this.debounceAccept), this.debounceAccept = -1;
    for (var n2 = [], r2 = this.view.state.facet(VD), i2 = function(i3) {
      var a2 = t2.running[i3];
      if (a2.done === void 0)
        return o2 = i3, "continue";
      if (t2.running.splice(i3--, 1), a2.done) {
        var s2, u2 = new tL(a2.active.source, a2.active.explicitPos, a2.done, a2.done.from, (e21 = a2.done.to) !== null && e21 !== void 0 ? e21 : RD(a2.updates.length ? a2.updates[0].startState : t2.view.state), a2.done.span && a2.done.filter !== false ? DD(a2.done.span, true) : null), c2 = bi(a2.updates);
        try {
          for (c2.s(); !(s2 = c2.n()).done; ) {
            var l2 = s2.value;
            u2 = u2.update(l2, r2);
          }
        } catch (e22) {
          c2.e(e22);
        } finally {
          c2.f();
        }
        if (u2.hasResult())
          return n2.push(u2), o2 = i3, "continue";
      }
      var f2 = t2.view.state.field(aL).active.find(function(e22) {
        return e22.source == a2.active.source;
      });
      if (f2 && f2.state == 1)
        if (a2.done == null) {
          var h2, d2 = new eL(a2.active.source, 0), v2 = bi(a2.updates);
          try {
            for (v2.s(); !(h2 = v2.n()).done; ) {
              var p2 = h2.value;
              d2 = d2.update(p2, r2);
            }
          } catch (e22) {
            v2.e(e22);
          } finally {
            v2.f();
          }
          d2.state != 1 && n2.push(d2);
        } else
          t2.startQuery(f2);
      o2 = i3;
    }, o2 = 0; o2 < this.running.length; o2++)
      i2(o2);
    n2.length && this.view.dispatch({ effects: iL.of(n2) });
  } }]), e20;
}(), { eventHandlers: { compositionstart: function() {
  this.composing = 1;
}, compositionend: function() {
  var e20 = this;
  this.composing == 3 && setTimeout(function() {
    return e20.view.dispatch({ effects: nL.of(false) });
  }, 20), this.composing = 0;
} } }), lL = OE.baseTheme({ ".cm-tooltip.cm-tooltip-autocomplete": { "& > ul": { fontFamily: "monospace", whiteSpace: "nowrap", overflow: "hidden auto", maxWidth_fallback: "700px", maxWidth: "min(700px, 95vw)", minWidth: "250px", maxHeight: "10em", listStyle: "none", margin: 0, padding: 0, "& > li": { overflowX: "hidden", textOverflow: "ellipsis", cursor: "pointer", padding: "1px 3px", lineHeight: 1.2 } } }, "&light .cm-tooltip-autocomplete ul li[aria-selected]": { background: "#17c", color: "white" }, "&dark .cm-tooltip-autocomplete ul li[aria-selected]": { background: "#347", color: "white" }, ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after": { content: '"\xB7\xB7\xB7"', opacity: 0.5, display: "block", textAlign: "center" }, ".cm-tooltip.cm-completionInfo": { position: "absolute", padding: "3px 9px", width: "max-content", maxWidth: "300px" }, ".cm-completionInfo.cm-completionInfo-left": { right: "100%" }, ".cm-completionInfo.cm-completionInfo-right": { left: "100%" }, "&light .cm-snippetField": { backgroundColor: "#00000022" }, "&dark .cm-snippetField": { backgroundColor: "#ffffff22" }, ".cm-snippetFieldPosition": { verticalAlign: "text-top", width: 0, height: "1.15em", margin: "0 -0.7px -.7em", borderLeft: "1.4px dotted #888" }, ".cm-completionMatchedText": { textDecoration: "underline" }, ".cm-completionDetail": { marginLeft: "0.5em", fontStyle: "italic" }, ".cm-completionIcon": { fontSize: "90%", width: ".8em", display: "inline-block", textAlign: "center", paddingRight: ".6em", opacity: "0.6" }, ".cm-completionIcon-function, .cm-completionIcon-method": { "&:after": { content: "'\u0192'" } }, ".cm-completionIcon-class": { "&:after": { content: "'\u25CB'" } }, ".cm-completionIcon-interface": { "&:after": { content: "'\u25CC'" } }, ".cm-completionIcon-variable": { "&:after": { content: "'\u{1D465}'" } }, ".cm-completionIcon-constant": { "&:after": { content: "'\u{1D436}'" } }, ".cm-completionIcon-type": { "&:after": { content: "'\u{1D461}'" } }, ".cm-completionIcon-enum": { "&:after": { content: "'\u222A'" } }, ".cm-completionIcon-property": { "&:after": { content: "'\u25A1'" } }, ".cm-completionIcon-keyword": { "&:after": { content: "'\u{1F511}\uFE0E'" } }, ".cm-completionIcon-namespace": { "&:after": { content: "'\u25A2'" } }, ".cm-completionIcon-text": { "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" } } });
function fL() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [aL, VD.of(e20), cL, dL, lL];
}
var hL = [{ key: "Ctrl-Space", run: function(e20) {
  return !!e20.state.field(aL, false) && (e20.dispatch({ effects: nL.of(true) }), true);
} }, { key: "Escape", run: function(e20) {
  var t2 = e20.state.field(aL, false);
  return !(!t2 || !t2.active.some(function(e21) {
    return e21.state != 0;
  })) && (e20.dispatch({ effects: rL.of(null) }), true);
} }, { key: "ArrowDown", run: sL(true) }, { key: "ArrowUp", run: sL(false) }, { key: "PageDown", run: sL(true, "page") }, { key: "PageUp", run: sL(false, "page") }, { key: "Enter", run: function(e20) {
  var t2 = e20.state.field(aL, false);
  return !(e20.state.readOnly || !t2 || !t2.open || Date.now() - t2.open.timestamp < 75) && (zD(e20, t2.open.options[t2.open.selected]), true);
} }], dL = D_.highest(LE.computeN([VD], function(e20) {
  return e20.facet(VD).defaultKeymap ? [hL] : [];
}));
function vL(e20, t2) {
  return function(n2) {
    var r2 = n2.state, i2 = n2.dispatch;
    if (r2.readOnly)
      return false;
    var o2 = e20(t2, r2);
    return !!o2 && (i2(r2.update(o2)), true);
  };
}
var pL = vL(jL, 0), mL = vL(kL, 0), gL = vL(function(e20, t2) {
  return kL(e20, t2, function(e21) {
    var t3, n2 = [], r2 = bi(e21.selection.ranges);
    try {
      for (r2.s(); !(t3 = r2.n()).done; ) {
        var i2 = t3.value, o2 = e21.doc.lineAt(i2.from), a2 = i2.to <= o2.to ? o2 : e21.doc.lineAt(i2.to), s2 = n2.length - 1;
        s2 >= 0 && n2[s2].to > o2.from ? n2[s2].to = a2.to : n2.push({ from: o2.from, to: a2.to });
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    return n2;
  }(t2));
}, 0), yL = [{ key: "Mod-/", run: function(e20) {
  var t2 = bL(e20.state);
  return t2.line ? pL(e20) : !!t2.block && gL(e20);
} }, { key: "Alt-A", run: mL }];
function bL(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e20.selection.main.head, n2 = e20.languageDataAt("commentTokens", t2);
  return n2.length ? n2[0] : {};
}
function wL(e20, t2, n2, r2) {
  var i2, o2, a2 = t2.open, s2 = t2.close, u2 = e20.sliceDoc(n2 - 50, n2), c2 = e20.sliceDoc(r2, r2 + 50), l2 = /\s*$/.exec(u2)[0].length, f2 = /^\s*/.exec(c2)[0].length, h2 = u2.length - l2;
  if (u2.slice(h2 - a2.length, h2) == a2 && c2.slice(f2, f2 + s2.length) == s2)
    return { open: { pos: n2 - l2, margin: l2 && 1 }, close: { pos: r2 + f2, margin: f2 && 1 } };
  r2 - n2 <= 100 ? i2 = o2 = e20.sliceDoc(n2, r2) : (i2 = e20.sliceDoc(n2, n2 + 50), o2 = e20.sliceDoc(r2 - 50, r2));
  var d2 = /^\s*/.exec(i2)[0].length, v2 = /\s*$/.exec(o2)[0].length, p2 = o2.length - v2 - s2.length;
  return i2.slice(d2, d2 + a2.length) == a2 && o2.slice(p2, p2 + s2.length) == s2 ? { open: { pos: n2 + d2 + a2.length, margin: /\s/.test(i2.charAt(d2 + a2.length)) ? 1 : 0 }, close: { pos: r2 - v2 - s2.length, margin: /\s/.test(o2.charAt(p2 - 1)) ? 1 : 0 } } : null;
}
function kL(e20, t2) {
  var n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t2.selection.ranges, r2 = n2.map(function(e21) {
    return bL(t2, e21.from).block;
  });
  if (!r2.every(function(e21) {
    return e21;
  }))
    return null;
  var i2 = n2.map(function(e21, n3) {
    return wL(t2, r2[n3], e21.from, e21.to);
  });
  if (e20 != 2 && !i2.every(function(e21) {
    return e21;
  }))
    return { changes: t2.changes(n2.map(function(e21, t3) {
      return i2[t3] ? [] : [{ from: e21.from, insert: r2[t3].open + " " }, { from: e21.to, insert: " " + r2[t3].close }];
    })) };
  if (e20 != 1 && i2.some(function(e21) {
    return e21;
  })) {
    for (var o2, a2 = [], s2 = 0; s2 < i2.length; s2++)
      if (o2 = i2[s2]) {
        var u2 = r2[s2], c2 = o2, l2 = c2.open, f2 = c2.close;
        a2.push({ from: l2.pos - u2.open.length, to: l2.pos + l2.margin }, { from: f2.pos - f2.margin, to: f2.pos + u2.close.length });
      }
    return { changes: a2 };
  }
  return null;
}
function jL(e20, t2) {
  var n2, r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t2.selection.ranges, i2 = [], o2 = -1, a2 = bi(r2);
  try {
    for (a2.s(); !(n2 = a2.n()).done; ) {
      for (var s2 = n2.value, u2 = s2.from, c2 = s2.to, l2 = i2.length, f2 = 1e9, h2 = u2; h2 <= c2; ) {
        var d2 = t2.doc.lineAt(h2);
        if (d2.from > o2 && (u2 == c2 || c2 > d2.from)) {
          o2 = d2.from;
          var v2 = bL(t2, h2).line;
          if (!v2)
            continue;
          var p2 = /^\s*/.exec(d2.text)[0].length, m2 = p2 == d2.length, g2 = d2.text.slice(p2, p2 + v2.length) == v2 ? p2 : -1;
          p2 < d2.text.length && p2 < f2 && (f2 = p2), i2.push({ line: d2, comment: g2, token: v2, indent: p2, empty: m2, single: false });
        }
        h2 = d2.to + 1;
      }
      if (f2 < 1e9)
        for (var y2 = l2; y2 < i2.length; y2++)
          i2[y2].indent < i2[y2].line.text.length && (i2[y2].indent = f2);
      i2.length == l2 + 1 && (i2[l2].single = true);
    }
  } catch (e21) {
    a2.e(e21);
  } finally {
    a2.f();
  }
  if (e20 != 2 && i2.some(function(e21) {
    return e21.comment < 0 && (!e21.empty || e21.single);
  })) {
    var b2, w2 = [], k2 = bi(i2);
    try {
      for (k2.s(); !(b2 = k2.n()).done; ) {
        var j2 = b2.value, x2 = j2.line, S2 = j2.token, C2 = j2.indent, _2 = j2.empty, $2 = j2.single;
        !$2 && _2 || w2.push({ from: x2.from + C2, insert: S2 + " " });
      }
    } catch (e21) {
      k2.e(e21);
    } finally {
      k2.f();
    }
    var O2 = t2.changes(w2);
    return { changes: O2, selection: t2.selection.map(O2, 1) };
  }
  if (e20 != 1 && i2.some(function(e21) {
    return e21.comment >= 0;
  })) {
    var P2, A2 = [], E2 = bi(i2);
    try {
      for (E2.s(); !(P2 = E2.n()).done; ) {
        var M2 = P2.value, T2 = M2.line, I2 = M2.comment, N2 = M2.token;
        if (I2 >= 0) {
          var R2 = T2.from + I2, D2 = R2 + N2.length;
          T2.text[D2 - T2.from] == " " && D2++, A2.push({ from: R2, to: D2 });
        }
      }
    } catch (e21) {
      E2.e(e21);
    } finally {
      E2.f();
    }
    return { changes: A2 };
  }
  return null;
}
function xL(e20, t2) {
  var n2 = e20.posAtCoords({ x: t2.clientX, y: t2.clientY }, false), r2 = e20.state.doc.lineAt(n2), i2 = n2 - r2.from, o2 = i2 > 2e3 ? -1 : i2 == r2.length ? function(e21, t3) {
    var n3 = e21.coordsAtPos(e21.viewport.from);
    return n3 ? Math.round(Math.abs((n3.left - t3) / e21.defaultCharacterWidth)) : -1;
  }(e20, t2.clientX) : ZC(r2.text, e20.state.tabSize, n2 - r2.from);
  return { line: r2.number, col: o2, off: i2 };
}
function SL(e20, t2) {
  var n2 = xL(e20, t2), r2 = e20.state.selection;
  return n2 ? { update: function(e21) {
    if (e21.docChanged) {
      var t3 = e21.changes.mapPos(e21.startState.doc.line(n2.line).from), i2 = e21.state.doc.lineAt(t3);
      n2 = { line: i2.number, col: n2.col, off: Math.min(n2.off, i2.length) }, r2 = r2.map(e21.changes);
    }
  }, get: function(t3, i2, o2) {
    var a2 = xL(e20, t3);
    if (!a2)
      return r2;
    var s2 = function(e21, t4, n3) {
      var r3 = Math.min(t4.line, n3.line), i3 = Math.max(t4.line, n3.line), o3 = [];
      if (t4.off > 2e3 || n3.off > 2e3 || t4.col < 0 || n3.col < 0)
        for (var a3 = Math.min(t4.off, n3.off), s3 = Math.max(t4.off, n3.off), u2 = r3; u2 <= i3; u2++) {
          var c2 = e21.doc.line(u2);
          c2.length <= s3 && o3.push(k_.range(c2.from + a3, c2.to + s3));
        }
      else
        for (var l2 = Math.min(t4.col, n3.col), f2 = Math.max(t4.col, n3.col), h2 = r3; h2 <= i3; h2++) {
          var d2 = e21.doc.line(h2), v2 = XC(d2.text, l2, e21.tabSize, true);
          if (v2 > -1) {
            var p2 = XC(d2.text, f2, e21.tabSize);
            o3.push(k_.range(d2.from + v2, d2.from + p2));
          }
        }
      return o3;
    }(e20.state, n2, a2);
    return s2.length ? o2 ? k_.create(s2.concat(r2.ranges)) : k_.create(s2) : r2;
  } } : null;
}
function CL(e20) {
  var t2 = (e20 == null ? void 0 : e20.eventFilter) || function(e21) {
    return e21.altKey && e21.button == 0;
  };
  return OE.mouseSelectionStyle.of(function(e21, n2) {
    return t2(n2) ? SL(e21, n2) : null;
  });
}
var _L = { Alt: [18, function(e20) {
  return e20.altKey;
}], Control: [17, function(e20) {
  return e20.ctrlKey;
}], Shift: [16, function(e20) {
  return e20.shiftKey;
}], Meta: [91, function(e20) {
  return e20.metaKey;
}] }, $L = { style: "cursor: crosshair" };
function OL() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t2 = ji(_L[e20.key || "Alt"], 2), n2 = t2[0], r2 = t2[1], i2 = kP.fromClass(function() {
    function e21(t3) {
      Ri(this, e21), this.view = t3, this.isDown = false;
    }
    return Li(e21, [{ key: "set", value: function(e22) {
      this.isDown != e22 && (this.isDown = e22, this.view.update([]));
    } }]), e21;
  }(), { eventHandlers: { keydown: function(e21) {
    this.set(e21.keyCode == n2 || r2(e21));
  }, keyup: function(e21) {
    e21.keyCode != n2 && r2(e21) || this.set(false);
  } } });
  return [i2, OE.contentAttributes.of(function(e21) {
    var t3;
    return ((t3 = e21.plugin(i2)) === null || t3 === void 0 ? void 0 : t3.isDown) ? $L : null;
  })];
}
var PL = 0, AL = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.set = t2, this.base = n2, this.modified = r2, this.id = PL++;
  }
  return Li(e20, null, [{ key: "define", value: function(t2) {
    if (t2 == null ? void 0 : t2.base)
      throw new Error("Can not derive from a modified tag");
    var n2 = new e20([], null, []);
    if (n2.set.push(n2), t2) {
      var r2, i2 = bi(t2.set);
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          var o2 = r2.value;
          n2.set.push(o2);
        }
      } catch (e21) {
        i2.e(e21);
      } finally {
        i2.f();
      }
    }
    return n2;
  } }, { key: "defineModifier", value: function() {
    var e21 = new ML();
    return function(t2) {
      return t2.modified.indexOf(e21) > -1 ? t2 : ML.get(t2.base || t2, t2.modified.concat(e21).sort(function(e22, t3) {
        return e22.id - t3.id;
      }));
    };
  } }]), e20;
}(), EL = 0, ML = function() {
  function e20() {
    Ri(this, e20), this.instances = [], this.id = EL++;
  }
  return Li(e20, null, [{ key: "get", value: function(t2, n2) {
    if (!n2.length)
      return t2;
    var r2 = n2[0].instances.find(function(e21) {
      return e21.base == t2 && (r3 = n2, i3 = e21.modified, r3.length == i3.length && r3.every(function(e22, t3) {
        return e22 == i3[t3];
      }));
      var r3, i3;
    });
    if (r2)
      return r2;
    var i2, o2 = [], a2 = new AL(o2, t2, n2), s2 = bi(n2);
    try {
      for (s2.s(); !(i2 = s2.n()).done; ) {
        i2.value.instances.push(a2);
      }
    } catch (e21) {
      s2.e(e21);
    } finally {
      s2.f();
    }
    var u2, c2 = TL(n2), l2 = bi(t2.set);
    try {
      for (l2.s(); !(u2 = l2.n()).done; ) {
        var f2, h2 = u2.value, d2 = bi(c2);
        try {
          for (d2.s(); !(f2 = d2.n()).done; ) {
            var v2 = f2.value;
            o2.push(e20.get(h2, v2));
          }
        } catch (e21) {
          d2.e(e21);
        } finally {
          d2.f();
        }
      }
    } catch (e21) {
      l2.e(e21);
    } finally {
      l2.f();
    }
    return a2;
  } }]), e20;
}();
function TL(e20) {
  for (var t2 = [e20], n2 = 0; n2 < e20.length; n2++) {
    var r2, i2 = bi(TL(e20.slice(0, n2).concat(e20.slice(n2 + 1))));
    try {
      for (i2.s(); !(r2 = i2.n()).done; ) {
        var o2 = r2.value;
        t2.push(o2);
      }
    } catch (e21) {
      i2.e(e21);
    } finally {
      i2.f();
    }
  }
  return t2;
}
function IL(e20) {
  var t2 = /* @__PURE__ */ Object.create(null);
  for (var n2 in e20) {
    var r2 = e20[n2];
    Array.isArray(r2) || (r2 = [r2]);
    var i2, o2 = bi(n2.split(" "));
    try {
      for (o2.s(); !(i2 = o2.n()).done; ) {
        var a2 = i2.value;
        if (a2) {
          for (var s2 = [], u2 = 2, c2 = a2, l2 = 0; ; ) {
            if (c2 == "..." && l2 > 0 && l2 + 3 == a2.length) {
              u2 = 1;
              break;
            }
            var f2 = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c2);
            if (!f2)
              throw new RangeError("Invalid path: " + a2);
            if (s2.push(f2[0] == "*" ? null : f2[0][0] == '"' ? JSON.parse(f2[0]) : f2[0]), (l2 += f2[0].length) == a2.length)
              break;
            var h2 = a2[l2++];
            if (l2 == a2.length && h2 == "!") {
              u2 = 0;
              break;
            }
            if (h2 != "/")
              throw new RangeError("Invalid path: " + a2);
            c2 = a2.slice(l2);
          }
          var d2 = s2.length - 1, v2 = s2[d2];
          if (!v2)
            throw new RangeError("Invalid path: " + a2);
          var p2 = new zL(r2, u2, d2 > 0 ? s2.slice(0, d2) : null);
          t2[v2] = p2.sort(t2[v2]);
        }
      }
    } catch (e21) {
      o2.e(e21);
    } finally {
      o2.f();
    }
  }
  return NL.add(t2);
}
var NL = new UM(), RL = C_.define({ combine: function(e20) {
  return e20.length ? BL.combinedMatch(e20) : null;
} }), DL = C_.define({ combine: function(e20) {
  return e20.length ? e20[0].match : null;
} });
function LL(e20) {
  return e20.facet(RL) || e20.facet(DL);
}
var zL = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.tags = t2, this.mode = n2, this.context = r2, this.next = i2;
  }
  return Li(e20, [{ key: "sort", value: function(e21) {
    return !e21 || e21.depth < this.depth ? (this.next = e21, this) : (e21.next = this.sort(e21.next), e21);
  } }, { key: "depth", get: function() {
    return this.context ? this.context.length : 0;
  } }]), e20;
}(), BL = function() {
  function e20(t2, n2) {
    var r2, i2 = this;
    function o2(e21) {
      var t3 = g$.newName();
      return (r2 || (r2 = /* @__PURE__ */ Object.create(null)))["." + t3] = e21, t3;
    }
    Ri(this, e20), this.map = /* @__PURE__ */ Object.create(null), this.all = typeof n2.all == "string" ? n2.all : n2.all ? o2(n2.all) : null;
    var a2, s2 = bi(t2);
    try {
      for (s2.s(); !(a2 = s2.n()).done; ) {
        var u2 = a2.value, c2 = (u2.class || o2(Object.assign({}, u2, { tag: null }))) + (this.all ? " " + this.all : ""), l2 = u2.tag;
        if (Array.isArray(l2)) {
          var f2, h2 = bi(l2);
          try {
            for (h2.s(); !(f2 = h2.n()).done; ) {
              var d2 = f2.value;
              this.map[d2.id] = c2;
            }
          } catch (e21) {
            h2.e(e21);
          } finally {
            h2.f();
          }
        } else
          this.map[l2.id] = c2;
      }
    } catch (e21) {
      s2.e(e21);
    } finally {
      s2.f();
    }
    this.module = r2 ? new g$(r2) : null, this.scope = n2.scope || null, this.match = this.match.bind(this);
    var v2 = [FL];
    this.module && v2.push(OE.styleModule.of(this.module)), this.extension = v2.concat(n2.themeType == null ? RL.of(this) : RL.computeN([OE.darkTheme], function(e21) {
      return e21.facet(OE.darkTheme) == (n2.themeType == "dark") ? [i2] : [];
    })), this.fallback = v2.concat(DL.of(this));
  }
  return Li(e20, [{ key: "match", value: function(e21, t2) {
    if (this.scope && t2 != this.scope)
      return null;
    var n2, r2 = bi(e21.set);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value, o2 = this.map[i2.id];
        if (o2 !== void 0)
          return i2 != e21 && (this.map[e21.id] = o2), o2;
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    return this.map[e21.id] = this.all;
  } }], [{ key: "combinedMatch", value: function(e21) {
    if (e21.length == 1)
      return e21[0].match;
    var t2 = e21.some(function(e22) {
      return e22.scope;
    }) ? void 0 : /* @__PURE__ */ Object.create(null);
    return function(n2, r2) {
      var i2 = t2 && t2[n2.id];
      if (i2 !== void 0)
        return i2;
      var o2, a2 = null, s2 = bi(e21);
      try {
        for (s2.s(); !(o2 = s2.n()).done; ) {
          var u2 = o2.value.match(n2, r2);
          u2 && (a2 = a2 ? a2 + " " + u2 : u2);
        }
      } catch (e22) {
        s2.e(e22);
      } finally {
        s2.f();
      }
      return t2 && (t2[n2.id] = a2), a2;
    };
  } }, { key: "define", value: function(t2, n2) {
    return new e20(t2, n2 || {});
  } }, { key: "get", value: function(e21, t2, n2) {
    var r2 = LL(e21);
    return r2 && r2(t2, n2 || KM.none);
  } }]), e20;
}(), qL = function() {
  function e20(t2) {
    Ri(this, e20), this.markCache = /* @__PURE__ */ Object.create(null), this.tree = jT(t2.state), this.decorations = this.buildDeco(t2, LL(t2.state));
  }
  return Li(e20, [{ key: "update", value: function(e21) {
    var t2 = jT(e21.state), n2 = LL(e21.state), r2 = n2 != e21.startState.facet(RL);
    t2.length < e21.view.viewport.to && !r2 && t2.type == this.tree.type ? this.decorations = this.decorations.map(e21.changes) : (t2 != this.tree || e21.viewportChanged || r2) && (this.tree = t2, this.decorations = this.buildDeco(e21.view, n2));
  } }, { key: "buildDeco", value: function(e21, t2) {
    var n2 = this;
    if (!t2 || !this.tree.length)
      return JO.none;
    var r2, i2 = new _$(), o2 = bi(e21.visibleRanges);
    try {
      for (o2.s(); !(r2 = o2.n()).done; ) {
        var a2 = r2.value, s2 = a2.from, u2 = a2.to;
        WL(this.tree, s2, u2, t2, function(e22, t3, r3) {
          i2.add(e22, t3, n2.markCache[r3] || (n2.markCache[r3] = JO.mark({ class: r3 })));
        });
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    return i2.finish();
  } }]), e20;
}(), FL = D_.high(kP.fromClass(qL, { decorations: function(e20) {
  return e20.decorations;
} })), VL = [""], HL = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.at = t2, this.style = n2, this.span = r2, this.class = "";
  }
  return Li(e20, [{ key: "startSpan", value: function(e21, t2) {
    t2 != this.class && (this.flush(e21), e21 > this.at && (this.at = e21), this.class = t2);
  } }, { key: "flush", value: function(e21) {
    e21 > this.at && this.class && this.span(this.at, e21, this.class);
  } }, { key: "highlightRange", value: function(e21, t2, n2, r2, i2, o2) {
    var a2 = e21.type, s2 = e21.from, u2 = e21.to;
    if (!(s2 >= n2 || u2 <= t2)) {
      VL[i2] = a2.name, a2.isTop && (o2 = a2);
      for (var c2 = r2, l2 = a2.prop(NL), f2 = false; l2; ) {
        if (!l2.context || UL(l2.context, VL, i2)) {
          var h2, d2 = bi(l2.tags);
          try {
            for (d2.s(); !(h2 = d2.n()).done; ) {
              var v2 = h2.value, p2 = this.style(v2, o2);
              p2 && (c2 && (c2 += " "), c2 += p2, l2.mode == 1 ? r2 += (r2 ? " " : "") + p2 : l2.mode == 0 && (f2 = true));
            }
          } catch (e22) {
            d2.e(e22);
          } finally {
            d2.f();
          }
          break;
        }
        l2 = l2.next;
      }
      if (this.startSpan(e21.from, c2), !f2) {
        var m2 = e21.tree && e21.tree.prop(UM.mounted);
        if (m2 && m2.overlay) {
          for (var g2 = e21.node.enter(m2.overlay[0].from + s2, 1), y2 = e21.firstChild(), b2 = 0, w2 = s2; ; b2++) {
            var k2 = b2 < m2.overlay.length ? m2.overlay[b2] : null, j2 = k2 ? k2.from + s2 : u2, x2 = Math.max(t2, w2), S2 = Math.min(n2, j2);
            if (x2 < S2 && y2)
              for (; e21.from < S2 && (this.highlightRange(e21, x2, S2, r2, i2 + 1, o2), this.startSpan(Math.min(n2, e21.to), c2), !(e21.to >= j2) && e21.nextSibling()); )
                ;
            if (!k2 || j2 > n2)
              break;
            (w2 = k2.to + s2) > t2 && (this.highlightRange(g2.cursor, Math.max(t2, k2.from + s2), Math.min(n2, w2), r2, i2, m2.tree.type), this.startSpan(w2, c2));
          }
          y2 && e21.parent();
        } else if (e21.firstChild()) {
          do {
            if (!(e21.to <= t2)) {
              if (e21.from >= n2)
                break;
              this.highlightRange(e21, t2, n2, r2, i2 + 1, o2), this.startSpan(Math.min(n2, e21.to), c2);
            }
          } while (e21.nextSibling());
          e21.parent();
        }
      }
    }
  } }]), e20;
}();
function WL(e20, t2, n2, r2, i2) {
  var o2 = new HL(t2, r2, i2);
  o2.highlightRange(e20.cursor(), t2, n2, "", 0, e20.type), o2.flush(n2);
}
function UL(e20, t2, n2) {
  if (e20.length > n2 - 1)
    return false;
  for (var r2 = n2 - 1, i2 = e20.length - 1; i2 >= 0; i2--, r2--) {
    var o2 = e20[i2];
    if (o2 && o2 != t2[r2])
      return false;
  }
  return true;
}
var JL = AL.define, KL = JL(), GL = JL(), QL = JL(GL), YL = JL(GL), ZL = JL(), XL = JL(ZL), ez = JL(ZL), tz = JL(), nz = JL(tz), rz = JL(), iz = JL(), oz = JL(), az = JL(oz), sz = JL(), uz = { comment: KL, lineComment: JL(KL), blockComment: JL(KL), docComment: JL(KL), name: GL, variableName: JL(GL), typeName: QL, tagName: JL(QL), propertyName: YL, attributeName: JL(YL), className: JL(GL), labelName: JL(GL), namespace: JL(GL), macroName: JL(GL), literal: ZL, string: XL, docString: JL(XL), character: JL(XL), attributeValue: JL(XL), number: ez, integer: JL(ez), float: JL(ez), bool: JL(ZL), regexp: JL(ZL), escape: JL(ZL), color: JL(ZL), url: JL(ZL), keyword: rz, self: JL(rz), null: JL(rz), atom: JL(rz), unit: JL(rz), modifier: JL(rz), operatorKeyword: JL(rz), controlKeyword: JL(rz), definitionKeyword: JL(rz), moduleKeyword: JL(rz), operator: iz, derefOperator: JL(iz), arithmeticOperator: JL(iz), logicOperator: JL(iz), bitwiseOperator: JL(iz), compareOperator: JL(iz), updateOperator: JL(iz), definitionOperator: JL(iz), typeOperator: JL(iz), controlOperator: JL(iz), punctuation: oz, separator: JL(oz), bracket: az, angleBracket: JL(az), squareBracket: JL(az), paren: JL(az), brace: JL(az), content: tz, heading: nz, heading1: JL(nz), heading2: JL(nz), heading3: JL(nz), heading4: JL(nz), heading5: JL(nz), heading6: JL(nz), contentSeparator: JL(tz), list: JL(tz), quote: JL(tz), emphasis: JL(tz), strong: JL(tz), link: JL(tz), monospace: JL(tz), strikethrough: JL(tz), inserted: JL(), deleted: JL(), changed: JL(), invalid: JL(), meta: sz, documentMeta: JL(sz), annotation: JL(sz), processingInstruction: JL(sz), definition: AL.defineModifier(), constant: AL.defineModifier(), function: AL.defineModifier(), standard: AL.defineModifier(), local: AL.defineModifier(), special: AL.defineModifier() }, cz = BL.define([{ tag: uz.link, textDecoration: "underline" }, { tag: uz.heading, textDecoration: "underline", fontWeight: "bold" }, { tag: uz.emphasis, fontStyle: "italic" }, { tag: uz.strong, fontWeight: "bold" }, { tag: uz.strikethrough, textDecoration: "line-through" }, { tag: uz.keyword, color: "#708" }, { tag: [uz.atom, uz.bool, uz.url, uz.contentSeparator, uz.labelName], color: "#219" }, { tag: [uz.literal, uz.inserted], color: "#164" }, { tag: [uz.string, uz.deleted], color: "#a11" }, { tag: [uz.regexp, uz.escape, uz.special(uz.string)], color: "#e40" }, { tag: uz.definition(uz.variableName), color: "#00f" }, { tag: uz.local(uz.variableName), color: "#30a" }, { tag: [uz.typeName, uz.namespace], color: "#085" }, { tag: uz.className, color: "#167" }, { tag: [uz.special(uz.variableName), uz.macroName], color: "#256" }, { tag: uz.definition(uz.propertyName), color: "#00c" }, { tag: uz.comment, color: "#940" }, { tag: uz.meta, color: "#7a757a" }, { tag: uz.invalid, color: "#f00" }]), lz = Li(function e15(t2, n2, r2) {
  Ri(this, e15), this.from = t2, this.to = n2, this.diagnostic = r2;
}), fz = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.diagnostics = t2, this.panel = n2, this.selected = r2;
  }
  return Li(e20, null, [{ key: "init", value: function(t2, n2, r2) {
    var i2 = JO.set(t2.map(function(e21) {
      return e21.from == e21.to || e21.from == e21.to - 1 && r2.doc.lineAt(e21.from).to == e21.from ? JO.widget({ widget: new Oz(e21), diagnostic: e21 }).range(e21.from) : JO.mark({ attributes: { class: "cm-lintRange cm-lintRange-" + e21.severity }, diagnostic: e21 }).range(e21.from, e21.to);
    }), true);
    return new e20(i2, n2, hz(i2));
  } }]), e20;
}();
function hz(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, n2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r2 = null;
  return e20.between(n2, 1e9, function(e21, n3, i2) {
    var o2 = i2.spec;
    if (!t2 || o2.diagnostic == t2)
      return r2 = new lz(e21, n3, o2.diagnostic), false;
  }), r2;
}
function dz(e20, t2) {
  return e20.field(gz, false) ? t2 : t2.concat(e$.appendConfig.of([gz, OE.decorations.compute([gz], function(e21) {
    var t3 = e21.field(gz), n2 = t3.selected, r2 = t3.panel;
    return n2 && r2 && n2.from != n2.to ? JO.set([yz.range(n2.from, n2.to)]) : JO.none;
  }), PD(bz), Tz]));
}
var vz = e$.define(), pz = e$.define(), mz = e$.define(), gz = A_.define({ create: function() {
  return new fz(JO.none, null, null);
}, update: function(e20, t2) {
  if (t2.docChanged) {
    var n2 = e20.diagnostics.map(t2.changes), r2 = null;
    if (e20.selected) {
      var i2 = t2.changes.mapPos(e20.selected.from, 1);
      r2 = hz(n2, e20.selected.diagnostic, i2) || hz(n2, null, i2);
    }
    e20 = new fz(n2, e20.panel, r2);
  }
  var o2, a2 = bi(t2.effects);
  try {
    for (a2.s(); !(o2 = a2.n()).done; ) {
      var s2 = o2.value;
      s2.is(vz) ? e20 = fz.init(s2.value, e20.panel, t2.state) : s2.is(pz) ? e20 = new fz(e20.diagnostics, s2.value ? Az.open : null, e20.selected) : s2.is(mz) && (e20 = new fz(e20.diagnostics, e20.panel, s2.value));
    }
  } catch (e21) {
    a2.e(e21);
  } finally {
    a2.f();
  }
  return e20;
}, provide: function(e20) {
  return [mR.from(e20, function(e21) {
    return e21.panel;
  }), OE.decorations.from(e20, function(e21) {
    return e21.diagnostics;
  })];
} }), yz = JO.mark({ class: "cm-lintRange cm-lintRange-active" });
function bz(e20, t2, n2) {
  var r2 = e20.state.field(gz).diagnostics, i2 = [], o2 = 2e8, a2 = 0;
  return r2.between(t2 - (n2 < 0 ? 1 : 0), t2 + (n2 > 0 ? 1 : 0), function(e21, r3, s2) {
    var u2 = s2.spec;
    t2 >= e21 && t2 <= r3 && (e21 == r3 || (t2 > e21 || n2 > 0) && (t2 < r3 || n2 < 0)) && (i2.push(u2.diagnostic), o2 = Math.min(e21, o2), a2 = Math.max(r3, a2));
  }), i2.length ? { pos: o2, end: a2, above: e20.state.doc.lineAt(o2).to < a2, create: function() {
    return { dom: wz(e20, i2) };
  } } : null;
}
function wz(e20, t2) {
  return gR("ul", { class: "cm-tooltip-lint" }, t2.map(function(t3) {
    return $z(e20, t3, false);
  }));
}
var kz = function(e20) {
  var t2 = e20.state.field(gz, false);
  return !(!t2 || !t2.panel) && (e20.dispatch({ effects: pz.of(false) }), true);
}, jz = [{ key: "Mod-Shift-m", run: function(e20) {
  var t2 = e20.state.field(gz, false);
  t2 && t2.panel || e20.dispatch({ effects: dz(e20.state, [pz.of(true)]) });
  var n2 = fR(e20, Az.open);
  return n2 && n2.dom.querySelector(".cm-panel-lint ul").focus(), true;
} }, { key: "F8", run: function(e20) {
  var t2 = e20.state.field(gz, false);
  if (!t2)
    return false;
  var n2 = e20.state.selection.main, r2 = t2.diagnostics.iter(n2.to + 1);
  return !(!r2.value && (!(r2 = t2.diagnostics.iter(0)).value || r2.from == n2.from && r2.to == n2.to)) && (e20.dispatch({ selection: { anchor: r2.from, head: r2.to }, scrollIntoView: true }), true);
} }], xz = kP.fromClass(function() {
  function e20(t2) {
    Ri(this, e20), this.view = t2, this.timeout = -1, this.set = true;
    var n2 = t2.state.facet(Sz).delay;
    this.lintTime = Date.now() + n2, this.run = this.run.bind(this), this.timeout = setTimeout(this.run, n2);
  }
  return Li(e20, [{ key: "run", value: function() {
    var e21 = this, t2 = Date.now();
    if (t2 < this.lintTime - 10)
      setTimeout(this.run, this.lintTime - t2);
    else {
      this.set = false;
      var n2 = this.view.state, r2 = n2.facet(Sz).sources;
      Promise.all(r2.map(function(t3) {
        return Promise.resolve(t3(e21.view));
      })).then(function(t3) {
        var r3 = t3.reduce(function(e22, t4) {
          return e22.concat(t4);
        });
        e21.view.state.doc == n2.doc && e21.view.dispatch(function(e22, t4) {
          return { effects: dz(e22, [vz.of(t4)]) };
        }(e21.view.state, r3));
      }, function(t3) {
        pP(e21.view.state, t3);
      });
    }
  } }, { key: "update", value: function(e21) {
    var t2 = e21.state.facet(Sz);
    (e21.docChanged || t2 != e21.startState.facet(Sz)) && (this.lintTime = Date.now() + t2.delay, this.set || (this.set = true, this.timeout = setTimeout(this.run, t2.delay)));
  } }, { key: "force", value: function() {
    this.set && (this.lintTime = Date.now(), this.run());
  } }, { key: "destroy", value: function() {
    clearTimeout(this.timeout);
  } }]), e20;
}()), Sz = C_.define({ combine: function(e20) {
  return { sources: e20.map(function(e21) {
    return e21.source;
  }), delay: e20.length ? Math.max.apply(Math, Ti(e20.map(function(e21) {
    return e21.delay;
  }))) : 750 };
}, enables: xz });
function Cz(e20) {
  var t2, n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return Sz.of({ source: e20, delay: (t2 = n2.delay) !== null && t2 !== void 0 ? t2 : 750 });
}
function _z(e20) {
  var t2 = [];
  if (e20) {
    var n2, r2 = bi(e20);
    try {
      e:
        for (r2.s(); !(n2 = r2.n()).done; ) {
          for (var i2 = n2.value.name, o2 = function(e21) {
            var n3 = i2[e21];
            if (/[a-zA-Z]/.test(n3) && !t2.some(function(e22) {
              return e22.toLowerCase() == n3.toLowerCase();
            }))
              return t2.push(n3), "continue|actions";
          }, a2 = 0; a2 < i2.length; a2++) {
            if (o2(a2) === "continue|actions")
              continue e;
          }
          t2.push("");
        }
    } catch (e21) {
      r2.e(e21);
    } finally {
      r2.f();
    }
  }
  return t2;
}
function $z(e20, t2, n2) {
  var r2, i2 = n2 ? _z(t2.actions) : [];
  return gR("li", { class: "cm-diagnostic cm-diagnostic-" + t2.severity }, gR("span", { class: "cm-diagnosticText" }, t2.message), (r2 = t2.actions) === null || r2 === void 0 ? void 0 : r2.map(function(n3, r3) {
    var o2 = function(r4) {
      r4.preventDefault();
      var i3 = hz(e20.state.field(gz).diagnostics, t2);
      i3 && n3.apply(e20, i3.from, i3.to);
    }, a2 = n3.name, s2 = i2[r3] ? a2.indexOf(i2[r3]) : -1, u2 = s2 < 0 ? a2 : [a2.slice(0, s2), gR("u", a2.slice(s2, s2 + 1)), a2.slice(s2 + 1)];
    return gR("button", { type: "button", class: "cm-diagnosticAction", onclick: o2, onmousedown: o2, "aria-label": " Action: ".concat(a2).concat(s2 < 0 ? "" : ' (access key "'.concat(i2[r3], ')"'), ".") }, u2);
  }), t2.source && gR("div", { class: "cm-diagnosticSource" }, t2.source));
}
var Oz = function(e20) {
  xi(n2, WO);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).diagnostic = e21, r2;
  }
  return Li(n2, [{ key: "eq", value: function(e21) {
    return e21.diagnostic == this.diagnostic;
  } }, { key: "toDOM", value: function() {
    return gR("span", { class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity });
  } }]), n2;
}(), Pz = Li(function e16(t2, n2) {
  Ri(this, e16), this.diagnostic = n2, this.id = "item_" + Math.floor(4294967295 * Math.random()).toString(16), this.dom = $z(t2, n2, true), this.dom.id = this.id, this.dom.setAttribute("role", "option");
}), Az = function() {
  function e20(t2) {
    var n2 = this;
    Ri(this, e20), this.view = t2, this.items = [];
    this.list = gR("ul", { tabIndex: 0, role: "listbox", "aria-label": this.view.state.phrase("Diagnostics"), onkeydown: function(e21) {
      if (e21.keyCode == 27)
        kz(n2.view), n2.view.focus();
      else if (e21.keyCode == 38 || e21.keyCode == 33)
        n2.moveSelection((n2.selectedIndex - 1 + n2.items.length) % n2.items.length);
      else if (e21.keyCode == 40 || e21.keyCode == 34)
        n2.moveSelection((n2.selectedIndex + 1) % n2.items.length);
      else if (e21.keyCode == 36)
        n2.moveSelection(0);
      else if (e21.keyCode == 35)
        n2.moveSelection(n2.items.length - 1);
      else if (e21.keyCode == 13)
        n2.view.focus();
      else {
        if (!(e21.keyCode >= 65 && e21.keyCode <= 90 && n2.selectedIndex >= 0))
          return;
        for (var r2 = n2.items[n2.selectedIndex].diagnostic, i2 = _z(r2.actions), o2 = 0; o2 < i2.length; o2++)
          if (i2[o2].toUpperCase().charCodeAt(0) == e21.keyCode) {
            var a2 = hz(n2.view.state.field(gz).diagnostics, r2);
            a2 && r2.actions[o2].apply(t2, a2.from, a2.to);
          }
      }
      e21.preventDefault();
    }, onclick: function(e21) {
      for (var t3 = 0; t3 < n2.items.length; t3++)
        n2.items[t3].dom.contains(e21.target) && n2.moveSelection(t3);
    } }), this.dom = gR("div", { class: "cm-panel-lint" }, this.list, gR("button", { type: "button", name: "close", "aria-label": this.view.state.phrase("close"), onclick: function() {
      return kz(n2.view);
    } }, "\xD7")), this.update();
  }
  return Li(e20, [{ key: "selectedIndex", get: function() {
    var e21 = this.view.state.field(gz).selected;
    if (!e21)
      return -1;
    for (var t2 = 0; t2 < this.items.length; t2++)
      if (this.items[t2].diagnostic == e21.diagnostic)
        return t2;
    return -1;
  } }, { key: "update", value: function() {
    var e21 = this, t2 = this.view.state.field(gz), n2 = t2.diagnostics, r2 = t2.selected, i2 = 0, o2 = false, a2 = null;
    for (n2.between(0, this.view.state.doc.length, function(t3, n3, s2) {
      for (var u2, c2 = s2.spec, l2 = -1, f2 = i2; f2 < e21.items.length; f2++)
        if (e21.items[f2].diagnostic == c2.diagnostic) {
          l2 = f2;
          break;
        }
      l2 < 0 ? (u2 = new Pz(e21.view, c2.diagnostic), e21.items.splice(i2, 0, u2), o2 = true) : (u2 = e21.items[l2], l2 > i2 && (e21.items.splice(i2, l2 - i2), o2 = true)), r2 && u2.diagnostic == r2.diagnostic ? u2.dom.hasAttribute("aria-selected") || (u2.dom.setAttribute("aria-selected", "true"), a2 = u2) : u2.dom.hasAttribute("aria-selected") && u2.dom.removeAttribute("aria-selected"), i2++;
    }); i2 < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0); )
      o2 = true, this.items.pop();
    this.items.length == 0 && (this.items.push(new Pz(this.view, { from: -1, to: -1, severity: "info", message: this.view.state.phrase("No diagnostics") })), o2 = true), a2 ? (this.list.setAttribute("aria-activedescendant", a2.id), this.view.requestMeasure({ key: this, read: function() {
      return { sel: a2.dom.getBoundingClientRect(), panel: e21.list.getBoundingClientRect() };
    }, write: function(t3) {
      var n3 = t3.sel, r3 = t3.panel;
      n3.top < r3.top ? e21.list.scrollTop -= r3.top - n3.top : n3.bottom > r3.bottom && (e21.list.scrollTop += n3.bottom - r3.bottom);
    } })) : this.selectedIndex < 0 && this.list.removeAttribute("aria-activedescendant"), o2 && this.sync();
  } }, { key: "sync", value: function() {
    var e21 = this.list.firstChild;
    function t2() {
      var t3 = e21;
      e21 = t3.nextSibling, t3.remove();
    }
    var n2, r2 = bi(this.items);
    try {
      for (r2.s(); !(n2 = r2.n()).done; ) {
        var i2 = n2.value;
        if (i2.dom.parentNode == this.list) {
          for (; e21 != i2.dom; )
            t2();
          e21 = i2.dom.nextSibling;
        } else
          this.list.insertBefore(i2.dom, e21);
      }
    } catch (e22) {
      r2.e(e22);
    } finally {
      r2.f();
    }
    for (; e21; )
      t2();
  } }, { key: "moveSelection", value: function(e21) {
    if (!(this.selectedIndex < 0)) {
      var t2 = hz(this.view.state.field(gz).diagnostics, this.items[e21].diagnostic);
      t2 && this.view.dispatch({ selection: { anchor: t2.from, head: t2.to }, scrollIntoView: true, effects: mz.of(t2) });
    }
  } }], [{ key: "open", value: function(t2) {
    return new e20(t2);
  } }]), e20;
}();
function Ez(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'viewBox="0 0 40 40"';
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" `.concat(t2, ">").concat(encodeURIComponent(e20), "</svg>')");
}
function Mz(e20) {
  return Ez('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e20, '" fill="none" stroke-width=".7"/>'), 'width="6" height="3"');
}
var Tz = OE.baseTheme({ ".cm-diagnostic": { padding: "3px 6px 3px 8px", marginLeft: "-1px", display: "block", whiteSpace: "pre-wrap" }, ".cm-diagnostic-error": { borderLeft: "5px solid #d11" }, ".cm-diagnostic-warning": { borderLeft: "5px solid orange" }, ".cm-diagnostic-info": { borderLeft: "5px solid #999" }, ".cm-diagnosticAction": { font: "inherit", border: "none", padding: "2px 4px", backgroundColor: "#444", color: "white", borderRadius: "3px", marginLeft: "8px" }, ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 }, ".cm-lintRange": { backgroundPosition: "left bottom", backgroundRepeat: "repeat-x", paddingBottom: "0.7px" }, ".cm-lintRange-error": { backgroundImage: Mz("#d11") }, ".cm-lintRange-warning": { backgroundImage: Mz("orange") }, ".cm-lintRange-info": { backgroundImage: Mz("#999") }, ".cm-lintRange-active": { backgroundColor: "#ffdd9980" }, ".cm-tooltip-lint": { padding: 0, margin: 0 }, ".cm-lintPoint": { position: "relative", "&:after": { content: '""', position: "absolute", bottom: 0, left: "-2px", borderLeft: "3px solid transparent", borderRight: "3px solid transparent", borderBottom: "4px solid #d11" } }, ".cm-lintPoint-warning": { "&:after": { borderBottomColor: "orange" } }, ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } }, ".cm-panel.cm-panel-lint": { position: "relative", "& ul": { maxHeight: "100px", overflowY: "auto", "& [aria-selected]": { backgroundColor: "#ddd", "& u": { textDecoration: "underline" } }, "&:focus [aria-selected]": { background_fallback: "#bdf", backgroundColor: "Highlight", color_fallback: "white", color: "HighlightText" }, "& u": { textDecoration: "none" }, padding: 0, margin: 0 }, "& [name=close]": { position: "absolute", top: "0", right: "2px", background: "inherit", border: "none", font: "inherit", padding: 0, margin: 0 } } }), Iz = function(e20) {
  xi(n2, QT);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), (r2 = t2.call(this)).diagnostics = e21, r2.severity = e21.reduce(function(e22, t3) {
      var n3 = t3.severity;
      return n3 == "error" || n3 == "warning" && e22 == "info" ? n3 : e22;
    }, "info"), r2;
  }
  return Li(n2, [{ key: "toDOM", value: function(e21) {
    var t3 = this, n3 = document.createElement("div");
    return n3.className = "cm-lint-marker cm-lint-marker-" + this.severity, n3.onmouseover = function() {
      return function(e22, t4, n4) {
        function r2() {
          var r3 = e22.elementAtHeight(t4.getBoundingClientRect().top + 5 - e22.documentTop);
          e22.coordsAtPos(r3.from) && e22.dispatch({ effects: Lz.of({ pos: r3.from, above: false, create: function() {
            return { dom: wz(e22, n4), getCoords: function() {
              return t4.getBoundingClientRect();
            } };
          } }) }), t4.onmouseout = t4.onmousemove = null, function(e23, t5) {
            var n5 = function n6(r4) {
              var i3 = t5.getBoundingClientRect();
              if (!(r4.clientX > i3.left - 10 && r4.clientX < i3.right + 10 && r4.clientY > i3.top - 10 && r4.clientY < i3.bottom + 10)) {
                for (var o3 = r4.target; o3; o3 = o3.parentNode)
                  if (o3.nodeType == 1 && o3.classList.contains("cm-tooltip-lint"))
                    return;
                window.removeEventListener("mousemove", n6), e23.state.field(zz) && e23.dispatch({ effects: Lz.of(null) });
              }
            };
            window.addEventListener("mousemove", n5);
          }(e22, t4);
        }
        var i2 = e22.state.facet(qz).hoverTime, o2 = setTimeout(r2, i2);
        t4.onmouseout = function() {
          clearTimeout(o2), t4.onmouseout = t4.onmousemove = null;
        }, t4.onmousemove = function() {
          clearTimeout(o2), o2 = setTimeout(r2, i2);
        };
      }(e21, n3, t3.diagnostics);
    }, n3;
  } }]), n2;
}();
function Nz(e20, t2) {
  var n2, r2 = /* @__PURE__ */ Object.create(null), i2 = bi(t2);
  try {
    for (i2.s(); !(n2 = i2.n()).done; ) {
      var o2 = n2.value, a2 = e20.lineAt(o2.from);
      (r2[a2.from] || (r2[a2.from] = [])).push(o2);
    }
  } catch (e21) {
    i2.e(e21);
  } finally {
    i2.f();
  }
  var s2 = [];
  for (var u2 in r2)
    s2.push(new Iz(r2[u2]).range(+u2));
  return S$.of(s2, true);
}
var Rz = eI({ class: "cm-gutter-lint", markers: function(e20) {
  return e20.state.field(Dz);
} }), Dz = A_.define({ create: function() {
  return S$.empty;
}, update: function(e20, t2) {
  e20 = e20.map(t2.changes);
  var n2, r2 = bi(t2.effects);
  try {
    for (r2.s(); !(n2 = r2.n()).done; ) {
      var i2 = n2.value;
      i2.is(vz) && (e20 = Nz(t2.state.doc, i2.value));
    }
  } catch (e21) {
    r2.e(e21);
  } finally {
    r2.f();
  }
  return e20;
} }), Lz = e$.define(), zz = A_.define({ create: function() {
  return null;
}, update: function(e20, t2) {
  return e20 && t2.docChanged && (e20 = Object.assign(Object.assign({}, e20), { pos: t2.changes.mapPos(e20.pos) })), t2.effects.reduce(function(e21, t3) {
    return t3.is(Lz) ? t3.value : e21;
  }, e20);
}, provide: function(e20) {
  return SD.from(e20);
} }), Bz = OE.baseTheme({ ".cm-gutter-lint": { width: "1.4em", "& .cm-gutterElement": { padding: ".2em" } }, ".cm-lint-marker": { width: "1em", height: "1em" }, ".cm-lint-marker-info": { content: Ez('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>') }, ".cm-lint-marker-warning": { content: Ez('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>') }, ".cm-lint-marker-error:before": { content: Ez('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>') } }), qz = C_.define({ combine: function(e20) {
  return d$(e20, { hoverTime: 300 });
} });
function Fz() {
  var e20 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return [qz.of(e20), Dz, Rz, Bz, zz];
}
var Vz, Hz = [pI(), bI(), fM(), SM(), NI(), WE(), rM(), h$.allowMultipleSelections.of(true), UT(), cz.fallback, FI(), ZN(), fL(), CL(), OL(), mM(), TR(), LE.of([].concat(rR, Ti(WN), lD, VM$1, OI, yL, hL, jz))], Wz = function() {
  function e20(t2, n2, r2, i2, o2, a2, s2, u2, c2) {
    var l2 = arguments.length > 9 && arguments[9] !== void 0 ? arguments[9] : 0, f2 = arguments.length > 10 ? arguments[10] : void 0;
    Ri(this, e20), this.p = t2, this.stack = n2, this.state = r2, this.reducePos = i2, this.pos = o2, this.score = a2, this.buffer = s2, this.bufferBase = u2, this.curContext = c2, this.lookAhead = l2, this.parent = f2;
  }
  return Li(e20, [{ key: "toString", value: function() {
    return "[".concat(this.stack.filter(function(e21, t2) {
      return t2 % 3 == 0;
    }).concat(this.state), "]@").concat(this.pos).concat(this.score ? "!" + this.score : "");
  } }, { key: "context", get: function() {
    return this.curContext ? this.curContext.context : null;
  } }, { key: "pushState", value: function(e21, t2) {
    this.stack.push(this.state, t2, this.bufferBase + this.buffer.length), this.state = e21;
  } }, { key: "reduce", value: function(e21) {
    var t2 = e21 >> 19, n2 = 65535 & e21, r2 = this.p.parser, i2 = r2.dynamicPrecedence(n2);
    if (i2 && (this.score += i2), t2 == 0)
      return this.pushState(r2.getGoto(this.state, n2, true), this.reducePos), n2 < r2.minRepeatTerm && this.storeNode(n2, this.reducePos, this.reducePos, 4, true), void this.reduceContext(n2, this.reducePos);
    var o2 = this.stack.length - 3 * (t2 - 1) - (262144 & e21 ? 6 : 0), a2 = this.stack[o2 - 2], s2 = this.stack[o2 - 1], u2 = this.bufferBase + this.buffer.length - s2;
    if (n2 < r2.minRepeatTerm || 131072 & e21) {
      var c2 = r2.stateFlag(this.state, 1) ? this.pos : this.reducePos;
      this.storeNode(n2, a2, c2, u2 + 4, true);
    }
    if (262144 & e21)
      this.state = this.stack[o2];
    else {
      var l2 = this.stack[o2 - 3];
      this.state = r2.getGoto(l2, n2, true);
    }
    for (; this.stack.length > o2; )
      this.stack.pop();
    this.reduceContext(n2, a2);
  } }, { key: "storeNode", value: function(e21, t2, n2) {
    var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 4, i2 = arguments.length > 4 && arguments[4] !== void 0 && arguments[4];
    if (e21 == 0) {
      var o2 = this, a2 = this.buffer.length;
      if (a2 == 0 && o2.parent && (a2 = o2.bufferBase - o2.parent.bufferBase, o2 = o2.parent), a2 > 0 && o2.buffer[a2 - 4] == 0 && o2.buffer[a2 - 1] > -1) {
        if (t2 == n2)
          return;
        if (o2.buffer[a2 - 2] >= t2)
          return void (o2.buffer[a2 - 2] = n2);
      }
    }
    if (i2 && this.pos != n2) {
      var s2 = this.buffer.length;
      if (s2 > 0 && this.buffer[s2 - 4] != 0)
        for (; s2 > 0 && this.buffer[s2 - 2] > n2; )
          this.buffer[s2] = this.buffer[s2 - 4], this.buffer[s2 + 1] = this.buffer[s2 - 3], this.buffer[s2 + 2] = this.buffer[s2 - 2], this.buffer[s2 + 3] = this.buffer[s2 - 1], s2 -= 4, r2 > 4 && (r2 -= 4);
      this.buffer[s2] = e21, this.buffer[s2 + 1] = t2, this.buffer[s2 + 2] = n2, this.buffer[s2 + 3] = r2;
    } else
      this.buffer.push(e21, t2, n2, r2);
  } }, { key: "shift", value: function(e21, t2, n2) {
    var r2 = this.pos;
    if (131072 & e21)
      this.pushState(65535 & e21, this.pos);
    else if ((262144 & e21) == 0) {
      var i2 = e21, o2 = this.p.parser;
      (n2 > this.pos || t2 <= o2.maxNode) && (this.pos = n2, o2.stateFlag(i2, 1) || (this.reducePos = n2)), this.pushState(i2, r2), this.shiftContext(t2, r2), t2 <= o2.maxNode && this.buffer.push(t2, r2, n2, 4);
    } else
      this.pos = n2, this.shiftContext(t2, r2), t2 <= this.p.parser.maxNode && this.buffer.push(t2, r2, n2, 4);
  } }, { key: "apply", value: function(e21, t2, n2) {
    65536 & e21 ? this.reduce(e21) : this.shift(e21, t2, n2);
  } }, { key: "useNode", value: function(e21, t2) {
    var n2 = this.p.reused.length - 1;
    (n2 < 0 || this.p.reused[n2] != e21) && (this.p.reused.push(e21), n2++);
    var r2 = this.pos;
    this.reducePos = this.pos = r2 + e21.length, this.pushState(t2, r2), this.buffer.push(n2, r2, this.reducePos, -1), this.curContext && this.updateContext(this.curContext.tracker.reuse(this.curContext.context, e21, this, this.p.stream.reset(this.pos - e21.length)));
  } }, { key: "split", value: function() {
    for (var t2 = this, n2 = t2.buffer.length; n2 > 0 && t2.buffer[n2 - 2] > t2.reducePos; )
      n2 -= 4;
    for (var r2 = t2.buffer.slice(n2), i2 = t2.bufferBase + n2; t2 && i2 == t2.bufferBase; )
      t2 = t2.parent;
    return new e20(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, r2, i2, this.curContext, this.lookAhead, t2);
  } }, { key: "recoverByDelete", value: function(e21, t2) {
    var n2 = e21 <= this.p.parser.maxNode;
    n2 && this.storeNode(e21, this.pos, t2, 4), this.storeNode(0, this.pos, t2, n2 ? 8 : 4), this.pos = this.reducePos = t2, this.score -= 190;
  } }, { key: "canShift", value: function(e21) {
    for (var t2 = new Jz(this); ; ) {
      var n2 = this.p.parser.stateSlot(t2.state, 4) || this.p.parser.hasAction(t2.state, e21);
      if ((65536 & n2) == 0)
        return true;
      if (n2 == 0)
        return false;
      t2.reduce(n2);
    }
  } }, { key: "recoverByInsert", value: function(e21) {
    if (this.stack.length >= 300)
      return [];
    var t2 = this.p.parser.nextStates(this.state);
    if (t2.length > 8 || this.stack.length >= 120) {
      for (var n2, r2 = [], i2 = 0; i2 < t2.length; i2 += 2)
        (n2 = t2[i2 + 1]) != this.state && this.p.parser.hasAction(n2, e21) && r2.push(t2[i2], n2);
      if (this.stack.length < 120)
        for (var o2 = function(e22) {
          var n3 = t2[e22 + 1];
          r2.some(function(e23, t3) {
            return 1 & t3 && e23 == n3;
          }) || r2.push(t2[e22], n3);
        }, a2 = 0; r2.length < 8 && a2 < t2.length; a2 += 2)
          o2(a2);
      t2 = r2;
    }
    for (var s2 = [], u2 = 0; u2 < t2.length && s2.length < 4; u2 += 2) {
      var c2 = t2[u2 + 1];
      if (c2 != this.state) {
        var l2 = this.split();
        l2.storeNode(0, l2.pos, l2.pos, 4, true), l2.pushState(c2, this.pos), l2.shiftContext(t2[u2], this.pos), l2.score -= 200, s2.push(l2);
      }
    }
    return s2;
  } }, { key: "forceReduce", value: function() {
    var e21 = this.p.parser.stateSlot(this.state, 5);
    if ((65536 & e21) == 0)
      return false;
    var t2 = this.p.parser;
    if (!t2.validAction(this.state, e21)) {
      var n2 = e21 >> 19, r2 = 65535 & e21, i2 = this.stack.length - 3 * n2;
      if (i2 < 0 || t2.getGoto(this.stack[i2], r2, false) < 0)
        return false;
      this.storeNode(0, this.reducePos, this.reducePos, 4, true), this.score -= 100;
    }
    return this.reduce(e21), true;
  } }, { key: "forceAll", value: function() {
    for (; !this.p.parser.stateFlag(this.state, 2); )
      if (!this.forceReduce()) {
        this.storeNode(0, this.pos, this.pos, 4, true);
        break;
      }
    return this;
  } }, { key: "deadEnd", get: function() {
    if (this.stack.length != 3)
      return false;
    var e21 = this.p.parser;
    return e21.data[e21.stateSlot(this.state, 1)] == 65535 && !e21.stateSlot(this.state, 4);
  } }, { key: "restart", value: function() {
    this.state = this.stack[0], this.stack.length = 0;
  } }, { key: "sameState", value: function(e21) {
    if (this.state != e21.state || this.stack.length != e21.stack.length)
      return false;
    for (var t2 = 0; t2 < this.stack.length; t2 += 3)
      if (this.stack[t2] != e21.stack[t2])
        return false;
    return true;
  } }, { key: "parser", get: function() {
    return this.p.parser;
  } }, { key: "dialectEnabled", value: function(e21) {
    return this.p.parser.dialect.flags[e21];
  } }, { key: "shiftContext", value: function(e21, t2) {
    this.curContext && this.updateContext(this.curContext.tracker.shift(this.curContext.context, e21, this, this.p.stream.reset(t2)));
  } }, { key: "reduceContext", value: function(e21, t2) {
    this.curContext && this.updateContext(this.curContext.tracker.reduce(this.curContext.context, e21, this, this.p.stream.reset(t2)));
  } }, { key: "emitContext", value: function() {
    var e21 = this.buffer.length - 1;
    (e21 < 0 || this.buffer[e21] != -3) && this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);
  } }, { key: "emitLookAhead", value: function() {
    var e21 = this.buffer.length - 1;
    (e21 < 0 || this.buffer[e21] != -4) && this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);
  } }, { key: "updateContext", value: function(e21) {
    if (e21 != this.curContext.context) {
      var t2 = new Uz(this.curContext.tracker, e21);
      t2.hash != this.curContext.hash && this.emitContext(), this.curContext = t2;
    }
  } }, { key: "setLookAhead", value: function(e21) {
    e21 > this.lookAhead && (this.emitLookAhead(), this.lookAhead = e21);
  } }, { key: "close", value: function() {
    this.curContext && this.curContext.tracker.strict && this.emitContext(), this.lookAhead > 0 && this.emitLookAhead();
  } }], [{ key: "start", value: function(t2, n2) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, i2 = t2.parser.context;
    return new e20(t2, [], n2, r2, r2, 0, [], 0, i2 ? new Uz(i2, i2.start) : null, 0, null);
  } }]), e20;
}(), Uz = Li(function e17(t2, n2) {
  Ri(this, e17), this.tracker = t2, this.context = n2, this.hash = t2.strict ? t2.hash(n2) : 0;
});
!function(e20) {
  e20[e20.Insert = 200] = "Insert", e20[e20.Delete = 190] = "Delete", e20[e20.Reduce = 100] = "Reduce", e20[e20.MaxNext = 4] = "MaxNext", e20[e20.MaxInsertStackDepth = 300] = "MaxInsertStackDepth", e20[e20.DampenInsertStackDepth = 120] = "DampenInsertStackDepth";
}(Vz || (Vz = {}));
var Jz = function() {
  function e20(t2) {
    Ri(this, e20), this.start = t2, this.state = t2.state, this.stack = t2.stack, this.base = this.stack.length;
  }
  return Li(e20, [{ key: "reduce", value: function(e21) {
    var t2 = 65535 & e21, n2 = e21 >> 19;
    n2 == 0 ? (this.stack == this.start.stack && (this.stack = this.stack.slice()), this.stack.push(this.state, 0, 0), this.base += 3) : this.base -= 3 * (n2 - 1);
    var r2 = this.start.p.parser.getGoto(this.stack[this.base - 3], t2, true);
    this.state = r2;
  } }]), e20;
}(), Kz = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.stack = t2, this.pos = n2, this.index = r2, this.buffer = t2.buffer, this.index == 0 && this.maybeNext();
  }
  return Li(e20, [{ key: "maybeNext", value: function() {
    var e21 = this.stack.parent;
    e21 != null && (this.index = this.stack.bufferBase - e21.bufferBase, this.stack = e21, this.buffer = e21.buffer);
  } }, { key: "id", get: function() {
    return this.buffer[this.index - 4];
  } }, { key: "start", get: function() {
    return this.buffer[this.index - 3];
  } }, { key: "end", get: function() {
    return this.buffer[this.index - 2];
  } }, { key: "size", get: function() {
    return this.buffer[this.index - 1];
  } }, { key: "next", value: function() {
    this.index -= 4, this.pos -= 4, this.index == 0 && this.maybeNext();
  } }, { key: "fork", value: function() {
    return new e20(this.stack, this.pos, this.index);
  } }], [{ key: "create", value: function(t2) {
    var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t2.bufferBase + t2.buffer.length;
    return new e20(t2, n2, n2 - t2.bufferBase);
  } }]), e20;
}(), Gz = Li(function e18() {
  Ri(this, e18), this.start = -1, this.value = -1, this.end = -1, this.extended = -1, this.lookAhead = 0, this.mask = 0, this.context = 0;
}), Qz = new Gz(), Yz = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.input = t2, this.ranges = n2, this.chunk = "", this.chunkOff = 0, this.chunk2 = "", this.chunk2Pos = 0, this.next = -1, this.token = Qz, this.rangeIndex = 0, this.pos = this.chunkPos = n2[0].from, this.range = n2[0], this.end = n2[n2.length - 1].to, this.readNext();
  }
  return Li(e20, [{ key: "resolveOffset", value: function(e21, t2) {
    for (var n2 = this.range, r2 = this.rangeIndex, i2 = this.pos + e21; i2 < n2.from; ) {
      if (!r2)
        return null;
      var o2 = this.ranges[--r2];
      i2 -= n2.from - o2.to, n2 = o2;
    }
    for (; t2 < 0 ? i2 > n2.to : i2 >= n2.to; ) {
      if (r2 == this.ranges.length - 1)
        return null;
      var a2 = this.ranges[++r2];
      i2 += a2.from - n2.to, n2 = a2;
    }
    return i2;
  } }, { key: "peek", value: function(e21) {
    var t2, n2, r2 = this.chunkOff + e21;
    if (r2 >= 0 && r2 < this.chunk.length)
      t2 = this.pos + e21, n2 = this.chunk.charCodeAt(r2);
    else {
      var i2 = this.resolveOffset(e21, 1);
      if (i2 == null)
        return -1;
      if ((t2 = i2) >= this.chunk2Pos && t2 < this.chunk2Pos + this.chunk2.length)
        n2 = this.chunk2.charCodeAt(t2 - this.chunk2Pos);
      else {
        for (var o2 = this.rangeIndex, a2 = this.range; a2.to <= t2; )
          a2 = this.ranges[++o2];
        this.chunk2 = this.input.chunk(this.chunk2Pos = t2), t2 + this.chunk2.length > a2.to && (this.chunk2 = this.chunk2.slice(0, a2.to - t2)), n2 = this.chunk2.charCodeAt(0);
      }
    }
    return t2 >= this.token.lookAhead && (this.token.lookAhead = t2 + 1), n2;
  } }, { key: "acceptToken", value: function(e21) {
    var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n2 = t2 ? this.resolveOffset(t2, -1) : this.pos;
    if (n2 == null || n2 < this.token.start)
      throw new RangeError("Token end out of bounds");
    this.token.value = e21, this.token.end = n2;
  } }, { key: "getChunk", value: function() {
    if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {
      var e21 = this.chunk, t2 = this.chunkPos;
      this.chunk = this.chunk2, this.chunkPos = this.chunk2Pos, this.chunk2 = e21, this.chunk2Pos = t2, this.chunkOff = this.pos - this.chunkPos;
    } else {
      this.chunk2 = this.chunk, this.chunk2Pos = this.chunkPos;
      var n2 = this.input.chunk(this.pos), r2 = this.pos + n2.length;
      this.chunk = r2 > this.range.to ? n2.slice(0, this.range.to - this.pos) : n2, this.chunkPos = this.pos, this.chunkOff = 0;
    }
  } }, { key: "readNext", value: function() {
    return this.chunkOff >= this.chunk.length && (this.getChunk(), this.chunkOff == this.chunk.length) ? this.next = -1 : this.next = this.chunk.charCodeAt(this.chunkOff);
  } }, { key: "advance", value: function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1;
    for (this.chunkOff += e21; this.pos + e21 >= this.range.to; ) {
      if (this.rangeIndex == this.ranges.length - 1)
        return this.setDone();
      e21 -= this.range.to - this.pos, this.range = this.ranges[++this.rangeIndex], this.pos = this.range.from;
    }
    return this.pos += e21, this.pos >= this.token.lookAhead && (this.token.lookAhead = this.pos + 1), this.readNext();
  } }, { key: "setDone", value: function() {
    return this.pos = this.chunkPos = this.end, this.range = this.ranges[this.rangeIndex = this.ranges.length - 1], this.chunk = "", this.next = -1;
  } }, { key: "reset", value: function(e21, t2) {
    if (t2 ? (this.token = t2, t2.start = e21, t2.lookAhead = e21 + 1, t2.value = t2.extended = -1) : this.token = Qz, this.pos != e21) {
      if (this.pos = e21, e21 == this.end)
        return this.setDone(), this;
      for (; e21 < this.range.from; )
        this.range = this.ranges[--this.rangeIndex];
      for (; e21 >= this.range.to; )
        this.range = this.ranges[++this.rangeIndex];
      e21 >= this.chunkPos && e21 < this.chunkPos + this.chunk.length ? this.chunkOff = e21 - this.chunkPos : (this.chunk = "", this.chunkOff = 0), this.readNext();
    }
    return this;
  } }, { key: "read", value: function(e21, t2) {
    if (e21 >= this.chunkPos && t2 <= this.chunkPos + this.chunk.length)
      return this.chunk.slice(e21 - this.chunkPos, t2 - this.chunkPos);
    if (e21 >= this.chunk2Pos && t2 <= this.chunk2Pos + this.chunk2.length)
      return this.chunk2.slice(e21 - this.chunk2Pos, t2 - this.chunk2Pos);
    if (e21 >= this.range.from && t2 <= this.range.to)
      return this.input.read(e21, t2);
    var n2, r2 = "", i2 = bi(this.ranges);
    try {
      for (i2.s(); !(n2 = i2.n()).done; ) {
        var o2 = n2.value;
        if (o2.from >= t2)
          break;
        o2.to > e21 && (r2 += this.input.read(Math.max(o2.from, e21), Math.min(o2.to, t2)));
      }
    } catch (e22) {
      i2.e(e22);
    } finally {
      i2.f();
    }
    return r2;
  } }]), e20;
}(), Zz = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.data = t2, this.id = n2;
  }
  return Li(e20, [{ key: "token", value: function(e21, t2) {
    !function(e22, t3, n2, r2) {
      var i2 = 0, o2 = 1 << r2, a2 = n2.p.parser, s2 = a2.dialect;
      e:
        for (; (o2 & e22[i2]) != 0; ) {
          for (var u2 = e22[i2 + 1], c2 = i2 + 3; c2 < u2; c2 += 2)
            if ((e22[c2 + 1] & o2) > 0) {
              var l2 = e22[c2];
              if (s2.allows(l2) && (t3.token.value == -1 || t3.token.value == l2 || a2.overrides(l2, t3.token.value))) {
                t3.acceptToken(l2);
                break;
              }
            }
          for (var f2 = t3.next, h2 = 0, d2 = e22[i2 + 2]; h2 < d2; ) {
            var v2 = h2 + d2 >> 1, p2 = u2 + v2 + (v2 << 1), m2 = e22[p2], g2 = e22[p2 + 1];
            if (f2 < m2)
              d2 = v2;
            else {
              if (!(f2 >= g2)) {
                i2 = e22[p2 + 2], t3.advance();
                continue e;
              }
              h2 = v2 + 1;
            }
          }
          break;
        }
    }(this.data, e21, t2, this.id);
  } }]), e20;
}();
function Xz(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Uint16Array;
  if (typeof e20 != "string")
    return e20;
  for (var n2 = null, r2 = 0, i2 = 0; r2 < e20.length; ) {
    for (var o2 = 0; ; ) {
      var a2 = e20.charCodeAt(r2++), s2 = false;
      if (a2 == 126) {
        o2 = 65535;
        break;
      }
      a2 >= 92 && a2--, a2 >= 34 && a2--;
      var u2 = a2 - 32;
      if (u2 >= 46 && (u2 -= 46, s2 = true), o2 += u2, s2)
        break;
      o2 *= 46;
    }
    n2 ? n2[i2++] = o2 : n2 = new t2(o2);
  }
  return n2;
}
Zz.prototype.contextual = Zz.prototype.fallback = Zz.prototype.extend = false;
var eB, tB = typeof process != "undefined" && /\bparse\b/.test({}.LOG), nB = null;
function rB(e20, t2, n2) {
  var r2 = e20.fullCursor();
  for (r2.moveTo(t2); ; )
    if (!(n2 < 0 ? r2.childBefore(t2) : r2.childAfter(t2)))
      for (; ; ) {
        if ((n2 < 0 ? r2.to < t2 : r2.from > t2) && !r2.type.isError)
          return n2 < 0 ? Math.max(0, Math.min(r2.to - 1, t2 - 25)) : Math.min(e20.length, Math.max(r2.from + 1, t2 + 25));
        if (n2 < 0 ? r2.prevSibling() : r2.nextSibling())
          break;
        if (!r2.parent())
          return n2 < 0 ? 0 : e20.length;
      }
}
!function(e20) {
  e20[e20.Margin = 25] = "Margin";
}(eB || (eB = {}));
var iB, oB = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.fragments = t2, this.nodeSet = n2, this.i = 0, this.fragment = null, this.safeFrom = -1, this.safeTo = -1, this.trees = [], this.start = [], this.index = [], this.nextFragment();
  }
  return Li(e20, [{ key: "nextFragment", value: function() {
    var e21 = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];
    if (e21) {
      for (this.safeFrom = e21.openStart ? rB(e21.tree, e21.from + e21.offset, 1) - e21.offset : e21.from, this.safeTo = e21.openEnd ? rB(e21.tree, e21.to + e21.offset, -1) - e21.offset : e21.to; this.trees.length; )
        this.trees.pop(), this.start.pop(), this.index.pop();
      this.trees.push(e21.tree), this.start.push(-e21.offset), this.index.push(0), this.nextStart = this.safeFrom;
    } else
      this.nextStart = 1e9;
  } }, { key: "nodeAt", value: function(e21) {
    if (e21 < this.nextStart)
      return null;
    for (; this.fragment && this.safeTo <= e21; )
      this.nextFragment();
    if (!this.fragment)
      return null;
    for (; ; ) {
      var t2 = this.trees.length - 1;
      if (t2 < 0)
        return this.nextFragment(), null;
      var n2 = this.trees[t2], r2 = this.index[t2];
      if (r2 != n2.children.length) {
        var i2 = n2.children[r2], o2 = this.start[t2] + n2.positions[r2];
        if (o2 > e21)
          return this.nextStart = o2, null;
        if (i2 instanceof ZM) {
          if (o2 == e21) {
            if (o2 < this.safeFrom)
              return null;
            var a2 = o2 + i2.length;
            if (a2 <= this.safeTo) {
              var s2 = i2.prop(UM.lookAhead);
              if (!s2 || a2 + s2 < this.fragment.to)
                return i2;
            }
          }
          this.index[t2]++, o2 + i2.length >= Math.max(this.safeFrom, e21) && (this.trees.push(i2), this.start.push(o2), this.index.push(0));
        } else
          this.index[t2]++, this.nextStart = o2 + i2.length;
      } else
        this.trees.pop(), this.start.pop(), this.index.pop();
    }
  } }]), e20;
}(), aB = function() {
  function e20(t2, n2) {
    Ri(this, e20), this.stream = n2, this.tokens = [], this.mainToken = null, this.actions = [], this.tokens = t2.tokenizers.map(function(e21) {
      return new Gz();
    });
  }
  return Li(e20, [{ key: "getActions", value: function(e21) {
    for (var t2 = 0, n2 = null, r2 = e21.p.parser, i2 = r2.tokenizers, o2 = r2.stateSlot(e21.state, 3), a2 = e21.curContext ? e21.curContext.hash : 0, s2 = 0, u2 = 0; u2 < i2.length; u2++)
      if ((1 << u2 & o2) != 0) {
        var c2 = i2[u2], l2 = this.tokens[u2];
        if ((!n2 || c2.fallback) && ((c2.contextual || l2.start != e21.pos || l2.mask != o2 || l2.context != a2) && (this.updateCachedToken(l2, c2, e21), l2.mask = o2, l2.context = a2), l2.lookAhead > l2.end + 25 && (s2 = Math.max(l2.lookAhead, s2)), l2.value != 0)) {
          var f2 = t2;
          if (l2.extended > -1 && (t2 = this.addActions(e21, l2.extended, l2.end, t2)), t2 = this.addActions(e21, l2.value, l2.end, t2), !c2.extend && (n2 = l2, t2 > f2))
            break;
        }
      }
    for (; this.actions.length > t2; )
      this.actions.pop();
    return s2 && e21.setLookAhead(s2), n2 || e21.pos != this.stream.end || ((n2 = new Gz()).value = e21.p.parser.eofTerm, n2.start = n2.end = e21.pos, t2 = this.addActions(e21, n2.value, n2.end, t2)), this.mainToken = n2, this.actions;
  } }, { key: "getMainToken", value: function(e21) {
    if (this.mainToken)
      return this.mainToken;
    var t2 = new Gz(), n2 = e21.pos, r2 = e21.p;
    return t2.start = n2, t2.end = Math.min(n2 + 1, r2.stream.end), t2.value = n2 == r2.stream.end ? r2.parser.eofTerm : 0, t2;
  } }, { key: "updateCachedToken", value: function(e21, t2, n2) {
    if (t2.token(this.stream.reset(n2.pos, e21), n2), e21.value > -1) {
      for (var r2 = n2.p.parser, i2 = 0; i2 < r2.specialized.length; i2++)
        if (r2.specialized[i2] == e21.value) {
          var o2 = r2.specializers[i2](this.stream.read(e21.start, e21.end), n2);
          if (o2 >= 0 && n2.p.parser.dialect.allows(o2 >> 1)) {
            (1 & o2) == 0 ? e21.value = o2 >> 1 : e21.extended = o2 >> 1;
            break;
          }
        }
    } else
      e21.value = 0, e21.end = Math.min(n2.p.stream.end, n2.pos + 1);
  } }, { key: "putAction", value: function(e21, t2, n2, r2) {
    for (var i2 = 0; i2 < r2; i2 += 3)
      if (this.actions[i2] == e21)
        return r2;
    return this.actions[r2++] = e21, this.actions[r2++] = t2, this.actions[r2++] = n2, r2;
  } }, { key: "addActions", value: function(e21, t2, n2, r2) {
    for (var i2 = e21.state, o2 = e21.p.parser, a2 = o2.data, s2 = 0; s2 < 2; s2++)
      for (var u2 = o2.stateSlot(i2, s2 ? 2 : 1); ; u2 += 3) {
        if (a2[u2] == 65535) {
          if (a2[u2 + 1] != 1) {
            r2 == 0 && a2[u2 + 1] == 2 && (r2 = this.putAction(lB(a2, u2 + 2), t2, n2, r2));
            break;
          }
          u2 = lB(a2, u2 + 2);
        }
        a2[u2] == t2 && (r2 = this.putAction(lB(a2, u2 + 1), t2, n2, r2));
      }
    return r2;
  } }]), e20;
}();
!function(e20) {
  e20[e20.Distance = 5] = "Distance", e20[e20.MaxRemainingPerStep = 3] = "MaxRemainingPerStep", e20[e20.MinBufferLengthPrune = 500] = "MinBufferLengthPrune", e20[e20.ForceReduceLimit = 10] = "ForceReduceLimit", e20[e20.CutDepth = 15e3] = "CutDepth", e20[e20.CutTo = 9e3] = "CutTo";
}(iB || (iB = {}));
var sB = function() {
  function e20(t2, n2, r2, i2) {
    Ri(this, e20), this.parser = t2, this.input = n2, this.ranges = i2, this.recovering = 0, this.nextStackID = 9812, this.minStackPos = 0, this.reused = [], this.stoppedAt = null, this.stream = new Yz(n2, i2), this.tokens = new aB(t2, this.stream), this.topTerm = t2.top[1];
    var o2 = i2[0].from;
    this.stacks = [Wz.start(this, t2.top[0], o2)], this.fragments = r2.length && this.stream.end - o2 > 4 * t2.bufferLength ? new oB(r2, t2.nodeSet) : null;
  }
  return Li(e20, [{ key: "parsedPos", get: function() {
    return this.minStackPos;
  } }, { key: "advance", value: function() {
    for (var e21, t2, n2 = this.stacks, r2 = this.minStackPos, i2 = this.stacks = [], o2 = 0; o2 < n2.length; o2++)
      for (var a2 = n2[o2]; ; ) {
        if (this.tokens.mainToken = null, a2.pos > r2)
          i2.push(a2);
        else {
          if (this.advanceStack(a2, i2, n2))
            continue;
          e21 || (e21 = [], t2 = []), e21.push(a2);
          var s2 = this.tokens.getMainToken(a2);
          t2.push(s2.value, s2.end);
        }
        break;
      }
    if (!i2.length) {
      var u2 = e21 && function(e22) {
        var t3, n3 = null, r3 = bi(e22);
        try {
          for (r3.s(); !(t3 = r3.n()).done; ) {
            var i3 = t3.value, o3 = i3.p.stoppedAt;
            (i3.pos == i3.p.stream.end || o3 != null && i3.pos > o3) && i3.p.parser.stateFlag(i3.state, 2) && (!n3 || n3.score < i3.score) && (n3 = i3);
          }
        } catch (e23) {
          r3.e(e23);
        } finally {
          r3.f();
        }
        return n3;
      }(e21);
      if (u2)
        return this.stackToTree(u2);
      if (this.parser.strict)
        throw tB && e21 && console.log("Stuck with token " + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : "none")), new SyntaxError("No parse at " + r2);
      this.recovering || (this.recovering = 5);
    }
    if (this.recovering && e21) {
      var c2 = this.stoppedAt != null && e21[0].pos > this.stoppedAt ? e21[0] : this.runRecovery(e21, t2, i2);
      if (c2)
        return this.stackToTree(c2.forceAll());
    }
    if (this.recovering) {
      var l2 = this.recovering == 1 ? 1 : 3 * this.recovering;
      if (i2.length > l2)
        for (i2.sort(function(e22, t3) {
          return t3.score - e22.score;
        }); i2.length > l2; )
          i2.pop();
      i2.some(function(e22) {
        return e22.reducePos > r2;
      }) && this.recovering--;
    } else if (i2.length > 1)
      e:
        for (var f2 = 0; f2 < i2.length - 1; f2++)
          for (var h2 = i2[f2], d2 = f2 + 1; d2 < i2.length; d2++) {
            var v2 = i2[d2];
            if (h2.sameState(v2) || h2.buffer.length > 500 && v2.buffer.length > 500) {
              if (!((h2.score - v2.score || h2.buffer.length - v2.buffer.length) > 0)) {
                i2.splice(f2--, 1);
                continue e;
              }
              i2.splice(d2--, 1);
            }
          }
    this.minStackPos = i2[0].pos;
    for (var p2 = 1; p2 < i2.length; p2++)
      i2[p2].pos < this.minStackPos && (this.minStackPos = i2[p2].pos);
    return null;
  } }, { key: "stopAt", value: function(e21) {
    if (this.stoppedAt != null && this.stoppedAt < e21)
      throw new RangeError("Can't move stoppedAt forward");
    this.stoppedAt = e21;
  } }, { key: "advanceStack", value: function(e21, t2, n2) {
    var r2 = e21.pos, i2 = this.parser, o2 = tB ? this.stackID(e21) + " -> " : "";
    if (this.stoppedAt != null && r2 > this.stoppedAt)
      return e21.forceReduce() ? e21 : null;
    if (this.fragments)
      for (var a2 = e21.curContext && e21.curContext.tracker.strict, s2 = a2 ? e21.curContext.hash : 0, u2 = this.fragments.nodeAt(r2); u2; ) {
        var c2 = this.parser.nodeSet.types[u2.type.id] == u2.type ? i2.getGoto(e21.state, u2.type.id) : -1;
        if (c2 > -1 && u2.length && (!a2 || (u2.prop(UM.contextHash) || 0) == s2))
          return e21.useNode(u2, c2), tB && console.log(o2 + this.stackID(e21) + " (via reuse of ".concat(i2.getName(u2.type.id), ")")), true;
        if (!(u2 instanceof ZM) || u2.children.length == 0 || u2.positions[0] > 0)
          break;
        var l2 = u2.children[0];
        if (!(l2 instanceof ZM && u2.positions[0] == 0))
          break;
        u2 = l2;
      }
    var f2 = i2.stateSlot(e21.state, 4);
    if (f2 > 0)
      return e21.reduce(f2), tB && console.log(o2 + this.stackID(e21) + " (via always-reduce ".concat(i2.getName(65535 & f2), ")")), true;
    if (e21.stack.length >= 15e3)
      for (; e21.stack.length > 9e3 && e21.forceReduce(); )
        ;
    for (var h2 = this.tokens.getActions(e21), d2 = 0; d2 < h2.length; ) {
      var v2 = h2[d2++], p2 = h2[d2++], m2 = h2[d2++], g2 = d2 == h2.length || !n2, y2 = g2 ? e21 : e21.split();
      if (y2.apply(v2, p2, m2), tB && console.log(o2 + this.stackID(y2) + " (via ".concat((65536 & v2) == 0 ? "shift" : "reduce of ".concat(i2.getName(65535 & v2)), " for ").concat(i2.getName(p2), " @ ").concat(r2).concat(y2 == e21 ? "" : ", split", ")")), g2)
        return true;
      y2.pos > r2 ? t2.push(y2) : n2.push(y2);
    }
    return false;
  } }, { key: "advanceFully", value: function(e21, t2) {
    for (var n2 = e21.pos; ; ) {
      if (!this.advanceStack(e21, null, null))
        return false;
      if (e21.pos > n2)
        return uB(e21, t2), true;
    }
  } }, { key: "runRecovery", value: function(e21, t2, n2) {
    for (var r2 = null, i2 = false, o2 = 0; o2 < e21.length; o2++) {
      var a2 = e21[o2], s2 = t2[o2 << 1], u2 = t2[1 + (o2 << 1)], c2 = tB ? this.stackID(a2) + " -> " : "";
      if (a2.deadEnd) {
        if (i2)
          continue;
        if (i2 = true, a2.restart(), tB && console.log(c2 + this.stackID(a2) + " (restarted)"), this.advanceFully(a2, n2))
          continue;
      }
      for (var l2 = a2.split(), f2 = c2, h2 = 0; l2.forceReduce() && h2 < 10; h2++) {
        if (tB && console.log(f2 + this.stackID(l2) + " (via force-reduce)"), this.advanceFully(l2, n2))
          break;
        tB && (f2 = this.stackID(l2) + " -> ");
      }
      var d2, v2 = bi(a2.recoverByInsert(s2));
      try {
        for (v2.s(); !(d2 = v2.n()).done; ) {
          var p2 = d2.value;
          tB && console.log(c2 + this.stackID(p2) + " (via recover-insert)"), this.advanceFully(p2, n2);
        }
      } catch (e22) {
        v2.e(e22);
      } finally {
        v2.f();
      }
      this.stream.end > a2.pos ? (u2 == a2.pos && (u2++, s2 = 0), a2.recoverByDelete(s2, u2), tB && console.log(c2 + this.stackID(a2) + " (via recover-delete ".concat(this.parser.getName(s2), ")")), uB(a2, n2)) : (!r2 || r2.score < a2.score) && (r2 = a2);
    }
    return r2;
  } }, { key: "stackToTree", value: function(e21) {
    return e21.close(), ZM.build({ buffer: Kz.create(e21), nodeSet: this.parser.nodeSet, topID: this.topTerm, maxBufferLength: this.parser.bufferLength, reused: this.reused, start: this.ranges[0].from, length: e21.pos - this.ranges[0].from, minRepeatType: this.parser.minRepeatTerm });
  } }, { key: "stackID", value: function(e21) {
    var t2 = (nB || (nB = /* @__PURE__ */ new WeakMap())).get(e21);
    return t2 || nB.set(e21, t2 = String.fromCodePoint(this.nextStackID++)), t2 + e21;
  } }]), e20;
}();
function uB(e20, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var r2 = t2[n2];
    if (r2.pos == e20.pos && r2.sameState(e20))
      return void (t2[n2].score < e20.score && (t2[n2] = e20));
  }
  t2.push(e20);
}
var cB = function() {
  function e20(t2, n2, r2) {
    Ri(this, e20), this.source = t2, this.flags = n2, this.disabled = r2;
  }
  return Li(e20, [{ key: "allows", value: function(e21) {
    return !this.disabled || this.disabled[e21] == 0;
  } }]), e20;
}();
function lB(e20, t2) {
  return e20[t2] | e20[t2 + 1] << 16;
}
function fB(e20, t2, n2) {
  for (var r2, i2 = t2; (r2 = e20[i2]) != 65535; i2++)
    if (r2 == n2)
      return i2 - t2;
  return -1;
}
var hB = function(e20) {
  xi(n2, mT);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    if (Ri(this, n2), (r2 = t2.call(this)).wrappers = [], e21.version != 13)
      throw new RangeError("Parser version (".concat(e21.version, ") doesn't match runtime version (", 13, ")"));
    var i2 = e21.nodeNames.split(" ");
    r2.minRepeatTerm = i2.length;
    for (var o2 = 0; o2 < e21.repeatNodeCount; o2++)
      i2.push("");
    for (var a2 = Object.keys(e21.topRules).map(function(t3) {
      return e21.topRules[t3][1];
    }), s2 = [], u2 = 0; u2 < i2.length; u2++)
      s2.push([]);
    function c2(e22, t3, n3) {
      s2[e22].push([t3, t3.deserialize(String(n3))]);
    }
    if (e21.nodeProps) {
      var l2, f2 = bi(e21.nodeProps);
      try {
        for (f2.s(); !(l2 = f2.n()).done; )
          for (var h2 = l2.value, d2 = h2[0], v2 = 1; v2 < h2.length; ) {
            var p2 = h2[v2++];
            if (p2 >= 0)
              c2(p2, d2, h2[v2++]);
            else {
              for (var m2 = h2[v2 + -p2], g2 = -p2; g2 > 0; g2--)
                c2(h2[v2++], d2, m2);
              v2++;
            }
          }
      } catch (e22) {
        f2.e(e22);
      } finally {
        f2.f();
      }
    }
    r2.nodeSet = new GM(i2.map(function(t3, n3) {
      return KM.define({ name: n3 >= r2.minRepeatTerm ? void 0 : t3, id: n3, props: s2[n3], top: a2.indexOf(n3) > -1, error: n3 == 0, skipped: e21.skippedNodes && e21.skippedNodes.indexOf(n3) > -1 });
    })), r2.strict = false, r2.bufferLength = 1024;
    var y2 = Xz(e21.tokenData);
    if (r2.context = e21.context, r2.specialized = new Uint16Array(e21.specialized ? e21.specialized.length : 0), r2.specializers = [], e21.specialized)
      for (var b2 = 0; b2 < e21.specialized.length; b2++)
        r2.specialized[b2] = e21.specialized[b2].term, r2.specializers[b2] = e21.specialized[b2].get;
    return r2.states = Xz(e21.states, Uint32Array), r2.data = Xz(e21.stateData), r2.goto = Xz(e21.goto), r2.maxTerm = e21.maxTerm, r2.tokenizers = e21.tokenizers.map(function(e22) {
      return typeof e22 == "number" ? new Zz(y2, e22) : e22;
    }), r2.topRules = e21.topRules, r2.dialects = e21.dialects || {}, r2.dynamicPrecedences = e21.dynamicPrecedences || null, r2.tokenPrecTable = e21.tokenPrec, r2.termNames = e21.termNames || null, r2.maxNode = r2.nodeSet.types.length - 1, r2.dialect = r2.parseDialect(), r2.top = r2.topRules[Object.keys(r2.topRules)[0]], r2;
  }
  return Li(n2, [{ key: "createParse", value: function(e21, t3, n3) {
    var r2, i2 = new sB(this, e21, t3, n3), o2 = bi(this.wrappers);
    try {
      for (o2.s(); !(r2 = o2.n()).done; ) {
        i2 = (0, r2.value)(i2, e21, t3, n3);
      }
    } catch (e22) {
      o2.e(e22);
    } finally {
      o2.f();
    }
    return i2;
  } }, { key: "getGoto", value: function(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r2 = this.goto;
    if (t3 >= r2[0])
      return -1;
    for (var i2 = r2[t3 + 1]; ; ) {
      var o2 = r2[i2++], a2 = 1 & o2, s2 = r2[i2++];
      if (a2 && n3)
        return s2;
      for (var u2 = i2 + (o2 >> 1); i2 < u2; i2++)
        if (r2[i2] == e21)
          return s2;
      if (a2)
        return -1;
    }
  } }, { key: "hasAction", value: function(e21, t3) {
    for (var n3 = this.data, r2 = 0; r2 < 2; r2++)
      for (var i2, o2 = this.stateSlot(e21, r2 ? 2 : 1); ; o2 += 3) {
        if ((i2 = n3[o2]) == 65535) {
          if (n3[o2 + 1] != 1) {
            if (n3[o2 + 1] == 2)
              return lB(n3, o2 + 2);
            break;
          }
          i2 = n3[o2 = lB(n3, o2 + 2)];
        }
        if (i2 == t3 || i2 == 0)
          return lB(n3, o2 + 1);
      }
    return 0;
  } }, { key: "stateSlot", value: function(e21, t3) {
    return this.states[6 * e21 + t3];
  } }, { key: "stateFlag", value: function(e21, t3) {
    return (this.stateSlot(e21, 0) & t3) > 0;
  } }, { key: "validAction", value: function(e21, t3) {
    if (t3 == this.stateSlot(e21, 4))
      return true;
    for (var n3 = this.stateSlot(e21, 1); ; n3 += 3) {
      if (this.data[n3] == 65535) {
        if (this.data[n3 + 1] != 1)
          return false;
        n3 = lB(this.data, n3 + 2);
      }
      if (t3 == lB(this.data, n3 + 1))
        return true;
    }
  } }, { key: "nextStates", value: function(e21) {
    for (var t3 = this, n3 = [], r2 = this.stateSlot(e21, 1); ; r2 += 3) {
      if (this.data[r2] == 65535) {
        if (this.data[r2 + 1] != 1)
          break;
        r2 = lB(this.data, r2 + 2);
      }
      (1 & this.data[r2 + 2]) == 0 && function() {
        var e22 = t3.data[r2 + 1];
        n3.some(function(t4, n4) {
          return 1 & n4 && t4 == e22;
        }) || n3.push(t3.data[r2], e22);
      }();
    }
    return n3;
  } }, { key: "overrides", value: function(e21, t3) {
    var n3 = fB(this.data, this.tokenPrecTable, t3);
    return n3 < 0 || fB(this.data, this.tokenPrecTable, e21) < n3;
  } }, { key: "configure", value: function(e21) {
    var t3, r2 = Object.assign(Object.create(n2.prototype), this);
    if (e21.props && (r2.nodeSet = (t3 = this.nodeSet).extend.apply(t3, Ti(e21.props))), e21.top) {
      var i2 = this.topRules[e21.top];
      if (!i2)
        throw new RangeError("Invalid top rule name ".concat(e21.top));
      r2.top = i2;
    }
    return e21.tokenizers && (r2.tokenizers = this.tokenizers.map(function(t4) {
      var n3 = e21.tokenizers.find(function(e22) {
        return e22.from == t4;
      });
      return n3 ? n3.to : t4;
    })), e21.contextTracker && (r2.context = e21.contextTracker), e21.dialect && (r2.dialect = this.parseDialect(e21.dialect)), e21.strict != null && (r2.strict = e21.strict), e21.wrap && (r2.wrappers = r2.wrappers.concat(e21.wrap)), e21.bufferLength != null && (r2.bufferLength = e21.bufferLength), r2;
  } }, { key: "getName", value: function(e21) {
    return this.termNames ? this.termNames[e21] : String(e21 <= this.maxNode && this.nodeSet.types[e21].name || e21);
  } }, { key: "eofTerm", get: function() {
    return this.maxNode + 1;
  } }, { key: "topNode", get: function() {
    return this.nodeSet.types[this.top[1]];
  } }, { key: "dynamicPrecedence", value: function(e21) {
    var t3 = this.dynamicPrecedences;
    return t3 == null ? 0 : t3[e21] || 0;
  } }, { key: "parseDialect", value: function(e21) {
    var t3 = Object.keys(this.dialects), n3 = t3.map(function() {
      return false;
    });
    if (e21) {
      var r2, i2 = bi(e21.split(" "));
      try {
        for (i2.s(); !(r2 = i2.n()).done; ) {
          var o2 = r2.value, a2 = t3.indexOf(o2);
          a2 >= 0 && (n3[a2] = true);
        }
      } catch (e22) {
        i2.e(e22);
      } finally {
        i2.f();
      }
    }
    for (var s2 = null, u2 = 0; u2 < t3.length; u2++)
      if (!n3[u2])
        for (var c2, l2 = this.dialects[t3[u2]]; (c2 = this.data[l2++]) != 65535; )
          (s2 || (s2 = new Uint8Array(this.maxTerm + 1)))[c2] = 1;
    return new cB(e21, n3, s2);
  } }], [{ key: "deserialize", value: function(e21) {
    return new n2(e21);
  } }]), n2;
}().deserialize({ version: 13, states: "$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j", stateData: "#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O", goto: "!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R", nodeNames: "\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array", maxTerm: 25, nodeProps: [[UM.openedBy, 7, "{", 12, "["], [UM.closedBy, 8, "}", 13, "]"]], skippedNodes: [0], repeatNodeCount: 2, tokenData: "(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~", tokenizers: [0], topRules: { JsonText: [0, 1] }, tokenPrec: 0 }), dB = kT.define({ parser: hB.configure({ props: [zT.add({ Object: WT({ except: /^\s*\}/ }), Array: WT({ except: /^\s*\]/ }) }), KT.add({ "Object Array": function(e20) {
  var t2 = e20.firstChild, n2 = e20.lastChild;
  return t2 && t2.to < n2.from ? { from: t2.to, to: n2.type.isError ? e20.to : n2.from } : null;
} }), IL({ String: uz.string, Number: uz.number, "True False": uz.bool, PropertyName: uz.propertyName, Null: uz.null, ",": uz.separator, "[ ]": uz.squareBracket, "{ }": uz.brace })] }), languageData: { closeBrackets: { brackets: ["[", "{", '"'] }, indentOnInput: /^\s*[\}\]]$/ } });
var vB = BL.define([{ tag: uz.propertyName, color: "var(--jse-key-color)" }, { tag: uz.number, color: "var(--jse-value-color-number)" }, { tag: uz.bool, color: "var(--jse-value-color-boolean)" }, { tag: uz.string, color: "var(--jse-value-color-string)" }, { tag: uz.keyword, color: "var(--jse-value-color-null)" }]);
function pB(e20, t2) {
  var n2 = Date.now(), r2 = e20();
  return t2(Date.now() - n2), r2;
}
function mB(e20) {
  co(e20, "svelte-1oo7hnc", ".jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);margin:0;border-top:var(--jse-panel-border);border-left:var(--jse-main-border);border-right:var(--jse-main-border);display:flex;gap:var(--jse-padding)}.jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc:last-child{border-bottom:var(--jse-main-border)}.jse-status-bar.svelte-1oo7hnc .jse-status-bar-info.svelte-1oo7hnc{padding:2px}");
}
function gB(e20) {
  var t2, n2, r2;
  return { c: function() {
    t2 = go("div"), n2 = bo("Line: "), r2 = bo(e20[0]), So(t2, "class", "jse-status-bar-info svelte-1oo7hnc");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), uo(t2, n2), uo(t2, r2);
  }, p: function(e21, t3) {
    1 & t3 && Po(r2, e21[0]);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function yB(e20) {
  var t2, n2, r2;
  return { c: function() {
    t2 = go("div"), n2 = bo("Column: "), r2 = bo(e20[1]), So(t2, "class", "jse-status-bar-info svelte-1oo7hnc");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), uo(t2, n2), uo(t2, r2);
  }, p: function(e21, t3) {
    2 & t3 && Po(r2, e21[1]);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function bB(e20) {
  var t2, n2, r2, i2;
  return { c: function() {
    t2 = go("div"), n2 = bo("Selection: "), r2 = bo(e20[2]), i2 = bo(" characters"), So(t2, "class", "jse-status-bar-info svelte-1oo7hnc");
  }, m: function(e21, o2) {
    vo(e21, t2, o2), uo(t2, n2), uo(t2, r2), uo(t2, i2);
  }, p: function(e21, t3) {
    4 & t3 && Po(r2, e21[2]);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function wB(e20) {
  var t2, n2, r2, i2 = e20[0] !== void 0 && gB(e20), o2 = e20[1] !== void 0 && yB(e20), a2 = e20[2] !== void 0 && e20[2] > 0 && bB(e20);
  return { c: function() {
    t2 = go("div"), i2 && i2.c(), n2 = wo(), o2 && o2.c(), r2 = wo(), a2 && a2.c(), So(t2, "class", "jse-status-bar svelte-1oo7hnc");
  }, m: function(e21, s2) {
    vo(e21, t2, s2), i2 && i2.m(t2, null), uo(t2, n2), o2 && o2.m(t2, null), uo(t2, r2), a2 && a2.m(t2, null);
  }, p: function(e21, s2) {
    var u2 = ji(s2, 1)[0];
    e21[0] !== void 0 ? i2 ? i2.p(e21, u2) : ((i2 = gB(e21)).c(), i2.m(t2, n2)) : i2 && (i2.d(1), i2 = null), e21[1] !== void 0 ? o2 ? o2.p(e21, u2) : ((o2 = yB(e21)).c(), o2.m(t2, r2)) : o2 && (o2.d(1), o2 = null), e21[2] !== void 0 && e21[2] > 0 ? a2 ? a2.p(e21, u2) : ((a2 = bB(e21)).c(), a2.m(t2, null)) : a2 && (a2.d(1), a2 = null);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2), i2 && i2.d(), o2 && o2.d(), a2 && a2.d();
  } };
}
function kB(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2 = t2.editorState;
  return e20.$$set = function(e21) {
    "editorState" in e21 && n2(3, d2 = e21.editorState);
  }, e20.$$.update = function() {
    56 & e20.$$.dirty && n2(9, u2 = n2(5, i2 = n2(4, r2 = d2 == null ? void 0 : d2.selection) === null || r2 === void 0 ? void 0 : r2.main) === null || i2 === void 0 ? void 0 : i2.head), 584 & e20.$$.dirty && n2(10, c2 = n2(6, o2 = d2 == null ? void 0 : d2.doc) === null || o2 === void 0 ? void 0 : o2.lineAt(u2)), 1024 & e20.$$.dirty && n2(0, l2 = c2 ? c2.number : void 0), 1536 & e20.$$.dirty && n2(1, f2 = c2 ? u2 - c2.from + 1 : void 0), 392 & e20.$$.dirty && n2(2, h2 = n2(8, s2 = n2(7, a2 = d2 == null ? void 0 : d2.selection) === null || a2 === void 0 ? void 0 : a2.ranges) === null || s2 === void 0 ? void 0 : s2.reduce(function(e21, t3) {
      return e21 + t3.to - t3.from;
    }, 0));
  }, [l2, f2, h2, d2, r2, i2, o2, a2, s2, u2, c2];
}
var jB = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, kB, wB, Ji, { editorState: 3 }, mB), r2;
  }
  return Li(n2);
}();
function xB(e20) {
  co(e20, "svelte-1ol5grl", '.jse-code-mode.svelte-1ol5grl.svelte-1ol5grl{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color)}.jse-code-mode.no-main-menu.svelte-1ol5grl.svelte-1ol5grl{border-top:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl:last-child{border-bottom:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.jse-hidden.svelte-1ol5grl{visibility:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor{flex:1;overflow:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);color:var(--jse-delimiter-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-gutters{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);border-right:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLine,.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLineGutter{background:var(--jse-hover-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background);color:var(--jse-tag-color);border:none;padding:0 var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-diagnostic{font-size:var(--jse-font-size);font-family:var(--jse-font-family)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-panels{border-bottom:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search{background:var(--jse-panel-background);color:var(--jse-panel-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search input{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-input-color);border:var(--jse-input-border);background:var(--jse-input-background);margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-panel-button-color);background:var(--jse-panel-button-background);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);margin:0}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);padding-left:var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label input{margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color)}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading-space.svelte-1ol5grl{flex:1}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading.svelte-1ol5grl{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}');
}
function SB(e20) {
  var t2, n2;
  return t2 = new zC({ props: { readOnly: e20[1], onFormat: e20[17], onCompact: e20[18], onSort: e20[19], onTransform: e20[20], onToggleSearch: e20[21], onUndo: e20[22], onRedo: e20[23], canFormat: !e20[15], canCompact: !e20[15], canSort: !e20[15], canTransform: !e20[15], canUndo: e20[10], canRedo: e20[11], onRenderMenu: e20[5] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    2 & n3[0] && (r2.readOnly = e21[1]), 32768 & n3[0] && (r2.canFormat = !e21[15]), 32768 & n3[0] && (r2.canCompact = !e21[15]), 32768 & n3[0] && (r2.canSort = !e21[15]), 32768 & n3[0] && (r2.canTransform = !e21[15]), 1024 & n3[0] && (r2.canUndo = e21[10]), 2048 & n3[0] && (r2.canRedo = e21[11]), 32 & n3[0] && (r2.onRenderMenu = e21[5]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function CB(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).innerHTML = '<div class="jse-loading-space svelte-1ol5grl"></div> \n      <div class="jse-loading svelte-1ol5grl">loading...</div>', So(t2, "class", "jse-contents svelte-1ol5grl");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function _B(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2 = e20[14] && $B(e20), l2 = e20[12] && OB(e20);
  o2 = new pC({ props: { validationErrors: e20[9], selectError: e20[26] } });
  var f2 = e20[3] && PB(e20);
  return { c: function() {
    c2 && c2.c(), t2 = wo(), n2 = go("div"), r2 = wo(), l2 && l2.c(), i2 = wo(), Pa(o2.$$.fragment), a2 = wo(), f2 && f2.c(), s2 = ko(), So(n2, "class", "jse-contents svelte-1ol5grl"), Io(n2, "jse-hidden", e20[14]);
  }, m: function(h2, d2) {
    c2 && c2.m(h2, d2), vo(h2, t2, d2), vo(h2, n2, d2), e20[45](n2), vo(h2, r2, d2), l2 && l2.m(h2, d2), vo(h2, i2, d2), Aa(o2, h2, d2), vo(h2, a2, d2), f2 && f2.m(h2, d2), vo(h2, s2, d2), u2 = true;
  }, p: function(e21, r3) {
    e21[14] ? c2 ? (c2.p(e21, r3), 16384 & r3[0] && ya(c2, 1)) : ((c2 = $B(e21)).c(), ya(c2, 1), c2.m(t2.parentNode, t2)) : c2 && (ma(), ba(c2, 1, 1, function() {
      c2 = null;
    }), ga()), 16384 & r3[0] && Io(n2, "jse-hidden", e21[14]), e21[12] ? l2 ? (l2.p(e21, r3), 4096 & r3[0] && ya(l2, 1)) : ((l2 = OB(e21)).c(), ya(l2, 1), l2.m(i2.parentNode, i2)) : l2 && (ma(), ba(l2, 1, 1, function() {
      l2 = null;
    }), ga());
    var a3 = {};
    512 & r3[0] && (a3.validationErrors = e21[9]), o2.$set(a3), e21[3] ? f2 ? (f2.p(e21, r3), 8 & r3[0] && ya(f2, 1)) : ((f2 = PB(e21)).c(), ya(f2, 1), f2.m(s2.parentNode, s2)) : f2 && (ma(), ba(f2, 1, 1, function() {
      f2 = null;
    }), ga());
  }, i: function(e21) {
    u2 || (ya(c2), ya(l2), ya(o2.$$.fragment, e21), ya(f2), u2 = true);
  }, o: function(e21) {
    ba(c2), ba(l2), ba(o2.$$.fragment, e21), ba(f2), u2 = false;
  }, d: function(u3) {
    c2 && c2.d(u3), u3 && po(t2), u3 && po(n2), e20[45](null), u3 && po(r2), l2 && l2.d(u3), u3 && po(i2), Ea(o2, u3), u3 && po(a2), f2 && f2.d(u3), u3 && po(s2);
  } };
}
function $B(e20) {
  var t2, n2;
  return t2 = new nC({ props: { icon: yS, type: "error", message: "The JSON document is larger than ".concat(kS(10485760, 1024), ", ") + "and may crash your browser when loading it in code mode. Actual size: ".concat(kS(e20[0].length, 1024), "."), actions: [{ text: "Open anyway", title: "Open the document in code mode. This may freeze or crash your browser.", onClick: e20[24] }, { text: "Open in tree mode", title: "Open the document in tree mode. Tree mode can handle large documents.", onClick: e20[4] }, { text: "Cancel", title: "Cancel opening this large document.", onClick: e20[25] }] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    1 & n3[0] && (r2.message = "The JSON document is larger than ".concat(kS(10485760, 1024), ", ") + "and may crash your browser when loading it in code mode. Actual size: ".concat(kS(e21[0].length, 1024), ".")), 16 & n3[0] && (r2.actions = [{ text: "Open anyway", title: "Open the document in code mode. This may freeze or crash your browser.", onClick: e21[24] }, { text: "Open in tree mode", title: "Open the document in tree mode. Tree mode can handle large documents.", onClick: e21[4] }, { text: "Cancel", title: "Cancel opening this large document.", onClick: e21[25] }]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function OB(e20) {
  var t2, n2;
  return t2 = new nC({ props: { type: "error", icon: yS, message: e20[12].message, actions: e20[13], onClick: e20[46] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    4096 & n3[0] && (r2.message = e21[12].message), 8192 & n3[0] && (r2.actions = e21[13]), 4096 & n3[0] && (r2.onClick = e21[46]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function PB(e20) {
  var t2, n2;
  return t2 = new jB({ props: { editorState: e20[8] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    256 & n3[0] && (r2.editorState = e21[8]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function AB(e20) {
  var t2, n2, r2, i2, o2, a2 = e20[2] && SB(e20), s2 = [_B, CB], u2 = [];
  return r2 = function(e21, t3) {
    return e21[16] ? 1 : 0;
  }(e20), i2 = u2[r2] = s2[r2](e20), { c: function() {
    t2 = go("div"), a2 && a2.c(), n2 = wo(), i2.c(), So(t2, "class", "jse-code-mode svelte-1ol5grl"), Io(t2, "no-main-menu", !e20[2]);
  }, m: function(i3, s3) {
    vo(i3, t2, s3), a2 && a2.m(t2, null), uo(t2, n2), u2[r2].m(t2, null), e20[47](t2), o2 = true;
  }, p: function(e21, r3) {
    e21[2] ? a2 ? (a2.p(e21, r3), 4 & r3[0] && ya(a2, 1)) : ((a2 = SB(e21)).c(), ya(a2, 1), a2.m(t2, n2)) : a2 && (ma(), ba(a2, 1, 1, function() {
      a2 = null;
    }), ga()), i2.p(e21, r3), 4 & r3[0] && Io(t2, "no-main-menu", !e21[2]);
  }, i: function(e21) {
    o2 || (ya(a2), ya(i2), o2 = true);
  }, o: function(e21) {
    ba(a2), ba(i2), o2 = false;
  }, d: function(n3) {
    n3 && po(t2), a2 && a2.d(), u2[r2].d(), e20[47](null);
  } };
}
function EB(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2 = t2.readOnly, v2 = d2 !== void 0 && d2, p2 = t2.mainMenuBar, m2 = p2 === void 0 || p2, g2 = t2.statusBar, y2 = g2 === void 0 || g2, b2 = t2.text, w2 = b2 === void 0 ? "" : b2, k2 = t2.indentation, j2 = k2 === void 0 ? 2 : k2, x2 = t2.escapeUnicodeCharacters, S2 = x2 !== void 0 && x2, C2 = t2.validator, _2 = C2 === void 0 ? null : C2, $2 = t2.onChange, O2 = $2 === void 0 ? null : $2, P2 = t2.onSwitchToTreeMode, A2 = P2 === void 0 ? wc : P2, E2 = t2.onError, M2 = t2.onFocus, T2 = M2 === void 0 ? wc : M2, I2 = t2.onBlur, N2 = I2 === void 0 ? wc : I2, R2 = t2.onRenderMenu, D2 = R2 === void 0 ? wc : R2, L2 = t2.onSortModal, z2 = t2.onTransformModal, B2 = Na("jsoneditor:CodeMode"), q2 = { key: "Mod-i", run: te2, shift: ne2, preventDefault: true }, F2 = typeof window == "undefined";
  B2("isSSR:", F2);
  var V2 = false, H2 = [], W2 = new z_(), U2 = new z_(), J2 = S2;
  Jo(yi(mi().mark(function e21() {
    return mi().wrap(function(e22) {
      for (; ; )
        switch (e22.prev = e22.next) {
          case 0:
            if (!F2) {
              e22.next = 2;
              break;
            }
            return e22.abrupt("return");
          case 2:
            try {
              c2 = ue2({ target: u2, initialText: o2 ? "" : w2, readOnly: v2, indentation: j2 }), Z2();
            } catch (e23) {
              console.error(e23);
            }
          case 3:
          case "end":
            return e22.stop();
        }
    }, e21);
  }))), Ko(function() {
    c2 && (B2("Destroy CodeMirror editor"), c2.destroy());
  });
  var K2 = false, G2 = false, Q2 = kk(), Y2 = kk();
  function Z2() {
    c2 && (B2("focus"), c2.focus());
  }
  var X2 = false;
  function ee2(e21) {
    B2("patch", e21);
    var t3 = w2, r3 = JSON.parse(w2), i3 = ws.exports.immutableJSONPatch(r3, e21), o3 = ws.exports.revertJSONPatch(r3, e21);
    return n2(0, w2 = JSON.stringify(i3, null, j2)), w2 !== t3 && ge2(w2, t3), { json: i3, previousJson: r3, undo: o3, redo: e21 };
  }
  function te2() {
    if (B2("format"), !v2)
      try {
        var e21 = w2, t3 = JSON.parse(w2);
        n2(0, w2 = JSON.stringify(t3, null, j2)), w2 !== e21 && ge2(w2, e21);
      } catch (e22) {
        E2(e22);
      }
  }
  function ne2() {
    if (B2("compact"), !v2)
      try {
        var e21 = w2, t3 = JSON.parse(w2);
        n2(0, w2 = JSON.stringify(t3)), w2 !== e21 && ge2(w2, e21);
      } catch (e22) {
        E2(e22);
      }
  }
  function re2() {
    if (B2("repair"), !v2)
      try {
        var e21 = w2;
        n2(0, w2 = Ds(w2)), n2(43, ye2 = "valid"), n2(12, be2 = void 0), w2 !== e21 && ge2(w2, e21);
      } catch (e22) {
        E2(e22);
      }
  }
  function ie2(e21) {
    var t3 = e21.id, n3 = e21.selectedPath, r3 = e21.onTransform, i3 = e21.onClose;
    try {
      var o3 = JSON.parse(w2);
      X2 = true, z2({ id: t3 || Y2, json: o3, selectedPath: n3, onTransform: r3 ? function(e22) {
        r3({ operations: e22, json: o3, transformedJson: ws.exports.immutableJSONPatch(o3, e22) });
      } : function(e22) {
        B2("onTransform", e22), ee2(e22);
      }, onClose: function() {
        X2 = false, Z2(), i3 && i3();
      } });
    } catch (e22) {
      E2(e22);
    }
  }
  function oe2(e21) {
    B2("select parse error", e21);
    var t3 = le2(e21);
    ae2(t3.from, t3.to), Z2();
  }
  function ae2(e21, t3) {
    B2("setSelection", { anchor: e21, head: t3 }), c2 && c2.dispatch(c2.state.update({ selection: { anchor: e21, head: t3 }, scrollIntoView: true }));
  }
  function se2(e21, t3) {
    if (t3.state.selection.ranges.length === 1) {
      var n3 = t3.state.selection.ranges[0], r3 = w2.slice(n3.from, n3.to);
      if (r3 === "{" || r3 === "[") {
        var i3 = ks.parse(w2), o3 = Object.keys(i3.pointers).find(function(e22) {
          var t4;
          return ((t4 = i3.pointers[e22].value) === null || t4 === void 0 ? void 0 : t4.pos) === n3.from;
        }), a3 = i3.pointers[o3];
        if (o3 && a3 && a3.value && a3.valueEnd)
          B2("pointer found, selecting inner contents of path:", o3, a3), ae2(a3.value.pos + 1, a3.valueEnd.pos - 1);
      }
    }
  }
  function ue2(e21) {
    var t3 = e21.target, r3 = e21.initialText, i3 = e21.readOnly, o3 = e21.indentation;
    B2("Create CodeMirror editor", { readOnly: i3, indentation: o3 });
    var a3 = h$.create({ doc: r3, extensions: [LE.of([UN, q2]), Cz(function() {
      return me2.flush(), function() {
        if (B2("validate"), n2(43, ye2 = "valid"), n2(12, be2 = null), n2(9, H2 = []), w2.length > 104857600)
          return [{ from: 0, to: 0, message: "Validation turned off: the document is too large", severity: "info" }];
        if (w2.length === 0)
          return [];
        try {
          var e22 = pB(function() {
            return JSON.parse(w2);
          }, function(e23) {
            return B2("validate: parsed json in ".concat(e23, " ms"));
          });
          return _2 ? (n2(9, H2 = pB(function() {
            return _2(e22);
          }, function(e23) {
            return B2("validate: validated json in ".concat(e23, " ms"));
          })), H2.map(ce2)) : [];
        } catch (e23) {
          var t4 = pB(function() {
            return function(e24) {
              if (e24.length > 1048576)
                return false;
              try {
                return JSON.parse(Ds(e24)), true;
              } catch (e25) {
                return false;
              }
            }(w2);
          }, function(e24) {
            return B2("validate: checked whether repairable in ".concat(e24, " ms"));
          });
          return n2(12, be2 = ru(w2, e23.message || e23.toString())), n2(43, ye2 = t4 ? "repairable" : "invalid"), [le2(be2, t4)];
        }
      }();
    }, { delay: 300 }), Fz(), Hz, vB, OE.domEventHandlers({ dblclick: se2 }), OE.updateListener.of(function(e22) {
      n2(8, h2 = e22.state), e22.docChanged && me2();
    }), new MT(dB), BR({ top: true }), W2.of(h$.readOnly.of(i3)), U2.of(ve2(o3)), OE.lineWrapping] });
    return c2 = new OE({ state: a3, parent: t3 });
  }
  function ce2(e21) {
    var t3 = e21.path, n3 = e21.message, r3 = e21.isChildError, i3 = function(e22, t4) {
      try {
        var n4 = ks.parse(e22), r4 = ws.exports.compileJSONPointer(t4), i4 = n4.pointers[r4];
        if (i4)
          return { path: t4, line: i4.key ? i4.key.line : i4.value ? i4.value.line : 0, column: i4.key ? i4.key.column : i4.value ? i4.value.column : 0, from: i4.key ? i4.key.pos : i4.value ? i4.value.pos : 0, to: i4.keyEnd ? i4.keyEnd.pos : i4.valueEnd ? i4.valueEnd.pos : 0 };
      } catch (e23) {
        console.error(e23);
      }
      return null;
    }(w2, t3);
    return { path: t3, isChildError: r3, line: i3.line, column: i3.column, from: i3.from, to: i3.to, message: n3, severity: "warning", actions: [] };
  }
  function le2(e21, t3) {
    var n3 = e21.line, r3 = e21.column, i3 = e21.position;
    return { path: null, line: n3, column: r3, from: i3 || 0, to: i3 || 0, severity: "error", message: e21.message, actions: t3 && !v2 ? [{ name: "Auto repair", apply: function() {
      return re2();
    } }] : null };
  }
  function fe2(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    !o2 || t3 ? c2 && e21 !== l2 && (B2("setCodeMirrorValue length=", e21.length), l2 = e21, c2.dispatch({ changes: { from: 0, to: c2.state.doc.length, insert: a2.escapeValue(e21) } }), pe2()) : B2("not applying text: editor is disabled");
  }
  function he2() {
    B2("forceUpdateText", { escapeUnicodeCharacters: S2 }), c2 && c2.dispatch({ changes: { from: 0, to: c2.state.doc.length, insert: a2.escapeValue(w2) } });
  }
  function de2() {
    if (c2 && (l2 = c2 ? a2.unescapeValue(c2.state.doc.toString()) : "") !== w2) {
      var e21 = l2;
      B2("text changed"), n2(0, w2 = l2), pe2(), ge2(w2, e21);
    }
  }
  function ve2(e21) {
    return IT.of(" ".repeat(e21));
  }
  function pe2() {
    n2(10, K2 = EM(c2.state) > 0), n2(11, G2 = MM(c2.state) > 0), B2({ canUndo: K2, canRedo: G2 });
  }
  xS({ onMount: Jo, onDestroy: Ko, getWindow: function() {
    return Px(f2);
  }, hasFocus: function() {
    return X2 && document.hasFocus() || Ax(f2);
  }, onFocus: T2, onBlur: N2 });
  var me2 = Av(de2, 300);
  function ge2(e21, t3) {
    O2 && O2(e21, t3);
  }
  var ye2 = "valid", be2 = null;
  return e20.$$set = function(e21) {
    "readOnly" in e21 && n2(1, v2 = e21.readOnly), "mainMenuBar" in e21 && n2(2, m2 = e21.mainMenuBar), "statusBar" in e21 && n2(3, y2 = e21.statusBar), "text" in e21 && n2(0, w2 = e21.text), "indentation" in e21 && n2(28, j2 = e21.indentation), "escapeUnicodeCharacters" in e21 && n2(29, S2 = e21.escapeUnicodeCharacters), "validator" in e21 && n2(30, _2 = e21.validator), "onChange" in e21 && n2(31, O2 = e21.onChange), "onSwitchToTreeMode" in e21 && n2(4, A2 = e21.onSwitchToTreeMode), "onError" in e21 && n2(32, E2 = e21.onError), "onFocus" in e21 && n2(33, T2 = e21.onFocus), "onBlur" in e21 && n2(34, N2 = e21.onBlur), "onRenderMenu" in e21 && n2(5, D2 = e21.onRenderMenu), "onSortModal" in e21 && n2(35, L2 = e21.onSortModal), "onTransformModal" in e21 && n2(36, z2 = e21.onTransformModal);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty[0] && n2(15, r2 = w2.length === 0), 1 & e20.$$.dirty[0] && n2(44, i2 = w2 && w2.length > 10485760), 9216 & e20.$$.dirty[1] && n2(14, o2 = i2 && !V2), 536870912 & e20.$$.dirty[0] && (a2 = hx({ escapeControlCharacters: false, escapeUnicodeCharacters: S2 })), 1 & e20.$$.dirty[0] && fe2(w2), 268435456 & e20.$$.dirty[0] && function(e21) {
      c2 && (B2("updateIndentation", e21), c2.dispatch({ effects: U2.reconfigure(ve2(e21)) }));
    }(j2), 2 & e20.$$.dirty[0] && function(e21) {
      c2 && (B2("updateReadOnly", e21), c2.dispatch({ effects: W2.reconfigure(h$.readOnly.of(e21)) }));
    }(v2), 536870912 & e20.$$.dirty[0] | 2048 & e20.$$.dirty[1] && J2 !== S2 && (n2(42, J2 = S2), he2()), 1073741826 & e20.$$.dirty[0] && he2(), 2 & e20.$$.dirty[0] | 4096 & e20.$$.dirty[1] && n2(13, s2 = ye2 !== "repairable" || v2 ? [] : [{ icon: bS, text: "Auto repair", title: "Automatically repair JSON", onClick: re2 }]);
  }, [w2, v2, m2, y2, A2, D2, u2, f2, h2, H2, K2, G2, be2, s2, o2, r2, F2, te2, ne2, function() {
    var e21;
    if (!v2)
      try {
        var t3 = JSON.parse(w2);
        X2 = true, L2({ id: Q2, json: t3, selectedPath: [], onSort: (e21 = yi(mi().mark(function e22(t4) {
          return mi().wrap(function(e23) {
            for (; ; )
              switch (e23.prev = e23.next) {
                case 0:
                  B2("onSort", t4), ee2(t4);
                case 2:
                case "end":
                  return e23.stop();
              }
          }, e22);
        })), function(t4) {
          return e21.apply(this, arguments);
        }), onClose: function() {
          X2 = false, Z2();
        } });
      } catch (e22) {
        E2(e22);
      }
  }, function() {
    v2 || ie2({ selectedPath: [] });
  }, function() {
    c2 && (u2 && u2.querySelector(".cm-search") ? cD(c2) : uD(c2));
  }, function() {
    v2 || c2 && (_M(c2), Z2());
  }, function() {
    v2 || c2 && ($M(c2), Z2());
  }, function() {
    n2(41, V2 = true), fe2(w2, true);
  }, function() {
    de2();
  }, function(e21) {
    B2("select validation error", e21);
    var t3 = ce2(e21);
    ae2(t3.from, t3.to), Z2();
  }, oe2, j2, S2, _2, O2, E2, T2, N2, L2, z2, Z2, ee2, ie2, function() {
    B2("refresh");
    var e21 = c2.state.doc.length;
    c2.dispatch({ changes: { from: e21, to: e21, insert: " " } }), c2.dispatch({ changes: { from: e21, to: e21 + 1, insert: "" } });
  }, V2, J2, ye2, i2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(6, u2 = e21);
    });
  }, function() {
    return oe2(be2);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(7, f2 = e21);
    });
  }];
}
var MB = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, EB, AB, Ki, { readOnly: 1, mainMenuBar: 2, statusBar: 3, text: 0, indentation: 28, escapeUnicodeCharacters: 29, validator: 30, onChange: 31, onSwitchToTreeMode: 4, onError: 32, onFocus: 33, onBlur: 34, onRenderMenu: 5, onSortModal: 35, onTransformModal: 36, focus: 37, patch: 38, openTransformModal: 39, refresh: 40 }, xB, [-1, -1, -1]), r2;
  }
  return Li(n2, [{ key: "focus", get: function() {
    return this.$$.ctx[37];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[38];
  } }, { key: "openTransformModal", get: function() {
    return this.$$.ctx[39];
  } }, { key: "refresh", get: function() {
    return this.$$.ctx[40];
  } }]), n2;
}(), TB = Na("jsoneditor:AutoScrollHandler");
function IB(e20) {
  var t2, n2;
  function r2(e21) {
    return e21 < 20 ? 200 : e21 < 50 ? 400 : 1200;
  }
  function i2() {
    if (e20) {
      var n3 = 0.05 * t2;
      e20.scrollTop += n3;
    }
  }
  function o2(e21) {
    n2 && e21 === t2 || (a2(), TB("startAutoScroll", e21), t2 = e21, n2 = setInterval(i2, 50));
  }
  function a2() {
    n2 && (TB("stopAutoScroll"), clearInterval(n2), n2 = void 0, t2 = void 0);
  }
  return TB("createAutoScrollHandler", e20), { onDrag: function(t3) {
    if (e20) {
      var n3 = t3.clientY, i3 = e20.getBoundingClientRect(), s2 = i3.top, u2 = i3.bottom;
      if (n3 < s2)
        o2(-r2(s2 - n3));
      else if (n3 > u2) {
        o2(r2(n3 - u2));
      } else
        a2();
    }
  }, onDragEnd: function() {
    a2();
  } };
}
var NB = function(e20, t2, n2, r2) {
  return (e20 /= r2 / 2) < 1 ? n2 / 2 * e20 * e20 + t2 : -n2 / 2 * (--e20 * (e20 - 2) - 1) + t2;
}, RB = function() {
  var e20, t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2;
  function d2() {
    return e20.scrollY || e20.pageYOffset || e20.scrollTop;
  }
  function v2(t3) {
    return t3.getBoundingClientRect().top - (e20.getBoundingClientRect ? e20.getBoundingClientRect().top : 0) + n2;
  }
  function p2(t3) {
    e20.scrollTo ? e20.scrollTo(0, t3) : e20.scrollTop = t3;
  }
  function m2(e21) {
    c2 || (c2 = e21), p2(o2(l2 = e21 - c2, n2, s2, u2)), h2 = true, l2 < u2 ? requestAnimationFrame(m2) : function() {
      p2(n2 + s2), t2 && a2 && (t2.setAttribute("tabindex", "-1"), t2.focus());
      typeof f2 == "function" && f2();
      c2 = false, h2 = false;
    }();
  }
  return function(l3) {
    var p3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    switch (u2 = p3.duration || 1e3, i2 = p3.offset || 0, f2 = p3.callback, o2 = p3.easing || NB, a2 = p3.a11y || false, zi(p3.container)) {
      case "object":
        e20 = p3.container;
        break;
      case "string":
        e20 = document.querySelector(p3.container);
        break;
      default:
        e20 = window;
    }
    switch (n2 = d2(), zi(l3)) {
      case "number":
        t2 = void 0, a2 = false, r2 = n2 + l3;
        break;
      case "object":
        r2 = v2(t2 = l3);
        break;
      case "string":
        t2 = document.querySelector(l3), r2 = v2(t2);
    }
    switch (s2 = r2 - n2 + i2, zi(p3.duration)) {
      case "number":
        u2 = p3.duration;
        break;
      case "function":
        u2 = p3.duration(s2);
    }
    h2 ? c2 = false : requestAnimationFrame(m2);
  };
};
function DB(e20, t2) {
  for (var n2 = new Set(t2), r2 = e20.replace(/ \(copy( \d+)?\)$/, ""), i2 = e20, o2 = 1; n2.has(i2); ) {
    var a2 = "copy" + (o2 > 1 ? " " + o2 : "");
    i2 = "".concat(r2, " (").concat(a2, ")"), o2++;
  }
  return i2;
}
function LB(e20, t2) {
  var n2 = t2 - "...".length;
  return e20.length > t2 ? e20.substr(0, n2) + "..." : e20;
}
function zB(e20) {
  if (e20 === "")
    return "";
  var t2 = e20.toLowerCase();
  if (t2 === "null")
    return null;
  if (t2 === "true")
    return true;
  if (t2 === "false")
    return false;
  if (t2 !== "undefined") {
    var n2 = Number(e20), r2 = parseFloat(e20);
    return isNaN(n2) || isNaN(r2) ? e20 : n2;
  }
}
function BB(e20, t2, n2, r2) {
  var i2 = _m(n2), o2 = ws.exports.getIn(e20, i2);
  if (Array.isArray(o2)) {
    var a2 = parseInt(Gv(n2), 10);
    return r2.map(function(e21, t3) {
      return { op: "add", path: ws.exports.compileJSONPointer(i2.concat(a2 + t3)), value: e21.value };
    });
  }
  var s2 = Gv(n2), u2 = Aj(t2, i2), c2 = Tj(u2, s2, true);
  return [].concat(Ti(r2.map(function(e21) {
    var t3 = DB(e21.key, u2);
    return { op: "add", path: ws.exports.compileJSONPointer(i2.concat(t3)), value: e21.value };
  })), Ti(c2.map(function(e21) {
    return WB(i2, e21);
  })));
}
function qB(e20, t2, n2) {
  var r2 = ws.exports.getIn(e20, t2);
  if (Array.isArray(r2)) {
    var i2 = r2.length;
    return n2.map(function(e21, n3) {
      return { op: "add", path: ws.exports.compileJSONPointer(t2.concat(i2 + n3)), value: e21.value };
    });
  }
  return n2.map(function(e21) {
    var n3 = DB(e21.key, Object.keys(r2));
    return { op: "add", path: ws.exports.compileJSONPointer(t2.concat(n3)), value: e21.value };
  });
}
function FB(e20, t2, n2, r2) {
  var i2 = DB(r2, t2.filter(function(e21) {
    return e21 !== n2;
  })), o2 = Tj(t2, n2, false);
  return [{ op: "move", from: ws.exports.compileJSONPointer(e20.concat(n2)), path: ws.exports.compileJSONPointer(e20.concat(i2)) }].concat(Ti(o2.map(function(t3) {
    return WB(e20, t3);
  })));
}
function VB(e20, t2, n2, r2) {
  if (n2.type === Hj) {
    var i2 = Xs(r2), o2 = _m(n2.focusPath);
    return FB(o2, Aj(t2, o2), Gv(n2.focusPath), typeof i2 == "string" ? i2 : r2);
  }
  if (n2.type === Wj || n2.type === Uj && Ym(n2.focusPath))
    try {
      return [{ op: "replace", path: ws.exports.compileJSONPointer(n2.focusPath), value: eu(r2, Zs) }];
    } catch (e21) {
      return [{ op: "replace", path: ws.exports.compileJSONPointer(n2.focusPath), value: r2 }];
    }
  if (n2.type === Uj) {
    var a2 = UB(r2);
    return function(e21, t3, n3, r3) {
      var i3 = _m(Bp(n3)), o3 = ws.exports.getIn(e21, i3);
      if (Array.isArray(o3)) {
        var a3 = Bp(n3), s3 = a3 ? parseInt(Gv(a3), 10) : 0;
        return [].concat(Ti(HB(n3)), Ti(r3.map(function(e22, t4) {
          return { op: "add", path: ws.exports.compileJSONPointer(i3.concat(t4 + s3)), value: e22.value };
        })));
      }
      var u3 = Gv(n3), c3 = _m(u3), l3 = Gv(u3), f3 = Aj(t3, c3), h3 = Tj(f3, l3, false), d3 = new Set(n3.map(function(e22) {
        return Gv(e22);
      })), v3 = f3.filter(function(e22) {
        return !d3.has(e22);
      });
      return [].concat(Ti(HB(n3)), Ti(r3.map(function(e22) {
        var t4 = DB(e22.key, v3);
        return { op: "add", path: ws.exports.compileJSONPointer(c3.concat(t4)), value: e22.value };
      })), Ti(h3.map(function(e22) {
        return WB(c3, e22);
      })));
    }(e20, t2, n2.paths, a2);
  }
  if (n2.type === Fj) {
    var s2 = UB(r2), u2 = n2.focusPath, c2 = _m(u2), l2 = ws.exports.getIn(e20, c2);
    if (Array.isArray(l2)) {
      var f2 = Gv(u2);
      return BB(e20, t2, c2.concat([f2 + 1]), s2);
    }
    var h2 = Gv(u2), d2 = Aj(t2, c2);
    if (Ym(d2) || Gv(d2) === h2)
      return qB(e20, c2, s2);
    var v2 = d2.indexOf(h2), p2 = d2[v2 + 1];
    return BB(e20, t2, c2.concat([p2]), s2);
  }
  if (n2.type === Vj) {
    var m2 = UB(r2), g2 = n2.focusPath, y2 = ws.exports.getIn(e20, g2);
    if (Array.isArray(y2))
      return BB(e20, t2, g2.concat([0]), m2);
    var b2 = Aj(t2, g2);
    if (Ym(b2))
      return qB(e20, g2, m2);
    var w2 = Bp(b2);
    return BB(e20, t2, g2.concat([w2]), m2);
  }
  throw new Error("Cannot insert: unsupported type of selection " + JSON.stringify(n2));
}
function HB(e20) {
  return e20.map(function(e21) {
    return { op: "remove", path: ws.exports.compileJSONPointer(e21) };
  }).reverse();
}
function WB(e20, t2) {
  return { op: "move", from: ws.exports.compileJSONPointer(e20.concat(t2)), path: ws.exports.compileJSONPointer(e20.concat(t2)) };
}
function UB(e20) {
  var t2 = /^\s*{/.test(e20), n2 = /^\s*\[/.test(e20), r2 = Xs(e20), i2 = r2 !== void 0 ? r2 : eu(e20, Zs);
  return t2 && Ls(i2) || n2 && Array.isArray(i2) ? [{ key: "New item", value: i2 }] : Array.isArray(i2) ? i2.map(function(e21, t3) {
    return { key: "New item " + t3, value: e21 };
  }) : Ls(i2) ? Object.keys(i2).map(function(e21) {
    return { key: e21, value: i2[e21] };
  }) : [{ key: "New item", value: i2 }];
}
function JB(e20, t2, n2) {
  if (n2.type === Hj) {
    var r2 = _m(n2.focusPath), i2 = FB(r2, Aj(t2, r2), Gv(n2.focusPath), "");
    return { operations: i2, newSelection: tx(e20, 0, i2) };
  }
  if (n2.type === Wj)
    return { operations: [{ op: "replace", path: ws.exports.compileJSONPointer(n2.focusPath), value: "" }], newSelection: n2 };
  if (n2.type === Uj) {
    var o2 = HB(n2.paths), a2 = Gv(n2.paths);
    if (Ym(a2)) {
      return { operations: [{ op: "replace", path: "", value: "" }], newSelection: sx(e20, t2, { type: Wj, path: [] }) };
    }
    var s2 = _m(a2), u2 = ws.exports.getIn(e20, s2);
    if (Array.isArray(u2)) {
      var c2 = Gv(Bp(n2.paths));
      return { operations: o2, newSelection: sx(e20, t2, c2 === 0 ? { type: Vj, path: s2 } : { type: Fj, path: s2.concat([c2 - 1]) }) };
    }
    var l2 = Aj(t2, s2), f2 = Gv(Bp(n2.paths)), h2 = l2.indexOf(f2), d2 = l2[h2 - 1];
    return { operations: o2, newSelection: sx(e20, t2, h2 === 0 ? { type: Vj, path: s2 } : { type: Fj, path: s2.concat([d2]) }) };
  }
  throw new Error("Cannot remove: unsupported type of selection " + JSON.stringify(n2));
}
function KB(e20, t2, n2) {
  var r2 = t2, i2 = function(e21, t3) {
    var n3 = {};
    return t3.forEach(function(t4) {
      var r3 = t4.path;
      if (!ws.exports.existsIn(n3, r3)) {
        var i3 = ws.exports.getIn(e21, r3);
        n3 = ws.exports.setIn(n3, r3, Array.isArray(i3) ? [] : {}, true);
      }
      n3 = ws.exports.setIn(n3, iq(t4), t4, true);
    }), n3;
  }(e20, r2), o2 = n2 && n2.activeItem ? iq(n2.activeItem) : void 0, a2 = o2 && ws.exports.existsIn(i2, o2) ? ws.exports.getIn(i2, o2) : r2[0], s2 = r2.findIndex(function(e21) {
    return n3 = a2, (t3 = e21).start === n3.start && t3.field === n3.field && Zm(t3.path, n3.path);
    var t3, n3;
  });
  return { items: i2, itemsWithActive: i2 && a2 && s2 !== -1 ? ws.exports.setIn(i2, rq(a2), true) : i2, flatItems: r2, count: r2.length, activeItem: a2, activeIndex: s2 };
}
function GB(e20) {
  var t2 = e20.activeIndex < e20.flatItems.length - 1 ? e20.activeIndex + 1 : e20.flatItems.length > 0 ? 0 : -1, n2 = e20.flatItems[t2], r2 = n2 ? ws.exports.setIn(e20.items, rq(n2), true, true) : e20.items;
  return Ei(Ei({}, e20), {}, { itemsWithActive: r2, activeItem: n2, activeIndex: t2 });
}
function QB(e20) {
  var t2 = e20.activeIndex > 0 ? e20.activeIndex - 1 : e20.flatItems.length - 1, n2 = e20.flatItems[t2], r2 = n2 ? ws.exports.setIn(e20.items, rq(n2), true, true) : e20.items;
  return Ei(Ei({}, e20), {}, { itemsWithActive: r2, activeItem: n2, activeIndex: t2 });
}
function YB(e20, t2, n2) {
  var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1 / 0, i2 = [], o2 = [];
  function a2(e21) {
    i2.length < r2 && i2.push(e21);
  }
  function s2(e21, t3, n3) {
    if (Array.isArray(t3)) {
      var u3 = o2.length;
      o2.push(0);
      for (var c2 = 0; c2 < t3.length; c2++)
        if (o2[u3] = c2, s2(e21, t3[c2], n3 ? n3[c2] : void 0), i2.length >= r2)
          return;
      o2.pop();
    } else if (t3 !== null && zi(t3) === "object") {
      var l2 = o2.length;
      o2.push(0);
      var f2, h2 = bi(n3 ? n3[ns] : Object.keys(t3));
      try {
        for (h2.s(); !(f2 = h2.n()).done; ) {
          var d2 = f2.value;
          if (o2[l2] = d2, ZB(d2, e21, o2, rs, a2), s2(e21, t3[d2], n3 ? n3[d2] : void 0), i2.length >= r2)
            return;
        }
      } catch (e22) {
        h2.e(e22);
      } finally {
        h2.f();
      }
      o2.pop();
    } else
      ZB(t3, e21, o2, is, a2);
  }
  if (typeof e20 == "string" && e20 !== "") {
    var u2 = e20.toLowerCase();
    s2(u2, t2, n2);
  }
  return i2;
}
function ZB(e20, t2, n2, r2, i2) {
  var o2 = String(e20).toLowerCase(), a2 = 0, s2 = -1, u2 = -1;
  do {
    (u2 = o2.indexOf(t2, s2)) !== -1 && (s2 = u2 + t2.length, i2({ path: n2.slice(0), field: r2, fieldIndex: a2, start: u2, end: s2, active: false }), a2++);
  } while (u2 !== -1);
}
function XB(e20, t2, n2, r2) {
  return e20.substring(0, n2) + t2 + e20.substring(r2);
}
function eq(e20, t2, n2) {
  var r2 = e20;
  return lp(n2, function(e21) {
    r2 = XB(r2, t2, e21.start, e21.end);
  }), r2;
}
function tq(e20, t2, n2, r2) {
  var i2 = r2.field, o2 = r2.path, a2 = r2.start, s2 = r2.end;
  if (i2 === rs) {
    var u2 = _m(o2), c2 = Gv(o2), l2 = FB(u2, Aj(t2, u2), c2, XB(c2, n2, a2, s2));
    return { newSelection: tx(e20, 0, l2), operations: l2 };
  }
  if (i2 === is) {
    var f2 = ws.exports.getIn(e20, o2);
    if (f2 === void 0)
      throw new Error("Cannot replace: path not found ".concat(ws.exports.compileJSONPointer(o2)));
    var h2 = typeof f2 == "string" ? f2 : String(f2), d2 = ws.exports.getIn(t2, o2.concat([os])) || false, v2 = XB(h2, n2, a2, s2), p2 = [{ op: "replace", path: ws.exports.compileJSONPointer(o2), value: d2 ? v2 : Hs(v2) }];
    return { newSelection: tx(e20, 0, p2), operations: p2 };
  }
  throw new Error("Cannot replace: unknown type of search result field ".concat(i2));
}
function nq(e20, t2, n2, r2) {
  for (var i2 = YB(n2, e20, t2, 1 / 0), o2 = [], a2 = 0; a2 < i2.length; a2++) {
    var s2 = i2[a2 - 1], u2 = i2[a2];
    a2 !== 0 && u2.field === s2.field && Zm(u2.path, s2.path) ? Gv(o2).items.push(u2) : o2.push({ path: u2.path, field: u2.field, items: [u2] });
  }
  o2.sort(function(e21, t3) {
    return e21.field !== t3.field ? e21.field === rs ? 1 : -1 : t3.path.length - e21.path.length;
  });
  var c2 = [], l2 = void 0;
  return o2.forEach(function(n3) {
    var i3 = n3.field, o3 = n3.path, a3 = n3.items;
    if (i3 === rs) {
      var s3 = _m(o3), u3 = Gv(o3), f2 = FB(s3, Aj(t2, s3), u3, eq(u3, r2, a3));
      c2 = c2.concat(f2), l2 = tx(e20, 0, f2);
    } else {
      if (i3 !== is)
        throw new Error("Cannot replace: unknown type of search result field ".concat(i3));
      var h2 = ws.exports.getIn(e20, o3);
      if (h2 === void 0)
        throw new Error("Cannot replace: path not found ".concat(ws.exports.compileJSONPointer(o3)));
      var d2 = typeof h2 == "string" ? h2 : String(h2), v2 = ws.exports.getIn(t2, o3.concat([os])) || false, p2 = eq(d2, r2, a3), m2 = [{ op: "replace", path: ws.exports.compileJSONPointer(o3), value: v2 ? p2 : Hs(p2) }];
      c2 = c2.concat(m2), l2 = tx(e20, 0, m2);
    }
  }), { operations: c2, newSelection: l2 };
}
function rq(e20) {
  return e20.path.concat(e20.field, e20.fieldIndex, "active");
}
function iq(e20) {
  return e20.path.concat(e20.field, e20.fieldIndex);
}
function oq(e20) {
  co(e20, "svelte-d01h2s", ".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}");
}
function aq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2;
  return a2 = new KS({ props: { data: wS } }), { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = bo(e20[0]), i2 = wo(), o2 = go("button"), Pa(a2.$$.fragment), So(n2, "class", "jse-title svelte-d01h2s"), So(o2, "type", "button"), So(o2, "class", "jse-close svelte-d01h2s"), So(t2, "class", "jse-header svelte-d01h2s");
  }, m: function(l2, f2) {
    vo(l2, t2, f2), uo(t2, n2), uo(n2, r2), uo(t2, i2), uo(t2, o2), Aa(a2, o2, null), s2 = true, u2 || (c2 = jo(o2, "click", e20[1]), u2 = true);
  }, p: function(e21, t3) {
    var n3 = ji(t3, 1)[0];
    (!s2 || 1 & n3) && Po(r2, e21[0]);
  }, i: function(e21) {
    s2 || (ya(a2.$$.fragment, e21), s2 = true);
  }, o: function(e21) {
    ba(a2.$$.fragment, e21), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(a2), u2 = false, c2();
  } };
}
function sq(e20, t2, n2) {
  var r2 = t2.title, i2 = r2 === void 0 ? "Modal" : r2, o2 = Yo("simple-modal").close;
  return e20.$$set = function(e21) {
    "title" in e21 && n2(0, i2 = e21.title);
  }, [i2, o2];
}
var uq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, sq, aq, Ki, { title: 0 }, oq), r2;
  }
  return Li(n2);
}();
function cq(e20) {
  co(e20, "svelte-t45ah0", ".jse-modal.svelte-t45ah0.svelte-t45ah0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-t45ah0 .jse-contents.svelte-t45ah0{padding:20px;overflow:auto}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions.svelte-t45ah0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts.svelte-t45ah0{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding)) 0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts .jse-shortcut .jse-key.svelte-t45ah0{font-size:200%;color:var(--jse-theme-color)}");
}
function lq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2;
  return n2 = new uq({ props: { title: "Copying and pasting" } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), r2 = wo(), i2 = go("div"), (o2 = go("div")).textContent = "These actions are unavailable via the menu. Please use:", a2 = wo(), s2 = go("div"), u2 = go("div"), (c2 = go("div")).textContent = "".concat(e20[1], "+C"), l2 = bo("\n        for copy"), f2 = wo(), h2 = go("div"), (d2 = go("div")).textContent = "".concat(e20[1], "+X"), v2 = bo("\n        for cut"), p2 = wo(), m2 = go("div"), (g2 = go("div")).textContent = "".concat(e20[1], "+V"), y2 = bo("\n        for paste"), b2 = wo(), w2 = go("div"), (k2 = go("button")).textContent = "Close", So(c2, "class", "jse-key svelte-t45ah0"), So(u2, "class", "jse-shortcut"), So(d2, "class", "jse-key svelte-t45ah0"), So(h2, "class", "jse-shortcut"), So(g2, "class", "jse-key svelte-t45ah0"), So(m2, "class", "jse-shortcut"), So(s2, "class", "jse-shortcuts svelte-t45ah0"), So(k2, "type", "button"), So(k2, "class", "jse-primary svelte-t45ah0"), So(w2, "class", "jse-actions svelte-t45ah0"), So(i2, "class", "jse-contents svelte-t45ah0"), So(t2, "class", "jse-modal jse-copy-paste svelte-t45ah0");
  }, m: function(C2, _2) {
    vo(C2, t2, _2), Aa(n2, t2, null), uo(t2, r2), uo(t2, i2), uo(i2, o2), uo(i2, a2), uo(i2, s2), uo(s2, u2), uo(u2, c2), uo(u2, l2), uo(s2, f2), uo(s2, h2), uo(h2, d2), uo(h2, v2), uo(s2, p2), uo(s2, m2), uo(m2, g2), uo(m2, y2), uo(i2, b2), uo(i2, w2), uo(w2, k2), j2 = true, x2 || (S2 = jo(k2, "click", e20[0]), x2 = true);
  }, p: Bi, i: function(e21) {
    j2 || (ya(n2.$$.fragment, e21), j2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), j2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), x2 = false, S2();
  } };
}
function fq(e20) {
  return [Yo("simple-modal").close, Rx ? "\u2318" : "Ctrl"];
}
var hq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, fq, lq, Ki, {}, cq), r2;
  }
  return Li(n2);
}();
function dq(e20) {
  co(e20, "svelte-gz09vf", ".jse-json-repair-component.svelte-gz09vf.svelte-gz09vf{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color);color:var(--jse-text-color)}.jse-json-repair-component.svelte-gz09vf .jse-menu .jse-info.svelte-gz09vf{padding:0 var(--jse-padding)}.jse-json-repair-component.svelte-gz09vf .jse-json-text.svelte-gz09vf{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-background-color);color:var(--jse-text-color);resize:none;outline:none}");
}
function vq(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).textContent = "Repair invalid JSON, then click apply", So(t2, "slot", "left"), So(t2, "class", "jse-info svelte-gz09vf");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function pq(e20) {
  var t2, n2;
  return t2 = new nC({ props: { type: "success", message: "JSON is valid now and can be parsed.", actions: e20[5] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    32 & n3 && (r2.actions = e21[5]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function mq(e20) {
  var t2, n2;
  return t2 = new nC({ props: { type: "error", icon: yS, message: "Cannot parse JSON: ".concat(e20[2].message), actions: e20[6] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    4 & n3 && (r2.message = "Cannot parse JSON: ".concat(e21[2].message)), 64 & n3 && (r2.actions = e21[6]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function gq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2;
  n2 = new IC({ props: { items: e20[7], $$slots: { left: [vq] }, $$scope: { ctx: e20 } } });
  var f2 = [mq, pq], h2 = [];
  function d2(e21, t3) {
    return e21[2] ? 0 : 1;
  }
  return i2 = d2(e20), o2 = h2[i2] = f2[i2](e20), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), r2 = wo(), o2.c(), a2 = wo(), (s2 = go("textarea")).value = e20[0], s2.readOnly = e20[1], So(s2, "class", "jse-json-text svelte-gz09vf"), So(s2, "autocomplete", "off"), So(s2, "autocapitalize", "off"), So(s2, "spellcheck", "false"), So(t2, "class", "jse-json-repair-component svelte-gz09vf");
  }, m: function(o3, f3) {
    vo(o3, t2, f3), Aa(n2, t2, null), uo(t2, r2), h2[i2].m(t2, null), uo(t2, a2), uo(t2, s2), e20[21](s2), e20[22](t2), u2 = true, c2 || (l2 = jo(s2, "input", e20[8]), c2 = true);
  }, p: function(e21, r3) {
    var c3 = ji(r3, 1)[0], l3 = {};
    128 & c3 && (l3.items = e21[7]), 536870912 & c3 && (l3.$$scope = { dirty: c3, ctx: e21 }), n2.$set(l3);
    var v2 = i2;
    (i2 = d2(e21)) === v2 ? h2[i2].p(e21, c3) : (ma(), ba(h2[v2], 1, 1, function() {
      h2[v2] = null;
    }), ga(), (o2 = h2[i2]) ? o2.p(e21, c3) : (o2 = h2[i2] = f2[i2](e21)).c(), ya(o2, 1), o2.m(t2, a2)), (!u2 || 1 & c3) && (s2.value = e21[0]), (!u2 || 2 & c3) && (s2.readOnly = e21[1]);
  }, i: function(e21) {
    u2 || (ya(n2.$$.fragment, e21), ya(o2), u2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), ba(o2), u2 = false;
  }, d: function(r3) {
    r3 && po(t2), Ea(n2), h2[i2].d(), e20[21](null), e20[22](null), c2 = false, l2();
  } };
}
function yq(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2 = t2.text, v2 = d2 === void 0 ? "" : d2, p2 = t2.readOnly, m2 = p2 !== void 0 && p2, g2 = t2.onParse, y2 = t2.onRepair, b2 = t2.onChange, w2 = b2 === void 0 ? null : b2, k2 = t2.onApply, j2 = t2.onCancel, x2 = t2.onFocus, S2 = t2.onBlur, C2 = t2.onRenderMenu, _2 = C2 === void 0 ? wc : C2, $2 = Na("jsoneditor:JSONRepair");
  function O2() {
    k2(v2);
  }
  return xS({ onMount: Jo, onDestroy: Ko, getWindow: function() {
    return Px(f2);
  }, hasFocus: function() {
    return Ax(f2);
  }, onFocus: function() {
    x2 && x2();
  }, onBlur: function() {
    S2 && S2();
  } }), e20.$$set = function(e21) {
    "text" in e21 && n2(0, v2 = e21.text), "readOnly" in e21 && n2(1, m2 = e21.readOnly), "onParse" in e21 && n2(9, g2 = e21.onParse), "onRepair" in e21 && n2(10, y2 = e21.onRepair), "onChange" in e21 && n2(11, w2 = e21.onChange), "onApply" in e21 && n2(12, k2 = e21.onApply), "onCancel" in e21 && n2(13, j2 = e21.onCancel), "onFocus" in e21 && n2(14, x2 = e21.onFocus), "onBlur" in e21 && n2(15, S2 = e21.onBlur), "onRenderMenu" in e21 && n2(16, _2 = e21.onRenderMenu);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty && n2(2, r2 = function(e21) {
      try {
        return g2(e21), null;
      } catch (t3) {
        return ru(e21, t3.message);
      }
    }(v2)), 1 & e20.$$.dirty && n2(19, i2 = function(e21) {
      try {
        return y2(e21), true;
      } catch (e22) {
        return false;
      }
    }(v2)), 4 & e20.$$.dirty && $2("error", r2), 8192 & e20.$$.dirty && n2(20, o2 = [{ space: true }, { icon: wS, title: "Cancel repair", className: "jse-cancel", onClick: j2 }]), 1114112 & e20.$$.dirty && n2(7, a2 = _2("repair", o2) || o2), 917504 & e20.$$.dirty && n2(6, c2 = i2 ? [s2, u2] : [s2]), 2 & e20.$$.dirty && n2(5, l2 = [{ icon: tS, text: "Apply", title: "Apply fixed JSON", disabled: m2, onClick: O2 }]);
  }, n2(17, s2 = { icon: Gx, text: "Show me", title: "Scroll to the error location", onClick: function() {
    h2 && r2 && r2.position != null && (h2.setSelectionRange(r2.position, r2.position), setTimeout(function() {
      h2.focus();
    }));
  } }), n2(18, u2 = { icon: bS, text: "Auto repair", title: "Automatically repair JSON", onClick: function() {
    try {
      n2(0, v2 = y2(v2)), w2 && w2(v2);
    } catch (e21) {
    }
  } }), [v2, m2, r2, f2, h2, l2, c2, a2, function(e21) {
    $2("handleChange");
    var t3 = e21.target.value;
    v2 !== t3 && (n2(0, v2 = t3), w2 && w2(v2));
  }, g2, y2, w2, k2, j2, x2, S2, _2, s2, u2, i2, o2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(4, h2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(3, f2 = e21);
    });
  }];
}
var bq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, yq, gq, Ki, { text: 0, readOnly: 1, onParse: 9, onRepair: 10, onChange: 11, onApply: 12, onCancel: 13, onFocus: 14, onBlur: 15, onRenderMenu: 16 }, dq), r2;
  }
  return Li(n2);
}();
function wq(e20) {
  co(e20, "svelte-1ffm3pm", ".jse-modal.jse-repair.svelte-1ffm3pm{flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-background-color);color:var(--jse-text-color)}");
}
function kq(e20) {
  var t2, n2, r2, i2;
  function o2(t3) {
    e20[9](t3);
  }
  var a2 = { onParse: e20[1], onRepair: e20[2], onApply: e20[6], onCancel: e20[7], onFocus: e20[3], onBlur: e20[4], onRenderMenu: e20[5] };
  return e20[0] !== void 0 && (a2.text = e20[0]), n2 = new bq({ props: a2 }), Xo.push(function() {
    return Oa(n2, "text", o2);
  }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-modal jse-repair svelte-1ffm3pm");
  }, m: function(e21, r3) {
    vo(e21, t2, r3), Aa(n2, t2, null), i2 = true;
  }, p: function(e21, t3) {
    var i3 = ji(t3, 1)[0], o3 = {};
    2 & i3 && (o3.onParse = e21[1]), 4 & i3 && (o3.onRepair = e21[2]), 8 & i3 && (o3.onFocus = e21[3]), 16 & i3 && (o3.onBlur = e21[4]), 32 & i3 && (o3.onRenderMenu = e21[5]), !r2 && 1 & i3 && (r2 = true, o3.text = e21[0], sa(function() {
      return r2 = false;
    })), n2.$set(o3);
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function jq(e20, t2, n2) {
  var r2 = t2.text, i2 = t2.onParse, o2 = t2.onRepair, a2 = t2.onApply, s2 = t2.onFocus, u2 = t2.onBlur, c2 = t2.onRenderMenu, l2 = Yo("simple-modal").close;
  return e20.$$set = function(e21) {
    "text" in e21 && n2(0, r2 = e21.text), "onParse" in e21 && n2(1, i2 = e21.onParse), "onRepair" in e21 && n2(2, o2 = e21.onRepair), "onApply" in e21 && n2(8, a2 = e21.onApply), "onFocus" in e21 && n2(3, s2 = e21.onFocus), "onBlur" in e21 && n2(4, u2 = e21.onBlur), "onRenderMenu" in e21 && n2(5, c2 = e21.onRenderMenu);
  }, [r2, i2, o2, s2, u2, c2, function(e21) {
    l2(), a2(e21);
  }, function() {
    l2();
  }, a2, function(e21) {
    n2(0, r2 = e21);
  }];
}
var xq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, jq, kq, Ki, { text: 0, onParse: 1, onRepair: 2, onApply: 8, onFocus: 3, onBlur: 4, onRenderMenu: 5 }, wq), r2;
  }
  return Li(n2);
}();
function Sq(e20) {
  co(e20, "svelte-mojfmz", ".jse-dropdown-button.svelte-mojfmz.svelte-mojfmz{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-mojfmz ul.svelte-mojfmz{margin:0;padding:0}.jse-dropdown-button.svelte-mojfmz ul li.svelte-mojfmz{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);border-radius:0}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.jse-visible.svelte-mojfmz{background:var(--jse-context-menu-background)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.svelte-mojfmz{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);box-shadow:var(--jse-controls-box-shadow)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.jse-visible.svelte-mojfmz{display:block}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding);margin:0}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}");
}
function Cq(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[10] = t2[n2], r2;
}
var _q = function(e20) {
  return {};
}, $q = function(e20) {
  return {};
};
function Oq(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: e20[10].icon } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    1 & n3 && (r2.data = e21[10].icon), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function Pq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20[10].text + "", h2 = e20[10].icon && Oq(e20);
  function d2() {
    return e20[8](e20[10]);
  }
  return { c: function() {
    t2 = go("li"), n2 = go("button"), h2 && h2.c(), r2 = wo(), i2 = bo(f2), s2 = wo(), So(n2, "type", "button"), So(n2, "title", o2 = e20[10].title), n2.disabled = a2 = e20[10].disabled, So(n2, "class", "svelte-mojfmz"), So(t2, "class", "svelte-mojfmz");
  }, m: function(e21, o3) {
    vo(e21, t2, o3), uo(t2, n2), h2 && h2.m(n2, null), uo(n2, r2), uo(n2, i2), uo(t2, s2), u2 = true, c2 || (l2 = jo(n2, "click", d2), c2 = true);
  }, p: function(t3, s3) {
    (e20 = t3)[10].icon ? h2 ? (h2.p(e20, s3), 1 & s3 && ya(h2, 1)) : ((h2 = Oq(e20)).c(), ya(h2, 1), h2.m(n2, r2)) : h2 && (ma(), ba(h2, 1, 1, function() {
      h2 = null;
    }), ga()), (!u2 || 1 & s3) && f2 !== (f2 = e20[10].text + "") && Po(i2, f2), (!u2 || 1 & s3 && o2 !== (o2 = e20[10].title)) && So(n2, "title", o2), (!u2 || 1 & s3 && a2 !== (a2 = e20[10].disabled)) && (n2.disabled = a2);
  }, i: function(e21) {
    u2 || (ya(h2), u2 = true);
  }, o: function(e21) {
    ba(h2), u2 = false;
  }, d: function(e21) {
    e21 && po(t2), h2 && h2.d(), c2 = false, l2();
  } };
}
function Aq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20[7].defaultItem, h2 = Gi(f2, e20, e20[6], $q);
  i2 = new KS({ props: { data: Xx } });
  for (var d2 = e20[0], v2 = [], p2 = 0; p2 < d2.length; p2 += 1)
    v2[p2] = Pq(Cq(e20, d2, p2));
  var m2 = function(e21) {
    return ba(v2[e21], 1, 1, function() {
      v2[e21] = null;
    });
  };
  return { c: function() {
    t2 = go("div"), h2 && h2.c(), n2 = wo(), r2 = go("button"), Pa(i2.$$.fragment), o2 = wo(), a2 = go("div"), s2 = go("ul");
    for (var u3 = 0; u3 < v2.length; u3 += 1)
      v2[u3].c();
    So(r2, "type", "button"), So(r2, "class", "jse-open-dropdown svelte-mojfmz"), So(r2, "data-type", "jse-open-dropdown"), Io(r2, "jse-visible", e20[3]), So(s2, "class", "svelte-mojfmz"), So(a2, "class", "jse-dropdown-items svelte-mojfmz"), Eo(a2, "width", e20[2]), Io(a2, "jse-visible", e20[3]), So(t2, "class", "jse-dropdown-button svelte-mojfmz"), So(t2, "title", e20[1]);
  }, m: function(f3, d3) {
    vo(f3, t2, d3), h2 && h2.m(t2, null), uo(t2, n2), uo(t2, r2), Aa(i2, r2, null), uo(t2, o2), uo(t2, a2), uo(a2, s2);
    for (var p3 = 0; p3 < v2.length; p3 += 1)
      v2[p3].m(s2, null);
    u2 = true, c2 || (l2 = [jo(r2, "click", e20[4]), jo(t2, "click", e20[5])], c2 = true);
  }, p: function(e21, n3) {
    var i3 = ji(n3, 1)[0];
    if (h2 && h2.p && (!u2 || 64 & i3) && Zi(h2, f2, e21, e21[6], u2 ? Yi(f2, e21[6], i3, _q) : Xi(e21[6]), $q), 8 & i3 && Io(r2, "jse-visible", e21[3]), 1 & i3) {
      var o3;
      for (d2 = e21[0], o3 = 0; o3 < d2.length; o3 += 1) {
        var c3 = Cq(e21, d2, o3);
        v2[o3] ? (v2[o3].p(c3, i3), ya(v2[o3], 1)) : (v2[o3] = Pq(c3), v2[o3].c(), ya(v2[o3], 1), v2[o3].m(s2, null));
      }
      for (ma(), o3 = d2.length; o3 < v2.length; o3 += 1)
        m2(o3);
      ga();
    }
    (!u2 || 4 & i3) && Eo(a2, "width", e21[2]), 8 & i3 && Io(a2, "jse-visible", e21[3]), (!u2 || 2 & i3) && So(t2, "title", e21[1]);
  }, i: function(e21) {
    if (!u2) {
      ya(h2, e21), ya(i2.$$.fragment, e21);
      for (var t3 = 0; t3 < d2.length; t3 += 1)
        ya(v2[t3]);
      u2 = true;
    }
  }, o: function(e21) {
    ba(h2, e21), ba(i2.$$.fragment, e21), v2 = v2.filter(Boolean);
    for (var t3 = 0; t3 < v2.length; t3 += 1)
      ba(v2[t3]);
    u2 = false;
  }, d: function(e21) {
    e21 && po(t2), h2 && h2.d(e21), Ea(i2), mo(v2, e21), c2 = false, Wi(l2);
  } };
}
function Eq(e20, t2, n2) {
  var r2 = t2.$$slots, i2 = r2 === void 0 ? {} : r2, o2 = t2.$$scope, a2 = t2.items, s2 = a2 === void 0 ? [] : a2, u2 = t2.title, c2 = u2 === void 0 ? void 0 : u2, l2 = t2.width, f2 = l2 === void 0 ? "120px" : l2, h2 = false;
  function d2() {
    n2(3, h2 = false);
  }
  function v2(e21) {
    Dx(e21) === "Escape" && (e21.preventDefault(), n2(3, h2 = false));
  }
  Jo(function() {
    document.addEventListener("click", d2), document.addEventListener("keydown", v2);
  }), Ko(function() {
    document.removeEventListener("click", d2), document.removeEventListener("keydown", v2);
  });
  return e20.$$set = function(e21) {
    "items" in e21 && n2(0, s2 = e21.items), "title" in e21 && n2(1, c2 = e21.title), "width" in e21 && n2(2, f2 = e21.width), "$$scope" in e21 && n2(6, o2 = e21.$$scope);
  }, [s2, c2, f2, h2, function() {
    var e21 = h2;
    setTimeout(function() {
      return n2(3, h2 = !e21);
    });
  }, d2, o2, i2, function(e21) {
    return e21.onClick();
  }];
}
var Mq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, Eq, Aq, Ki, { items: 0, title: 1, width: 2 }, Sq), r2;
  }
  return Li(n2);
}(), Tq = { prefix: "far", iconName: "clock", icon: [512, 512, [128339, "clock-four"], "f017", "M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"] }, Iq = { prefix: "far", iconName: "lightbulb", icon: [384, 512, [128161], "f0eb", "M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"] }, Nq = { prefix: "far", iconName: "square", icon: [448, 512, [9723, 9724, 61590, 9632], "f0c8", "M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"] }, Rq = { prefix: "far", iconName: "square-check", icon: [448, 512, [9989, 61510, 9745, "check-square"], "f14a", "M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"] };
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */
function Dq(e20) {
  co(e20, "svelte-1yai37q", ".jse-contextmenu.svelte-1yai37q.svelte-1yai37q{box-shadow:var(--jse-controls-box-shadow);font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-context-menu-background);color:var(--jse-context-menu-color)}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q:focus{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row.svelte-1yai37q{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-label.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:var(--jse-context-menu-color-disabled);line-height:normal}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip.svelte-1yai37q{flex:1;background:var(--jse-context-menu-tip-background);color:var(--jse-context-menu-tip-color);margin:calc(0.5 * var(--jse-padding));padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:center;gap:var(--jse-padding);border-radius:3px}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip div.svelte-1yai37q{vertical-align:middle}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:hover{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert.svelte-1yai37q{display:inline-block;position:relative;width:18px;height:18px;font-family:var(--jse-font-family-mono);font-weight:bold;font-size:16px}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-quote.svelte-1yai37q,.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-plus.svelte-1yai37q{position:absolute;top:-4px;left:2px;font-size:24px}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color)}.jse-contextmenu.svelte-1yai37q .jse-column button.svelte-1yai37q{text-align:left;min-width:130px}.jse-contextmenu.svelte-1yai37q .jse-separator.svelte-1yai37q{width:100%;height:1px;background:var(--jse-context-menu-separator-color)}");
}
function Lq(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  return n2 = new KS({ props: { data: vS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), r2 = bo(" Edit value"), So(t2, "type", "button"), So(t2, "slot", "defaultItem"), So(t2, "title", "Edit the value (Double-click on the value)"), t2.disabled = i2 = !e20[2], So(t2, "class", "svelte-1yai37q");
  }, m: function(i3, u2) {
    vo(i3, t2, u2), Aa(n2, t2, null), uo(t2, r2), o2 = true, a2 || (s2 = jo(t2, "click", e20[18]), a2 = true);
  }, p: function(e21, n3) {
    (!o2 || 4 & n3[0] && i2 !== (i2 = !e21[2])) && (t2.disabled = i2);
  }, i: function(e21) {
    o2 || (ya(n2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), o2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), a2 = false, s2();
  } };
}
function zq(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  return n2 = new KS({ props: { data: pS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), r2 = bo(" Cut"), So(t2, "type", "button"), So(t2, "slot", "defaultItem"), So(t2, "title", "Cut selected contents, formatted with indentation (Ctrl+X)"), t2.disabled = i2 = !e20[1], So(t2, "class", "svelte-1yai37q");
  }, m: function(i3, u2) {
    vo(i3, t2, u2), Aa(n2, t2, null), uo(t2, r2), o2 = true, a2 || (s2 = jo(t2, "click", e20[19]), a2 = true);
  }, p: function(e21, n3) {
    (!o2 || 2 & n3[0] && i2 !== (i2 = !e21[1])) && (t2.disabled = i2);
  }, i: function(e21) {
    o2 || (ya(n2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), o2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), a2 = false, s2();
  } };
}
function Bq(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  return n2 = new KS({ props: { data: sS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), r2 = bo(" Copy"), So(t2, "type", "button"), So(t2, "slot", "defaultItem"), So(t2, "title", "Copy selected contents, formatted with indentation (Ctrl+C)"), t2.disabled = i2 = !e20[1], So(t2, "class", "svelte-1yai37q");
  }, m: function(i3, u2) {
    vo(i3, t2, u2), Aa(n2, t2, null), uo(t2, r2), o2 = true, a2 || (s2 = jo(t2, "click", e20[20]), a2 = true);
  }, p: function(e21, n3) {
    (!o2 || 2 & n3[0] && i2 !== (i2 = !e21[1])) && (t2.disabled = i2);
  }, i: function(e21) {
    o2 || (ya(n2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), o2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), a2 = false, s2();
  } };
}
function qq(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  return i2 = new KS({ props: { data: Iq } }), { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("div"), Pa(i2.$$.fragment), o2 = wo(), (a2 = go("div")).textContent = "Tip: you can open this context menu via right-click or with Ctrl+Q", So(r2, "class", "svelte-1yai37q"), So(a2, "class", "svelte-1yai37q"), So(n2, "class", "jse-tip svelte-1yai37q"), So(t2, "class", "jse-row svelte-1yai37q");
  }, m: function(e21, u2) {
    vo(e21, t2, u2), uo(t2, n2), uo(n2, r2), Aa(i2, r2, null), uo(n2, o2), uo(n2, a2), s2 = true;
  }, p: Bi, i: function(e21) {
    s2 || (ya(i2.$$.fragment, e21), s2 = true);
  }, o: function(e21) {
    ba(i2.$$.fragment, e21), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(i2);
  } };
}
function Fq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2, C2, _2, $2, O2, P2, A2, E2, M2, T2, I2, N2, R2, D2, L2, z2, B2, q2, F2, V2, H2, W2, U2, J2, K2, G2, Q2, Y2, Z2, X2, ee2, te2, ne2, re2, ie2, oe2, ae2, se2, ue2, ce2, le2, fe2, he2, de2, ve2, pe2, me2, ge2, ye2, be2, we2, ke2, je2, xe2, Se2, Ce2, _e2, $e2, Oe2, Pe2, Ae2, Ee2, Me2, Te2, Ie2, Ne2, Re2, De2, Le2, ze2, Be2, qe2, Fe2;
  i2 = new KS({ props: { data: vS } }), u2 = new Mq({ props: { width: "11em", items: e20[8], $$slots: { defaultItem: [Lq] }, $$scope: { ctx: e20 } } }), d2 = new Mq({ props: { width: "10em", items: e20[7], $$slots: { defaultItem: [zq] }, $$scope: { ctx: e20 } } }), p2 = new Mq({ props: { width: "12em", items: e20[6], $$slots: { defaultItem: [Bq] }, $$scope: { ctx: e20 } } }), y2 = new KS({ props: { data: dS } }), $2 = new KS({ props: { data: wS } }), M2 = new KS({ props: { data: oS } }), D2 = new KS({ props: { data: uS } }), F2 = new KS({ props: { data: Qx } }), J2 = new KS({ props: { data: lS } }), Ee2 = new KS({ props: { data: gS } }), Re2 = new KS({ props: { data: mS } });
  var Ve2 = e20[0] && qq();
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("button"), Pa(i2.$$.fragment), o2 = bo(" Edit key"), s2 = wo(), Pa(u2.$$.fragment), c2 = wo(), l2 = go("div"), f2 = wo(), h2 = go("div"), Pa(d2.$$.fragment), v2 = wo(), Pa(p2.$$.fragment), m2 = wo(), g2 = go("button"), Pa(y2.$$.fragment), b2 = bo(" Paste"), k2 = wo(), j2 = go("div"), x2 = wo(), S2 = go("div"), C2 = go("div"), _2 = go("button"), Pa($2.$$.fragment), O2 = bo(" Remove"), A2 = wo(), E2 = go("button"), Pa(M2.$$.fragment), T2 = bo(" Duplicate"), N2 = wo(), R2 = go("button"), Pa(D2.$$.fragment), L2 = bo(" Extract"), B2 = wo(), q2 = go("button"), Pa(F2.$$.fragment), V2 = bo(" Sort"), W2 = wo(), U2 = go("button"), Pa(J2.$$.fragment), K2 = bo(" Transform"), Q2 = wo(), Y2 = go("div"), Z2 = go("div"), X2 = bo(e20[13]), ee2 = bo(":"), te2 = wo(), ne2 = go("button"), re2 = go("span"), (ie2 = go("span")).textContent = "+", oe2 = bo(" Structure"), ue2 = wo(), ce2 = go("button"), (le2 = go("span")).textContent = "{}", fe2 = bo(" Object"), ve2 = wo(), pe2 = go("button"), (me2 = go("span")).textContent = "[]", ge2 = bo(" Array"), we2 = wo(), ke2 = go("button"), (je2 = go("span")).innerHTML = '<span class="jse-quote svelte-1yai37q">&quot;</span>', xe2 = bo(" Value"), _e2 = wo(), $e2 = go("div"), Oe2 = wo(), Pe2 = go("div"), Ae2 = go("button"), Pa(Ee2.$$.fragment), Me2 = bo(" Insert before"), Ie2 = wo(), Ne2 = go("button"), Pa(Re2.$$.fragment), De2 = bo(" Insert after"), ze2 = wo(), Ve2 && Ve2.c(), So(r2, "type", "button"), So(r2, "title", "Edit the key (Double-click on the key)"), r2.disabled = a2 = !e20[14], So(r2, "class", "svelte-1yai37q"), So(n2, "class", "jse-row svelte-1yai37q"), So(l2, "class", "jse-separator svelte-1yai37q"), So(g2, "type", "button"), So(g2, "title", "Paste clipboard contents (Ctrl+V)"), g2.disabled = w2 = !e20[3], So(g2, "class", "svelte-1yai37q"), So(h2, "class", "jse-row svelte-1yai37q"), So(j2, "class", "jse-separator svelte-1yai37q"), So(_2, "type", "button"), So(_2, "title", "Remove selected contents (Delete)"), _2.disabled = P2 = !e20[1], So(_2, "class", "svelte-1yai37q"), So(E2, "type", "button"), So(E2, "title", "Duplicate selected contents (Ctrl+D)"), E2.disabled = I2 = !e20[16], So(E2, "class", "svelte-1yai37q"), So(R2, "type", "button"), So(R2, "title", "Extract selected contents"), R2.disabled = z2 = !e20[15], So(R2, "class", "svelte-1yai37q"), So(q2, "type", "button"), So(q2, "title", "Sort array or object contents"), q2.disabled = H2 = !e20[1], So(q2, "class", "svelte-1yai37q"), So(U2, "type", "button"), So(U2, "title", "Transform array or object contents (filter, sort, project)"), U2.disabled = G2 = !e20[1], So(U2, "class", "svelte-1yai37q"), So(C2, "class", "jse-column svelte-1yai37q"), So(Z2, "class", "jse-label svelte-1yai37q"), So(ie2, "class", "jse-plus svelte-1yai37q"), So(re2, "class", "jse-insert svelte-1yai37q"), So(ne2, "type", "button"), So(ne2, "title", ae2 = e20[13] + " structure"), ne2.disabled = se2 = !e20[12], So(ne2, "class", "svelte-1yai37q"), So(le2, "class", "jse-insert svelte-1yai37q"), So(ce2, "type", "button"), So(ce2, "title", he2 = e20[13] + " object"), ce2.disabled = de2 = !e20[11], So(ce2, "class", "svelte-1yai37q"), So(me2, "class", "jse-insert svelte-1yai37q"), So(pe2, "type", "button"), So(pe2, "title", ye2 = e20[13] + " array"), pe2.disabled = be2 = !e20[10], So(pe2, "class", "svelte-1yai37q"), So(je2, "class", "jse-insert svelte-1yai37q"), So(ke2, "type", "button"), So(ke2, "title", Se2 = e20[13] + " value"), ke2.disabled = Ce2 = !e20[9], So(ke2, "class", "svelte-1yai37q"), So(Y2, "class", "jse-column svelte-1yai37q"), So(S2, "class", "jse-row svelte-1yai37q"), So($e2, "class", "jse-separator svelte-1yai37q"), So(Ae2, "type", "button"), So(Ae2, "title", "Select area before current entry to insert or paste contents"), Ae2.disabled = Te2 = !e20[1] || e20[4], So(Ae2, "class", "svelte-1yai37q"), So(Ne2, "type", "button"), So(Ne2, "title", "Select area after current entry to insert or paste contents"), Ne2.disabled = Le2 = !e20[1] || e20[4], So(Ne2, "class", "svelte-1yai37q"), So(Pe2, "class", "jse-row svelte-1yai37q"), So(t2, "class", "jse-contextmenu svelte-1yai37q");
  }, m: function(a3, w3) {
    vo(a3, t2, w3), uo(t2, n2), uo(n2, r2), Aa(i2, r2, null), uo(r2, o2), uo(n2, s2), Aa(u2, n2, null), uo(t2, c2), uo(t2, l2), uo(t2, f2), uo(t2, h2), Aa(d2, h2, null), uo(h2, v2), Aa(p2, h2, null), uo(h2, m2), uo(h2, g2), Aa(y2, g2, null), uo(g2, b2), uo(t2, k2), uo(t2, j2), uo(t2, x2), uo(t2, S2), uo(S2, C2), uo(C2, _2), Aa($2, _2, null), uo(_2, O2), uo(C2, A2), uo(C2, E2), Aa(M2, E2, null), uo(E2, T2), uo(C2, N2), uo(C2, R2), Aa(D2, R2, null), uo(R2, L2), uo(C2, B2), uo(C2, q2), Aa(F2, q2, null), uo(q2, V2), uo(C2, W2), uo(C2, U2), Aa(J2, U2, null), uo(U2, K2), uo(S2, Q2), uo(S2, Y2), uo(Y2, Z2), uo(Z2, X2), uo(Z2, ee2), uo(Y2, te2), uo(Y2, ne2), uo(ne2, re2), uo(re2, ie2), uo(ne2, oe2), uo(Y2, ue2), uo(Y2, ce2), uo(ce2, le2), uo(ce2, fe2), uo(Y2, ve2), uo(Y2, pe2), uo(pe2, me2), uo(pe2, ge2), uo(Y2, we2), uo(Y2, ke2), uo(ke2, je2), uo(ke2, xe2), uo(t2, _e2), uo(t2, $e2), uo(t2, Oe2), uo(t2, Pe2), uo(Pe2, Ae2), Aa(Ee2, Ae2, null), uo(Ae2, Me2), uo(Pe2, Ie2), uo(Pe2, Ne2), Aa(Re2, Ne2, null), uo(Ne2, De2), uo(t2, ze2), Ve2 && Ve2.m(t2, null), e20[58](t2), Be2 = true, qe2 || (Fe2 = [jo(r2, "click", e20[17]), jo(g2, "click", e20[21]), jo(_2, "click", e20[22]), jo(E2, "click", e20[23]), jo(R2, "click", e20[24]), jo(q2, "click", e20[26]), jo(U2, "click", e20[27]), jo(ne2, "click", e20[54]), jo(ce2, "click", e20[55]), jo(pe2, "click", e20[56]), jo(ke2, "click", e20[57]), jo(Ae2, "click", e20[28]), jo(Ne2, "click", e20[29]), jo(t2, "keydown", e20[30])], qe2 = true);
  }, p: function(e21, n3) {
    (!Be2 || 16384 & n3[0] && a2 !== (a2 = !e21[14])) && (r2.disabled = a2);
    var i3 = {};
    256 & n3[0] && (i3.items = e21[8]), 4 & n3[0] | 1 & n3[2] && (i3.$$scope = { dirty: n3, ctx: e21 }), u2.$set(i3);
    var o3 = {};
    128 & n3[0] && (o3.items = e21[7]), 2 & n3[0] | 1 & n3[2] && (o3.$$scope = { dirty: n3, ctx: e21 }), d2.$set(o3);
    var s3 = {};
    64 & n3[0] && (s3.items = e21[6]), 2 & n3[0] | 1 & n3[2] && (s3.$$scope = { dirty: n3, ctx: e21 }), p2.$set(s3), (!Be2 || 8 & n3[0] && w2 !== (w2 = !e21[3])) && (g2.disabled = w2), (!Be2 || 2 & n3[0] && P2 !== (P2 = !e21[1])) && (_2.disabled = P2), (!Be2 || 65536 & n3[0] && I2 !== (I2 = !e21[16])) && (E2.disabled = I2), (!Be2 || 32768 & n3[0] && z2 !== (z2 = !e21[15])) && (R2.disabled = z2), (!Be2 || 2 & n3[0] && H2 !== (H2 = !e21[1])) && (q2.disabled = H2), (!Be2 || 2 & n3[0] && G2 !== (G2 = !e21[1])) && (U2.disabled = G2), (!Be2 || 8192 & n3[0]) && Po(X2, e21[13]), (!Be2 || 8192 & n3[0] && ae2 !== (ae2 = e21[13] + " structure")) && So(ne2, "title", ae2), (!Be2 || 4096 & n3[0] && se2 !== (se2 = !e21[12])) && (ne2.disabled = se2), (!Be2 || 8192 & n3[0] && he2 !== (he2 = e21[13] + " object")) && So(ce2, "title", he2), (!Be2 || 2048 & n3[0] && de2 !== (de2 = !e21[11])) && (ce2.disabled = de2), (!Be2 || 8192 & n3[0] && ye2 !== (ye2 = e21[13] + " array")) && So(pe2, "title", ye2), (!Be2 || 1024 & n3[0] && be2 !== (be2 = !e21[10])) && (pe2.disabled = be2), (!Be2 || 8192 & n3[0] && Se2 !== (Se2 = e21[13] + " value")) && So(ke2, "title", Se2), (!Be2 || 512 & n3[0] && Ce2 !== (Ce2 = !e21[9])) && (ke2.disabled = Ce2), (!Be2 || 18 & n3[0] && Te2 !== (Te2 = !e21[1] || e21[4])) && (Ae2.disabled = Te2), (!Be2 || 18 & n3[0] && Le2 !== (Le2 = !e21[1] || e21[4])) && (Ne2.disabled = Le2), e21[0] ? Ve2 ? (Ve2.p(e21, n3), 1 & n3[0] && ya(Ve2, 1)) : ((Ve2 = qq()).c(), ya(Ve2, 1), Ve2.m(t2, null)) : Ve2 && (ma(), ba(Ve2, 1, 1, function() {
      Ve2 = null;
    }), ga());
  }, i: function(e21) {
    Be2 || (ya(i2.$$.fragment, e21), ya(u2.$$.fragment, e21), ya(d2.$$.fragment, e21), ya(p2.$$.fragment, e21), ya(y2.$$.fragment, e21), ya($2.$$.fragment, e21), ya(M2.$$.fragment, e21), ya(D2.$$.fragment, e21), ya(F2.$$.fragment, e21), ya(J2.$$.fragment, e21), ya(Ee2.$$.fragment, e21), ya(Re2.$$.fragment, e21), ya(Ve2), Be2 = true);
  }, o: function(e21) {
    ba(i2.$$.fragment, e21), ba(u2.$$.fragment, e21), ba(d2.$$.fragment, e21), ba(p2.$$.fragment, e21), ba(y2.$$.fragment, e21), ba($2.$$.fragment, e21), ba(M2.$$.fragment, e21), ba(D2.$$.fragment, e21), ba(F2.$$.fragment, e21), ba(J2.$$.fragment, e21), ba(Ee2.$$.fragment, e21), ba(Re2.$$.fragment, e21), ba(Ve2), Be2 = false;
  }, d: function(n3) {
    n3 && po(t2), Ea(i2), Ea(u2), Ea(d2), Ea(p2), Ea(y2), Ea($2), Ea(M2), Ea(D2), Ea(F2), Ea(J2), Ea(Ee2), Ea(Re2), Ve2 && Ve2.d(), e20[58](null), qe2 = false, Wi(Fe2);
  } };
}
function Vq(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2 = t2.json, S2 = t2.state, C2 = t2.selection, _2 = t2.showTip, $2 = t2.onCloseContextMenu, O2 = t2.onEditKey, P2 = t2.onEditValue, A2 = t2.onToggleEnforceString, E2 = t2.onCut, M2 = t2.onCopy, T2 = t2.onPaste, I2 = t2.onRemove, N2 = t2.onDuplicate, R2 = t2.onExtract, D2 = t2.onInsertBefore, L2 = t2.onInsert, z2 = t2.onConvert, B2 = t2.onInsertAfter, q2 = t2.onSort, F2 = t2.onTransform;
  function V2() {
    $2(), P2();
  }
  function H2() {
    $2(), A2();
  }
  function W2() {
    $2(), E2(true);
  }
  function U2() {
    $2(), E2(false);
  }
  function J2() {
    $2(), M2(true);
  }
  function K2() {
    $2(), M2(false);
  }
  function G2(e21) {
    $2(), s2 ? z2(e21) : L2(e21);
  }
  Jo(function() {
    setTimeout(function() {
      var e21 = Ti(j2.querySelectorAll("button")).find(function(e22) {
        return !e22.disabled;
      });
      e21 && e21.focus();
    });
  });
  return e20.$$set = function(e21) {
    "json" in e21 && n2(31, x2 = e21.json), "state" in e21 && n2(32, S2 = e21.state), "selection" in e21 && n2(33, C2 = e21.selection), "showTip" in e21 && n2(0, _2 = e21.showTip), "onCloseContextMenu" in e21 && n2(34, $2 = e21.onCloseContextMenu), "onEditKey" in e21 && n2(35, O2 = e21.onEditKey), "onEditValue" in e21 && n2(36, P2 = e21.onEditValue), "onToggleEnforceString" in e21 && n2(37, A2 = e21.onToggleEnforceString), "onCut" in e21 && n2(38, E2 = e21.onCut), "onCopy" in e21 && n2(39, M2 = e21.onCopy), "onPaste" in e21 && n2(40, T2 = e21.onPaste), "onRemove" in e21 && n2(41, I2 = e21.onRemove), "onDuplicate" in e21 && n2(42, N2 = e21.onDuplicate), "onExtract" in e21 && n2(43, R2 = e21.onExtract), "onInsertBefore" in e21 && n2(44, D2 = e21.onInsertBefore), "onInsert" in e21 && n2(45, L2 = e21.onInsert), "onConvert" in e21 && n2(46, z2 = e21.onConvert), "onInsertAfter" in e21 && n2(47, B2 = e21.onInsertAfter), "onSort" in e21 && n2(48, q2 = e21.onSort), "onTransform" in e21 && n2(49, F2 = e21.onTransform);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty[1] && n2(53, r2 = x2 !== void 0), 4 & e20.$$.dirty[1] && n2(3, i2 = C2 != null), 8 & e20.$$.dirty[0] | 4 & e20.$$.dirty[1] && n2(4, o2 = i2 && Ym(C2.focusPath)), 8 & e20.$$.dirty[0] | 5 & e20.$$.dirty[1] && n2(51, a2 = i2 ? ws.exports.getIn(x2, C2.focusPath) : void 0), 4194308 & e20.$$.dirty[1] && n2(1, s2 = r2 && C2 != null && (C2.type === Uj || C2.type === Hj || C2.type === Wj)), 18 & e20.$$.dirty[0] | 4194304 & e20.$$.dirty[1] && n2(16, u2 = r2 && s2 && !o2), 16 & e20.$$.dirty[0] | 4194308 & e20.$$.dirty[1] && n2(15, c2 = r2 && C2 != null && (C2.type === Uj || C2.type === Wj) && !o2), 16 & e20.$$.dirty[0] | 4194309 & e20.$$.dirty[1] && n2(14, l2 = r2 && C2 != null && rx(C2) && !o2 && !Array.isArray(ws.exports.getIn(x2, _m(C2.focusPath)))), 5242884 & e20.$$.dirty[1] && n2(2, f2 = r2 && C2 != null && rx(C2) && !zs(a2)), 2 & e20.$$.dirty[0] && n2(52, h2 = s2), 2097152 & e20.$$.dirty[1] && n2(13, d2 = h2 ? "Convert to" : "Insert"), 8 & e20.$$.dirty[0] | 2097152 & e20.$$.dirty[1] && n2(12, v2 = !h2 && i2), 8 & e20.$$.dirty[0] | 3145732 & e20.$$.dirty[1] && n2(11, p2 = h2 ? lx(C2) && !Ls(a2) : i2), 8 & e20.$$.dirty[0] | 3145732 & e20.$$.dirty[1] && n2(10, m2 = h2 ? lx(C2) && !Array.isArray(a2) : i2), 8 & e20.$$.dirty[0] | 3145732 & e20.$$.dirty[1] && n2(9, g2 = h2 ? lx(C2) && zs(a2) : i2), 6 & e20.$$.dirty[1] && n2(50, y2 = C2 != null && ws.exports.getIn(S2, C2.focusPath.concat(os)) === true), 4 & e20.$$.dirty[0] | 524288 & e20.$$.dirty[1] && n2(8, b2 = [{ icon: vS, text: "Edit value", title: "Edit the value (Double-click on the value)", onClick: V2, disabled: !f2 }, { icon: y2 ? Rq : Nq, text: "Enforce string", title: "Enforce keeping the value as string when it contains a numeric value", onClick: H2, disabled: !f2 }]), 2 & e20.$$.dirty[0] && n2(7, w2 = [{ icon: pS, text: "Cut formatted", title: "Cut selected contents, formatted with indentation (Ctrl+X)", onClick: W2, disabled: !s2 }, { icon: pS, text: "Cut compacted", title: "Cut selected contents, without indentation (Ctrl+Shift+X)", onClick: U2, disabled: !s2 }]), 2 & e20.$$.dirty[0] && n2(6, k2 = [{ icon: sS, text: "Copy formatted", title: "Copy selected contents, formatted with indentation (Ctrl+C)", onClick: J2, disabled: !s2 }, { icon: sS, text: "Copy compacted", title: "Copy selected contents, without indentation (Ctrl+Shift+C)", onClick: K2, disabled: !s2 }]);
  }, [_2, s2, f2, i2, o2, j2, k2, w2, b2, g2, m2, p2, v2, d2, l2, c2, u2, function() {
    $2(), O2();
  }, V2, W2, J2, function() {
    $2(), T2();
  }, function() {
    $2(), I2();
  }, function() {
    $2(), N2();
  }, function() {
    $2(), R2();
  }, G2, function() {
    $2(), q2();
  }, function() {
    $2(), F2();
  }, function() {
    $2(), D2();
  }, function() {
    $2(), B2();
  }, function(e21) {
    var t3 = Dx(e21).replace(/^Command\+/, "Ctrl+");
    if (t3 === "Up" || t3 === "Down" || t3 === "Left" || t3 === "Right") {
      e21.preventDefault();
      var n3 = Nx({ allElements: Array.from(j2.querySelectorAll("button:not([disabled])")), currentElement: e21.target, direction: t3, hasPrio: function(e22) {
        return e22.getAttribute("data-type") !== "jse-open-dropdown";
      } });
      n3 && n3.focus();
    }
  }, x2, S2, C2, $2, O2, P2, A2, E2, M2, T2, I2, N2, R2, D2, L2, z2, B2, q2, F2, y2, a2, h2, r2, function() {
    return G2("structure");
  }, function() {
    return G2("object");
  }, function() {
    return G2("array");
  }, function() {
    return G2("value");
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(5, j2 = e21);
    });
  }];
}
var Hq = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, Vq, Fq, Ki, { json: 31, state: 32, selection: 33, showTip: 0, onCloseContextMenu: 34, onEditKey: 35, onEditValue: 36, onToggleEnforceString: 37, onCut: 38, onCopy: 39, onPaste: 40, onRemove: 41, onDuplicate: 42, onExtract: 43, onInsertBefore: 44, onInsert: 45, onConvert: 46, onInsertAfter: 47, onSort: 48, onTransform: 49 }, Dq, [-1, -1, -1]), r2;
  }
  return Li(n2);
}(), Wq = { exports: {} };
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(e20) {
  !function() {
    var t2 = {}.hasOwnProperty;
    function n2() {
      for (var e21 = [], r2 = 0; r2 < arguments.length; r2++) {
        var i2 = arguments[r2];
        if (i2) {
          var o2 = zi(i2);
          if (o2 === "string" || o2 === "number")
            e21.push(i2);
          else if (Array.isArray(i2)) {
            if (i2.length) {
              var a2 = n2.apply(null, i2);
              a2 && e21.push(a2);
            }
          } else if (o2 === "object")
            if (i2.toString === Object.prototype.toString)
              for (var s2 in i2)
                t2.call(i2, s2) && i2[s2] && e21.push(s2);
            else
              e21.push(i2.toString());
        }
      }
      return e21.join(" ");
    }
    e20.exports ? (n2.default = n2, e20.exports = n2) : window.classNames = n2;
  }();
}(Wq);
var Uq = Wq.exports;
function Jq(e20) {
  co(e20, "svelte-1knbf5w", "div.jse-collapsed-items.svelte-1knbf5w.svelte-1knbf5w{font-family:var(--jse-font-family);font-size:var(--jse-font-size);color:var(--jse-collapsed-items-link-color);padding:calc(0.5 * var(--jse-padding));border:8px solid transparent;border-width:8px 0;background-color:transparent;background-image:linear-gradient(var(--jse-collapsed-items-background-color), var(--jse-collapsed-items-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{margin:0 calc(0.5 * var(--jse-padding))}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w{display:inline}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:hover,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:focus{color:var(--jse-collapsed-items-link-color-highlight)}");
}
function Kq(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[12] = t2[n2], r2;
}
function Gq(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2 = e20[12].start + "", l2 = e20[12].end + "";
  function f2() {
    return e20[11](e20[12]);
  }
  return { c: function() {
    t2 = go("button"), n2 = bo("show "), r2 = bo(c2), i2 = bo("-"), o2 = bo(l2), a2 = wo(), So(t2, "type", "button"), So(t2, "class", "jse-expand-items svelte-1knbf5w");
  }, m: function(e21, c3) {
    vo(e21, t2, c3), uo(t2, n2), uo(t2, r2), uo(t2, i2), uo(t2, o2), uo(t2, a2), s2 || (u2 = jo(t2, "click", f2), s2 = true);
  }, p: function(t3, n3) {
    e20 = t3, 16 & n3 && c2 !== (c2 = e20[12].start + "") && Po(r2, c2), 16 & n3 && l2 !== (l2 = e20[12].end + "") && Po(o2, l2);
  }, d: function(e21) {
    e21 && po(t2), s2 = false, u2();
  } };
}
function Qq(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2 = e20[4], d2 = [], v2 = 0; v2 < h2.length; v2 += 1)
    d2[v2] = Gq(Kq(e20, h2, v2));
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("div"), i2 = bo("Items "), o2 = bo(e20[3]), a2 = bo("-"), s2 = bo(e20[2]), u2 = wo();
    for (var l3 = 0; l3 < d2.length; l3 += 1)
      d2[l3].c();
    So(r2, "class", "jse-text svelte-1knbf5w"), So(t2, "class", "jse-collapsed-items svelte-1knbf5w"), So(t2, "style", c2 = Yq(e20[0].length + 2)), Io(t2, "jse-selected", e20[5]);
  }, m: function(e21, c3) {
    vo(e21, t2, c3), uo(t2, n2), uo(n2, r2), uo(r2, i2), uo(r2, o2), uo(r2, a2), uo(r2, s2), uo(n2, u2);
    for (var h3 = 0; h3 < d2.length; h3 += 1)
      d2[h3].m(n2, null);
    l2 || (f2 = jo(t2, "mousemove", Zq), l2 = true);
  }, p: function(e21, r3) {
    var i3 = ji(r3, 1)[0];
    if (8 & i3 && Po(o2, e21[3]), 4 & i3 && Po(s2, e21[2]), 19 & i3) {
      var a3;
      for (h2 = e21[4], a3 = 0; a3 < h2.length; a3 += 1) {
        var u3 = Kq(e21, h2, a3);
        d2[a3] ? d2[a3].p(u3, i3) : (d2[a3] = Gq(u3), d2[a3].c(), d2[a3].m(n2, null));
      }
      for (; a3 < d2.length; a3 += 1)
        d2[a3].d(1);
      d2.length = h2.length;
    }
    1 & i3 && c2 !== (c2 = Yq(e21[0].length + 2)) && So(t2, "style", c2), 32 & i3 && Io(t2, "jse-selected", e21[5]);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2), mo(d2, e21), l2 = false, f2();
  } };
}
function Yq(e20) {
  return "margin-left: calc(".concat(e20, " * var(--jse-indent-size))");
}
function Zq(e20) {
  e20.stopPropagation();
}
function Xq(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2 = t2.visibleSections, c2 = t2.sectionIndex, l2 = t2.total, f2 = t2.path, h2 = t2.selection, d2 = t2.onExpandSection;
  return e20.$$set = function(e21) {
    "visibleSections" in e21 && n2(6, u2 = e21.visibleSections), "sectionIndex" in e21 && n2(7, c2 = e21.sectionIndex), "total" in e21 && n2(8, l2 = e21.total), "path" in e21 && n2(0, f2 = e21.path), "selection" in e21 && n2(9, h2 = e21.selection), "onExpandSection" in e21 && n2(1, d2 = e21.onExpandSection);
  }, e20.$$.update = function() {
    192 & e20.$$.dirty && n2(10, r2 = u2[c2]), 1024 & e20.$$.dirty && n2(3, i2 = r2.end), 448 & e20.$$.dirty && n2(2, o2 = u2[c2 + 1] ? u2[c2 + 1].start : l2), 521 & e20.$$.dirty && n2(5, a2 = !(!h2 || !h2.pathsMap) && h2.pathsMap[ws.exports.compileJSONPointer(f2.concat(i2))] === true), 12 & e20.$$.dirty && n2(4, s2 = function(e21, t3) {
      var n3 = { start: e21, end: Math.min(yj(e21), t3) }, r3 = Math.max(bj((e21 + t3) / 2), e21), i3 = { start: r3, end: Math.min(yj(r3), t3) }, o3 = bj(t3), a3 = o3 === t3 ? o3 - 100 : o3, s3 = { start: Math.max(a3, e21), end: t3 }, u3 = [n3], c3 = i3.start >= n3.end && i3.end <= s3.start;
      return c3 && u3.push(i3), s3.start >= (c3 ? i3.end : n3.end) && u3.push(s3), u3;
    }(i2, o2));
  }, [f2, d2, o2, i2, s2, a2, u2, c2, l2, h2, r2, function(e21) {
    return d2(f2, e21);
  }];
}
var eF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, Xq, Qq, Ki, { visibleSections: 6, sectionIndex: 7, total: 8, path: 0, selection: 9, onExpandSection: 1 }, Jq), r2;
  }
  return Li(n2);
}();
function tF(e20) {
  co(e20, "svelte-dol684", ".jse-context-menu-button.svelte-dol684{position:absolute;top:calc(-0.5 * var(--jse-context-menu-button-size));right:calc(-0.5 * var(--jse-context-menu-button-size));width:var(--jse-context-menu-button-size);height:var(--jse-context-menu-button-size);padding:0;margin:0;z-index:2;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-button-background);color:var(--jse-context-menu-button-color);border:none;box-shadow:var(--jse-controls-box-shadow)}.jse-context-menu-button.svelte-dol684:hover{background:var(--jse-context-menu-button-background-highlight)}");
}
function nF(e20) {
  var t2, n2, r2, i2, o2;
  return n2 = new KS({ props: { data: Xx } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), So(t2, "type", "button"), So(t2, "class", "jse-context-menu-button svelte-dol684"), So(t2, "title", ds), Io(t2, "jse-selected", e20[0]);
  }, m: function(a2, s2) {
    vo(a2, t2, s2), Aa(n2, t2, null), r2 = true, i2 || (o2 = jo(t2, "click", e20[1]), i2 = true);
  }, p: function(e21, n3) {
    1 & ji(n3, 1)[0] && Io(t2, "jse-selected", e21[0]);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), i2 = false, o2();
  } };
}
function rF(e20, t2, n2) {
  var r2 = t2.selected, i2 = t2.onContextMenu;
  return e20.$$set = function(e21) {
    "selected" in e21 && n2(0, r2 = e21.selected), "onContextMenu" in e21 && n2(2, i2 = e21.onContextMenu);
  }, [r2, function(e21) {
    for (var t3 = e21.target; t3 && t3.nodeName !== "BUTTON"; )
      t3 = t3.parentNode;
    t3 && i2({ anchor: t3, left: 0, top: 0, width: 260, height: 336, offsetTop: 2, offsetLeft: 0, showTip: true });
  }, i2];
}
var iF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, rF, nF, Ki, { selected: 0, onContextMenu: 2 }, tF), r2;
  }
  return Li(n2);
}();
function oF(e20) {
  co(e20, "svelte-s6kbew", ".jse-highlight.svelte-s6kbew{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-highlight.jse-active.svelte-s6kbew{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}");
}
function aF(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[3] = t2[n2], r2;
}
function sF(e20) {
  var t2, n2, r2 = xx(e20[3].text) + "";
  return { c: function() {
    t2 = go("span"), n2 = bo(r2), So(t2, "class", "jse-highlight svelte-s6kbew"), Io(t2, "jse-active", e20[3].active);
  }, m: function(e21, r3) {
    vo(e21, t2, r3), uo(t2, n2);
  }, p: function(e21, i2) {
    1 & i2 && r2 !== (r2 = xx(e21[3].text) + "") && Po(n2, r2), 1 & i2 && Io(t2, "jse-active", e21[3].active);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function uF(e20) {
  var t2, n2 = e20[3].text + "";
  return { c: function() {
    t2 = bo(n2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, r2) {
    1 & r2 && n2 !== (n2 = e21[3].text + "") && Po(t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function cF(e20) {
  var t2;
  function n2(e21, t3) {
    return e21[3].type === "normal" ? uF : sF;
  }
  var r2 = n2(e20), i2 = r2(e20);
  return { c: function() {
    i2.c(), t2 = ko();
  }, m: function(e21, n3) {
    i2.m(e21, n3), vo(e21, t2, n3);
  }, p: function(e21, o2) {
    r2 === (r2 = n2(e21)) && i2 ? i2.p(e21, o2) : (i2.d(1), (i2 = r2(e21)) && (i2.c(), i2.m(t2.parentNode, t2)));
  }, d: function(e21) {
    i2.d(e21), e21 && po(t2);
  } };
}
function lF(e20) {
  for (var t2, n2 = e20[0], r2 = [], i2 = 0; i2 < n2.length; i2 += 1)
    r2[i2] = cF(aF(e20, n2, i2));
  return { c: function() {
    for (var e21 = 0; e21 < r2.length; e21 += 1)
      r2[e21].c();
    t2 = ko();
  }, m: function(e21, n3) {
    for (var i3 = 0; i3 < r2.length; i3 += 1)
      r2[i3].m(e21, n3);
    vo(e21, t2, n3);
  }, p: function(e21, i3) {
    var o2 = ji(i3, 1)[0];
    if (1 & o2) {
      var a2;
      for (n2 = e21[0], a2 = 0; a2 < n2.length; a2 += 1) {
        var s2 = aF(e21, n2, a2);
        r2[a2] ? r2[a2].p(s2, o2) : (r2[a2] = cF(s2), r2[a2].c(), r2[a2].m(t2.parentNode, t2));
      }
      for (; a2 < r2.length; a2 += 1)
        r2[a2].d(1);
      r2.length = n2.length;
    }
  }, i: Bi, o: Bi, d: function(e21) {
    mo(r2, e21), e21 && po(t2);
  } };
}
function fF(e20, t2, n2) {
  var r2, i2 = t2.text, o2 = t2.searchResult;
  return e20.$$set = function(e21) {
    "text" in e21 && n2(1, i2 = e21.text), "searchResult" in e21 && n2(2, o2 = e21.searchResult);
  }, e20.$$.update = function() {
    6 & e20.$$.dirty && n2(0, r2 = function(e21, t3) {
      var n3, r3 = [], i3 = 0, o3 = bi(t3);
      try {
        for (o3.s(); !(n3 = o3.n()).done; ) {
          var a2 = n3.value, s2 = e21.slice(i3, a2.start);
          s2 !== "" && r3.push({ type: "normal", text: s2, active: false });
          var u2 = e21.slice(a2.start, a2.end);
          r3.push({ type: "highlight", text: u2, active: a2.active }), i3 = a2.end;
        }
      } catch (e22) {
        o3.e(e22);
      } finally {
        o3.f();
      }
      var c2 = Gv(t3);
      return c2.end < e21.length && r3.push({ type: "normal", text: e21.slice(c2.end), active: false }), r3;
    }(String(i2), o2));
  }, [r2, i2, o2];
}
var hF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, fF, lF, Ji, { text: 1, searchResult: 2 }, oF), r2;
  }
  return Li(n2);
}();
function dF(e20) {
  co(e20, "svelte-rw77oa", ".jse-value.jse-string.svelte-rw77oa{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rw77oa,.jse-value.jse-array.svelte-rw77oa{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rw77oa{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rw77oa{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rw77oa{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rw77oa{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rw77oa{color:var(--jse-value-color-url);text-decoration:underline}div.jse-editable-div.svelte-rw77oa{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-rw77oa{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-rw77oa{outline:var(--jse-edit-outline);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-rw77oa:not(:focus){outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-rw77oa::after{pointer-events:none;color:var(--jse-tag-background)}");
}
function vF(e20) {
  var t2, n2, r2, i2;
  return { c: function() {
    So(t2 = go("div"), "class", n2 = eo(Uq("jse-editable-div", e20[2], { "jse-short-text": e20[0] })) + " svelte-rw77oa"), So(t2, "contenteditable", "true"), So(t2, "spellcheck", "false");
  }, m: function(n3, o2) {
    vo(n3, t2, o2), e20[13](t2), r2 || (i2 = [jo(t2, "input", e20[3]), jo(t2, "keydown", e20[4]), jo(t2, "paste", e20[5]), jo(t2, "blur", e20[6])], r2 = true);
  }, p: function(e21, r3) {
    5 & ji(r3, 1)[0] && n2 !== (n2 = eo(Uq("jse-editable-div", e21[2], { "jse-short-text": e21[0] })) + " svelte-rw77oa") && So(t2, "class", n2);
  }, i: Bi, o: Bi, d: function(n3) {
    n3 && po(t2), e20[13](null), r2 = false, Wi(i2);
  } };
}
function pF(e20, t2, n2) {
  var r2, i2 = Na("jsoneditor:EditableDiv"), o2 = t2.value, a2 = t2.shortText, s2 = a2 !== void 0 && a2, u2 = t2.onChange, c2 = t2.onCancel, l2 = t2.onFind, f2 = t2.onPaste, h2 = f2 === void 0 ? wc : f2, d2 = t2.onValueClass, v2 = d2 === void 0 ? function() {
    return "";
  } : d2, p2 = v2(o2), m2 = false;
  function g2() {
    return function(e21) {
      return e21.replace(/\n$/, "");
    }(r2.innerText);
  }
  function y2(e21) {
    n2(1, r2.innerText = xx(e21), r2);
  }
  return Jo(function() {
    i2("onMount", { value: o2 }), y2(o2), setTimeout(function() {
      return Ox(r2);
    });
  }), Ko(function() {
    var e21 = g2();
    i2("onDestroy", { closed: m2, value: o2, newValue: e21 }), m2 || e21 === o2 || u2(e21, vs);
  }), e20.$$set = function(e21) {
    "value" in e21 && n2(7, o2 = e21.value), "shortText" in e21 && n2(0, s2 = e21.shortText), "onChange" in e21 && n2(8, u2 = e21.onChange), "onCancel" in e21 && n2(9, c2 = e21.onCancel), "onFind" in e21 && n2(10, l2 = e21.onFind), "onPaste" in e21 && n2(11, h2 = e21.onPaste), "onValueClass" in e21 && n2(12, v2 = e21.onValueClass);
  }, [s2, r2, p2, function() {
    var e21 = g2();
    e21 === "" && y2(""), n2(2, p2 = v2(e21));
  }, function(e21) {
    e21.stopPropagation();
    var t3 = Dx(e21).replace(/^Command\+/, "Ctrl+");
    if (t3 === "Escape" && (m2 = true, c2()), t3 === "Enter" || t3 === "Tab") {
      m2 = true;
      var n3 = g2();
      u2(n3, ms);
    }
    t3 === "Ctrl+F" && (e21.preventDefault(), l2(false)), t3 === "Ctrl+H" && (e21.preventDefault(), l2(true));
  }, function(e21) {
    if (h2) {
      var t3 = e21.clipboardData.getData("text/plain");
      h2(t3);
    }
  }, function() {
    var e21 = document.hasFocus(), t3 = g2();
    i2("handleBlur", { hasFocus: e21, closed: m2, value: o2, newValue: t3 }), document.hasFocus() && !m2 && (m2 = true, t3 !== o2 ? u2(t3, ps) : c2());
  }, o2, u2, c2, l2, h2, v2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(1, r2 = e21);
    });
  }];
}
var mF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, pF, vF, Ki, { value: 7, shortText: 0, onChange: 8, onCancel: 9, onFind: 10, onPaste: 11, onValueClass: 12 }, dF), r2;
  }
  return Li(n2);
}();
function gF(e20) {
  co(e20, "svelte-566egb", '.jse-key.svelte-566egb{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.jse-empty.svelte-566egb{min-width:3em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-key.jse-empty.svelte-566egb::after{pointer-events:none;color:var(--jse-tag-background);content:"key"}');
}
function yF(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2 = [kF, wF], c2 = [];
  function l2(e21, t3) {
    return e21[1] ? 0 : 1;
  }
  return n2 = l2(e20), r2 = c2[n2] = u2[n2](e20), { c: function() {
    t2 = go("div"), r2.c(), So(t2, "data-type", "selectable-key"), So(t2, "class", i2 = eo(e20[5](e20[0])) + " svelte-566egb");
  }, m: function(r3, i3) {
    vo(r3, t2, i3), c2[n2].m(t2, null), o2 = true, a2 || (s2 = jo(t2, "dblclick", e20[4]), a2 = true);
  }, p: function(e21, a3) {
    var s3 = n2;
    (n2 = l2(e21)) === s3 ? c2[n2].p(e21, a3) : (ma(), ba(c2[s3], 1, 1, function() {
      c2[s3] = null;
    }), ga(), (r2 = c2[n2]) ? r2.p(e21, a3) : (r2 = c2[n2] = u2[n2](e21)).c(), ya(r2, 1), r2.m(t2, null)), (!o2 || 1 & a3 && i2 !== (i2 = eo(e21[5](e21[0])) + " svelte-566egb")) && So(t2, "class", i2);
  }, i: function(e21) {
    o2 || (ya(r2), o2 = true);
  }, o: function(e21) {
    ba(r2), o2 = false;
  }, d: function(e21) {
    e21 && po(t2), c2[n2].d(), a2 = false, s2();
  } };
}
function bF(e20) {
  var t2, n2;
  return t2 = new mF({ props: { value: e20[2].normalization.escapeValue(e20[0]), shortText: true, onChange: e20[6], onCancel: e20[7], onFind: e20[2].onFind } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    5 & n3 && (r2.value = e21[2].normalization.escapeValue(e21[0])), 4 & n3 && (r2.onFind = e21[2].onFind), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function wF(e20) {
  var t2, n2 = xx(e20[2].normalization.escapeValue(e20[0])) + "";
  return { c: function() {
    t2 = bo(n2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, r2) {
    5 & r2 && n2 !== (n2 = xx(e21[2].normalization.escapeValue(e21[0])) + "") && Po(t2, n2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function kF(e20) {
  var t2, n2;
  return t2 = new hF({ props: { text: e20[2].normalization.escapeValue(e20[0]), searchResult: e20[1] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    5 & n3 && (r2.text = e21[2].normalization.escapeValue(e21[0])), 2 & n3 && (r2.searchResult = e21[1]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function jF(e20) {
  var t2, n2, r2, i2, o2 = [bF, yF], a2 = [];
  function s2(e21, t3) {
    return e21[3] ? 0 : 1;
  }
  return t2 = s2(e20), n2 = a2[t2] = o2[t2](e20), { c: function() {
    n2.c(), r2 = ko();
  }, m: function(e21, n3) {
    a2[t2].m(e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var u2 = ji(i3, 1)[0], c2 = t2;
    (t2 = s2(e21)) === c2 ? a2[t2].p(e21, u2) : (ma(), ba(a2[c2], 1, 1, function() {
      a2[c2] = null;
    }), ga(), (n2 = a2[t2]) ? n2.p(e21, u2) : (n2 = a2[t2] = o2[t2](e21)).c(), ya(n2, 1), n2.m(r2.parentNode, r2));
  }, i: function(e21) {
    i2 || (ya(n2), i2 = true);
  }, o: function(e21) {
    ba(n2), i2 = false;
  }, d: function(e21) {
    a2[t2].d(e21), e21 && po(r2);
  } };
}
function xF(e20, t2, n2) {
  var r2, i2, o2 = t2.path, a2 = t2.key, s2 = t2.onUpdateKey, u2 = t2.selection, c2 = t2.searchResult, l2 = t2.context;
  return e20.$$set = function(e21) {
    "path" in e21 && n2(8, o2 = e21.path), "key" in e21 && n2(0, a2 = e21.key), "onUpdateKey" in e21 && n2(9, s2 = e21.onUpdateKey), "selection" in e21 && n2(10, u2 = e21.selection), "searchResult" in e21 && n2(1, c2 = e21.searchResult), "context" in e21 && n2(2, l2 = e21.context);
  }, e20.$$.update = function() {
    1024 & e20.$$.dirty && n2(11, r2 = u2 && u2.type === Hj), 3076 & e20.$$.dirty && n2(3, i2 = !l2.readOnly && r2 && u2 && u2.edit === true);
  }, [a2, c2, l2, i2, function(e21) {
    i2 || l2.readOnly || (e21.preventDefault(), l2.onSelect({ type: Hj, path: o2, edit: true }));
  }, function(e21) {
    return Uq("jse-key", { "jse-empty": e21 === "" });
  }, function(e21, t3) {
    var n3 = s2(a2, l2.normalization.unescapeValue(e21)), r3 = _m(o2).concat(n3);
    t3 === ms && l2.onSelect({ type: Hj, path: r3, next: true }), t3 === ps && l2.onSelect({ type: Hj, path: r3 }, { ensureFocus: false });
  }, function() {
    l2.onSelect({ type: Hj, path: o2 });
  }, o2, s2, u2, r2];
}
var SF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, xF, jF, Ki, { path: 8, key: 0, onUpdateKey: 9, selection: 10, searchResult: 1, context: 2 }, gF), r2;
  }
  return Li(n2);
}();
function CF(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[9] = t2[n2], r2;
}
function _F(e20) {
  var t2, n2, r2, i2 = [e20[9].props], o2 = e20[9].component;
  function a2(e21) {
    for (var t3 = {}, n3 = 0; n3 < i2.length; n3 += 1)
      t3 = Fi(t3, i2[n3]);
    return { props: t3 };
  }
  return o2 && (t2 = new o2(a2())), { c: function() {
    t2 && Pa(t2.$$.fragment), n2 = ko();
  }, m: function(e21, i3) {
    t2 && Aa(t2, e21, i3), vo(e21, n2, i3), r2 = true;
  }, p: function(e21, r3) {
    var s2 = 1 & r3 ? _a(i2, [$a(e21[9].props)]) : {};
    if (o2 !== (o2 = e21[9].component)) {
      if (t2) {
        ma();
        var u2 = t2;
        ba(u2.$$.fragment, 1, 0, function() {
          Ea(u2, 1);
        }), ga();
      }
      o2 ? (Pa((t2 = new o2(a2())).$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, n2.parentNode, n2)) : t2 = null;
    } else
      o2 && t2.$set(s2);
  }, i: function(e21) {
    r2 || (t2 && ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(n2), t2 && Ea(t2, e21);
  } };
}
function $F(e20) {
  for (var t2, n2, r2 = e20[0], i2 = [], o2 = 0; o2 < r2.length; o2 += 1)
    i2[o2] = _F(CF(e20, r2, o2));
  var a2 = function(e21) {
    return ba(i2[e21], 1, 1, function() {
      i2[e21] = null;
    });
  };
  return { c: function() {
    for (var e21 = 0; e21 < i2.length; e21 += 1)
      i2[e21].c();
    t2 = ko();
  }, m: function(e21, r3) {
    for (var o3 = 0; o3 < i2.length; o3 += 1)
      i2[o3].m(e21, r3);
    vo(e21, t2, r3), n2 = true;
  }, p: function(e21, n3) {
    var o3 = ji(n3, 1)[0];
    if (1 & o3) {
      var s2;
      for (r2 = e21[0], s2 = 0; s2 < r2.length; s2 += 1) {
        var u2 = CF(e21, r2, s2);
        i2[s2] ? (i2[s2].p(u2, o3), ya(i2[s2], 1)) : (i2[s2] = _F(u2), i2[s2].c(), ya(i2[s2], 1), i2[s2].m(t2.parentNode, t2));
      }
      for (ma(), s2 = r2.length; s2 < i2.length; s2 += 1)
        a2(s2);
      ga();
    }
  }, i: function(e21) {
    if (!n2) {
      for (var t3 = 0; t3 < r2.length; t3 += 1)
        ya(i2[t3]);
      n2 = true;
    }
  }, o: function(e21) {
    i2 = i2.filter(Boolean);
    for (var t3 = 0; t3 < i2.length; t3 += 1)
      ba(i2[t3]);
    n2 = false;
  }, d: function(e21) {
    mo(i2, e21), e21 && po(t2);
  } };
}
function OF(e20, t2, n2) {
  var r2, i2, o2, a2 = t2.path, s2 = t2.value, u2 = t2.context, c2 = t2.enforceString, l2 = t2.selection, f2 = t2.searchResult;
  return e20.$$set = function(e21) {
    "path" in e21 && n2(1, a2 = e21.path), "value" in e21 && n2(2, s2 = e21.value), "context" in e21 && n2(3, u2 = e21.context), "enforceString" in e21 && n2(4, c2 = e21.enforceString), "selection" in e21 && n2(5, l2 = e21.selection), "searchResult" in e21 && n2(6, f2 = e21.searchResult);
  }, e20.$$.update = function() {
    34 & e20.$$.dirty && n2(8, r2 = !(!l2 || l2.type !== Wj) && Zm(l2.focusPath, a2)), 296 & e20.$$.dirty && n2(7, i2 = !u2.readOnly && r2 && l2 && l2.edit === true), 510 & e20.$$.dirty && n2(0, o2 = u2.onRenderValue({ path: a2, value: s2, readOnly: u2.readOnly, enforceString: c2, isSelected: r2, isEditing: i2, normalization: u2.normalization, selection: l2, searchResult: f2, onPatch: u2.onPatch, onPasteJson: u2.onPasteJson, onSelect: u2.onSelect, onFind: u2.onFind }));
  }, [o2, a2, s2, u2, c2, l2, f2, i2, r2];
}
var PF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, OF, $F, Ki, { path: 1, value: 2, context: 3, enforceString: 4, selection: 5, searchResult: 6 }), r2;
  }
  return Li(n2);
}(), AF = { selecting: false, selectionAnchor: null, selectionAnchorType: null, selectionFocus: null, dragging: false };
function EF(e20) {
  co(e20, "svelte-r4omvg", ".jse-tooltip.svelte-r4omvg{font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);border-radius:3px;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);white-space:nowrap;box-shadow:var(--jse-controls-box-shadow)}");
}
function MF(e20) {
  var t2, n2;
  return { c: function() {
    t2 = go("div"), n2 = bo(e20[0]), So(t2, "class", "jse-tooltip svelte-r4omvg");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), uo(t2, n2);
  }, p: function(e21, t3) {
    1 & ji(t3, 1)[0] && Po(n2, e21[0]);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function TF(e20, t2, n2) {
  var r2 = t2.text;
  return e20.$$set = function(e21) {
    "text" in e21 && n2(0, r2 = e21.text);
  }, [r2];
}
var IF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, TF, MF, Ji, { text: 0 }, EF), r2;
  }
  return Li(n2);
}();
function NF(e20, t2) {
  var n2 = t2.text, r2 = t2.openAbsolutePopup, i2 = t2.closeAbsolutePopup;
  function o2() {
    r2(IF, { text: n2 }, { position: "top", width: 10 * n2.length, offsetTop: 3, anchor: e20, closeOnOuterClick: true });
  }
  function a2() {
    i2();
  }
  return e20.addEventListener("mouseover", o2), e20.addEventListener("mouseout", a2), { destroy: function() {
    e20.removeEventListener("mouseover", o2), e20.removeEventListener("mouseout", a2);
  } };
}
function RF(e20) {
  co(e20, "svelte-1ki5r8b", "button.jse-validation-error.svelte-1ki5r8b{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;color:var(--jse-message-warning-background);padding:0 5px;margin:0;font-size:var(--jse-font-size-mono);height:var(--jse-line-height);overflow:hidden}");
}
function DF(e20) {
  var t2, n2, r2, i2, o2, a2;
  return n2 = new KS({ props: { data: yS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), So(t2, "type", "button"), So(t2, "class", "jse-validation-error svelte-1ki5r8b");
  }, m: function(s2, u2) {
    vo(s2, t2, u2), Aa(n2, t2, null), i2 = true, o2 || (a2 = [jo(t2, "click", function() {
      Ui(e20[0]) && e20[0].apply(this, arguments);
    }), to(r2 = NF.call(null, t2, Ei({ text: e20[1] }, e20[2])))], o2 = true);
  }, p: function(t3, n3) {
    var i3 = ji(n3, 1)[0];
    e20 = t3, r2 && Ui(r2.update) && 2 & i3 && r2.update.call(null, Ei({ text: e20[1] }, e20[2]));
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), o2 = false, Wi(a2);
  } };
}
function LF(e20, t2, n2) {
  var r2, i2 = Yo("absolute-popup"), o2 = t2.validationError, a2 = t2.onExpand;
  return e20.$$set = function(e21) {
    "validationError" in e21 && n2(3, o2 = e21.validationError), "onExpand" in e21 && n2(0, a2 = e21.onExpand);
  }, e20.$$.update = function() {
    8 & e20.$$.dirty && n2(1, r2 = o2.isChildError ? "Contains invalid data" : o2.message);
  }, [a2, r2, i2, o2];
}
var zF = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, LF, DF, Ji, { validationError: 3, onExpand: 0 }, RF), r2;
  }
  return Li(n2);
}();
function BF(e20) {
  var t2 = e20.fullJson, n2 = e20.fullState, r2 = e20.fullSelection, i2 = e20.deltaY, o2 = e20.items, a2 = i2 < 0 ? function(e21) {
    var t3 = e21.items, n3 = e21.fullSelection, r3 = e21.deltaY, i3 = Kj(n3), o3 = t3.findIndex(function(e22) {
      return Zm(e22.path, i3);
    }), a3 = function() {
      var e22;
      return (e22 = t3[s3 - 1]) === null || e22 === void 0 ? void 0 : e22.height;
    }, s3 = o3, u3 = 0;
    for (; a3() !== void 0 && Math.abs(r3) > u3 + a3() / 2; )
      u3 += a3(), s3 -= 1;
    var c3 = t3[s3].path, l3 = s3 - o3;
    return s3 !== o3 && t3[s3] !== void 0 ? { beforePath: c3, indexOffset: l3 } : void 0;
  }({ fullSelection: r2, deltaY: i2, items: o2 }) : function(e21) {
    var t3, n3 = e21.items, r3 = e21.fullSelection, i3 = e21.deltaY, o3 = Gj(r3), a3 = n3.findIndex(function(e22) {
      return Zm(e22.path, o3);
    }), s3 = function() {
      var e22;
      return (e22 = n3[c3 + 1]) === null || e22 === void 0 ? void 0 : e22.height;
    }, u3 = 0, c3 = a3;
    for (; s3() !== void 0 && Math.abs(i3) > u3 + s3() / 2; )
      u3 += s3(), c3 += 1;
    var l3 = typeof Gv(o3) == "number", f3 = (t3 = n3[l3 ? c3 : c3 + 1]) === null || t3 === void 0 ? void 0 : t3.path, h3 = c3 - a3;
    return f3 ? { beforePath: f3, indexOffset: h3 } : { append: true, indexOffset: h3 };
  }({ fullSelection: r2, deltaY: i2, items: o2 });
  if (!a2 || a2.indexOffset === 0)
    return { operations: void 0, updatedValue: void 0, updatedState: void 0, updatedSelection: void 0, updatedFullSelection: void 0, indexOffset: 0 };
  var s2 = function(e21, t3, n3, r3) {
    var i3 = r3.beforePath, o3 = r3.append, a3 = _m(n3.focusPath), s3 = ws.exports.getIn(e21, a3);
    if (o3 || i3 && ox(i3, a3) && i3.length > a3.length) {
      var u3 = n3.paths ? Bp(n3.paths) : n3.focusPath, c3 = n3.paths ? Gv(n3.paths) : n3.focusPath, l3 = Gv(u3), f3 = Gv(c3), h3 = i3 ? i3[a3.length] : void 0;
      if (!Ls(s3)) {
        var d3 = l3, v2 = h3;
        return Hw(f3 - d3 + 1, v2 < d3 ? function(e22) {
          return { op: "move", from: ws.exports.compileJSONPointer(a3.concat(d3 + e22)), path: ws.exports.compileJSONPointer(a3.concat(v2 + e22)) };
        } : function() {
          return { op: "move", from: ws.exports.compileJSONPointer(a3.concat(d3)), path: ws.exports.compileJSONPointer(a3.concat(v2)) };
        });
      }
      var p2 = ws.exports.getIn(t3, a3.concat(ns)), m2 = p2.indexOf(l3), g2 = p2.indexOf(f3), y2 = o3 ? p2.length : p2.indexOf(h3);
      if (m2 !== -1 && g2 !== -1 && y2 !== -1)
        return y2 > m2 ? [].concat(Ti(p2.slice(m2, g2 + 1)), Ti(p2.slice(y2, p2.length))).map(function(e22) {
          return WB(a3, e22);
        }) : [].concat(Ti(p2.slice(y2, m2)), Ti(p2.slice(g2 + 1, p2.length))).map(function(e22) {
          return WB(a3, e22);
        });
    }
  }(t2, n2, r2, a2), u2 = Oj(t2, n2, s2), c2 = _m(Kj(r2)), l2 = ws.exports.getIn(t2, c2);
  if (Array.isArray(l2)) {
    var f2 = function(e21) {
      var t3, n3, r3 = e21.items, i3 = e21.fullJson, o3 = e21.fullState, a3 = e21.fullSelection, s3 = e21.indexOffset, u3 = Kj(a3), c3 = Gj(a3), l3 = r3.findIndex(function(e22) {
        return Zm(e22.path, u3);
      }), f3 = r3.findIndex(function(e22) {
        return Zm(e22.path, c3);
      }), h3 = (t3 = r3[l3 + s3]) === null || t3 === void 0 ? void 0 : t3.path, d3 = (n3 = r3[f3 + s3]) === null || n3 === void 0 ? void 0 : n3.path;
      return sx(i3, o3, { type: Uj, anchorPath: h3, focusPath: d3 });
    }({ items: o2, fullJson: t2, fullState: n2, fullSelection: r2, indexOffset: a2.indexOffset }), h2 = cx(t2, f2), d2 = ws.exports.getIn(h2, c2);
    return { operations: s2, updatedValue: ws.exports.getIn(u2.json, c2), updatedState: ws.exports.getIn(u2.state, c2), updatedSelection: d2, updatedFullSelection: f2, indexOffset: a2.indexOffset };
  }
  return { operations: s2, updatedValue: ws.exports.getIn(u2.json, c2), updatedState: ws.exports.getIn(u2.state, c2), updatedSelection: void 0, updatedFullSelection: void 0, indexOffset: a2.indexOffset };
}
function qF(e20) {
  co(e20, "svelte-uj4yd7", ".jse-json-node.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative;color:var(--jse-text-color)}.jse-json-node.jse-root.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7 .jse-context-menu-button,.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7 .jse-context-menu-button{top:0;right:calc(-2px - var(--jse-context-menu-button-size))}.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7.svelte-uj4yd7{padding-left:0}.jse-json-node.jse-hovered.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-hover-background-color)}.jse-json-node.svelte-uj4yd7 .jse-props.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-items.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-footer-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header .jse-meta.svelte-uj4yd7>.jse-meta-inner.svelte-uj4yd7.svelte-uj4yd7{display:flex;justify-content:center}.jse-json-node.svelte-uj4yd7 .jse-contents-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;flex-direction:row}.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-left:var(--jse-indent-size)}.jse-json-node.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;padding-left:calc(var(--jse-indent-size) + 5px)}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding));flex:1}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-inside.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;align-items:center}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-after.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;align-items:flex-end}.jse-json-node.svelte-uj4yd7:hover>.jse-contents-outer .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7:hover>.jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-footer-outer:hover .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected){visibility:visible;z-index:1}.jse-json-node.svelte-uj4yd7 .jse-context-menu-button-anchor.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;position:relative;max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding));outline:1px solid}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7 .jse-context-menu-button{right:-1px;background:var(--jse-selection-background-color)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-hovered.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{outline-color:var(--jse-selection-background-color)}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color) !important;cursor:grab}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-color) !important}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-context-menu-button-background-highlight)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color) !important;cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-light-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-light-color) !important}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-selection-background-color)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{width:var(--jse-indent-size);padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color);font-size:var(--jse-font-size-mono);height:var(--jse-line-height)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-separator.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;color:var(--jse-delimiter-color)}.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 calc(0.5 * var(--jse-padding))}.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 2px}.jse-bracket.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-right:var(--jse-padding)}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{border:none;font-size:80%;font-family:var(--jse-font-family);color:var(--jse-tag-color);background:var(--jse-tag-background);border-radius:2px;cursor:pointer;position:relative;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{opacity:0.7;cursor:inherit}.jse-identifier.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;position:relative}");
}
var FF = function(e20) {
  return {};
}, VF = function(e20) {
  return {};
};
function HF(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[57] = t2[n2], r2;
}
var WF = function(e20) {
  return {};
}, UF = function(e20) {
  return {};
};
function JF(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[51] = t2[n2], r2[53] = n2, r2;
}
function KF(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[54] = t2[n2], r2[56] = n2, r2;
}
var GF = function(e20) {
  return {};
}, QF = function(e20) {
  return {};
};
function YF(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = !e20[4].readOnly && e20[7] && (e20[7].type === Wj || e20[7].type === Uj) && !e20[7].edit && Zm(e20[7].focusPath, e20[1]), f2 = e20[39].identifier, h2 = Gi(f2, e20, e20[40], VF), d2 = !e20[10] && eV();
  o2 = new PF({ props: { path: e20[1], value: e20[0], enforceString: e20[5] ? e20[5][os] : void 0, selection: e20[7], searchResult: e20[2] ? e20[2][is] : void 0, context: e20[4] } });
  var v2 = l2 && tV(e20), p2 = e20[15] && nV(e20), m2 = !e20[10] && rV(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("div"), h2 && h2.c(), r2 = wo(), d2 && d2.c(), i2 = wo(), Pa(o2.$$.fragment), a2 = wo(), v2 && v2.c(), s2 = wo(), p2 && p2.c(), u2 = wo(), m2 && m2.c(), So(n2, "class", "jse-contents svelte-uj4yd7"), So(t2, "class", "jse-contents-outer svelte-uj4yd7"), So(t2, "style", e20[13]);
  }, m: function(e21, l3) {
    vo(e21, t2, l3), uo(t2, n2), h2 && h2.m(n2, null), uo(n2, r2), d2 && d2.m(n2, null), uo(n2, i2), Aa(o2, n2, null), uo(n2, a2), v2 && v2.m(n2, null), uo(t2, s2), p2 && p2.m(t2, null), uo(t2, u2), m2 && m2.m(t2, null), c2 = true;
  }, p: function(e21, r3) {
    h2 && h2.p && (!c2 || 512 & r3[1]) && Zi(h2, f2, e21, e21[40], c2 ? Yi(f2, e21[40], r3, FF) : Xi(e21[40]), VF), e21[10] ? d2 && (d2.d(1), d2 = null) : d2 || ((d2 = eV()).c(), d2.m(n2, i2));
    var a3 = {};
    2 & r3[0] && (a3.path = e21[1]), 1 & r3[0] && (a3.value = e21[0]), 32 & r3[0] && (a3.enforceString = e21[5] ? e21[5][os] : void 0), 128 & r3[0] && (a3.selection = e21[7]), 4 & r3[0] && (a3.searchResult = e21[2] ? e21[2][is] : void 0), 16 & r3[0] && (a3.context = e21[4]), o2.$set(a3), 146 & r3[0] && (l2 = !e21[4].readOnly && e21[7] && (e21[7].type === Wj || e21[7].type === Uj) && !e21[7].edit && Zm(e21[7].focusPath, e21[1])), l2 ? v2 ? (v2.p(e21, r3), 146 & r3[0] && ya(v2, 1)) : ((v2 = tV(e21)).c(), ya(v2, 1), v2.m(n2, null)) : v2 && (ma(), ba(v2, 1, 1, function() {
      v2 = null;
    }), ga()), e21[15] ? p2 ? (p2.p(e21, r3), 32768 & r3[0] && ya(p2, 1)) : ((p2 = nV(e21)).c(), ya(p2, 1), p2.m(t2, u2)) : p2 && (ma(), ba(p2, 1, 1, function() {
      p2 = null;
    }), ga()), e21[10] ? m2 && (m2.d(1), m2 = null) : m2 ? m2.p(e21, r3) : ((m2 = rV(e21)).c(), m2.m(t2, null)), (!c2 || 8192 & r3[0]) && So(t2, "style", e21[13]);
  }, i: function(e21) {
    c2 || (ya(h2, e21), ya(o2.$$.fragment, e21), ya(v2), ya(p2), c2 = true);
  }, o: function(e21) {
    ba(h2, e21), ba(o2.$$.fragment, e21), ba(v2), ba(p2), c2 = false;
  }, d: function(e21) {
    e21 && po(t2), h2 && h2.d(e21), d2 && d2.d(), Ea(o2), v2 && v2.d(), p2 && p2.d(), m2 && m2.d();
  } };
}
function ZF(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2 = !e20[4].readOnly && e20[7] && (e20[7].type === Wj || e20[7].type === Uj) && !e20[7].edit && Zm(e20[7].focusPath, e20[1]), w2 = [oV, iV], k2 = [];
  function j2(e21, t3) {
    return e21[12] ? 0 : 1;
  }
  i2 = j2(e20), o2 = k2[i2] = w2[i2](e20);
  var x2 = e20[39].identifier, S2 = Gi(x2, e20, e20[40], UF), C2 = !e20[10] && aV();
  function _2(e21, t3) {
    return e21[12] ? uV : sV;
  }
  var $2 = _2(e20), O2 = $2(e20), P2 = b2 && cV(e20), A2 = e20[15] && (!e20[12] || !e20[15].isChildError) && lV(e20);
  function E2(e21, t3) {
    return e21[12] ? hV : e21[10] ? void 0 : fV;
  }
  var M2 = E2(e20), T2 = M2 && M2(e20), I2 = e20[12] && dV(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("button"), o2.c(), a2 = wo(), S2 && S2.c(), s2 = wo(), C2 && C2.c(), u2 = wo(), c2 = go("div"), l2 = go("div"), O2.c(), f2 = wo(), P2 && P2.c(), h2 = wo(), A2 && A2.c(), d2 = wo(), T2 && T2.c(), v2 = wo(), I2 && I2.c(), p2 = ko(), So(r2, "type", "button"), So(r2, "class", "jse-expand svelte-uj4yd7"), So(r2, "title", "Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"), So(l2, "class", "jse-meta-inner svelte-uj4yd7"), So(c2, "class", "jse-meta svelte-uj4yd7"), So(c2, "data-type", "selectable-value"), So(n2, "class", "jse-header svelte-uj4yd7"), So(t2, "class", "jse-header-outer svelte-uj4yd7"), So(t2, "style", e20[13]);
  }, m: function(o3, b3) {
    vo(o3, t2, b3), uo(t2, n2), uo(n2, r2), k2[i2].m(r2, null), uo(n2, a2), S2 && S2.m(n2, null), uo(n2, s2), C2 && C2.m(n2, null), uo(n2, u2), uo(n2, c2), uo(c2, l2), O2.m(l2, null), uo(n2, f2), P2 && P2.m(n2, null), uo(t2, h2), A2 && A2.m(t2, null), uo(t2, d2), T2 && T2.m(t2, null), vo(o3, v2, b3), I2 && I2.m(o3, b3), vo(o3, p2, b3), m2 = true, g2 || (y2 = jo(r2, "click", e20[23]), g2 = true);
  }, p: function(e21, a3) {
    var s3 = i2;
    (i2 = j2(e21)) === s3 ? k2[i2].p(e21, a3) : (ma(), ba(k2[s3], 1, 1, function() {
      k2[s3] = null;
    }), ga(), (o2 = k2[i2]) ? o2.p(e21, a3) : (o2 = k2[i2] = w2[i2](e21)).c(), ya(o2, 1), o2.m(r2, null)), S2 && S2.p && (!m2 || 512 & a3[1]) && Zi(S2, x2, e21, e21[40], m2 ? Yi(x2, e21[40], a3, WF) : Xi(e21[40]), UF), e21[10] ? C2 && (C2.d(1), C2 = null) : C2 || ((C2 = aV()).c(), C2.m(n2, u2)), $2 === ($2 = _2(e21)) && O2 ? O2.p(e21, a3) : (O2.d(1), (O2 = $2(e21)) && (O2.c(), O2.m(l2, null))), 146 & a3[0] && (b2 = !e21[4].readOnly && e21[7] && (e21[7].type === Wj || e21[7].type === Uj) && !e21[7].edit && Zm(e21[7].focusPath, e21[1])), b2 ? P2 ? (P2.p(e21, a3), 146 & a3[0] && ya(P2, 1)) : ((P2 = cV(e21)).c(), ya(P2, 1), P2.m(n2, null)) : P2 && (ma(), ba(P2, 1, 1, function() {
      P2 = null;
    }), ga()), !e21[15] || e21[12] && e21[15].isChildError ? A2 && (ma(), ba(A2, 1, 1, function() {
      A2 = null;
    }), ga()) : A2 ? (A2.p(e21, a3), 36864 & a3[0] && ya(A2, 1)) : ((A2 = lV(e21)).c(), ya(A2, 1), A2.m(t2, d2)), M2 === (M2 = E2(e21)) && T2 ? T2.p(e21, a3) : (T2 && T2.d(1), (T2 = M2 && M2(e21)) && (T2.c(), T2.m(t2, null))), (!m2 || 8192 & a3[0]) && So(t2, "style", e21[13]), e21[12] ? I2 ? (I2.p(e21, a3), 4096 & a3[0] && ya(I2, 1)) : ((I2 = dV(e21)).c(), ya(I2, 1), I2.m(p2.parentNode, p2)) : I2 && (ma(), ba(I2, 1, 1, function() {
      I2 = null;
    }), ga());
  }, i: function(e21) {
    m2 || (ya(o2), ya(S2, e21), ya(P2), ya(A2), ya(I2), m2 = true);
  }, o: function(e21) {
    ba(o2), ba(S2, e21), ba(P2), ba(A2), ba(I2), m2 = false;
  }, d: function(e21) {
    e21 && po(t2), k2[i2].d(), S2 && S2.d(e21), C2 && C2.d(), O2.d(), P2 && P2.d(), A2 && A2.d(), T2 && T2.d(), e21 && po(v2), I2 && I2.d(e21), e21 && po(p2), g2 = false, y2();
  } };
}
function XF(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2 = !e20[4].readOnly && e20[7] && (e20[7].type === Wj || e20[7].type === Uj) && !e20[7].edit && Zm(e20[7].focusPath, e20[1]), w2 = [wV, bV], k2 = [];
  function j2(e21, t3) {
    return e21[12] ? 0 : 1;
  }
  i2 = j2(e20), o2 = k2[i2] = w2[i2](e20);
  var x2 = e20[39].identifier, S2 = Gi(x2, e20, e20[40], QF), C2 = !e20[10] && kV();
  function _2(e21, t3) {
    return e21[12] ? xV : jV;
  }
  var $2 = _2(e20), O2 = $2(e20), P2 = b2 && SV(e20), A2 = e20[15] && (!e20[12] || !e20[15].isChildError) && CV(e20);
  function E2(e21, t3) {
    return e21[12] ? $V : _V;
  }
  var M2 = E2(e20), T2 = M2(e20), I2 = e20[12] && OV(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = go("button"), o2.c(), a2 = wo(), S2 && S2.c(), s2 = wo(), C2 && C2.c(), u2 = wo(), c2 = go("div"), l2 = go("div"), O2.c(), f2 = wo(), P2 && P2.c(), h2 = wo(), A2 && A2.c(), d2 = wo(), T2.c(), v2 = wo(), I2 && I2.c(), p2 = ko(), So(r2, "type", "button"), So(r2, "class", "jse-expand svelte-uj4yd7"), So(r2, "title", "Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"), So(l2, "class", "jse-meta-inner svelte-uj4yd7"), So(l2, "data-type", "selectable-value"), So(c2, "class", "jse-meta svelte-uj4yd7"), So(n2, "class", "jse-header svelte-uj4yd7"), So(t2, "class", "jse-header-outer svelte-uj4yd7"), So(t2, "style", e20[13]);
  }, m: function(o3, b3) {
    vo(o3, t2, b3), uo(t2, n2), uo(n2, r2), k2[i2].m(r2, null), uo(n2, a2), S2 && S2.m(n2, null), uo(n2, s2), C2 && C2.m(n2, null), uo(n2, u2), uo(n2, c2), uo(c2, l2), O2.m(l2, null), uo(n2, f2), P2 && P2.m(n2, null), uo(t2, h2), A2 && A2.m(t2, null), uo(t2, d2), T2.m(t2, null), vo(o3, v2, b3), I2 && I2.m(o3, b3), vo(o3, p2, b3), m2 = true, g2 || (y2 = jo(r2, "click", e20[23]), g2 = true);
  }, p: function(e21, a3) {
    var s3 = i2;
    (i2 = j2(e21)) === s3 ? k2[i2].p(e21, a3) : (ma(), ba(k2[s3], 1, 1, function() {
      k2[s3] = null;
    }), ga(), (o2 = k2[i2]) ? o2.p(e21, a3) : (o2 = k2[i2] = w2[i2](e21)).c(), ya(o2, 1), o2.m(r2, null)), S2 && S2.p && (!m2 || 512 & a3[1]) && Zi(S2, x2, e21, e21[40], m2 ? Yi(x2, e21[40], a3, GF) : Xi(e21[40]), QF), e21[10] ? C2 && (C2.d(1), C2 = null) : C2 || ((C2 = kV()).c(), C2.m(n2, u2)), $2 === ($2 = _2(e21)) && O2 ? O2.p(e21, a3) : (O2.d(1), (O2 = $2(e21)) && (O2.c(), O2.m(l2, null))), 146 & a3[0] && (b2 = !e21[4].readOnly && e21[7] && (e21[7].type === Wj || e21[7].type === Uj) && !e21[7].edit && Zm(e21[7].focusPath, e21[1])), b2 ? P2 ? (P2.p(e21, a3), 146 & a3[0] && ya(P2, 1)) : ((P2 = SV(e21)).c(), ya(P2, 1), P2.m(n2, null)) : P2 && (ma(), ba(P2, 1, 1, function() {
      P2 = null;
    }), ga()), !e21[15] || e21[12] && e21[15].isChildError ? A2 && (ma(), ba(A2, 1, 1, function() {
      A2 = null;
    }), ga()) : A2 ? (A2.p(e21, a3), 36864 & a3[0] && ya(A2, 1)) : ((A2 = CV(e21)).c(), ya(A2, 1), A2.m(t2, d2)), M2 === (M2 = E2(e21)) && T2 ? T2.p(e21, a3) : (T2.d(1), (T2 = M2(e21)) && (T2.c(), T2.m(t2, null))), (!m2 || 8192 & a3[0]) && So(t2, "style", e21[13]), e21[12] ? I2 ? (I2.p(e21, a3), 4096 & a3[0] && ya(I2, 1)) : ((I2 = OV(e21)).c(), ya(I2, 1), I2.m(p2.parentNode, p2)) : I2 && (ma(), ba(I2, 1, 1, function() {
      I2 = null;
    }), ga());
  }, i: function(e21) {
    m2 || (ya(o2), ya(S2, e21), ya(P2), ya(A2), ya(I2), m2 = true);
  }, o: function(e21) {
    ba(o2), ba(S2, e21), ba(P2), ba(A2), ba(I2), m2 = false;
  }, d: function(e21) {
    e21 && po(t2), k2[i2].d(), S2 && S2.d(e21), C2 && C2.d(), O2.d(), P2 && P2.d(), A2 && A2.d(), T2.d(), e21 && po(v2), I2 && I2.d(e21), e21 && po(p2), g2 = false, y2();
  } };
}
function eV(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).textContent = ":", So(t2, "class", "jse-separator svelte-uj4yd7");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function tV(e20) {
  var t2, n2, r2;
  return n2 = new iF({ props: { selected: true, onContextMenu: e20[4].onContextMenu } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-context-menu-button-anchor svelte-uj4yd7");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), Aa(n2, t2, null), r2 = true;
  }, p: function(e21, t3) {
    var r3 = {};
    16 & t3[0] && (r3.onContextMenu = e21[4].onContextMenu), n2.$set(r3);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function nV(e20) {
  var t2, n2;
  return t2 = new zF({ props: { validationError: e20[15], onExpand: e20[24] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    32768 & n3[0] && (r2.validationError = e21[15]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function rV(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[32]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function iV(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: eS } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function oV(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: Xx } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function aV(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).textContent = ":", So(t2, "class", "jse-separator svelte-uj4yd7");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function sV(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = Object.keys(e20[6]).length + "", h2 = Object.keys(e20[6]).length === 1 ? "prop" : "props";
  return { c: function() {
    (t2 = go("div")).textContent = "{", n2 = wo(), r2 = go("button"), i2 = bo(f2), o2 = wo(), a2 = bo(h2), s2 = wo(), (u2 = go("div")).textContent = "}", So(t2, "class", "jse-bracket svelte-uj4yd7"), So(r2, "type", "button"), So(r2, "class", "jse-tag svelte-uj4yd7"), So(u2, "class", "jse-bracket svelte-uj4yd7");
  }, m: function(f3, h3) {
    vo(f3, t2, h3), vo(f3, n2, h3), vo(f3, r2, h3), uo(r2, i2), uo(r2, o2), uo(r2, a2), vo(f3, s2, h3), vo(f3, u2, h3), c2 || (l2 = jo(r2, "click", e20[24]), c2 = true);
  }, p: function(e21, t3) {
    64 & t3[0] && f2 !== (f2 = Object.keys(e21[6]).length + "") && Po(i2, f2), 64 & t3[0] && h2 !== (h2 = Object.keys(e21[6]).length === 1 ? "prop" : "props") && Po(a2, h2);
  }, d: function(e21) {
    e21 && po(t2), e21 && po(n2), e21 && po(r2), e21 && po(s2), e21 && po(u2), c2 = false, l2();
  } };
}
function uV(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).textContent = "{", So(t2, "class", "jse-bracket jse-expanded svelte-uj4yd7");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function cV(e20) {
  var t2, n2, r2;
  return n2 = new iF({ props: { selected: true, onContextMenu: e20[4].onContextMenu } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-context-menu-button-anchor svelte-uj4yd7");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), Aa(n2, t2, null), r2 = true;
  }, p: function(e21, t3) {
    var r3 = {};
    16 & t3[0] && (r3.onContextMenu = e21[4].onContextMenu), n2.$set(r3);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function lV(e20) {
  var t2, n2;
  return t2 = new zF({ props: { validationError: e20[15], onExpand: e20[24] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    32768 & n3[0] && (r2.validationError = e21[15]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function fV(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[32]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function hV(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-inside svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-inside");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[31]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function dV(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2, u2 = [], c2 = /* @__PURE__ */ new Map(), l2 = !e20[4].readOnly && (e20[9] === "hover-insert-inside" || e20[19]) && vV(e20), f2 = e20[11], h2 = function(e21) {
    return e21[5][e21[57]][Xa];
  }, d2 = 0; d2 < f2.length; d2 += 1) {
    var v2 = HF(e20, f2, d2), p2 = h2(v2);
    c2.set(p2, u2[d2] = gV(p2, v2));
  }
  var m2 = !e20[10] && yV(e20);
  return { c: function() {
    t2 = go("div"), l2 && l2.c(), n2 = wo();
    for (var s3 = 0; s3 < u2.length; s3 += 1)
      u2[s3].c();
    r2 = wo(), i2 = go("div"), (o2 = go("div")).innerHTML = '<div class="jse-bracket svelte-uj4yd7">}</div>', a2 = wo(), m2 && m2.c(), So(t2, "class", "jse-props svelte-uj4yd7"), So(o2, "data-type", "selectable-value"), So(o2, "class", "jse-footer svelte-uj4yd7"), So(i2, "class", "jse-footer-outer svelte-uj4yd7"), So(i2, "style", e20[13]);
  }, m: function(e21, c3) {
    vo(e21, t2, c3), l2 && l2.m(t2, null), uo(t2, n2);
    for (var f3 = 0; f3 < u2.length; f3 += 1)
      u2[f3].m(t2, null);
    vo(e21, r2, c3), vo(e21, i2, c3), uo(i2, o2), uo(i2, a2), m2 && m2.m(i2, null), s2 = true;
  }, p: function(e21, r3) {
    e21[4].readOnly || e21[9] !== "hover-insert-inside" && !e21[19] ? l2 && (ma(), ba(l2, 1, 1, function() {
      l2 = null;
    }), ga()) : l2 ? (l2.p(e21, r3), 524816 & r3[0] && ya(l2, 1)) : ((l2 = vV(e21)).c(), ya(l2, 1), l2.m(t2, n2)), 306186622 & r3[0] && (f2 = e21[11], ma(), u2 = Ca(u2, r3, h2, 1, e21, f2, c2, t2, Sa, gV, null, HF), ga()), e21[10] ? m2 && (m2.d(1), m2 = null) : m2 ? m2.p(e21, r3) : ((m2 = yV(e21)).c(), m2.m(i2, null)), (!s2 || 8192 & r3[0]) && So(i2, "style", e21[13]);
  }, i: function(e21) {
    if (!s2) {
      ya(l2);
      for (var t3 = 0; t3 < f2.length; t3 += 1)
        ya(u2[t3]);
      s2 = true;
    }
  }, o: function(e21) {
    ba(l2);
    for (var t3 = 0; t3 < u2.length; t3 += 1)
      ba(u2[t3]);
    s2 = false;
  }, d: function(e21) {
    e21 && po(t2), l2 && l2.d();
    for (var n3 = 0; n3 < u2.length; n3 += 1)
      u2[n3].d();
    e21 && po(r2), e21 && po(i2), m2 && m2.d();
  } };
}
function vV(e20) {
  var t2, n2, r2, i2;
  return n2 = new iF({ props: { selected: e20[19], onContextMenu: e20[33] } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-insert-area jse-inside svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-inside"), So(t2, "style", r2 = DV(e20[1].length + 1)), So(t2, "title", hs), Io(t2, "jse-hovered", e20[9] === "hover-insert-inside"), Io(t2, "jse-selected", e20[19]);
  }, m: function(e21, r3) {
    vo(e21, t2, r3), Aa(n2, t2, null), i2 = true;
  }, p: function(e21, o2) {
    var a2 = {};
    524288 & o2[0] && (a2.selected = e21[19]), n2.$set(a2), (!i2 || 2 & o2[0] && r2 !== (r2 = DV(e21[1].length + 1))) && So(t2, "style", r2), 512 & o2[0] && Io(t2, "jse-hovered", e21[9] === "hover-insert-inside"), 524288 & o2[0] && Io(t2, "jse-selected", e21[19]);
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function pV(e20) {
  var t2, n2;
  return t2 = new iF({ props: { selected: true, onContextMenu: e20[4].onContextMenu } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    16 & n3[0] && (r2.onContextMenu = e21[4].onContextMenu), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function mV(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = !e20[4].readOnly && fx(e20[1], e20[57], e20[8]);
  a2 = new SF({ props: { path: e20[22](e20[1].concat(e20[57])), key: e20[57], context: e20[4], selection: (t2 = e20[8]) === null || t2 === void 0 || (n2 = t2[e20[57]]) === null || n2 === void 0 ? void 0 : n2[as], searchResult: (r2 = e20[2]) === null || r2 === void 0 || (i2 = r2[e20[57]]) === null || i2 === void 0 ? void 0 : i2[rs], onUpdateKey: e20[25] } });
  var f2 = l2 && pV(e20);
  return { c: function() {
    o2 = go("div"), Pa(a2.$$.fragment), s2 = wo(), f2 && f2.c(), u2 = wo(), So(o2, "slot", "identifier"), So(o2, "class", "jse-identifier svelte-uj4yd7");
  }, m: function(e21, t3) {
    vo(e21, o2, t3), Aa(a2, o2, null), uo(o2, s2), f2 && f2.m(o2, null), uo(o2, u2), c2 = true;
  }, p: function(e21, t3) {
    var n3, r3, i3, s3, c3 = {};
    2050 & t3[0] && (c3.path = e21[22](e21[1].concat(e21[57]))), 2048 & t3[0] && (c3.key = e21[57]), 16 & t3[0] && (c3.context = e21[4]), 2304 & t3[0] && (c3.selection = (n3 = e21[8]) === null || n3 === void 0 || (r3 = n3[e21[57]]) === null || r3 === void 0 ? void 0 : r3[as]), 2052 & t3[0] && (c3.searchResult = (i3 = e21[2]) === null || i3 === void 0 || (s3 = i3[e21[57]]) === null || s3 === void 0 ? void 0 : s3[rs]), a2.$set(c3), 2322 & t3[0] && (l2 = !e21[4].readOnly && fx(e21[1], e21[57], e21[8])), l2 ? f2 ? (f2.p(e21, t3), 2322 & t3[0] && ya(f2, 1)) : ((f2 = pV(e21)).c(), ya(f2, 1), f2.m(o2, u2)) : f2 && (ma(), ba(f2, 1, 1, function() {
      f2 = null;
    }), ga());
  }, i: function(e21) {
    c2 || (ya(a2.$$.fragment, e21), ya(f2), c2 = true);
  }, o: function(e21) {
    ba(a2.$$.fragment, e21), ba(f2), c2 = false;
  }, d: function(e21) {
    e21 && po(o2), Ea(a2), f2 && f2.d();
  } };
}
function gV(e20, t2) {
  var n2, r2, i2;
  return r2 = new zV({ props: { value: t2[6][t2[57]], path: t2[22](t2[1].concat(t2[57])), state: t2[5][t2[57]], selection: t2[8] ? t2[8][t2[57]] : void 0, searchResult: t2[2] ? t2[2][t2[57]] : void 0, validationErrors: t2[3] ? t2[3][t2[57]] : void 0, context: t2[4], onDragSelectionStart: t2[28], $$slots: { identifier: [mV] }, $$scope: { ctx: t2 } } }), { key: e20, first: null, c: function() {
    n2 = ko(), Pa(r2.$$.fragment), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3), Aa(r2, e21, t3), i2 = true;
  }, p: function(e21, n3) {
    t2 = e21;
    var i3 = {};
    2112 & n3[0] && (i3.value = t2[6][t2[57]]), 2050 & n3[0] && (i3.path = t2[22](t2[1].concat(t2[57]))), 2080 & n3[0] && (i3.state = t2[5][t2[57]]), 2304 & n3[0] && (i3.selection = t2[8] ? t2[8][t2[57]] : void 0), 2052 & n3[0] && (i3.searchResult = t2[2] ? t2[2][t2[57]] : void 0), 2056 & n3[0] && (i3.validationErrors = t2[3] ? t2[3][t2[57]] : void 0), 16 & n3[0] && (i3.context = t2[4]), 2326 & n3[0] | 512 & n3[1] && (i3.$$scope = { dirty: n3, ctx: t2 }), r2.$set(i3);
  }, i: function(e21) {
    i2 || (ya(r2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(r2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(n2), Ea(r2, e21);
  } };
}
function yV(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[32]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function bV(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: eS } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function wV(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: Xx } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function kV(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).textContent = ":", So(t2, "class", "jse-separator svelte-uj4yd7");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function jV(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20[6].length + "", h2 = e20[6].length === 1 ? "item" : "items";
  return { c: function() {
    (t2 = go("div")).textContent = "[", n2 = wo(), r2 = go("button"), i2 = bo(f2), o2 = wo(), a2 = bo(h2), s2 = wo(), (u2 = go("div")).textContent = "]", So(t2, "class", "jse-bracket svelte-uj4yd7"), So(r2, "type", "button"), So(r2, "class", "jse-tag svelte-uj4yd7"), So(u2, "class", "jse-bracket svelte-uj4yd7");
  }, m: function(f3, h3) {
    vo(f3, t2, h3), vo(f3, n2, h3), vo(f3, r2, h3), uo(r2, i2), uo(r2, o2), uo(r2, a2), vo(f3, s2, h3), vo(f3, u2, h3), c2 || (l2 = jo(r2, "click", e20[24]), c2 = true);
  }, p: function(e21, t3) {
    64 & t3[0] && f2 !== (f2 = e21[6].length + "") && Po(i2, f2), 64 & t3[0] && h2 !== (h2 = e21[6].length === 1 ? "item" : "items") && Po(a2, h2);
  }, d: function(e21) {
    e21 && po(t2), e21 && po(n2), e21 && po(r2), e21 && po(s2), e21 && po(u2), c2 = false, l2();
  } };
}
function xV(e20) {
  var t2, n2, r2, i2, o2, a2, s2 = e20[6].length + "", u2 = e20[6].length === 1 ? "item" : "items";
  return { c: function() {
    (t2 = go("div")).textContent = "[", n2 = wo(), r2 = go("span"), i2 = bo(s2), o2 = wo(), a2 = bo(u2), So(t2, "class", "jse-bracket svelte-uj4yd7"), So(r2, "class", "jse-tag jse-expanded svelte-uj4yd7");
  }, m: function(e21, s3) {
    vo(e21, t2, s3), vo(e21, n2, s3), vo(e21, r2, s3), uo(r2, i2), uo(r2, o2), uo(r2, a2);
  }, p: function(e21, t3) {
    64 & t3[0] && s2 !== (s2 = e21[6].length + "") && Po(i2, s2), 64 & t3[0] && u2 !== (u2 = e21[6].length === 1 ? "item" : "items") && Po(a2, u2);
  }, d: function(e21) {
    e21 && po(t2), e21 && po(n2), e21 && po(r2);
  } };
}
function SV(e20) {
  var t2, n2, r2;
  return n2 = new iF({ props: { selected: true, onContextMenu: e20[4].onContextMenu } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-context-menu-button-anchor svelte-uj4yd7");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), Aa(n2, t2, null), r2 = true;
  }, p: function(e21, t3) {
    var r3 = {};
    16 & t3[0] && (r3.onContextMenu = e21[4].onContextMenu), n2.$set(r3);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function CV(e20) {
  var t2, n2;
  return t2 = new zF({ props: { validationError: e20[15], onExpand: e20[24] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    32768 & n3[0] && (r2.validationError = e21[15]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function _V(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[32]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function $V(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-inside svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-inside");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[31]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function OV(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2, u2 = [], c2 = /* @__PURE__ */ new Map(), l2 = !e20[4].readOnly && (e20[9] === "hover-insert-inside" || e20[19]) && PV(e20), f2 = e20[16], h2 = function(e21) {
    return e21[53];
  }, d2 = 0; d2 < f2.length; d2 += 1) {
    var v2 = JF(e20, f2, d2), p2 = h2(v2);
    c2.set(p2, u2[d2] = TV(p2, v2));
  }
  var m2 = !e20[10] && IV(e20);
  return { c: function() {
    t2 = go("div"), l2 && l2.c(), n2 = wo();
    for (var s3 = 0; s3 < u2.length; s3 += 1)
      u2[s3].c();
    r2 = wo(), i2 = go("div"), (o2 = go("div")).innerHTML = '<span class="jse-bracket svelte-uj4yd7">]</span>', a2 = wo(), m2 && m2.c(), So(t2, "class", "jse-items svelte-uj4yd7"), So(o2, "data-type", "selectable-value"), So(o2, "class", "jse-footer svelte-uj4yd7"), So(i2, "class", "jse-footer-outer svelte-uj4yd7"), So(i2, "style", e20[13]);
  }, m: function(e21, c3) {
    vo(e21, t2, c3), l2 && l2.m(t2, null), uo(t2, n2);
    for (var f3 = 0; f3 < u2.length; f3 += 1)
      u2[f3].m(t2, null);
    vo(e21, r2, c3), vo(e21, i2, c3), uo(i2, o2), uo(i2, a2), m2 && m2.m(i2, null), s2 = true;
  }, p: function(e21, r3) {
    e21[4].readOnly || e21[9] !== "hover-insert-inside" && !e21[19] ? l2 && (ma(), ba(l2, 1, 1, function() {
      l2 = null;
    }), ga()) : l2 ? (l2.p(e21, r3), 524816 & r3[0] && ya(l2, 1)) : ((l2 = PV(e21)).c(), ya(l2, 1), l2.m(t2, n2)), 272695806 & r3[0] && (f2 = e21[16], ma(), u2 = Ca(u2, r3, h2, 1, e21, f2, c2, t2, Sa, TV, null, JF), ga()), e21[10] ? m2 && (m2.d(1), m2 = null) : m2 ? m2.p(e21, r3) : ((m2 = IV(e21)).c(), m2.m(i2, null)), (!s2 || 8192 & r3[0]) && So(i2, "style", e21[13]);
  }, i: function(e21) {
    if (!s2) {
      ya(l2);
      for (var t3 = 0; t3 < f2.length; t3 += 1)
        ya(u2[t3]);
      s2 = true;
    }
  }, o: function(e21) {
    ba(l2);
    for (var t3 = 0; t3 < u2.length; t3 += 1)
      ba(u2[t3]);
    s2 = false;
  }, d: function(e21) {
    e21 && po(t2), l2 && l2.d();
    for (var n3 = 0; n3 < u2.length; n3 += 1)
      u2[n3].d();
    e21 && po(r2), e21 && po(i2), m2 && m2.d();
  } };
}
function PV(e20) {
  var t2, n2, r2, i2;
  return n2 = new iF({ props: { selected: e20[19], onContextMenu: e20[33] } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-insert-area jse-inside svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-inside"), So(t2, "style", r2 = DV(e20[1].length + 1)), So(t2, "title", hs), Io(t2, "jse-hovered", e20[9] === "hover-insert-inside"), Io(t2, "jse-selected", e20[19]);
  }, m: function(e21, r3) {
    vo(e21, t2, r3), Aa(n2, t2, null), i2 = true;
  }, p: function(e21, o2) {
    var a2 = {};
    524288 & o2[0] && (a2.selected = e21[19]), n2.$set(a2), (!i2 || 2 & o2[0] && r2 !== (r2 = DV(e21[1].length + 1))) && So(t2, "style", r2), 512 & o2[0] && Io(t2, "jse-hovered", e21[9] === "hover-insert-inside"), 524288 & o2[0] && Io(t2, "jse-selected", e21[19]);
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function AV(e20) {
  var t2, n2, r2, i2 = e20[51].start + e20[56] + "";
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = bo(i2), So(n2, "class", "jse-index svelte-uj4yd7"), So(t2, "slot", "identifier"), So(t2, "class", "jse-identifier svelte-uj4yd7");
  }, m: function(e21, i3) {
    vo(e21, t2, i3), uo(t2, n2), uo(n2, r2);
  }, p: function(e21, t3) {
    65600 & t3[0] && i2 !== (i2 = e21[51].start + e21[56] + "") && Po(r2, i2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function EV(e20, t2) {
  var n2, r2, i2;
  return r2 = new zV({ props: { value: t2[54], path: t2[22](t2[1].concat(t2[51].start + t2[56])), state: t2[5][t2[51].start + t2[56]], selection: t2[8] ? t2[8][t2[51].start + t2[56]] : void 0, searchResult: t2[2] ? t2[2][t2[51].start + t2[56]] : void 0, validationErrors: t2[3] ? t2[3][t2[51].start + t2[56]] : void 0, context: t2[4], onDragSelectionStart: t2[28], $$slots: { identifier: [AV] }, $$scope: { ctx: t2 } } }), { key: e20, first: null, c: function() {
    n2 = ko(), Pa(r2.$$.fragment), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3), Aa(r2, e21, t3), i2 = true;
  }, p: function(e21, n3) {
    t2 = e21;
    var i3 = {};
    65600 & n3[0] && (i3.value = t2[54]), 65602 & n3[0] && (i3.path = t2[22](t2[1].concat(t2[51].start + t2[56]))), 65632 & n3[0] && (i3.state = t2[5][t2[51].start + t2[56]]), 65856 & n3[0] && (i3.selection = t2[8] ? t2[8][t2[51].start + t2[56]] : void 0), 65604 & n3[0] && (i3.searchResult = t2[2] ? t2[2][t2[51].start + t2[56]] : void 0), 65608 & n3[0] && (i3.validationErrors = t2[3] ? t2[3][t2[51].start + t2[56]] : void 0), 16 & n3[0] && (i3.context = t2[4]), 65600 & n3[0] | 512 & n3[1] && (i3.$$scope = { dirty: n3, ctx: t2 }), r2.$set(i3);
  }, i: function(e21) {
    i2 || (ya(r2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(r2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(n2), Ea(r2, e21);
  } };
}
function MV(e20) {
  var t2, n2;
  return t2 = new eF({ props: { visibleSections: e20[16], sectionIndex: e20[53], total: e20[6].length, path: e20[1], onExpandSection: e20[4].onExpandSection, selection: e20[7] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    65536 & n3[0] && (r2.visibleSections = e21[16]), 65536 & n3[0] && (r2.sectionIndex = e21[53]), 64 & n3[0] && (r2.total = e21[6].length), 2 & n3[0] && (r2.path = e21[1]), 16 & n3[0] && (r2.onExpandSection = e21[4].onExpandSection), 128 & n3[0] && (r2.selection = e21[7]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function TV(e20, t2) {
  for (var n2, r2, i2, o2, a2 = [], s2 = /* @__PURE__ */ new Map(), u2 = t2[6].slice(t2[51].start, Math.min(t2[51].end, t2[6].length)), c2 = function(e21) {
    return e21[56];
  }, l2 = 0; l2 < u2.length; l2 += 1) {
    var f2 = KF(t2, u2, l2), h2 = c2(f2);
    s2.set(h2, a2[l2] = EV(h2, f2));
  }
  var d2 = t2[51].end < t2[6].length && MV(t2);
  return { key: e20, first: null, c: function() {
    n2 = ko();
    for (var e21 = 0; e21 < a2.length; e21 += 1)
      a2[e21].c();
    r2 = wo(), d2 && d2.c(), i2 = ko(), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3);
    for (var s3 = 0; s3 < a2.length; s3 += 1)
      a2[s3].m(e21, t3);
    vo(e21, r2, t3), d2 && d2.m(e21, t3), vo(e21, i2, t3), o2 = true;
  }, p: function(e21, n3) {
    t2 = e21, 272695678 & n3[0] && (u2 = t2[6].slice(t2[51].start, Math.min(t2[51].end, t2[6].length)), ma(), a2 = Ca(a2, n3, c2, 1, t2, u2, s2, r2.parentNode, Sa, EV, r2, KF), ga()), t2[51].end < t2[6].length ? d2 ? (d2.p(t2, n3), 65600 & n3[0] && ya(d2, 1)) : ((d2 = MV(t2)).c(), ya(d2, 1), d2.m(i2.parentNode, i2)) : d2 && (ma(), ba(d2, 1, 1, function() {
      d2 = null;
    }), ga());
  }, i: function(e21) {
    if (!o2) {
      for (var t3 = 0; t3 < u2.length; t3 += 1)
        ya(a2[t3]);
      ya(d2), o2 = true;
    }
  }, o: function(e21) {
    for (var t3 = 0; t3 < a2.length; t3 += 1)
      ba(a2[t3]);
    ba(d2), o2 = false;
  }, d: function(e21) {
    e21 && po(n2);
    for (var t3 = 0; t3 < a2.length; t3 += 1)
      a2[t3].d(e21);
    e21 && po(r2), d2 && d2.d(e21), e21 && po(i2);
  } };
}
function IV(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-insert-selection-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after");
  }, m: function(i2, o2) {
    vo(i2, t2, o2), n2 || (r2 = jo(t2, "click", e20[32]), n2 = true);
  }, p: Bi, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function NV(e20) {
  var t2, n2, r2;
  return n2 = new iF({ props: { selected: e20[20], onContextMenu: e20[34] } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-insert-area jse-after svelte-uj4yd7"), So(t2, "data-type", "insert-selection-area-after"), So(t2, "style", e20[13]), So(t2, "title", hs), Io(t2, "jse-hovered", e20[9] === "hover-insert-after"), Io(t2, "jse-selected", e20[20]);
  }, m: function(e21, i2) {
    vo(e21, t2, i2), Aa(n2, t2, null), r2 = true;
  }, p: function(e21, i2) {
    var o2 = {};
    1048576 & i2[0] && (o2.selected = e21[20]), n2.$set(o2), (!r2 || 8192 & i2[0]) && So(t2, "style", e21[13]), 512 & i2[0] && Io(t2, "jse-hovered", e21[9] === "hover-insert-after"), 1048576 & i2[0] && Io(t2, "jse-selected", e21[20]);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function RV(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = [XF, ZF, YF], f2 = [];
  function h2(e21, t3) {
    return e21[14] === "array" ? 0 : e21[14] === "object" ? 1 : 2;
  }
  n2 = h2(e20), r2 = f2[n2] = l2[n2](e20);
  var d2 = !e20[4].readOnly && (e20[9] === "hover-insert-after" || e20[20]) && NV(e20);
  return { c: function() {
    t2 = go("div"), r2.c(), i2 = wo(), d2 && d2.c(), So(t2, "class", o2 = eo(Uq("jse-json-node", { "jse-expanded": e20[12] }, e20[4].onClassName(e20[1], e20[6]))) + " svelte-uj4yd7"), So(t2, "data-path", a2 = Tx(e20[1])), Io(t2, "jse-root", e20[10]), Io(t2, "jse-selected", e20[21]), Io(t2, "jse-selected-key", e20[18]), Io(t2, "jse-selected-value", e20[17]), Io(t2, "jse-hovered", e20[9] === "hover-collection");
  }, m: function(r3, o3) {
    vo(r3, t2, o3), f2[n2].m(t2, null), uo(t2, i2), d2 && d2.m(t2, null), s2 = true, u2 || (c2 = [jo(t2, "mousedown", e20[26]), jo(t2, "mousemove", e20[27]), jo(t2, "mouseover", e20[29]), jo(t2, "mouseout", e20[30]), jo(t2, "focus", void 0), jo(t2, "blur", void 0)], u2 = true);
  }, p: function(e21, u3) {
    var c3 = n2;
    (n2 = h2(e21)) === c3 ? f2[n2].p(e21, u3) : (ma(), ba(f2[c3], 1, 1, function() {
      f2[c3] = null;
    }), ga(), (r2 = f2[n2]) ? r2.p(e21, u3) : (r2 = f2[n2] = l2[n2](e21)).c(), ya(r2, 1), r2.m(t2, i2)), e21[4].readOnly || e21[9] !== "hover-insert-after" && !e21[20] ? d2 && (ma(), ba(d2, 1, 1, function() {
      d2 = null;
    }), ga()) : d2 ? (d2.p(e21, u3), 1049104 & u3[0] && ya(d2, 1)) : ((d2 = NV(e21)).c(), ya(d2, 1), d2.m(t2, null)), (!s2 || 4178 & u3[0] && o2 !== (o2 = eo(Uq("jse-json-node", { "jse-expanded": e21[12] }, e21[4].onClassName(e21[1], e21[6]))) + " svelte-uj4yd7")) && So(t2, "class", o2), (!s2 || 2 & u3[0] && a2 !== (a2 = Tx(e21[1]))) && So(t2, "data-path", a2), 5202 & u3[0] && Io(t2, "jse-root", e21[10]), 2101330 & u3[0] && Io(t2, "jse-selected", e21[21]), 266322 & u3[0] && Io(t2, "jse-selected-key", e21[18]), 135250 & u3[0] && Io(t2, "jse-selected-value", e21[17]), 4690 & u3[0] && Io(t2, "jse-hovered", e21[9] === "hover-collection");
  }, i: function(e21) {
    s2 || (ya(r2), ya(d2), s2 = true);
  }, o: function(e21) {
    ba(r2), ba(d2), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), f2[n2].d(), d2 && d2.d(), u2 = false, Wi(c2);
  } };
}
function DV(e20) {
  return "margin-left: calc(".concat(e20, " * var(--jse-indent-size))");
}
function LV(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2 = t2.$$slots, w2 = b2 === void 0 ? {} : b2, k2 = t2.$$scope, j2 = t2.value, x2 = t2.path, S2 = t2.state, C2 = t2.selection, _2 = t2.searchResult, $2 = t2.validationErrors, O2 = t2.context, P2 = t2.onDragSelectionStart, A2 = Na("jsoneditor:JSONNode"), E2 = void 0, M2 = void 0, T2 = void 0, I2 = df(function(e21) {
    return e21;
  }, rC);
  function N2(e21) {
    O2.onDrag(e21);
  }
  function R2(e21) {
    AF.selecting && (AF.selecting = false, e21.stopPropagation()), O2.onDragEnd(), document.removeEventListener("mousemove", N2, true), document.removeEventListener("mouseup", R2);
  }
  function D2() {
    var e21, t3;
    return ((t3 = (e21 = O2.findElement([])) === null || e21 === void 0 ? void 0 : e21.getBoundingClientRect()) === null || t3 === void 0 ? void 0 : t3.top) || 0;
  }
  function L2(e21, t3) {
    var n3 = D2() - e21.initialContentTop;
    return t3.clientY - e21.initialClientY - n3;
  }
  function z2(e21) {
    if (T2) {
      var t3 = L2(T2, e21), r3 = BF({ fullJson: O2.getFullJson(), fullState: O2.getFullState(), fullSelection: O2.getFullSelection(), deltaY: t3, items: T2.items }), i3 = r3.updatedValue, o3 = r3.updatedState, a3 = r3.updatedSelection, s3 = r3.indexOffset;
      s3 !== T2.indexOffset && (A2("drag selection", s3, t3, a3), n2(38, T2 = Ei(Ei({}, T2), {}, { updatedValue: i3, updatedState: o3, updatedSelection: a3, indexOffset: s3, didMoveItems: true })));
    }
  }
  function B2(e21) {
    if (T2) {
      var t3 = L2(T2, e21), r3 = BF({ fullJson: O2.getFullJson(), fullState: O2.getFullState(), fullSelection: O2.getFullSelection(), deltaY: t3, items: T2.items }), i3 = r3.operations, o3 = r3.updatedFullSelection;
      i3 ? O2.onPatch(i3, function() {
        return { selection: o3 || O2.getFullSelection() };
      }) : e21.target !== T2.initialTarget || T2.didMoveItems || O2.onSelect({ type: Mx(e21.target), path: Ix(e21.target) }), n2(38, T2 = void 0), AF.dragging = false, document.removeEventListener("mousemove", z2, true), document.removeEventListener("mouseup", B2);
    }
  }
  return e20.$$set = function(e21) {
    "value" in e21 && n2(0, j2 = e21.value), "path" in e21 && n2(1, x2 = e21.path), "state" in e21 && n2(35, S2 = e21.state), "selection" in e21 && n2(36, C2 = e21.selection), "searchResult" in e21 && n2(2, _2 = e21.searchResult), "validationErrors" in e21 && n2(3, $2 = e21.validationErrors), "context" in e21 && n2(4, O2 = e21.context), "onDragSelectionStart" in e21 && n2(37, P2 = e21.onDragSelectionStart), "$$scope" in e21 && n2(40, k2 = e21.$$scope);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty[0] | 128 & e20.$$.dirty[1] && n2(6, r2 = (T2 == null ? void 0 : T2.updatedValue) !== void 0 ? T2.updatedValue : j2), 144 & e20.$$.dirty[1] && n2(5, i2 = (T2 == null ? void 0 : T2.updatedState) !== void 0 ? T2.updatedState : S2), 160 & e20.$$.dirty[1] && n2(8, o2 = (T2 == null ? void 0 : T2.updatedSelection) != null ? T2.updatedSelection : C2), 256 & e20.$$.dirty[0] && n2(7, a2 = o2 && o2[as]), 128 & e20.$$.dirty[0] && n2(21, s2 = !(!a2 || !a2.pathsMap)), 128 & e20.$$.dirty[0] && n2(20, u2 = !(!a2 || a2.type !== Fj)), 128 & e20.$$.dirty[0] && n2(19, c2 = !(!a2 || a2.type !== Vj)), 128 & e20.$$.dirty[0] && n2(18, l2 = !(!a2 || a2.type !== Hj)), 128 & e20.$$.dirty[0] && n2(17, f2 = !(!a2 || a2.type !== Wj)), 32 & e20.$$.dirty[0] && n2(12, h2 = i2[es]), 32 & e20.$$.dirty[0] && n2(16, d2 = i2[ts]), 32 & e20.$$.dirty[0] && n2(11, v2 = i2[ns]), 8 & e20.$$.dirty[0] && n2(15, p2 = $2 && $2[ss]), 2 & e20.$$.dirty[0] && n2(10, m2 = x2.length === 0), 64 & e20.$$.dirty[0] && n2(14, g2 = qs(r2)), 2 & e20.$$.dirty[0] && n2(13, y2 = DV(x2.length));
  }, [j2, x2, _2, $2, O2, i2, r2, a2, o2, E2, m2, v2, h2, y2, g2, p2, d2, f2, l2, c2, u2, s2, I2, function(e21) {
    e21.stopPropagation();
    var t3 = e21.ctrlKey;
    O2.onExpand(x2, !h2, t3);
  }, function(e21) {
    e21.stopPropagation(), O2.onExpand(x2, true);
  }, function(e21, t3) {
    var n3 = FB(x2, v2, e21, t3);
    return O2.onPatch(n3), Gv(ws.exports.parseJSONPointer(n3[0].path));
  }, function(e21) {
    if (!(function(e22) {
      return e22.nodeName === "DIV" && e22.contentEditable === "true";
    }(e21.target) || e21.which === 1 && Sx(e21.target, "BUTTON"))) {
      e21.stopPropagation(), e21.preventDefault(), document.addEventListener("mousemove", N2, true), document.addEventListener("mouseup", R2);
      var t3 = Mx(e21.target);
      if (function(e22, t4, n4) {
        if (!e22)
          return false;
        var r3 = t4.slice(0);
        if (e22.type === Uj)
          for (; r3.length > 0; ) {
            if (e22.pathsMap[ws.exports.compileJSONPointer(r3)] === true)
              return true;
            r3.pop();
          }
        if (e22.type === Hj)
          return n4 === Hj && Zm(e22.focusPath, t4);
        if (e22.type === Wj) {
          if (n4 === Wj && Zm(e22.focusPath, t4))
            return true;
          if (ox(t4, e22.focusPath) && t4.length > e22.focusPath.length && (n4 === Hj || n4 === Wj || n4 === Uj))
            return true;
        }
        return false;
      }(O2.getFullSelection(), x2, t3))
        e21.button === 0 && (O2.focus(), P2(e21));
      else if (AF.selecting = true, AF.selectionAnchor = x2, AF.selectionAnchorType = t3, AF.selectionFocus = x2, e21.shiftKey) {
        var n3 = O2.getFullSelection();
        n3 && O2.onSelect({ type: Uj, anchorPath: n3.anchorPath, focusPath: x2 });
      } else
        switch (t3) {
          case Hj:
          case Wj:
          case Fj:
          case Vj:
            O2.onSelect({ type: t3, path: x2 });
            break;
          case Uj:
            if (m2 && e21.target.hasAttribute("data-path")) {
              var o3 = Gv(zj(r2, i2));
              O2.onSelect(o3);
            } else
              O2.onSelect({ type: Uj, anchorPath: x2, focusPath: x2 });
        }
    }
  }, function(e21) {
    if (AF.selecting) {
      e21.preventDefault(), e21.stopPropagation(), AF.selectionFocus == null && window.getSelection && window.getSelection().empty();
      var t3 = Mx(e21.target);
      Zm(x2, AF.selectionFocus) && t3 === AF.selectionAnchorType || (AF.selectionFocus = x2, O2.onSelect({ anchorPath: AF.selectionAnchor, focusPath: AF.selectionFocus }));
    }
  }, function(e21) {
    if (!O2.readOnly) {
      var t3 = O2.getFullSelection(), r3 = _m(t3.focusPath);
      if (Zm(x2, r3)) {
        var i3 = function(e22) {
          var t4 = [];
          function n3(e23) {
            var n4 = x2.concat(e23), r5 = O2.findElement(n4);
            r5 != null && t4.push({ path: n4, height: r5.clientHeight });
          }
          if (Array.isArray(j2)) {
            var r4 = Bp(e22.paths) || e22.focusPath, i4 = Gv(e22.paths) || e22.focusPath, o3 = Gv(r4), a3 = Gv(i4), s3 = S2[ts].find(function(e23) {
              return o3 >= e23.start && a3 <= e23.end;
            });
            if (!s3)
              return null;
            var u3 = s3.start, c3 = s3.end;
            Ks(u3, Math.min(j2.length, c3), n3);
          } else
            xj(S2, n3);
          return t4;
        }(t3);
        A2("dragSelectionStart", { fullSelection: t3, items: i3 }), i3 ? (n2(38, T2 = { initialTarget: e21.target, initialClientY: e21.clientY, initialContentTop: D2(), updatedValue: void 0, updatedState: void 0, updatedSelection: void 0, items: i3, indexOffset: 0, didMoveItems: false }), AF.dragging = true, document.addEventListener("mousemove", z2, true), document.addEventListener("mouseup", B2)) : A2("Cannot drag the current selection (probably spread over multiple sections)");
      } else
        P2(e21);
    }
  }, function(e21) {
    AF.selecting || AF.dragging || (e21.stopPropagation(), Cx(e21.target, "data-type", "selectable-value") ? n2(9, E2 = "hover-collection") : Cx(e21.target, "data-type", "insert-selection-area-inside") ? n2(9, E2 = "hover-insert-inside") : Cx(e21.target, "data-type", "insert-selection-area-after") && n2(9, E2 = "hover-insert-after"), clearTimeout(M2));
  }, function(e21) {
    e21.stopPropagation(), M2 = setTimeout(function() {
      return n2(9, E2 = void 0);
    });
  }, function(e21) {
    e21.shiftKey || (e21.stopPropagation(), e21.preventDefault(), O2.onSelect({ type: Vj, path: x2 }));
  }, function(e21) {
    e21.shiftKey || (e21.stopPropagation(), e21.preventDefault(), O2.onSelect({ type: Fj, path: x2 }));
  }, function(e21) {
    O2.onSelect({ type: Vj, path: x2 }), O2.onContextMenu(e21);
  }, function(e21) {
    O2.onSelect({ type: Fj, path: x2 }), O2.onContextMenu(e21);
  }, S2, C2, P2, T2, w2, k2];
}
var zV = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, LV, RV, Ki, { value: 0, path: 1, state: 35, selection: 36, searchResult: 2, validationErrors: 3, context: 4, onDragSelectionStart: 37 }, qF, [-1, -1]), r2;
  }
  return Li(n2);
}();
function BV(e20) {
  var t2, n2;
  return t2 = new IC({ props: { items: e20[0] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    1 & ji(n3, 1)[0] && (r2.items = e21[0]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function qV(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2 = t2.json, f2 = t2.selection, h2 = t2.readOnly, d2 = t2.showSearch, v2 = d2 !== void 0 && d2, p2 = t2.historyState, m2 = t2.onExpandAll, g2 = t2.onCollapseAll, y2 = t2.onUndo, b2 = t2.onRedo, w2 = t2.onSort, k2 = t2.onTransform, j2 = t2.onContextMenu, x2 = t2.onCopy, S2 = t2.onRenderMenu, C2 = S2 === void 0 ? wc : S2;
  function _2() {
    n2(1, v2 = !v2);
  }
  return e20.$$set = function(e21) {
    "json" in e21 && n2(2, l2 = e21.json), "selection" in e21 && n2(3, f2 = e21.selection), "readOnly" in e21 && n2(4, h2 = e21.readOnly), "showSearch" in e21 && n2(1, v2 = e21.showSearch), "historyState" in e21 && n2(5, p2 = e21.historyState), "onExpandAll" in e21 && n2(6, m2 = e21.onExpandAll), "onCollapseAll" in e21 && n2(7, g2 = e21.onCollapseAll), "onUndo" in e21 && n2(8, y2 = e21.onUndo), "onRedo" in e21 && n2(9, b2 = e21.onRedo), "onSort" in e21 && n2(10, w2 = e21.onSort), "onTransform" in e21 && n2(11, k2 = e21.onTransform), "onContextMenu" in e21 && n2(12, j2 = e21.onContextMenu), "onCopy" in e21 && n2(13, x2 = e21.onCopy), "onRenderMenu" in e21 && n2(14, C2 = e21.onRenderMenu);
  }, e20.$$.update = function() {
    4 & e20.$$.dirty && n2(20, r2 = l2 !== void 0), e20.$$.dirty, 1048584 & e20.$$.dirty && n2(17, i2 = r2 && f2 != null && (f2.type === Uj || f2.type === Hj || f2.type === Wj)), 68 & e20.$$.dirty && n2(19, o2 = { icon: mC, title: "Expand all", className: "jse-expand-all", onClick: m2, disabled: !zs(l2) }), 132 & e20.$$.dirty && n2(18, a2 = { icon: gC, title: "Collapse all", className: "jse-collapse-all", onClick: g2, disabled: !zs(l2) }), 4 & e20.$$.dirty && n2(16, s2 = { icon: hS, title: "Search (Ctrl+F)", className: "jse-search", onClick: _2, disabled: l2 === void 0 }), 999220 & e20.$$.dirty && n2(15, u2 = h2 ? [o2, a2, { separator: true }, { icon: sS, title: "Copy (Ctrl+C)", className: "jse-copy", onClick: x2, disabled: !i2 }, { separator: true }, s2, { space: true }] : [o2, a2, { separator: true }, { icon: Qx, title: "Sort", className: "jse-sort", onClick: w2, disabled: h2 || l2 === void 0 }, { icon: lS, title: "Transform contents (filter, sort, project)", className: "jse-transform", onClick: k2, disabled: h2 || l2 === void 0 }, s2, { icon: cS, title: ds, className: "jse-contextmenu", onClick: j2 }, { separator: true }, { icon: Yx, title: "Undo (Ctrl+Z)", className: "jse-undo", onClick: y2, disabled: !p2.canUndo }, { icon: Zx, title: "Redo (Ctrl+Shift+Z)", className: "jse-redo", onClick: b2, disabled: !p2.canRedo }, { space: true }]), 49152 & e20.$$.dirty && n2(0, c2 = C2("tree", u2) || u2);
  }, [c2, v2, l2, f2, h2, p2, m2, g2, y2, b2, w2, k2, j2, x2, C2, u2, s2, i2, a2, o2, r2];
}
var FV = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, qV, BV, Ki, { json: 2, selection: 3, readOnly: 4, showSearch: 1, historyState: 5, onExpandAll: 6, onCollapseAll: 7, onUndo: 8, onRedo: 9, onSort: 10, onTransform: 11, onContextMenu: 12, onCopy: 13, onRenderMenu: 14 }), r2;
  }
  return Li(n2);
}();
function VV(e20) {
  co(e20, "svelte-1q2qkk2", '@charset "UTF-8";.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2{flex:1;overflow:auto;font-family:var(--jse-font-family);font-size:var(--jse-font-size);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2:last-child{border-bottom:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-before.svelte-1q2qkk2{flex:1}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-after.svelte-1q2qkk2{flex:2}.jse-welcome.svelte-1q2qkk2 .jse-contents.svelte-1q2qkk2{margin:2em var(--jse-padding) 0;color:var(--jse-panel-color-readonly)}.jse-welcome.svelte-1q2qkk2 .jse-contents ul.svelte-1q2qkk2{list-style:"\u25CF";list-style-position:outside;padding-left:20px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li.svelte-1q2qkk2{padding-left:10px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li span.jse-bold.svelte-1q2qkk2{font-family:var(--jse-font-family-mono);font-weight:bold}');
}
function HV(e20) {
  var t2;
  return { c: function() {
    (t2 = go("ul")).innerHTML = '<li class="svelte-1q2qkk2">Click inside the editor</li> \n        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> \n        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> \n        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>', So(t2, "class", "svelte-1q2qkk2");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function WV(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2 = !e20[0] && HV();
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = wo(), i2 = go("div"), o2 = bo("Empty document\n    "), u2 && u2.c(), a2 = wo(), s2 = go("div"), So(n2, "class", "jse-space jse-before svelte-1q2qkk2"), So(i2, "class", "jse-contents svelte-1q2qkk2"), So(s2, "class", "jse-space jse-after svelte-1q2qkk2"), So(t2, "class", "jse-welcome svelte-1q2qkk2");
  }, m: function(e21, c2) {
    vo(e21, t2, c2), uo(t2, n2), uo(t2, r2), uo(t2, i2), uo(i2, o2), u2 && u2.m(i2, null), uo(t2, a2), uo(t2, s2);
  }, p: function(e21, t3) {
    ji(t3, 1)[0];
    e21[0] ? u2 && (u2.d(1), u2 = null) : u2 || ((u2 = HV()).c(), u2.m(i2, null));
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2), u2 && u2.d();
  } };
}
function UV(e20, t2, n2) {
  var r2 = t2.readOnly;
  return e20.$$set = function(e21) {
    "readOnly" in e21 && n2(0, r2 = e21.readOnly);
  }, [r2];
}
var JV = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, UV, WV, Ki, { readOnly: 0 }, VV), r2;
  }
  return Li(n2);
}();
function KV(e20) {
  co(e20, "svelte-6hb2gf", ".jse-navigation-bar-dropdown.svelte-6hb2gf.svelte-6hb2gf{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color);box-shadow:var(--jse-controls-box-shadow);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding)) 36px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:focus,.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:hover{background:var(--jse-navigation-bar-background-highlight)}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.jse-selected.svelte-6hb2gf{background:var(--jse-navigation-bar-dropdown-color);color:var(--jse-navigation-bar-background)}");
}
function GV(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[4] = t2[n2], r2;
}
function QV(e20, t2) {
  var n2, r2, i2, o2, a2, s2 = LB(t2[4], eH) + "";
  function u2() {
    return t2[3](t2[4]);
  }
  return { key: e20, first: null, c: function() {
    n2 = go("button"), r2 = bo(s2), So(n2, "type", "button"), So(n2, "class", "jse-navigation-bar-dropdown-item svelte-6hb2gf"), So(n2, "title", i2 = t2[4]), Io(n2, "jse-selected", t2[4] === t2[1]), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3), uo(n2, r2), o2 || (a2 = jo(n2, "click", xo(u2)), o2 = true);
  }, p: function(e21, o3) {
    t2 = e21, 1 & o3 && s2 !== (s2 = LB(t2[4], eH) + "") && Po(r2, s2), 1 & o3 && i2 !== (i2 = t2[4]) && So(n2, "title", i2), 3 & o3 && Io(n2, "jse-selected", t2[4] === t2[1]);
  }, d: function(e21) {
    e21 && po(n2), o2 = false, a2();
  } };
}
function YV(e20) {
  var t2, n2;
  return { c: function() {
    t2 = go("button"), n2 = bo("..."), So(t2, "type", "button"), So(t2, "class", "jse-navigation-bar-dropdown-item svelte-6hb2gf"), So(t2, "title", "Limited to " + XV + " items");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), uo(t2, n2);
  }, p: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function ZV(e20) {
  for (var t2, n2, r2 = [], i2 = /* @__PURE__ */ new Map(), o2 = Gs(e20[0], XV), a2 = function(e21) {
    return e21[4];
  }, s2 = 0; s2 < o2.length; s2 += 1) {
    var u2 = GV(e20, o2, s2), c2 = a2(u2);
    i2.set(c2, r2[s2] = QV(c2, u2));
  }
  var l2 = e20[0].length > XV && YV();
  return { c: function() {
    t2 = go("div");
    for (var e21 = 0; e21 < r2.length; e21 += 1)
      r2[e21].c();
    n2 = wo(), l2 && l2.c(), So(t2, "class", "jse-navigation-bar-dropdown svelte-6hb2gf");
  }, m: function(e21, i3) {
    vo(e21, t2, i3);
    for (var o3 = 0; o3 < r2.length; o3 += 1)
      r2[o3].m(t2, null);
    uo(t2, n2), l2 && l2.m(t2, null);
  }, p: function(e21, s3) {
    var u3 = ji(s3, 1)[0];
    7 & u3 && (o2 = Gs(e21[0], XV), r2 = Ca(r2, u3, a2, 1, e21, o2, i2, t2, xa, QV, n2, GV)), e21[0].length > XV ? l2 ? l2.p(e21, u3) : ((l2 = YV()).c(), l2.m(t2, null)) : l2 && (l2.d(1), l2 = null);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
    for (var n3 = 0; n3 < r2.length; n3 += 1)
      r2[n3].d();
    l2 && l2.d();
  } };
}
var XV = 100, eH = 30;
function tH(e20, t2, n2) {
  var r2 = t2.items, i2 = t2.selectedItem, o2 = t2.onSelect;
  return e20.$$set = function(e21) {
    "items" in e21 && n2(0, r2 = e21.items), "selectedItem" in e21 && n2(1, i2 = e21.selectedItem), "onSelect" in e21 && n2(2, o2 = e21.onSelect);
  }, [r2, i2, o2, function(e21) {
    return o2(e21);
  }];
}
var nH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, tH, ZV, Ki, { items: 0, selectedItem: 1, onSelect: 2 }, KV), r2;
  }
  return Li(n2);
}();
function rH(e20) {
  co(e20, "svelte-1r1k9th", ".jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th{position:relative;display:flex}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:focus,.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:hover{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight)}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1r1k9th{padding:2px var(--jse-padding) 0}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-1r1k9th{background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color)}.jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th:last-child{padding-right:var(--jse-padding)}");
}
function iH(e20) {
  var t2, n2, r2, i2;
  return { c: function() {
    t2 = go("button"), n2 = bo(e20[2]), So(t2, "type", "button"), So(t2, "class", "jse-navigation-bar-button svelte-1r1k9th");
  }, m: function(o2, a2) {
    vo(o2, t2, a2), uo(t2, n2), r2 || (i2 = jo(t2, "click", e20[9]), r2 = true);
  }, p: function(e21, t3) {
    4 & t3 && Po(n2, e21[2]);
  }, d: function(e21) {
    e21 && po(t2), r2 = false, i2();
  } };
}
function oH(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  r2 = new KS({ props: { data: Kx } });
  var u2 = e20[2] !== void 0 && iH(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("button"), Pa(r2.$$.fragment), i2 = wo(), u2 && u2.c(), So(n2, "type", "button"), So(n2, "class", "jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"), Io(n2, "jse-open", e20[1]), So(t2, "class", "jse-navigation-bar-item svelte-1r1k9th");
  }, m: function(c2, l2) {
    vo(c2, t2, l2), uo(t2, n2), Aa(r2, n2, null), uo(t2, i2), u2 && u2.m(t2, null), e20[10](t2), o2 = true, a2 || (s2 = jo(n2, "click", e20[4]), a2 = true);
  }, p: function(e21, r3) {
    var i3 = ji(r3, 1)[0];
    2 & i3 && Io(n2, "jse-open", e21[1]), e21[2] !== void 0 ? u2 ? u2.p(e21, i3) : ((u2 = iH(e21)).c(), u2.m(t2, null)) : u2 && (u2.d(1), u2 = null);
  }, i: function(e21) {
    o2 || (ya(r2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(r2.$$.fragment, e21), o2 = false;
  }, d: function(n3) {
    n3 && po(t2), Ea(r2), u2 && u2.d(), e20[10](null), a2 = false, s2();
  } };
}
function aH(e20, t2, n2) {
  var r2, i2, o2, a2 = Yo("absolute-popup"), s2 = a2.openAbsolutePopup, u2 = a2.closeAbsolutePopup, c2 = t2.path, l2 = t2.index, f2 = t2.onSelect, h2 = t2.getItems, d2 = false;
  function v2(e21) {
    u2(), f2(r2.concat(e21));
  }
  return e20.$$set = function(e21) {
    "path" in e21 && n2(5, c2 = e21.path), "index" in e21 && n2(6, l2 = e21.index), "onSelect" in e21 && n2(7, f2 = e21.onSelect), "getItems" in e21 && n2(8, h2 = e21.getItems);
  }, e20.$$.update = function() {
    96 & e20.$$.dirty && (r2 = c2.slice(0, l2)), 96 & e20.$$.dirty && n2(2, i2 = c2[l2]);
  }, [o2, d2, i2, v2, function() {
    if (o2) {
      n2(1, d2 = true);
      var e21 = { items: h2(r2), selectedItem: i2, onSelect: v2 };
      s2(nH, e21, { anchor: o2, closeOnOuterClick: true, onClose: function() {
        n2(1, d2 = false);
      } });
    }
  }, c2, l2, f2, h2, function() {
    return v2(i2);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(0, o2 = e21);
    });
  }];
}
var sH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, aH, oH, Ki, { path: 5, index: 6, onSelect: 7, getItems: 8 }, rH), r2;
  }
  return Li(n2);
}(), uH = { exports: {} }, cH = function(e20, t2) {
  var n2, r2, i2 = 1, o2 = 0, a2 = 0, s2 = String.alphabet;
  function u2(e21, t3, r3) {
    if (r3) {
      for (n2 = t3; (r3 = u2(e21, n2)) < 76 && r3 > 65; )
        ++n2;
      return +e21.slice(t3 - 1, n2);
    }
    return (r3 = s2 && s2.indexOf(e21.charAt(t3))) > -1 ? r3 + 76 : (r3 = e21.charCodeAt(t3) || 0) < 45 || r3 > 127 ? r3 : r3 < 46 ? 65 : r3 < 48 ? r3 - 1 : r3 < 58 ? r3 + 18 : r3 < 65 ? r3 - 11 : r3 < 91 ? r3 + 11 : r3 < 97 ? r3 - 37 : r3 < 123 ? r3 + 5 : r3 - 63;
  }
  if ((e20 += "") != (t2 += "")) {
    for (; i2; )
      if (r2 = u2(e20, o2++), i2 = u2(t2, a2++), r2 < 76 && i2 < 76 && r2 > 66 && i2 > 66 && (r2 = u2(e20, o2, o2), i2 = u2(t2, a2, o2 = n2), a2 = n2), r2 != i2)
        return r2 < i2 ? -1 : 1;
  }
  return 0;
};
try {
  uH.exports = cH;
} catch (e20) {
  String.naturalCompare = cH;
}
function lH(e20, t2) {
  var n2 = typeof e20 == "string" ? e20.toLowerCase() : e20, r2 = typeof t2 == "string" ? t2.toLowerCase() : t2;
  return uH.exports(n2, r2);
}
function fH(e20, t2) {
  return function(n2, r2) {
    var i2 = ws.exports.getIn(n2, e20), o2 = ws.exports.getIn(r2, e20);
    return i2 === void 0 ? t2 : o2 === void 0 ? -t2 : typeof i2 != "string" && typeof o2 != "string" ? i2 > o2 ? t2 : i2 < o2 ? -t2 : 0 : t2 * lH(i2, o2);
  };
}
function hH(e20) {
  co(e20, "svelte-5lwyke", ".jse-navigation-bar.svelte-5lwyke.svelte-5lwyke{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-panel-background);color:var(--jse-panel-button-color);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-navigation-bar.svelte-5lwyke .jse-navigation-bar-space.svelte-5lwyke{padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);color:var(--jse-navigation-bar-color)}");
}
function dH(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[12] = t2[n2], r2[14] = n2, r2;
}
function vH(e20, t2) {
  var n2, r2, i2;
  return r2 = new sH({ props: { getItems: t2[4], path: t2[1], index: t2[14], onSelect: t2[5] } }), { key: e20, first: null, c: function() {
    n2 = ko(), Pa(r2.$$.fragment), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3), Aa(r2, e21, t3), i2 = true;
  }, p: function(e21, n3) {
    t2 = e21;
    var i3 = {};
    2 & n3 && (i3.path = t2[1]), 2 & n3 && (i3.index = t2[14]), r2.$set(i3);
  }, i: function(e21) {
    i2 || (ya(r2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(r2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(n2), Ea(r2, e21);
  } };
}
function pH(e20) {
  var t2, n2;
  return t2 = new sH({ props: { getItems: e20[4], path: e20[1], index: void 0, onSelect: e20[5] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    2 & n3 && (r2.path = e21[1]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function mH(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2 = [], u2 = /* @__PURE__ */ new Map(), c2 = zs(e20[0]) ? "\xA0" : "Navigation bar", l2 = e20[1], f2 = function(e21) {
    return e21[14];
  }, h2 = 0; h2 < l2.length; h2 += 1) {
    var d2 = dH(e20, l2, h2), v2 = f2(d2);
    u2.set(v2, s2[h2] = vH(v2, d2));
  }
  var p2 = e20[3] && pH(e20);
  return { c: function() {
    t2 = go("div");
    for (var e21 = 0; e21 < s2.length; e21 += 1)
      s2[e21].c();
    n2 = wo(), p2 && p2.c(), r2 = wo(), i2 = go("div"), o2 = bo(c2), So(i2, "class", "jse-navigation-bar-space svelte-5lwyke"), So(t2, "class", "jse-navigation-bar svelte-5lwyke");
  }, m: function(u3, c3) {
    vo(u3, t2, c3);
    for (var l3 = 0; l3 < s2.length; l3 += 1)
      s2[l3].m(t2, null);
    uo(t2, n2), p2 && p2.m(t2, null), uo(t2, r2), uo(t2, i2), uo(i2, o2), e20[9](t2), a2 = true;
  }, p: function(e21, i3) {
    var h3 = ji(i3, 1)[0];
    50 & h3 && (l2 = e21[1], ma(), s2 = Ca(s2, h3, f2, 1, e21, l2, u2, t2, Sa, vH, n2, dH), ga()), e21[3] ? p2 ? (p2.p(e21, h3), 8 & h3 && ya(p2, 1)) : ((p2 = pH(e21)).c(), ya(p2, 1), p2.m(t2, r2)) : p2 && (ma(), ba(p2, 1, 1, function() {
      p2 = null;
    }), ga()), (!a2 || 1 & h3) && c2 !== (c2 = zs(e21[0]) ? "\xA0" : "Navigation bar") && Po(o2, c2);
  }, i: function(e21) {
    if (!a2) {
      for (var t3 = 0; t3 < l2.length; t3 += 1)
        ya(s2[t3]);
      ya(p2), a2 = true;
    }
  }, o: function(e21) {
    for (var t3 = 0; t3 < s2.length; t3 += 1)
      ba(s2[t3]);
    ba(p2), a2 = false;
  }, d: function(n3) {
    n3 && po(t2);
    for (var r3 = 0; r3 < s2.length; r3 += 1)
      s2[r3].d();
    p2 && p2.d(), e20[9](null);
  } };
}
function gH(e20, t2, n2) {
  var r2, i2, o2, a2 = Na("jsoneditor:NavigationBar"), s2 = t2.json, u2 = t2.state, c2 = t2.selection, l2 = t2.onSelect;
  return e20.$$set = function(e21) {
    "json" in e21 && n2(0, s2 = e21.json), "state" in e21 && n2(6, u2 = e21.state), "selection" in e21 && n2(7, c2 = e21.selection), "onSelect" in e21 && n2(8, l2 = e21.onSelect);
  }, e20.$$.update = function() {
    128 & e20.$$.dirty && n2(1, r2 = c2 ? c2.focusPath : []), 3 & e20.$$.dirty && n2(3, i2 = zs(ws.exports.getIn(s2, r2))), 2 & e20.$$.dirty && setTimeout(function() {
      if (o2 && o2.scrollTo) {
        var e21 = o2.scrollWidth - o2.clientWidth;
        e21 > 0 && (a2("scrollTo ", e21), o2.scrollTo({ left: e21, behavior: "smooth" }));
      }
    });
  }, [s2, r2, o2, i2, function(e21) {
    a2("get items for path", e21);
    var t3 = ws.exports.getIn(s2, e21);
    if (Array.isArray(t3))
      return pb(0, t3.length);
    if (Ls(t3)) {
      var n3 = (ws.exports.getIn(u2, e21.concat(ns)) || Object.keys(t3)).slice(0);
      return n3.sort(lH), n3;
    }
    return [];
  }, function(e21) {
    a2("select path", JSON.stringify(e21));
    var t3 = sx(s2, u2, { type: Uj, anchorPath: e21, focusPath: e21 });
    l2(t3);
  }, u2, c2, l2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(2, o2 = e21);
    });
  }];
}
var yH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, gH, mH, Ki, { json: 0, state: 6, selection: 7, onSelect: 8 }, hH), r2;
  }
  return Li(n2);
}();
function bH(e20) {
  co(e20, "svelte-18vllqh", ".jse-search-box.svelte-18vllqh.svelte-18vllqh{border:var(--jse-panel-border);border-radius:3px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);box-shadow:var(--jse-controls-box-shadow);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-18vllqh .jse-search-form.svelte-18vllqh{display:flex;align-items:stretch}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh,.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{font-family:inherit;font-size:inherit}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color);background:var(--jse-panel-button-background)}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{color:var(--jse-panel-color);border:var(--jse-input-border);border-radius:3px;background:var(--jse-input-background);height:28px;padding:0 5px;margin:0;flex:1;outline:none}.jse-search-box.svelte-18vllqh .jse-search-form .jse-replace-toggle.svelte-18vllqh{padding:var(--jse-padding) calc(0.5 * var(--jse-padding));min-width:20px;background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents.svelte-18vllqh{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding));gap:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section.svelte-18vllqh{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-18vllqh{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding));left:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-18vllqh{flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-18vllqh{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-18vllqh{visibility:visible}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section.svelte-18vllqh{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section button.svelte-18vllqh{width:auto}");
}
function wH(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2, C2, _2, $2, O2, P2 = (e20[3] !== -1 ? "".concat(e20[3] + 1, "/") : "") + "", A2 = !e20[4] && kH(e20), E2 = [xH, jH], M2 = [];
  function T2(e21, t3) {
    return e21[2] ? 0 : 1;
  }
  s2 = T2(e20), u2 = M2[s2] = E2[s2](e20), y2 = new KS({ props: { data: nS } }), k2 = new KS({ props: { data: rS } }), S2 = new KS({ props: { data: wS } });
  var I2 = e20[0] && !e20[4] && SH(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("form"), A2 && A2.c(), r2 = wo(), i2 = go("div"), o2 = go("div"), a2 = go("div"), u2.c(), c2 = wo(), l2 = go("label"), f2 = go("input"), h2 = wo(), d2 = go("div"), v2 = bo(P2), p2 = bo(e20[10]), m2 = wo(), g2 = go("button"), Pa(y2.$$.fragment), b2 = wo(), w2 = go("button"), Pa(k2.$$.fragment), j2 = wo(), x2 = go("button"), Pa(S2.$$.fragment), C2 = wo(), I2 && I2.c(), So(a2, "class", "jse-search-icon svelte-18vllqh"), So(f2, "class", "jse-search-input svelte-18vllqh"), So(f2, "title", "Enter text to search"), So(f2, "type", "text"), So(f2, "placeholder", "Find"), So(l2, "class", "jse-search-input-label svelte-18vllqh"), So(l2, "about", "jse-search input"), So(d2, "class", "jse-search-count svelte-18vllqh"), Io(d2, "jse-visible", e20[8] !== ""), So(g2, "type", "button"), So(g2, "class", "jse-search-next svelte-18vllqh"), So(g2, "title", "Go to next search result (Enter)"), So(w2, "type", "button"), So(w2, "class", "jse-search-previous svelte-18vllqh"), So(w2, "title", "Go to previous search result (Shift+Enter)"), So(x2, "type", "button"), So(x2, "class", "jse-search-clear svelte-18vllqh"), So(x2, "title", "Close search box (Esc)"), So(o2, "class", "jse-search-section svelte-18vllqh"), So(i2, "class", "jse-search-contents svelte-18vllqh"), So(n2, "class", "jse-search-form svelte-18vllqh"), So(t2, "class", "jse-search-box svelte-18vllqh");
  }, m: function(u3, P3) {
    vo(u3, t2, P3), uo(t2, n2), A2 && A2.m(n2, null), uo(n2, r2), uo(n2, i2), uo(i2, o2), uo(o2, a2), M2[s2].m(a2, null), uo(o2, c2), uo(o2, l2), uo(l2, f2), Ao(f2, e20[8]), uo(o2, h2), uo(o2, d2), uo(d2, v2), uo(d2, p2), uo(o2, m2), uo(o2, g2), Aa(y2, g2, null), uo(o2, b2), uo(o2, w2), Aa(k2, w2, null), uo(o2, j2), uo(o2, x2), Aa(S2, x2, null), uo(i2, C2), I2 && I2.m(i2, null), _2 = true, $2 || (O2 = [jo(f2, "input", e20[21]), to(_H.call(null, f2)), jo(g2, "click", e20[22]), jo(w2, "click", e20[23]), jo(x2, "click", e20[24]), jo(n2, "submit", e20[12]), jo(n2, "keydown", e20[13])], $2 = true);
  }, p: function(e21, t3) {
    e21[4] ? A2 && (ma(), ba(A2, 1, 1, function() {
      A2 = null;
    }), ga()) : A2 ? (A2.p(e21, t3), 16 & t3 && ya(A2, 1)) : ((A2 = kH(e21)).c(), ya(A2, 1), A2.m(n2, r2));
    var o3 = s2;
    (s2 = T2(e21)) === o3 ? M2[s2].p(e21, t3) : (ma(), ba(M2[o3], 1, 1, function() {
      M2[o3] = null;
    }), ga(), (u2 = M2[s2]) ? u2.p(e21, t3) : (u2 = M2[s2] = E2[s2](e21)).c(), ya(u2, 1), u2.m(a2, null)), 256 & t3 && f2.value !== e21[8] && Ao(f2, e21[8]), (!_2 || 8 & t3) && P2 !== (P2 = (e21[3] !== -1 ? "".concat(e21[3] + 1, "/") : "") + "") && Po(v2, P2), (!_2 || 1024 & t3) && Po(p2, e21[10]), 256 & t3 && Io(d2, "jse-visible", e21[8] !== ""), e21[0] && !e21[4] ? I2 ? I2.p(e21, t3) : ((I2 = SH(e21)).c(), I2.m(i2, null)) : I2 && (I2.d(1), I2 = null);
  }, i: function(e21) {
    _2 || (ya(A2), ya(u2), ya(y2.$$.fragment, e21), ya(k2.$$.fragment, e21), ya(S2.$$.fragment, e21), _2 = true);
  }, o: function(e21) {
    ba(A2), ba(u2), ba(y2.$$.fragment, e21), ba(k2.$$.fragment, e21), ba(S2.$$.fragment, e21), _2 = false;
  }, d: function(e21) {
    e21 && po(t2), A2 && A2.d(), M2[s2].d(), Ea(y2), Ea(k2), Ea(S2), I2 && I2.d(), $2 = false, Wi(O2);
  } };
}
function kH(e20) {
  var t2, n2, r2, i2, o2;
  return n2 = new KS({ props: { data: e20[0] ? Xx : eS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), So(t2, "type", "button"), So(t2, "class", "jse-replace-toggle svelte-18vllqh"), So(t2, "title", "Toggle visibility of replace options (Ctrl+H)");
  }, m: function(a2, s2) {
    vo(a2, t2, s2), Aa(n2, t2, null), r2 = true, i2 || (o2 = jo(t2, "click", e20[11]), i2 = true);
  }, p: function(e21, t3) {
    var r3 = {};
    1 & t3 && (r3.data = e21[0] ? Xx : eS), n2.$set(r3);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), i2 = false, o2();
  } };
}
function jH(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: hS } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function xH(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: iS, spin: true } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function SH(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2;
  return { c: function() {
    t2 = go("div"), n2 = go("input"), r2 = wo(), (i2 = go("button")).textContent = "Replace", o2 = wo(), (a2 = go("button")).textContent = "All", So(n2, "class", "jse-replace-input svelte-18vllqh"), So(n2, "title", "Enter replacement text"), So(n2, "type", "text"), So(n2, "placeholder", "Replace"), So(i2, "type", "button"), So(i2, "title", "Replace current occurrence (Ctrl+Enter)"), So(i2, "class", "svelte-18vllqh"), So(a2, "type", "button"), So(a2, "title", "Replace all occurrences"), So(a2, "class", "svelte-18vllqh"), So(t2, "class", "jse-replace-section svelte-18vllqh");
  }, m: function(c2, l2) {
    vo(c2, t2, l2), uo(t2, n2), Ao(n2, e20[9]), uo(t2, r2), uo(t2, i2), uo(t2, o2), uo(t2, a2), s2 || (u2 = [jo(n2, "input", e20[25]), jo(i2, "click", e20[14]), jo(a2, "click", e20[15])], s2 = true);
  }, p: function(e21, t3) {
    512 & t3 && n2.value !== e21[9] && Ao(n2, e21[9]);
  }, d: function(e21) {
    e21 && po(t2), s2 = false, Wi(u2);
  } };
}
function CH(e20) {
  var t2, n2, r2 = e20[1] && wH(e20);
  return { c: function() {
    r2 && r2.c(), t2 = ko();
  }, m: function(e21, i2) {
    r2 && r2.m(e21, i2), vo(e21, t2, i2), n2 = true;
  }, p: function(e21, n3) {
    var i2 = ji(n3, 1)[0];
    e21[1] ? r2 ? (r2.p(e21, i2), 2 & i2 && ya(r2, 1)) : ((r2 = wH(e21)).c(), ya(r2, 1), r2.m(t2.parentNode, t2)) : r2 && (ma(), ba(r2, 1, 1, function() {
      r2 = null;
    }), ga());
  }, i: function(e21) {
    n2 || (ya(r2), n2 = true);
  }, o: function(e21) {
    ba(r2), n2 = false;
  }, d: function(e21) {
    r2 && r2.d(e21), e21 && po(t2);
  } };
}
function _H(e20) {
  e20.select();
}
function $H(e20, t2, n2) {
  var r2, i2, o2 = t2.show, a2 = o2 !== void 0 && o2, s2 = t2.searching, u2 = t2.resultCount, c2 = u2 === void 0 ? 0 : u2, l2 = t2.activeIndex, f2 = l2 === void 0 ? 0 : l2, h2 = t2.showReplace, d2 = h2 !== void 0 && h2, v2 = t2.readOnly, p2 = v2 !== void 0 && v2, m2 = t2.onChange, g2 = m2 === void 0 ? wc : m2, y2 = t2.onPrevious, b2 = y2 === void 0 ? wc : y2, w2 = t2.onNext, k2 = w2 === void 0 ? wc : w2, j2 = t2.onReplace, x2 = j2 === void 0 ? wc : j2, S2 = t2.onReplaceAll, C2 = S2 === void 0 ? wc : S2, _2 = t2.onClose, $2 = _2 === void 0 ? wc : _2, O2 = "", P2 = "", A2 = "";
  function E2() {
    n2(0, d2 = !d2 && !p2);
  }
  function M2() {
    p2 || x2(O2, A2);
  }
  return e20.$$set = function(e21) {
    "show" in e21 && n2(1, a2 = e21.show), "searching" in e21 && n2(2, s2 = e21.searching), "resultCount" in e21 && n2(16, c2 = e21.resultCount), "activeIndex" in e21 && n2(3, f2 = e21.activeIndex), "showReplace" in e21 && n2(0, d2 = e21.showReplace), "readOnly" in e21 && n2(4, p2 = e21.readOnly), "onChange" in e21 && n2(17, g2 = e21.onChange), "onPrevious" in e21 && n2(5, b2 = e21.onPrevious), "onNext" in e21 && n2(6, k2 = e21.onNext), "onReplace" in e21 && n2(18, x2 = e21.onReplace), "onReplaceAll" in e21 && n2(19, C2 = e21.onReplaceAll), "onClose" in e21 && n2(7, $2 = e21.onClose);
  }, e20.$$.update = function() {
    65536 & e20.$$.dirty && n2(10, r2 = c2 >= 1e3 ? "".concat(999, "+") : String(c2)), 131072 & e20.$$.dirty && n2(20, i2 = Av(g2, 300)), 1048832 & e20.$$.dirty && i2(O2), 2 & e20.$$.dirty && a2 && O2 !== "" && g2(O2);
  }, [d2, a2, s2, f2, p2, b2, k2, $2, O2, A2, r2, E2, function(e21) {
    e21.preventDefault(), O2 !== P2 ? (P2 = O2, i2.cancel(), g2(O2)) : k2();
  }, function(e21) {
    e21.stopPropagation();
    var t3 = Dx(e21);
    t3 === "Enter" && (e21.preventDefault(), k2()), t3 === "Shift+Enter" && (e21.preventDefault(), b2()), t3 !== "Ctrl+Enter" && t3 !== "Command+Enter" || (e21.preventDefault(), d2 ? M2() : k2()), t3 === "Ctrl+H" && (e21.preventDefault(), E2()), t3 === "Escape" && (e21.preventDefault(), $2());
  }, M2, function() {
    p2 || C2(O2, A2);
  }, c2, g2, x2, C2, i2, function() {
    O2 = this.value, n2(8, O2);
  }, function() {
    return k2();
  }, function() {
    return b2();
  }, function() {
    return $2();
  }, function() {
    A2 = this.value, n2(9, A2);
  }];
}
var OH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, $H, CH, Ki, { show: 1, searching: 2, resultCount: 16, activeIndex: 3, showReplace: 0, readOnly: 4, onChange: 17, onPrevious: 5, onNext: 6, onReplace: 18, onReplaceAll: 19, onClose: 7 }, bH), r2;
  }
  return Li(n2);
}(), PH = ja.window;
function AH(e20) {
  co(e20, "svelte-1wno2xw", ".jse-tree-mode.svelte-1wno2xw.svelte-1wno2xw{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label.svelte-1wno2xw{position:absolute;right:0;top:0;width:0;height:0}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label .jse-hidden-input.svelte-1wno2xw{width:0;height:0;padding:0;border:0;outline:none}.jse-tree-mode.svelte-1wno2xw .jse-search-box-container.svelte-1wno2xw{position:relative;height:0;top:var(--jse-padding);margin-right:calc(var(--jse-padding) + 20px);margin-left:var(--jse-padding);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-1wno2xw.svelte-1wno2xw{border-top:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw{border-left:var(--jse-main-border);border-right:var(--jse-main-border);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw:last-child{border-bottom:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading-space.svelte-1wno2xw{flex:1}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading.svelte-1wno2xw{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-tree-mode.svelte-1wno2xw .jse-preview.svelte-1wno2xw{flex:1;color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;padding:2px}");
}
function EH(e20) {
  var t2, n2, r2;
  function i2(t3) {
    e20[72](t3);
  }
  var o2 = { json: e20[7], selection: e20[9], readOnly: e20[0], historyState: e20[20], onExpandAll: e20[39], onCollapseAll: e20[40], onUndo: e20[35], onRedo: e20[36], onSort: e20[37], onTransform: e20[38], onContextMenu: e20[44], onCopy: e20[33], onRenderMenu: e20[4] };
  return e20[16] !== void 0 && (o2.showSearch = e20[16]), t2 = new FV({ props: o2 }), Xo.push(function() {
    return Oa(t2, "showSearch", i2);
  }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, n3) {
    Aa(t2, e21, n3), r2 = true;
  }, p: function(e21, r3) {
    var i3 = {};
    128 & r3[0] && (i3.json = e21[7]), 512 & r3[0] && (i3.selection = e21[9]), 1 & r3[0] && (i3.readOnly = e21[0]), 1048576 & r3[0] && (i3.historyState = e21[20]), 16 & r3[0] && (i3.onRenderMenu = e21[4]), !n2 && 65536 & r3[0] && (n2 = true, i3.showSearch = e21[16], sa(function() {
      return n2 = false;
    })), t2.$set(i3);
  }, i: function(e21) {
    r2 || (ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function MH(e20) {
  var t2, n2;
  return t2 = new yH({ props: { json: e20[7], state: e20[14], selection: e20[9], onSelect: e20[47] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    128 & n3[0] && (r2.json = e21[7]), 16384 & n3[0] && (r2.state = e21[14]), 512 & n3[0] && (r2.selection = e21[9]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function TH(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).innerHTML = '<div class="jse-loading-space svelte-1wno2xw"></div> \n      <div class="jse-loading svelte-1wno2xw">loading...</div>', So(t2, "class", "jse-contents svelte-1wno2xw");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function IH(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = [RH, NH], f2 = [];
  function h2(e21, t3) {
    return e21[7] === void 0 ? 0 : 1;
  }
  return i2 = h2(e20), o2 = f2[i2] = l2[i2](e20), { c: function() {
    t2 = go("label"), n2 = go("input"), r2 = wo(), o2.c(), a2 = ko(), So(n2, "class", "jse-hidden-input svelte-1wno2xw"), So(n2, "tabindex", "-1"), So(t2, "class", "jse-hidden-input-label svelte-1wno2xw");
  }, m: function(o3, l3) {
    vo(o3, t2, l3), uo(t2, n2), e20[73](n2), vo(o3, r2, l3), f2[i2].m(o3, l3), vo(o3, a2, l3), s2 = true, u2 || (c2 = jo(n2, "paste", e20[34]), u2 = true);
  }, p: function(e21, t3) {
    var n3 = i2;
    (i2 = h2(e21)) === n3 ? f2[i2].p(e21, t3) : (ma(), ba(f2[n3], 1, 1, function() {
      f2[n3] = null;
    }), ga(), (o2 = f2[i2]) ? o2.p(e21, t3) : (o2 = f2[i2] = l2[i2](e21)).c(), ya(o2, 1), o2.m(a2.parentNode, a2));
  }, i: function(e21) {
    s2 || (ya(o2), s2 = true);
  }, o: function(e21) {
    ba(o2), s2 = false;
  }, d: function(n3) {
    n3 && po(t2), e20[73](null), n3 && po(r2), f2[i2].d(n3), n3 && po(a2), u2 = false, c2();
  } };
}
function NH(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2;
  n2 = new OH({ props: { show: e20[16], resultCount: e20[19] ? e20[19].count : 0, activeIndex: e20[19] ? e20[19].activeIndex : 0, showReplace: e20[17], searching: e20[18], readOnly: e20[0], onChange: e20[26], onNext: e20[27], onPrevious: e20[28], onReplace: e20[29], onReplaceAll: e20[30], onClose: e20[31] } }), o2 = new zV({ props: { value: e20[7], path: e20[25], state: e20[14], selection: e20[23], searchResult: e20[19] && e20[19].itemsWithActive, validationErrors: e20[22], context: e20[10], onDragSelectionStart: wc } });
  var f2 = e20[15] && DH(e20), h2 = e20[21] && LH(e20);
  return c2 = new pC({ props: { validationErrors: e20[11], selectError: e20[32] } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), r2 = wo(), i2 = go("div"), Pa(o2.$$.fragment), a2 = wo(), f2 && f2.c(), s2 = wo(), h2 && h2.c(), u2 = wo(), Pa(c2.$$.fragment), So(t2, "class", "jse-search-box-container svelte-1wno2xw"), So(i2, "class", "jse-contents svelte-1wno2xw"), So(i2, "data-jsoneditor-scrollable-contents", true);
  }, m: function(d2, v2) {
    vo(d2, t2, v2), Aa(n2, t2, null), vo(d2, r2, v2), vo(d2, i2, v2), Aa(o2, i2, null), e20[74](i2), vo(d2, a2, v2), f2 && f2.m(d2, v2), vo(d2, s2, v2), h2 && h2.m(d2, v2), vo(d2, u2, v2), Aa(c2, d2, v2), l2 = true;
  }, p: function(e21, t3) {
    var r3 = {};
    65536 & t3[0] && (r3.show = e21[16]), 524288 & t3[0] && (r3.resultCount = e21[19] ? e21[19].count : 0), 524288 & t3[0] && (r3.activeIndex = e21[19] ? e21[19].activeIndex : 0), 131072 & t3[0] && (r3.showReplace = e21[17]), 262144 & t3[0] && (r3.searching = e21[18]), 1 & t3[0] && (r3.readOnly = e21[0]), n2.$set(r3);
    var i3 = {};
    128 & t3[0] && (i3.value = e21[7]), 16384 & t3[0] && (i3.state = e21[14]), 8388608 & t3[0] && (i3.selection = e21[23]), 524288 & t3[0] && (i3.searchResult = e21[19] && e21[19].itemsWithActive), 4194304 & t3[0] && (i3.validationErrors = e21[22]), 1024 & t3[0] && (i3.context = e21[10]), o2.$set(i3), e21[15] ? f2 ? (f2.p(e21, t3), 32768 & t3[0] && ya(f2, 1)) : ((f2 = DH(e21)).c(), ya(f2, 1), f2.m(s2.parentNode, s2)) : f2 && (ma(), ba(f2, 1, 1, function() {
      f2 = null;
    }), ga()), e21[21] ? h2 ? (h2.p(e21, t3), 2097152 & t3[0] && ya(h2, 1)) : ((h2 = LH(e21)).c(), ya(h2, 1), h2.m(u2.parentNode, u2)) : h2 && (ma(), ba(h2, 1, 1, function() {
      h2 = null;
    }), ga());
    var a3 = {};
    2048 & t3[0] && (a3.validationErrors = e21[11]), c2.$set(a3);
  }, i: function(e21) {
    l2 || (ya(n2.$$.fragment, e21), ya(o2.$$.fragment, e21), ya(f2), ya(h2), ya(c2.$$.fragment, e21), l2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), ba(o2.$$.fragment, e21), ba(f2), ba(h2), ba(c2.$$.fragment, e21), l2 = false;
  }, d: function(l3) {
    l3 && po(t2), Ea(n2), l3 && po(r2), l3 && po(i2), Ea(o2), e20[74](null), l3 && po(a2), f2 && f2.d(l3), l3 && po(s2), h2 && h2.d(l3), l3 && po(u2), Ea(c2, l3);
  } };
}
function RH(e20) {
  var t2, n2, r2, i2, o2 = [BH, zH], a2 = [];
  function s2(e21, t3) {
    return e21[8] === "" || e21[8] === void 0 ? 0 : 1;
  }
  return t2 = s2(e20), n2 = a2[t2] = o2[t2](e20), { c: function() {
    n2.c(), r2 = ko();
  }, m: function(e21, n3) {
    a2[t2].m(e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var u2 = t2;
    (t2 = s2(e21)) === u2 ? a2[t2].p(e21, i3) : (ma(), ba(a2[u2], 1, 1, function() {
      a2[u2] = null;
    }), ga(), (n2 = a2[t2]) ? n2.p(e21, i3) : (n2 = a2[t2] = o2[t2](e21)).c(), ya(n2, 1), n2.m(r2.parentNode, r2));
  }, i: function(e21) {
    i2 || (ya(n2), i2 = true);
  }, o: function(e21) {
    ba(n2), i2 = false;
  }, d: function(e21) {
    a2[t2].d(e21), e21 && po(r2);
  } };
}
function DH(e20) {
  var t2, n2;
  return t2 = new nC({ props: { type: "info", message: "You pasted a JSON ".concat(Array.isArray(e20[15].contents) ? "array" : "object", " as text"), actions: [{ icon: bS, text: "Paste as JSON instead", onMouseDown: e20[45] }, { text: "Leave as is", onClick: e20[46] }] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    32768 & n3[0] && (r2.message = "You pasted a JSON ".concat(Array.isArray(e21[15].contents) ? "array" : "object", " as text")), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function LH(e20) {
  var t2, n2;
  return t2 = new nC({ props: { type: "success", message: "The loaded JSON document was invalid but is successfully repaired.", actions: e20[0] ? [] : [{ icon: tS, text: "Ok", onClick: e20[5] }, { icon: aS, text: "Repair manually instead", onClick: e20[3] }] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    9 & n3[0] && (r2.actions = e21[0] ? [] : [{ icon: tS, text: "Ok", onClick: e21[5] }, { icon: aS, text: "Repair manually instead", onClick: e21[3] }]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function zH(e20) {
  var t2, n2, r2, i2, o2;
  return t2 = new nC({ props: { type: "error", message: "The loaded JSON document is invalid and could not be repaired automatically.", actions: e20[0] ? [] : [{ icon: aS, text: "Repair manually", onClick: e20[3] }] } }), { c: function() {
    Pa(t2.$$.fragment), n2 = wo(), r2 = go("div"), i2 = bo(e20[8]), So(r2, "class", "jse-preview svelte-1wno2xw");
  }, m: function(e21, a2) {
    Aa(t2, e21, a2), vo(e21, n2, a2), vo(e21, r2, a2), uo(r2, i2), o2 = true;
  }, p: function(e21, n3) {
    var r3 = {};
    9 & n3[0] && (r3.actions = e21[0] ? [] : [{ icon: aS, text: "Repair manually", onClick: e21[3] }]), t2.$set(r3), (!o2 || 256 & n3[0]) && Po(i2, e21[8]);
  }, i: function(e21) {
    o2 || (ya(t2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), o2 = false;
  }, d: function(e21) {
    Ea(t2, e21), e21 && po(n2), e21 && po(r2);
  } };
}
function BH(e20) {
  var t2, n2;
  return t2 = new JV({ props: { readOnly: e20[0] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    1 & n3[0] && (r2.readOnly = e21[0]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function qH(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2 = e20[1] && EH(e20), l2 = e20[2] && MH(e20), f2 = [IH, TH], h2 = [];
  return i2 = function(e21, t3) {
    return e21[24] ? 1 : 0;
  }(e20), o2 = h2[i2] = f2[i2](e20), { c: function() {
    t2 = go("div"), c2 && c2.c(), n2 = wo(), l2 && l2.c(), r2 = wo(), o2.c(), So(t2, "class", "jse-tree-mode svelte-1wno2xw"), Io(t2, "no-main-menu", !e20[1]);
  }, m: function(o3, f3) {
    vo(o3, t2, f3), c2 && c2.m(t2, null), uo(t2, n2), l2 && l2.m(t2, null), uo(t2, r2), h2[i2].m(t2, null), e20[75](t2), a2 = true, s2 || (u2 = [jo(PH, "mousedown", e20[48]), jo(t2, "keydown", e20[41]), jo(t2, "mousedown", e20[42]), jo(t2, "contextmenu", e20[43])], s2 = true);
  }, p: function(e21, i3) {
    e21[1] ? c2 ? (c2.p(e21, i3), 2 & i3[0] && ya(c2, 1)) : ((c2 = EH(e21)).c(), ya(c2, 1), c2.m(t2, n2)) : c2 && (ma(), ba(c2, 1, 1, function() {
      c2 = null;
    }), ga()), e21[2] ? l2 ? (l2.p(e21, i3), 4 & i3[0] && ya(l2, 1)) : ((l2 = MH(e21)).c(), ya(l2, 1), l2.m(t2, r2)) : l2 && (ma(), ba(l2, 1, 1, function() {
      l2 = null;
    }), ga()), o2.p(e21, i3), 2 & i3[0] && Io(t2, "no-main-menu", !e21[1]);
  }, i: function(e21) {
    a2 || (ya(c2), ya(l2), ya(o2), a2 = true);
  }, o: function(e21) {
    ba(c2), ba(l2), ba(o2), a2 = false;
  }, d: function(n3) {
    n3 && po(t2), c2 && c2.d(), l2 && l2.d(), h2[i2].d(), e20[75](null), s2 = false, Wi(u2);
  } };
}
function FH(e20) {
  return e20.length < 1 || e20.length === 1 && e20[0] === 0;
}
function VH() {
  return true;
}
function HH(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2 = Na("jsoneditor:TreeMode"), l2 = typeof window == "undefined";
  c2("isSSR:", l2);
  var f2, h2, d2, v2, p2, m2 = Yo("simple-modal").open, g2 = kk(), y2 = kk(), b2 = Yo("absolute-popup"), w2 = b2.openAbsolutePopup, k2 = b2.closeAbsolutePopup, j2 = false, x2 = RB(), S2 = t2.readOnly, C2 = S2 !== void 0 && S2, _2 = t2.externalContent, $2 = t2.mainMenuBar, O2 = $2 === void 0 || $2, P2 = t2.navigationBar, A2 = P2 === void 0 || P2, E2 = t2.escapeControlCharacters, M2 = E2 !== void 0 && E2, T2 = t2.escapeUnicodeCharacters, I2 = T2 !== void 0 && T2, N2 = t2.validator, R2 = N2 === void 0 ? null : N2, D2 = t2.indentation, L2 = D2 === void 0 ? 2 : D2, z2 = t2.onError, B2 = t2.onChange, q2 = t2.onRenderValue, F2 = t2.onRequestRepair, V2 = F2 === void 0 ? wc : F2, H2 = t2.onRenderMenu, W2 = H2 === void 0 ? wc : H2, U2 = t2.onClassName, J2 = t2.onFocus, K2 = t2.onBlur, G2 = t2.onSortModal, Q2 = t2.onTransformModal, Y2 = false;
  xS({ onMount: Jo, onDestroy: Ko, getWindow: function() {
    return Px(d2);
  }, hasFocus: function() {
    return Y2 && document.hasFocus() || Ax(d2);
  }, onFocus: function() {
    j2 = true, J2 && J2();
  }, onBlur: function() {
    j2 = false, K2 && K2();
  } });
  var Z2, X2 = wj({}, void 0, [], FH), ee2 = null;
  function te2(e21) {
    return au({ json: e21 }, 10240) ? FH : VH;
  }
  var ne2, re2 = false, ie2 = false, oe2 = false, ae2 = "";
  function se2(e21) {
    return ue2.apply(this, arguments);
  }
  function ue2() {
    return (ue2 = yi(mi().mark(function e21(t3) {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return c2("search text updated", t3), n2(69, ae2 = t3), e22.next = 4, oa();
            case 4:
              return e22.next = 6, de2(ne2 && ne2.activeItem);
            case 6:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function ce2() {
    return (ce2 = yi(mi().mark(function e21() {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return n2(19, ne2 = ne2 ? GB(ne2) : ne2), e22.next = 3, de2(ne2 && ne2.activeItem);
            case 3:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function le2() {
    return (le2 = yi(mi().mark(function e21() {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return n2(19, ne2 = ne2 ? QB(ne2) : ne2), e22.next = 3, de2(ne2 && ne2.activeItem);
            case 3:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function fe2() {
    return (fe2 = yi(mi().mark(function e21(t3, n3) {
      var r3, i3, o3, a3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (r3 = ne2.activeItem, c2("handleReplace", { replacementText: n3, activeItem: r3 }), ne2 && r3) {
                e22.next = 4;
                break;
              }
              return e22.abrupt("return");
            case 4:
              return i3 = tq(v2, X2, n3, r3), o3 = i3.operations, a3 = i3.newSelection, it2(o3, function() {
                return { selection: a3 };
              }), e22.next = 8, oa();
            case 8:
              return e22.next = 10, de2(ne2 && ne2.activeItem);
            case 10:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function he2() {
    return (he2 = yi(mi().mark(function e21(t3, n3) {
      var r3, i3, o3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return c2("handleReplaceAll", { text: t3, replacementText: n3 }), r3 = nq(v2, X2, t3, n3), i3 = r3.operations, o3 = r3.newSelection, it2(i3, function() {
                return { selection: o3 };
              }), e22.next = 5, oa();
            case 5:
              return e22.next = 7, de2(ne2 && ne2.activeItem);
            case 7:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function de2(e21) {
    return ve2.apply(this, arguments);
  }
  function ve2() {
    return (ve2 = yi(mi().mark(function e21(t3) {
      var r3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (!t3) {
                e22.next = 8;
                break;
              }
              return r3 = t3.path, n2(14, X2 = Sj(v2, X2, r3)), n2(9, ee2 = null), e22.next = 6, oa();
            case 6:
              return e22.next = 8, Xe2(r3);
            case 8:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  var pe2 = qw(function() {
    ae2 !== "" ? (n2(18, oe2 = true), setTimeout(function() {
      c2("searching...", ae2);
      var e21 = YB(ae2, v2, X2, 1e3);
      n2(19, ne2 = KB(v2, e21, ne2)), n2(18, oe2 = false);
    })) : n2(19, ne2 = void 0);
  }, 300);
  var me2 = function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t3 = e21.maxItems || 1e3, n3 = [], r3 = 0;
    function i3() {
      return r3 < n3.length;
    }
    function o3() {
      return r3 > 0;
    }
    function a3() {
      return { canUndo: i3(), canRedo: o3(), length: n3.length };
    }
    function s3() {
      e21.onChange && e21.onChange(a3());
    }
    function u3(e22) {
      n3 = [e22].concat(n3.slice(r3)).slice(0, t3), r3 = 0, s3();
    }
    function c3() {
      n3 = [], r3 = 0, s3();
    }
    function l3() {
      if (i3()) {
        var e22 = n3[r3];
        return r3 += 1, s3(), e22;
      }
    }
    function f3() {
      if (o3())
        return r3 -= 1, s3(), n3[r3];
    }
    return { add: u3, clear: c3, getState: a3, undo: l3, redo: f3 };
  }({ onChange: function(e21) {
    n2(20, ge2 = e21);
  } }), ge2 = me2.getState();
  var ye2 = false;
  function be2(e21) {
    e21.json !== void 0 && function(e22) {
      if (e22 === void 0)
        return;
      var t3 = !Zm(v2, e22), r3 = v2 === void 0;
      if (c2("update external json", { isChanged: t3, isText: r3 }), !t3)
        return;
      var i3 = X2, o3 = v2, a3 = p2, s3 = ye2, u3 = ee2;
      n2(7, v2 = e22), n2(14, X2 = wj(v2, i3, [], te2(v2), false)), n2(8, p2 = void 0), n2(21, ye2 = false), n2(9, ee2 = we2(ee2, v2)), ke2({ previousJson: o3, previousState: i3, previousText: a3, previousTextIsRepaired: s3, previousSelection: u3 }), pe2();
    }(e21.json), e21.text !== void 0 && function(e22) {
      if (e22 === void 0 || _2.json !== void 0)
        return;
      if (e22 === p2)
        return;
      c2("update external text");
      var t3 = v2, r3 = X2, i3 = p2, o3 = ye2, a3 = ee2;
      try {
        n2(7, v2 = JSON.parse(e22)), n2(14, X2 = wj(v2, r3, [], te2(v2), false)), n2(8, p2 = e22), n2(21, ye2 = false), n2(9, ee2 = we2(ee2, v2));
      } catch (t4) {
        try {
          n2(7, v2 = JSON.parse(Ds(e22))), n2(14, X2 = wj(v2, r3, [], te2(v2), false)), n2(8, p2 = e22), n2(21, ye2 = true), n2(9, ee2 = we2(ee2, v2));
        } catch (e23) {
          n2(7, v2 = void 0), n2(14, X2 = void 0), n2(8, p2 = _2.text), n2(21, ye2 = false), n2(9, ee2 = we2(ee2, v2));
        }
      }
      ee2 || v2 !== void 0 || p2 !== "" && p2 !== void 0 || n2(9, ee2 = je2());
      ke2({ previousJson: t3, previousState: r3, previousText: i3, previousTextIsRepaired: o3, previousSelection: a3 }), pe2();
    }(e21.text);
  }
  function we2(e21, t3) {
    return e21 && ws.exports.existsIn(t3, e21.anchorPath) && ws.exports.existsIn(t3, e21.focusPath) ? e21 : (c2("clearing selection: path does not exist anymore"), null);
  }
  function ke2(e21) {
    var t3 = e21.previousJson, n3 = e21.previousState, r3 = e21.previousText, i3 = e21.previousTextIsRepaired, o3 = e21.previousSelection;
    t3 === void 0 && r3 === void 0 || (v2 !== void 0 ? t3 !== void 0 ? me2.add({ undo: { patch: [{ op: "replace", path: "", value: t3 }], state: n3, text: r3, textIsRepaired: i3, selection: ax(o3) }, redo: { patch: [{ op: "replace", path: "", value: v2 }], state: X2, text: p2, textIsRepaired: ye2, selection: ax(ee2) } }) : me2.add({ undo: { state: n3, text: r3, textIsRepaired: i3, selection: ax(o3) }, redo: { json: v2, state: X2, text: p2, textIsRepaired: ye2, selection: ax(ee2) } }) : t3 !== void 0 && me2.add({ undo: { json: t3, state: n3, text: r3, textIsRepaired: i3, selection: ax(o3) }, redo: { text: p2, textIsRepaired: ye2, state: X2, selection: ax(ee2) } }));
  }
  function je2() {
    return sx(v2 || {}, X2, { type: Uj, anchorPath: [], focusPath: [] });
  }
  function xe2(e21, t3) {
    if (v2 === void 0)
      throw new Error("Cannot apply patch: no JSON");
    var r3 = v2, i3 = X2, o3 = p2, a3 = ye2, s3 = ee2;
    c2("patch", e21, t3);
    var u3 = ws.exports.revertJSONPatch(v2, e21), l3 = Oj(v2, X2, e21), f3 = typeof t3 == "function" ? t3(l3.json, l3.state, ee2) : void 0;
    return n2(7, v2 = f3 && f3.json !== void 0 ? f3.json : l3.json), n2(14, X2 = f3 && f3.state !== void 0 ? f3.state : l3.state), n2(8, p2 = void 0), n2(21, ye2 = false), n2(9, ee2 = f3 && f3.selection ? f3.selection : tx(r3, 0, e21)), n2(9, ee2 = we2(ee2, v2)), me2.add({ undo: { patch: u3, state: i3, text: o3, textIsRepaired: a3, selection: ax(s3) }, redo: { patch: e21, state: X2, text: p2, textIsRepaired: ye2, selection: ax(ee2) } }), { json: v2, previousJson: r3, undo: u3, redo: e21 };
  }
  function Se2() {
    return ee2 && (ee2.type === Uj || ee2.type === Hj || ee2.type === Wj);
  }
  function Ce2() {
    !C2 && ee2 && n2(9, ee2 = sx(v2, X2, { type: Hj, path: ee2.focusPath, edit: true }));
  }
  function _e2() {
    !C2 && ee2 && n2(9, ee2 = sx(v2, X2, { type: Wj, path: ee2.focusPath, edit: true }));
  }
  function $e2() {
    if (!C2 && ee2 && ee2.type === Wj) {
      var e21 = ee2.focusPath, t3 = e21.concat(os), r3 = !ws.exports.getIn(X2, t3);
      n2(14, X2 = ws.exports.setIn(X2, t3, r3, true));
      var i3 = ws.exports.getIn(v2, e21), o3 = r3 ? String(i3) : Hs(i3);
      o3 !== i3 && it2([{ op: "replace", path: ws.exports.compileJSONPointer(e21), value: o3 }]);
    }
  }
  function Oe2() {
    return Pe2.apply(this, arguments);
  }
  function Pe2() {
    return (Pe2 = yi(mi().mark(function e21() {
      var t3, n3, r3, i3, o3, a3 = arguments;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (t3 = !(a3.length > 0 && a3[0] !== void 0) || a3[0], !C2 && Se2()) {
                e22.next = 3;
                break;
              }
              return e22.abrupt("return");
            case 3:
              if ((n3 = ux(v2, ee2, t3 ? L2 : null)) != null) {
                e22.next = 7;
                break;
              }
              return e22.abrupt("return");
            case 7:
              return c2("cut", { selection: ee2, clipboard: n3, indent: t3 }), e22.prev = 8, e22.next = 11, navigator.clipboard.writeText(n3);
            case 11:
              e22.next = 16;
              break;
            case 13:
              e22.prev = 13, e22.t0 = e22.catch(8), z2(e22.t0);
            case 16:
              r3 = JB(v2, X2, ee2), i3 = r3.operations, o3 = r3.newSelection, it2(i3, function() {
                return { selection: o3 };
              });
            case 18:
            case "end":
              return e22.stop();
          }
      }, e21, null, [[8, 13]]);
    }))).apply(this, arguments);
  }
  function Ae2() {
    return Ee2.apply(this, arguments);
  }
  function Ee2() {
    return (Ee2 = yi(mi().mark(function e21() {
      var t3, n3, r3 = arguments;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (t3 = !(r3.length > 0 && r3[0] !== void 0) || r3[0], (n3 = ux(v2, ee2, t3 ? L2 : null)) != null) {
                e22.next = 5;
                break;
              }
              return e22.abrupt("return");
            case 5:
              return c2("copy", { clipboard: n3, indent: t3 }), e22.prev = 6, e22.next = 9, navigator.clipboard.writeText(n3);
            case 9:
              e22.next = 14;
              break;
            case 11:
              e22.prev = 11, e22.t0 = e22.catch(6), z2(e22.t0);
            case 14:
            case "end":
              return e22.stop();
          }
      }, e21, null, [[6, 11]]);
    }))).apply(this, arguments);
  }
  function Me2() {
    m2(hq, {}, Ei(Ei({}, cs), {}, { styleWindow: Ei(Ei({}, cs.styleWindow), {}, { width: "450px" }) }), { onClose: function() {
      return setTimeout(J2);
    } });
  }
  function Te2(e21) {
    if (v2 !== void 0) {
      var t3 = ee2 || je2(), r3 = VB(v2, X2, t3, e21);
      c2("paste", { clipboardText: e21, operations: r3, selectionOrDefault: t3 }), it2(r3, function(e22, t4) {
        var n3 = t4;
        return r3.filter(function(e23) {
          return zs(e23.value);
        }).forEach(function(t5) {
          var r4 = pj(v2, t5.path);
          n3 = at2(e22, n3, r4);
        }), { state: n3 };
      });
    } else
      c2("paste text", { clipboardText: e21 }), function(e22, t4) {
        var r4 = X2, i3 = v2, o3 = p2, a3 = { json: v2, text: p2 }, s3 = ye2, u3 = ee2;
        try {
          n2(7, v2 = JSON.parse(e22)), n2(14, X2 = wj(v2, r4, [], FH)), n2(8, p2 = void 0), n2(21, ye2 = false);
        } catch (t5) {
          try {
            n2(7, v2 = JSON.parse(Ds(e22))), n2(14, X2 = wj(v2, r4, [], FH)), n2(8, p2 = e22), n2(21, ye2 = true);
          } catch (t6) {
            n2(7, v2 = void 0), n2(14, X2 = wj(v2, kj(v2), [], FH)), n2(8, p2 = e22), n2(21, ye2 = false);
          }
        }
        if (typeof t4 == "function") {
          var c3 = t4(v2, X2, ee2);
          n2(7, v2 = c3 && c3.json ? c3.json : v2), n2(14, X2 = c3 && c3.state ? c3.state : X2), n2(9, ee2 = c3 && c3.selection ? c3.selection : ee2);
        }
        n2(9, ee2 = we2(ee2, v2)), ke2({ previousJson: i3, previousState: r4, previousText: o3, previousTextIsRepaired: s3, previousSelection: u3 }), rt2(a3, null);
      }(e21, function(e22, t4) {
        if (e22) {
          return { state: at2(e22, t4, []) };
        }
      });
  }
  function Ie2() {
    if (!C2 && ee2) {
      var e21 = ee2.type === Hj || ee2.type === Wj ? sx(v2, X2, { type: Uj, anchorPath: ee2.anchorPath, focusPath: ee2.focusPath }) : ee2;
      if (Ym(ee2.focusPath)) {
        c2("remove root", { selection: ee2 });
        B2({ text: "", json: void 0 }, { text: p2, json: v2 }, null);
      } else {
        var t3 = JB(v2, X2, e21), n3 = t3.operations, r3 = t3.newSelection;
        c2("remove", { operations: n3, selection: ee2, newSelection: r3 }), it2(n3, function() {
          return { selection: r3 };
        });
      }
    }
  }
  function Ne2() {
    C2 || !Se2() || Ym(ee2.focusPath) || (c2("duplicate", { selection: ee2 }), it2(function(e21, t3, n3) {
      var r3 = Gv(n3);
      if (Ym(r3))
        throw new Error("Cannot duplicate root object");
      var i3 = _m(r3), o3 = Gv(r3), a3 = ws.exports.getIn(e21, i3);
      if (Array.isArray(a3)) {
        var s3 = Gv(n3), u3 = s3 ? parseInt(Gv(s3), 10) + 1 : 0;
        return Ti(n3.map(function(e22, t4) {
          return { op: "copy", from: ws.exports.compileJSONPointer(e22), path: ws.exports.compileJSONPointer(i3.concat(t4 + u3)) };
        }));
      }
      var c3 = Aj(t3, i3), l3 = Tj(c3, o3, false);
      return [].concat(Ti(n3.map(function(e22) {
        var t4 = DB(Gv(e22), c3);
        return { op: "copy", from: ws.exports.compileJSONPointer(e22), path: ws.exports.compileJSONPointer(i3.concat(t4)) };
      })), Ti(l3.map(function(e22) {
        return WB(i3, e22);
      })));
    }(v2, X2, ee2.paths || [ee2.focusPath])));
  }
  function Re2() {
    C2 || !ee2 || ee2.type !== Uj && ee2.type !== Wj || Ym(ee2.focusPath) || (c2("extract", { selection: ee2 }), it2(function(e21, t3, n3) {
      if (n3.type === Wj)
        return [{ op: "move", from: ws.exports.compileJSONPointer(n3.focusPath), path: "" }];
      if (n3.type === Uj) {
        var r3 = _m(n3.focusPath), i3 = ws.exports.getIn(e21, r3);
        if (Array.isArray(i3))
          return [{ op: "replace", path: "", value: n3.paths.map(function(e22) {
            var t4 = Gv(e22);
            return i3[t4];
          }) }];
        var o3 = {};
        return n3.paths.forEach(function(e22) {
          var t4 = Gv(e22);
          o3[t4] = i3[t4];
        }), [{ op: "replace", path: "", value: o3 }];
      }
      throw new Error("Cannot extract: unsupported type of selection " + JSON.stringify(n3));
    }(v2, 0, ee2), function(e21, t3) {
      if (zs(e21)) {
        return { state: at2(e21, t3, []) };
      }
    }), pt2());
  }
  function De2(e21) {
    if (!C2 && ee2) {
      var t3 = function(e22, t4, n4) {
        if (n4 === "object")
          return {};
        if (n4 === "array")
          return [];
        if (n4 === "structure") {
          var r4 = Jj(t4), i4 = ws.exports.getIn(e22, r4);
          if (Array.isArray(i4) && !Ym(i4)) {
            var o4 = Bp(i4);
            return zs(o4) ? Id(o4, function(e23) {
              return Array.isArray(e23) ? [] : Ls(e23) ? void 0 : "";
            }) : "";
          }
        }
        return "";
      }(v2, ee2, e21);
      if (v2 !== void 0) {
        var n3 = JSON.stringify(t3), r3 = VB(v2, X2, ee2, n3);
        c2("handleInsert", { type: e21, operations: r3, newValue: t3, data: n3 });
        var i3 = Gv(r3.filter(function(e22) {
          return e22.op === "add" || e22.op === "replace";
        }));
        it2(r3, function(e22, n4) {
          if (i3) {
            var r4 = pj(e22, i3.path);
            return zs(t3) ? { state: Cj(e22, n4, r4, VH), selection: sx(e22 || {}, n4, { type: Vj, path: r4 }) } : t3 === "" ? { selection: sx(e22, n4, { type: Ls(Ym(r4) ? null : ws.exports.getIn(e22, _m(r4))) ? Hj : Wj, path: r4, edit: true }) } : void 0;
          }
        }), i3 && (pt2(), t3 === "" && oa().then(function() {
          setTimeout(function() {
            return Fe2("", true);
          });
        }));
      } else {
        c2("handleInsert", { type: e21, newValue: t3 });
        var o3 = [];
        ot2(t3, function(e22, t4) {
          return { state: at2(e22, t4, o3), selection: sx(e22, t4, { type: Vj, path: o3 }) };
        }), pt2();
      }
    }
  }
  function Le2(e21) {
    ee2.type === Hj && n2(9, ee2 = sx(v2, X2, { type: Wj, path: ee2.focusPath })), De2(e21);
  }
  function ze2(e21) {
    if (!C2 && ee2)
      if (lx(ee2))
        try {
          var t3 = ee2.anchorPath, n3 = ws.exports.getIn(v2, t3), r3 = function(e22, t4) {
            if (t4 === "array") {
              if (Array.isArray(e22))
                return e22;
              if (Ls(e22))
                return Ys(e22);
              if (typeof e22 == "string") {
                var n4 = JSON.parse(e22);
                if (Array.isArray(n4))
                  return n4;
                if (Ls(n4))
                  return Ys(n4);
              }
            }
            if (t4 === "object") {
              if (Array.isArray(e22))
                return Qs(e22);
              if (Ls(e22))
                return e22;
              if (typeof e22 == "string") {
                var r4 = JSON.parse(e22);
                if (Ls(r4))
                  return r4;
                if (Array.isArray(r4))
                  return Qs(r4);
              }
            }
            if (t4 === "value")
              return zs(e22) ? JSON.stringify(e22) : e22;
            throw new Error("Cannot convert ".concat(qs(e22), " to ").concat(t4));
          }(n3, e21);
          if (r3 === n3)
            return;
          var i3 = [{ op: "replace", path: ws.exports.compileJSONPointer(t3), value: r3 }];
          c2("handleConvert", { selection: ee2, path: t3, type: e21, operations: i3 }), it2(i3, function(e22, t4) {
            return { state: at2(e22, t4, ee2.focusPath) };
          }), pt2();
        } catch (e22) {
          z2(e22);
        }
      else
        z2(new Error("Cannot convert current selection to ".concat(e21)));
  }
  function Be2() {
    var e21 = Yj(v2, X2, ee2, false), t3 = _m(ee2.focusPath);
    !Ym(e21.focusPath) && Zm(t3, _m(e21.focusPath)) ? n2(9, ee2 = sx(v2, X2, { type: Fj, path: e21.focusPath })) : n2(9, ee2 = sx(v2, X2, { type: Vj, path: t3 })), c2("insert before", { selection: ee2, selectionBefore: e21, parentPath: t3 }), oa().then(dt2);
  }
  function qe2() {
    var e21 = ee2.paths ? Gv(ee2.paths) : ee2.focusPath;
    c2("insert after", e21), n2(9, ee2 = sx(v2, X2, { type: Fj, path: e21 })), oa().then(dt2);
  }
  function Fe2(e21, t3) {
    var n3 = Px(d2).document.activeElement;
    n3.isContentEditable && (n3.textContent = t3 ? e21 : n3.textContent + e21, Ox(n3));
  }
  function Ve2(e21) {
    return He2.apply(this, arguments);
  }
  function He2() {
    return (He2 = yi(mi().mark(function e21(t3) {
      var r3, i3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (!C2 && ee2) {
                e22.next = 2;
                break;
              }
              return e22.abrupt("return");
            case 2:
              if (ee2.type !== Hj) {
                e22.next = 9;
                break;
              }
              return r3 = !ee2.edit, n2(9, ee2 = Ei(Ei({}, ee2), {}, { edit: true })), e22.next = 7, oa();
            case 7:
              return setTimeout(function() {
                return Fe2(t3, r3);
              }), e22.abrupt("return");
            case 9:
              if (t3 !== "{") {
                e22.next = 13;
                break;
              }
              De2("object"), e22.next = 28;
              break;
            case 13:
              if (t3 !== "[") {
                e22.next = 17;
                break;
              }
              De2("array"), e22.next = 28;
              break;
            case 17:
              if (ee2.type !== Wj) {
                e22.next = 26;
                break;
              }
              if (zs(ws.exports.getIn(v2, ee2.focusPath))) {
                e22.next = 24;
                break;
              }
              return i3 = !ee2.edit, n2(9, ee2 = Ei(Ei({}, ee2), {}, { edit: true })), e22.next = 23, oa();
            case 23:
              setTimeout(function() {
                return Fe2(t3, i3);
              });
            case 24:
              e22.next = 28;
              break;
            case 26:
              return e22.next = 28, We2(t3);
            case 28:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function We2(e21) {
    return Ue2.apply(this, arguments);
  }
  function Ue2() {
    return (Ue2 = yi(mi().mark(function e21(t3) {
      var r3, i3, o3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (!C2 && ee2) {
                e22.next = 2;
                break;
              }
              return e22.abrupt("return");
            case 2:
              return De2("value"), r3 = !ee2.edit, i3 = ee2.focusPath, o3 = ws.exports.getIn(v2, _m(i3)), n2(9, ee2 = sx(v2, X2, { type: Array.isArray(o3) || !o3 || ee2.type === Wj ? Wj : Hj, path: i3, edit: true })), e22.next = 9, oa();
            case 9:
              setTimeout(function() {
                return Fe2(t3, r3);
              });
            case 10:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function Je2() {
    if (!C2 && me2.getState().canUndo) {
      var e21 = me2.undo();
      if (e21) {
        var t3 = { json: v2, text: p2 };
        n2(9, ee2 = e21.undo.selection), n2(7, v2 = e21.undo.patch ? ws.exports.immutableJSONPatch(v2, e21.undo.patch) : e21.undo.json), n2(14, X2 = e21.undo.state), n2(8, p2 = e21.undo.text), n2(21, ye2 = e21.undo.textIsRepaired), c2("undo", { item: e21, json: v2, state: X2, selection: ee2 }), rt2(t3, { json: v2, previousJson: t3.json, redo: e21.undo.patch, undo: e21.redo.patch }), pt2(), ee2 && Xe2(ee2.focusPath);
      }
    }
  }
  function Ke2() {
    if (!C2 && me2.getState().canRedo) {
      var e21 = me2.redo();
      if (e21) {
        var t3 = { json: v2, text: p2 };
        n2(9, ee2 = e21.redo.selection), n2(7, v2 = e21.redo.patch ? ws.exports.immutableJSONPatch(v2, e21.redo.patch) : e21.redo.json), n2(14, X2 = e21.redo.state), n2(8, p2 = e21.redo.text), n2(21, ye2 = e21.redo.textIsRepaired), c2("redo", { item: e21, json: v2, state: X2, selection: ee2 }), rt2(t3, { json: v2, previousJson: t3.json, redo: e21.redo.patch, undo: e21.undo.patch }), pt2(), ee2 && Xe2(ee2.focusPath);
      }
    }
  }
  function Ge2(e21) {
    var t3;
    C2 || (Y2 = true, G2({ id: g2, json: v2, selectedPath: e21, onSort: (t3 = yi(mi().mark(function t4(n3) {
      return mi().wrap(function(t5) {
        for (; ; )
          switch (t5.prev = t5.next) {
            case 0:
              c2("onSort", e21, n3), it2(n3, function(t6, n4) {
                return { state: at2(t6, n4, e21), selection: sx(t6, n4, { type: Wj, path: e21 }) };
              });
            case 2:
            case "end":
              return t5.stop();
          }
      }, t4);
    })), function(e22) {
      return t3.apply(this, arguments);
    }), onClose: function() {
      Y2 = false, pt2();
    } }));
  }
  function Qe2() {
    ee2 && Ge2(ix(v2, ee2));
  }
  function Ye2(e21) {
    var t3 = e21.id, n3 = e21.selectedPath, r3 = e21.onTransform, i3 = e21.onClose;
    Y2 = true, Q2({ id: t3 || y2, json: v2, selectedPath: n3, onTransform: r3 ? function(e22) {
      r3({ operations: e22, json: v2, transformedJson: ws.exports.immutableJSONPatch(v2, e22) });
    } : function(e22) {
      c2("onTransform", n3, e22), it2(e22, function(e23, t4) {
        return { state: at2(e23, t4, n3), selection: sx(e23, t4, { type: Wj, path: n3 }) };
      });
    }, onClose: function() {
      Y2 = false, pt2(), i3 && i3();
    } });
  }
  function Ze2() {
    ee2 && Ye2({ selectedPath: ix(v2, ee2) });
  }
  function Xe2(e21) {
    return et2.apply(this, arguments);
  }
  function et2() {
    return (et2 = yi(mi().mark(function e21(t3) {
      var r3, i3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return n2(14, X2 = Sj(v2, X2, t3)), e22.next = 3, oa();
            case 3:
              (r3 = tt2(t3)) && (c2("scrollTo", { path: t3, elem: r3, refContents: f2 }), i3 = -f2.getBoundingClientRect().height / 4, x2(r3, { container: f2, offset: i3, duration: 300 }));
            case 5:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function tt2(e21) {
    return f2 ? f2.querySelector('div[data-path="'.concat(Tx(e21), '"]')) : null;
  }
  function nt2(e21) {
    var t3 = tt2(e21);
    if (t3 && f2) {
      var n3 = f2.getBoundingClientRect(), r3 = t3.getBoundingClientRect(), i3 = zs(ws.exports.getIn(v2, e21)) ? 20 : r3.height;
      r3.top < n3.top + 20 ? x2(t3, { container: f2, offset: -20, duration: 0 }) : r3.top + i3 > n3.bottom - 20 && x2(t3, { container: f2, offset: -(n3.height - i3 - 20), duration: 0 });
    }
  }
  function rt2(e21, t3) {
    p2 !== void 0 ? B2({ text: p2, json: void 0 }, e21, t3) : v2 !== void 0 && B2({ text: void 0, json: v2 }, e21, t3);
  }
  function it2(e21, t3) {
    if (!C2) {
      c2("handlePatch", e21, t3);
      var r3 = { json: v2, text: p2 }, i3 = xe2(e21, t3);
      return n2(15, Z2 = void 0), rt2(r3, i3), i3;
    }
  }
  function ot2(e21, t3) {
    var r3 = X2, i3 = v2, o3 = p2, a3 = { json: v2, text: p2 }, s3 = ye2, u3 = ee2, c3 = wj(e21, r3, [], FH), l3 = typeof t3 == "function" ? t3(e21, c3, ee2) : void 0;
    n2(7, v2 = l3 && l3.json !== void 0 ? l3.json : e21), n2(14, X2 = l3 && l3.state !== void 0 ? l3.state : c3), n2(8, p2 = void 0), n2(21, ye2 = false), n2(9, ee2 = l3 && l3.selection ? l3.selection : ee2), n2(9, ee2 = we2(ee2, v2)), ke2({ previousJson: i3, previousState: r3, previousText: o3, previousTextIsRepaired: s3, previousSelection: u3 });
    rt2(a3, null);
  }
  function at2(e21, t3, n3) {
    return Cj(e21, t3, n3, !au({ json: ws.exports.getIn(e21, n3) }, 10240) ? VH : FH);
  }
  function st2(e21, t3) {
    var r3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2];
    n2(14, X2 = t3 ? Cj(v2, X2, e21, r3 ? VH : FH) : _j(v2, X2, e21)), ee2 && !t3 && Qj(ee2, e21) && n2(9, ee2 = null), setTimeout(function() {
      Ax(d2) || pt2();
    });
  }
  function ut2(e21, t3) {
    n2(9, ee2 = e21 ? sx(v2, X2, e21) : null), (t3 == null ? void 0 : t3.ensureFocus) !== false && setTimeout(function() {
      return pt2();
    });
  }
  function ct2(e21) {
    c2("openFind", { findAndReplace: e21 }), n2(16, re2 = false), n2(17, ie2 = false), oa().then(function() {
      n2(16, re2 = true), n2(17, ie2 = e21);
    });
  }
  function lt2(e21, t3) {
    c2("handleExpandSection", e21, t3), n2(14, X2 = function(e22, t4, n3, r3) {
      return wj(e22, ws.exports.updateIn(t4, n3.concat(ts), function(e23) {
        return gj(e23.concat(r3));
      }), n3, function() {
        return false;
      });
    }(v2, X2, e21, t3));
  }
  function ft2(e21) {
    c2("pasted json as text", e21), n2(15, Z2 = e21);
  }
  function ht2(e21) {
    var t3 = e21.anchor, n3 = e21.left, r3 = e21.top, i3 = e21.width, o3 = e21.height, a3 = e21.offsetTop, s3 = e21.offsetLeft, u3 = e21.showTip;
    Y2 = true, w2(Hq, { json: v2, state: X2, selection: ee2, showTip: u3, onEditKey: Ce2, onEditValue: _e2, onToggleEnforceString: $e2, onCut: Oe2, onCopy: Ae2, onPaste: Me2, onRemove: Ie2, onDuplicate: Ne2, onExtract: Re2, onInsertBefore: Be2, onInsert: Le2, onConvert: ze2, onInsertAfter: qe2, onSort: Qe2, onTransform: Ze2, onCloseContextMenu: function() {
      k2(), pt2();
    } }, { left: n3, top: r3, offsetTop: a3, offsetLeft: s3, width: i3, height: o3, anchor: t3, closeOnOuterClick: true, onClose: function() {
      Y2 = false, pt2();
    } });
  }
  function dt2(e21) {
    if (!C2 && !(ee2 == null ? void 0 : ee2.edit)) {
      if (e21 && (e21.stopPropagation(), e21.preventDefault()), e21 && e21.type === "contextmenu" && e21.target !== h2)
        ht2({ left: e21.clientX, top: e21.clientY, width: 260, height: 336, showTip: false });
      else {
        var t3 = f2 == null ? void 0 : f2.querySelector(".jse-context-menu-button.jse-selected");
        if (t3)
          ht2({ anchor: t3, offsetTop: 2, width: 260, height: 336, showTip: false });
        else {
          var n3 = f2 == null ? void 0 : f2.getBoundingClientRect();
          n3 && ht2({ top: n3.top + 2, left: n3.left + 2, width: 260, height: 336, showTip: false });
        }
      }
      return false;
    }
  }
  function vt2() {
    return (vt2 = yi(mi().mark(function e21() {
      var t3, r3, i3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return c2("apply pasted json", Z2), r3 = (t3 = Z2).path, i3 = t3.contents, n2(9, ee2 = sx(v2, X2, { type: Wj, path: r3 })), e22.next = 5, oa();
            case 5:
              it2([{ op: "replace", path: ws.exports.compileJSONPointer(r3), value: i3 }], function(e23, t4) {
                return { state: at2(e23, t4, r3) };
              });
            case 7:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function pt2() {
    h2 && (h2.focus(), h2.select());
  }
  function mt2() {
    return v2;
  }
  function gt2() {
    return X2;
  }
  function yt2() {
    return ee2;
  }
  return e20.$$set = function(e21) {
    "readOnly" in e21 && n2(0, C2 = e21.readOnly), "externalContent" in e21 && n2(49, _2 = e21.externalContent), "mainMenuBar" in e21 && n2(1, O2 = e21.mainMenuBar), "navigationBar" in e21 && n2(2, A2 = e21.navigationBar), "escapeControlCharacters" in e21 && n2(50, M2 = e21.escapeControlCharacters), "escapeUnicodeCharacters" in e21 && n2(51, I2 = e21.escapeUnicodeCharacters), "validator" in e21 && n2(52, R2 = e21.validator), "indentation" in e21 && n2(53, L2 = e21.indentation), "onError" in e21 && n2(54, z2 = e21.onError), "onChange" in e21 && n2(55, B2 = e21.onChange), "onRenderValue" in e21 && n2(56, q2 = e21.onRenderValue), "onRequestRepair" in e21 && n2(3, V2 = e21.onRequestRepair), "onRenderMenu" in e21 && n2(4, W2 = e21.onRenderMenu), "onClassName" in e21 && n2(57, U2 = e21.onClassName), "onFocus" in e21 && n2(58, J2 = e21.onFocus), "onBlur" in e21 && n2(59, K2 = e21.onBlur), "onSortModal" in e21 && n2(60, G2 = e21.onSortModal), "onTransformModal" in e21 && n2(61, Q2 = e21.onTransformModal);
  }, e20.$$.update = function() {
    1572864 & e20.$$.dirty[1] && n2(71, r2 = hx({ escapeControlCharacters: M2, escapeUnicodeCharacters: I2 })), 640 & e20.$$.dirty[0] && n2(23, i2 = cx(v2, ee2)), 128 & e20.$$.dirty[0] | 128 & e20.$$.dirty[2] && pe2(ae2, v2), 262144 & e20.$$.dirty[1] && be2(_2), e20.$$.dirty[0], 128 & e20.$$.dirty[0] | 2097152 & e20.$$.dirty[1] && n2(11, o2 = R2 ? R2(v2) : []), 2048 & e20.$$.dirty[0] && n2(22, a2 = function(e21) {
      var t3;
      return e21.forEach(function(e22) {
        var n3 = e22.path.concat([ss]);
        t3 = ws.exports.setIn(t3, n3, e22, true);
      }), e21.forEach(function(e22) {
        for (var n3 = e22.path; n3.length > 0; ) {
          var r3 = (n3 = _m(n3)).concat([ss]);
          if (!ws.exports.existsIn(t3, r3)) {
            var i3 = { isChildError: true, path: n3, message: "Contains invalid data" };
            t3 = ws.exports.setIn(t3, r3, i3, true);
          }
        }
      }), t3;
    }(o2)), 64 & e20.$$.dirty[0] && n2(70, u2 = IB(f2)), 1 & e20.$$.dirty[0] | 100663296 & e20.$$.dirty[1] | 768 & e20.$$.dirty[2] && n2(10, s2 = { readOnly: C2, normalization: r2, getFullJson: mt2, getFullState: gt2, getFullSelection: yt2, findElement: tt2, focus: pt2, onPatch: it2, onInsert: De2, onExpand: st2, onSelect: ut2, onFind: ct2, onPasteJson: ft2, onExpandSection: lt2, onRenderValue: q2, onContextMenu: ht2, onClassName: U2 || wc, onDrag: u2.onDrag, onDragEnd: u2.onDragEnd }), 1024 & e20.$$.dirty[0] && c2("context changed", s2);
  }, [C2, O2, A2, V2, W2, function() {
    return ye2 && v2 !== void 0 && ot2(v2), { json: v2, text: p2 };
  }, f2, v2, p2, ee2, s2, o2, h2, d2, X2, Z2, re2, ie2, oe2, ne2, ge2, ye2, a2, i2, l2, [], se2, function() {
    return ce2.apply(this, arguments);
  }, function() {
    return le2.apply(this, arguments);
  }, function(e21, t3) {
    return fe2.apply(this, arguments);
  }, function(e21, t3) {
    return he2.apply(this, arguments);
  }, function() {
    n2(16, re2 = false), n2(17, ie2 = false), se2(""), pt2();
  }, function(e21) {
    c2("select validation error", e21), n2(9, ee2 = sx(v2, X2, { type: Wj, path: e21.path })), Xe2(e21.path), pt2();
  }, Ae2, function(e21) {
    if (e21.preventDefault(), !C2) {
      var t3 = e21.clipboardData.getData("text/plain");
      try {
        Te2(t3);
      } catch (e22) {
        !function(e23, t4) {
          m2(xq, { text: e23, onParse: eu, onRepair: tu, onApply: t4, onRenderMenu: W2, onFocus: J2, onBlur: K2 }, Ei(Ei({}, cs), {}, { styleWindow: Ei(Ei({}, cs.styleWindow), {}, { width: "600px", height: "500px" }), styleContent: { padding: 0, height: "100%" } }), { onClose: function() {
            return pt2();
          } });
        }(t3, function(e23) {
          c2("repaired pasted text: ", e23), Te2(e23);
        });
      }
    }
  }, Je2, Ke2, function() {
    Ge2([]);
  }, function() {
    Ye2({ selectedPath: [] });
  }, function() {
    st2([], true, true);
  }, function() {
    st2([], false, true);
  }, function(e21) {
    var t3 = Dx(e21).replace(/^Command\+/, "Ctrl+"), r3 = e21.shiftKey;
    if (t3 === "Ctrl+X" && (e21.preventDefault(), Oe2(true)), t3 === "Ctrl+Shift+X" && (e21.preventDefault(), Oe2(false)), t3 === "Ctrl+C" && (e21.preventDefault(), Ae2(true)), t3 === "Ctrl+Shift+C" && (e21.preventDefault(), Ae2(false)), t3 === "Ctrl+D" && (e21.preventDefault(), Ne2()), t3 !== "Delete" && t3 !== "Backspace" || (e21.preventDefault(), Ie2()), t3 === "Insert" && (e21.preventDefault(), De2("structure")), t3 === "Ctrl+A" && (e21.preventDefault(), n2(9, ee2 = { type: Wj, anchorPath: [], focusPath: [] })), t3 === "Ctrl+Q" && dt2(e21), t3 !== "Up" && t3 !== "Shift+Up" || (e21.preventDefault(), n2(9, ee2 = ee2 ? Yj(v2, X2, ee2, r3, true) || ee2 : ex(v2, X2)), nt2(ee2.focusPath)), t3 !== "Down" && t3 !== "Shift+Down" || (e21.preventDefault(), n2(9, ee2 = ee2 ? Zj(v2, X2, ee2, r3, true) || ee2 : ex(v2, X2)), nt2(ee2.focusPath)), t3 !== "Left" && t3 !== "Shift+Left" || (e21.preventDefault(), n2(9, ee2 = ee2 ? function(e22, t4, n3) {
      var r4 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], i4 = Xj(e22, t4, n3, !(arguments.length > 4 && arguments[4] !== void 0) || arguments[4]), o4 = i4.caret, a4 = i4.previous;
      if (r4)
        return n3.type !== Uj ? sx(e22, t4, { type: Uj, anchorPath: n3.anchorPath, focusPath: n3.focusPath }) : null;
      if (o4 && a4)
        return sx(e22, t4, { type: a4.type, path: a4.path });
      var s4 = _m(n3.focusPath), u4 = ws.exports.getIn(e22, s4);
      return n3.type === Wj && Array.isArray(u4) ? sx(e22, t4, { type: Uj, anchorPath: n3.focusPath, focusPath: n3.focusPath }) : n3.type !== Uj || Array.isArray(u4) ? null : sx(e22, t4, { type: Hj, path: n3.focusPath });
    }(v2, X2, ee2, r3, !C2) || ee2 : ex(v2, X2)), nt2(ee2.focusPath)), t3 !== "Right" && t3 !== "Shift+Right" || (e21.preventDefault(), n2(9, ee2 = ee2 ? function(e22, t4, n3) {
      var r4 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], i4 = Xj(e22, t4, n3, !(arguments.length > 4 && arguments[4] !== void 0) || arguments[4]), o4 = i4.caret, a4 = i4.next;
      return r4 ? n3.type !== Uj ? sx(e22, t4, { type: Uj, anchorPath: n3.anchorPath, focusPath: n3.focusPath }) : null : o4 && a4 ? sx(e22, t4, { type: a4.type, path: a4.path }) : n3.type === Uj ? sx(e22, t4, { type: Wj, path: n3.focusPath }) : null;
    }(v2, X2, ee2, r3, !C2) || ee2 : ex(v2, X2)), nt2(ee2.focusPath)), t3 === "Enter" && ee2) {
      if (!C2 && ee2.type === Uj && ee2.paths.length === 1) {
        var i3 = ee2.focusPath, o3 = ws.exports.getIn(v2, _m(i3));
        Array.isArray(o3) && n2(9, ee2 = sx(v2, X2, { type: Wj, path: i3 }));
      }
      if (C2 || ee2.type !== Hj || (e21.preventDefault(), n2(9, ee2 = Ei(Ei({}, ee2), {}, { edit: true }))), ee2.type === Wj)
        e21.preventDefault(), zs(ws.exports.getIn(v2, ee2.focusPath)) ? st2(ee2.focusPath, true) : C2 || n2(9, ee2 = Ei(Ei({}, ee2), {}, { edit: true }));
    }
    if (t3.length === (t3.startsWith("Shift+") ? 7 : 1) && ee2)
      return e21.preventDefault(), void Ve2(e21.key);
    if (t3 === "Enter" && (ee2.type === Fj || ee2.type === Vj))
      return e21.preventDefault(), void Ve2("");
    if (t3 === "Ctrl+Enter" && ee2 && ee2.type === Wj) {
      var a3 = ws.exports.getIn(v2, ee2.focusPath);
      Vs(a3) && window.open(a3, "_blank");
    }
    if (t3 === "Escape" && ee2 && (e21.preventDefault(), n2(9, ee2 = null)), t3 === "Ctrl+F" && (e21.preventDefault(), ct2(false)), t3 === "Ctrl+H" && (e21.preventDefault(), ct2(true)), t3 === "Ctrl+Z") {
      e21.preventDefault();
      var s3 = document.activeElement;
      s3 && s3.blur && s3.focus ? (s3.blur(), setTimeout(function() {
        Je2(), setTimeout(function() {
          return s3.select();
        });
      })) : Je2();
    }
    if (t3 === "Ctrl+Shift+Z") {
      e21.preventDefault();
      var u3 = document.activeElement;
      u3 && u3.blur && u3.focus ? (u3.blur(), setTimeout(function() {
        Ke2(), setTimeout(function() {
          return u3.select();
        });
      })) : Ke2();
    }
  }, function(e21) {
    c2("handleMouseDown", e21), setTimeout(function() {
      setTimeout(function() {
        j2 || Sx(e21.target, "BUTTON") || (pt2(), ee2 || v2 !== void 0 || p2 !== "" && p2 !== void 0 || n2(9, ee2 = je2()));
      });
    });
  }, dt2, function(e21) {
    C2 || ht2({ anchor: Ex(e21.target, "BUTTON"), offsetTop: 0, width: 260, height: 336, showTip: true });
  }, function() {
    return vt2.apply(this, arguments);
  }, function() {
    c2("clear pasted json"), n2(15, Z2 = void 0);
  }, function(e21) {
    n2(9, ee2 = e21), pt2(), Xe2(e21.focusPath);
  }, function(e21) {
    !_x(e21.target, function(e22) {
      return e22 === d2;
    }) && ee2 && ee2.edit && (c2("click outside the editor, stop edit mode"), n2(9, ee2 = Ei(Ei({}, ee2), {}, { edit: false })), j2 && h2 && (h2.focus(), h2.blur()), oa().then(function() {
      setTimeout(function() {
        h2 && h2.blur();
      });
    }));
  }, _2, M2, I2, R2, L2, z2, B2, q2, U2, J2, K2, G2, Q2, function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : function() {
      return true;
    };
    n2(14, X2 = wj(v2, X2, [], e21, true));
  }, function() {
    return v2;
  }, xe2, Ye2, Xe2, tt2, pt2, ae2, u2, r2, function(e21) {
    n2(16, re2 = e21);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(12, h2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(6, f2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(13, d2 = e21);
    });
  }];
}
var WH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, HH, qH, Ki, { readOnly: 0, externalContent: 49, mainMenuBar: 1, navigationBar: 2, escapeControlCharacters: 50, escapeUnicodeCharacters: 51, validator: 52, indentation: 53, onError: 54, onChange: 55, onRenderValue: 56, onRequestRepair: 3, onRenderMenu: 4, onClassName: 57, onFocus: 58, onBlur: 59, onSortModal: 60, onTransformModal: 61, expand: 62, get: 63, patch: 64, acceptAutoRepair: 5, openTransformModal: 65, scrollTo: 66, findElement: 67, focus: 68 }, AH, [-1, -1, -1, -1, -1]), r2;
  }
  return Li(n2, [{ key: "expand", get: function() {
    return this.$$.ctx[62];
  } }, { key: "get", get: function() {
    return this.$$.ctx[63];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[64];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[5];
  } }, { key: "openTransformModal", get: function() {
    return this.$$.ctx[65];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[66];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[67];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[68];
  } }]), n2;
}(), UH = { id: "javascript", name: "JavaScript", description: "\n<p>\n  Enter a JavaScript function to filter, sort, or transform the data.\n</p>\n", createQuery: function(e20, t2) {
  var n2 = t2.filter, r2 = t2.sort, i2 = t2.projection, o2 = [];
  if (n2 && n2.path && n2.relation && n2.value) {
    var a2 = "item => item".concat(iC(n2.path)), s2 = typeof zB(n2.value) == "string" ? "'".concat(n2.value, "'") : n2.value;
    o2.push("  data = data.filter(".concat(a2, " ").concat(n2.relation, " ").concat(s2, ")\n"));
  }
  r2 && r2.path && r2.direction && (r2.direction === "desc" ? o2.push("  data = data.slice().sort((a, b) => {\n    // sort descending\n" + "    const valueA = a".concat(iC(r2.path), "\n") + "    const valueB = b".concat(iC(r2.path), "\n") + "    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0\n  })\n") : o2.push("  data = data.slice().sort((a, b) => {\n    // sort ascending\n" + "    const valueA = a".concat(iC(r2.path), "\n") + "    const valueB = b".concat(iC(r2.path), "\n") + "    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0\n  })\n"));
  if (i2 && i2.paths)
    if (i2.paths.length > 1) {
      var u2 = i2.paths.map(function(e21) {
        var t3 = e21[e21.length - 1] || "item", n3 = "item".concat(iC(e21));
        return "    ".concat(JSON.stringify(t3), ": ").concat(n3);
      });
      o2.push("  data = data.map(item => ({\n".concat(u2.join(",\n"), "})\n  )\n"));
    } else {
      var c2 = "item".concat(iC(i2.paths[0]));
      o2.push("  data = data.map(item => ".concat(c2, ")\n"));
    }
  return o2.push("  return data\n"), "function query (data) {\n".concat(o2.join(""), "}");
}, executeQuery: function(e20, t2) {
  var n2 = new Function('"use strict";\n\n' + t2 + `

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(e20);
  return n2 !== void 0 ? n2 : null;
} };
function JH(e20) {
  co(e20, "svelte-zs5o25", ".jse-boolean-toggle.svelte-zs5o25{color:var(--jse-value-color-boolean);position:relative;padding-left:calc(0.5 * var(--jse-padding));padding-top:1px;height:var(--jse-line-height)}");
}
function KH(e20) {
  var t2, n2, r2, i2, o2, a2;
  return n2 = new KS({ props: { data: e20[0] === true ? Rq : Nq } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-boolean-toggle svelte-zs5o25"), So(t2, "title", r2 = e20[1] ? "Boolean value ".concat(e20[0]) : "Click to toggle this boolean value");
  }, m: function(r3, s2) {
    vo(r3, t2, s2), Aa(n2, t2, null), i2 = true, o2 || (a2 = jo(t2, "mousedown", e20[2]), o2 = true);
  }, p: function(e21, o3) {
    var a3 = ji(o3, 1)[0], s2 = {};
    1 & a3 && (s2.data = e21[0] === true ? Rq : Nq), n2.$set(s2), (!i2 || 3 & a3 && r2 !== (r2 = e21[1] ? "Boolean value ".concat(e21[0]) : "Click to toggle this boolean value")) && So(t2, "title", r2);
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), o2 = false, a2();
  } };
}
function GH(e20, t2, n2) {
  var r2 = t2.path, i2 = t2.value, o2 = t2.readOnly, a2 = t2.onPatch, s2 = t2.onSelect;
  return e20.$$set = function(e21) {
    "path" in e21 && n2(3, r2 = e21.path), "value" in e21 && n2(0, i2 = e21.value), "readOnly" in e21 && n2(1, o2 = e21.readOnly), "onPatch" in e21 && n2(4, a2 = e21.onPatch), "onSelect" in e21 && n2(5, s2 = e21.onSelect);
  }, [i2, o2, function(e21) {
    e21.stopPropagation(), o2 || (a2([{ op: "replace", path: ws.exports.compileJSONPointer(r2), value: !i2 }]), s2({ type: Wj, path: r2 }));
  }, r2, a2, s2];
}
var QH = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, GH, KH, Ki, { path: 3, value: 0, readOnly: 1, onPatch: 4, onSelect: 5 }, JH), r2;
  }
  return Li(n2);
}();
function YH(e20) {
  co(e20, "svelte-1gn8yt9", ".jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background);line-height:normal}.jse-color-picker-popup.svelte-1gn8yt9 .picker_slider,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sl,.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sample,.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input{background:var(--jse-background-color);color:var(--jse-text-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{background:var(--jse-button-background);color:var(--jse-button-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button:hover{background:var(--jse-button-background-highlight)}");
}
function ZH(e20) {
  var t2;
  return { c: function() {
    So(t2 = go("div"), "class", "jse-color-picker-popup svelte-1gn8yt9");
  }, m: function(n2, r2) {
    vo(n2, t2, r2), e20[4](t2);
  }, p: Bi, i: Bi, o: Bi, d: function(n2) {
    n2 && po(t2), e20[4](null);
  } };
}
function XH(e20, t2, n2) {
  var r2, i2, o2 = t2.color, a2 = t2.onChange, s2 = t2.showOnTop;
  return Jo(yi(mi().mark(function e21() {
    var t3;
    return mi().wrap(function(e22) {
      for (; ; )
        switch (e22.prev = e22.next) {
          case 0:
            return e22.next = 2, Promise.resolve().then(function() {
              return iK;
            });
          case 2:
            t3 = e22.sent.default, (i2 = new t3({ parent: r2, color: o2, popup: s2 ? "top" : "bottom", onDone: function(e23) {
              var t4 = e23.rgba[3] === 1 ? e23.hex.substring(0, 7) : e23.hex;
              a2(t4);
            } })).show();
          case 5:
          case "end":
            return e22.stop();
        }
    }, e21);
  }))), Ko(function() {
    i2 && i2.destroy();
  }), e20.$$set = function(e21) {
    "color" in e21 && n2(1, o2 = e21.color), "onChange" in e21 && n2(2, a2 = e21.onChange), "showOnTop" in e21 && n2(3, s2 = e21.showOnTop);
  }, [r2, o2, a2, s2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(0, r2 = e21);
    });
  }];
}
var eW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, XH, ZH, Ji, { color: 1, onChange: 2, showOnTop: 3 }, YH), r2;
  }
  return Li(n2);
}();
function tW(e20) {
  co(e20, "svelte-fk1u9y", ".jse-color-picker-button.svelte-fk1u9y{font-size:var(--jse-font-size-mono);width:var(--jse-color-picker-button-size);height:var(--jse-color-picker-button-size);box-sizing:border-box;padding:0;margin:2px;border:1px solid var(--jse-text-color);border-radius:2px;background:inherit;outline:none;cursor:pointer}");
}
function nW(e20) {
  var t2, n2, r2, i2;
  return { c: function() {
    So(t2 = go("button"), "class", "jse-color-picker-button svelte-fk1u9y"), Eo(t2, "background", e20[2]), So(t2, "title", n2 = e20[1] ? "Color ".concat(e20[0]) : "Click to open a color picker");
  }, m: function(n3, o2) {
    vo(n3, t2, o2), r2 || (i2 = jo(t2, "click", e20[3]), r2 = true);
  }, p: function(e21, r3) {
    var i3 = ji(r3, 1)[0];
    4 & i3 && Eo(t2, "background", e21[2]), 3 & i3 && n2 !== (n2 = e21[1] ? "Color ".concat(e21[0]) : "Click to open a color picker") && So(t2, "title", n2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2), r2 = false, i2();
  } };
}
function rW(e20, t2, n2) {
  var r2, i2 = Yo("absolute-popup").openAbsolutePopup, o2 = t2.path, a2 = t2.value, s2 = t2.readOnly, u2 = t2.onPatch, c2 = t2.onSelect;
  function l2(e21) {
    u2([{ op: "replace", path: ws.exports.compileJSONPointer(o2), value: e21 }]), f2();
  }
  function f2() {
    c2({ type: Wj, path: o2 });
  }
  return e20.$$set = function(e21) {
    "path" in e21 && n2(4, o2 = e21.path), "value" in e21 && n2(0, a2 = e21.value), "readOnly" in e21 && n2(1, s2 = e21.readOnly), "onPatch" in e21 && n2(5, u2 = e21.onPatch), "onSelect" in e21 && n2(6, c2 = e21.onSelect);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty && n2(2, r2 = Bs(a2));
  }, [a2, s2, r2, function(e21) {
    if (!s2) {
      var t3 = e21.target.getBoundingClientRect().top, n3 = Px(e21.target).innerHeight;
      i2(eW, { color: a2, onChange: l2, showOnTop: n3 - t3 < 300 && t3 > 300 }, { anchor: e21.target, closeOnOuterClick: true, onClose: f2, offsetTop: 18, offsetLeft: -8, height: 300 });
    }
  }, o2, u2, c2];
}
var iW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, rW, nW, Ki, { path: 4, value: 0, readOnly: 1, onPatch: 5, onSelect: 6 }, tW), r2;
  }
  return Li(n2);
}();
function oW(e20) {
  var t2 = qs(e20);
  return Uq("jse-value", "jse-" + t2, { "jse-url": Vs(e20), "jse-empty": typeof e20 == "string" && e20.length === 0 });
}
function aW(e20) {
  var t2, n2;
  return t2 = new mF({ props: { value: e20[1].escapeValue(e20[0]), onChange: e20[3], onCancel: e20[4], onPaste: e20[5], onFind: e20[2], onValueClass: e20[6] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = ji(n3, 1)[0], i2 = {};
    3 & r2 && (i2.value = e21[1].escapeValue(e21[0])), 4 & r2 && (i2.onFind = e21[2]), t2.$set(i2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function sW(e20, t2, n2) {
  var r2 = t2.path, i2 = t2.value, o2 = t2.normalization, a2 = t2.enforceString, s2 = t2.onPatch, u2 = t2.onPasteJson, c2 = t2.onSelect, l2 = t2.onFind;
  function f2(e21) {
    return a2 ? e21 : Hs(e21);
  }
  return e20.$$set = function(e21) {
    "path" in e21 && n2(7, r2 = e21.path), "value" in e21 && n2(0, i2 = e21.value), "normalization" in e21 && n2(1, o2 = e21.normalization), "enforceString" in e21 && n2(8, a2 = e21.enforceString), "onPatch" in e21 && n2(9, s2 = e21.onPatch), "onPasteJson" in e21 && n2(10, u2 = e21.onPasteJson), "onSelect" in e21 && n2(11, c2 = e21.onSelect), "onFind" in e21 && n2(2, l2 = e21.onFind);
  }, [i2, o2, l2, function(e21, t3) {
    s2([{ op: "replace", path: ws.exports.compileJSONPointer(r2), value: f2(o2.unescapeValue(e21)) }]), t3 === ms && c2({ type: Wj, path: r2, nextInside: true }), t3 === ps && c2({ type: Wj, path: r2 }, { ensureFocus: false });
  }, function() {
    c2({ type: Wj, path: r2 });
  }, function(e21) {
    try {
      var t3 = JSON.parse(e21);
      zs(t3) && u2({ path: r2, contents: t3 });
    } catch (e22) {
    }
  }, function(e21) {
    return oW(f2(o2.unescapeValue(e21)));
  }, r2, a2, s2, u2, c2];
}
var uW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, sW, aW, Ki, { path: 7, value: 0, normalization: 1, enforceString: 8, onPatch: 9, onPasteJson: 10, onSelect: 11, onFind: 2 }), r2;
  }
  return Li(n2);
}();
function cW(e20) {
  co(e20, "svelte-6ci2p7", '.jse-value.jse-string.svelte-6ci2p7{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-6ci2p7,.jse-value.jse-array.svelte-6ci2p7{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-6ci2p7{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-6ci2p7{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-6ci2p7{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-6ci2p7{color:var(--jse-text-color)}.jse-value.jse-url.svelte-6ci2p7{color:var(--jse-value-color-url);text-decoration:underline}.jse-value.svelte-6ci2p7{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-6ci2p7:hover{background:var(--jse-hover-background-color)}.jse-value.jse-empty.svelte-6ci2p7{min-width:4em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-value.jse-empty.svelte-6ci2p7::after{pointer-events:none;color:var(--jse-tag-background);content:"value"}');
}
function lW(e20) {
  var t2, n2 = xx(e20[1].escapeValue(e20[0])) + "";
  return { c: function() {
    t2 = bo(n2);
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, r2) {
    3 & r2 && n2 !== (n2 = xx(e21[1].escapeValue(e21[0])) + "") && Po(t2, n2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function fW(e20) {
  var t2, n2;
  return t2 = new hF({ props: { text: e20[1].escapeValue(e20[0]), searchResult: e20[2] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    3 & n3 && (r2.text = e21[1].escapeValue(e21[0])), 4 & n3 && (r2.searchResult = e21[2]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function hW(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2 = [fW, lW], l2 = [];
  function f2(e21, t3) {
    return e21[2] ? 0 : 1;
  }
  return n2 = f2(e20), r2 = l2[n2] = c2[n2](e20), { c: function() {
    t2 = go("div"), r2.c(), So(t2, "data-type", "selectable-value"), So(t2, "class", i2 = eo(oW(e20[0])) + " svelte-6ci2p7"), So(t2, "title", o2 = e20[3] ? "Ctrl+Click or Ctrl+Enter to open url in new window" : null);
  }, m: function(r3, i3) {
    vo(r3, t2, i3), l2[n2].m(t2, null), a2 = true, s2 || (u2 = [jo(t2, "click", e20[4]), jo(t2, "dblclick", e20[5])], s2 = true);
  }, p: function(e21, s3) {
    var u3 = ji(s3, 1)[0], h2 = n2;
    (n2 = f2(e21)) === h2 ? l2[n2].p(e21, u3) : (ma(), ba(l2[h2], 1, 1, function() {
      l2[h2] = null;
    }), ga(), (r2 = l2[n2]) ? r2.p(e21, u3) : (r2 = l2[n2] = c2[n2](e21)).c(), ya(r2, 1), r2.m(t2, null)), (!a2 || 1 & u3 && i2 !== (i2 = eo(oW(e21[0])) + " svelte-6ci2p7")) && So(t2, "class", i2), (!a2 || 8 & u3 && o2 !== (o2 = e21[3] ? "Ctrl+Click or Ctrl+Enter to open url in new window" : null)) && So(t2, "title", o2);
  }, i: function(e21) {
    a2 || (ya(r2), a2 = true);
  }, o: function(e21) {
    ba(r2), a2 = false;
  }, d: function(e21) {
    e21 && po(t2), l2[n2].d(), s2 = false, Wi(u2);
  } };
}
function dW(e20, t2, n2) {
  var r2, i2 = t2.path, o2 = t2.value, a2 = t2.readOnly, s2 = t2.normalization, u2 = t2.onSelect, c2 = t2.searchResult;
  return e20.$$set = function(e21) {
    "path" in e21 && n2(6, i2 = e21.path), "value" in e21 && n2(0, o2 = e21.value), "readOnly" in e21 && n2(7, a2 = e21.readOnly), "normalization" in e21 && n2(1, s2 = e21.normalization), "onSelect" in e21 && n2(8, u2 = e21.onSelect), "searchResult" in e21 && n2(2, c2 = e21.searchResult);
  }, e20.$$.update = function() {
    1 & e20.$$.dirty && n2(3, r2 = Vs(o2));
  }, [o2, s2, c2, r2, function(e21) {
    typeof o2 == "string" && r2 && e21.ctrlKey && (e21.preventDefault(), e21.stopPropagation(), window.open(o2, "_blank"));
  }, function(e21) {
    a2 || (e21.preventDefault(), u2({ type: Wj, path: i2, edit: true }));
  }, i2, a2, u2];
}
var vW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, dW, hW, Ki, { path: 6, value: 0, readOnly: 7, normalization: 1, onSelect: 8, searchResult: 2 }, cW), r2;
  }
  return Li(n2);
}();
function pW(e20) {
  co(e20, "svelte-1u00zub", ".jse-timestamp.svelte-1u00zub{padding:0;margin:0;height:var(--jse-line-height);color:var(--jse-value-color-number);border-radius:3px}");
}
function mW(e20) {
  var t2, n2, r2, i2, o2, a2;
  return n2 = new KS({ props: { data: Tq } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-timestamp svelte-1u00zub");
  }, m: function(s2, u2) {
    vo(s2, t2, u2), Aa(n2, t2, null), i2 = true, o2 || (a2 = to(r2 = NF.call(null, t2, Ei({ text: e20[0] }, e20[1]))), o2 = true);
  }, p: function(e21, t3) {
    var n3 = ji(t3, 1)[0];
    r2 && Ui(r2.update) && 1 & n3 && r2.update.call(null, Ei({ text: e21[0] }, e21[1]));
  }, i: function(e21) {
    i2 || (ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), o2 = false, a2();
  } };
}
function gW(e20, t2, n2) {
  var r2, i2 = Yo("absolute-popup"), o2 = t2.value;
  return e20.$$set = function(e21) {
    "value" in e21 && n2(2, o2 = e21.value);
  }, e20.$$.update = function() {
    4 & e20.$$.dirty && n2(0, r2 = "Time: ".concat(new Date(o2).toString()));
  }, [r2, i2, o2];
}
var yW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, gW, mW, Ki, { value: 2 }, pW), r2;
  }
  return Li(n2);
}();
function bW(e20) {
  var t2 = e20.path, n2 = e20.value, r2 = e20.readOnly, i2 = e20.enforceString, o2 = e20.searchResult, a2 = e20.isEditing, s2 = e20.normalization, u2 = e20.onPatch, c2 = e20.onPasteJson, l2 = e20.onSelect, f2 = e20.onFind, h2 = [];
  return !a2 && function(e21) {
    return e21 === true || e21 === false;
  }(n2) && h2.push({ component: QH, props: { path: t2, value: n2, readOnly: r2, onPatch: u2, onSelect: l2 } }), !a2 && function(e21) {
    return typeof e21 == "string" && !!Bs(e21);
  }(n2) && h2.push({ component: iW, props: { path: t2, value: n2, readOnly: r2, onPatch: u2, onSelect: l2 } }), a2 && h2.push({ component: uW, props: { path: t2, value: n2, enforceString: i2, normalization: s2, onPatch: u2, onPasteJson: c2, onSelect: l2, onFind: f2 } }), a2 || h2.push({ component: vW, props: { path: t2, value: n2, readOnly: r2, normalization: s2, searchResult: o2, onSelect: l2 } }), !a2 && function(e21) {
    return typeof e21 == "number" && e21 > 9466848e5 && isFinite(e21) && Math.floor(e21) === e21 && !isNaN(new Date(e21).valueOf());
  }(n2) && h2.push({ component: yW, props: { value: n2 } }), h2;
}
var wW = {};
function kW(e20) {
  co(e20, "svelte-3e0qet", ".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}");
}
function jW(e20) {
  var t2, n2, r2 = e20[0](e20[1], e20[2]) + "";
  return { c: function() {
    So(t2 = go("div"), "class", n2 = "item " + e20[3] + " svelte-3e0qet");
  }, m: function(e21, n3) {
    vo(e21, t2, n3), t2.innerHTML = r2;
  }, p: function(e21, i2) {
    var o2 = ji(i2, 1)[0];
    7 & o2 && r2 !== (r2 = e21[0](e21[1], e21[2]) + "") && (t2.innerHTML = r2), 8 & o2 && n2 !== (n2 = "item " + e21[3] + " svelte-3e0qet") && So(t2, "class", n2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function xW(e20, t2, n2) {
  var r2 = t2.isActive, i2 = r2 !== void 0 && r2, o2 = t2.isFirst, a2 = o2 !== void 0 && o2, s2 = t2.isHover, u2 = s2 !== void 0 && s2, c2 = t2.isSelectable, l2 = c2 !== void 0 && c2, f2 = t2.getOptionLabel, h2 = f2 === void 0 ? void 0 : f2, d2 = t2.item, v2 = d2 === void 0 ? void 0 : d2, p2 = t2.filterText, m2 = p2 === void 0 ? "" : p2, g2 = "";
  return e20.$$set = function(e21) {
    "isActive" in e21 && n2(4, i2 = e21.isActive), "isFirst" in e21 && n2(5, a2 = e21.isFirst), "isHover" in e21 && n2(6, u2 = e21.isHover), "isSelectable" in e21 && n2(7, l2 = e21.isSelectable), "getOptionLabel" in e21 && n2(0, h2 = e21.getOptionLabel), "item" in e21 && n2(1, v2 = e21.item), "filterText" in e21 && n2(2, m2 = e21.filterText);
  }, e20.$$.update = function() {
    if (242 & e20.$$.dirty) {
      var t3 = [];
      i2 && t3.push("active"), a2 && t3.push("first"), u2 && t3.push("hover"), v2.isGroupHeader && t3.push("groupHeader"), v2.isGroupItem && t3.push("groupItem"), l2 || t3.push("notSelectable"), n2(3, g2 = t3.join(" "));
    }
  }, [h2, v2, m2, g2, i2, a2, u2, l2];
}
var SW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, xW, jW, Ji, { isActive: 4, isFirst: 5, isHover: 6, isSelectable: 7, getOptionLabel: 0, item: 1, filterText: 2 }, kW), r2;
  }
  return Li(n2);
}();
function CW(e20) {
  co(e20, "svelte-1uyqfml", ".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}");
}
function _W(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[41] = t2[n2], r2[42] = n2, r2;
}
function $W(e20) {
  for (var t2, n2, r2 = e20[1], i2 = [], o2 = 0; o2 < r2.length; o2 += 1)
    i2[o2] = TW(_W(e20, r2, o2));
  var a2 = function(e21) {
    return ba(i2[e21], 1, 1, function() {
      i2[e21] = null;
    });
  }, s2 = null;
  return r2.length || (s2 = PW(e20)), { c: function() {
    for (var e21 = 0; e21 < i2.length; e21 += 1)
      i2[e21].c();
    t2 = ko(), s2 && s2.c();
  }, m: function(e21, r3) {
    for (var o3 = 0; o3 < i2.length; o3 += 1)
      i2[o3].m(e21, r3);
    vo(e21, t2, r3), s2 && s2.m(e21, r3), n2 = true;
  }, p: function(e21, n3) {
    if (114390 & n3[0]) {
      var o3;
      for (r2 = e21[1], o3 = 0; o3 < r2.length; o3 += 1) {
        var u2 = _W(e21, r2, o3);
        i2[o3] ? (i2[o3].p(u2, n3), ya(i2[o3], 1)) : (i2[o3] = TW(u2), i2[o3].c(), ya(i2[o3], 1), i2[o3].m(t2.parentNode, t2));
      }
      for (ma(), o3 = r2.length; o3 < i2.length; o3 += 1)
        a2(o3);
      ga(), !r2.length && s2 ? s2.p(e21, n3) : r2.length ? s2 && (s2.d(1), s2 = null) : ((s2 = PW(e21)).c(), s2.m(t2.parentNode, t2));
    }
  }, i: function(e21) {
    if (!n2) {
      for (var t3 = 0; t3 < r2.length; t3 += 1)
        ya(i2[t3]);
      n2 = true;
    }
  }, o: function(e21) {
    i2 = i2.filter(Boolean);
    for (var t3 = 0; t3 < i2.length; t3 += 1)
      ba(i2[t3]);
    n2 = false;
  }, d: function(e21) {
    mo(i2, e21), e21 && po(t2), s2 && s2.d(e21);
  } };
}
function OW(e20) {
  var t2, n2, r2, i2 = e20[3];
  function o2(e21) {
    return { props: { items: e21[1], itemHeight: e21[8], $$slots: { default: [IW, function(e22) {
      return { 41: e22.item, 42: e22.i };
    }, function(e22) {
      return [0, (e22.item ? 1024 : 0) | (e22.i ? 2048 : 0)];
    }] }, $$scope: { ctx: e21 } } };
  }
  return i2 && (t2 = new i2(o2(e20))), { c: function() {
    t2 && Pa(t2.$$.fragment), n2 = ko();
  }, m: function(e21, i3) {
    t2 && Aa(t2, e21, i3), vo(e21, n2, i3), r2 = true;
  }, p: function(e21, r3) {
    var a2 = {};
    if (2 & r3[0] && (a2.items = e21[1]), 256 & r3[0] && (a2.itemHeight = e21[8]), 9814 & r3[0] | 11264 & r3[1] && (a2.$$scope = { dirty: r3, ctx: e21 }), i2 !== (i2 = e21[3])) {
      if (t2) {
        ma();
        var s2 = t2;
        ba(s2.$$.fragment, 1, 0, function() {
          Ea(s2, 1);
        }), ga();
      }
      i2 ? (Pa((t2 = new i2(o2(e21))).$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, n2.parentNode, n2)) : t2 = null;
    } else
      i2 && t2.$set(a2);
  }, i: function(e21) {
    r2 || (t2 && ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(n2), t2 && Ea(t2, e21);
  } };
}
function PW(e20) {
  var t2, n2 = !e20[11] && AW(e20);
  return { c: function() {
    n2 && n2.c(), t2 = ko();
  }, m: function(e21, r2) {
    n2 && n2.m(e21, r2), vo(e21, t2, r2);
  }, p: function(e21, r2) {
    e21[11] ? n2 && (n2.d(1), n2 = null) : n2 ? n2.p(e21, r2) : ((n2 = AW(e21)).c(), n2.m(t2.parentNode, t2));
  }, d: function(e21) {
    n2 && n2.d(e21), e21 && po(t2);
  } };
}
function AW(e20) {
  var t2, n2;
  return { c: function() {
    t2 = go("div"), n2 = bo(e20[12]), So(t2, "class", "empty svelte-1uyqfml");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), uo(t2, n2);
  }, p: function(e21, t3) {
    4096 & t3[0] && Po(n2, e21[12]);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function EW(e20) {
  var t2, n2, r2, i2, o2, a2, s2 = e20[4];
  function u2(e21) {
    return { props: { item: e21[41], filterText: e21[13], getOptionLabel: e21[6], isFirst: DW(e21[42]), isActive: RW(e21[41], e21[9], e21[10]), isHover: LW(e21[2], e21[41], e21[42], e21[1]), isSelectable: zW(e21[41]) } };
  }
  function c2() {
    return e20[29](e20[42]);
  }
  function l2() {
    return e20[30](e20[42]);
  }
  function f2() {
    for (var t3, n3 = arguments.length, r3 = new Array(n3), i3 = 0; i3 < n3; i3++)
      r3[i3] = arguments[i3];
    return (t3 = e20)[31].apply(t3, [e20[41], e20[42]].concat(r3));
  }
  return s2 && (n2 = new s2(u2(e20))), { c: function() {
    t2 = go("div"), n2 && Pa(n2.$$.fragment), r2 = wo(), So(t2, "class", "listItem"), So(t2, "tabindex", "-1");
  }, m: function(e21, s3) {
    vo(e21, t2, s3), n2 && Aa(n2, t2, null), uo(t2, r2), i2 = true, o2 || (a2 = [jo(t2, "mouseover", c2), jo(t2, "focus", l2), jo(t2, "click", f2)], o2 = true);
  }, p: function(i3, o3) {
    e20 = i3;
    var a3 = {};
    if (2 & o3[0] && (a3.item = e20[41]), 8192 & o3[0] && (a3.filterText = e20[13]), 64 & o3[0] && (a3.getOptionLabel = e20[6]), 1538 & o3[0] && (a3.isActive = RW(e20[41], e20[9], e20[10])), 6 & o3[0] && (a3.isHover = LW(e20[2], e20[41], e20[42], e20[1])), 2 & o3[0] && (a3.isSelectable = zW(e20[41])), s2 !== (s2 = e20[4])) {
      if (n2) {
        ma();
        var c3 = n2;
        ba(c3.$$.fragment, 1, 0, function() {
          Ea(c3, 1);
        }), ga();
      }
      s2 ? (Pa((n2 = new s2(u2(e20))).$$.fragment), ya(n2.$$.fragment, 1), Aa(n2, t2, r2)) : n2 = null;
    } else
      s2 && n2.$set(a3);
  }, i: function(e21) {
    i2 || (n2 && ya(n2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    n2 && ba(n2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(t2), n2 && Ea(n2), o2 = false, Wi(a2);
  } };
}
function MW(e20) {
  var t2, n2, r2 = e20[7](e20[41]) + "";
  return { c: function() {
    t2 = go("div"), n2 = bo(r2), So(t2, "class", "listGroupTitle svelte-1uyqfml");
  }, m: function(e21, r3) {
    vo(e21, t2, r3), uo(t2, n2);
  }, p: function(e21, t3) {
    130 & t3[0] && r2 !== (r2 = e21[7](e21[41]) + "") && Po(n2, r2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function TW(e20) {
  var t2, n2, r2, i2, o2 = [MW, EW], a2 = [];
  function s2(e21, t3) {
    return e21[41].isGroupHeader && !e21[41].isSelectable ? 0 : 1;
  }
  return t2 = s2(e20), n2 = a2[t2] = o2[t2](e20), { c: function() {
    n2.c(), r2 = ko();
  }, m: function(e21, n3) {
    a2[t2].m(e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var u2 = t2;
    (t2 = s2(e21)) === u2 ? a2[t2].p(e21, i3) : (ma(), ba(a2[u2], 1, 1, function() {
      a2[u2] = null;
    }), ga(), (n2 = a2[t2]) ? n2.p(e21, i3) : (n2 = a2[t2] = o2[t2](e21)).c(), ya(n2, 1), n2.m(r2.parentNode, r2));
  }, i: function(e21) {
    i2 || (ya(n2), i2 = true);
  }, o: function(e21) {
    ba(n2), i2 = false;
  }, d: function(e21) {
    a2[t2].d(e21), e21 && po(r2);
  } };
}
function IW(e20) {
  var t2, n2, r2, i2, o2, a2 = e20[4];
  function s2(e21) {
    return { props: { item: e21[41], filterText: e21[13], getOptionLabel: e21[6], isFirst: DW(e21[42]), isActive: RW(e21[41], e21[9], e21[10]), isHover: LW(e21[2], e21[41], e21[42], e21[1]), isSelectable: zW(e21[41]) } };
  }
  function u2() {
    return e20[26](e20[42]);
  }
  function c2() {
    return e20[27](e20[42]);
  }
  function l2() {
    for (var t3, n3 = arguments.length, r3 = new Array(n3), i3 = 0; i3 < n3; i3++)
      r3[i3] = arguments[i3];
    return (t3 = e20)[28].apply(t3, [e20[41], e20[42]].concat(r3));
  }
  return a2 && (n2 = new a2(s2(e20))), { c: function() {
    t2 = go("div"), n2 && Pa(n2.$$.fragment), So(t2, "class", "listItem");
  }, m: function(e21, a3) {
    vo(e21, t2, a3), n2 && Aa(n2, t2, null), r2 = true, i2 || (o2 = [jo(t2, "mouseover", u2), jo(t2, "focus", c2), jo(t2, "click", l2)], i2 = true);
  }, p: function(r3, i3) {
    e20 = r3;
    var o3 = {};
    if (1024 & i3[1] && (o3.item = e20[41]), 8192 & i3[0] && (o3.filterText = e20[13]), 64 & i3[0] && (o3.getOptionLabel = e20[6]), 2048 & i3[1] && (o3.isFirst = DW(e20[42])), 1536 & i3[0] | 1024 & i3[1] && (o3.isActive = RW(e20[41], e20[9], e20[10])), 6 & i3[0] | 3072 & i3[1] && (o3.isHover = LW(e20[2], e20[41], e20[42], e20[1])), 1024 & i3[1] && (o3.isSelectable = zW(e20[41])), a2 !== (a2 = e20[4])) {
      if (n2) {
        ma();
        var u3 = n2;
        ba(u3.$$.fragment, 1, 0, function() {
          Ea(u3, 1);
        }), ga();
      }
      a2 ? (Pa((n2 = new a2(s2(e20))).$$.fragment), ya(n2.$$.fragment, 1), Aa(n2, t2, null)) : n2 = null;
    } else
      a2 && n2.$set(o3);
  }, i: function(e21) {
    r2 || (n2 && ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    n2 && ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), n2 && Ea(n2), i2 = false, Wi(o2);
  } };
}
function NW(e20) {
  var t2, n2, r2, i2, o2, a2, s2 = [OW, $W], u2 = [];
  function c2(e21, t3) {
    return e21[5] ? 0 : 1;
  }
  return n2 = c2(e20), r2 = u2[n2] = s2[n2](e20), { c: function() {
    t2 = go("div"), r2.c(), So(t2, "class", "listContainer svelte-1uyqfml"), So(t2, "style", e20[14]), Io(t2, "virtualList", e20[5]);
  }, m: function(r3, s3) {
    vo(r3, t2, s3), u2[n2].m(t2, null), e20[32](t2), i2 = true, o2 || (a2 = [jo(window, "keydown", e20[17]), jo(window, "resize", e20[18])], o2 = true);
  }, p: function(e21, o3) {
    var a3 = n2;
    (n2 = c2(e21)) === a3 ? u2[n2].p(e21, o3) : (ma(), ba(u2[a3], 1, 1, function() {
      u2[a3] = null;
    }), ga(), (r2 = u2[n2]) ? r2.p(e21, o3) : (r2 = u2[n2] = s2[n2](e21)).c(), ya(r2, 1), r2.m(t2, null)), (!i2 || 16384 & o3[0]) && So(t2, "style", e21[14]), 32 & o3[0] && Io(t2, "virtualList", e21[5]);
  }, i: function(e21) {
    i2 || (ya(r2), i2 = true);
  }, o: function(e21) {
    ba(r2), i2 = false;
  }, d: function(r3) {
    r3 && po(t2), u2[n2].d(), e20[32](null), o2 = false, Wi(a2);
  } };
}
function RW(e20, t2, n2) {
  return t2 && t2[n2] === e20[n2];
}
function DW(e20) {
  return e20 === 0;
}
function LW(e20, t2, n2, r2) {
  return zW(t2) && (e20 === n2 || r2.length === 1);
}
function zW(e20) {
  return e20.isGroupHeader && e20.isSelectable || e20.selectable || !e20.hasOwnProperty("selectable");
}
function BW(e20, t2, n2) {
  var r2, i2, o2 = Go(), a2 = t2.container, s2 = a2 === void 0 ? void 0 : a2, u2 = t2.VirtualList, c2 = u2 === void 0 ? null : u2, l2 = t2.Item, f2 = l2 === void 0 ? SW : l2, h2 = t2.isVirtualList, d2 = h2 !== void 0 && h2, v2 = t2.items, p2 = v2 === void 0 ? [] : v2, m2 = t2.labelIdentifier, g2 = m2 === void 0 ? "label" : m2, y2 = t2.getOptionLabel, b2 = y2 === void 0 ? function(e21, t3) {
    if (e21)
      return e21.isCreator ? 'Create "'.concat(t3, '"') : e21[g2];
  } : y2, w2 = t2.getGroupHeaderLabel, k2 = w2 === void 0 ? null : w2, j2 = t2.itemHeight, x2 = j2 === void 0 ? 40 : j2, S2 = t2.hoverItemIndex, C2 = S2 === void 0 ? 0 : S2, _2 = t2.value, $2 = _2 === void 0 ? void 0 : _2, O2 = t2.optionIdentifier, P2 = O2 === void 0 ? "value" : O2, A2 = t2.hideEmptyState, E2 = A2 !== void 0 && A2, M2 = t2.noOptionsMessage, T2 = M2 === void 0 ? "No options" : M2, I2 = t2.isMulti, N2 = I2 !== void 0 && I2, R2 = t2.activeItemIndex, D2 = R2 === void 0 ? 0 : R2, L2 = t2.filterText, z2 = L2 === void 0 ? "" : L2, B2 = t2.parent, q2 = B2 === void 0 ? null : B2, F2 = t2.listPlacement, V2 = F2 === void 0 ? null : F2, H2 = t2.listAutoWidth, W2 = H2 === void 0 ? null : H2, U2 = t2.listOffset, J2 = U2 === void 0 ? 5 : U2, K2 = 0, G2 = false;
  function Q2(e21) {
    e21.isCreator || o2("itemSelected", e21);
  }
  function Y2(e21) {
    G2 || n2(2, C2 = e21);
  }
  function Z2(e21) {
    var t3 = e21.item, r3 = e21.i;
    if (e21.event.stopPropagation(), $2 && !N2 && $2[P2] === t3[P2])
      return X2();
    t3.isCreator ? o2("itemCreated", z2) : zW(t3) && (n2(19, D2 = r3), n2(2, C2 = r3), Q2(t3));
  }
  function X2() {
    o2("closeList");
  }
  function ee2(e21) {
    return te2.apply(this, arguments);
  }
  function te2() {
    return (te2 = yi(mi().mark(function e21(t3) {
      var r3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (!d2) {
                e22.next = 2;
                break;
              }
              return e22.abrupt("return");
            case 2:
              for (r3 = true; r3; )
                t3 > 0 && C2 === p2.length - 1 ? n2(2, C2 = 0) : n2(2, t3 < 0 && C2 === 0 ? C2 = p2.length - 1 : C2 += t3), r3 = !zW(p2[C2]);
              return e22.next = 6, oa();
            case 6:
              ne2("hover");
            case 7:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function ne2(e21) {
    if (!d2 && s2) {
      var t3, r3 = s2.querySelector(".listItem .".concat(e21));
      r3 && (t3 = s2.getBoundingClientRect().bottom - r3.getBoundingClientRect().bottom), n2(0, s2.scrollTop -= t3, s2);
    }
  }
  function re2() {
    var e21 = q2.getBoundingClientRect(), t3 = e21.height, r3 = e21.width;
    n2(14, i2 = ""), n2(14, i2 += "min-width:".concat(r3, "px;width:").concat(W2 ? "auto" : "100%", ";")), V2 === "top" || V2 === "auto" && function(e22, t4) {
      var n3 = e22.getBoundingClientRect(), r4 = t4.getBoundingClientRect(), i3 = {};
      return i3.top = n3.top < 0, i3.left = n3.left < 0, i3.bottom = n3.bottom + r4.height > (window.innerHeight || document.documentElement.clientHeight), i3.right = n3.right > (window.innerWidth || document.documentElement.clientWidth), i3.any = i3.top || i3.left || i3.bottom || i3.right, i3;
    }(q2, s2).bottom ? n2(14, i2 += "bottom:".concat(t3 + J2, "px;")) : n2(14, i2 += "top:".concat(t3 + J2, "px;"));
  }
  Jo(function() {
    if (p2.length > 0 && !N2 && $2) {
      var e21 = p2.findIndex(function(e22) {
        return e22[P2] === $2[P2];
      });
      e21 && n2(2, C2 = e21);
    }
    ne2("active"), s2.addEventListener("scroll", function() {
      clearTimeout(K2), K2 = setTimeout(function() {
        G2 = false;
      }, 100);
    }, false);
  }), Uo(function() {
    p2 || n2(1, p2 = []), p2 !== r2 && p2.length > 0 && n2(2, C2 = 0), r2 = p2;
  });
  return e20.$$set = function(e21) {
    "container" in e21 && n2(0, s2 = e21.container), "VirtualList" in e21 && n2(3, c2 = e21.VirtualList), "Item" in e21 && n2(4, f2 = e21.Item), "isVirtualList" in e21 && n2(5, d2 = e21.isVirtualList), "items" in e21 && n2(1, p2 = e21.items), "labelIdentifier" in e21 && n2(20, g2 = e21.labelIdentifier), "getOptionLabel" in e21 && n2(6, b2 = e21.getOptionLabel), "getGroupHeaderLabel" in e21 && n2(7, k2 = e21.getGroupHeaderLabel), "itemHeight" in e21 && n2(8, x2 = e21.itemHeight), "hoverItemIndex" in e21 && n2(2, C2 = e21.hoverItemIndex), "value" in e21 && n2(9, $2 = e21.value), "optionIdentifier" in e21 && n2(10, P2 = e21.optionIdentifier), "hideEmptyState" in e21 && n2(11, E2 = e21.hideEmptyState), "noOptionsMessage" in e21 && n2(12, T2 = e21.noOptionsMessage), "isMulti" in e21 && n2(21, N2 = e21.isMulti), "activeItemIndex" in e21 && n2(19, D2 = e21.activeItemIndex), "filterText" in e21 && n2(13, z2 = e21.filterText), "parent" in e21 && n2(22, q2 = e21.parent), "listPlacement" in e21 && n2(23, V2 = e21.listPlacement), "listAutoWidth" in e21 && n2(24, W2 = e21.listAutoWidth), "listOffset" in e21 && n2(25, J2 = e21.listOffset);
  }, e20.$$.update = function() {
    4194305 & e20.$$.dirty[0] && q2 && s2 && re2();
  }, [s2, p2, C2, c2, f2, d2, b2, k2, x2, $2, P2, E2, T2, z2, i2, Y2, Z2, function(e21) {
    switch (e21.key) {
      case "Escape":
        e21.preventDefault(), X2();
        break;
      case "ArrowDown":
        e21.preventDefault(), p2.length && ee2(1);
        break;
      case "ArrowUp":
        e21.preventDefault(), p2.length && ee2(-1);
        break;
      case "Enter":
        if (e21.preventDefault(), p2.length === 0)
          break;
        var t3 = p2[C2];
        if ($2 && !N2 && $2[P2] === t3[P2]) {
          X2();
          break;
        }
        t3.isCreator ? o2("itemCreated", z2) : (n2(19, D2 = C2), Q2(p2[C2]));
        break;
      case "Tab":
        if (e21.preventDefault(), p2.length === 0)
          return X2();
        if ($2 && $2[P2] === p2[C2][P2])
          return X2();
        n2(19, D2 = C2), Q2(p2[C2]);
    }
  }, re2, D2, g2, N2, q2, V2, W2, J2, function(e21) {
    return Y2(e21);
  }, function(e21) {
    return Y2(e21);
  }, function(e21, t3, n3) {
    return Z2({ item: e21, i: t3, event: n3 });
  }, function(e21) {
    return Y2(e21);
  }, function(e21) {
    return Y2(e21);
  }, function(e21, t3, n3) {
    return Z2({ item: e21, i: t3, event: n3 });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(0, s2 = e21);
    });
  }];
}
var qW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, BW, NW, Ji, { container: 0, VirtualList: 3, Item: 4, isVirtualList: 5, items: 1, labelIdentifier: 20, getOptionLabel: 6, getGroupHeaderLabel: 7, itemHeight: 8, hoverItemIndex: 2, value: 9, optionIdentifier: 10, hideEmptyState: 11, noOptionsMessage: 12, isMulti: 21, activeItemIndex: 19, filterText: 13, parent: 22, listPlacement: 23, listAutoWidth: 24, listOffset: 25 }, CW, [-1, -1]), r2;
  }
  return Li(n2);
}();
function FW(e20) {
  co(e20, "svelte-pu1q1n", ".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}");
}
function VW(e20) {
  var t2, n2 = e20[0](e20[1]) + "";
  return { c: function() {
    So(t2 = go("div"), "class", "selection svelte-pu1q1n");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), t2.innerHTML = n2;
  }, p: function(e21, r2) {
    3 & ji(r2, 1)[0] && n2 !== (n2 = e21[0](e21[1]) + "") && (t2.innerHTML = n2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function HW(e20, t2, n2) {
  var r2 = t2.getSelectionLabel, i2 = r2 === void 0 ? void 0 : r2, o2 = t2.item, a2 = o2 === void 0 ? void 0 : o2;
  return e20.$$set = function(e21) {
    "getSelectionLabel" in e21 && n2(0, i2 = e21.getSelectionLabel), "item" in e21 && n2(1, a2 = e21.item);
  }, [i2, a2];
}
var WW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, HW, VW, Ji, { getSelectionLabel: 0, item: 1 }, FW), r2;
  }
  return Li(n2);
}();
function UW(e20) {
  co(e20, "svelte-liu9pa", ".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}");
}
function JW(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[9] = t2[n2], r2[11] = n2, r2;
}
function KW(e20) {
  var t2, n2, r2;
  function i2() {
    for (var t3, n3 = arguments.length, r3 = new Array(n3), i3 = 0; i3 < n3; i3++)
      r3[i3] = arguments[i3];
    return (t3 = e20)[6].apply(t3, [e20[11]].concat(r3));
  }
  return { c: function() {
    (t2 = go("div")).innerHTML = '<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>', So(t2, "class", "multiSelectItem_clear svelte-liu9pa");
  }, m: function(e21, o2) {
    vo(e21, t2, o2), n2 || (r2 = jo(t2, "click", i2), n2 = true);
  }, p: function(t3, n3) {
    e20 = t3;
  }, d: function(e21) {
    e21 && po(t2), n2 = false, r2();
  } };
}
function GW(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2 = e20[4](e20[9]) + "", c2 = !e20[2] && !e20[3] && KW(e20);
  function l2() {
    for (var t3, n3 = arguments.length, r3 = new Array(n3), i3 = 0; i3 < n3; i3++)
      r3[i3] = arguments[i3];
    return (t3 = e20)[7].apply(t3, [e20[11]].concat(r3));
  }
  return { c: function() {
    t2 = go("div"), n2 = go("div"), r2 = wo(), c2 && c2.c(), i2 = wo(), So(n2, "class", "multiSelectItem_label svelte-liu9pa"), So(t2, "class", o2 = "multiSelectItem " + (e20[1] === e20[11] ? "active" : "") + " " + (e20[2] ? "disabled" : "") + " svelte-liu9pa");
  }, m: function(e21, o3) {
    vo(e21, t2, o3), uo(t2, n2), n2.innerHTML = u2, uo(t2, r2), c2 && c2.m(t2, null), uo(t2, i2), a2 || (s2 = jo(t2, "click", l2), a2 = true);
  }, p: function(r3, a3) {
    e20 = r3, 17 & a3 && u2 !== (u2 = e20[4](e20[9]) + "") && (n2.innerHTML = u2), e20[2] || e20[3] ? c2 && (c2.d(1), c2 = null) : c2 ? c2.p(e20, a3) : ((c2 = KW(e20)).c(), c2.m(t2, i2)), 6 & a3 && o2 !== (o2 = "multiSelectItem " + (e20[1] === e20[11] ? "active" : "") + " " + (e20[2] ? "disabled" : "") + " svelte-liu9pa") && So(t2, "class", o2);
  }, d: function(e21) {
    e21 && po(t2), c2 && c2.d(), a2 = false, s2();
  } };
}
function QW(e20) {
  for (var t2, n2 = e20[0], r2 = [], i2 = 0; i2 < n2.length; i2 += 1)
    r2[i2] = GW(JW(e20, n2, i2));
  return { c: function() {
    for (var e21 = 0; e21 < r2.length; e21 += 1)
      r2[e21].c();
    t2 = ko();
  }, m: function(e21, n3) {
    for (var i3 = 0; i3 < r2.length; i3 += 1)
      r2[i3].m(e21, n3);
    vo(e21, t2, n3);
  }, p: function(e21, i3) {
    var o2 = ji(i3, 1)[0];
    if (63 & o2) {
      var a2;
      for (n2 = e21[0], a2 = 0; a2 < n2.length; a2 += 1) {
        var s2 = JW(e21, n2, a2);
        r2[a2] ? r2[a2].p(s2, o2) : (r2[a2] = GW(s2), r2[a2].c(), r2[a2].m(t2.parentNode, t2));
      }
      for (; a2 < r2.length; a2 += 1)
        r2[a2].d(1);
      r2.length = n2.length;
    }
  }, i: Bi, o: Bi, d: function(e21) {
    mo(r2, e21), e21 && po(t2);
  } };
}
function YW(e20, t2, n2) {
  var r2 = Go(), i2 = t2.value, o2 = i2 === void 0 ? [] : i2, a2 = t2.activeValue, s2 = a2 === void 0 ? void 0 : a2, u2 = t2.isDisabled, c2 = u2 !== void 0 && u2, l2 = t2.multiFullItemClearable, f2 = l2 !== void 0 && l2, h2 = t2.getSelectionLabel, d2 = h2 === void 0 ? void 0 : h2;
  function v2(e21, t3) {
    t3.stopPropagation(), r2("multiItemClear", { i: e21 });
  }
  return e20.$$set = function(e21) {
    "value" in e21 && n2(0, o2 = e21.value), "activeValue" in e21 && n2(1, s2 = e21.activeValue), "isDisabled" in e21 && n2(2, c2 = e21.isDisabled), "multiFullItemClearable" in e21 && n2(3, f2 = e21.multiFullItemClearable), "getSelectionLabel" in e21 && n2(4, d2 = e21.getSelectionLabel);
  }, [o2, s2, c2, f2, d2, v2, function(e21, t3) {
    return v2(e21, t3);
  }, function(e21, t3) {
    return f2 ? v2(e21, t3) : {};
  }];
}
var ZW = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, YW, QW, Ji, { value: 0, activeValue: 1, isDisabled: 2, multiFullItemClearable: 3, getSelectionLabel: 4 }, UW), r2;
  }
  return Li(n2);
}();
function XW(e20) {
  co(e20, "svelte-g2cagw", "svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}");
}
function eU(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[23] = t2[n2], r2;
}
var tU = function(e20) {
  return { item: 32 & e20, i: 32 & e20, hoverItemIndex: 2 & e20 };
}, nU = function(e20) {
  return { item: e20[23].data, i: e20[23].index, hoverItemIndex: e20[1] };
};
function rU(e20, t2) {
  var n2, r2, i2, o2 = t2[15].default, a2 = Gi(o2, t2, t2[14], nU), s2 = a2 || function(e21) {
    var t3;
    return { c: function() {
      t3 = bo("Missing template");
    }, m: function(e22, n3) {
      vo(e22, t3, n3);
    }, d: function(e22) {
      e22 && po(t3);
    } };
  }();
  return { key: e20, first: null, c: function() {
    n2 = go("svelte-virtual-list-row"), s2 && s2.c(), r2 = wo(), $o(n2, "class", "svelte-g2cagw"), this.first = n2;
  }, m: function(e21, t3) {
    vo(e21, n2, t3), s2 && s2.m(n2, null), uo(n2, r2), i2 = true;
  }, p: function(e21, n3) {
    t2 = e21, a2 && a2.p && (!i2 || 16418 & n3) && Zi(a2, o2, t2, t2[14], i2 ? Yi(o2, t2[14], n3, tU) : Xi(t2[14]), nU);
  }, i: function(e21) {
    i2 || (ya(s2, e21), i2 = true);
  }, o: function(e21) {
    ba(s2, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(n2), s2 && s2.d(e21);
  } };
}
function iU(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2 = [], u2 = /* @__PURE__ */ new Map(), c2 = e20[5], l2 = function(e21) {
    return e21[23].index;
  }, f2 = 0; f2 < c2.length; f2 += 1) {
    var h2 = eU(e20, c2, f2), d2 = l2(h2);
    u2.set(d2, s2[f2] = rU(d2, h2));
  }
  return { c: function() {
    t2 = go("svelte-virtual-list-viewport"), n2 = go("svelte-virtual-list-contents");
    for (var r3 = 0; r3 < s2.length; r3 += 1)
      s2[r3].c();
    Eo(n2, "padding-top", e20[6] + "px"), Eo(n2, "padding-bottom", e20[7] + "px"), $o(n2, "class", "svelte-g2cagw"), Eo(t2, "height", e20[0]), $o(t2, "class", "svelte-g2cagw"), aa(function() {
      return e20[18].call(t2);
    });
  }, m: function(u3, c3) {
    vo(u3, t2, c3), uo(t2, n2);
    for (var l3 = 0; l3 < s2.length; l3 += 1)
      s2[l3].m(n2, null);
    e20[16](n2), e20[17](t2), r2 = function(e21, t3) {
      getComputedStyle(e21).position === "static" && (e21.style.position = "relative");
      var n3 = go("iframe");
      n3.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"), n3.setAttribute("aria-hidden", "true"), n3.tabIndex = -1;
      var r3, i3 = To();
      return i3 ? (n3.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>", r3 = jo(window, "message", function(e22) {
        e22.source === n3.contentWindow && t3();
      })) : (n3.src = "about:blank", n3.onload = function() {
        r3 = jo(n3.contentWindow, "resize", t3);
      }), uo(e21, n3), function() {
        (i3 || r3 && n3.contentWindow) && r3(), po(n3);
      };
    }(t2, e20[18].bind(t2)), i2 = true, o2 || (a2 = jo(t2, "scroll", e20[8]), o2 = true);
  }, p: function(e21, r3) {
    var o3 = ji(r3, 1)[0];
    16418 & o3 && (c2 = e21[5], ma(), s2 = Ca(s2, o3, l2, 1, e21, c2, u2, n2, Sa, rU, null, eU), ga()), (!i2 || 64 & o3) && Eo(n2, "padding-top", e21[6] + "px"), (!i2 || 128 & o3) && Eo(n2, "padding-bottom", e21[7] + "px"), (!i2 || 1 & o3) && Eo(t2, "height", e21[0]);
  }, i: function(e21) {
    if (!i2) {
      for (var t3 = 0; t3 < c2.length; t3 += 1)
        ya(s2[t3]);
      i2 = true;
    }
  }, o: function(e21) {
    for (var t3 = 0; t3 < s2.length; t3 += 1)
      ba(s2[t3]);
    i2 = false;
  }, d: function(n3) {
    n3 && po(t2);
    for (var i3 = 0; i3 < s2.length; i3 += 1)
      s2[i3].d();
    e20[16](null), e20[17](null), r2(), o2 = false, a2();
  } };
}
function oU(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2 = t2.$$slots, l2 = c2 === void 0 ? {} : c2, f2 = t2.$$scope, h2 = t2.items, d2 = h2 === void 0 ? void 0 : h2, v2 = t2.height, p2 = v2 === void 0 ? "100%" : v2, m2 = t2.itemHeight, g2 = m2 === void 0 ? 40 : m2, y2 = t2.hoverItemIndex, b2 = y2 === void 0 ? 0 : y2, w2 = t2.start, k2 = w2 === void 0 ? 0 : w2, j2 = t2.end, x2 = j2 === void 0 ? 0 : j2, S2 = [], C2 = 0, _2 = 0, $2 = 0;
  function O2() {
    return (O2 = yi(mi().mark(function e21(t3, o3, a3) {
      var s3, c3, l3, f3, h3, d3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return s3 = i2.scrollTop, e22.next = 3, oa();
            case 3:
              c3 = _2 - s3, l3 = k2;
            case 5:
              if (!(c3 < o3 && l3 < t3.length)) {
                e22.next = 17;
                break;
              }
              if (f3 = r2[l3 - k2]) {
                e22.next = 12;
                break;
              }
              return n2(10, x2 = l3 + 1), e22.next = 11, oa();
            case 11:
              f3 = r2[l3 - k2];
            case 12:
              h3 = S2[l3] = a3 || f3.offsetHeight, c3 += h3, l3 += 1, e22.next = 5;
              break;
            case 17:
              n2(10, x2 = l3), d3 = t3.length - x2, n2(7, $2 = d3 * (u2 = (_2 + c3) / x2)), S2.length = t3.length, i2 && n2(3, i2.scrollTop = 0, i2);
            case 23:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function P2() {
    return (P2 = yi(mi().mark(function e21() {
      var t3, o3, a3, s3, c3, l3, f3, h3, v3, p3, m3;
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              for (t3 = i2.scrollTop, o3 = k2, a3 = 0; a3 < r2.length; a3 += 1)
                S2[k2 + a3] = g2 || r2[a3].offsetHeight;
              s3 = 0, c3 = 0;
            case 5:
              if (!(s3 < d2.length)) {
                e22.next = 15;
                break;
              }
              if (l3 = S2[s3] || u2, !(c3 + l3 > t3)) {
                e22.next = 11;
                break;
              }
              return n2(9, k2 = s3), n2(6, _2 = c3), e22.abrupt("break", 15);
            case 11:
              c3 += l3, s3 += 1, e22.next = 5;
              break;
            case 15:
              if (!(s3 < d2.length)) {
                e22.next = 22;
                break;
              }
              if (c3 += S2[s3] || u2, s3 += 1, !(c3 > t3 + C2)) {
                e22.next = 20;
                break;
              }
              return e22.abrupt("break", 22);
            case 20:
              e22.next = 15;
              break;
            case 22:
              for (n2(10, x2 = s3), f3 = d2.length - x2, u2 = c3 / x2; s3 < d2.length; )
                S2[s3++] = u2;
              if (n2(7, $2 = f3 * u2), !(k2 < o3)) {
                e22.next = 35;
                break;
              }
              return e22.next = 30, oa();
            case 30:
              for (h3 = 0, v3 = 0, p3 = k2; p3 < o3; p3 += 1)
                r2[p3 - k2] && (h3 += S2[p3], v3 += g2 || r2[p3 - k2].offsetHeight);
              m3 = v3 - h3, i2.scrollTo(0, t3 + m3);
            case 35:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  return Jo(function() {
    r2 = o2.getElementsByTagName("svelte-virtual-list-row"), n2(13, s2 = true);
  }), e20.$$set = function(e21) {
    "items" in e21 && n2(11, d2 = e21.items), "height" in e21 && n2(0, p2 = e21.height), "itemHeight" in e21 && n2(12, g2 = e21.itemHeight), "hoverItemIndex" in e21 && n2(1, b2 = e21.hoverItemIndex), "start" in e21 && n2(9, k2 = e21.start), "end" in e21 && n2(10, x2 = e21.end), "$$scope" in e21 && n2(14, f2 = e21.$$scope);
  }, e20.$$.update = function() {
    3584 & e20.$$.dirty && n2(5, a2 = d2.slice(k2, x2).map(function(e21, t3) {
      return { index: t3 + k2, data: e21 };
    })), 14340 & e20.$$.dirty && s2 && function(e21, t3, n3) {
      O2.apply(this, arguments);
    }(d2, C2, g2);
  }, [p2, b2, C2, i2, o2, a2, _2, $2, function() {
    return P2.apply(this, arguments);
  }, k2, x2, d2, g2, s2, f2, l2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(4, o2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(3, i2 = e21);
    });
  }, function() {
    C2 = this.offsetHeight, n2(2, C2);
  }];
}
var aU = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, oU, iU, Ji, { items: 11, height: 0, itemHeight: 12, hoverItemIndex: 1, start: 9, end: 10 }, XW), r2;
  }
  return Li(n2);
}();
function sU(e20) {
  var t2, n2;
  return { c: function() {
    t2 = yo("svg"), So(n2 = yo("path"), "fill", "currentColor"), So(n2, "d", "M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"), So(t2, "width", "100%"), So(t2, "height", "100%"), So(t2, "viewBox", "-2 -2 50 50"), So(t2, "focusable", "false"), So(t2, "aria-hidden", "true"), So(t2, "role", "presentation");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), uo(t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
var uU = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, null, sU, Ji, {}), r2;
  }
  return Li(n2);
}();
function cU(e20) {
  co(e20, "svelte-17l1npl", ".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}");
}
function lU(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[103] = t2[n2], r2;
}
function fU(e20) {
  var t2, n2, r2, i2, o2;
  return { c: function() {
    t2 = go("span"), n2 = bo(e20[33]), r2 = wo(), i2 = go("span"), o2 = bo(e20[32]), So(t2, "id", "aria-selection"), So(i2, "id", "aria-context");
  }, m: function(e21, a2) {
    vo(e21, t2, a2), uo(t2, n2), vo(e21, r2, a2), vo(e21, i2, a2), uo(i2, o2);
  }, p: function(e21, t3) {
    4 & t3[1] && Po(n2, e21[33]), 2 & t3[1] && Po(o2, e21[32]);
  }, d: function(e21) {
    e21 && po(t2), e21 && po(r2), e21 && po(i2);
  } };
}
function hU(e20) {
  var t2, n2, r2, i2 = [e20[18]], o2 = e20[17];
  function a2(e21) {
    for (var t3 = {}, n3 = 0; n3 < i2.length; n3 += 1)
      t3 = Fi(t3, i2[n3]);
    return { props: t3 };
  }
  return o2 && (t2 = new o2(a2())), { c: function() {
    t2 && Pa(t2.$$.fragment), n2 = ko();
  }, m: function(e21, i3) {
    t2 && Aa(t2, e21, i3), vo(e21, n2, i3), r2 = true;
  }, p: function(e21, r3) {
    var s2 = 262144 & r3[0] ? _a(i2, [$a(e21[18])]) : {};
    if (o2 !== (o2 = e21[17])) {
      if (t2) {
        ma();
        var u2 = t2;
        ba(u2.$$.fragment, 1, 0, function() {
          Ea(u2, 1);
        }), ga();
      }
      o2 ? (Pa((t2 = new o2(a2())).$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, n2.parentNode, n2)) : t2 = null;
    } else
      o2 && t2.$set(s2);
  }, i: function(e21) {
    r2 || (t2 && ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(n2), t2 && Ea(t2, e21);
  } };
}
function dU(e20) {
  var t2, n2, r2, i2 = e20[26];
  function o2(e21) {
    return { props: { value: e21[2], getSelectionLabel: e21[12], activeValue: e21[30], isDisabled: e21[9], multiFullItemClearable: e21[8] } };
  }
  return i2 && ((t2 = new i2(o2(e20))).$on("multiItemClear", e20[38]), t2.$on("focus", e20[40])), { c: function() {
    t2 && Pa(t2.$$.fragment), n2 = ko();
  }, m: function(e21, i3) {
    t2 && Aa(t2, e21, i3), vo(e21, n2, i3), r2 = true;
  }, p: function(e21, r3) {
    var a2 = {};
    if (4 & r3[0] && (a2.value = e21[2]), 4096 & r3[0] && (a2.getSelectionLabel = e21[12]), 1073741824 & r3[0] && (a2.activeValue = e21[30]), 512 & r3[0] && (a2.isDisabled = e21[9]), 256 & r3[0] && (a2.multiFullItemClearable = e21[8]), i2 !== (i2 = e21[26])) {
      if (t2) {
        ma();
        var s2 = t2;
        ba(s2.$$.fragment, 1, 0, function() {
          Ea(s2, 1);
        }), ga();
      }
      i2 ? ((t2 = new i2(o2(e21))).$on("multiItemClear", e21[38]), t2.$on("focus", e21[40]), Pa(t2.$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, n2.parentNode, n2)) : t2 = null;
    } else
      i2 && t2.$set(a2);
  }, i: function(e21) {
    r2 || (t2 && ya(t2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(n2), t2 && Ea(t2, e21);
  } };
}
function vU(e20) {
  var t2, n2, r2, i2, o2, a2 = e20[25];
  function s2(e21) {
    return { props: { item: e21[2], getSelectionLabel: e21[12] } };
  }
  return a2 && (n2 = new a2(s2(e20))), { c: function() {
    t2 = go("div"), n2 && Pa(n2.$$.fragment), So(t2, "class", "selectedItem svelte-17l1npl");
  }, m: function(a3, s3) {
    vo(a3, t2, s3), n2 && Aa(n2, t2, null), r2 = true, i2 || (o2 = jo(t2, "focus", e20[40]), i2 = true);
  }, p: function(e21, r3) {
    var i3 = {};
    if (4 & r3[0] && (i3.item = e21[2]), 4096 & r3[0] && (i3.getSelectionLabel = e21[12]), a2 !== (a2 = e21[25])) {
      if (n2) {
        ma();
        var o3 = n2;
        ba(o3.$$.fragment, 1, 0, function() {
          Ea(o3, 1);
        }), ga();
      }
      a2 ? (Pa((n2 = new a2(s2(e21))).$$.fragment), ya(n2.$$.fragment, 1), Aa(n2, t2, null)) : n2 = null;
    } else
      a2 && n2.$set(i3);
  }, i: function(e21) {
    r2 || (n2 && ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    n2 && ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), n2 && Ea(n2), i2 = false, o2();
  } };
}
function pU(e20) {
  var t2, n2, r2, i2, o2, a2 = e20[23];
  return a2 && (n2 = new a2({})), { c: function() {
    t2 = go("div"), n2 && Pa(n2.$$.fragment), So(t2, "class", "clearSelect svelte-17l1npl"), So(t2, "aria-hidden", "true");
  }, m: function(a3, s2) {
    var u2;
    vo(a3, t2, s2), n2 && Aa(n2, t2, null), r2 = true, i2 || (o2 = jo(t2, "click", (u2 = e20[27], function(e21) {
      return e21.preventDefault(), u2.call(this, e21);
    })), i2 = true);
  }, p: function(e21, r3) {
    if (a2 !== (a2 = e21[23])) {
      if (n2) {
        ma();
        var i3 = n2;
        ba(i3.$$.fragment, 1, 0, function() {
          Ea(i3, 1);
        }), ga();
      }
      a2 ? (Pa((n2 = new a2({})).$$.fragment), ya(n2.$$.fragment, 1), Aa(n2, t2, null)) : n2 = null;
    }
  }, i: function(e21) {
    r2 || (n2 && ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    n2 && ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), n2 && Ea(n2), i2 = false, o2();
  } };
}
function mU(e20) {
  var t2;
  function n2(e21, t3) {
    return e21[22] ? yU : gU;
  }
  var r2 = n2(e20), i2 = r2(e20);
  return { c: function() {
    t2 = go("div"), i2.c(), So(t2, "class", "indicator svelte-17l1npl"), So(t2, "aria-hidden", "true");
  }, m: function(e21, n3) {
    vo(e21, t2, n3), i2.m(t2, null);
  }, p: function(e21, o2) {
    r2 === (r2 = n2(e21)) && i2 ? i2.p(e21, o2) : (i2.d(1), (i2 = r2(e21)) && (i2.c(), i2.m(t2, null)));
  }, d: function(e21) {
    e21 && po(t2), i2.d();
  } };
}
function gU(e20) {
  var t2, n2;
  return { c: function() {
    t2 = yo("svg"), So(n2 = yo("path"), "d", "M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"), So(t2, "width", "100%"), So(t2, "height", "100%"), So(t2, "viewBox", "0 0 20 20"), So(t2, "focusable", "false"), So(t2, "aria-hidden", "true"), So(t2, "class", "svelte-17l1npl");
  }, m: function(e21, r2) {
    vo(e21, t2, r2), uo(t2, n2);
  }, p: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function yU(e20) {
  var t2, n2;
  return { c: function() {
    t2 = new Do(false), n2 = ko(), t2.a = n2;
  }, m: function(r2, i2) {
    t2.m(e20[22], r2, i2), vo(r2, n2, i2);
  }, p: function(e21, n3) {
    4194304 & n3[0] && t2.p(e21[22]);
  }, d: function(e21) {
    e21 && po(n2), e21 && t2.d();
  } };
}
function bU(e20) {
  var t2;
  return { c: function() {
    (t2 = go("div")).innerHTML = '<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>', So(t2, "class", "spinner svelte-17l1npl");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function wU(e20) {
  var t2, n2, r2, i2, o2 = [e20[34]];
  function a2(t3) {
    e20[84](t3);
  }
  var s2 = e20[24];
  function u2(e21) {
    for (var t3 = {}, n3 = 0; n3 < o2.length; n3 += 1)
      t3 = Fi(t3, o2[n3]);
    return e21[28] !== void 0 && (t3.hoverItemIndex = e21[28]), { props: t3 };
  }
  return s2 && (t2 = new s2(u2(e20)), Xo.push(function() {
    return Oa(t2, "hoverItemIndex", a2);
  }), t2.$on("itemSelected", e20[43]), t2.$on("itemCreated", e20[44]), t2.$on("closeList", e20[45])), { c: function() {
    t2 && Pa(t2.$$.fragment), r2 = ko();
  }, m: function(e21, n3) {
    t2 && Aa(t2, e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var c2 = 8 & i3[1] ? _a(o2, [$a(e21[34])]) : {};
    if (!n2 && 268435456 & i3[0] && (n2 = true, c2.hoverItemIndex = e21[28], sa(function() {
      return n2 = false;
    })), s2 !== (s2 = e21[24])) {
      if (t2) {
        ma();
        var l2 = t2;
        ba(l2.$$.fragment, 1, 0, function() {
          Ea(l2, 1);
        }), ga();
      }
      s2 ? (t2 = new s2(u2(e21)), Xo.push(function() {
        return Oa(t2, "hoverItemIndex", a2);
      }), t2.$on("itemSelected", e21[43]), t2.$on("itemCreated", e21[44]), t2.$on("closeList", e21[45]), Pa(t2.$$.fragment), ya(t2.$$.fragment, 1), Aa(t2, r2.parentNode, r2)) : t2 = null;
    } else
      s2 && t2.$set(c2);
  }, i: function(e21) {
    i2 || (t2 && ya(t2.$$.fragment, e21), i2 = true);
  }, o: function(e21) {
    t2 && ba(t2.$$.fragment, e21), i2 = false;
  }, d: function(e21) {
    e21 && po(r2), t2 && Ea(t2, e21);
  } };
}
function kU(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("input"), "name", n2 = e20[16].name), So(t2, "type", "hidden"), t2.value = r2 = e20[2] ? e20[12](e20[2]) : null, So(t2, "class", "svelte-17l1npl");
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, i2) {
    65536 & i2[0] && n2 !== (n2 = e21[16].name) && So(t2, "name", n2), 4100 & i2[0] && r2 !== (r2 = e21[2] ? e21[12](e21[2]) : null) && (t2.value = r2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function jU(e20) {
  for (var t2, n2 = e20[2], r2 = [], i2 = 0; i2 < n2.length; i2 += 1)
    r2[i2] = xU(lU(e20, n2, i2));
  return { c: function() {
    for (var e21 = 0; e21 < r2.length; e21 += 1)
      r2[e21].c();
    t2 = ko();
  }, m: function(e21, n3) {
    for (var i3 = 0; i3 < r2.length; i3 += 1)
      r2[i3].m(e21, n3);
    vo(e21, t2, n3);
  }, p: function(e21, i3) {
    if (69636 & i3[0]) {
      var o2;
      for (n2 = e21[2], o2 = 0; o2 < n2.length; o2 += 1) {
        var a2 = lU(e21, n2, o2);
        r2[o2] ? r2[o2].p(a2, i3) : (r2[o2] = xU(a2), r2[o2].c(), r2[o2].m(t2.parentNode, t2));
      }
      for (; o2 < r2.length; o2 += 1)
        r2[o2].d(1);
      r2.length = n2.length;
    }
  }, d: function(e21) {
    mo(r2, e21), e21 && po(t2);
  } };
}
function xU(e20) {
  var t2, n2, r2;
  return { c: function() {
    So(t2 = go("input"), "name", n2 = e20[16].name), So(t2, "type", "hidden"), t2.value = r2 = e20[103] ? e20[12](e20[103]) : null, So(t2, "class", "svelte-17l1npl");
  }, m: function(e21, n3) {
    vo(e21, t2, n3);
  }, p: function(e21, i2) {
    65536 & i2[0] && n2 !== (n2 = e21[16].name) && So(t2, "name", n2), 4100 & i2[0] && r2 !== (r2 = e21[103] ? e21[12](e21[103]) : null) && (t2.value = r2);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function SU(e20) {
  for (var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2 = e20[1] && fU(e20), w2 = e20[17] && hU(e20), k2 = e20[35] && dU(e20), j2 = [{ readOnly: s2 = !e20[13] }, e20[31], { placeholder: e20[36] }, { style: e20[14] }, { disabled: e20[9] }], x2 = {}, S2 = 0; S2 < j2.length; S2 += 1)
    x2 = Fi(x2, j2[S2]);
  var C2 = !e20[7] && e20[29] && vU(e20), _2 = e20[37] && pU(e20), $2 = !e20[37] && (e20[20] || e20[19] && !e20[2] || !e20[13] && !e20[9] && !e20[4] && (e20[29] && !e20[15] || !e20[29])) && mU(e20), O2 = e20[4] && bU(), P2 = e20[5] && wU(e20), A2 = (!e20[7] || e20[7] && !e20[35]) && kU(e20), E2 = e20[7] && e20[35] && jU(e20);
  return { c: function() {
    t2 = go("div"), n2 = go("span"), b2 && b2.c(), r2 = wo(), w2 && w2.c(), i2 = wo(), k2 && k2.c(), o2 = wo(), a2 = go("input"), u2 = wo(), C2 && C2.c(), c2 = wo(), _2 && _2.c(), l2 = wo(), $2 && $2.c(), f2 = wo(), O2 && O2.c(), h2 = wo(), P2 && P2.c(), d2 = wo(), A2 && A2.c(), v2 = wo(), E2 && E2.c(), So(n2, "aria-live", "polite"), So(n2, "aria-atomic", "false"), So(n2, "aria-relevant", "additions text"), So(n2, "class", "a11yText svelte-17l1npl"), Co(a2, x2), Io(a2, "svelte-17l1npl", true), So(t2, "class", p2 = "selectContainer " + e20[21] + " svelte-17l1npl"), So(t2, "style", e20[11]), Io(t2, "hasError", e20[10]), Io(t2, "multiSelect", e20[7]), Io(t2, "disabled", e20[9]), Io(t2, "focused", e20[1]);
  }, m: function(s3, p3) {
    vo(s3, t2, p3), uo(t2, n2), b2 && b2.m(n2, null), uo(t2, r2), w2 && w2.m(t2, null), uo(t2, i2), k2 && k2.m(t2, null), uo(t2, o2), uo(t2, a2), a2.autofocus && a2.focus(), e20[82](a2), Ao(a2, e20[3]), uo(t2, u2), C2 && C2.m(t2, null), uo(t2, c2), _2 && _2.m(t2, null), uo(t2, l2), $2 && $2.m(t2, null), uo(t2, f2), O2 && O2.m(t2, null), uo(t2, h2), P2 && P2.m(t2, null), uo(t2, d2), A2 && A2.m(t2, null), uo(t2, v2), E2 && E2.m(t2, null), e20[85](t2), m2 = true, g2 || (y2 = [jo(window, "click", e20[41]), jo(window, "focusin", e20[41]), jo(window, "keydown", e20[39]), jo(a2, "focus", e20[40]), jo(a2, "input", e20[83]), jo(t2, "click", e20[42])], g2 = true);
  }, p: function(e21, r3) {
    e21[1] ? b2 ? b2.p(e21, r3) : ((b2 = fU(e21)).c(), b2.m(n2, null)) : b2 && (b2.d(1), b2 = null), e21[17] ? w2 ? (w2.p(e21, r3), 131072 & r3[0] && ya(w2, 1)) : ((w2 = hU(e21)).c(), ya(w2, 1), w2.m(t2, i2)) : w2 && (ma(), ba(w2, 1, 1, function() {
      w2 = null;
    }), ga()), e21[35] ? k2 ? (k2.p(e21, r3), 16 & r3[1] && ya(k2, 1)) : ((k2 = dU(e21)).c(), ya(k2, 1), k2.m(t2, o2)) : k2 && (ma(), ba(k2, 1, 1, function() {
      k2 = null;
    }), ga()), Co(a2, x2 = _a(j2, [(!m2 || 8192 & r3[0] && s2 !== (s2 = !e21[13])) && { readOnly: s2 }, 1 & r3[1] && e21[31], (!m2 || 32 & r3[1]) && { placeholder: e21[36] }, (!m2 || 16384 & r3[0]) && { style: e21[14] }, (!m2 || 512 & r3[0]) && { disabled: e21[9] }])), 8 & r3[0] && a2.value !== e21[3] && Ao(a2, e21[3]), Io(a2, "svelte-17l1npl", true), !e21[7] && e21[29] ? C2 ? (C2.p(e21, r3), 536871040 & r3[0] && ya(C2, 1)) : ((C2 = vU(e21)).c(), ya(C2, 1), C2.m(t2, c2)) : C2 && (ma(), ba(C2, 1, 1, function() {
      C2 = null;
    }), ga()), e21[37] ? _2 ? (_2.p(e21, r3), 64 & r3[1] && ya(_2, 1)) : ((_2 = pU(e21)).c(), ya(_2, 1), _2.m(t2, l2)) : _2 && (ma(), ba(_2, 1, 1, function() {
      _2 = null;
    }), ga()), e21[37] || !(e21[20] || e21[19] && !e21[2]) && (e21[13] || e21[9] || e21[4] || (!e21[29] || e21[15]) && e21[29]) ? $2 && ($2.d(1), $2 = null) : $2 ? $2.p(e21, r3) : (($2 = mU(e21)).c(), $2.m(t2, f2)), e21[4] ? O2 || ((O2 = bU()).c(), O2.m(t2, h2)) : O2 && (O2.d(1), O2 = null), e21[5] ? P2 ? (P2.p(e21, r3), 32 & r3[0] && ya(P2, 1)) : ((P2 = wU(e21)).c(), ya(P2, 1), P2.m(t2, d2)) : P2 && (ma(), ba(P2, 1, 1, function() {
      P2 = null;
    }), ga()), !e21[7] || e21[7] && !e21[35] ? A2 ? A2.p(e21, r3) : ((A2 = kU(e21)).c(), A2.m(t2, v2)) : A2 && (A2.d(1), A2 = null), e21[7] && e21[35] ? E2 ? E2.p(e21, r3) : ((E2 = jU(e21)).c(), E2.m(t2, null)) : E2 && (E2.d(1), E2 = null), (!m2 || 2097152 & r3[0] && p2 !== (p2 = "selectContainer " + e21[21] + " svelte-17l1npl")) && So(t2, "class", p2), (!m2 || 2048 & r3[0]) && So(t2, "style", e21[11]), 2098176 & r3[0] && Io(t2, "hasError", e21[10]), 2097280 & r3[0] && Io(t2, "multiSelect", e21[7]), 2097664 & r3[0] && Io(t2, "disabled", e21[9]), 2097154 & r3[0] && Io(t2, "focused", e21[1]);
  }, i: function(e21) {
    m2 || (ya(w2), ya(k2), ya(C2), ya(_2), ya(P2), m2 = true);
  }, o: function(e21) {
    ba(w2), ba(k2), ba(C2), ba(_2), ba(P2), m2 = false;
  }, d: function(n3) {
    n3 && po(t2), b2 && b2.d(), w2 && w2.d(), k2 && k2.d(), e20[82](null), C2 && C2.d(), _2 && _2.d(), $2 && $2.d(), O2 && O2.d(), P2 && P2.d(), A2 && A2.d(), E2 && E2.d(), e20[85](null), g2 = false, Wi(y2);
  } };
}
function CU(e20) {
  return e20.map(function(e21, t2) {
    return { index: t2, value: e21, label: "".concat(e21) };
  });
}
function _U(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2 = Go(), h2 = t2.id, d2 = h2 === void 0 ? null : h2, v2 = t2.container, p2 = v2 === void 0 ? void 0 : v2, m2 = t2.input, g2 = m2 === void 0 ? void 0 : m2, y2 = t2.isMulti, b2 = y2 !== void 0 && y2, w2 = t2.multiFullItemClearable, k2 = w2 !== void 0 && w2, j2 = t2.isDisabled, x2 = j2 !== void 0 && j2, S2 = t2.isCreatable, C2 = S2 !== void 0 && S2, _2 = t2.isFocused, $2 = _2 !== void 0 && _2, O2 = t2.value, P2 = O2 === void 0 ? null : O2, A2 = t2.filterText, E2 = A2 === void 0 ? "" : A2, M2 = t2.placeholder, T2 = M2 === void 0 ? "Select..." : M2, I2 = t2.placeholderAlwaysShow, N2 = I2 !== void 0 && I2, R2 = t2.items, D2 = R2 === void 0 ? null : R2, L2 = t2.itemFilter, z2 = L2 === void 0 ? function(e21, t3, n3) {
    return "".concat(e21).toLowerCase().includes(t3.toLowerCase());
  } : L2, B2 = t2.groupBy, q2 = B2 === void 0 ? void 0 : B2, F2 = t2.groupFilter, V2 = F2 === void 0 ? function(e21) {
    return e21;
  } : F2, H2 = t2.isGroupHeaderSelectable, W2 = H2 !== void 0 && H2, U2 = t2.getGroupHeaderLabel, J2 = U2 === void 0 ? function(e21) {
    return e21[G2] || e21.id;
  } : U2, K2 = t2.labelIdentifier, G2 = K2 === void 0 ? "label" : K2, Q2 = t2.getOptionLabel, Y2 = Q2 === void 0 ? function(e21, t3) {
    return e21.isCreator ? 'Create "'.concat(t3, '"') : e21[G2];
  } : Q2, Z2 = t2.optionIdentifier, X2 = Z2 === void 0 ? "value" : Z2, ee2 = t2.loadOptions, te2 = ee2 === void 0 ? void 0 : ee2, ne2 = t2.hasError, re2 = ne2 !== void 0 && ne2, ie2 = t2.containerStyles, oe2 = ie2 === void 0 ? "" : ie2, ae2 = t2.getSelectionLabel, se2 = ae2 === void 0 ? function(e21) {
    return e21 ? e21[G2] : null;
  } : ae2, ue2 = t2.createGroupHeaderItem, ce2 = ue2 === void 0 ? function(e21) {
    return { value: e21, label: e21 };
  } : ue2, le2 = t2.createItem, fe2 = le2 === void 0 ? function(e21) {
    return { value: e21, label: e21 };
  } : le2, he2 = t2.isSearchable, de2 = he2 === void 0 || he2, ve2 = t2.inputStyles, pe2 = ve2 === void 0 ? "" : ve2, me2 = t2.isClearable, ge2 = me2 === void 0 || me2, ye2 = t2.isWaiting, be2 = ye2 !== void 0 && ye2, we2 = t2.listPlacement, ke2 = we2 === void 0 ? "auto" : we2, je2 = t2.listOpen, xe2 = je2 !== void 0 && je2, Se2 = t2.isVirtualList, Ce2 = Se2 !== void 0 && Se2, _e2 = t2.loadOptionsInterval, $e2 = _e2 === void 0 ? 300 : _e2, Oe2 = t2.noOptionsMessage, Pe2 = Oe2 === void 0 ? "No options" : Oe2, Ae2 = t2.hideEmptyState, Ee2 = Ae2 !== void 0 && Ae2, Me2 = t2.inputAttributes, Te2 = Me2 === void 0 ? {} : Me2, Ie2 = t2.listAutoWidth, Ne2 = Ie2 === void 0 || Ie2, Re2 = t2.itemHeight, De2 = Re2 === void 0 ? 40 : Re2, Le2 = t2.Icon, ze2 = Le2 === void 0 ? void 0 : Le2, Be2 = t2.iconProps, qe2 = Be2 === void 0 ? {} : Be2, Fe2 = t2.showChevron, Ve2 = Fe2 !== void 0 && Fe2, He2 = t2.showIndicator, We2 = He2 !== void 0 && He2, Ue2 = t2.containerClasses, Je2 = Ue2 === void 0 ? "" : Ue2, Ke2 = t2.indicatorSvg, Ge2 = Ke2 === void 0 ? void 0 : Ke2, Qe2 = t2.listOffset, Ye2 = Qe2 === void 0 ? 5 : Qe2, Ze2 = t2.ClearIcon, Xe2 = Ze2 === void 0 ? uU : Ze2, et2 = t2.Item, tt2 = et2 === void 0 ? SW : et2, nt2 = t2.List, rt2 = nt2 === void 0 ? qW : nt2, it2 = t2.Selection, ot2 = it2 === void 0 ? WW : it2, at2 = t2.MultiSelection, st2 = at2 === void 0 ? ZW : at2, ut2 = t2.VirtualList, ct2 = ut2 === void 0 ? aU : ut2;
  function lt2(e21) {
    if (!(e21.loadOptions && e21.filterText.length > 0)) {
      if (!e21.items)
        return [];
      e21.items && e21.items.length > 0 && zi(e21.items[0]) !== "object" && (e21.items = CU(e21.items));
      var t3 = e21.items.filter(function(t4) {
        var n3 = z2(Y2(t4, e21.filterText), e21.filterText, t4);
        return n3 && e21.isMulti && e21.value && Array.isArray(e21.value) && (n3 = !e21.value.some(function(n4) {
          return n4[e21.optionIdentifier] === t4[e21.optionIdentifier];
        })), n3;
      });
      return e21.groupBy && (t3 = function(e22) {
        var t4 = [], n3 = {};
        e22.forEach(function(e23) {
          var r4 = q2(e23);
          t4.includes(r4) || (t4.push(r4), n3[r4] = [], r4 && n3[r4].push(Object.assign(ce2(r4, e23), { id: r4, isGroupHeader: true, isSelectable: W2 }))), n3[r4].push(Object.assign({ isGroupItem: !!r4 }, e23));
        });
        var r3 = [];
        return V2(t4).forEach(function(e23) {
          r3.push.apply(r3, Ti(n3[e23]));
        }), r3;
      }(t3)), e21.isCreatable && (t3 = ft2(t3, e21.filterText)), t3;
    }
  }
  function ft2(e21, t3) {
    if (t3.length === 0)
      return e21;
    var n3 = fe2(t3);
    return e21[0] && t3 === e21[0][G2] ? e21 : (n3.isCreator = true, [].concat(Ti(e21), [n3]));
  }
  var ht2, dt2, vt2, pt2, mt2, gt2, yt2, bt2 = t2.selectedValue, wt2 = bt2 === void 0 ? null : bt2, kt2 = function(e21, t3, n3) {
    var r3;
    return function() {
      var i3 = this, o3 = arguments, a3 = function() {
        r3 = null, n3 || e21.apply(i3, o3);
      }, s3 = n3 && !r3;
      clearTimeout(r3), r3 = setTimeout(a3, t3), s3 && e21.apply(i3, o3);
    };
  }(yi(mi().mark(function e21() {
    var t3;
    return mi().wrap(function(e22) {
      for (; ; )
        switch (e22.prev = e22.next) {
          case 0:
            return n2(4, be2 = true), e22.next = 3, te2(E2).catch(function(e23) {
              console.warn("svelte-select loadOptions error :>> ", e23), f2("error", { type: "loadOptions", details: e23 });
            });
          case 3:
            (t3 = e22.sent) && !t3.cancelled && (t3 ? (t3 && t3.length > 0 && zi(t3[0]) !== "object" && (t3 = CU(t3)), n2(81, r2 = Ti(t3)), f2("loaded", { items: r2 })) : n2(81, r2 = []), C2 && n2(81, r2 = ft2(r2, E2)), n2(4, be2 = false), n2(1, $2 = true), n2(5, xe2 = true));
          case 5:
          case "end":
            return e22.stop();
        }
    }, e21);
  })), $e2);
  function jt2() {
    var e21 = true;
    if (P2) {
      var t3 = [], r3 = [];
      P2.forEach(function(n3) {
        t3.includes(n3[X2]) ? e21 = false : (t3.push(n3[X2]), r3.push(n3));
      }), e21 || n2(2, P2 = r3);
    }
    return e21;
  }
  function xt2(e21) {
    var t3 = e21 ? e21[X2] : P2[X2];
    return D2.find(function(e22) {
      return e22[X2] === t3;
    });
  }
  function St2(e21) {
    var t3 = e21.detail, r3 = P2[t3 ? t3.i : P2.length - 1];
    P2.length === 1 ? n2(2, P2 = void 0) : n2(2, P2 = P2.filter(function(e22) {
      return e22 !== r3;
    })), f2("clear", r3);
  }
  function Ct2() {
    n2(1, $2 = true), g2 && g2.focus();
  }
  Uo(yi(mi().mark(function e21() {
    return mi().wrap(function(e22) {
      for (; ; )
        switch (e22.prev = e22.next) {
          case 0:
            n2(77, dt2 = P2), n2(78, vt2 = E2), n2(79, pt2 = $2), n2(80, mt2 = b2);
          case 4:
          case "end":
            return e22.stop();
        }
    }, e21);
  }))), Jo(function() {
    $2 && g2 && g2.focus();
  });
  var _t2 = t2.ariaValues, $t2 = _t2 === void 0 ? function(e21) {
    return "Option ".concat(e21, ", selected.");
  } : _t2, Ot2 = t2.ariaListOpen, Pt2 = Ot2 === void 0 ? function(e21, t3) {
    return "You are currently focused on option ".concat(e21, ". There are ").concat(t3, " results available.");
  } : Ot2, At2 = t2.ariaFocused, Et2 = At2 === void 0 ? function() {
    return "Select is focused, type to refine list, press down to open the menu.";
  } : At2;
  return e20.$$set = function(e21) {
    "id" in e21 && n2(46, d2 = e21.id), "container" in e21 && n2(0, p2 = e21.container), "input" in e21 && n2(6, g2 = e21.input), "isMulti" in e21 && n2(7, b2 = e21.isMulti), "multiFullItemClearable" in e21 && n2(8, k2 = e21.multiFullItemClearable), "isDisabled" in e21 && n2(9, x2 = e21.isDisabled), "isCreatable" in e21 && n2(47, C2 = e21.isCreatable), "isFocused" in e21 && n2(1, $2 = e21.isFocused), "value" in e21 && n2(2, P2 = e21.value), "filterText" in e21 && n2(3, E2 = e21.filterText), "placeholder" in e21 && n2(48, T2 = e21.placeholder), "placeholderAlwaysShow" in e21 && n2(49, N2 = e21.placeholderAlwaysShow), "items" in e21 && n2(50, D2 = e21.items), "itemFilter" in e21 && n2(51, z2 = e21.itemFilter), "groupBy" in e21 && n2(52, q2 = e21.groupBy), "groupFilter" in e21 && n2(53, V2 = e21.groupFilter), "isGroupHeaderSelectable" in e21 && n2(54, W2 = e21.isGroupHeaderSelectable), "getGroupHeaderLabel" in e21 && n2(55, J2 = e21.getGroupHeaderLabel), "labelIdentifier" in e21 && n2(56, G2 = e21.labelIdentifier), "getOptionLabel" in e21 && n2(57, Y2 = e21.getOptionLabel), "optionIdentifier" in e21 && n2(58, X2 = e21.optionIdentifier), "loadOptions" in e21 && n2(59, te2 = e21.loadOptions), "hasError" in e21 && n2(10, re2 = e21.hasError), "containerStyles" in e21 && n2(11, oe2 = e21.containerStyles), "getSelectionLabel" in e21 && n2(12, se2 = e21.getSelectionLabel), "createGroupHeaderItem" in e21 && n2(60, ce2 = e21.createGroupHeaderItem), "createItem" in e21 && n2(61, fe2 = e21.createItem), "isSearchable" in e21 && n2(13, de2 = e21.isSearchable), "inputStyles" in e21 && n2(14, pe2 = e21.inputStyles), "isClearable" in e21 && n2(15, ge2 = e21.isClearable), "isWaiting" in e21 && n2(4, be2 = e21.isWaiting), "listPlacement" in e21 && n2(63, ke2 = e21.listPlacement), "listOpen" in e21 && n2(5, xe2 = e21.listOpen), "isVirtualList" in e21 && n2(64, Ce2 = e21.isVirtualList), "loadOptionsInterval" in e21 && n2(65, $e2 = e21.loadOptionsInterval), "noOptionsMessage" in e21 && n2(66, Pe2 = e21.noOptionsMessage), "hideEmptyState" in e21 && n2(67, Ee2 = e21.hideEmptyState), "inputAttributes" in e21 && n2(16, Te2 = e21.inputAttributes), "listAutoWidth" in e21 && n2(68, Ne2 = e21.listAutoWidth), "itemHeight" in e21 && n2(69, De2 = e21.itemHeight), "Icon" in e21 && n2(17, ze2 = e21.Icon), "iconProps" in e21 && n2(18, qe2 = e21.iconProps), "showChevron" in e21 && n2(19, Ve2 = e21.showChevron), "showIndicator" in e21 && n2(20, We2 = e21.showIndicator), "containerClasses" in e21 && n2(21, Je2 = e21.containerClasses), "indicatorSvg" in e21 && n2(22, Ge2 = e21.indicatorSvg), "listOffset" in e21 && n2(70, Ye2 = e21.listOffset), "ClearIcon" in e21 && n2(23, Xe2 = e21.ClearIcon), "Item" in e21 && n2(71, tt2 = e21.Item), "List" in e21 && n2(24, rt2 = e21.List), "Selection" in e21 && n2(25, ot2 = e21.Selection), "MultiSelection" in e21 && n2(26, st2 = e21.MultiSelection), "VirtualList" in e21 && n2(72, ct2 = e21.VirtualList), "selectedValue" in e21 && n2(73, wt2 = e21.selectedValue), "ariaValues" in e21 && n2(74, $t2 = e21.ariaValues), "ariaListOpen" in e21 && n2(75, Pt2 = e21.ariaListOpen), "ariaFocused" in e21 && n2(76, Et2 = e21.ariaFocused);
  }, e20.$$.update = function() {
    var t3, h3;
    140 & e20.$$.dirty[0] | 405340160 & e20.$$.dirty[1] && n2(81, r2 = lt2({ loadOptions: te2, filterText: E2, items: D2, value: P2, isMulti: b2, optionIdentifier: X2, groupBy: q2, isCreatable: C2 })), 2048 & e20.$$.dirty[2] && wt2 && console.warn("selectedValue is no longer used. Please use value instead."), 524288 & e20.$$.dirty[1] && function(e21) {
      e21 && e21.length !== 0 && !e21.some(function(e22) {
        return zi(e22) !== "object";
      }) && P2 && (b2 ? !P2.some(function(e22) {
        return !e22 || !e22[X2];
      }) : P2[X2]) && (Array.isArray(P2) ? n2(2, P2 = P2.map(function(e22) {
        return xt2(e22) || e22;
      })) : n2(2, P2 = xt2() || P2));
    }(D2), 4 & e20.$$.dirty[0] && P2 && (typeof P2 == "string" ? n2(2, (Mi(t3 = {}, X2, P2), Mi(t3, "label", P2), P2 = t3)) : b2 && Array.isArray(P2) && P2.length > 0 && n2(2, P2 = P2.map(function(e21) {
      return typeof e21 == "string" ? { value: e21, label: e21 } : e21;
    }))), 73728 & e20.$$.dirty[0] && (!Te2 && de2 || (n2(31, yt2 = Object.assign({ autocapitalize: "none", autocomplete: "off", autocorrect: "off", spellcheck: false, tabindex: 0, type: "text", "aria-autocomplete": "list" }, Te2)), d2 && n2(31, yt2.id = d2, yt2), de2 || n2(31, yt2.readonly = true, yt2))), 128 & e20.$$.dirty[0] | 262144 & e20.$$.dirty[2] && (b2 && P2 && (Array.isArray(P2) ? n2(2, P2 = Ti(P2)) : n2(2, P2 = [P2])), mt2 && !b2 && P2 && n2(2, P2 = null)), 132 & e20.$$.dirty[0] && b2 && P2 && P2.length > 1 && jt2(), 4 & e20.$$.dirty[0] && P2 && (b2 ? JSON.stringify(P2) !== JSON.stringify(dt2) && jt2() && f2("select", P2) : dt2 && JSON.stringify(P2[X2]) === JSON.stringify(dt2[X2]) || f2("select", P2)), 132 & e20.$$.dirty[0] | 32768 & e20.$$.dirty[2] && !P2 && b2 && dt2 && f2("select", P2), 2 & e20.$$.dirty[0] | 131072 & e20.$$.dirty[2] && $2 !== pt2 && ($2 || xe2 ? Ct2() : g2 && g2.blur()), 8 & e20.$$.dirty[0] | 65536 & e20.$$.dirty[2] && E2 !== vt2 && E2.length !== 0 && (n2(1, $2 = true), n2(5, xe2 = true), te2 ? kt2() : (n2(5, xe2 = true), b2 && n2(30, ht2 = void 0))), 12 & e20.$$.dirty[0] && n2(29, i2 = P2 && E2.length === 0), 536904208 & e20.$$.dirty[0] && n2(37, o2 = i2 && ge2 && !x2 && !be2), 132 & e20.$$.dirty[0] | 393216 & e20.$$.dirty[1] && n2(36, a2 = N2 && b2 ? T2 : P2 ? "" : T2), 132 & e20.$$.dirty[0] && n2(35, s2 = b2 && P2 && P2.length > 0), 141 & e20.$$.dirty[0] | 218103808 & e20.$$.dirty[1] | 526326 & e20.$$.dirty[2] && n2(34, u2 = { Item: tt2, filterText: E2, optionIdentifier: X2, noOptionsMessage: Pe2, hideEmptyState: Ee2, isVirtualList: Ce2, VirtualList: ct2, value: P2, isMulti: b2, getGroupHeaderLabel: J2, items: r2, itemHeight: De2, getOptionLabel: Y2, listPlacement: ke2, parent: p2, listAutoWidth: Ne2, listOffset: Ye2 }), 132 & e20.$$.dirty[0] && n2(33, c2 = P2 ? (h3 = void 0, h3 = b2 && P2.length > 0 ? P2.map(function(e21) {
      return se2(e21);
    }).join(", ") : se2(P2), $t2(h3)) : ""), 268435490 & e20.$$.dirty[0] | 524288 & e20.$$.dirty[2] && n2(32, l2 = function() {
      if (!$2 || !r2 || r2.length === 0)
        return "";
      var e21 = r2[gt2];
      if (xe2 && e21) {
        var t4 = se2(e21), n3 = r2 ? r2.length : 0;
        return Pt2(t4, n3);
      }
      return Et2();
    }());
  }, [p2, $2, P2, E2, be2, xe2, g2, b2, k2, x2, re2, oe2, se2, de2, pe2, ge2, Te2, ze2, qe2, Ve2, We2, Je2, Ge2, Xe2, rt2, ot2, st2, function() {
    n2(2, P2 = void 0), n2(5, xe2 = false), f2("clear", P2), Ct2();
  }, gt2, i2, ht2, yt2, l2, c2, u2, s2, a2, o2, St2, function(e21) {
    if ($2)
      switch (e21.key) {
        case "ArrowDown":
        case "ArrowUp":
          e21.preventDefault(), n2(5, xe2 = true), n2(30, ht2 = void 0);
          break;
        case "Tab":
          xe2 || n2(1, $2 = false);
          break;
        case "Backspace":
          if (!b2 || E2.length > 0)
            return;
          if (b2 && P2 && P2.length > 0) {
            if (St2(ht2 !== void 0 ? ht2 : P2.length - 1), ht2 === 0 || ht2 === void 0)
              break;
            n2(30, ht2 = P2.length > ht2 ? ht2 - 1 : void 0);
          }
          break;
        case "ArrowLeft":
          if (!b2 || E2.length > 0)
            return;
          ht2 === void 0 ? n2(30, ht2 = P2.length - 1) : P2.length > ht2 && ht2 !== 0 && n2(30, ht2 -= 1);
          break;
        case "ArrowRight":
          if (!b2 || E2.length > 0 || ht2 === void 0)
            return;
          ht2 === P2.length - 1 ? n2(30, ht2 = void 0) : ht2 < P2.length - 1 && n2(30, ht2 += 1);
      }
  }, Ct2, function(e21) {
    if (p2) {
      var t3 = e21.path && e21.path.length > 0 ? e21.path[0] : e21.target;
      p2.contains(t3) || p2.contains(e21.relatedTarget) || (n2(1, $2 = false), n2(5, xe2 = false), n2(30, ht2 = void 0), g2 && g2.blur());
    }
  }, function() {
    x2 || (n2(1, $2 = true), n2(5, xe2 = !xe2));
  }, function(e21) {
    var t3 = e21.detail;
    if (t3) {
      n2(3, E2 = "");
      var r3 = Object.assign({}, t3);
      r3.isGroupHeader && !r3.isSelectable || (n2(2, P2 = b2 ? P2 ? P2.concat([r3]) : [r3] : r3), n2(2, P2), setTimeout(function() {
        n2(5, xe2 = false), n2(30, ht2 = void 0);
      }));
    }
  }, function(e21) {
    var t3 = e21.detail;
    b2 ? (n2(2, P2 = P2 || []), n2(2, P2 = [].concat(Ti(P2), [fe2(t3)]))) : n2(2, P2 = fe2(t3)), f2("itemCreated", t3), n2(3, E2 = ""), n2(5, xe2 = false), n2(30, ht2 = void 0);
  }, function() {
    n2(3, E2 = ""), n2(5, xe2 = false);
  }, d2, C2, T2, N2, D2, z2, q2, V2, W2, J2, G2, Y2, X2, te2, ce2, fe2, function() {
    return r2;
  }, ke2, Ce2, $e2, Pe2, Ee2, Ne2, De2, Ye2, tt2, ct2, wt2, $t2, Pt2, Et2, dt2, vt2, pt2, mt2, r2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(6, g2 = e21);
    });
  }, function() {
    E2 = this.value, n2(3, E2);
  }, function(e21) {
    n2(28, gt2 = e21);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(0, p2 = e21);
    });
  }];
}
var $U = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, _U, SU, Ji, { id: 46, container: 0, input: 6, isMulti: 7, multiFullItemClearable: 8, isDisabled: 9, isCreatable: 47, isFocused: 1, value: 2, filterText: 3, placeholder: 48, placeholderAlwaysShow: 49, items: 50, itemFilter: 51, groupBy: 52, groupFilter: 53, isGroupHeaderSelectable: 54, getGroupHeaderLabel: 55, labelIdentifier: 56, getOptionLabel: 57, optionIdentifier: 58, loadOptions: 59, hasError: 10, containerStyles: 11, getSelectionLabel: 12, createGroupHeaderItem: 60, createItem: 61, getFilteredItems: 62, isSearchable: 13, inputStyles: 14, isClearable: 15, isWaiting: 4, listPlacement: 63, listOpen: 5, isVirtualList: 64, loadOptionsInterval: 65, noOptionsMessage: 66, hideEmptyState: 67, inputAttributes: 16, listAutoWidth: 68, itemHeight: 69, Icon: 17, iconProps: 18, showChevron: 19, showIndicator: 20, containerClasses: 21, indicatorSvg: 22, listOffset: 70, ClearIcon: 23, Item: 71, List: 24, Selection: 25, MultiSelection: 26, VirtualList: 72, selectedValue: 73, handleClear: 27, ariaValues: 74, ariaListOpen: 75, ariaFocused: 76 }, cU, [-1, -1, -1, -1]), r2;
  }
  return Li(n2, [{ key: "getFilteredItems", get: function() {
    return this.$$.ctx[62];
  } }, { key: "handleClear", get: function() {
    return this.$$.ctx[27];
  } }]), n2;
}();
function OU(e20) {
  co(e20, "svelte-13taczd", "table.jse-transform-wizard.svelte-13taczd.svelte-13taczd{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-13taczd input.svelte-13taczd{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-13taczd tr th.svelte-13taczd{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer input{box-sizing:border-box}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd{flex:4;padding:4px 8px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);outline:none;background:var(--jse-input-background);color:inherit}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd:focus{border:var(--jse-input-border-focus)}");
}
function PU(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2, C2, _2, $2, O2, P2, A2, E2, M2, T2, I2, N2;
  function R2(t3) {
    e20[18](t3);
  }
  var D2 = { containerClasses: "jse-filter-path", showIndicator: true, items: e20[6] };
  function L2(t3) {
    e20[19](t3);
  }
  e20[0] !== void 0 && (D2.value = e20[0]), s2 = new $U({ props: D2 }), Xo.push(function() {
    return Oa(s2, "value", R2);
  });
  var z2 = { containerClasses: "jse-filter-relation", showIndicator: true, items: e20[8] };
  function B2(t3) {
    e20[21](t3);
  }
  e20[1] !== void 0 && (z2.value = e20[1]), l2 = new $U({ props: z2 }), Xo.push(function() {
    return Oa(l2, "value", L2);
  });
  var q2 = { containerClasses: "jse-sort-path", showIndicator: true, items: e20[6] };
  function F2(t3) {
    e20[22](t3);
  }
  e20[3] !== void 0 && (q2.value = e20[3]), w2 = new $U({ props: q2 }), Xo.push(function() {
    return Oa(w2, "value", B2);
  });
  var V2 = { containerClasses: "jse-sort-direction", showIndicator: true, items: e20[9] };
  function H2(t3) {
    e20[23](t3);
  }
  e20[4] !== void 0 && (V2.value = e20[4]), x2 = new $U({ props: V2 }), Xo.push(function() {
    return Oa(x2, "value", F2);
  });
  var W2 = { containerClasses: "jse-projection-paths", isMulti: true, showIndicator: true, items: e20[7] };
  return e20[5] !== void 0 && (W2.value = e20[5]), E2 = new $U({ props: W2 }), Xo.push(function() {
    return Oa(E2, "value", H2);
  }), { c: function() {
    t2 = go("table"), n2 = go("tr"), (r2 = go("th")).textContent = "Filter", i2 = wo(), o2 = go("td"), a2 = go("div"), Pa(s2.$$.fragment), c2 = wo(), Pa(l2.$$.fragment), h2 = wo(), d2 = go("input"), v2 = wo(), p2 = go("tr"), (m2 = go("th")).textContent = "Sort", g2 = wo(), y2 = go("td"), b2 = go("div"), Pa(w2.$$.fragment), j2 = wo(), Pa(x2.$$.fragment), C2 = wo(), _2 = go("tr"), ($2 = go("th")).textContent = "Pick", O2 = wo(), P2 = go("td"), A2 = go("div"), Pa(E2.$$.fragment), So(r2, "class", "svelte-13taczd"), So(d2, "class", "jse-filter-value svelte-13taczd"), So(a2, "class", "jse-horizontal svelte-13taczd"), So(m2, "class", "svelte-13taczd"), So(b2, "class", "jse-horizontal svelte-13taczd"), So($2, "class", "svelte-13taczd"), So(A2, "class", "jse-horizontal svelte-13taczd"), So(t2, "class", "jse-transform-wizard svelte-13taczd");
  }, m: function(u3, f3) {
    vo(u3, t2, f3), uo(t2, n2), uo(n2, r2), uo(n2, i2), uo(n2, o2), uo(o2, a2), Aa(s2, a2, null), uo(a2, c2), Aa(l2, a2, null), uo(a2, h2), uo(a2, d2), Ao(d2, e20[2]), uo(t2, v2), uo(t2, p2), uo(p2, m2), uo(p2, g2), uo(p2, y2), uo(y2, b2), Aa(w2, b2, null), uo(b2, j2), Aa(x2, b2, null), uo(t2, C2), uo(t2, _2), uo(_2, $2), uo(_2, O2), uo(_2, P2), uo(P2, A2), Aa(E2, A2, null), T2 = true, I2 || (N2 = jo(d2, "input", e20[20]), I2 = true);
  }, p: function(e21, t3) {
    var n3 = {};
    64 & t3[0] && (n3.items = e21[6]), !u2 && 1 & t3[0] && (u2 = true, n3.value = e21[0], sa(function() {
      return u2 = false;
    })), s2.$set(n3);
    var r3 = {};
    !f2 && 2 & t3[0] && (f2 = true, r3.value = e21[1], sa(function() {
      return f2 = false;
    })), l2.$set(r3), 4 & t3[0] && d2.value !== e21[2] && Ao(d2, e21[2]);
    var i3 = {};
    64 & t3[0] && (i3.items = e21[6]), !k2 && 8 & t3[0] && (k2 = true, i3.value = e21[3], sa(function() {
      return k2 = false;
    })), w2.$set(i3);
    var o3 = {};
    !S2 && 16 & t3[0] && (S2 = true, o3.value = e21[4], sa(function() {
      return S2 = false;
    })), x2.$set(o3);
    var a3 = {};
    128 & t3[0] && (a3.items = e21[7]), !M2 && 32 & t3[0] && (M2 = true, a3.value = e21[5], sa(function() {
      return M2 = false;
    })), E2.$set(a3);
  }, i: function(e21) {
    T2 || (ya(s2.$$.fragment, e21), ya(l2.$$.fragment, e21), ya(w2.$$.fragment, e21), ya(x2.$$.fragment, e21), ya(E2.$$.fragment, e21), T2 = true);
  }, o: function(e21) {
    ba(s2.$$.fragment, e21), ba(l2.$$.fragment, e21), ba(w2.$$.fragment, e21), ba(x2.$$.fragment, e21), ba(E2.$$.fragment, e21), T2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(s2), Ea(l2), Ea(w2), Ea(x2), Ea(E2), I2 = false, N2();
  } };
}
function AU(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2 = Na("jsoneditor:TransformWizard"), m2 = t2.json, g2 = t2.queryOptions, y2 = g2 === void 0 ? {} : g2, b2 = t2.onChange, w2 = ["==", "!=", "<", "<=", ">", ">="].map(function(e21) {
    return { value: e21, label: e21 };
  }), k2 = [{ value: "asc", label: "ascending" }, { value: "desc", label: "descending" }], j2 = ((u2 = y2 == null ? void 0 : y2.filter) === null || u2 === void 0 ? void 0 : u2.path) ? O2(y2.filter.path) : null, x2 = ((c2 = y2 == null ? void 0 : y2.filter) === null || c2 === void 0 ? void 0 : c2.relation) ? w2.find(function(e21) {
    return e21.value === y2.filter.relation;
  }) : null, S2 = ((l2 = y2 == null ? void 0 : y2.filter) === null || l2 === void 0 ? void 0 : l2.value) || "", C2 = ((f2 = y2 == null ? void 0 : y2.sort) === null || f2 === void 0 ? void 0 : f2.path) ? O2(y2.sort.path) : null, _2 = ((h2 = y2 == null ? void 0 : y2.sort) === null || h2 === void 0 ? void 0 : h2.direction) ? k2.find(function(e21) {
    return e21.value === y2.sort.direction;
  }) : null, $2 = ((d2 = y2 == null ? void 0 : y2.projection) === null || d2 === void 0 ? void 0 : d2.paths) ? y2.projection.paths.map(O2) : null;
  function O2(e21) {
    return { value: e21, label: Ym(e21) ? "(whole item)" : rC(e21) };
  }
  return e20.$$set = function(e21) {
    "json" in e21 && n2(11, m2 = e21.json), "queryOptions" in e21 && n2(10, y2 = e21.queryOptions), "onChange" in e21 && n2(12, b2 = e21.onChange);
  }, e20.$$.update = function() {
    2048 & e20.$$.dirty[0] && n2(17, r2 = Array.isArray(m2)), 133120 & e20.$$.dirty[0] && n2(16, i2 = r2 ? Js(m2) : []), 133120 & e20.$$.dirty[0] && n2(15, o2 = r2 ? Js(m2, true) : []), 65536 & e20.$$.dirty[0] && n2(6, a2 = i2.map(O2)), 32768 & e20.$$.dirty[0] && n2(7, s2 = o2 ? o2.map(O2) : []), 17472 & e20.$$.dirty[0] && (n2(14, v2 = y2 == null ? void 0 : y2.filter) === null || v2 === void 0 ? void 0 : v2.path) && a2.find(function(e21) {
      var t3;
      return Zm(e21.value, (t3 = y2 == null ? void 0 : y2.filter) === null || t3 === void 0 ? void 0 : t3.path);
    }), 1 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.filter) === null || t3 === void 0 ? void 0 : t3.path, e21) || (p2("changeFilterPath", e21), n2(10, y2 = ws.exports.setIn(y2, ["filter", "path"], e21, true)), b2(y2));
    }((j2 == null ? void 0 : j2.value) || null), 2 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.filter) === null || t3 === void 0 ? void 0 : t3.relation, e21) || (p2("changeFilterRelation", e21), n2(10, y2 = ws.exports.setIn(y2, ["filter", "relation"], e21, true)), b2(y2));
    }((x2 == null ? void 0 : x2.value) || null), 4 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.filter) === null || t3 === void 0 ? void 0 : t3.value, e21) || (p2("changeFilterValue", e21), n2(10, y2 = ws.exports.setIn(y2, ["filter", "value"], e21, true)), b2(y2));
    }(S2 || null), 8 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.sort) === null || t3 === void 0 ? void 0 : t3.path, e21) || (p2("changeSortPath", e21), n2(10, y2 = ws.exports.setIn(y2, ["sort", "path"], e21, true)), b2(y2));
    }((C2 == null ? void 0 : C2.value) || null), 16 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.sort) === null || t3 === void 0 ? void 0 : t3.direction, e21) || (p2("changeSortDirection", e21), n2(10, y2 = ws.exports.setIn(y2, ["sort", "direction"], e21, true)), b2(y2));
    }((_2 == null ? void 0 : _2.value) || null), 32 & e20.$$.dirty[0] && function(e21) {
      var t3;
      Zm((t3 = y2 == null ? void 0 : y2.projection) === null || t3 === void 0 ? void 0 : t3.paths, e21) || (p2("changeProjectionPaths", e21), n2(10, y2 = ws.exports.setIn(y2, ["projection", "paths"], e21, true)), b2(y2));
    }($2 ? $2.map(function(e21) {
      return e21.value;
    }) : null);
  }, [j2, x2, S2, C2, _2, $2, a2, s2, w2, k2, y2, m2, b2, u2, v2, o2, i2, r2, function(e21) {
    n2(0, j2 = e21);
  }, function(e21) {
    n2(1, x2 = e21);
  }, function() {
    S2 = this.value, n2(2, S2);
  }, function(e21) {
    n2(3, C2 = e21);
  }, function(e21) {
    n2(4, _2 = e21);
  }, function(e21) {
    n2(5, $2 = e21);
  }];
}
var EU = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, AU, PU, Ki, { json: 11, queryOptions: 10, onChange: 12 }, OU, [-1, -1]), r2;
  }
  return Li(n2);
}();
function MU(e20) {
  co(e20, "svelte-19cxesy", ".jse-select-query-language.svelte-19cxesy.svelte-19cxesy{position:relative;width:32px}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container.svelte-19cxesy{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;text-align:left;padding:var(--jse-padding) calc(2 * var(--jse-padding));white-space:nowrap;color:var(--jse-context-menu-color);background:var(--jse-context-menu-background)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy:hover{background:var(--jse-context-menu-background-highlight)}");
}
function TU(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[5] = t2[n2], r2;
}
function IU(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: Nq } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function NU(e20) {
  var t2, n2;
  return t2 = new KS({ props: { data: Rq } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: Bi, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function RU(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2 = e20[5].name + "", h2 = [NU, IU], d2 = [];
  function v2(e21, t3) {
    return e21[5].id === e21[0] ? 0 : 1;
  }
  function p2() {
    return e20[4](e20[5]);
  }
  return n2 = v2(e20), r2 = d2[n2] = h2[n2](e20), { c: function() {
    t2 = go("button"), r2.c(), i2 = wo(), o2 = bo(f2), a2 = wo(), So(t2, "type", "button"), So(t2, "class", "jse-query-language svelte-19cxesy"), So(t2, "title", s2 = "Select ".concat(e20[5].name, " as query language")), Io(t2, "selected", e20[5].id === e20[0]);
  }, m: function(e21, r3) {
    vo(e21, t2, r3), d2[n2].m(t2, null), uo(t2, i2), uo(t2, o2), uo(t2, a2), u2 = true, c2 || (l2 = jo(t2, "click", p2), c2 = true);
  }, p: function(a3, c3) {
    var l3 = n2;
    (n2 = v2(e20 = a3)) === l3 ? d2[n2].p(e20, c3) : (ma(), ba(d2[l3], 1, 1, function() {
      d2[l3] = null;
    }), ga(), (r2 = d2[n2]) ? r2.p(e20, c3) : (r2 = d2[n2] = h2[n2](e20)).c(), ya(r2, 1), r2.m(t2, i2)), (!u2 || 2 & c3) && f2 !== (f2 = e20[5].name + "") && Po(o2, f2), (!u2 || 2 & c3 && s2 !== (s2 = "Select ".concat(e20[5].name, " as query language"))) && So(t2, "title", s2), 3 & c3 && Io(t2, "selected", e20[5].id === e20[0]);
  }, i: function(e21) {
    u2 || (ya(r2), u2 = true);
  }, o: function(e21) {
    ba(r2), u2 = false;
  }, d: function(e21) {
    e21 && po(t2), d2[n2].d(), c2 = false, l2();
  } };
}
function DU(e20) {
  for (var t2, n2, r2, i2 = e20[1], o2 = [], a2 = 0; a2 < i2.length; a2 += 1)
    o2[a2] = RU(TU(e20, i2, a2));
  var s2 = function(e21) {
    return ba(o2[e21], 1, 1, function() {
      o2[e21] = null;
    });
  };
  return { c: function() {
    t2 = go("div"), n2 = go("div");
    for (var e21 = 0; e21 < o2.length; e21 += 1)
      o2[e21].c();
    So(n2, "class", "jse-select-query-language-container svelte-19cxesy"), So(t2, "class", "jse-select-query-language svelte-19cxesy");
  }, m: function(e21, i3) {
    vo(e21, t2, i3), uo(t2, n2);
    for (var a3 = 0; a3 < o2.length; a3 += 1)
      o2[a3].m(n2, null);
    r2 = true;
  }, p: function(e21, t3) {
    var r3 = ji(t3, 1)[0];
    if (7 & r3) {
      var a3;
      for (i2 = e21[1], a3 = 0; a3 < i2.length; a3 += 1) {
        var u2 = TU(e21, i2, a3);
        o2[a3] ? (o2[a3].p(u2, r3), ya(o2[a3], 1)) : (o2[a3] = RU(u2), o2[a3].c(), ya(o2[a3], 1), o2[a3].m(n2, null));
      }
      for (ma(), a3 = i2.length; a3 < o2.length; a3 += 1)
        s2(a3);
      ga();
    }
  }, i: function(e21) {
    if (!r2) {
      for (var t3 = 0; t3 < i2.length; t3 += 1)
        ya(o2[t3]);
      r2 = true;
    }
  }, o: function(e21) {
    o2 = o2.filter(Boolean);
    for (var t3 = 0; t3 < o2.length; t3 += 1)
      ba(o2[t3]);
    r2 = false;
  }, d: function(e21) {
    e21 && po(t2), mo(o2, e21);
  } };
}
function LU(e20, t2, n2) {
  var r2 = t2.queryLanguages, i2 = t2.queryLanguageId, o2 = t2.onChangeQueryLanguage;
  function a2(e21) {
    n2(0, i2 = e21), o2(e21);
  }
  return e20.$$set = function(e21) {
    "queryLanguages" in e21 && n2(1, r2 = e21.queryLanguages), "queryLanguageId" in e21 && n2(0, i2 = e21.queryLanguageId), "onChangeQueryLanguage" in e21 && n2(3, o2 = e21.onChangeQueryLanguage);
  }, [i2, r2, a2, o2, function(e21) {
    return a2(e21.id);
  }];
}
var zU = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, LU, DU, Ji, { queryLanguages: 1, queryLanguageId: 0, onChangeQueryLanguage: 3 }, MU), r2;
  }
  return Li(n2);
}();
function BU(e20) {
  co(e20, "svelte-d01h2s", ".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}");
}
function qU(e20) {
  var t2, n2, r2, i2, o2;
  return n2 = new KS({ props: { data: fS } }), { c: function() {
    t2 = go("button"), Pa(n2.$$.fragment), So(t2, "type", "button"), So(t2, "class", "jse-config svelte-d01h2s"), So(t2, "title", "Select a query language");
  }, m: function(a2, s2) {
    vo(a2, t2, s2), Aa(n2, t2, null), e20[6](t2), r2 = true, i2 || (o2 = jo(t2, "click", e20[3]), i2 = true);
  }, p: Bi, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(r3) {
    r3 && po(t2), Ea(n2), e20[6](null), i2 = false, o2();
  } };
}
function FU(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2 = e20[0].length > 1 && qU(e20);
  return a2 = new KS({ props: { data: wS } }), { c: function() {
    t2 = go("div"), (n2 = go("div")).textContent = "Transform", r2 = wo(), l2 && l2.c(), i2 = wo(), o2 = go("button"), Pa(a2.$$.fragment), So(n2, "class", "jse-title svelte-d01h2s"), So(o2, "type", "button"), So(o2, "class", "jse-close svelte-d01h2s"), So(t2, "class", "jse-header svelte-d01h2s");
  }, m: function(f2, h2) {
    vo(f2, t2, h2), uo(t2, n2), uo(t2, r2), l2 && l2.m(t2, null), uo(t2, i2), uo(t2, o2), Aa(a2, o2, null), s2 = true, u2 || (c2 = jo(o2, "click", e20[2]), u2 = true);
  }, p: function(e21, n3) {
    var r3 = ji(n3, 1)[0];
    e21[0].length > 1 ? l2 ? (l2.p(e21, r3), 1 & r3 && ya(l2, 1)) : ((l2 = qU(e21)).c(), ya(l2, 1), l2.m(t2, i2)) : l2 && (ma(), ba(l2, 1, 1, function() {
      l2 = null;
    }), ga());
  }, i: function(e21) {
    s2 || (ya(l2), ya(a2.$$.fragment, e21), s2 = true);
  }, o: function(e21) {
    ba(l2), ba(a2.$$.fragment, e21), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), l2 && l2.d(), Ea(a2), u2 = false, c2();
  } };
}
function VU(e20, t2, n2) {
  var r2, i2 = t2.queryLanguages, o2 = t2.queryLanguageId, a2 = t2.onChangeQueryLanguage, s2 = Yo("simple-modal").close, u2 = Yo("absolute-popup"), c2 = u2.openAbsolutePopup, l2 = u2.closeAbsolutePopup;
  return e20.$$set = function(e21) {
    "queryLanguages" in e21 && n2(0, i2 = e21.queryLanguages), "queryLanguageId" in e21 && n2(4, o2 = e21.queryLanguageId), "onChangeQueryLanguage" in e21 && n2(5, a2 = e21.onChangeQueryLanguage);
  }, [i2, r2, s2, function() {
    c2(zU, { queryLanguages: i2, queryLanguageId: o2, onChangeQueryLanguage: function(e21) {
      l2(), a2(e21);
    } }, { position: "bottom", offsetTop: -2, offsetLeft: 0, anchor: r2, closeOnOuterClick: true });
  }, o2, a2, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(1, r2 = e21);
    });
  }];
}
var HU = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, VU, FU, Ki, { queryLanguages: 0, queryLanguageId: 4, onChangeQueryLanguage: 5 }, BU), r2;
  }
  return Li(n2);
}();
function WU(e20) {
  co(e20, "svelte-15uz9w0", ".jse-modal.svelte-15uz9w0.svelte-15uz9w0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{padding:20px;overflow:auto}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex:1;display:flex;gap:calc(2 * var(--jse-padding));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding)) var(--jse-padding)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p{margin:var(--jse-padding) 0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 code{background:var(--jse-modal-code-background);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-15uz9w0{flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-15uz9w0{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{padding:var(--jse-padding) calc(2 * var(--jse-padding)) calc(2 * var(--jse-padding))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0 .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label.svelte-15uz9w0{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner.svelte-15uz9w0{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:focus,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:read-only,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-preview.jse-error.svelte-15uz9w0{flex:1;background:var(--jse-input-background-readonly);border:var(--jse-input-border);color:var(--jse-error-color);padding:calc(0.5 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 a{color:var(--jse-a-color)}.jse-modal.jse-transform.svelte-15uz9w0 a:hover{color:var(--jse-a-color-highlight)}");
}
function UU(e20) {
  var t2, n2, r2, i2, o2, a2 = [KU, JU], s2 = [];
  function u2(e21, n3) {
    return 512 & n3[0] && (t2 = null), t2 == null && (t2 = !!Array.isArray(e21[9])), t2 ? 0 : 1;
  }
  return n2 = u2(e20, [-1, -1]), r2 = s2[n2] = a2[n2](e20), { c: function() {
    r2.c(), i2 = ko();
  }, m: function(e21, t3) {
    s2[n2].m(e21, t3), vo(e21, i2, t3), o2 = true;
  }, p: function(e21, t3) {
    var o3 = n2;
    (n2 = u2(e21, t3)) === o3 ? s2[n2].p(e21, t3) : (ma(), ba(s2[o3], 1, 1, function() {
      s2[o3] = null;
    }), ga(), (r2 = s2[n2]) ? r2.p(e21, t3) : (r2 = s2[n2] = a2[n2](e21)).c(), ya(r2, 1), r2.m(i2.parentNode, i2));
  }, i: function(e21) {
    o2 || (ya(r2), o2 = true);
  }, o: function(e21) {
    ba(r2), o2 = false;
  }, d: function(e21) {
    s2[n2].d(e21), e21 && po(i2);
  } };
}
function JU(e20) {
  var t2;
  return { c: function() {
    t2 = bo("(Only available for arrays, not for objects)");
  }, m: function(e21, n2) {
    vo(e21, t2, n2);
  }, p: Bi, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function KU(e20) {
  var t2, n2;
  return t2 = new EU({ props: { queryOptions: e20[7], json: e20[9], onChange: e20[16] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    128 & n3[0] && (r2.queryOptions = e21[7]), 512 & n3[0] && (r2.json = e21[9]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function GU(e20) {
  var t2, n2;
  return t2 = new WH({ props: { externalContent: e20[14], readOnly: true, mainMenuBar: false, navigationBar: false, escapeControlCharacters: e20[2], escapeUnicodeCharacters: e20[3], onRenderValue: e20[5], onError: console.error, onChange: wc, onFocus: wc, onBlur: wc, onSortModal: wc, onTransformModal: wc, onClassName: e20[6] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    16384 & n3[0] && (r2.externalContent = e21[14]), 4 & n3[0] && (r2.escapeControlCharacters = e21[2]), 8 & n3[0] && (r2.escapeUnicodeCharacters = e21[3]), 32 & n3[0] && (r2.onRenderValue = e21[5]), 64 & n3[0] && (r2.onClassName = e21[6]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function QU(e20) {
  var t2, n2, r2 = e20[12].toString() + "";
  return { c: function() {
    t2 = go("div"), n2 = bo(r2), So(t2, "class", "jse-preview jse-error svelte-15uz9w0");
  }, m: function(e21, r3) {
    vo(e21, t2, r3), uo(t2, n2);
  }, p: function(e21, t3) {
    4096 & t3[0] && r2 !== (r2 = e21[12].toString() + "") && Po(n2, r2);
  }, i: Bi, o: Bi, d: function(e21) {
    e21 && po(t2);
  } };
}
function YU(e20) {
  var t2, n2;
  return t2 = new WH({ props: { externalContent: e20[13], readOnly: true, mainMenuBar: false, navigationBar: false, escapeControlCharacters: e20[2], escapeUnicodeCharacters: e20[3], onRenderValue: e20[5], onError: console.error, onChange: wc, onFocus: wc, onBlur: wc, onSortModal: wc, onTransformModal: wc, onClassName: e20[6] } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    8192 & n3[0] && (r2.externalContent = e21[13]), 4 & n3[0] && (r2.escapeControlCharacters = e21[2]), 8 & n3[0] && (r2.escapeUnicodeCharacters = e21[3]), 32 & n3[0] && (r2.onRenderValue = e21[5]), 64 & n3[0] && (r2.onClassName = e21[6]), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function ZU(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2, C2, _2, $2, O2, P2, A2, E2, M2, T2, I2, N2, R2, D2, L2, z2, B2, q2, F2, V2, H2, W2, U2, J2, K2 = e20[15](e20[0]).description + "";
  t2 = new HU({ props: { queryLanguages: e20[4], queryLanguageId: e20[0], onChangeQueryLanguage: e20[21] } }), y2 = new KS({ props: { data: e20[10] ? Xx : eS } });
  var G2 = e20[10] && UU(e20);
  E2 = new KS({ props: { data: e20[11] ? Xx : eS } });
  var Q2 = e20[11] && GU(e20), Y2 = [YU, QU], Z2 = [];
  function X2(e21, t3) {
    return e21[12] ? 1 : 0;
  }
  return L2 = X2(e20), z2 = Z2[L2] = Y2[L2](e20), { c: function() {
    Pa(t2.$$.fragment), n2 = wo(), r2 = go("div"), i2 = go("div"), o2 = go("div"), (a2 = go("div")).innerHTML = '<div class="jse-label-inner svelte-15uz9w0">Language</div>', s2 = wo(), u2 = go("div"), c2 = wo(), (l2 = go("div")).innerHTML = '<div class="jse-label-inner svelte-15uz9w0">Path</div>', f2 = wo(), h2 = go("input"), v2 = wo(), p2 = go("div"), m2 = go("div"), g2 = go("button"), Pa(y2.$$.fragment), b2 = bo("\n                Wizard"), w2 = wo(), G2 && G2.c(), k2 = wo(), (j2 = go("div")).innerHTML = '<div class="jse-label-inner svelte-15uz9w0">Query</div>', x2 = wo(), S2 = go("textarea"), C2 = wo(), _2 = go("div"), $2 = go("div"), O2 = go("div"), P2 = go("div"), A2 = go("button"), Pa(E2.$$.fragment), M2 = bo("\n                  Original"), T2 = wo(), Q2 && Q2.c(), I2 = wo(), N2 = go("div"), (R2 = go("div")).innerHTML = '<div class="jse-label-inner svelte-15uz9w0">Preview</div>', D2 = wo(), z2.c(), B2 = wo(), q2 = go("div"), F2 = go("button"), V2 = bo("Transform"), So(a2, "class", "jse-label svelte-15uz9w0"), So(u2, "class", "jse-description svelte-15uz9w0"), So(l2, "class", "jse-label svelte-15uz9w0"), So(h2, "class", "jse-path svelte-15uz9w0"), So(h2, "type", "text"), h2.readOnly = true, So(h2, "title", "Selected path"), h2.value = d2 = Ym(e20[1]) ? "(whole document)" : rC(e20[1]), So(g2, "type", "button"), So(g2, "class", "svelte-15uz9w0"), So(m2, "class", "jse-label-inner svelte-15uz9w0"), So(p2, "class", "jse-label svelte-15uz9w0"), So(j2, "class", "jse-label svelte-15uz9w0"), So(S2, "class", "jse-query svelte-15uz9w0"), So(S2, "spellcheck", "false"), S2.value = e20[8], So(o2, "class", "jse-query-contents svelte-15uz9w0"), So(A2, "type", "button"), So(A2, "class", "svelte-15uz9w0"), So(P2, "class", "jse-label-inner svelte-15uz9w0"), So(O2, "class", "jse-label svelte-15uz9w0"), So($2, "class", "jse-original-data svelte-15uz9w0"), Io($2, "jse-hide", !e20[11]), So(R2, "class", "jse-label svelte-15uz9w0"), So(N2, "class", "jse-preview-data svelte-15uz9w0"), So(_2, "class", "jse-data-contents svelte-15uz9w0"), Io(_2, "jse-hide-original-data", !e20[11]), So(i2, "class", "jse-main-contents svelte-15uz9w0"), So(F2, "type", "button"), So(F2, "class", "jse-primary svelte-15uz9w0"), F2.disabled = H2 = !!e20[12], So(q2, "class", "jse-actions svelte-15uz9w0"), So(r2, "class", "jse-contents svelte-15uz9w0");
  }, m: function(d3, z3) {
    Aa(t2, d3, z3), vo(d3, n2, z3), vo(d3, r2, z3), uo(r2, i2), uo(i2, o2), uo(o2, a2), uo(o2, s2), uo(o2, u2), u2.innerHTML = K2, uo(o2, c2), uo(o2, l2), uo(o2, f2), uo(o2, h2), uo(o2, v2), uo(o2, p2), uo(p2, m2), uo(m2, g2), Aa(y2, g2, null), uo(g2, b2), uo(o2, w2), G2 && G2.m(o2, null), uo(o2, k2), uo(o2, j2), uo(o2, x2), uo(o2, S2), uo(i2, C2), uo(i2, _2), uo(_2, $2), uo($2, O2), uo(O2, P2), uo(P2, A2), Aa(E2, A2, null), uo(A2, M2), uo($2, T2), Q2 && Q2.m($2, null), uo(_2, I2), uo(_2, N2), uo(N2, R2), uo(N2, D2), Z2[L2].m(N2, null), uo(r2, B2), uo(r2, q2), uo(q2, F2), uo(F2, V2), W2 = true, U2 || (J2 = [jo(g2, "click", e20[19]), jo(S2, "input", e20[17]), jo(A2, "click", e20[20]), jo(F2, "click", e20[18]), to(eJ.call(null, F2))], U2 = true);
  }, p: function(e21, n3) {
    var r3 = {};
    16 & n3[0] && (r3.queryLanguages = e21[4]), 1 & n3[0] && (r3.queryLanguageId = e21[0]), t2.$set(r3), (!W2 || 1 & n3[0]) && K2 !== (K2 = e21[15](e21[0]).description + "") && (u2.innerHTML = K2), (!W2 || 2 & n3[0] && d2 !== (d2 = Ym(e21[1]) ? "(whole document)" : rC(e21[1])) && h2.value !== d2) && (h2.value = d2);
    var i3 = {};
    1024 & n3[0] && (i3.data = e21[10] ? Xx : eS), y2.$set(i3), e21[10] ? G2 ? (G2.p(e21, n3), 1024 & n3[0] && ya(G2, 1)) : ((G2 = UU(e21)).c(), ya(G2, 1), G2.m(o2, k2)) : G2 && (ma(), ba(G2, 1, 1, function() {
      G2 = null;
    }), ga()), (!W2 || 256 & n3[0]) && (S2.value = e21[8]);
    var a3 = {};
    2048 & n3[0] && (a3.data = e21[11] ? Xx : eS), E2.$set(a3), e21[11] ? Q2 ? (Q2.p(e21, n3), 2048 & n3[0] && ya(Q2, 1)) : ((Q2 = GU(e21)).c(), ya(Q2, 1), Q2.m($2, null)) : Q2 && (ma(), ba(Q2, 1, 1, function() {
      Q2 = null;
    }), ga()), 2048 & n3[0] && Io($2, "jse-hide", !e21[11]);
    var s3 = L2;
    (L2 = X2(e21)) === s3 ? Z2[L2].p(e21, n3) : (ma(), ba(Z2[s3], 1, 1, function() {
      Z2[s3] = null;
    }), ga(), (z2 = Z2[L2]) ? z2.p(e21, n3) : (z2 = Z2[L2] = Y2[L2](e21)).c(), ya(z2, 1), z2.m(N2, null)), 2048 & n3[0] && Io(_2, "jse-hide-original-data", !e21[11]), (!W2 || 4096 & n3[0] && H2 !== (H2 = !!e21[12])) && (F2.disabled = H2);
  }, i: function(e21) {
    W2 || (ya(t2.$$.fragment, e21), ya(y2.$$.fragment, e21), ya(G2), ya(E2.$$.fragment, e21), ya(Q2), ya(z2), W2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), ba(y2.$$.fragment, e21), ba(G2), ba(E2.$$.fragment, e21), ba(Q2), ba(z2), W2 = false;
  }, d: function(e21) {
    Ea(t2, e21), e21 && po(n2), e21 && po(r2), Ea(y2), G2 && G2.d(), Ea(E2), Q2 && Q2.d(), Z2[L2].d(), U2 = false, Wi(J2);
  } };
}
function XU(e20) {
  var t2, n2, r2;
  return n2 = new Ux({ props: { $$slots: { default: [ZU] }, $$scope: { ctx: e20 } } }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), So(t2, "class", "jse-modal jse-transform svelte-15uz9w0");
  }, m: function(e21, i2) {
    vo(e21, t2, i2), Aa(n2, t2, null), r2 = true;
  }, p: function(e21, t3) {
    var r3 = {};
    32767 & t3[0] | 8 & t3[1] && (r3.$$scope = { dirty: t3, ctx: e21 }), n2.$set(r3);
  }, i: function(e21) {
    r2 || (ya(n2.$$.fragment, e21), r2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), r2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2);
  } };
}
function eJ(e20) {
  e20.focus();
}
function tJ(e20, t2, n2) {
  var r2, i2, o2 = Na("jsoneditor:TransformModal"), a2 = t2.id, s2 = a2 === void 0 ? "transform-modal-" + ys() : a2, u2 = t2.json, c2 = t2.selectedPath, l2 = c2 === void 0 ? [] : c2, f2 = t2.escapeControlCharacters, h2 = t2.escapeUnicodeCharacters, d2 = t2.queryLanguages, v2 = t2.queryLanguageId, p2 = t2.onChangeQueryLanguage, m2 = t2.onRenderValue, g2 = t2.onClassName, y2 = t2.onTransform, b2 = Yo("simple-modal").close, w2 = "".concat(s2, ":").concat(ws.exports.compileJSONPointer(l2)), k2 = wW[w2] || {}, j2 = wW.showWizard !== false, x2 = wW.showOriginal !== false, S2 = k2.queryOptions || {}, C2 = v2 === k2.queryLanguageId && k2.query ? k2.query : P2(v2).createQuery(u2, k2.queryOptions || {}), _2 = k2.isManual || false, $2 = void 0, O2 = { text: "" };
  function P2(e21) {
    return d2.find(function(t3) {
      return t3.id === e21;
    }) || d2[0];
  }
  var A2 = Av(function(e21, t3) {
    try {
      o2("previewTransform", { query: t3 });
      var r3 = P2(v2).executeQuery(e21, t3);
      n2(13, O2 = { json: r3 }), n2(12, $2 = void 0);
    } catch (e22) {
      n2(13, O2 = { text: "" }), n2(12, $2 = e22);
    }
  }, 300);
  return e20.$$set = function(e21) {
    "id" in e21 && n2(22, s2 = e21.id), "json" in e21 && n2(23, u2 = e21.json), "selectedPath" in e21 && n2(1, l2 = e21.selectedPath), "escapeControlCharacters" in e21 && n2(2, f2 = e21.escapeControlCharacters), "escapeUnicodeCharacters" in e21 && n2(3, h2 = e21.escapeUnicodeCharacters), "queryLanguages" in e21 && n2(4, d2 = e21.queryLanguages), "queryLanguageId" in e21 && n2(0, v2 = e21.queryLanguageId), "onChangeQueryLanguage" in e21 && n2(24, p2 = e21.onChangeQueryLanguage), "onRenderValue" in e21 && n2(5, m2 = e21.onRenderValue), "onClassName" in e21 && n2(6, g2 = e21.onClassName), "onTransform" in e21 && n2(25, y2 = e21.onTransform);
  }, e20.$$.update = function() {
    8388610 & e20.$$.dirty[0] && n2(9, r2 = ws.exports.getIn(u2, l2)), 512 & e20.$$.dirty[0] && n2(14, i2 = { json: r2 }), 768 & e20.$$.dirty[0] && A2(r2, C2), 201326977 & e20.$$.dirty[0] && (n2(26, wW[w2] = { queryOptions: S2, query: C2, queryLanguageId: v2, isManual: _2 }, wW), o2("store state in memory", w2, wW[w2]));
  }, [v2, l2, f2, h2, d2, m2, g2, S2, C2, r2, j2, x2, $2, O2, i2, P2, function(e21) {
    n2(7, S2 = e21), n2(8, C2 = P2(v2).createQuery(u2, e21)), n2(27, _2 = false), o2("updateQueryByWizard", { queryOptions: S2, query: C2, isManual: _2 });
  }, function(e21) {
    n2(8, C2 = e21.target.value), n2(27, _2 = true), o2("handleChangeQuery", { query: C2, isManual: _2 });
  }, function() {
    try {
      o2("handleTransform", { query: C2 });
      var e21 = P2(v2).executeQuery(r2, C2);
      y2([{ op: "replace", path: ws.exports.compileJSONPointer(l2), value: e21 }]), b2();
    } catch (e22) {
      console.error(e22), n2(13, O2 = { text: "" }), n2(12, $2 = e22.toString());
    }
  }, function() {
    n2(10, j2 = !j2), n2(26, wW.showWizard = j2, wW);
  }, function() {
    n2(11, x2 = !x2), n2(26, wW.showOriginal = x2, wW);
  }, function(e21) {
    o2("handleChangeQueryLanguage", e21), n2(0, v2 = e21), p2(e21);
    var t3 = P2(v2);
    n2(8, C2 = t3.createQuery(u2, S2)), n2(27, _2 = false);
  }, s2, u2, p2, y2, wW, _2];
}
var nJ = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, tJ, XU, Ki, { id: 22, json: 23, selectedPath: 1, escapeControlCharacters: 2, escapeUnicodeCharacters: 3, queryLanguages: 4, queryLanguageId: 0, onChangeQueryLanguage: 24, onRenderValue: 5, onClassName: 6, onTransform: 25 }, WU, [-1, -1]), r2;
  }
  return Li(n2);
}(), rJ = {};
function iJ(e20) {
  co(e20, "svelte-ery7bx", ".jse-modal.svelte-ery7bx.svelte-ery7bx{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-ery7bx .jse-contents.svelte-ery7bx{padding:20px;overflow:auto}.jse-modal.svelte-ery7bx .jse-contents .jse-actions.svelte-ery7bx{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-sort.svelte-ery7bx table.svelte-ery7bx{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding)}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx:read-only,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx .selectContainer input,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx .selectContainer input{box-sizing:border-box}.jse-modal.jse-sort.svelte-ery7bx .jse-space.svelte-ery7bx{height:200px}");
}
function oJ(e20) {
  var t2, n2, r2, i2, o2, a2, s2;
  function u2(t3) {
    e20[12](t3);
  }
  var c2 = { showIndicator: true, items: e20[4] };
  return e20[1] !== void 0 && (c2.value = e20[1]), o2 = new $U({ props: c2 }), Xo.push(function() {
    return Oa(o2, "value", u2);
  }), { c: function() {
    t2 = go("tr"), (n2 = go("th")).textContent = "Property", r2 = wo(), i2 = go("td"), Pa(o2.$$.fragment), So(n2, "class", "svelte-ery7bx"), So(i2, "class", "svelte-ery7bx");
  }, m: function(e21, a3) {
    vo(e21, t2, a3), uo(t2, n2), uo(t2, r2), uo(t2, i2), Aa(o2, i2, null), s2 = true;
  }, p: function(e21, t3) {
    var n3 = {};
    16 & t3 && (n3.items = e21[4]), !a2 && 2 & t3 && (a2 = true, n3.value = e21[1], sa(function() {
      return a2 = false;
    })), o2.$set(n3);
  }, i: function(e21) {
    s2 || (ya(o2.$$.fragment, e21), s2 = true);
  }, o: function(e21) {
    ba(o2.$$.fragment, e21), s2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(o2);
  } };
}
function aJ(e20) {
  var t2, n2, r2, i2, o2, a2, s2, u2, c2, l2, f2, h2, d2, v2, p2, m2, g2, y2, b2, w2, k2, j2, x2, S2, C2, _2, $2, O2, P2, A2, E2, M2;
  n2 = new uq({ props: { title: e20[3] ? "Sort array items" : "Sort object keys" } });
  var T2 = e20[3] && (e20[4].length > 1 || e20[1] === void 0) && oJ(e20);
  function I2(t3) {
    e20[13](t3);
  }
  var N2 = { showIndicator: true, items: e20[5], isClearable: false };
  return e20[2] !== void 0 && (N2.value = e20[2]), k2 = new $U({ props: N2 }), Xo.push(function() {
    return Oa(k2, "value", I2);
  }), { c: function() {
    t2 = go("div"), Pa(n2.$$.fragment), r2 = wo(), i2 = go("div"), o2 = go("table"), (a2 = go("colgroup")).innerHTML = '<col width="25%"/> \n        <col width="75%"/>', s2 = wo(), u2 = go("tbody"), c2 = go("tr"), (l2 = go("th")).textContent = "Path", f2 = wo(), h2 = go("td"), d2 = go("input"), p2 = wo(), T2 && T2.c(), m2 = wo(), g2 = go("tr"), (y2 = go("th")).textContent = "Direction", b2 = wo(), w2 = go("td"), Pa(k2.$$.fragment), x2 = wo(), S2 = go("div"), C2 = wo(), _2 = go("div"), $2 = go("button"), O2 = bo("Sort"), So(l2, "class", "svelte-ery7bx"), So(d2, "class", "jse-path svelte-ery7bx"), So(d2, "type", "text"), d2.readOnly = true, So(d2, "title", "Selected path"), d2.value = v2 = Ym(e20[0]) ? "(whole document)" : rC(e20[0]), So(h2, "class", "svelte-ery7bx"), So(y2, "class", "svelte-ery7bx"), So(w2, "class", "svelte-ery7bx"), So(o2, "class", "svelte-ery7bx"), So(S2, "class", "jse-space svelte-ery7bx"), So($2, "type", "button"), So($2, "class", "jse-primary svelte-ery7bx"), $2.disabled = P2 = !!e20[3] && !e20[1], So(_2, "class", "jse-actions svelte-ery7bx"), So(i2, "class", "jse-contents svelte-ery7bx"), So(t2, "class", "jse-modal jse-sort svelte-ery7bx");
  }, m: function(v3, j3) {
    vo(v3, t2, j3), Aa(n2, t2, null), uo(t2, r2), uo(t2, i2), uo(i2, o2), uo(o2, a2), uo(o2, s2), uo(o2, u2), uo(u2, c2), uo(c2, l2), uo(c2, f2), uo(c2, h2), uo(h2, d2), uo(u2, p2), T2 && T2.m(u2, null), uo(u2, m2), uo(u2, g2), uo(g2, y2), uo(g2, b2), uo(g2, w2), Aa(k2, w2, null), uo(i2, x2), uo(i2, S2), uo(i2, C2), uo(i2, _2), uo(_2, $2), uo($2, O2), A2 = true, E2 || (M2 = [jo($2, "click", e20[6]), to(sJ.call(null, $2))], E2 = true);
  }, p: function(e21, t3) {
    var r3 = ji(t3, 1)[0], i3 = {};
    8 & r3 && (i3.title = e21[3] ? "Sort array items" : "Sort object keys"), n2.$set(i3), (!A2 || 1 & r3 && v2 !== (v2 = Ym(e21[0]) ? "(whole document)" : rC(e21[0])) && d2.value !== v2) && (d2.value = v2), e21[3] && (e21[4].length > 1 || e21[1] === void 0) ? T2 ? (T2.p(e21, r3), 26 & r3 && ya(T2, 1)) : ((T2 = oJ(e21)).c(), ya(T2, 1), T2.m(u2, m2)) : T2 && (ma(), ba(T2, 1, 1, function() {
      T2 = null;
    }), ga());
    var o3 = {};
    !j2 && 4 & r3 && (j2 = true, o3.value = e21[2], sa(function() {
      return j2 = false;
    })), k2.$set(o3), (!A2 || 10 & r3 && P2 !== (P2 = !!e21[3] && !e21[1])) && ($2.disabled = P2);
  }, i: function(e21) {
    A2 || (ya(n2.$$.fragment, e21), ya(T2), ya(k2.$$.fragment, e21), A2 = true);
  }, o: function(e21) {
    ba(n2.$$.fragment, e21), ba(T2), ba(k2.$$.fragment, e21), A2 = false;
  }, d: function(e21) {
    e21 && po(t2), Ea(n2), T2 && T2.d(), Ea(k2), E2 = false, Wi(M2);
  } };
}
function sJ(e20) {
  e20.focus();
}
function uJ(e20, t2, n2) {
  var r2, i2, o2, a2 = Na("jsoneditor:SortModal"), s2 = t2.id, u2 = t2.json, c2 = t2.selectedPath, l2 = t2.onSort, f2 = Yo("simple-modal").close, h2 = "".concat(s2, ":").concat(ws.exports.compileJSONPointer(c2)), d2 = ws.exports.getIn(u2, c2), v2 = { value: 1, label: "ascending" }, p2 = [v2, { value: -1, label: "descending" }], m2 = rJ[h2] && rJ[h2].selectedProperty || void 0, g2 = rJ[h2] && rJ[h2].selectedDirection || v2;
  function y2(e21) {
    return { value: e21, label: Ym(e21) ? "(whole item)" : rC(e21) };
  }
  return e20.$$set = function(e21) {
    "id" in e21 && n2(7, s2 = e21.id), "json" in e21 && n2(8, u2 = e21.json), "selectedPath" in e21 && n2(0, c2 = e21.selectedPath), "onSort" in e21 && n2(9, l2 = e21.onSort);
  }, e20.$$.update = function() {
    8 & e20.$$.dirty && n2(11, i2 = r2 ? Js(d2) : void 0), 2048 & e20.$$.dirty && n2(4, o2 = i2 ? i2.map(y2) : void 0), 18 & e20.$$.dirty && m2 === void 0 && o2 && o2.length === 1 && n2(1, m2 = o2[0]), 1030 & e20.$$.dirty && (n2(10, rJ[h2] = { selectedProperty: m2, selectedDirection: g2 }, rJ), a2("store state in memory", h2, rJ[h2]));
  }, n2(3, r2 = Array.isArray(d2)), [c2, m2, g2, r2, o2, p2, function() {
    if (r2) {
      if (!m2)
        return;
      var e21 = m2.value, t3 = g2.value, n3 = function(e22) {
        var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], n4 = fH(arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [], arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1), r3 = ws.exports.getIn(e22, t4);
        return [{ op: "replace", path: ws.exports.compileJSONPointer(t4), value: r3.slice(0).sort(n4) }];
      }(u2, c2, e21, t3);
      l2(n3);
    } else if (Ls(d2)) {
      var i3 = g2.value, o3 = function(e22) {
        var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], n4 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, r3 = ws.exports.getIn(e22, t4), i4 = Object.keys(r3).slice();
        i4.sort(function(e23, t5) {
          return n4 * lH(e23, t5);
        });
        for (var o4 = [], a3 = 0; a3 < i4.length; a3++) {
          var s3 = i4[a3], u3 = ws.exports.compileJSONPointer(t4.concat(s3));
          o4.push({ op: "move", from: u3, path: u3 });
        }
        return o4;
      }(u2, c2, i3);
      l2(o3);
    } else
      console.error("Cannot sort: no array or object");
    f2();
  }, s2, u2, l2, rJ, i2, function(e21) {
    n2(1, m2 = e21), n2(4, o2), n2(11, i2), n2(3, r2);
  }, function(e21) {
    n2(2, g2 = e21);
  }];
}
var cJ = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, uJ, aJ, Ki, { id: 7, json: 8, selectedPath: 0, onSort: 9 }, iJ), r2;
  }
  return Li(n2);
}();
function lJ(e20, t2, n2) {
  var r2 = Yo("simple-modal");
  return [r2.open, r2.close];
}
var fJ = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, lJ, null, Ki, { open: 0, close: 1 }), r2;
  }
  return Li(n2, [{ key: "open", get: function() {
    return this.$$.ctx[0];
  } }, { key: "close", get: function() {
    return this.$$.ctx[1];
  } }]), n2;
}();
function hJ(e20) {
  return e20 && e20.space === true && Object.keys(e20).length === 1;
}
function dJ(e20) {
  co(e20, "svelte-hjajm5", ':root{--jse-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,\n    Cantarell, "Helvetica Neue", sans-serif;--jse-font-family-mono:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;--jse-font-size-mono:14px;--jse-font-size:16px;--jse-font-size-code-mode-search:80%;--jse-line-height:calc(1em + 4px);--jse-indent-size:calc(1em + 4px);--jse-color-picker-button-size:1em;--jse-padding:10px;--jse-theme-color:#3883fa;--jse-theme-color-highlight:#5f9dff;--jse-background-color:#fff;--jse-text-color:#4d4d4d;--jse-text-color-inverse:#fff;--jse-error-color:#ee5341;--jse-main-border:1px solid #d7d7d7;--jse-menu-color:var(--jse-text-color-inverse);--jse-menu-button-size:32px;--jse-modal-background:#f5f5f5;--jse-modal-overlay-background:rgba(0, 0, 0, 0.3);--jse-modal-code-background:rgba(0, 0, 0, 0.05);--jse-panel-background:#ebebeb;--jse-panel-color:var(--jse-text-color);--jse-panel-color-readonly:#b2b2b2;--jse-panel-border:var(--jse-main-border);--jse-panel-button-color:inherit;--jse-panel-button-background:transparent;--jse-panel-button-color-highlight:var(--jse-text-color);--jse-panel-button-background-highlight:#e0e0e0;--jse-navigation-bar-color:#656565;--jse-navigation-bar-background:var(--jse-background-color);--jse-navigation-bar-background-highlight:#e5e5e5;--jse-navigation-bar-dropdown-color:#656565;--jse-context-menu-background:#656565;--jse-context-menu-background-highlight:#7a7a7a;--jse-context-menu-color:var(--jse-text-color-inverse);--jse-context-menu-color-disabled:#9d9d9d;--jse-context-menu-separator-color:#7a7a7a;--jse-context-menu-button-background:var(--jse-context-menu-background);--jse-context-menu-button-background-highlight:var(--jse-context-menu-background-highlight);--jse-context-menu-button-color:var(--jse-context-menu-color);--jse-context-menu-button-size:calc(1em + 4px);--jse-context-menu-tip-background:rgba(255, 255, 255, 0.2);--jse-context-menu-tip-color:inherit;--jse-key-color:#1a1a1a;--jse-value-color:#1a1a1a;--jse-value-color-number:#ee422e;--jse-value-color-boolean:#ff8c00;--jse-value-color-null:#004ed0;--jse-value-color-string:#008000;--jse-value-color-url:#008000;--jse-delimiter-color:rgba(0, 0, 0, 0.38);--jse-edit-outline:2px solid #656565;--jse-hover-background-color:rgba(0, 0, 0, 0.06);--jse-selection-background-color:#d3d3d3;--jse-selection-background-light-color:#e8e8e8;--jse-collapsed-items-background-color:#f5f5f5;--jse-collapsed-items-selected-background-color:#c2c2c2;--jse-collapsed-items-link-color:rgba(0, 0, 0, 0.38);--jse-collapsed-items-link-color-highlight:#ee5341;--jse-search-match-color:#ffe665;--jse-search-match-outline:1px solid #ffd700;--jse-search-match-active-color:#ffd700;--jse-search-match-active-outline:1px solid #e1be00;--jse-tag-background:rgba(0, 0, 0, 0.2);--jse-tag-color:var(--jse-text-color-inverse);--jse-controls-box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);--jse-input-background:var(--jse-background-color);--jse-input-background-readonly:transparent;--jse-input-border:1px solid #d8dbdf;--jse-input-border-focus:1px solid var(--jse-theme-color);--jse-input-radius:3px;--jse-button-background:#e0e0e0;--jse-button-background-highlight:#e7e7e7;--jse-button-color:var(--jse-text-color);--jse-button-primary-background:var(--jse-theme-color);--jse-button-primary-background-highlight:var(--jse-theme-color-highlight);--jse-button-primary-background-disabled:#9d9d9d;--jse-button-primary-color:var(--jse-text-color-inverse);--jse-a-color:#156fc5;--jse-a-color-highlight:#0f508d;--jse-message-error-background:var(--jse-error-color);--jse-message-error-color:var(--jse-text-color-inverse);--jse-message-warning-background:#fdc539;--jse-message-warning-color:var(--jse-text-color-inverse);--jse-message-success-background:#9ac45d;--jse-message-success-color:var(--jse-text-color-inverse);--jse-message-info-background:#9d9d9d;--jse-message-info-color:var(--jse-text-color-inverse);--jse-message-action-background:rgba(255, 255, 255, 0.2);--jse-message-action-background-highlight:rgba(255, 255, 255, 0.3);--itemIsActiveBG:#3883fa;--border:1px solid #d8dbdf;--borderRadius:3px;--background:#fff;--jse-color-picker-background:var(--jse-panel-background);--jse-color-picker-border-box-shadow:#cbcbcb 0 0 0 1px}.jse-main.svelte-hjajm5{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;position:relative;display:flex;flex-direction:row}');
}
function vJ(e20) {
  var t2, n2, r2 = { readOnly: e20[2], indentation: e20[3], externalContent: e20[0], mainMenuBar: e20[4], navigationBar: e20[5], escapeControlCharacters: e20[7], escapeUnicodeCharacters: e20[8], validator: e20[9], onError: e20[12], onChange: e20[20], onRequestRepair: e20[22], onRenderValue: e20[10], onClassName: e20[11], onFocus: e20[24], onBlur: e20[25], onRenderMenu: e20[26], onSortModal: e20[28], onTransformModal: e20[27] };
  return t2 = new WH({ props: r2 }), e20[53](t2), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r3) {
    Aa(t2, e21, r3), n2 = true;
  }, p: function(e21, n3) {
    var r3 = {};
    4 & n3[0] && (r3.readOnly = e21[2]), 8 & n3[0] && (r3.indentation = e21[3]), 1 & n3[0] && (r3.externalContent = e21[0]), 16 & n3[0] && (r3.mainMenuBar = e21[4]), 32 & n3[0] && (r3.navigationBar = e21[5]), 128 & n3[0] && (r3.escapeControlCharacters = e21[7]), 256 & n3[0] && (r3.escapeUnicodeCharacters = e21[8]), 512 & n3[0] && (r3.validator = e21[9]), 4096 & n3[0] && (r3.onError = e21[12]), 1024 & n3[0] && (r3.onRenderValue = e21[10]), 2048 & n3[0] && (r3.onClassName = e21[11]), t2.$set(r3);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(n3) {
    e20[53](null), Ea(t2, n3);
  } };
}
function pJ(e20) {
  var t2, n2, r2 = { text: e20[19](e20[0]), readOnly: e20[2], indentation: e20[3], mainMenuBar: e20[4], statusBar: e20[6], escapeUnicodeCharacters: e20[8], validator: e20[9], onChange: e20[21], onSwitchToTreeMode: e20[23], onError: e20[12], onFocus: e20[24], onBlur: e20[25], onRenderMenu: e20[26], onSortModal: e20[28], onTransformModal: e20[27] };
  return t2 = new MB({ props: r2 }), e20[52](t2), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r3) {
    Aa(t2, e21, r3), n2 = true;
  }, p: function(e21, n3) {
    var r3 = {};
    1 & n3[0] && (r3.text = e21[19](e21[0])), 4 & n3[0] && (r3.readOnly = e21[2]), 8 & n3[0] && (r3.indentation = e21[3]), 16 & n3[0] && (r3.mainMenuBar = e21[4]), 64 & n3[0] && (r3.statusBar = e21[6]), 256 & n3[0] && (r3.escapeUnicodeCharacters = e21[8]), 512 & n3[0] && (r3.validator = e21[9]), 4096 & n3[0] && (r3.onError = e21[12]), t2.$set(r3);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(n3) {
    e20[52](null), Ea(t2, n3);
  } };
}
function mJ(e20) {
  var t2, n2, r2, i2, o2 = [pJ, vJ], a2 = [];
  function s2(e21, t3) {
    return e21[1] === Za ? 0 : 1;
  }
  return t2 = s2(e20), n2 = a2[t2] = o2[t2](e20), { c: function() {
    n2.c(), r2 = ko();
  }, m: function(e21, n3) {
    a2[t2].m(e21, n3), vo(e21, r2, n3), i2 = true;
  }, p: function(e21, i3) {
    var u2 = t2;
    (t2 = s2(e21)) === u2 ? a2[t2].p(e21, i3) : (ma(), ba(a2[u2], 1, 1, function() {
      a2[u2] = null;
    }), ga(), (n2 = a2[t2]) ? n2.p(e21, i3) : (n2 = a2[t2] = o2[t2](e21)).c(), ya(n2, 1), n2.m(r2.parentNode, r2));
  }, i: function(e21) {
    i2 || (ya(n2), i2 = true);
  }, o: function(e21) {
    ba(n2), i2 = false;
  }, d: function(e21) {
    a2[t2].d(e21), e21 && po(r2);
  } };
}
function gJ(e20) {
  var t2, n2, r2 = e20[13], i2 = mJ(e20);
  return { c: function() {
    t2 = go("div"), i2.c(), So(t2, "class", "jse-main svelte-hjajm5"), Io(t2, "jse-focus", e20[14]);
  }, m: function(r3, o2) {
    vo(r3, t2, o2), i2.m(t2, null), e20[54](t2), n2 = true;
  }, p: function(e21, n3) {
    8192 & n3[0] && Ki(r2, r2 = e21[13]) ? (ma(), ba(i2, 1, 1, Bi), ga(), (i2 = mJ(e21)).c(), ya(i2, 1), i2.m(t2, null)) : i2.p(e21, n3), 16384 & n3[0] && Io(t2, "jse-focus", e21[14]);
  }, i: function(e21) {
    n2 || (ya(i2), n2 = true);
  }, o: function(e21) {
    ba(i2), n2 = false;
  }, d: function(n3) {
    n3 && po(t2), i2.d(n3), e20[54](null);
  } };
}
function yJ(e20) {
  var t2, n2, r2, i2, o2;
  function a2(t3) {
    e20[51](t3);
  }
  var s2 = {};
  return e20[18] !== void 0 && (s2.open = e20[18]), t2 = new fJ({ props: s2 }), Xo.push(function() {
    return Oa(t2, "open", a2);
  }), i2 = new Ux({ props: { $$slots: { default: [gJ] }, $$scope: { ctx: e20 } } }), { c: function() {
    Pa(t2.$$.fragment), r2 = wo(), Pa(i2.$$.fragment);
  }, m: function(e21, n3) {
    Aa(t2, e21, n3), vo(e21, r2, n3), Aa(i2, e21, n3), o2 = true;
  }, p: function(e21, r3) {
    var o3 = {};
    !n2 && 262144 & r3[0] && (n2 = true, o3.open = e21[18], sa(function() {
      return n2 = false;
    })), t2.$set(o3);
    var a3 = {};
    262143 & r3[0] | 536870912 & r3[1] && (a3.$$scope = { dirty: r3, ctx: e21 }), i2.$set(a3);
  }, i: function(e21) {
    o2 || (ya(t2.$$.fragment, e21), ya(i2.$$.fragment, e21), o2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), ba(i2.$$.fragment, e21), o2 = false;
  }, d: function(e21) {
    Ea(t2, e21), e21 && po(r2), Ea(i2, e21);
  } };
}
function bJ(e20) {
  var t2, n2;
  return t2 = new Qa({ props: { $$slots: { default: [yJ] }, $$scope: { ctx: e20 } } }), { c: function() {
    Pa(t2.$$.fragment);
  }, m: function(e21, r2) {
    Aa(t2, e21, r2), n2 = true;
  }, p: function(e21, n3) {
    var r2 = {};
    524287 & n3[0] | 536870912 & n3[1] && (r2.$$scope = { dirty: n3, ctx: e21 }), t2.$set(r2);
  }, i: function(e21) {
    n2 || (ya(t2.$$.fragment, e21), n2 = true);
  }, o: function(e21) {
    ba(t2.$$.fragment, e21), n2 = false;
  }, d: function(e21) {
    Ea(t2, e21);
  } };
}
function wJ(e20) {
  this.$set(e20);
}
function kJ() {
  this.$destroy();
}
function jJ(e20, t2, n2) {
  var r2, i2, o2, a2, s2, u2, c2 = Na("jsoneditor:Main"), l2 = t2.content, f2 = l2 === void 0 ? { text: "" } : l2, h2 = t2.readOnly, d2 = h2 !== void 0 && h2, v2 = t2.indentation, p2 = v2 === void 0 ? 2 : v2, m2 = t2.mode, g2 = m2 === void 0 ? Ya : m2, y2 = t2.mainMenuBar, b2 = y2 === void 0 || y2, w2 = t2.navigationBar, k2 = w2 === void 0 || w2, j2 = t2.statusBar, x2 = j2 === void 0 || j2, S2 = t2.escapeControlCharacters, C2 = S2 !== void 0 && S2, _2 = t2.escapeUnicodeCharacters, $2 = _2 !== void 0 && _2, O2 = t2.validator, P2 = O2 === void 0 ? null : O2, A2 = t2.queryLanguages, E2 = A2 === void 0 ? [UH] : A2, M2 = t2.queryLanguageId, T2 = M2 === void 0 ? E2[0].id : M2, I2 = t2.onChangeQueryLanguage, N2 = I2 === void 0 ? wc : I2, R2 = t2.onChange, D2 = R2 === void 0 ? null : R2, L2 = t2.onRenderValue, z2 = L2 === void 0 ? bW : L2, B2 = t2.onClassName, q2 = B2 === void 0 ? wc : B2, F2 = t2.onRenderMenu, V2 = F2 === void 0 ? wc : F2, H2 = t2.onChangeMode, W2 = H2 === void 0 ? wc : H2, U2 = t2.onError, J2 = U2 === void 0 ? function(e21) {
    console.error(e21), alert(e21.toString());
  } : U2, K2 = t2.onFocus, G2 = K2 === void 0 ? wc : K2, Q2 = t2.onBlur, Y2 = Q2 === void 0 ? wc : Q2, Z2 = ys(), X2 = false;
  function ee2() {
    a2 ? a2.focus() : o2 && o2.focus();
  }
  function te2(e21, t3, r3) {
    n2(0, f2 = e21), D2 && D2(e21, t3, r3);
  }
  function ne2() {
    return (ne2 = yi(mi().mark(function e21() {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return n2(1, g2 = Za), e22.next = 3, oa();
            case 3:
              W2(Za);
            case 4:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function re2() {
    return (re2 = yi(mi().mark(function e21() {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              return n2(1, g2 = Ya), e22.next = 3, oa();
            case 3:
              W2(Ya);
            case 4:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  function ie2(e21) {
    return oe2.apply(this, arguments);
  }
  function oe2() {
    return (oe2 = yi(mi().mark(function e21(t3) {
      return mi().wrap(function(e22) {
        for (; ; )
          switch (e22.prev = e22.next) {
            case 0:
              if (g2 !== t3) {
                e22.next = 2;
                break;
              }
              return e22.abrupt("return");
            case 2:
              return n2(1, g2 = t3), e22.next = 5, oa();
            case 5:
              ee2(), W2(t3);
            case 7:
            case "end":
              return e22.stop();
          }
      }, e21);
    }))).apply(this, arguments);
  }
  var ae2 = { separator: true };
  function se2(e21) {
    c2("handleChangeQueryLanguage", e21), n2(29, T2 = e21), N2(e21);
  }
  return e20.$$set = function(e21) {
    "content" in e21 && n2(0, f2 = e21.content), "readOnly" in e21 && n2(2, d2 = e21.readOnly), "indentation" in e21 && n2(3, p2 = e21.indentation), "mode" in e21 && n2(1, g2 = e21.mode), "mainMenuBar" in e21 && n2(4, b2 = e21.mainMenuBar), "navigationBar" in e21 && n2(5, k2 = e21.navigationBar), "statusBar" in e21 && n2(6, x2 = e21.statusBar), "escapeControlCharacters" in e21 && n2(7, C2 = e21.escapeControlCharacters), "escapeUnicodeCharacters" in e21 && n2(8, $2 = e21.escapeUnicodeCharacters), "validator" in e21 && n2(9, P2 = e21.validator), "queryLanguages" in e21 && n2(30, E2 = e21.queryLanguages), "queryLanguageId" in e21 && n2(29, T2 = e21.queryLanguageId), "onChangeQueryLanguage" in e21 && n2(31, N2 = e21.onChangeQueryLanguage), "onChange" in e21 && n2(32, D2 = e21.onChange), "onRenderValue" in e21 && n2(10, z2 = e21.onRenderValue), "onClassName" in e21 && n2(11, q2 = e21.onClassName), "onRenderMenu" in e21 && n2(33, V2 = e21.onRenderMenu), "onChangeMode" in e21 && n2(34, W2 = e21.onChangeMode), "onError" in e21 && n2(12, J2 = e21.onError), "onFocus" in e21 && n2(35, G2 = e21.onFocus), "onBlur" in e21 && n2(36, Y2 = e21.onBlur);
  }, e20.$$.update = function() {
    if (1 & e20.$$.dirty[0]) {
      var t3 = iu(f2);
      t3 && console.error("Error: " + t3);
    }
    2 & e20.$$.dirty[0] && n2(50, r2 = g2 === Za), 2 & e20.$$.dirty[0] | 524288 & e20.$$.dirty[1] && (u2 = [{ text: "code", title: "Switch to code mode (current mode: ".concat(g2, ")"), className: "jse-group-button jse-first" + (r2 ? " jse-selected" : ""), onClick: function() {
      return ie2(Za);
    } }, { text: "tree", title: "Switch to tree mode (current mode: ".concat(g2, ")"), className: "jse-group-button jse-last" + (r2 ? "" : " jse-selected"), onClick: function() {
      return ie2(Ya);
    } }]);
  }, [f2, g2, d2, p2, b2, k2, x2, C2, $2, P2, z2, q2, J2, Z2, X2, i2, o2, a2, s2, function(e21) {
    return ou(e21) ? e21.text : JSON.stringify(e21.json, null, p2);
  }, te2, function(e21, t3) {
    te2({ text: e21, json: void 0 }, { text: t3, json: void 0 }, null);
  }, function() {
    return ne2.apply(this, arguments);
  }, function() {
    return re2.apply(this, arguments);
  }, function() {
    n2(14, X2 = true), G2 && G2();
  }, function() {
    n2(14, X2 = false), Y2 && Y2();
  }, function(e21, t3) {
    var n3 = e21 === Ya || e21 === Za ? hJ(t3[0]) ? u2.concat(t3) : u2.concat([ae2], t3) : t3;
    return V2(e21, n3) || n3;
  }, function(e21) {
    var t3 = e21.id, n3 = e21.json, r3 = e21.selectedPath, i3 = e21.onTransform, o3 = e21.onClose;
    console.log("json", n3), d2 || s2(nJ, { id: t3, json: n3, selectedPath: r3, escapeControlCharacters: C2, escapeUnicodeCharacters: $2, queryLanguages: E2, queryLanguageId: T2, onChangeQueryLanguage: se2, onRenderValue: z2, onClassName: q2, onTransform: i3 }, fs, { onClose: o3 });
  }, function(e21) {
    var t3 = e21.id, n3 = e21.json, r3 = e21.selectedPath, i3 = e21.onSort, o3 = e21.onClose;
    d2 || s2(cJ, { id: t3, json: n3, selectedPath: r3, onSort: i3 }, ls, { onClose: o3 });
  }, T2, E2, N2, D2, V2, W2, G2, Y2, function() {
    return f2;
  }, function(e21) {
    c2("set");
    var t3 = iu(e21);
    if (t3)
      throw new Error(t3);
    n2(13, Z2 = ys()), n2(0, f2 = e21);
  }, function(e21) {
    c2("update");
    var t3 = iu(e21);
    if (t3)
      throw new Error(t3);
    n2(0, f2 = e21);
  }, function(e21) {
    if (ou(f2))
      try {
        n2(0, f2 = { json: JSON.parse(f2.text), text: void 0 });
      } catch (e22) {
        throw new Error("Cannot apply patch: current document contains invalid JSON");
      }
    return o2 ? o2.patch(e21) : a2 ? a2.patch(e21) : void 0;
  }, function(e21) {
    if (o2)
      return o2.expand(e21);
    throw new Error('Method expand is not available in mode "'.concat(g2, '"'));
  }, function(e21) {
    if (a2)
      a2.openTransformModal(e21);
    else {
      if (!o2)
        throw new Error('Method transform is not available in mode "'.concat(g2, '"'));
      o2.openTransformModal(e21);
    }
  }, function() {
    return o2 ? o2.acceptAutoRepair() : f2;
  }, function(e21) {
    if (o2)
      return o2.scrollTo(e21);
    throw new Error('Method scrollTo is not available in mode "'.concat(g2, '"'));
  }, function(e21) {
    if (o2)
      return o2.findElement(e21);
    throw new Error('Method findElement is not available in mode "'.concat(g2, '"'));
  }, ee2, function() {
    a2 && a2.refresh();
  }, wJ, kJ, r2, function(e21) {
    n2(18, s2 = e21);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(17, a2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(16, o2 = e21);
    });
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(15, i2 = e21);
    });
  }];
}
var xJ = function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, jJ, bJ, Ki, { content: 0, readOnly: 2, indentation: 3, mode: 1, mainMenuBar: 4, navigationBar: 5, statusBar: 6, escapeControlCharacters: 7, escapeUnicodeCharacters: 8, validator: 9, queryLanguages: 30, queryLanguageId: 29, onChangeQueryLanguage: 31, onChange: 32, onRenderValue: 10, onClassName: 11, onRenderMenu: 33, onChangeMode: 34, onError: 12, onFocus: 35, onBlur: 36, get: 37, set: 38, update: 39, patch: 40, expand: 41, transform: 42, acceptAutoRepair: 43, scrollTo: 44, findElement: 45, focus: 46, refresh: 47, updateProps: 48, destroy: 49 }, dJ, [-1, -1]), r2;
  }
  return Li(n2, [{ key: "get", get: function() {
    return this.$$.ctx[37];
  } }, { key: "set", get: function() {
    return this.$$.ctx[38];
  } }, { key: "update", get: function() {
    return this.$$.ctx[39];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[40];
  } }, { key: "expand", get: function() {
    return this.$$.ctx[41];
  } }, { key: "transform", get: function() {
    return this.$$.ctx[42];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[43];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[44];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[45];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[46];
  } }, { key: "refresh", get: function() {
    return this.$$.ctx[47];
  } }, { key: "updateProps", get: function() {
    return wJ;
  } }, { key: "destroy", get: function() {
    return kJ;
  } }]), n2;
}();
function SJ(e20) {
  co(e20, "svelte-rc6e9m", ".jse-value.jse-string.svelte-rc6e9m{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rc6e9m,.jse-value.jse-array.svelte-rc6e9m{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rc6e9m{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rc6e9m{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rc6e9m{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rc6e9m{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rc6e9m{color:var(--jse-value-color-url);text-decoration:underline}.jse-enum-value.svelte-rc6e9m{background:var(--jse-hover-background-color);border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-rc6e9m{background:var(--jse-selection-background-color);color:inherit}.jse-enum-value.jse-value.svelte-rc6e9m:focus{color:var(--jse-text-color)}.jse-json-node.jse-selected .jse-enum-value.svelte-rc6e9m{background:transparent}");
}
function CJ(e20, t2, n2) {
  var r2 = e20.slice();
  return r2[13] = t2[n2], r2;
}
function _J(e20) {
  var t2, n2, r2, i2 = e20[13].text + "";
  return { c: function() {
    t2 = go("option"), n2 = bo(i2), t2.__value = r2 = e20[13].value, t2.value = t2.__value;
  }, m: function(e21, r3) {
    vo(e21, t2, r3), uo(t2, n2);
  }, p: function(e21, o2) {
    2 & o2 && i2 !== (i2 = e21[13].text + "") && Po(n2, i2), 2 & o2 && r2 !== (r2 = e21[13].value) && (t2.__value = r2, t2.value = t2.__value);
  }, d: function(e21) {
    e21 && po(t2);
  } };
}
function $J(e20) {
  for (var t2, n2, r2, i2, o2 = e20[1], a2 = [], s2 = 0; s2 < o2.length; s2 += 1)
    a2[s2] = _J(CJ(e20, o2, s2));
  return { c: function() {
    t2 = go("select");
    for (var r3 = 0; r3 < a2.length; r3 += 1)
      a2[r3].c();
    So(t2, "class", n2 = eo("jse-enum-value ".concat(oW(e20[3]))) + " svelte-rc6e9m"), e20[3] === void 0 && aa(function() {
      return e20[10].call(t2);
    }), Io(t2, "jse-selected", e20[0]);
  }, m: function(n3, o3) {
    vo(n3, t2, o3);
    for (var s3 = 0; s3 < a2.length; s3 += 1)
      a2[s3].m(t2, null);
    Mo(t2, e20[3]), e20[11](t2), r2 || (i2 = [jo(t2, "change", e20[10]), jo(t2, "change", e20[4]), jo(t2, "mousedown", OJ)], r2 = true);
  }, p: function(e21, r3) {
    var i3 = ji(r3, 1)[0];
    if (2 & i3) {
      var s3;
      for (o2 = e21[1], s3 = 0; s3 < o2.length; s3 += 1) {
        var u2 = CJ(e21, o2, s3);
        a2[s3] ? a2[s3].p(u2, i3) : (a2[s3] = _J(u2), a2[s3].c(), a2[s3].m(t2, null));
      }
      for (; s3 < a2.length; s3 += 1)
        a2[s3].d(1);
      a2.length = o2.length;
    }
    8 & i3 && n2 !== (n2 = eo("jse-enum-value ".concat(oW(e21[3]))) + " svelte-rc6e9m") && So(t2, "class", n2), 8 & i3 && Mo(t2, e21[3]), 9 & i3 && Io(t2, "jse-selected", e21[0]);
  }, i: Bi, o: Bi, d: function(n3) {
    n3 && po(t2), mo(a2, n3), e20[11](null), r2 = false, Wi(i2);
  } };
}
function OJ(e20) {
  e20.stopPropagation();
}
function PJ(e20, t2, n2) {
  var r2, i2 = t2.path, o2 = t2.value, a2 = t2.readOnly, s2 = t2.isSelected, u2 = t2.onPatch, c2 = t2.onSelect, l2 = t2.options, f2 = o2;
  return e20.$$set = function(e21) {
    "path" in e21 && n2(5, i2 = e21.path), "value" in e21 && n2(6, o2 = e21.value), "readOnly" in e21 && n2(7, a2 = e21.readOnly), "isSelected" in e21 && n2(0, s2 = e21.isSelected), "onPatch" in e21 && n2(8, u2 = e21.onPatch), "onSelect" in e21 && n2(9, c2 = e21.onSelect), "options" in e21 && n2(1, l2 = e21.options);
  }, e20.$$.update = function() {
    64 & e20.$$.dirty && n2(3, f2 = o2), 1 & e20.$$.dirty && function(e21) {
      e21 && r2 && r2.focus();
    }(s2);
  }, [s2, l2, r2, f2, function(e21) {
    e21.stopPropagation(), a2 || (u2([{ op: "replace", path: ws.exports.compileJSONPointer(i2), value: f2 }]), c2({ type: Wj, path: i2 }));
  }, i2, o2, a2, u2, c2, function() {
    var e21, t3;
    t3 = (e21 = this).querySelector(":checked") || e21.options[0], f2 = t3 && t3.__value, n2(3, f2), n2(6, o2);
  }, function(e21) {
    Xo[e21 ? "unshift" : "push"](function() {
      n2(2, r2 = e21), n2(1, l2);
    });
  }];
}
(function(e20) {
  xi(n2, Ia);
  var t2 = Ci(n2);
  function n2(e21) {
    var r2;
    return Ri(this, n2), Ta($i(r2 = t2.call(this)), e21, PJ, $J, Ki, { path: 5, value: 6, readOnly: 7, isSelected: 0, onPatch: 8, onSelect: 9, options: 1 }, SJ), r2;
  }
  return Li(n2);
})();
function NJ(e20) {
  throw new Error('Could not dynamically require "' + e20 + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
bs(function e19(t2, n2, r2) {
  function i2(a3, s2) {
    if (!n2[a3]) {
      if (!t2[a3]) {
        if (!s2 && NJ)
          return NJ(a3);
        if (o2)
          return o2(a3, true);
        var u2 = new Error("Cannot find module '" + a3 + "'");
        throw u2.code = "MODULE_NOT_FOUND", u2;
      }
      var c2 = n2[a3] = { exports: {} };
      t2[a3][0].call(c2.exports, function(e20) {
        return i2(t2[a3][1][e20] || e20);
      }, c2, c2.exports, e19, t2, n2, r2);
    }
    return n2[a3].exports;
  }
  for (var o2 = NJ, a2 = 0; a2 < r2.length; a2++)
    i2(r2[a2]);
  return i2;
}({ 1: [function(n2, r2, i2) {
  Object.defineProperty(i2, "__esModule", { value: true }), i2.regexpCode = i2.getEsmExportName = i2.getProperty = i2.safeStringify = i2.stringify = i2.strConcat = i2.addCodeArg = i2.str = i2._ = i2.nil = i2._Code = i2.Name = i2.IDENTIFIER = i2._CodeOrName = void 0;
  var o2 = Li(function e20() {
    Ri(this, e20);
  });
  i2._CodeOrName = o2, i2.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
  var a2 = function(e20) {
    xi(n3, e20);
    var t2 = Ci(n3);
    function n3(e21) {
      var r3;
      if (Ri(this, n3), r3 = t2.call(this), !i2.IDENTIFIER.test(e21))
        throw new Error("CodeGen: name must be a valid identifier");
      return r3.str = e21, _i(r3);
    }
    return Li(n3, [{ key: "toString", value: function() {
      return this.str;
    } }, { key: "emptyStr", value: function() {
      return false;
    } }, { key: "names", get: function() {
      return Mi({}, this.str, 1);
    } }]), n3;
  }(o2);
  i2.Name = a2;
  var s2 = function(e20) {
    xi(n3, e20);
    var t2 = Ci(n3);
    function n3(e21) {
      var r3;
      return Ri(this, n3), (r3 = t2.call(this))._items = typeof e21 == "string" ? [e21] : e21, r3;
    }
    return Li(n3, [{ key: "toString", value: function() {
      return this.str;
    } }, { key: "emptyStr", value: function() {
      if (this._items.length > 1)
        return false;
      var e21 = this._items[0];
      return e21 === "" || e21 === '""';
    } }, { key: "str", get: function() {
      var e21;
      return (e21 = this._str) !== null && e21 !== void 0 ? e21 : this._str = this._items.reduce(function(e22, t3) {
        return "".concat(e22).concat(t3);
      }, "");
    } }, { key: "names", get: function() {
      var e21;
      return (e21 = this._names) !== null && e21 !== void 0 ? e21 : this._names = this._items.reduce(function(e22, t3) {
        return t3 instanceof a2 && (e22[t3.str] = (e22[t3.str] || 0) + 1), e22;
      }, {});
    } }]), n3;
  }(o2);
  function u2(e20) {
    for (var t2 = [e20[0]], n3 = 0, r3 = arguments.length, i3 = new Array(r3 > 1 ? r3 - 1 : 0), o3 = 1; o3 < r3; o3++)
      i3[o3 - 1] = arguments[o3];
    for (; n3 < i3.length; )
      f2(t2, i3[n3]), t2.push(e20[++n3]);
    return new s2(t2);
  }
  i2._Code = s2, i2.nil = new s2(""), i2._ = u2;
  var c2 = new s2("+");
  function l2(e20) {
    for (var t2 = [d2(e20[0])], n3 = 0, r3 = arguments.length, i3 = new Array(r3 > 1 ? r3 - 1 : 0), o3 = 1; o3 < r3; o3++)
      i3[o3 - 1] = arguments[o3];
    for (; n3 < i3.length; )
      t2.push(c2), f2(t2, i3[n3]), t2.push(c2, d2(e20[++n3]));
    return function(e21) {
      for (var t3 = 1; t3 < e21.length - 1; ) {
        if (e21[t3] === c2) {
          var n4 = h2(e21[t3 - 1], e21[t3 + 1]);
          if (n4 !== void 0) {
            e21.splice(t3 - 1, 3, n4);
            continue;
          }
          e21[t3++] = "+";
        }
        t3++;
      }
    }(t2), new s2(t2);
  }
  function f2(e20, t2) {
    var n3;
    t2 instanceof s2 ? e20.push.apply(e20, Ti(t2._items)) : e20.push(t2 instanceof a2 ? t2 : typeof (n3 = t2) == "number" || typeof n3 == "boolean" || n3 === null ? n3 : d2(Array.isArray(n3) ? n3.join(",") : n3));
  }
  function h2(e20, t2) {
    if (t2 === '""')
      return e20;
    if (e20 === '""')
      return t2;
    if (typeof e20 == "string") {
      if (t2 instanceof a2 || e20[e20.length - 1] !== '"')
        return;
      return typeof t2 != "string" ? "".concat(e20.slice(0, -1)).concat(t2, '"') : t2[0] === '"' ? e20.slice(0, -1) + t2.slice(1) : void 0;
    }
    return typeof t2 != "string" || t2[0] !== '"' || e20 instanceof a2 ? void 0 : '"'.concat(e20).concat(t2.slice(1));
  }
  function d2(e20) {
    return JSON.stringify(e20).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
  }
  i2.str = l2, i2.addCodeArg = f2, i2.strConcat = function(t2, n3) {
    return n3.emptyStr() ? t2 : t2.emptyStr() ? n3 : l2(e || (e = pi(["", "", ""])), t2, n3);
  }, i2.stringify = function(e20) {
    return new s2(d2(e20));
  }, i2.safeStringify = d2, i2.getProperty = function(e20) {
    return typeof e20 == "string" && i2.IDENTIFIER.test(e20) ? new s2(".".concat(e20)) : u2(t || (t = pi(["[", "]"])), e20);
  }, i2.getEsmExportName = function(e20) {
    if (typeof e20 == "string" && i2.IDENTIFIER.test(e20))
      return new s2("".concat(e20));
    throw new Error("CodeGen: invalid export name: ".concat(e20, ", use explicit $id name mapping"));
  }, i2.regexpCode = function(e20) {
    return new s2(e20.toString());
  };
}, {}], 2: [function(e20, t2, u2) {
  Object.defineProperty(u2, "__esModule", { value: true }), u2.or = u2.and = u2.not = u2.CodeGen = u2.operators = u2.varKinds = u2.ValueScopeName = u2.ValueScope = u2.Scope = u2.Name = u2.regexpCode = u2.stringify = u2.getProperty = u2.nil = u2.strConcat = u2.str = u2._ = void 0;
  var c2 = e20("./code"), l2 = e20("./scope"), f2 = e20("./code");
  Object.defineProperty(u2, "_", { enumerable: true, get: function() {
    return f2._;
  } }), Object.defineProperty(u2, "str", { enumerable: true, get: function() {
    return f2.str;
  } }), Object.defineProperty(u2, "strConcat", { enumerable: true, get: function() {
    return f2.strConcat;
  } }), Object.defineProperty(u2, "nil", { enumerable: true, get: function() {
    return f2.nil;
  } }), Object.defineProperty(u2, "getProperty", { enumerable: true, get: function() {
    return f2.getProperty;
  } }), Object.defineProperty(u2, "stringify", { enumerable: true, get: function() {
    return f2.stringify;
  } }), Object.defineProperty(u2, "regexpCode", { enumerable: true, get: function() {
    return f2.regexpCode;
  } }), Object.defineProperty(u2, "Name", { enumerable: true, get: function() {
    return f2.Name;
  } });
  var h2 = e20("./scope");
  Object.defineProperty(u2, "Scope", { enumerable: true, get: function() {
    return h2.Scope;
  } }), Object.defineProperty(u2, "ValueScope", { enumerable: true, get: function() {
    return h2.ValueScope;
  } }), Object.defineProperty(u2, "ValueScopeName", { enumerable: true, get: function() {
    return h2.ValueScopeName;
  } }), Object.defineProperty(u2, "varKinds", { enumerable: true, get: function() {
    return h2.varKinds;
  } }), u2.operators = { GT: new c2._Code(">"), GTE: new c2._Code(">="), LT: new c2._Code("<"), LTE: new c2._Code("<="), EQ: new c2._Code("==="), NEQ: new c2._Code("!=="), NOT: new c2._Code("!"), OR: new c2._Code("||"), AND: new c2._Code("&&"), ADD: new c2._Code("+") };
  var d2 = function() {
    function e21() {
      Ri(this, e21);
    }
    return Li(e21, [{ key: "optimizeNodes", value: function() {
      return this;
    } }, { key: "optimizeNames", value: function(e22, t3) {
      return this;
    } }]), e21;
  }(), v2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2) {
      var o2;
      return Ri(this, n2), (o2 = t3.call(this)).varKind = e22, o2.name = r2, o2.rhs = i2, o2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22.es5, n3 = e22._n;
      return "".concat(t4 ? l2.varKinds.var : this.varKind, " ").concat(this.name).concat(this.rhs === void 0 ? "" : " = ".concat(this.rhs), ";") + n3;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      if (e22[this.name.str])
        return this.rhs && (this.rhs = D2(this.rhs, e22, t4)), this;
    } }, { key: "names", get: function() {
      return this.rhs instanceof c2._CodeOrName ? this.rhs.names : {};
    } }]), n2;
  }(d2), p2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2) {
      var o2;
      return Ri(this, n2), (o2 = t3.call(this)).lhs = e22, o2.rhs = r2, o2.sideEffects = i2, o2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "".concat(this.lhs, " = ").concat(this.rhs, ";") + t4;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      if (!(this.lhs instanceof c2.Name) || e22[this.lhs.str] || this.sideEffects)
        return this.rhs = D2(this.rhs, e22, t4), this;
    } }, { key: "names", get: function() {
      return R2(this.lhs instanceof c2.Name ? {} : Ei({}, this.lhs.names), this.rhs);
    } }]), n2;
  }(d2), m2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2, o2) {
      var a2;
      return Ri(this, n2), (a2 = t3.call(this, e22, i2, o2)).op = r2, a2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "".concat(this.lhs, " ").concat(this.op, "= ").concat(this.rhs, ";") + t4;
    } }]), n2;
  }(p2), g2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).label = e22, r2.names = {}, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "".concat(this.label, ":") + t4;
    } }]), n2;
  }(d2), y2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).label = e22, r2.names = {}, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "break".concat(this.label ? " ".concat(this.label) : "", ";") + t4;
    } }]), n2;
  }(d2), b2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).error = e22, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "throw ".concat(this.error, ";") + t4;
    } }, { key: "names", get: function() {
      return this.error.names;
    } }]), n2;
  }(d2), w2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).code = e22, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22._n;
      return "".concat(this.code, ";") + t4;
    } }, { key: "optimizeNodes", value: function() {
      return "".concat(this.code) ? this : void 0;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      return this.code = D2(this.code, e22, t4), this;
    } }, { key: "names", get: function() {
      return this.code instanceof c2._CodeOrName ? this.code.names : {};
    } }]), n2;
  }(d2), k2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      var e22, r2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
      return Ri(this, n2), (e22 = t3.call(this)).nodes = r2, e22;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return this.nodes.reduce(function(t4, n3) {
        return t4 + n3.render(e22);
      }, "");
    } }, { key: "optimizeNodes", value: function() {
      for (var e22 = this.nodes, t4 = e22.length; t4--; ) {
        var n3 = e22[t4].optimizeNodes();
        Array.isArray(n3) ? e22.splice.apply(e22, [t4, 1].concat(Ti(n3))) : n3 ? e22[t4] = n3 : e22.splice(t4, 1);
      }
      return e22.length > 0 ? this : void 0;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      for (var n3 = this.nodes, r2 = n3.length; r2--; ) {
        var i2 = n3[r2];
        i2.optimizeNames(e22, t4) || (L2(e22, i2.names), n3.splice(r2, 1));
      }
      return n3.length > 0 ? this : void 0;
    } }, { key: "names", get: function() {
      return this.nodes.reduce(function(e22, t4) {
        return N2(e22, t4.names);
      }, {});
    } }]), n2;
  }(d2), j2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "{" + e22._n + wi(Pi(n2.prototype), "render", this).call(this, e22) + "}" + e22._n;
    } }]), n2;
  }(k2), x2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2);
  }(k2), S2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2);
  }(j2);
  S2.kind = "else";
  var C2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2) {
      var i2;
      return Ri(this, n2), (i2 = t3.call(this, r2)).condition = e22, i2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = "if(".concat(this.condition, ")") + wi(Pi(n2.prototype), "render", this).call(this, e22);
      return this.else && (t4 += "else " + this.else.render(e22)), t4;
    } }, { key: "optimizeNodes", value: function() {
      wi(Pi(n2.prototype), "optimizeNodes", this).call(this);
      var e22 = this.condition;
      if (e22 === true)
        return this.nodes;
      var t4 = this.else;
      if (t4) {
        var r2 = t4.optimizeNodes();
        t4 = this.else = Array.isArray(r2) ? new S2(r2) : r2;
      }
      return t4 ? e22 === false ? t4 instanceof n2 ? t4 : t4.nodes : this.nodes.length ? this : new n2(z2(e22), t4 instanceof n2 ? [t4] : t4.nodes) : e22 !== false && this.nodes.length ? this : void 0;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      var r2;
      if (this.else = (r2 = this.else) === null || r2 === void 0 ? void 0 : r2.optimizeNames(e22, t4), wi(Pi(n2.prototype), "optimizeNames", this).call(this, e22, t4) || this.else)
        return this.condition = D2(this.condition, e22, t4), this;
    } }, { key: "names", get: function() {
      var e22 = wi(Pi(n2.prototype), "names", this);
      return R2(e22, this.condition), this.else && N2(e22, this.else.names), e22;
    } }]), n2;
  }(j2);
  C2.kind = "if";
  var _2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2);
  }(j2);
  _2.kind = "for";
  var $2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).iteration = e22, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "for(".concat(this.iteration, ")") + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }, { key: "optimizeNames", value: function(e22, t4) {
      if (wi(Pi(n2.prototype), "optimizeNames", this).call(this, e22, t4))
        return this.iteration = D2(this.iteration, e22, t4), this;
    } }, { key: "names", get: function() {
      return N2(wi(Pi(n2.prototype), "names", this), this.iteration.names);
    } }]), n2;
  }(_2), O2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2, o2) {
      var a2;
      return Ri(this, n2), (a2 = t3.call(this)).varKind = e22, a2.name = r2, a2.from = i2, a2.to = o2, a2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = e22.es5 ? l2.varKinds.var : this.varKind, r2 = this.name, i2 = this.from, o2 = this.to;
      return "for(".concat(t4, " ").concat(r2, "=").concat(i2, "; ").concat(r2, "<").concat(o2, "; ").concat(r2, "++)") + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }, { key: "names", get: function() {
      var e22 = R2(wi(Pi(n2.prototype), "names", this), this.from);
      return R2(e22, this.to);
    } }]), n2;
  }(_2), P2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2, o2) {
      var a2;
      return Ri(this, n2), (a2 = t3.call(this)).loop = e22, a2.varKind = r2, a2.name = i2, a2.iterable = o2, a2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "for(".concat(this.varKind, " ").concat(this.name, " ").concat(this.loop, " ").concat(this.iterable, ")") + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }, { key: "optimizeNames", value: function(e22, t4) {
      if (wi(Pi(n2.prototype), "optimizeNames", this).call(this, e22, t4))
        return this.iterable = D2(this.iterable, e22, t4), this;
    } }, { key: "names", get: function() {
      return N2(wi(Pi(n2.prototype), "names", this), this.iterable.names);
    } }]), n2;
  }(_2), A2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22, r2, i2) {
      var o2;
      return Ri(this, n2), (o2 = t3.call(this)).name = e22, o2.args = r2, o2.async = i2, o2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "".concat(this.async ? "async " : "", "function ").concat(this.name, "(").concat(this.args, ")") + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }]), n2;
  }(j2);
  A2.kind = "func";
  var E2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "return " + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }]), n2;
  }(k2);
  E2.kind = "return";
  var M2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      var t4 = "try" + wi(Pi(n2.prototype), "render", this).call(this, e22);
      return this.catch && (t4 += this.catch.render(e22)), this.finally && (t4 += this.finally.render(e22)), t4;
    } }, { key: "optimizeNodes", value: function() {
      var e22, t4;
      return wi(Pi(n2.prototype), "optimizeNodes", this).call(this), (e22 = this.catch) === null || e22 === void 0 || e22.optimizeNodes(), (t4 = this.finally) === null || t4 === void 0 || t4.optimizeNodes(), this;
    } }, { key: "optimizeNames", value: function(e22, t4) {
      var r2, i2;
      return wi(Pi(n2.prototype), "optimizeNames", this).call(this, e22, t4), (r2 = this.catch) === null || r2 === void 0 || r2.optimizeNames(e22, t4), (i2 = this.finally) === null || i2 === void 0 || i2.optimizeNames(e22, t4), this;
    } }, { key: "names", get: function() {
      var e22 = wi(Pi(n2.prototype), "names", this);
      return this.catch && N2(e22, this.catch.names), this.finally && N2(e22, this.finally.names), e22;
    } }]), n2;
  }(j2), T2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2(e22) {
      var r2;
      return Ri(this, n2), (r2 = t3.call(this)).error = e22, r2;
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "catch(".concat(this.error, ")") + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }]), n2;
  }(j2);
  T2.kind = "catch";
  var I2 = function(e21) {
    xi(n2, e21);
    var t3 = Ci(n2);
    function n2() {
      return Ri(this, n2), t3.apply(this, arguments);
    }
    return Li(n2, [{ key: "render", value: function(e22) {
      return "finally" + wi(Pi(n2.prototype), "render", this).call(this, e22);
    } }]), n2;
  }(j2);
  function N2(e21, t3) {
    for (var n2 in t3)
      e21[n2] = (e21[n2] || 0) + (t3[n2] || 0);
    return e21;
  }
  function R2(e21, t3) {
    return t3 instanceof c2._CodeOrName ? N2(e21, t3.names) : e21;
  }
  function D2(e21, t3, n2) {
    return e21 instanceof c2.Name ? i2(e21) : (r2 = e21) instanceof c2._Code && r2._items.some(function(e22) {
      return e22 instanceof c2.Name && t3[e22.str] === 1 && n2[e22.str] !== void 0;
    }) ? new c2._Code(e21._items.reduce(function(e22, t4) {
      return t4 instanceof c2.Name && (t4 = i2(t4)), t4 instanceof c2._Code ? e22.push.apply(e22, Ti(t4._items)) : e22.push(t4), e22;
    }, [])) : e21;
    var r2;
    function i2(e22) {
      var r3 = n2[e22.str];
      return r3 === void 0 || t3[e22.str] !== 1 ? e22 : (delete t3[e22.str], r3);
    }
  }
  function L2(e21, t3) {
    for (var n2 in t3)
      e21[n2] = (e21[n2] || 0) - (t3[n2] || 0);
  }
  function z2(e21) {
    return typeof e21 == "boolean" || typeof e21 == "number" || e21 === null ? !e21 : c2._(n || (n = pi(["!", ""])), V2(e21));
  }
  I2.kind = "finally", u2.CodeGen = function() {
    function e21(t3) {
      var n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      Ri(this, e21), this._values = {}, this._blockStarts = [], this._constants = {}, this.opts = Ei(Ei({}, n2), {}, { _n: n2.lines ? "\n" : "" }), this._extScope = t3, this._scope = new l2.Scope({ parent: t3 }), this._nodes = [new x2()];
    }
    return Li(e21, [{ key: "toString", value: function() {
      return this._root.render(this.opts);
    } }, { key: "name", value: function(e22) {
      return this._scope.name(e22);
    } }, { key: "scopeName", value: function(e22) {
      return this._extScope.name(e22);
    } }, { key: "scopeValue", value: function(e22, t3) {
      var n2 = this._extScope.value(e22, t3);
      return (this._values[n2.prefix] || (this._values[n2.prefix] = /* @__PURE__ */ new Set())).add(n2), n2;
    } }, { key: "getScopeValue", value: function(e22, t3) {
      return this._extScope.getValue(e22, t3);
    } }, { key: "scopeRefs", value: function(e22) {
      return this._extScope.scopeRefs(e22, this._values);
    } }, { key: "scopeCode", value: function() {
      return this._extScope.scopeCode(this._values);
    } }, { key: "_def", value: function(e22, t3, n2, r2) {
      var i2 = this._scope.toName(t3);
      return n2 !== void 0 && r2 && (this._constants[i2.str] = n2), this._leafNode(new v2(e22, i2, n2)), i2;
    } }, { key: "const", value: function(e22, t3, n2) {
      return this._def(l2.varKinds.const, e22, t3, n2);
    } }, { key: "let", value: function(e22, t3, n2) {
      return this._def(l2.varKinds.let, e22, t3, n2);
    } }, { key: "var", value: function(e22, t3, n2) {
      return this._def(l2.varKinds.var, e22, t3, n2);
    } }, { key: "assign", value: function(e22, t3, n2) {
      return this._leafNode(new p2(e22, t3, n2));
    } }, { key: "add", value: function(e22, t3) {
      return this._leafNode(new m2(e22, u2.operators.ADD, t3));
    } }, { key: "code", value: function(e22) {
      return typeof e22 == "function" ? e22() : e22 !== c2.nil && this._leafNode(new w2(e22)), this;
    } }, { key: "object", value: function() {
      for (var e22 = ["{"], t3 = arguments.length, n2 = new Array(t3), r2 = 0; r2 < t3; r2++)
        n2[r2] = arguments[r2];
      for (var i2 = 0, o2 = n2; i2 < o2.length; i2++) {
        var a2 = ji(o2[i2], 2), s2 = a2[0], u3 = a2[1];
        e22.length > 1 && e22.push(","), e22.push(s2), (s2 !== u3 || this.opts.es5) && (e22.push(":"), (0, c2.addCodeArg)(e22, u3));
      }
      return e22.push("}"), new c2._Code(e22);
    } }, { key: "if", value: function(e22, t3, n2) {
      if (this._blockNode(new C2(e22)), t3 && n2)
        this.code(t3).else().code(n2).endIf();
      else if (t3)
        this.code(t3).endIf();
      else if (n2)
        throw new Error('CodeGen: "else" body without "then" body');
      return this;
    } }, { key: "elseIf", value: function(e22) {
      return this._elseNode(new C2(e22));
    } }, { key: "else", value: function() {
      return this._elseNode(new S2());
    } }, { key: "endIf", value: function() {
      return this._endBlockNode(C2, S2);
    } }, { key: "_for", value: function(e22, t3) {
      return this._blockNode(e22), t3 && this.code(t3).endFor(), this;
    } }, { key: "for", value: function(e22, t3) {
      return this._for(new $2(e22), t3);
    } }, { key: "forRange", value: function(e22, t3, n2, r2) {
      var i2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : this.opts.es5 ? l2.varKinds.var : l2.varKinds.let, o2 = this._scope.toName(e22);
      return this._for(new O2(i2, o2, t3, n2), function() {
        return r2(o2);
      });
    } }, { key: "forOf", value: function(e22, t3, n2) {
      var o2 = this, a2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : l2.varKinds.const, s2 = this._scope.toName(e22);
      if (this.opts.es5) {
        var u3 = t3 instanceof c2.Name ? t3 : this.var("_arr", t3);
        return this.forRange("_i", 0, c2._(r || (r = pi(["", ".length"])), u3), function(e23) {
          o2.var(s2, c2._(i || (i = pi(["", "[", "]"])), u3, e23)), n2(s2);
        });
      }
      return this._for(new P2("of", a2, s2, t3), function() {
        return n2(s2);
      });
    } }, { key: "forIn", value: function(e22, t3, n2) {
      var r2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : this.opts.es5 ? l2.varKinds.var : l2.varKinds.const;
      if (this.opts.ownProperties)
        return this.forOf(e22, c2._(o || (o = pi(["Object.keys(", ")"])), t3), n2);
      var i2 = this._scope.toName(e22);
      return this._for(new P2("in", r2, i2, t3), function() {
        return n2(i2);
      });
    } }, { key: "endFor", value: function() {
      return this._endBlockNode(_2);
    } }, { key: "label", value: function(e22) {
      return this._leafNode(new g2(e22));
    } }, { key: "break", value: function(e22) {
      return this._leafNode(new y2(e22));
    } }, { key: "return", value: function(e22) {
      var t3 = new E2();
      if (this._blockNode(t3), this.code(e22), t3.nodes.length !== 1)
        throw new Error('CodeGen: "return" should have one node');
      return this._endBlockNode(E2);
    } }, { key: "try", value: function(e22, t3, n2) {
      if (!t3 && !n2)
        throw new Error('CodeGen: "try" without "catch" and "finally"');
      var r2 = new M2();
      if (this._blockNode(r2), this.code(e22), t3) {
        var i2 = this.name("e");
        this._currNode = r2.catch = new T2(i2), t3(i2);
      }
      return n2 && (this._currNode = r2.finally = new I2(), this.code(n2)), this._endBlockNode(T2, I2);
    } }, { key: "throw", value: function(e22) {
      return this._leafNode(new b2(e22));
    } }, { key: "block", value: function(e22, t3) {
      return this._blockStarts.push(this._nodes.length), e22 && this.code(e22).endBlock(t3), this;
    } }, { key: "endBlock", value: function(e22) {
      var t3 = this._blockStarts.pop();
      if (t3 === void 0)
        throw new Error("CodeGen: not in self-balancing block");
      var n2 = this._nodes.length - t3;
      if (n2 < 0 || e22 !== void 0 && n2 !== e22)
        throw new Error("CodeGen: wrong number of nodes: ".concat(n2, " vs ").concat(e22, " expected"));
      return this._nodes.length = t3, this;
    } }, { key: "func", value: function(e22) {
      var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : c2.nil, n2 = arguments.length > 2 ? arguments[2] : void 0, r2 = arguments.length > 3 ? arguments[3] : void 0;
      return this._blockNode(new A2(e22, t3, n2)), r2 && this.code(r2).endFunc(), this;
    } }, { key: "endFunc", value: function() {
      return this._endBlockNode(A2);
    } }, { key: "optimize", value: function() {
      for (var e22 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1; e22-- > 0; )
        this._root.optimizeNodes(), this._root.optimizeNames(this._root.names, this._constants);
    } }, { key: "_leafNode", value: function(e22) {
      return this._currNode.nodes.push(e22), this;
    } }, { key: "_blockNode", value: function(e22) {
      this._currNode.nodes.push(e22), this._nodes.push(e22);
    } }, { key: "_endBlockNode", value: function(e22, t3) {
      var n2 = this._currNode;
      if (n2 instanceof e22 || t3 && n2 instanceof t3)
        return this._nodes.pop(), this;
      throw new Error('CodeGen: not in block "'.concat(t3 ? "".concat(e22.kind, "/").concat(t3.kind) : e22.kind, '"'));
    } }, { key: "_elseNode", value: function(e22) {
      var t3 = this._currNode;
      if (!(t3 instanceof C2))
        throw new Error('CodeGen: "else" without "if"');
      return this._currNode = t3.else = e22, this;
    } }, { key: "_root", get: function() {
      return this._nodes[0];
    } }, { key: "_currNode", get: function() {
      var e22 = this._nodes;
      return e22[e22.length - 1];
    }, set: function(e22) {
      var t3 = this._nodes;
      t3[t3.length - 1] = e22;
    } }]), e21;
  }(), u2.not = z2;
  var B2 = F2(u2.operators.AND);
  u2.and = function() {
    for (var e21 = arguments.length, t3 = new Array(e21), n2 = 0; n2 < e21; n2++)
      t3[n2] = arguments[n2];
    return t3.reduce(B2);
  };
  var q2 = F2(u2.operators.OR);
  function F2(e21) {
    return function(t3, n2) {
      return t3 === c2.nil ? n2 : n2 === c2.nil ? t3 : c2._(a || (a = pi(["", " ", " ", ""])), V2(t3), e21, V2(n2));
    };
  }
  function V2(e21) {
    return e21 instanceof c2.Name ? e21 : c2._(s || (s = pi(["(", ")"])), e21);
  }
  u2.or = function() {
    for (var e21 = arguments.length, t3 = new Array(e21), n2 = 0; n2 < e21; n2++)
      t3[n2] = arguments[n2];
    return t3.reduce(q2);
  };
}, { "./code": 1, "./scope": 3 }], 3: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.ValueScope = n2.ValueScopeName = n2.Scope = n2.varKinds = n2.UsedValueState = void 0;
  var r2, i2 = e20("./code"), o2 = function(e21) {
    xi(n3, di(Error));
    var t3 = Ci(n3);
    function n3(e22) {
      var r3;
      return Ri(this, n3), (r3 = t3.call(this, 'CodeGen: "code" for '.concat(e22, " not defined"))).value = e22.value, r3;
    }
    return Li(n3);
  }();
  !function(e21) {
    e21[e21.Started = 0] = "Started", e21[e21.Completed = 1] = "Completed";
  }(r2 = n2.UsedValueState || (n2.UsedValueState = {})), n2.varKinds = { const: new i2.Name("const"), let: new i2.Name("let"), var: new i2.Name("var") };
  var a2 = function() {
    function e21() {
      var t3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n3 = t3.prefixes, r3 = t3.parent;
      Ri(this, e21), this._names = {}, this._prefixes = n3, this._parent = r3;
    }
    return Li(e21, [{ key: "toName", value: function(e22) {
      return e22 instanceof i2.Name ? e22 : this.name(e22);
    } }, { key: "name", value: function(e22) {
      return new i2.Name(this._newName(e22));
    } }, { key: "_newName", value: function(e22) {
      return "".concat(e22).concat((this._names[e22] || this._nameGroup(e22)).index++);
    } }, { key: "_nameGroup", value: function(e22) {
      var t3, n3;
      if (((n3 = (t3 = this._parent) === null || t3 === void 0 ? void 0 : t3._prefixes) === null || n3 === void 0 ? void 0 : n3.has(e22)) || this._prefixes && !this._prefixes.has(e22))
        throw new Error('CodeGen: prefix "'.concat(e22, '" is not allowed in this scope'));
      return this._names[e22] = { prefix: e22, index: 0 };
    } }]), e21;
  }();
  n2.Scope = a2;
  var s2 = function(e21) {
    xi(n3, e21);
    var t3 = Ci(n3);
    function n3(e22, r3) {
      var i3;
      return Ri(this, n3), (i3 = t3.call(this, r3)).prefix = e22, i3;
    }
    return Li(n3, [{ key: "setValue", value: function(e22, t4) {
      var n4 = t4.property, r3 = t4.itemIndex;
      this.value = e22, this.scopePath = i2._(u || (u = pi([".", "[", "]"])), new i2.Name(n4), r3);
    } }]), n3;
  }(i2.Name);
  n2.ValueScopeName = s2;
  var d2 = i2._(c || (c = pi(["\n"], ["\\n"])));
  n2.ValueScope = function(e21) {
    xi(a3, e21);
    var t3 = Ci(a3);
    function a3(e22) {
      var n3;
      return Ri(this, a3), (n3 = t3.call(this, e22))._values = {}, n3._scope = e22.scope, n3.opts = Ei(Ei({}, e22), {}, { _n: e22.lines ? d2 : i2.nil }), n3;
    }
    return Li(a3, [{ key: "get", value: function() {
      return this._scope;
    } }, { key: "name", value: function(e22) {
      return new s2(e22, this._newName(e22));
    } }, { key: "value", value: function(e22, t4) {
      var n3;
      if (t4.ref === void 0)
        throw new Error("CodeGen: ref must be passed in value");
      var r3 = this.toName(e22), i3 = r3.prefix, o3 = (n3 = t4.key) !== null && n3 !== void 0 ? n3 : t4.ref, a4 = this._values[i3];
      if (a4) {
        var s3 = a4.get(o3);
        if (s3)
          return s3;
      } else
        a4 = this._values[i3] = /* @__PURE__ */ new Map();
      a4.set(o3, r3);
      var u2 = this._scope[i3] || (this._scope[i3] = []), c2 = u2.length;
      return u2[c2] = t4.ref, r3.setValue(t4, { property: i3, itemIndex: c2 }), r3;
    } }, { key: "getValue", value: function(e22, t4) {
      var n3 = this._values[e22];
      if (n3)
        return n3.get(t4);
    } }, { key: "scopeRefs", value: function(e22) {
      var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this._values;
      return this._reduceValues(t4, function(t5) {
        if (t5.scopePath === void 0)
          throw new Error('CodeGen: name "'.concat(t5, '" has no value'));
        return i2._(l || (l = pi(["", "", ""])), e22, t5.scopePath);
      });
    } }, { key: "scopeCode", value: function() {
      var e22 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this._values, t4 = arguments.length > 1 ? arguments[1] : void 0, n3 = arguments.length > 2 ? arguments[2] : void 0;
      return this._reduceValues(e22, function(e23) {
        if (e23.value === void 0)
          throw new Error('CodeGen: name "'.concat(e23, '" has no value'));
        return e23.value.code;
      }, t4, n3);
    } }, { key: "_reduceValues", value: function(e22, t4) {
      var a4 = this, s3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, u2 = arguments.length > 3 ? arguments[3] : void 0, c2 = i2.nil, l2 = function(l3) {
        var d4 = e22[l3];
        if (!d4)
          return "continue";
        var v2 = s3[l3] = s3[l3] || /* @__PURE__ */ new Map();
        d4.forEach(function(e23) {
          if (!v2.has(e23)) {
            v2.set(e23, r2.Started);
            var s4 = t4(e23);
            if (s4)
              c2 = i2._(f || (f = pi(["", "", " ", " = ", ";", ""])), c2, a4.opts.es5 ? n2.varKinds.var : n2.varKinds.const, e23, s4, a4.opts._n);
            else {
              if (!(s4 = u2 == null ? void 0 : u2(e23)))
                throw new o2(e23);
              c2 = i2._(h$2 || (h$2 = pi(["", "", "", ""])), c2, s4, a4.opts._n);
            }
            v2.set(e23, r2.Completed);
          }
        });
      };
      for (var d3 in e22)
        l2(d3);
      return c2;
    } }]), a3;
  }(a2);
}, { "./code": 1 }], 4: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.extendErrors = n2.resetErrorsCount = n2.reportExtraError = n2.reportError = n2.keyword$DataError = n2.keywordError = void 0;
  var r2 = e20("./codegen"), i2 = e20("./util"), o2 = e20("./names");
  function a2(e21, t3) {
    var n3 = e21.const("err", t3);
    e21.if(r2._(d || (d = pi(["", " === null"])), o2.default.vErrors), function() {
      return e21.assign(o2.default.vErrors, r2._(v || (v = pi(["[", "]"])), n3));
    }, r2._(p$1 || (p$1 = pi(["", ".push(", ")"])), o2.default.vErrors, n3)), e21.code(r2._(m || (m = pi(["", "++"])), o2.default.errors));
  }
  function s2(e21, t3) {
    var n3 = e21.gen, i3 = e21.validateName;
    e21.schemaEnv.$async ? n3.throw(r2._(g || (g = pi(["new ", "(", ")"])), e21.ValidationError, t3)) : (n3.assign(r2._(y || (y = pi(["", ".errors"])), i3), t3), n3.return(false));
  }
  n2.keywordError = { message: function(e21) {
    var t3 = e21.keyword;
    return r2.str(b || (b = pi(['must pass "', '" keyword validation'])), t3);
  } }, n2.keyword$DataError = { message: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaType;
    return n3 ? r2.str(w || (w = pi(['"', '" keyword must be ', " ($data)"])), t3, n3) : r2.str(k || (k = pi(['"', '" keyword is invalid ($data)'])), t3);
  } }, n2.reportError = function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : n2.keywordError, i3 = arguments.length > 2 ? arguments[2] : void 0, o3 = arguments.length > 3 ? arguments[3] : void 0, u3 = e21.it, l3 = u3.gen, f3 = u3.compositeRule, h2 = u3.allErrors, d2 = c2(e21, t3, i3);
    (o3 != null ? o3 : f3 || h2) ? a2(l3, d2) : s2(u3, r2._(j || (j = pi(["[", "]"])), d2));
  }, n2.reportExtraError = function(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : n2.keywordError, r3 = arguments.length > 2 ? arguments[2] : void 0, i3 = e21.it, u3 = i3.gen, l3 = i3.compositeRule, f3 = i3.allErrors;
    a2(u3, c2(e21, t3, r3)), l3 || f3 || s2(i3, o2.default.vErrors);
  }, n2.resetErrorsCount = function(e21, t3) {
    e21.assign(o2.default.errors, t3), e21.if(r2._(x || (x = pi(["", " !== null"])), o2.default.vErrors), function() {
      return e21.if(t3, function() {
        return e21.assign(r2._(S || (S = pi(["", ".length"])), o2.default.vErrors), t3);
      }, function() {
        return e21.assign(o2.default.vErrors, null);
      });
    });
  }, n2.extendErrors = function(e21) {
    var t3 = e21.gen, n3 = e21.keyword, i3 = e21.schemaValue, a3 = e21.data, s3 = e21.errsCount, u3 = e21.it;
    if (s3 === void 0)
      throw new Error("ajv implementation error");
    var c3 = t3.name("err");
    t3.forRange("i", s3, o2.default.errors, function(e22) {
      t3.const(c3, r2._(C || (C = pi(["", "[", "]"])), o2.default.vErrors, e22)), t3.if(r2._(_ || (_ = pi(["", ".instancePath === undefined"])), c3), function() {
        return t3.assign(r2._($ || ($ = pi(["", ".instancePath"])), c3), (0, r2.strConcat)(o2.default.instancePath, u3.errorPath));
      }), t3.assign(r2._(O || (O = pi(["", ".schemaPath"])), c3), r2.str(P || (P = pi(["", "/", ""])), u3.errSchemaPath, n3)), u3.opts.verbose && (t3.assign(r2._(A || (A = pi(["", ".schema"])), c3), i3), t3.assign(r2._(E || (E = pi(["", ".data"])), c3), a3));
    });
  };
  var u2 = { keyword: new r2.Name("keyword"), schemaPath: new r2.Name("schemaPath"), params: new r2.Name("params"), propertyName: new r2.Name("propertyName"), message: new r2.Name("message"), schema: new r2.Name("schema"), parentSchema: new r2.Name("parentSchema") };
  function c2(e21, t3, n3) {
    return e21.it.createErrors === false ? r2._(M || (M = pi(["{}"]))) : function(e22, t4) {
      var n4 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, i3 = e22.gen, a3 = [l2(e22.it, n4), f2(e22, n4)];
      return function(e23, t5, n5) {
        var i4 = t5.params, a4 = t5.message, s3 = e23.keyword, c3 = e23.data, l3 = e23.schemaValue, f3 = e23.it, h2 = f3.opts, d2 = f3.propertyName, v2 = f3.topSchemaRef, p2 = f3.schemaPath;
        n5.push([u2.keyword, s3], [u2.params, typeof i4 == "function" ? i4(e23) : i4 || r2._(T || (T = pi(["{}"])))]), h2.messages && n5.push([u2.message, typeof a4 == "function" ? a4(e23) : a4]), h2.verbose && n5.push([u2.schema, l3], [u2.parentSchema, r2._(I || (I = pi(["", "", ""])), v2, p2)], [o2.default.data, c3]), d2 && n5.push([u2.propertyName, d2]);
      }(e22, t4, a3), i3.object.apply(i3, a3);
    }(e21, t3, n3);
  }
  function l2(e21, t3) {
    var n3 = e21.errorPath, a3 = t3.instancePath, s3 = a3 ? r2.str(N || (N = pi(["", "", ""])), n3, (0, i2.getErrorPath)(a3, i2.Type.Str)) : n3;
    return [o2.default.instancePath, (0, r2.strConcat)(o2.default.instancePath, s3)];
  }
  function f2(e21, t3) {
    var n3 = e21.keyword, o3 = e21.it.errSchemaPath, a3 = t3.schemaPath, s3 = t3.parentSchema ? o3 : r2.str(R || (R = pi(["", "/", ""])), o3, n3);
    return a3 && (s3 = r2.str(D || (D = pi(["", "", ""])), s3, (0, i2.getErrorPath)(a3, i2.Type.Str))), [u2.schemaPath, s3];
  }
}, { "./codegen": 2, "./names": 6, "./util": 10 }], 5: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.resolveSchema = n2.getCompilingSchema = n2.resolveRef = n2.compileSchema = n2.SchemaEnv = void 0;
  var r2 = e20("./codegen"), i2 = e20("../runtime/validation_error"), o2 = e20("./names"), a2 = e20("./resolve"), s2 = e20("./util"), u2 = e20("./validate"), c2 = Li(function e21(t3) {
    var n3, r3;
    Ri(this, e21), this.refs = {}, this.dynamicAnchors = {}, zi(t3.schema) == "object" && (r3 = t3.schema), this.schema = t3.schema, this.schemaId = t3.schemaId, this.root = t3.root || this, this.baseId = (n3 = t3.baseId) !== null && n3 !== void 0 ? n3 : (0, a2.normalizeId)(r3 == null ? void 0 : r3[t3.schemaId || "$id"]), this.schemaPath = t3.schemaPath, this.localRefs = t3.localRefs, this.meta = t3.meta, this.$async = r3 == null ? void 0 : r3.$async, this.refs = {};
  });
  function l2(e21) {
    var t3 = h2.call(this, e21);
    if (t3)
      return t3;
    var n3, s3 = (0, a2.getFullPath)(this.opts.uriResolver, e21.root.baseId), c3 = this.opts.code, l3 = c3.es5, f3 = c3.lines, d3 = this.opts.ownProperties, v3 = new r2.CodeGen(this.scope, { es5: l3, lines: f3, ownProperties: d3 });
    e21.$async && (n3 = v3.scopeValue("Error", { ref: i2.default, code: r2._(L || (L = pi(['require("ajv/dist/runtime/validation_error").default']))) }));
    var p3 = v3.scopeName("validate");
    e21.validateName = p3;
    var m3, g2 = { gen: v3, allErrors: this.opts.allErrors, data: o2.default.data, parentData: o2.default.parentData, parentDataProperty: o2.default.parentDataProperty, dataNames: [o2.default.data], dataPathArr: [r2.nil], dataLevel: 0, dataTypes: [], definedProperties: /* @__PURE__ */ new Set(), topSchemaRef: v3.scopeValue("schema", this.opts.code.source === true ? { ref: e21.schema, code: (0, r2.stringify)(e21.schema) } : { ref: e21.schema }), validateName: p3, ValidationError: n3, schema: e21.schema, schemaEnv: e21, rootId: s3, baseId: e21.baseId || s3, schemaPath: r2.nil, errSchemaPath: e21.schemaPath || (this.opts.jtd ? "" : "#"), errorPath: r2._(z || (z = pi(['""']))), opts: this.opts, self: this };
    try {
      this._compilations.add(e21), (0, u2.validateFunctionCode)(g2), v3.optimize(this.opts.code.optimize);
      var y2 = v3.toString();
      m3 = "".concat(v3.scopeRefs(o2.default.scope), "return ").concat(y2), this.opts.code.process && (m3 = this.opts.code.process(m3, e21));
      var b2 = new Function("".concat(o2.default.self), "".concat(o2.default.scope), m3)(this, this.scope.get());
      if (this.scope.value(p3, { ref: b2 }), b2.errors = null, b2.schema = e21.schema, b2.schemaEnv = e21, e21.$async && (b2.$async = true), this.opts.code.source === true && (b2.source = { validateName: p3, validateCode: y2, scopeValues: v3._values }), this.opts.unevaluated) {
        var w2 = g2.props, k2 = g2.items;
        b2.evaluated = { props: w2 instanceof r2.Name ? void 0 : w2, items: k2 instanceof r2.Name ? void 0 : k2, dynamicProps: w2 instanceof r2.Name, dynamicItems: k2 instanceof r2.Name }, b2.source && (b2.source.evaluated = (0, r2.stringify)(b2.evaluated));
      }
      return e21.validate = b2, e21;
    } catch (t4) {
      throw delete e21.validate, delete e21.validateName, m3 && this.logger.error("Error compiling schema, function code:", m3), t4;
    } finally {
      this._compilations.delete(e21);
    }
  }
  function f2(e21) {
    return (0, a2.inlineRef)(e21.schema, this.opts.inlineRefs) ? e21.schema : e21.validate ? e21 : l2.call(this, e21);
  }
  function h2(e21) {
    var t3, n3, r3, i3 = bi(this._compilations);
    try {
      for (i3.s(); !(t3 = i3.n()).done; ) {
        var o3 = t3.value;
        if ((n3 = o3).schema === (r3 = e21).schema && n3.root === r3.root && n3.baseId === r3.baseId)
          return o3;
      }
    } catch (e22) {
      i3.e(e22);
    } finally {
      i3.f();
    }
  }
  function d2(e21, t3) {
    for (var n3; typeof (n3 = this.refs[t3]) == "string"; )
      t3 = n3;
    return n3 || this.schemas[t3] || v2.call(this, e21, t3);
  }
  function v2(e21, t3) {
    var n3 = this.opts.uriResolver.parse(t3), r3 = (0, a2._getFullPath)(this.opts.uriResolver, n3), i3 = (0, a2.getFullPath)(this.opts.uriResolver, e21.baseId, void 0);
    if (Object.keys(e21.schema).length > 0 && r3 === i3)
      return m2.call(this, n3, e21);
    var o3 = (0, a2.normalizeId)(r3), s3 = this.refs[o3] || this.schemas[o3];
    if (typeof s3 == "string") {
      var u3 = v2.call(this, e21, s3);
      if (zi(u3 == null ? void 0 : u3.schema) != "object")
        return;
      return m2.call(this, n3, u3);
    }
    if (zi(s3 == null ? void 0 : s3.schema) == "object") {
      if (s3.validate || l2.call(this, s3), o3 === (0, a2.normalizeId)(t3)) {
        var f3 = s3.schema, h3 = this.opts.schemaId, d3 = f3[h3];
        return d3 && (i3 = (0, a2.resolveUrl)(this.opts.uriResolver, i3, d3)), new c2({ schema: f3, schemaId: h3, root: e21, baseId: i3 });
      }
      return m2.call(this, n3, s3);
    }
  }
  n2.SchemaEnv = c2, n2.compileSchema = l2, n2.resolveRef = function(e21, t3, n3) {
    var r3;
    n3 = (0, a2.resolveUrl)(this.opts.uriResolver, t3, n3);
    var i3 = e21.refs[n3];
    if (i3)
      return i3;
    var o3 = d2.call(this, e21, n3);
    if (o3 === void 0) {
      var s3 = (r3 = e21.localRefs) === null || r3 === void 0 ? void 0 : r3[n3], u3 = this.opts.schemaId;
      s3 && (o3 = new c2({ schema: s3, schemaId: u3, root: e21, baseId: t3 }));
    }
    return o3 !== void 0 ? e21.refs[n3] = f2.call(this, o3) : void 0;
  }, n2.getCompilingSchema = h2, n2.resolveSchema = v2;
  var p2 = /* @__PURE__ */ new Set(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
  function m2(e21, t3) {
    var n3, r3 = t3.baseId, i3 = t3.schema, o3 = t3.root;
    if (((n3 = e21.fragment) === null || n3 === void 0 ? void 0 : n3[0]) === "/") {
      var u3, l3, f3 = bi(e21.fragment.slice(1).split("/"));
      try {
        for (f3.s(); !(u3 = f3.n()).done; ) {
          var h3 = u3.value;
          if (typeof i3 == "boolean")
            return;
          var d3 = i3[(0, s2.unescapeFragment)(h3)];
          if (d3 === void 0)
            return;
          var m3 = zi(i3 = d3) == "object" && i3[this.opts.schemaId];
          !p2.has(h3) && m3 && (r3 = (0, a2.resolveUrl)(this.opts.uriResolver, r3, m3));
        }
      } catch (e22) {
        f3.e(e22);
      } finally {
        f3.f();
      }
      if (typeof i3 != "boolean" && i3.$ref && !(0, s2.schemaHasRulesButRef)(i3, this.RULES)) {
        var g2 = (0, a2.resolveUrl)(this.opts.uriResolver, r3, i3.$ref);
        l3 = v2.call(this, o3, g2);
      }
      var y2 = this.opts.schemaId;
      return (l3 = l3 || new c2({ schema: i3, schemaId: y2, root: o3, baseId: r3 })).schema !== l3.root.schema ? l3 : void 0;
    }
  }
}, { "../runtime/validation_error": 24, "./codegen": 2, "./names": 6, "./resolve": 8, "./util": 10, "./validate": 15 }], 6: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./codegen"), i2 = { data: new r2.Name("data"), valCxt: new r2.Name("valCxt"), instancePath: new r2.Name("instancePath"), parentData: new r2.Name("parentData"), parentDataProperty: new r2.Name("parentDataProperty"), rootData: new r2.Name("rootData"), dynamicAnchors: new r2.Name("dynamicAnchors"), vErrors: new r2.Name("vErrors"), errors: new r2.Name("errors"), this: new r2.Name("this"), self: new r2.Name("self"), scope: new r2.Name("scope"), json: new r2.Name("json"), jsonPos: new r2.Name("jsonPos"), jsonLen: new r2.Name("jsonLen"), jsonPart: new r2.Name("jsonPart") };
  n2.default = i2;
}, { "./codegen": 2 }], 7: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./resolve"), i2 = function(e21) {
    xi(n3, di(Error));
    var t3 = Ci(n3);
    function n3(e22, i3, o2, a2) {
      var s2;
      return Ri(this, n3), (s2 = t3.call(this, a2 || "can't resolve reference ".concat(o2, " from id ").concat(i3))).missingRef = (0, r2.resolveUrl)(e22, i3, o2), s2.missingSchema = (0, r2.normalizeId)((0, r2.getFullPath)(e22, s2.missingRef)), s2;
    }
    return Li(n3);
  }();
  n2.default = i2;
}, { "./resolve": 8 }], 8: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.getSchemaRefs = n2.resolveUrl = n2.normalizeId = n2._getFullPath = n2.getFullPath = n2.inlineRef = void 0;
  var r2 = e20("./util"), i2 = e20("fast-deep-equal"), o2 = e20("json-schema-traverse"), a2 = /* @__PURE__ */ new Set(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum", "const"]);
  n2.inlineRef = function(e21) {
    var t3 = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
    return typeof e21 == "boolean" || (t3 === true ? !u2(e21) : !!t3 && c2(e21) <= t3);
  };
  var s2 = /* @__PURE__ */ new Set(["$ref", "$recursiveRef", "$recursiveAnchor", "$dynamicRef", "$dynamicAnchor"]);
  function u2(e21) {
    for (var t3 in e21) {
      if (s2.has(t3))
        return true;
      var n3 = e21[t3];
      if (Array.isArray(n3) && n3.some(u2))
        return true;
      if (zi(n3) == "object" && u2(n3))
        return true;
    }
    return false;
  }
  function c2(e21) {
    var t3 = 0;
    for (var n3 in e21) {
      if (n3 === "$ref")
        return 1 / 0;
      if (t3++, !a2.has(n3) && (zi(e21[n3]) == "object" && (0, r2.eachItem)(e21[n3], function(e22) {
        return t3 += c2(e22);
      }), 1 / 0 === t3))
        return 1 / 0;
    }
    return t3;
  }
  function l2(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    (arguments.length > 2 ? arguments[2] : void 0) !== false && (t3 = d2(t3));
    var n3 = e21.parse(t3);
    return f2(e21, n3);
  }
  function f2(e21, t3) {
    return e21.serialize(t3).split("#")[0] + "#";
  }
  n2.getFullPath = l2, n2._getFullPath = f2;
  var h2 = /#\/?$/;
  function d2(e21) {
    return e21 ? e21.replace(h2, "") : "";
  }
  n2.normalizeId = d2, n2.resolveUrl = function(e21, t3, n3) {
    return n3 = d2(n3), e21.resolve(t3, n3);
  };
  var v2 = /^[a-z_][-a-z0-9._]*$/i;
  n2.getSchemaRefs = function(e21, t3) {
    var n3 = this;
    if (typeof e21 == "boolean")
      return {};
    var r3 = this.opts, a3 = r3.schemaId, s3 = r3.uriResolver, u3 = d2(e21[a3] || t3), c3 = { "": u3 }, f3 = l2(s3, u3, false), h3 = {}, p2 = /* @__PURE__ */ new Set();
    return o2(e21, { allKeys: true }, function(e22, t4, r4, i3) {
      if (i3 !== void 0) {
        var o3 = f3 + t4, s4 = c3[i3];
        typeof e22[a3] == "string" && (s4 = u4.call(n3, e22[a3])), l3.call(n3, e22.$anchor), l3.call(n3, e22.$dynamicAnchor), c3[t4] = s4;
      }
      function u4(t5) {
        if (t5 = d2(s4 ? (0, this.opts.uriResolver.resolve)(s4, t5) : t5), p2.has(t5))
          throw g2(t5);
        p2.add(t5);
        var n4 = this.refs[t5];
        return typeof n4 == "string" && (n4 = this.refs[n4]), zi(n4) == "object" ? m2(e22, n4.schema, t5) : t5 !== d2(o3) && (t5[0] === "#" ? (m2(e22, h3[t5], t5), h3[t5] = e22) : this.refs[t5] = o3), t5;
      }
      function l3(e23) {
        if (typeof e23 == "string") {
          if (!v2.test(e23))
            throw new Error('invalid anchor "'.concat(e23, '"'));
          u4.call(this, "#".concat(e23));
        }
      }
    }), h3;
    function m2(e22, t4, n4) {
      if (t4 !== void 0 && !i2(e22, t4))
        throw g2(n4);
    }
    function g2(e22) {
      return new Error('reference "'.concat(e22, '" resolves to more than one schema'));
    }
  };
}, { "./util": 10, "fast-deep-equal": 63, "json-schema-traverse": 64 }], 9: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.getRules = n2.isJSONType = void 0;
  var r2 = /* @__PURE__ */ new Set(["string", "number", "integer", "boolean", "null", "object", "array"]);
  n2.isJSONType = function(e21) {
    return typeof e21 == "string" && r2.has(e21);
  }, n2.getRules = function() {
    var e21 = { number: { type: "number", rules: [] }, string: { type: "string", rules: [] }, array: { type: "array", rules: [] }, object: { type: "object", rules: [] } };
    return { types: Ei(Ei({}, e21), {}, { integer: true, boolean: true, null: true }), rules: [{ rules: [] }, e21.number, e21.string, e21.array, e21.object], post: { rules: [] }, all: {}, keywords: {} };
  };
}, {}], 10: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.checkStrictMode = n2.getErrorPath = n2.Type = n2.useFunc = n2.setEvaluated = n2.evaluatedPropsToName = n2.mergeEvaluated = n2.eachItem = n2.unescapeJsonPointer = n2.escapeJsonPointer = n2.escapeFragment = n2.unescapeFragment = n2.schemaRefOrVal = n2.schemaHasRulesButRef = n2.schemaHasRules = n2.checkUnknownRules = n2.alwaysValidSchema = n2.toHash = void 0;
  var r2 = e20("./codegen"), i2 = e20("./codegen/code");
  function o2(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21.schema, n3 = e21.opts, r3 = e21.self;
    if (n3.strictSchema && typeof t3 != "boolean") {
      var i3 = r3.RULES.keywords;
      for (var o3 in t3)
        i3[o3] || v2(e21, 'unknown keyword: "'.concat(o3, '"'));
    }
  }
  function a2(e21, t3) {
    if (typeof e21 == "boolean")
      return !e21;
    for (var n3 in e21)
      if (t3[n3])
        return true;
    return false;
  }
  function s2(e21) {
    return typeof e21 == "number" ? "".concat(e21) : e21.replace(/~/g, "~0").replace(/\//g, "~1");
  }
  function u2(e21) {
    return e21.replace(/~1/g, "/").replace(/~0/g, "~");
  }
  function c2(e21) {
    var t3 = e21.mergeNames, n3 = e21.mergeToName, i3 = e21.mergeValues, o3 = e21.resultToName;
    return function(e22, a3, s3, u3) {
      var c3 = s3 === void 0 ? a3 : s3 instanceof r2.Name ? (a3 instanceof r2.Name ? t3(e22, a3, s3) : n3(e22, a3, s3), s3) : a3 instanceof r2.Name ? (n3(e22, s3, a3), a3) : i3(a3, s3);
      return u3 !== r2.Name || c3 instanceof r2.Name ? c3 : o3(e22, c3);
    };
  }
  function l2(e21, t3) {
    if (t3 === true)
      return e21.var("props", true);
    var n3 = e21.var("props", r2._(B || (B = pi(["{}"]))));
    return t3 !== void 0 && f2(e21, n3, t3), n3;
  }
  function f2(e21, t3, n3) {
    Object.keys(n3).forEach(function(n4) {
      return e21.assign(r2._(q || (q = pi(["", "", ""])), t3, (0, r2.getProperty)(n4)), true);
    });
  }
  n2.toHash = function(e21) {
    var t3, n3 = {}, r3 = bi(e21);
    try {
      for (r3.s(); !(t3 = r3.n()).done; )
        n3[t3.value] = true;
    } catch (e22) {
      r3.e(e22);
    } finally {
      r3.f();
    }
    return n3;
  }, n2.alwaysValidSchema = function(e21, t3) {
    return typeof t3 == "boolean" ? t3 : Object.keys(t3).length === 0 || (o2(e21, t3), !a2(t3, e21.self.RULES.all));
  }, n2.checkUnknownRules = o2, n2.schemaHasRules = a2, n2.schemaHasRulesButRef = function(e21, t3) {
    if (typeof e21 == "boolean")
      return !e21;
    for (var n3 in e21)
      if (n3 !== "$ref" && t3.all[n3])
        return true;
    return false;
  }, n2.schemaRefOrVal = function(e21, t3, n3, i3) {
    var o3 = e21.topSchemaRef, a3 = e21.schemaPath;
    if (!i3) {
      if (typeof t3 == "number" || typeof t3 == "boolean")
        return t3;
      if (typeof t3 == "string")
        return r2._(F || (F = pi(["", ""])), t3);
    }
    return r2._(V || (V = pi(["", "", "", ""])), o3, a3, (0, r2.getProperty)(n3));
  }, n2.unescapeFragment = function(e21) {
    return u2(decodeURIComponent(e21));
  }, n2.escapeFragment = function(e21) {
    return encodeURIComponent(s2(e21));
  }, n2.escapeJsonPointer = s2, n2.unescapeJsonPointer = u2, n2.eachItem = function(e21, t3) {
    if (Array.isArray(e21)) {
      var n3, r3 = bi(e21);
      try {
        for (r3.s(); !(n3 = r3.n()).done; )
          t3(n3.value);
      } catch (e22) {
        r3.e(e22);
      } finally {
        r3.f();
      }
    } else
      t3(e21);
  }, n2.mergeEvaluated = { props: c2({ mergeNames: function(e21, t3, n3) {
    return e21.if(r2._(H || (H = pi(["", " !== true && ", " !== undefined"])), n3, t3), function() {
      e21.if(r2._(W || (W = pi(["", " === true"])), t3), function() {
        return e21.assign(n3, true);
      }, function() {
        return e21.assign(n3, r2._(U || (U = pi(["", " || {}"])), n3)).code(r2._(J || (J = pi(["Object.assign(", ", ", ")"])), n3, t3));
      });
    });
  }, mergeToName: function(e21, t3, n3) {
    return e21.if(r2._(K || (K = pi(["", " !== true"])), n3), function() {
      t3 === true ? e21.assign(n3, true) : (e21.assign(n3, r2._(G || (G = pi(["", " || {}"])), n3)), f2(e21, n3, t3));
    });
  }, mergeValues: function(e21, t3) {
    return e21 === true || Ei(Ei({}, e21), t3);
  }, resultToName: l2 }), items: c2({ mergeNames: function(e21, t3, n3) {
    return e21.if(r2._(Q || (Q = pi(["", " !== true && ", " !== undefined"])), n3, t3), function() {
      return e21.assign(n3, r2._(Y || (Y = pi(["", " === true ? true : ", " > ", " ? ", " : ", ""])), t3, n3, t3, n3, t3));
    });
  }, mergeToName: function(e21, t3, n3) {
    return e21.if(r2._(Z || (Z = pi(["", " !== true"])), n3), function() {
      return e21.assign(n3, t3 === true || r2._(X || (X = pi(["", " > ", " ? ", " : ", ""])), n3, t3, n3, t3));
    });
  }, mergeValues: function(e21, t3) {
    return e21 === true || Math.max(e21, t3);
  }, resultToName: function(e21, t3) {
    return e21.var("items", t3);
  } }) }, n2.evaluatedPropsToName = l2, n2.setEvaluated = f2;
  var h2, d2 = {};
  function v2(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e21.opts.strictSchema;
    if (n3) {
      if (t3 = "strict mode: ".concat(t3), n3 === true)
        throw new Error(t3);
      e21.self.logger.warn(t3);
    }
  }
  n2.useFunc = function(e21, t3) {
    return e21.scopeValue("func", { ref: t3, code: d2[t3.code] || (d2[t3.code] = new i2._Code(t3.code)) });
  }, function(e21) {
    e21[e21.Num = 0] = "Num", e21[e21.Str = 1] = "Str";
  }(h2 = n2.Type || (n2.Type = {})), n2.getErrorPath = function(e21, t3, n3) {
    if (e21 instanceof r2.Name) {
      var i3 = t3 === h2.Num;
      return n3 ? i3 ? r2._(ee || (ee = pi(['"[" + ', ' + "]"'])), e21) : r2._(te || (te = pi([`"['" + `, ` + "']"`])), e21) : i3 ? r2._(ne || (ne = pi(['"/" + ', ""])), e21) : r2._(re || (re = pi(['"/" + ', '.replace(/~/g, "~0").replace(/\\//g, "~1")'], ['"/" + ', '.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])), e21);
    }
    return n3 ? (0, r2.getProperty)(e21).toString() : "/" + s2(e21);
  }, n2.checkStrictMode = v2;
}, { "./codegen": 2, "./codegen/code": 1 }], 11: [function(e20, t2, n2) {
  function r2(e21, t3) {
    return t3.rules.some(function(t4) {
      return i2(e21, t4);
    });
  }
  function i2(e21, t3) {
    var n3;
    return e21[t3.keyword] !== void 0 || ((n3 = t3.definition.implements) === null || n3 === void 0 ? void 0 : n3.some(function(t4) {
      return e21[t4] !== void 0;
    }));
  }
  Object.defineProperty(n2, "__esModule", { value: true }), n2.shouldUseRule = n2.shouldUseGroup = n2.schemaHasRulesForType = void 0, n2.schemaHasRulesForType = function(e21, t3) {
    var n3 = e21.schema, i3 = e21.self.RULES.types[t3];
    return i3 && i3 !== true && r2(n3, i3);
  }, n2.shouldUseGroup = r2, n2.shouldUseRule = i2;
}, {}], 12: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.boolOrEmptySchema = n2.topBoolOrEmptySchema = void 0;
  var r2 = e20("../errors"), i2 = e20("../codegen"), o2 = e20("../names"), a2 = { message: "boolean schema is false" };
  function s2(e21, t3) {
    var n3 = e21.gen, i3 = e21.data;
    (0, r2.reportError)({ gen: n3, keyword: "false schema", data: i3, schema: false, schemaCode: false, schemaValue: false, params: {}, it: e21 }, a2, void 0, t3);
  }
  n2.topBoolOrEmptySchema = function(e21) {
    var t3 = e21.gen, n3 = e21.schema, r3 = e21.validateName;
    n3 === false ? s2(e21, false) : zi(n3) == "object" && n3.$async === true ? t3.return(o2.default.data) : (t3.assign(i2._(ie || (ie = pi(["", ".errors"])), r3), null), t3.return(true));
  }, n2.boolOrEmptySchema = function(e21, t3) {
    var n3 = e21.gen;
    e21.schema === false ? (n3.var(t3, false), s2(e21)) : n3.var(t3, true);
  };
}, { "../codegen": 2, "../errors": 4, "../names": 6 }], 13: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.reportTypeError = n2.checkDataTypes = n2.checkDataType = n2.coerceAndCheckDataType = n2.getJSONTypes = n2.getSchemaTypes = n2.DataType = void 0;
  var r2, i2 = e20("../rules"), o2 = e20("./applicability"), a2 = e20("../errors"), s2 = e20("../codegen"), u2 = e20("../util");
  function c2(e21) {
    var t3 = Array.isArray(e21) ? e21 : e21 ? [e21] : [];
    if (t3.every(i2.isJSONType))
      return t3;
    throw new Error("type must be JSONType or JSONType[]: " + t3.join(","));
  }
  !function(e21) {
    e21[e21.Correct = 0] = "Correct", e21[e21.Wrong = 1] = "Wrong";
  }(r2 = n2.DataType || (n2.DataType = {})), n2.getSchemaTypes = function(e21) {
    var t3 = c2(e21.type);
    if (t3.includes("null")) {
      if (e21.nullable === false)
        throw new Error("type: null contradicts nullable: false");
    } else {
      if (!t3.length && e21.nullable !== void 0)
        throw new Error('"nullable" cannot be used without "type"');
      e21.nullable === true && t3.push("null");
    }
    return t3;
  }, n2.getJSONTypes = c2, n2.coerceAndCheckDataType = function(e21, t3) {
    var n3 = e21.gen, i3 = e21.data, a3 = e21.opts, u3 = function(e22, t4) {
      return t4 ? e22.filter(function(e23) {
        return l2.has(e23) || t4 === "array" && e23 === "array";
      }) : [];
    }(t3, a3.coerceTypes), c3 = t3.length > 0 && !(u3.length === 0 && t3.length === 1 && (0, o2.schemaHasRulesForType)(e21, t3[0]));
    if (c3) {
      var f3 = h2(t3, i3, a3.strictNumbers, r2.Wrong);
      n3.if(f3, function() {
        u3.length ? function(e22, t4, n4) {
          var r3 = e22.gen, i4 = e22.data, o3 = e22.opts, a4 = r3.let("dataType", s2._(oe || (oe = pi(["typeof ", ""])), i4)), u4 = r3.let("coerced", s2._(ae || (ae = pi(["undefined"]))));
          o3.coerceTypes === "array" && r3.if(s2._(se || (se = pi(["", " == 'object' && Array.isArray(", ") && ", ".length == 1"])), a4, i4, i4), function() {
            return r3.assign(i4, s2._(ue || (ue = pi(["", "[0]"])), i4)).assign(a4, s2._(ce || (ce = pi(["typeof ", ""])), i4)).if(h2(t4, i4, o3.strictNumbers), function() {
              return r3.assign(u4, i4);
            });
          }), r3.if(s2._(le || (le = pi(["", " !== undefined"])), u4));
          var c4, f4 = bi(n4);
          try {
            for (f4.s(); !(c4 = f4.n()).done; ) {
              var d3 = c4.value;
              (l2.has(d3) || d3 === "array" && o3.coerceTypes === "array") && p2(d3);
            }
          } catch (e23) {
            f4.e(e23);
          } finally {
            f4.f();
          }
          function p2(e23) {
            switch (e23) {
              case "string":
                return void r3.elseIf(s2._(fe || (fe = pi(["", ' == "number" || ', ' == "boolean"'])), a4, a4)).assign(u4, s2._(he || (he = pi(['"" + ', ""])), i4)).elseIf(s2._(de || (de = pi(["", " === null"])), i4)).assign(u4, s2._(ve || (ve = pi(['""']))));
              case "number":
                return void r3.elseIf(s2._(pe || (pe = pi(["", ' == "boolean" || ', " === null\n	              || (", ' == "string" && ', " && ", " == +", ")"])), a4, i4, a4, i4, i4, i4)).assign(u4, s2._(me || (me = pi(["+", ""])), i4));
              case "integer":
                return void r3.elseIf(s2._(ge || (ge = pi(["", ' === "boolean" || ', " === null\n	              || (", ' === "string" && ', " && ", " == +", " && !(", " % 1))"])), a4, i4, a4, i4, i4, i4, i4)).assign(u4, s2._(ye || (ye = pi(["+", ""])), i4));
              case "boolean":
                return void r3.elseIf(s2._(be || (be = pi(["", ' === "false" || ', " === 0 || ", " === null"])), i4, i4, i4)).assign(u4, false).elseIf(s2._(we || (we = pi(["", ' === "true" || ', " === 1"])), i4, i4)).assign(u4, true);
              case "null":
                return r3.elseIf(s2._(ke || (ke = pi(["", ' === "" || ', " === 0 || ", " === false"])), i4, i4, i4)), void r3.assign(u4, null);
              case "array":
                r3.elseIf(s2._(je || (je = pi(["", ' === "string" || ', ' === "number"\n	              || ', ' === "boolean" || ', " === null"])), a4, a4, a4, i4)).assign(u4, s2._(xe || (xe = pi(["[", "]"])), i4));
            }
          }
          r3.else(), v2(e22), r3.endIf(), r3.if(s2._(Se || (Se = pi(["", " !== undefined"])), u4), function() {
            r3.assign(i4, u4), function(e23, t5) {
              var n5 = e23.gen, r4 = e23.parentData, i5 = e23.parentDataProperty;
              n5.if(s2._(Ce || (Ce = pi(["", " !== undefined"])), r4), function() {
                return n5.assign(s2._(_e || (_e = pi(["", "[", "]"])), r4, i5), t5);
              });
            }(e22, u4);
          });
        }(e21, t3, u3) : v2(e21);
      });
    }
    return c3;
  };
  var l2 = /* @__PURE__ */ new Set(["string", "number", "integer", "boolean", "null"]);
  function f2(e21, t3, n3) {
    var i3, o3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : r2.Correct, a3 = o3 === r2.Correct ? s2.operators.EQ : s2.operators.NEQ;
    switch (e21) {
      case "null":
        return s2._($e || ($e = pi(["", " ", " null"])), t3, a3);
      case "array":
        i3 = s2._(Oe || (Oe = pi(["Array.isArray(", ")"])), t3);
        break;
      case "object":
        i3 = s2._(Pe || (Pe = pi(["", " && typeof ", ' == "object" && !Array.isArray(', ")"])), t3, t3, t3);
        break;
      case "integer":
        i3 = u3(s2._(Ae || (Ae = pi(["!(", " % 1) && !isNaN(", ")"])), t3, t3));
        break;
      case "number":
        i3 = u3();
        break;
      default:
        return s2._(Ee || (Ee = pi(["typeof ", " ", " ", ""])), t3, a3, e21);
    }
    return o3 === r2.Correct ? i3 : (0, s2.not)(i3);
    function u3() {
      var e22 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : s2.nil;
      return (0, s2.and)(s2._(Me || (Me = pi(["typeof ", ' == "number"'])), t3), e22, n3 ? s2._(Te || (Te = pi(["isFinite(", ")"])), t3) : s2.nil);
    }
  }
  function h2(e21, t3, n3, r3) {
    if (e21.length === 1)
      return f2(e21[0], t3, n3, r3);
    var i3, o3 = (0, u2.toHash)(e21);
    if (o3.array && o3.object) {
      var a3 = s2._(Ie || (Ie = pi(["typeof ", ' != "object"'])), t3);
      i3 = o3.null ? a3 : s2._(Ne || (Ne = pi(["!", " || ", ""])), t3, a3), delete o3.null, delete o3.array, delete o3.object;
    } else
      i3 = s2.nil;
    for (var c3 in o3.number && delete o3.integer, o3)
      i3 = (0, s2.and)(i3, f2(c3, t3, n3, r3));
    return i3;
  }
  n2.checkDataType = f2, n2.checkDataTypes = h2;
  var d2 = { message: function(e21) {
    var t3 = e21.schema;
    return "must be ".concat(t3);
  }, params: function(e21) {
    var t3 = e21.schema, n3 = e21.schemaValue;
    return typeof t3 == "string" ? s2._(Re || (Re = pi(["{type: ", "}"])), t3) : s2._(De || (De = pi(["{type: ", "}"])), n3);
  } };
  function v2(e21) {
    var t3 = function(e22) {
      var t4 = e22.gen, n3 = e22.data, r3 = e22.schema, i3 = (0, u2.schemaRefOrVal)(e22, r3, "type");
      return { gen: t4, keyword: "type", data: n3, schema: r3.type, schemaCode: i3, schemaValue: i3, parentSchema: r3, params: {}, it: e22 };
    }(e21);
    (0, a2.reportError)(t3, d2);
  }
  n2.reportTypeError = v2;
}, { "../codegen": 2, "../errors": 4, "../rules": 9, "../util": 10, "./applicability": 11 }], 14: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.assignDefaults = void 0;
  var r2 = e20("../codegen"), i2 = e20("../util");
  function o2(e21, t3, n3) {
    var o3 = e21.gen, a2 = e21.compositeRule, s2 = e21.data, u2 = e21.opts;
    if (n3 !== void 0) {
      var c2 = r2._(Le || (Le = pi(["", "", ""])), s2, (0, r2.getProperty)(t3));
      if (a2)
        (0, i2.checkStrictMode)(e21, "default is ignored for: ".concat(c2));
      else {
        var l2 = r2._(ze || (ze = pi(["", " === undefined"])), c2);
        u2.useDefaults === "empty" && (l2 = r2._(Be || (Be = pi(["", " || ", " === null || ", ' === ""'])), l2, c2, c2)), o3.if(l2, r2._(qe || (qe = pi(["", " = ", ""])), c2, (0, r2.stringify)(n3)));
      }
    }
  }
  n2.assignDefaults = function(e21, t3) {
    var n3 = e21.schema, r3 = n3.properties, i3 = n3.items;
    if (t3 === "object" && r3)
      for (var a2 in r3)
        o2(e21, a2, r3[a2].default);
    else
      t3 === "array" && Array.isArray(i3) && i3.forEach(function(t4, n4) {
        return o2(e21, n4, t4.default);
      });
  };
}, { "../codegen": 2, "../util": 10 }], 15: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.getData = n2.KeywordCxt = n2.validateFunctionCode = void 0;
  var r2 = e20("./boolSchema"), i2 = e20("./dataType"), o2 = e20("./applicability"), a2 = e20("./dataType"), s2 = e20("./defaults"), u2 = e20("./keyword"), c2 = e20("./subschema"), l2 = e20("../codegen"), f2 = e20("../names"), h2 = e20("../resolve"), d2 = e20("../util"), v2 = e20("../errors");
  function p2(e21, t3) {
    var n3 = e21.gen, r3 = e21.validateName, i3 = e21.schema, o3 = e21.schemaEnv, a3 = e21.opts;
    a3.code.es5 ? n3.func(r3, l2._(Fe || (Fe = pi(["", ", ", ""])), f2.default.data, f2.default.valCxt), o3.$async, function() {
      n3.code(l2._(Ve || (Ve = pi(['"use strict"; ', ""])), m2(i3, a3))), function(e22, t4) {
        e22.if(f2.default.valCxt, function() {
          e22.var(f2.default.instancePath, l2._(He || (He = pi(["", ".", ""])), f2.default.valCxt, f2.default.instancePath)), e22.var(f2.default.parentData, l2._(We || (We = pi(["", ".", ""])), f2.default.valCxt, f2.default.parentData)), e22.var(f2.default.parentDataProperty, l2._(Ue || (Ue = pi(["", ".", ""])), f2.default.valCxt, f2.default.parentDataProperty)), e22.var(f2.default.rootData, l2._(Je || (Je = pi(["", ".", ""])), f2.default.valCxt, f2.default.rootData)), t4.dynamicRef && e22.var(f2.default.dynamicAnchors, l2._(Ke || (Ke = pi(["", ".", ""])), f2.default.valCxt, f2.default.dynamicAnchors));
        }, function() {
          e22.var(f2.default.instancePath, l2._(Ge || (Ge = pi(['""'])))), e22.var(f2.default.parentData, l2._(Qe || (Qe = pi(["undefined"])))), e22.var(f2.default.parentDataProperty, l2._(Ye || (Ye = pi(["undefined"])))), e22.var(f2.default.rootData, f2.default.data), t4.dynamicRef && e22.var(f2.default.dynamicAnchors, l2._(Ze || (Ze = pi(["{}"]))));
        });
      }(n3, a3), n3.code(t3);
    }) : n3.func(r3, l2._(Xe || (Xe = pi(["", ", ", ""])), f2.default.data, function(e22) {
      return l2._(et || (et = pi(["{", '="", ', ", ", ", ", "=", "", "}={}"])), f2.default.instancePath, f2.default.parentData, f2.default.parentDataProperty, f2.default.rootData, f2.default.data, e22.dynamicRef ? l2._(tt || (tt = pi([", ", "={}"])), f2.default.dynamicAnchors) : l2.nil);
    }(a3)), o3.$async, function() {
      return n3.code(m2(i3, a3)).code(t3);
    });
  }
  function m2(e21, t3) {
    var n3 = zi(e21) == "object" && e21[t3.schemaId];
    return n3 && (t3.code.source || t3.code.process) ? l2._(nt || (nt = pi(["/*# sourceURL=", " */"])), n3) : l2.nil;
  }
  function g2(e21, t3) {
    b2(e21) && (w2(e21), y2(e21)) ? function(e22, t4) {
      var n3 = e22.schema, r3 = e22.gen;
      e22.opts.$comment && n3.$comment && j2(e22), function(e23) {
        var t5 = e23.schema[e23.opts.schemaId];
        t5 && (e23.baseId = (0, h2.resolveUrl)(e23.opts.uriResolver, e23.baseId, t5));
      }(e22), function(e23) {
        if (e23.schema.$async && !e23.schemaEnv.$async)
          throw new Error("async schema in sync schema");
      }(e22);
      var i3 = r3.const("_errs", f2.default.errors);
      k2(e22, i3), r3.var(t4, l2._(rt || (rt = pi(["", " === ", ""])), i3, f2.default.errors));
    }(e21, t3) : (0, r2.boolOrEmptySchema)(e21, t3);
  }
  function y2(e21) {
    var t3 = e21.schema, n3 = e21.self;
    if (typeof t3 == "boolean")
      return !t3;
    for (var r3 in t3)
      if (n3.RULES.all[r3])
        return true;
    return false;
  }
  function b2(e21) {
    return typeof e21.schema != "boolean";
  }
  function w2(e21) {
    (0, d2.checkUnknownRules)(e21), function(e22) {
      var t3 = e22.schema, n3 = e22.errSchemaPath, r3 = e22.opts, i3 = e22.self;
      t3.$ref && r3.ignoreKeywordsWithRef && (0, d2.schemaHasRulesButRef)(t3, i3.RULES) && i3.logger.warn('$ref: keywords ignored in schema at path "'.concat(n3, '"'));
    }(e21);
  }
  function k2(e21, t3) {
    if (e21.opts.jtd)
      return x2(e21, [], false, t3);
    var n3 = (0, i2.getSchemaTypes)(e21.schema);
    x2(e21, n3, !(0, i2.coerceAndCheckDataType)(e21, n3), t3);
  }
  function j2(e21) {
    var t3 = e21.gen, n3 = e21.schemaEnv, r3 = e21.schema, i3 = e21.errSchemaPath, o3 = e21.opts, a3 = r3.$comment;
    if (o3.$comment === true)
      t3.code(l2._(it || (it = pi(["", ".logger.log(", ")"])), f2.default.self, a3));
    else if (typeof o3.$comment == "function") {
      var s3 = l2.str(ot || (ot = pi(["", "/$comment"])), i3), u3 = t3.scopeValue("root", { ref: n3.root });
      t3.code(l2._(at || (at = pi(["", ".opts.$comment(", ", ", ", ", ".schema)"])), f2.default.self, a3, s3, u3));
    }
  }
  function x2(e21, t3, n3, r3) {
    var i3 = e21.gen, s3 = e21.schema, u3 = e21.data, c3 = e21.allErrors, h3 = e21.opts, v3 = e21.self.RULES;
    function p3(d3) {
      (0, o2.shouldUseGroup)(s3, d3) && (d3.type ? (i3.if((0, a2.checkDataType)(d3.type, u3, h3.strictNumbers)), S2(e21, d3), t3.length === 1 && t3[0] === d3.type && n3 && (i3.else(), (0, a2.reportTypeError)(e21)), i3.endIf()) : S2(e21, d3), c3 || i3.if(l2._(st || (st = pi(["", " === ", ""])), f2.default.errors, r3 || 0)));
    }
    !s3.$ref || !h3.ignoreKeywordsWithRef && (0, d2.schemaHasRulesButRef)(s3, v3) ? (h3.jtd || function(e22, t4) {
      !e22.schemaEnv.meta && e22.opts.strictTypes && (function(e23, t5) {
        t5.length && (e23.dataTypes.length ? (t5.forEach(function(t6) {
          _2(e23.dataTypes, t6) || $2(e23, 'type "'.concat(t6, '" not allowed by context "').concat(e23.dataTypes.join(","), '"'));
        }), e23.dataTypes = e23.dataTypes.filter(function(e24) {
          return _2(t5, e24);
        })) : e23.dataTypes = t5);
      }(e22, t4), e22.opts.allowUnionTypes || function(e23, t5) {
        t5.length > 1 && (t5.length !== 2 || !t5.includes("null")) && $2(e23, "use allowUnionTypes to allow union type keyword");
      }(e22, t4), function(e23, t5) {
        var n4 = e23.self.RULES.all;
        for (var r4 in n4) {
          var i4 = n4[r4];
          if (zi(i4) == "object" && (0, o2.shouldUseRule)(e23.schema, i4)) {
            var a3 = i4.definition.type;
            a3.length && !a3.some(function(e24) {
              return C2(t5, e24);
            }) && $2(e23, 'missing type "'.concat(a3.join(","), '" for keyword "').concat(r4, '"'));
          }
        }
      }(e22, e22.dataTypes));
    }(e21, t3), i3.block(function() {
      var e22, t4 = bi(v3.rules);
      try {
        for (t4.s(); !(e22 = t4.n()).done; )
          p3(e22.value);
      } catch (e23) {
        t4.e(e23);
      } finally {
        t4.f();
      }
      p3(v3.post);
    })) : i3.block(function() {
      return P2(e21, "$ref", v3.all.$ref.definition);
    });
  }
  function S2(e21, t3) {
    var n3 = e21.gen, r3 = e21.schema;
    e21.opts.useDefaults && (0, s2.assignDefaults)(e21, t3.type), n3.block(function() {
      var n4, i3 = bi(t3.rules);
      try {
        for (i3.s(); !(n4 = i3.n()).done; ) {
          var a3 = n4.value;
          (0, o2.shouldUseRule)(r3, a3) && P2(e21, a3.keyword, a3.definition, t3.type);
        }
      } catch (e22) {
        i3.e(e22);
      } finally {
        i3.f();
      }
    });
  }
  function C2(e21, t3) {
    return e21.includes(t3) || t3 === "number" && e21.includes("integer");
  }
  function _2(e21, t3) {
    return e21.includes(t3) || t3 === "integer" && e21.includes("number");
  }
  function $2(e21, t3) {
    (0, d2.checkStrictMode)(e21, t3 += ' at "'.concat(e21.schemaEnv.baseId + e21.errSchemaPath, '" (strictTypes)'), e21.opts.strictTypes);
  }
  n2.validateFunctionCode = function(e21) {
    b2(e21) && (w2(e21), y2(e21)) ? function(e22) {
      var t3 = e22.schema, n3 = e22.opts, r3 = e22.gen;
      p2(e22, function() {
        n3.$comment && t3.$comment && j2(e22), function(e23) {
          var t4 = e23.schema, n4 = e23.opts;
          t4.default !== void 0 && n4.useDefaults && n4.strictSchema && (0, d2.checkStrictMode)(e23, "default is ignored in the schema root");
        }(e22), r3.let(f2.default.vErrors, null), r3.let(f2.default.errors, 0), n3.unevaluated && function(e23) {
          var t4 = e23.gen, n4 = e23.validateName;
          e23.evaluated = t4.const("evaluated", l2._(ut || (ut = pi(["", ".evaluated"])), n4)), t4.if(l2._(ct || (ct = pi(["", ".dynamicProps"])), e23.evaluated), function() {
            return t4.assign(l2._(lt || (lt = pi(["", ".props"])), e23.evaluated), l2._(ft || (ft = pi(["undefined"]))));
          }), t4.if(l2._(ht || (ht = pi(["", ".dynamicItems"])), e23.evaluated), function() {
            return t4.assign(l2._(dt || (dt = pi(["", ".items"])), e23.evaluated), l2._(vt || (vt = pi(["undefined"]))));
          });
        }(e22), k2(e22), function(e23) {
          var t4 = e23.gen, n4 = e23.schemaEnv, r4 = e23.validateName, i3 = e23.ValidationError, o3 = e23.opts;
          n4.$async ? t4.if(l2._(pt || (pt = pi(["", " === 0"])), f2.default.errors), function() {
            return t4.return(f2.default.data);
          }, function() {
            return t4.throw(l2._(mt || (mt = pi(["new ", "(", ")"])), i3, f2.default.vErrors));
          }) : (t4.assign(l2._(gt || (gt = pi(["", ".errors"])), r4), f2.default.vErrors), o3.unevaluated && function(e24) {
            var t5 = e24.gen, n5 = e24.evaluated, r5 = e24.props, i4 = e24.items;
            r5 instanceof l2.Name && t5.assign(l2._(yt || (yt = pi(["", ".props"])), n5), r5), i4 instanceof l2.Name && t5.assign(l2._(bt || (bt = pi(["", ".items"])), n5), i4);
          }(e23), t4.return(l2._(wt || (wt = pi(["", " === 0"])), f2.default.errors)));
        }(e22);
      });
    }(e21) : p2(e21, function() {
      return (0, r2.topBoolOrEmptySchema)(e21);
    });
  };
  var O2 = function() {
    function e21(t3, n3, r3) {
      if (Ri(this, e21), (0, u2.validateKeywordUsage)(t3, n3, r3), this.gen = t3.gen, this.allErrors = t3.allErrors, this.keyword = r3, this.data = t3.data, this.schema = t3.schema[r3], this.$data = n3.$data && t3.opts.$data && this.schema && this.schema.$data, this.schemaValue = (0, d2.schemaRefOrVal)(t3, this.schema, r3, this.$data), this.schemaType = n3.schemaType, this.parentSchema = t3.schema, this.params = {}, this.it = t3, this.def = n3, this.$data)
        this.schemaCode = t3.gen.const("vSchema", M2(this.$data, t3));
      else if (this.schemaCode = this.schemaValue, !(0, u2.validSchemaType)(this.schema, n3.schemaType, n3.allowUndefined))
        throw new Error("".concat(r3, " value must be ").concat(JSON.stringify(n3.schemaType)));
      ("code" in n3 ? n3.trackErrors : n3.errors !== false) && (this.errsCount = t3.gen.const("_errs", f2.default.errors));
    }
    return Li(e21, [{ key: "result", value: function(e22, t3, n3) {
      this.failResult((0, l2.not)(e22), t3, n3);
    } }, { key: "failResult", value: function(e22, t3, n3) {
      this.gen.if(e22), n3 ? n3() : this.error(), t3 ? (this.gen.else(), t3(), this.allErrors && this.gen.endIf()) : this.allErrors ? this.gen.endIf() : this.gen.else();
    } }, { key: "pass", value: function(e22, t3) {
      this.failResult((0, l2.not)(e22), void 0, t3);
    } }, { key: "fail", value: function(e22) {
      if (e22 === void 0)
        return this.error(), void (this.allErrors || this.gen.if(false));
      this.gen.if(e22), this.error(), this.allErrors ? this.gen.endIf() : this.gen.else();
    } }, { key: "fail$data", value: function(e22) {
      if (!this.$data)
        return this.fail(e22);
      var t3 = this.schemaCode;
      this.fail(l2._(kt || (kt = pi(["", " !== undefined && (", ")"])), t3, (0, l2.or)(this.invalid$data(), e22)));
    } }, { key: "error", value: function(e22, t3, n3) {
      if (t3)
        return this.setParams(t3), this._error(e22, n3), void this.setParams({});
      this._error(e22, n3);
    } }, { key: "_error", value: function(e22, t3) {
      (e22 ? v2.reportExtraError : v2.reportError)(this, this.def.error, t3);
    } }, { key: "$dataError", value: function() {
      (0, v2.reportError)(this, this.def.$dataError || v2.keyword$DataError);
    } }, { key: "reset", value: function() {
      if (this.errsCount === void 0)
        throw new Error('add "trackErrors" to keyword definition');
      (0, v2.resetErrorsCount)(this.gen, this.errsCount);
    } }, { key: "ok", value: function(e22) {
      this.allErrors || this.gen.if(e22);
    } }, { key: "setParams", value: function(e22, t3) {
      t3 ? Object.assign(this.params, e22) : this.params = e22;
    } }, { key: "block$data", value: function(e22, t3) {
      var n3 = this, r3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : l2.nil;
      this.gen.block(function() {
        n3.check$data(e22, r3), t3();
      });
    } }, { key: "check$data", value: function() {
      var e22 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : l2.nil, t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : l2.nil;
      if (this.$data) {
        var n3 = this.gen, r3 = this.schemaCode, i3 = this.schemaType, o3 = this.def;
        n3.if((0, l2.or)(l2._(jt || (jt = pi(["", " === undefined"])), r3), t3)), e22 !== l2.nil && n3.assign(e22, true), (i3.length || o3.validateSchema) && (n3.elseIf(this.invalid$data()), this.$dataError(), e22 !== l2.nil && n3.assign(e22, false)), n3.else();
      }
    } }, { key: "invalid$data", value: function() {
      var e22 = this.gen, t3 = this.schemaCode, n3 = this.schemaType, r3 = this.def, i3 = this.it;
      return (0, l2.or)(function() {
        if (n3.length) {
          if (!(t3 instanceof l2.Name))
            throw new Error("ajv implementation error");
          var e23 = Array.isArray(n3) ? n3 : [n3];
          return l2._(xt || (xt = pi(["", ""])), (0, a2.checkDataTypes)(e23, t3, i3.opts.strictNumbers, a2.DataType.Wrong));
        }
        return l2.nil;
      }(), function() {
        if (r3.validateSchema) {
          var n4 = e22.scopeValue("validate$data", { ref: r3.validateSchema });
          return l2._(St || (St = pi(["!", "(", ")"])), n4, t3);
        }
        return l2.nil;
      }());
    } }, { key: "subschema", value: function(e22, t3) {
      var n3 = (0, c2.getSubschema)(this.it, e22);
      (0, c2.extendSubschemaData)(n3, this.it, e22), (0, c2.extendSubschemaMode)(n3, e22);
      var r3 = Ei(Ei(Ei({}, this.it), n3), {}, { items: void 0, props: void 0 });
      return g2(r3, t3), r3;
    } }, { key: "mergeEvaluated", value: function(e22, t3) {
      var n3 = this.it, r3 = this.gen;
      n3.opts.unevaluated && (n3.props !== true && e22.props !== void 0 && (n3.props = d2.mergeEvaluated.props(r3, e22.props, n3.props, t3)), n3.items !== true && e22.items !== void 0 && (n3.items = d2.mergeEvaluated.items(r3, e22.items, n3.items, t3)));
    } }, { key: "mergeValidEvaluated", value: function(e22, t3) {
      var n3 = this, r3 = this.it, i3 = this.gen;
      if (r3.opts.unevaluated && (r3.props !== true || r3.items !== true))
        return i3.if(t3, function() {
          return n3.mergeEvaluated(e22, l2.Name);
        }), true;
    } }]), e21;
  }();
  function P2(e21, t3, n3, r3) {
    var i3 = new O2(e21, n3, t3);
    "code" in n3 ? n3.code(i3, r3) : i3.$data && n3.validate ? (0, u2.funcKeywordCode)(i3, n3) : "macro" in n3 ? (0, u2.macroKeywordCode)(i3, n3) : (n3.compile || n3.validate) && (0, u2.funcKeywordCode)(i3, n3);
  }
  n2.KeywordCxt = O2;
  var A2 = /^\/(?:[^~]|~0|~1)*$/, E2 = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
  function M2(e21, t3) {
    var n3, r3, i3 = t3.dataLevel, o3 = t3.dataNames, a3 = t3.dataPathArr;
    if (e21 === "")
      return f2.default.rootData;
    if (e21[0] === "/") {
      if (!A2.test(e21))
        throw new Error("Invalid JSON-pointer: ".concat(e21));
      n3 = e21, r3 = f2.default.rootData;
    } else {
      var s3 = E2.exec(e21);
      if (!s3)
        throw new Error("Invalid JSON-pointer: ".concat(e21));
      var u3 = +s3[1];
      if ((n3 = s3[2]) === "#") {
        if (u3 >= i3)
          throw new Error(m3("property/index", u3));
        return a3[i3 - u3];
      }
      if (u3 > i3)
        throw new Error(m3("data", u3));
      if (r3 = o3[i3 - u3], !n3)
        return r3;
    }
    var c3, h3 = r3, v3 = bi(n3.split("/"));
    try {
      for (v3.s(); !(c3 = v3.n()).done; ) {
        var p3 = c3.value;
        p3 && (r3 = l2._(Ct || (Ct = pi(["", "", ""])), r3, (0, l2.getProperty)((0, d2.unescapeJsonPointer)(p3))), h3 = l2._(_t || (_t = pi(["", " && ", ""])), h3, r3));
      }
    } catch (e22) {
      v3.e(e22);
    } finally {
      v3.f();
    }
    return h3;
    function m3(e22, t4) {
      return "Cannot access ".concat(e22, " ").concat(t4, " levels up, current level is ").concat(i3);
    }
  }
  n2.getData = M2;
}, { "../codegen": 2, "../errors": 4, "../names": 6, "../resolve": 8, "../util": 10, "./applicability": 11, "./boolSchema": 12, "./dataType": 13, "./defaults": 14, "./keyword": 16, "./subschema": 17 }], 16: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.validateKeywordUsage = n2.validSchemaType = n2.funcKeywordCode = n2.macroKeywordCode = void 0;
  var r2 = e20("../codegen"), i2 = e20("../names"), o2 = e20("../../vocabularies/code"), a2 = e20("../errors");
  function s2(e21) {
    var t3 = e21.gen, n3 = e21.data, i3 = e21.it;
    t3.if(i3.parentData, function() {
      return t3.assign(n3, r2._($t || ($t = pi(["", "[", "]"])), i3.parentData, i3.parentDataProperty));
    });
  }
  function u2(e21, t3, n3) {
    if (n3 === void 0)
      throw new Error('keyword "'.concat(t3, '" failed to compile'));
    return e21.scopeValue("keyword", typeof n3 == "function" ? { ref: n3 } : { ref: n3, code: (0, r2.stringify)(n3) });
  }
  n2.macroKeywordCode = function(e21, t3) {
    var n3 = e21.gen, i3 = e21.keyword, o3 = e21.schema, a3 = e21.parentSchema, s3 = e21.it, c2 = t3.macro.call(s3.self, o3, a3, s3), l2 = u2(n3, i3, c2);
    s3.opts.validateSchema !== false && s3.self.validateSchema(c2, true);
    var f2 = n3.name("valid");
    e21.subschema({ schema: c2, schemaPath: r2.nil, errSchemaPath: "".concat(s3.errSchemaPath, "/").concat(i3), topSchemaRef: l2, compositeRule: true }, f2), e21.pass(f2, function() {
      return e21.error(true);
    });
  }, n2.funcKeywordCode = function(e21, t3) {
    var n3, c2 = e21.gen, l2 = e21.keyword, f2 = e21.schema, h2 = e21.parentSchema, d2 = e21.$data, v2 = e21.it;
    !function(e22, t4) {
      var n4 = e22.schemaEnv;
      if (t4.async && !n4.$async)
        throw new Error("async keyword in sync schema");
    }(v2, t3);
    var p2 = !d2 && t3.compile ? t3.compile.call(v2.self, f2, h2, v2) : t3.validate, m2 = u2(c2, l2, p2), g2 = c2.let("valid");
    function y2() {
      var n4 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : t3.async ? r2._(Ot || (Ot = pi(["await "]))) : r2.nil;
      c2.assign(g2, r2._(Pt || (Pt = pi(["", "", ""])), n4, (0, o2.callValidateCode)(e21, m2, v2.opts.passContext ? i2.default.this : i2.default.self, !("compile" in t3 && !d2 || t3.schema === false))), t3.modifying);
    }
    function b2(e22) {
      var n4;
      c2.if((0, r2.not)((n4 = t3.valid) !== null && n4 !== void 0 ? n4 : g2), e22);
    }
    e21.block$data(g2, function() {
      if (t3.errors === false)
        y2(), t3.modifying && s2(e21), b2(function() {
          return e21.error();
        });
      else {
        var n4 = t3.async ? function() {
          var e22 = c2.let("ruleErrs", null);
          return c2.try(function() {
            return y2(r2._(At || (At = pi(["await "]))));
          }, function(t4) {
            return c2.assign(g2, false).if(r2._(Et || (Et = pi(["", " instanceof ", ""])), t4, v2.ValidationError), function() {
              return c2.assign(e22, r2._(Mt || (Mt = pi(["", ".errors"])), t4));
            }, function() {
              return c2.throw(t4);
            });
          }), e22;
        }() : function() {
          var e22 = r2._(Tt || (Tt = pi(["", ".errors"])), m2);
          return c2.assign(e22, null), y2(r2.nil), e22;
        }();
        t3.modifying && s2(e21), b2(function() {
          return function(e22, t4) {
            var n5 = e22.gen;
            n5.if(r2._(It || (It = pi(["Array.isArray(", ")"])), t4), function() {
              n5.assign(i2.default.vErrors, r2._(Nt || (Nt = pi(["", " === null ? ", " : ", ".concat(", ")"])), i2.default.vErrors, t4, i2.default.vErrors, t4)).assign(i2.default.errors, r2._(Rt || (Rt = pi(["", ".length"])), i2.default.vErrors)), (0, a2.extendErrors)(e22);
            }, function() {
              return e22.error();
            });
          }(e21, n4);
        });
      }
    }), e21.ok((n3 = t3.valid) !== null && n3 !== void 0 ? n3 : g2);
  }, n2.validSchemaType = function(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2];
    return !t3.length || t3.some(function(t4) {
      return t4 === "array" ? Array.isArray(e21) : t4 === "object" ? e21 && zi(e21) == "object" && !Array.isArray(e21) : zi(e21) == t4 || n3 && e21 === void 0;
    });
  }, n2.validateKeywordUsage = function(e21, t3, n3) {
    var r3 = e21.schema, i3 = e21.opts, o3 = e21.self, a3 = e21.errSchemaPath;
    if (Array.isArray(t3.keyword) ? !t3.keyword.includes(n3) : t3.keyword !== n3)
      throw new Error("ajv implementation error");
    var s3 = t3.dependencies;
    if (s3 == null ? void 0 : s3.some(function(e22) {
      return !Object.prototype.hasOwnProperty.call(r3, e22);
    }))
      throw new Error("parent schema must have dependencies of ".concat(n3, ": ").concat(s3.join(",")));
    if (t3.validateSchema && !t3.validateSchema(r3[n3])) {
      var u3 = 'keyword "'.concat(n3, '" value is invalid at path "').concat(a3, '": ') + o3.errorsText(t3.validateSchema.errors);
      if (i3.validateSchema !== "log")
        throw new Error(u3);
      o3.logger.error(u3);
    }
  };
}, { "../../vocabularies/code": 42, "../codegen": 2, "../errors": 4, "../names": 6 }], 17: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.extendSubschemaMode = n2.extendSubschemaData = n2.getSubschema = void 0;
  var r2 = e20("../codegen"), i2 = e20("../util");
  n2.getSubschema = function(e21, t3) {
    var n3 = t3.keyword, o2 = t3.schemaProp, a2 = t3.schema, s2 = t3.schemaPath, u2 = t3.errSchemaPath, c2 = t3.topSchemaRef;
    if (n3 !== void 0 && a2 !== void 0)
      throw new Error('both "keyword" and "schema" passed, only one allowed');
    if (n3 !== void 0) {
      var l2 = e21.schema[n3];
      return o2 === void 0 ? { schema: l2, schemaPath: r2._(Dt || (Dt = pi(["", "", ""])), e21.schemaPath, (0, r2.getProperty)(n3)), errSchemaPath: "".concat(e21.errSchemaPath, "/").concat(n3) } : { schema: l2[o2], schemaPath: r2._(Lt || (Lt = pi(["", "", "", ""])), e21.schemaPath, (0, r2.getProperty)(n3), (0, r2.getProperty)(o2)), errSchemaPath: "".concat(e21.errSchemaPath, "/").concat(n3, "/").concat((0, i2.escapeFragment)(o2)) };
    }
    if (a2 !== void 0) {
      if (s2 === void 0 || u2 === void 0 || c2 === void 0)
        throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');
      return { schema: a2, schemaPath: s2, topSchemaRef: c2, errSchemaPath: u2 };
    }
    throw new Error('either "keyword" or "schema" must be passed');
  }, n2.extendSubschemaData = function(e21, t3, n3) {
    var o2 = n3.dataProp, a2 = n3.dataPropType, s2 = n3.data, u2 = n3.dataTypes, c2 = n3.propertyName;
    if (s2 !== void 0 && o2 !== void 0)
      throw new Error('both "data" and "dataProp" passed, only one allowed');
    var l2 = t3.gen;
    if (o2 !== void 0) {
      var f2 = t3.errorPath, h2 = t3.dataPathArr, d2 = t3.opts;
      v2(l2.let("data", r2._(zt || (zt = pi(["", "", ""])), t3.data, (0, r2.getProperty)(o2)), true)), e21.errorPath = r2.str(Bt || (Bt = pi(["", "", ""])), f2, (0, i2.getErrorPath)(o2, a2, d2.jsPropertySyntax)), e21.parentDataProperty = r2._(qt || (qt = pi(["", ""])), o2), e21.dataPathArr = [].concat(Ti(h2), [e21.parentDataProperty]);
    }
    function v2(n4) {
      e21.data = n4, e21.dataLevel = t3.dataLevel + 1, e21.dataTypes = [], t3.definedProperties = /* @__PURE__ */ new Set(), e21.parentData = t3.data, e21.dataNames = [].concat(Ti(t3.dataNames), [n4]);
    }
    s2 !== void 0 && (v2(s2 instanceof r2.Name ? s2 : l2.let("data", s2, true)), c2 !== void 0 && (e21.propertyName = c2)), u2 && (e21.dataTypes = u2);
  }, n2.extendSubschemaMode = function(e21, t3) {
    var n3 = t3.jtdDiscriminator, r3 = t3.jtdMetadata, i3 = t3.compositeRule, o2 = t3.createErrors, a2 = t3.allErrors;
    i3 !== void 0 && (e21.compositeRule = i3), o2 !== void 0 && (e21.createErrors = o2), a2 !== void 0 && (e21.allErrors = a2), e21.jtdDiscriminator = n3, e21.jtdMetadata = r3;
  };
}, { "../codegen": 2, "../util": 10 }], 18: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.CodeGen = n2.Name = n2.nil = n2.stringify = n2.str = n2._ = n2.KeywordCxt = void 0;
  var r2 = e20("./compile/validate");
  Object.defineProperty(n2, "KeywordCxt", { enumerable: true, get: function() {
    return r2.KeywordCxt;
  } });
  var i2 = e20("./compile/codegen");
  Object.defineProperty(n2, "_", { enumerable: true, get: function() {
    return i2._;
  } }), Object.defineProperty(n2, "str", { enumerable: true, get: function() {
    return i2.str;
  } }), Object.defineProperty(n2, "stringify", { enumerable: true, get: function() {
    return i2.stringify;
  } }), Object.defineProperty(n2, "nil", { enumerable: true, get: function() {
    return i2.nil;
  } }), Object.defineProperty(n2, "Name", { enumerable: true, get: function() {
    return i2.Name;
  } }), Object.defineProperty(n2, "CodeGen", { enumerable: true, get: function() {
    return i2.CodeGen;
  } });
  var o2 = e20("./runtime/validation_error"), a2 = e20("./compile/ref_error"), s2 = e20("./compile/rules"), u2 = e20("./compile"), c2 = e20("./compile/codegen"), l2 = e20("./compile/resolve"), f2 = e20("./compile/validate/dataType"), h2 = e20("./compile/util"), d2 = e20("./refs/data.json"), v2 = e20("./runtime/uri"), p2 = function(e21, t3) {
    return new RegExp(e21, t3);
  };
  p2.code = "new RegExp";
  var m2 = ["removeAdditional", "useDefaults", "coerceTypes"], g2 = /* @__PURE__ */ new Set(["validate", "serialize", "parse", "wrapper", "root", "schema", "keyword", "pattern", "formats", "validate$data", "func", "obj", "Error"]), y2 = { errorDataPath: "", format: "`validateFormats: false` can be used instead.", nullable: '"nullable" keyword is supported by default.', jsonPointers: "Deprecated jsPropertySyntax can be used instead.", extendRefs: "Deprecated ignoreKeywordsWithRef can be used instead.", missingRefs: "Pass empty schema with $id that should be ignored to ajv.addSchema.", processCode: "Use option `code: {process: (code, schemaEnv: object) => string}`", sourceCode: "Use option `code: {source: true}`", strictDefaults: "It is default now, see option `strict`.", strictKeywords: "It is default now, see option `strict`.", uniqueItems: '"uniqueItems" keyword is always validated.', unknownFormats: "Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).", cache: "Map is used as cache, schema object as key.", serialize: "Map is used as cache, schema object as key.", ajvErrors: "It is default now." }, b2 = { ignoreKeywordsWithRef: "", jsPropertySyntax: "", unicode: '"minLength"/"maxLength" account for unicode characters by default.' };
  function w2(e21) {
    var t3, n3, r3, i3, o3, a3, s3, u3, c3, l3, f3, h3, d3, m3, g3, y3, b3, w3, k3, j3, x3, S3, C3, _3, $3, O3 = e21.strict, P3 = (t3 = e21.code) === null || t3 === void 0 ? void 0 : t3.optimize, A3 = P3 === true || P3 === void 0 ? 1 : P3 || 0, E3 = (r3 = (n3 = e21.code) === null || n3 === void 0 ? void 0 : n3.regExp) !== null && r3 !== void 0 ? r3 : p2, M3 = (i3 = e21.uriResolver) !== null && i3 !== void 0 ? i3 : v2.default;
    return { strictSchema: (a3 = (o3 = e21.strictSchema) !== null && o3 !== void 0 ? o3 : O3) === null || a3 === void 0 || a3, strictNumbers: (u3 = (s3 = e21.strictNumbers) !== null && s3 !== void 0 ? s3 : O3) === null || u3 === void 0 || u3, strictTypes: (l3 = (c3 = e21.strictTypes) !== null && c3 !== void 0 ? c3 : O3) !== null && l3 !== void 0 ? l3 : "log", strictTuples: (h3 = (f3 = e21.strictTuples) !== null && f3 !== void 0 ? f3 : O3) !== null && h3 !== void 0 ? h3 : "log", strictRequired: (m3 = (d3 = e21.strictRequired) !== null && d3 !== void 0 ? d3 : O3) !== null && m3 !== void 0 && m3, code: e21.code ? Ei(Ei({}, e21.code), {}, { optimize: A3, regExp: E3 }) : { optimize: A3, regExp: E3 }, loopRequired: (g3 = e21.loopRequired) !== null && g3 !== void 0 ? g3 : 200, loopEnum: (y3 = e21.loopEnum) !== null && y3 !== void 0 ? y3 : 200, meta: (b3 = e21.meta) === null || b3 === void 0 || b3, messages: (w3 = e21.messages) === null || w3 === void 0 || w3, inlineRefs: (k3 = e21.inlineRefs) === null || k3 === void 0 || k3, schemaId: (j3 = e21.schemaId) !== null && j3 !== void 0 ? j3 : "$id", addUsedSchema: (x3 = e21.addUsedSchema) === null || x3 === void 0 || x3, validateSchema: (S3 = e21.validateSchema) === null || S3 === void 0 || S3, validateFormats: (C3 = e21.validateFormats) === null || C3 === void 0 || C3, unicodeRegExp: (_3 = e21.unicodeRegExp) === null || _3 === void 0 || _3, int32range: ($3 = e21.int32range) === null || $3 === void 0 || $3, uriResolver: M3 };
  }
  var k2 = function() {
    function e21() {
      var t3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      Ri(this, e21), this.schemas = {}, this.refs = {}, this.formats = {}, this._compilations = /* @__PURE__ */ new Set(), this._loading = {}, this._cache = /* @__PURE__ */ new Map(), t3 = this.opts = Ei(Ei({}, t3), w2(t3));
      var n3 = this.opts.code, r3 = n3.es5, i3 = n3.lines;
      this.scope = new c2.ValueScope({ scope: {}, prefixes: g2, es5: r3, lines: i3 }), this.logger = function(e22) {
        if (e22 === false)
          return O2;
        if (e22 === void 0)
          return console;
        if (e22.log && e22.warn && e22.error)
          return e22;
        throw new Error("logger must implement log, warn and error methods");
      }(t3.logger);
      var o3 = t3.validateFormats;
      t3.validateFormats = false, this.RULES = (0, s2.getRules)(), j2.call(this, y2, t3, "NOT SUPPORTED"), j2.call(this, b2, t3, "DEPRECATED", "warn"), this._metaOpts = $2.call(this), t3.formats && C2.call(this), this._addVocabularies(), this._addDefaultMetaSchema(), t3.keywords && _2.call(this, t3.keywords), zi(t3.meta) == "object" && this.addMetaSchema(t3.meta), S2.call(this), t3.validateFormats = o3;
    }
    return Li(e21, [{ key: "_addVocabularies", value: function() {
      this.addKeyword("$async");
    } }, { key: "_addDefaultMetaSchema", value: function() {
      var e22 = this.opts, t3 = e22.$data, n3 = e22.meta, r3 = e22.schemaId, i3 = d2;
      r3 === "id" && ((i3 = Ei({}, d2)).id = i3.$id, delete i3.$id), n3 && t3 && this.addMetaSchema(i3, i3[r3], false);
    } }, { key: "defaultMeta", value: function() {
      var e22 = this.opts, t3 = e22.meta, n3 = e22.schemaId;
      return this.opts.defaultMeta = zi(t3) == "object" ? t3[n3] || t3 : void 0;
    } }, { key: "validate", value: function(e22, t3) {
      var n3;
      if (typeof e22 == "string") {
        if (!(n3 = this.getSchema(e22)))
          throw new Error('no schema with key or ref "'.concat(e22, '"'));
      } else
        n3 = this.compile(e22);
      var r3 = n3(t3);
      return "$async" in n3 || (this.errors = n3.errors), r3;
    } }, { key: "compile", value: function(e22, t3) {
      var n3 = this._addSchema(e22, t3);
      return n3.validate || this._compileSchemaEnv(n3);
    } }, { key: "compileAsync", value: function(e22, t3) {
      if (typeof this.opts.loadSchema != "function")
        throw new Error("options.loadSchema should be a function");
      var n3 = this.opts.loadSchema;
      return r3.call(this, e22, t3);
      function r3(e23, t4) {
        return i3.apply(this, arguments);
      }
      function i3() {
        return (i3 = yi(mi().mark(function e23(t4, n4) {
          var r4;
          return mi().wrap(function(e24) {
            for (; ; )
              switch (e24.prev = e24.next) {
                case 0:
                  return e24.next = 2, o3.call(this, t4.$schema);
                case 2:
                  return r4 = this._addSchema(t4, n4), e24.abrupt("return", r4.validate || u3.call(this, r4));
                case 4:
                case "end":
                  return e24.stop();
              }
          }, e23, this);
        }))).apply(this, arguments);
      }
      function o3(e23) {
        return s3.apply(this, arguments);
      }
      function s3() {
        return (s3 = yi(mi().mark(function e23(t4) {
          return mi().wrap(function(e24) {
            for (; ; )
              switch (e24.prev = e24.next) {
                case 0:
                  if (e24.t0 = t4 && !this.getSchema(t4), !e24.t0) {
                    e24.next = 4;
                    break;
                  }
                  return e24.next = 4, r3.call(this, { $ref: t4 }, true);
                case 4:
                case "end":
                  return e24.stop();
              }
          }, e23, this);
        }))).apply(this, arguments);
      }
      function u3(e23) {
        return c3.apply(this, arguments);
      }
      function c3() {
        return (c3 = yi(mi().mark(function e23(t4) {
          return mi().wrap(function(e24) {
            for (; ; )
              switch (e24.prev = e24.next) {
                case 0:
                  return e24.prev = 0, e24.abrupt("return", this._compileSchemaEnv(t4));
                case 4:
                  if (e24.prev = 4, e24.t0 = e24.catch(0), e24.t0 instanceof a2.default) {
                    e24.next = 8;
                    break;
                  }
                  throw e24.t0;
                case 8:
                  return l3.call(this, e24.t0), e24.next = 11, f3.call(this, e24.t0.missingSchema);
                case 11:
                  return e24.abrupt("return", u3.call(this, t4));
                case 12:
                case "end":
                  return e24.stop();
              }
          }, e23, this, [[0, 4]]);
        }))).apply(this, arguments);
      }
      function l3(e23) {
        var t4 = e23.missingSchema, n4 = e23.missingRef;
        if (this.refs[t4])
          throw new Error("AnySchema ".concat(t4, " is loaded but ").concat(n4, " cannot be resolved"));
      }
      function f3(e23) {
        return h3.apply(this, arguments);
      }
      function h3() {
        return (h3 = yi(mi().mark(function e23(n4) {
          var r4;
          return mi().wrap(function(e24) {
            for (; ; )
              switch (e24.prev = e24.next) {
                case 0:
                  return e24.next = 2, d3.call(this, n4);
                case 2:
                  if (r4 = e24.sent, e24.t0 = this.refs[n4], e24.t0) {
                    e24.next = 7;
                    break;
                  }
                  return e24.next = 7, o3.call(this, r4.$schema);
                case 7:
                  this.refs[n4] || this.addSchema(r4, n4, t3);
                case 8:
                case "end":
                  return e24.stop();
              }
          }, e23, this);
        }))).apply(this, arguments);
      }
      function d3(e23) {
        return v3.apply(this, arguments);
      }
      function v3() {
        return (v3 = yi(mi().mark(function e23(t4) {
          var r4;
          return mi().wrap(function(e24) {
            for (; ; )
              switch (e24.prev = e24.next) {
                case 0:
                  if (!(r4 = this._loading[t4])) {
                    e24.next = 3;
                    break;
                  }
                  return e24.abrupt("return", r4);
                case 3:
                  return e24.prev = 3, e24.next = 6, this._loading[t4] = n3(t4);
                case 6:
                  return e24.abrupt("return", e24.sent);
                case 7:
                  return e24.prev = 7, delete this._loading[t4], e24.finish(7);
                case 10:
                case "end":
                  return e24.stop();
              }
          }, e23, this, [[3, , 7, 10]]);
        }))).apply(this, arguments);
      }
    } }, { key: "addSchema", value: function(e22, t3, n3) {
      var r3, i3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : this.opts.validateSchema;
      if (Array.isArray(e22)) {
        var o3, a3 = bi(e22);
        try {
          for (a3.s(); !(o3 = a3.n()).done; ) {
            var s3 = o3.value;
            this.addSchema(s3, void 0, n3, i3);
          }
        } catch (e23) {
          a3.e(e23);
        } finally {
          a3.f();
        }
        return this;
      }
      if (zi(e22) == "object") {
        var u3 = this.opts.schemaId;
        if ((r3 = e22[u3]) !== void 0 && typeof r3 != "string")
          throw new Error("schema ".concat(u3, " must be string"));
      }
      return t3 = (0, l2.normalizeId)(t3 || r3), this._checkUnique(t3), this.schemas[t3] = this._addSchema(e22, n3, t3, i3, true), this;
    } }, { key: "addMetaSchema", value: function(e22, t3) {
      var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.opts.validateSchema;
      return this.addSchema(e22, t3, true, n3), this;
    } }, { key: "validateSchema", value: function(e22, t3) {
      if (typeof e22 == "boolean")
        return true;
      var n3;
      if ((n3 = e22.$schema) !== void 0 && typeof n3 != "string")
        throw new Error("$schema must be a string");
      if (!(n3 = n3 || this.opts.defaultMeta || this.defaultMeta()))
        return this.logger.warn("meta-schema not available"), this.errors = null, true;
      var r3 = this.validate(n3, e22);
      if (!r3 && t3) {
        var i3 = "schema is invalid: " + this.errorsText();
        if (this.opts.validateSchema !== "log")
          throw new Error(i3);
        this.logger.error(i3);
      }
      return r3;
    } }, { key: "getSchema", value: function(e22) {
      for (var t3; typeof (t3 = x2.call(this, e22)) == "string"; )
        e22 = t3;
      if (t3 === void 0) {
        var n3 = this.opts.schemaId, r3 = new u2.SchemaEnv({ schema: {}, schemaId: n3 });
        if (!(t3 = u2.resolveSchema.call(this, r3, e22)))
          return;
        this.refs[e22] = t3;
      }
      return t3.validate || this._compileSchemaEnv(t3);
    } }, { key: "removeSchema", value: function(e22) {
      if (e22 instanceof RegExp)
        return this._removeAllSchemas(this.schemas, e22), this._removeAllSchemas(this.refs, e22), this;
      switch (zi(e22)) {
        case "undefined":
          return this._removeAllSchemas(this.schemas), this._removeAllSchemas(this.refs), this._cache.clear(), this;
        case "string":
          var t3 = x2.call(this, e22);
          return zi(t3) == "object" && this._cache.delete(t3.schema), delete this.schemas[e22], delete this.refs[e22], this;
        case "object":
          this._cache.delete(e22);
          var n3 = e22[this.opts.schemaId];
          return n3 && (n3 = (0, l2.normalizeId)(n3), delete this.schemas[n3], delete this.refs[n3]), this;
        default:
          throw new Error("ajv.removeSchema: invalid parameter");
      }
    } }, { key: "addVocabulary", value: function(e22) {
      var t3, n3 = bi(e22);
      try {
        for (n3.s(); !(t3 = n3.n()).done; ) {
          var r3 = t3.value;
          this.addKeyword(r3);
        }
      } catch (e23) {
        n3.e(e23);
      } finally {
        n3.f();
      }
      return this;
    } }, { key: "addKeyword", value: function(e22, t3) {
      var n3, r3 = this;
      if (typeof e22 == "string")
        n3 = e22, zi(t3) == "object" && (this.logger.warn("these parameters are deprecated, see docs for addKeyword"), t3.keyword = n3);
      else {
        if (zi(e22) != "object" || t3 !== void 0)
          throw new Error("invalid addKeywords parameters");
        if (n3 = (t3 = e22).keyword, Array.isArray(n3) && !n3.length)
          throw new Error("addKeywords: keyword must be string or non-empty array");
      }
      if (A2.call(this, n3, t3), !t3)
        return (0, h2.eachItem)(n3, function(e23) {
          return E2.call(r3, e23);
        }), this;
      T2.call(this, t3);
      var i3 = Ei(Ei({}, t3), {}, { type: (0, f2.getJSONTypes)(t3.type), schemaType: (0, f2.getJSONTypes)(t3.schemaType) });
      return (0, h2.eachItem)(n3, i3.type.length === 0 ? function(e23) {
        return E2.call(r3, e23, i3);
      } : function(e23) {
        return i3.type.forEach(function(t4) {
          return E2.call(r3, e23, i3, t4);
        });
      }), this;
    } }, { key: "getKeyword", value: function(e22) {
      var t3 = this.RULES.all[e22];
      return zi(t3) == "object" ? t3.definition : !!t3;
    } }, { key: "removeKeyword", value: function(e22) {
      var t3 = this.RULES;
      delete t3.keywords[e22], delete t3.all[e22];
      var n3, r3 = bi(t3.rules);
      try {
        for (r3.s(); !(n3 = r3.n()).done; ) {
          var i3 = n3.value, o3 = i3.rules.findIndex(function(t4) {
            return t4.keyword === e22;
          });
          o3 >= 0 && i3.rules.splice(o3, 1);
        }
      } catch (e23) {
        r3.e(e23);
      } finally {
        r3.f();
      }
      return this;
    } }, { key: "addFormat", value: function(e22, t3) {
      return typeof t3 == "string" && (t3 = new RegExp(t3)), this.formats[e22] = t3, this;
    } }, { key: "errorsText", value: function() {
      var e22 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.errors, t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n3 = t3.separator, r3 = n3 === void 0 ? ", " : n3, i3 = t3.dataVar, o3 = i3 === void 0 ? "data" : i3;
      return e22 && e22.length !== 0 ? e22.map(function(e23) {
        return "".concat(o3).concat(e23.instancePath, " ").concat(e23.message);
      }).reduce(function(e23, t4) {
        return e23 + r3 + t4;
      }) : "No errors";
    } }, { key: "$dataMetaSchema", value: function(e22, t3) {
      var n3 = this.RULES.all;
      e22 = JSON.parse(JSON.stringify(e22));
      var r3, i3 = bi(t3);
      try {
        for (i3.s(); !(r3 = i3.n()).done; ) {
          var o3, a3 = r3.value.split("/").slice(1), s3 = e22, u3 = bi(a3);
          try {
            for (u3.s(); !(o3 = u3.n()).done; )
              s3 = s3[o3.value];
          } catch (e23) {
            u3.e(e23);
          } finally {
            u3.f();
          }
          for (var c3 in n3) {
            var l3 = n3[c3];
            if (zi(l3) == "object") {
              var f3 = l3.definition.$data, h3 = s3[c3];
              f3 && h3 && (s3[c3] = N2(h3));
            }
          }
        }
      } catch (e23) {
        i3.e(e23);
      } finally {
        i3.f();
      }
      return e22;
    } }, { key: "_removeAllSchemas", value: function(e22, t3) {
      for (var n3 in e22) {
        var r3 = e22[n3];
        t3 && !t3.test(n3) || (typeof r3 == "string" ? delete e22[n3] : r3 && !r3.meta && (this._cache.delete(r3.schema), delete e22[n3]));
      }
    } }, { key: "_addSchema", value: function(e22, t3, n3) {
      var r3, i3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : this.opts.validateSchema, o3 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : this.opts.addUsedSchema, a3 = this.opts.schemaId;
      if (zi(e22) == "object")
        r3 = e22[a3];
      else {
        if (this.opts.jtd)
          throw new Error("schema must be object");
        if (typeof e22 != "boolean")
          throw new Error("schema must be object or boolean");
      }
      var s3 = this._cache.get(e22);
      if (s3 !== void 0)
        return s3;
      n3 = (0, l2.normalizeId)(r3 || n3);
      var c3 = l2.getSchemaRefs.call(this, e22, n3);
      return s3 = new u2.SchemaEnv({ schema: e22, schemaId: a3, meta: t3, baseId: n3, localRefs: c3 }), this._cache.set(s3.schema, s3), o3 && !n3.startsWith("#") && (n3 && this._checkUnique(n3), this.refs[n3] = s3), i3 && this.validateSchema(e22, true), s3;
    } }, { key: "_checkUnique", value: function(e22) {
      if (this.schemas[e22] || this.refs[e22])
        throw new Error('schema with key or id "'.concat(e22, '" already exists'));
    } }, { key: "_compileSchemaEnv", value: function(e22) {
      if (e22.meta ? this._compileMetaSchema(e22) : u2.compileSchema.call(this, e22), !e22.validate)
        throw new Error("ajv implementation error");
      return e22.validate;
    } }, { key: "_compileMetaSchema", value: function(e22) {
      var t3 = this.opts;
      this.opts = this._metaOpts;
      try {
        u2.compileSchema.call(this, e22);
      } finally {
        this.opts = t3;
      }
    } }]), e21;
  }();
  function j2(e21, t3, n3) {
    var r3 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : "error";
    for (var i3 in e21) {
      var o3 = i3;
      o3 in t3 && this.logger[r3]("".concat(n3, ": option ").concat(i3, ". ").concat(e21[o3]));
    }
  }
  function x2(e21) {
    return e21 = (0, l2.normalizeId)(e21), this.schemas[e21] || this.refs[e21];
  }
  function S2() {
    var e21 = this.opts.schemas;
    if (e21)
      if (Array.isArray(e21))
        this.addSchema(e21);
      else
        for (var t3 in e21)
          this.addSchema(e21[t3], t3);
  }
  function C2() {
    for (var e21 in this.opts.formats) {
      var t3 = this.opts.formats[e21];
      t3 && this.addFormat(e21, t3);
    }
  }
  function _2(e21) {
    if (Array.isArray(e21))
      this.addVocabulary(e21);
    else
      for (var t3 in this.logger.warn("keywords option as map is deprecated, pass array"), e21) {
        var n3 = e21[t3];
        n3.keyword || (n3.keyword = t3), this.addKeyword(n3);
      }
  }
  function $2() {
    var e21, t3 = Ei({}, this.opts), n3 = bi(m2);
    try {
      for (n3.s(); !(e21 = n3.n()).done; )
        delete t3[e21.value];
    } catch (e22) {
      n3.e(e22);
    } finally {
      n3.f();
    }
    return t3;
  }
  n2.default = k2, k2.ValidationError = o2.default, k2.MissingRefError = a2.default;
  var O2 = { log: function() {
  }, warn: function() {
  }, error: function() {
  } }, P2 = /^[a-z_$][a-z0-9_$:-]*$/i;
  function A2(e21, t3) {
    var n3 = this.RULES;
    if ((0, h2.eachItem)(e21, function(e22) {
      if (n3.keywords[e22])
        throw new Error("Keyword ".concat(e22, " is already defined"));
      if (!P2.test(e22))
        throw new Error("Keyword ".concat(e22, " has invalid name"));
    }), t3 && t3.$data && !("code" in t3) && !("validate" in t3))
      throw new Error('$data keyword must have "code" or "validate" function');
  }
  function E2(e21, t3, n3) {
    var r3, i3 = this, o3 = t3 == null ? void 0 : t3.post;
    if (n3 && o3)
      throw new Error('keyword with "post" flag cannot have "type"');
    var a3 = this.RULES, s3 = o3 ? a3.post : a3.rules.find(function(e22) {
      return e22.type === n3;
    });
    if (s3 || (s3 = { type: n3, rules: [] }, a3.rules.push(s3)), a3.keywords[e21] = true, t3) {
      var u3 = { keyword: e21, definition: Ei(Ei({}, t3), {}, { type: (0, f2.getJSONTypes)(t3.type), schemaType: (0, f2.getJSONTypes)(t3.schemaType) }) };
      t3.before ? M2.call(this, s3, u3, t3.before) : s3.rules.push(u3), a3.all[e21] = u3, (r3 = t3.implements) === null || r3 === void 0 || r3.forEach(function(e22) {
        return i3.addKeyword(e22);
      });
    }
  }
  function M2(e21, t3, n3) {
    var r3 = e21.rules.findIndex(function(e22) {
      return e22.keyword === n3;
    });
    r3 >= 0 ? e21.rules.splice(r3, 0, t3) : (e21.rules.push(t3), this.logger.warn("rule ".concat(n3, " is not defined")));
  }
  function T2(e21) {
    var t3 = e21.metaSchema;
    t3 !== void 0 && (e21.$data && this.opts.$data && (t3 = N2(t3)), e21.validateSchema = this.compile(t3, true));
  }
  var I2 = { $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#" };
  function N2(e21) {
    return { anyOf: [e21, I2] };
  }
}, { "./compile": 5, "./compile/codegen": 2, "./compile/ref_error": 7, "./compile/resolve": 8, "./compile/rules": 9, "./compile/util": 10, "./compile/validate": 15, "./compile/validate/dataType": 13, "./refs/data.json": 19, "./runtime/uri": 23, "./runtime/validation_error": 24 }], 19: [function(e20, t2, n2) {
  t2.exports = { $id: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#", description: "Meta-schema for $data reference (JSON AnySchema extension proposal)", type: "object", required: ["$data"], properties: { $data: { type: "string", anyOf: [{ format: "relative-json-pointer" }, { format: "json-pointer" }] } }, additionalProperties: false };
}, {}], 20: [function(e20, t2, n2) {
  t2.exports = { $schema: "http://json-schema.org/draft-07/schema#", $id: "http://json-schema.org/draft-07/schema#", title: "Core schema meta-schema", definitions: { schemaArray: { type: "array", minItems: 1, items: { $ref: "#" } }, nonNegativeInteger: { type: "integer", minimum: 0 }, nonNegativeIntegerDefault0: { allOf: [{ $ref: "#/definitions/nonNegativeInteger" }, { default: 0 }] }, simpleTypes: { enum: ["array", "boolean", "integer", "null", "number", "object", "string"] }, stringArray: { type: "array", items: { type: "string" }, uniqueItems: true, default: [] } }, type: ["object", "boolean"], properties: { $id: { type: "string", format: "uri-reference" }, $schema: { type: "string", format: "uri" }, $ref: { type: "string", format: "uri-reference" }, $comment: { type: "string" }, title: { type: "string" }, description: { type: "string" }, default: true, readOnly: { type: "boolean", default: false }, examples: { type: "array", items: true }, multipleOf: { type: "number", exclusiveMinimum: 0 }, maximum: { type: "number" }, exclusiveMaximum: { type: "number" }, minimum: { type: "number" }, exclusiveMinimum: { type: "number" }, maxLength: { $ref: "#/definitions/nonNegativeInteger" }, minLength: { $ref: "#/definitions/nonNegativeIntegerDefault0" }, pattern: { type: "string", format: "regex" }, additionalItems: { $ref: "#" }, items: { anyOf: [{ $ref: "#" }, { $ref: "#/definitions/schemaArray" }], default: true }, maxItems: { $ref: "#/definitions/nonNegativeInteger" }, minItems: { $ref: "#/definitions/nonNegativeIntegerDefault0" }, uniqueItems: { type: "boolean", default: false }, contains: { $ref: "#" }, maxProperties: { $ref: "#/definitions/nonNegativeInteger" }, minProperties: { $ref: "#/definitions/nonNegativeIntegerDefault0" }, required: { $ref: "#/definitions/stringArray" }, additionalProperties: { $ref: "#" }, definitions: { type: "object", additionalProperties: { $ref: "#" }, default: {} }, properties: { type: "object", additionalProperties: { $ref: "#" }, default: {} }, patternProperties: { type: "object", additionalProperties: { $ref: "#" }, propertyNames: { format: "regex" }, default: {} }, dependencies: { type: "object", additionalProperties: { anyOf: [{ $ref: "#" }, { $ref: "#/definitions/stringArray" }] } }, propertyNames: { $ref: "#" }, const: true, enum: { type: "array", items: true, minItems: 1, uniqueItems: true }, type: { anyOf: [{ $ref: "#/definitions/simpleTypes" }, { type: "array", items: { $ref: "#/definitions/simpleTypes" }, minItems: 1, uniqueItems: true }] }, format: { type: "string" }, contentMediaType: { type: "string" }, contentEncoding: { type: "string" }, if: { $ref: "#" }, then: { $ref: "#" }, else: { $ref: "#" }, allOf: { $ref: "#/definitions/schemaArray" }, anyOf: { $ref: "#/definitions/schemaArray" }, oneOf: { $ref: "#/definitions/schemaArray" }, not: { $ref: "#" } }, default: true };
}, {}], 21: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("fast-deep-equal");
  r2.code = 'require("ajv/dist/runtime/equal").default', n2.default = r2;
}, { "fast-deep-equal": 63 }], 22: [function(e20, t2, n2) {
  function r2(e21) {
    for (var t3, n3 = e21.length, r3 = 0, i2 = 0; i2 < n3; )
      r3++, (t3 = e21.charCodeAt(i2++)) >= 55296 && t3 <= 56319 && i2 < n3 && (64512 & (t3 = e21.charCodeAt(i2))) == 56320 && i2++;
    return r3;
  }
  Object.defineProperty(n2, "__esModule", { value: true }), n2.default = r2, r2.code = 'require("ajv/dist/runtime/ucs2length").default';
}, {}], 23: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("uri-js");
  r2.code = 'require("ajv/dist/runtime/uri").default', n2.default = r2;
}, { "uri-js": 65 }], 24: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = function(e21) {
    xi(n3, di(Error));
    var t3 = Ci(n3);
    function n3(e22) {
      var r3;
      return Ri(this, n3), (r3 = t3.call(this, "validation failed")).errors = e22, r3.ajv = r3.validation = true, r3;
    }
    return Li(n3);
  }();
  n2.default = r2;
}, {}], 25: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.validateAdditionalItems = void 0;
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = { keyword: "additionalItems", type: "array", schemaType: ["boolean", "object"], before: "uniqueItems", error: { message: function(e21) {
    var t3 = e21.params.len;
    return r2.str(Ft || (Ft = pi(["must NOT have more than ", " items"])), t3);
  }, params: function(e21) {
    var t3 = e21.params.len;
    return r2._(Vt || (Vt = pi(["{limit: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.parentSchema, n3 = e21.it, r3 = t3.items;
    Array.isArray(r3) ? a2(e21, r3) : (0, i2.checkStrictMode)(n3, '"additionalItems" is ignored when "items" is not an array of schemas');
  } };
  function a2(e21, t3) {
    var n3 = e21.gen, o3 = e21.schema, a3 = e21.data, s2 = e21.keyword, u2 = e21.it;
    u2.items = true;
    var c2 = n3.const("len", r2._(Ht || (Ht = pi(["", ".length"])), a3));
    if (o3 === false)
      e21.setParams({ len: t3.length }), e21.pass(r2._(Wt || (Wt = pi(["", " <= ", ""])), c2, t3.length));
    else if (zi(o3) == "object" && !(0, i2.alwaysValidSchema)(u2, o3)) {
      var l2 = n3.var("valid", r2._(Ut || (Ut = pi(["", " <= ", ""])), c2, t3.length));
      n3.if((0, r2.not)(l2), function() {
        return function(o4) {
          n3.forRange("i", t3.length, c2, function(t4) {
            e21.subschema({ keyword: s2, dataProp: t4, dataPropType: i2.Type.Num }, o4), u2.allErrors || n3.if((0, r2.not)(o4), function() {
              return n3.break();
            });
          });
        }(l2);
      }), e21.ok(l2);
    }
  }
  n2.validateAdditionalItems = a2, n2.default = o2;
}, { "../../compile/codegen": 2, "../../compile/util": 10 }], 26: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../code"), i2 = e20("../../compile/codegen"), o2 = e20("../../compile/names"), a2 = e20("../../compile/util");
  n2.default = { keyword: "additionalProperties", type: ["object"], schemaType: ["boolean", "object"], allowUndefined: true, trackErrors: true, error: { message: "must NOT have additional properties", params: function(e21) {
    var t3 = e21.params;
    return i2._(Jt || (Jt = pi(["{additionalProperty: ", "}"])), t3.additionalProperty);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, s2 = e21.parentSchema, u2 = e21.data, c2 = e21.errsCount, l2 = e21.it;
    if (!c2)
      throw new Error("ajv implementation error");
    var f2 = l2.allErrors, h2 = l2.opts;
    if (l2.props = true, h2.removeAdditional === "all" || !(0, a2.alwaysValidSchema)(l2, n3)) {
      var d2 = (0, r2.allSchemaProperties)(s2.properties), v2 = (0, r2.allSchemaProperties)(s2.patternProperties);
      t3.forIn("key", u2, function(n4) {
        d2.length || v2.length ? t3.if(function(n5) {
          var o3;
          if (d2.length > 8) {
            var u3 = (0, a2.schemaRefOrVal)(l2, s2.properties, "properties");
            o3 = (0, r2.isOwnProperty)(t3, u3, n5);
          } else
            o3 = d2.length ? i2.or.apply(void 0, Ti(d2.map(function(e22) {
              return i2._(Gt || (Gt = pi(["", " === ", ""])), n5, e22);
            }))) : i2.nil;
          return v2.length && (o3 = i2.or.apply(void 0, [o3].concat(Ti(v2.map(function(t4) {
            return i2._(Qt || (Qt = pi(["", ".test(", ")"])), (0, r2.usePattern)(e21, t4), n5);
          }))))), (0, i2.not)(o3);
        }(n4), function() {
          return m2(n4);
        }) : m2(n4);
      }), e21.ok(i2._(Yt || (Yt = pi(["", " === ", ""])), c2, o2.default.errors));
    }
    function p2(e22) {
      t3.code(i2._(Kt || (Kt = pi(["delete ", "[", "]"])), u2, e22));
    }
    function m2(r3) {
      if (h2.removeAdditional === "all" || h2.removeAdditional && n3 === false)
        p2(r3);
      else {
        if (n3 === false)
          return e21.setParams({ additionalProperty: r3 }), e21.error(), void (f2 || t3.break());
        if (zi(n3) == "object" && !(0, a2.alwaysValidSchema)(l2, n3)) {
          var o3 = t3.name("valid");
          h2.removeAdditional === "failing" ? (g2(r3, o3, false), t3.if((0, i2.not)(o3), function() {
            e21.reset(), p2(r3);
          })) : (g2(r3, o3), f2 || t3.if((0, i2.not)(o3), function() {
            return t3.break();
          }));
        }
      }
    }
    function g2(t4, n4, r3) {
      var i3 = { keyword: "additionalProperties", dataProp: t4, dataPropType: a2.Type.Str };
      r3 === false && Object.assign(i3, { compositeRule: true, createErrors: false, allErrors: false }), e21.subschema(i3, n4);
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/names": 6, "../../compile/util": 10, "../code": 42 }], 27: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/util");
  n2.default = { keyword: "allOf", schemaType: "array", code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, i2 = e21.it;
    if (!Array.isArray(n3))
      throw new Error("ajv implementation error");
    var o2 = t3.name("valid");
    n3.forEach(function(t4, n4) {
      if (!(0, r2.alwaysValidSchema)(i2, t4)) {
        var a2 = e21.subschema({ keyword: "allOf", schemaProp: n4 }, o2);
        e21.ok(o2), e21.mergeEvaluated(a2);
      }
    });
  } };
}, { "../../compile/util": 10 }], 28: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../code");
  n2.default = { keyword: "anyOf", schemaType: "array", trackErrors: true, code: r2.validateUnion, error: { message: "must match a schema in anyOf" } };
}, { "../code": 42 }], 29: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util");
  n2.default = { keyword: "contains", type: "array", schemaType: ["object", "boolean"], before: "uniqueItems", trackErrors: true, error: { message: function(e21) {
    var t3 = e21.params, n3 = t3.min, i3 = t3.max;
    return i3 === void 0 ? r2.str(Zt || (Zt = pi(["must contain at least ", " valid item(s)"])), n3) : r2.str(Xt || (Xt = pi(["must contain at least ", " and no more than ", " valid item(s)"])), n3, i3);
  }, params: function(e21) {
    var t3 = e21.params, n3 = t3.min, i3 = t3.max;
    return i3 === void 0 ? r2._(en || (en = pi(["{minContains: ", "}"])), n3) : r2._(tn || (tn = pi(["{minContains: ", ", maxContains: ", "}"])), n3, i3);
  } }, code: function(e21) {
    var t3, n3, o2 = e21.gen, a2 = e21.schema, s2 = e21.parentSchema, u2 = e21.data, c2 = e21.it, l2 = s2.minContains, f2 = s2.maxContains;
    c2.opts.next ? (t3 = l2 === void 0 ? 1 : l2, n3 = f2) : t3 = 1;
    var h2 = o2.const("len", r2._(nn || (nn = pi(["", ".length"])), u2));
    if (e21.setParams({ min: t3, max: n3 }), n3 !== void 0 || t3 !== 0) {
      if (n3 !== void 0 && t3 > n3)
        return (0, i2.checkStrictMode)(c2, '"minContains" > "maxContains" is always invalid'), void e21.fail();
      if ((0, i2.alwaysValidSchema)(c2, a2)) {
        var d2 = r2._(rn || (rn = pi(["", " >= ", ""])), h2, t3);
        return n3 !== void 0 && (d2 = r2._(on$1 || (on$1 = pi(["", " && ", " <= ", ""])), d2, h2, n3)), void e21.pass(d2);
      }
      c2.items = true;
      var v2 = o2.name("valid");
      n3 === void 0 && t3 === 1 ? m2(v2, function() {
        return o2.if(v2, function() {
          return o2.break();
        });
      }) : t3 === 0 ? (o2.let(v2, true), n3 !== void 0 && o2.if(r2._(ln || (ln = pi(["", ".length > 0"])), u2), p2)) : (o2.let(v2, false), p2()), e21.result(v2, function() {
        return e21.reset();
      });
    } else
      (0, i2.checkStrictMode)(c2, '"minContains" == 0 without "maxContains": "contains" keyword ignored');
    function p2() {
      var e22 = o2.name("_valid"), i3 = o2.let("count", 0);
      m2(e22, function() {
        return o2.if(e22, function() {
          return function(e23) {
            o2.code(r2._(an || (an = pi(["", "++"])), e23)), n3 === void 0 ? o2.if(r2._(sn || (sn = pi(["", " >= ", ""])), e23, t3), function() {
              return o2.assign(v2, true).break();
            }) : (o2.if(r2._(un || (un = pi(["", " > ", ""])), e23, n3), function() {
              return o2.assign(v2, false).break();
            }), t3 === 1 ? o2.assign(v2, true) : o2.if(r2._(cn || (cn = pi(["", " >= ", ""])), e23, t3), function() {
              return o2.assign(v2, true);
            }));
          }(i3);
        });
      });
    }
    function m2(t4, n4) {
      o2.forRange("i", 0, h2, function(r3) {
        e21.subschema({ keyword: "contains", dataProp: r3, dataPropType: i2.Type.Num, compositeRule: true }, t4), n4();
      });
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10 }], 30: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.validateSchemaDeps = n2.validatePropertyDeps = n2.error = void 0;
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../code");
  n2.error = { message: function(e21) {
    var t3 = e21.params, n3 = t3.property, i3 = t3.depsCount, o3 = t3.deps;
    return r2.str(fn || (fn = pi(["must have ", " ", " when property ", " is present"])), i3 === 1 ? "property" : "properties", o3, n3);
  }, params: function(e21) {
    var t3 = e21.params, n3 = t3.property, i3 = t3.depsCount, o3 = t3.deps, a3 = t3.missingProperty;
    return r2._(hn || (hn = pi(["{property: ", ",\n	    missingProperty: ", ",\n	    depsCount: ", ",\n	    deps: ", "}"])), n3, a3, i3, o3);
  } };
  var a2 = { keyword: "dependencies", type: "object", schemaType: "object", error: n2.error, code: function(e21) {
    var t3 = ji(function(e22) {
      var t4 = e22.schema, n4 = {}, r4 = {};
      for (var i3 in t4)
        i3 !== "__proto__" && ((Array.isArray(t4[i3]) ? n4 : r4)[i3] = t4[i3]);
      return [n4, r4];
    }(e21), 2), n3 = t3[0], r3 = t3[1];
    s2(e21, n3), u2(e21, r3);
  } };
  function s2(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21.schema, n3 = e21.gen, i3 = e21.data, a3 = e21.it;
    if (Object.keys(t3).length !== 0) {
      var s3 = n3.let("missing"), u3 = function(u4) {
        var c3 = t3[u4];
        if (c3.length === 0)
          return "continue";
        var l2 = (0, o2.propertyInData)(n3, i3, u4, a3.opts.ownProperties);
        e21.setParams({ property: u4, depsCount: c3.length, deps: c3.join(", ") }), a3.allErrors ? n3.if(l2, function() {
          var t4, n4 = bi(c3);
          try {
            for (n4.s(); !(t4 = n4.n()).done; ) {
              var r3 = t4.value;
              (0, o2.checkReportMissingProp)(e21, r3);
            }
          } catch (e22) {
            n4.e(e22);
          } finally {
            n4.f();
          }
        }) : (n3.if(r2._(dn || (dn = pi(["", " && (", ")"])), l2, (0, o2.checkMissingProp)(e21, c3, s3))), (0, o2.reportMissingProp)(e21, s3), n3.else());
      };
      for (var c2 in t3)
        u3(c2);
    }
  }
  function u2(e21) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e21.schema, n3 = e21.gen, r3 = e21.data, a3 = e21.keyword, s3 = e21.it, u3 = n3.name("valid"), c2 = function(c3) {
      (0, i2.alwaysValidSchema)(s3, t3[c3]) || (n3.if((0, o2.propertyInData)(n3, r3, c3, s3.opts.ownProperties), function() {
        var t4 = e21.subschema({ keyword: a3, schemaProp: c3 }, u3);
        e21.mergeValidEvaluated(t4, u3);
      }, function() {
        return n3.var(u3, true);
      }), e21.ok(u3));
    };
    for (var l2 in t3)
      c2(l2);
  }
  n2.validatePropertyDeps = s2, n2.validateSchemaDeps = u2, n2.default = a2;
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../code": 42 }], 31: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util");
  function o2(e21, t3) {
    var n3 = e21.schema[t3];
    return n3 !== void 0 && !(0, i2.alwaysValidSchema)(e21, n3);
  }
  n2.default = { keyword: "if", schemaType: ["object", "boolean"], trackErrors: true, error: { message: function(e21) {
    var t3 = e21.params;
    return r2.str(vn || (vn = pi(['must match "', '" schema'])), t3.ifClause);
  }, params: function(e21) {
    var t3 = e21.params;
    return r2._(pn || (pn = pi(["{failingKeyword: ", "}"])), t3.ifClause);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.parentSchema, a2 = e21.it;
    n3.then === void 0 && n3.else === void 0 && (0, i2.checkStrictMode)(a2, '"if" without "then" and "else" is ignored');
    var s2 = o2(a2, "then"), u2 = o2(a2, "else");
    if (s2 || u2) {
      var c2 = t3.let("valid", true), l2 = t3.name("_valid");
      if (function() {
        var t4 = e21.subschema({ keyword: "if", compositeRule: true, createErrors: false, allErrors: false }, l2);
        e21.mergeEvaluated(t4);
      }(), e21.reset(), s2 && u2) {
        var f2 = t3.let("ifClause");
        e21.setParams({ ifClause: f2 }), t3.if(l2, h2("then", f2), h2("else", f2));
      } else
        s2 ? t3.if(l2, h2("then")) : t3.if((0, r2.not)(l2), h2("else"));
      e21.pass(c2, function() {
        return e21.error(true);
      });
    }
    function h2(n4, i3) {
      return function() {
        var o3 = e21.subschema({ keyword: n4 }, l2);
        t3.assign(c2, l2), e21.mergeValidEvaluated(o3, c2), i3 ? t3.assign(i3, r2._(mn || (mn = pi(["", ""])), n4)) : e21.setParams({ ifClause: n4 });
      };
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10 }], 32: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./additionalItems"), i2 = e20("./prefixItems"), o2 = e20("./items"), a2 = e20("./items2020"), s2 = e20("./contains"), u2 = e20("./dependencies"), c2 = e20("./propertyNames"), l2 = e20("./additionalProperties"), f2 = e20("./properties"), h2 = e20("./patternProperties"), d2 = e20("./not"), v2 = e20("./anyOf"), p2 = e20("./oneOf"), m2 = e20("./allOf"), g2 = e20("./if"), y2 = e20("./thenElse");
  n2.default = function() {
    var e21 = arguments.length > 0 && arguments[0] !== void 0 && arguments[0], t3 = [d2.default, v2.default, p2.default, m2.default, g2.default, y2.default, c2.default, l2.default, u2.default, f2.default, h2.default];
    return e21 ? t3.push(i2.default, a2.default) : t3.push(r2.default, o2.default), t3.push(s2.default), t3;
  };
}, { "./additionalItems": 25, "./additionalProperties": 26, "./allOf": 27, "./anyOf": 28, "./contains": 29, "./dependencies": 30, "./if": 31, "./items": 33, "./items2020": 34, "./not": 35, "./oneOf": 36, "./patternProperties": 37, "./prefixItems": 38, "./properties": 39, "./propertyNames": 40, "./thenElse": 41 }], 33: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.validateTuple = void 0;
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../code"), a2 = { keyword: "items", type: "array", schemaType: ["object", "array", "boolean"], before: "uniqueItems", code: function(e21) {
    var t3 = e21.schema, n3 = e21.it;
    if (Array.isArray(t3))
      return s2(e21, "additionalItems", t3);
    n3.items = true, (0, i2.alwaysValidSchema)(n3, t3) || e21.ok((0, o2.validateArray)(e21));
  } };
  function s2(e21, t3) {
    var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e21.schema, o3 = e21.gen, a3 = e21.parentSchema, s3 = e21.data, u2 = e21.keyword, c2 = e21.it;
    !function(e22) {
      var r3 = c2.opts, o4 = c2.errSchemaPath, a4 = n3.length, s4 = a4 === e22.minItems && (a4 === e22.maxItems || e22[t3] === false);
      r3.strictTuples && !s4 && (0, i2.checkStrictMode)(c2, '"'.concat(u2, '" is ').concat(a4, "-tuple, but minItems or maxItems/").concat(t3, ' are not specified or different at path "').concat(o4, '"'), r3.strictTuples);
    }(a3), c2.opts.unevaluated && n3.length && c2.items !== true && (c2.items = i2.mergeEvaluated.items(o3, n3.length, c2.items));
    var l2 = o3.name("valid"), f2 = o3.const("len", r2._(gn || (gn = pi(["", ".length"])), s3));
    n3.forEach(function(t4, n4) {
      (0, i2.alwaysValidSchema)(c2, t4) || (o3.if(r2._(yn || (yn = pi(["", " > ", ""])), f2, n4), function() {
        return e21.subschema({ keyword: u2, schemaProp: n4, dataProp: n4 }, l2);
      }), e21.ok(l2));
    });
  }
  n2.validateTuple = s2, n2.default = a2;
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../code": 42 }], 34: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../code"), a2 = e20("./additionalItems");
  n2.default = { keyword: "items", type: "array", schemaType: ["object", "boolean"], before: "uniqueItems", error: { message: function(e21) {
    var t3 = e21.params.len;
    return r2.str(bn || (bn = pi(["must NOT have more than ", " items"])), t3);
  }, params: function(e21) {
    var t3 = e21.params.len;
    return r2._(wn || (wn = pi(["{limit: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.schema, n3 = e21.parentSchema, r3 = e21.it, s2 = n3.prefixItems;
    r3.items = true, (0, i2.alwaysValidSchema)(r3, t3) || (s2 ? (0, a2.validateAdditionalItems)(e21, s2) : e21.ok((0, o2.validateArray)(e21)));
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../code": 42, "./additionalItems": 25 }], 35: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/util");
  n2.default = { keyword: "not", schemaType: ["object", "boolean"], trackErrors: true, code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, i2 = e21.it;
    if ((0, r2.alwaysValidSchema)(i2, n3))
      e21.fail();
    else {
      var o2 = t3.name("valid");
      e21.subschema({ keyword: "not", compositeRule: true, createErrors: false, allErrors: false }, o2), e21.failResult(o2, function() {
        return e21.reset();
      }, function() {
        return e21.error();
      });
    }
  }, error: { message: "must NOT be valid" } };
}, { "../../compile/util": 10 }], 36: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util");
  n2.default = { keyword: "oneOf", schemaType: "array", trackErrors: true, error: { message: "must match exactly one schema in oneOf", params: function(e21) {
    var t3 = e21.params;
    return r2._(kn || (kn = pi(["{passingSchemas: ", "}"])), t3.passing);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, o2 = e21.parentSchema, a2 = e21.it;
    if (!Array.isArray(n3))
      throw new Error("ajv implementation error");
    if (!a2.opts.discriminator || !o2.discriminator) {
      var s2 = n3, u2 = t3.let("valid", false), c2 = t3.let("passing", null), l2 = t3.name("_valid");
      e21.setParams({ passing: c2 }), t3.block(function() {
        s2.forEach(function(n4, o3) {
          var s3;
          (0, i2.alwaysValidSchema)(a2, n4) ? t3.var(l2, true) : s3 = e21.subschema({ keyword: "oneOf", schemaProp: o3, compositeRule: true }, l2), o3 > 0 && t3.if(r2._(jn || (jn = pi(["", " && ", ""])), l2, u2)).assign(u2, false).assign(c2, r2._(xn || (xn = pi(["[", ", ", "]"])), c2, o3)).else(), t3.if(l2, function() {
            t3.assign(u2, true), t3.assign(c2, o3), s3 && e21.mergeEvaluated(s3, r2.Name);
          });
        });
      }), e21.result(u2, function() {
        return e21.reset();
      }, function() {
        return e21.error(true);
      });
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10 }], 37: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../code"), i2 = e20("../../compile/codegen"), o2 = e20("../../compile/util"), a2 = e20("../../compile/util");
  n2.default = { keyword: "patternProperties", type: "object", schemaType: "object", code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, s2 = e21.data, u2 = e21.parentSchema, c2 = e21.it, l2 = c2.opts, f2 = (0, r2.allSchemaProperties)(n3), h2 = f2.filter(function(e22) {
      return (0, o2.alwaysValidSchema)(c2, n3[e22]);
    });
    if (f2.length !== 0 && (h2.length !== f2.length || c2.opts.unevaluated && c2.props !== true)) {
      var d2 = l2.strictSchema && !l2.allowMatchingProperties && u2.properties, v2 = t3.name("valid");
      c2.props === true || c2.props instanceof i2.Name || (c2.props = (0, a2.evaluatedPropsToName)(t3, c2.props));
      var p2 = c2.props;
      !function() {
        var e22, n4 = bi(f2);
        try {
          for (n4.s(); !(e22 = n4.n()).done; ) {
            var r3 = e22.value;
            d2 && m2(r3), c2.allErrors ? g2(r3) : (t3.var(v2, true), g2(r3), t3.if(v2));
          }
        } catch (e23) {
          n4.e(e23);
        } finally {
          n4.f();
        }
      }();
    }
    function m2(e22) {
      for (var t4 in d2)
        new RegExp(e22).test(t4) && (0, o2.checkStrictMode)(c2, "property ".concat(t4, " matches pattern ").concat(e22, " (use allowMatchingProperties)"));
    }
    function g2(n4) {
      t3.forIn("key", s2, function(o3) {
        t3.if(i2._(Sn || (Sn = pi(["", ".test(", ")"])), (0, r2.usePattern)(e21, n4), o3), function() {
          var r3 = h2.includes(n4);
          r3 || e21.subschema({ keyword: "patternProperties", schemaProp: n4, dataProp: o3, dataPropType: a2.Type.Str }, v2), c2.opts.unevaluated && p2 !== true ? t3.assign(i2._(Cn || (Cn = pi(["", "[", "]"])), p2, o3), true) : r3 || c2.allErrors || t3.if((0, i2.not)(v2), function() {
            return t3.break();
          });
        });
      });
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../code": 42 }], 38: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./items");
  n2.default = { keyword: "prefixItems", type: "array", schemaType: ["array"], before: "uniqueItems", code: function(e21) {
    return (0, r2.validateTuple)(e21, "items");
  } };
}, { "./items": 33 }], 39: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/validate"), i2 = e20("../code"), o2 = e20("../../compile/util"), a2 = e20("./additionalProperties");
  n2.default = { keyword: "properties", type: "object", schemaType: "object", code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, s2 = e21.parentSchema, u2 = e21.data, c2 = e21.it;
    c2.opts.removeAdditional === "all" && s2.additionalProperties === void 0 && a2.default.code(new r2.KeywordCxt(c2, a2.default, "additionalProperties"));
    var l2, f2 = (0, i2.allSchemaProperties)(n3), h2 = bi(f2);
    try {
      for (h2.s(); !(l2 = h2.n()).done; ) {
        var d2 = l2.value;
        c2.definedProperties.add(d2);
      }
    } catch (e22) {
      h2.e(e22);
    } finally {
      h2.f();
    }
    c2.opts.unevaluated && f2.length && c2.props !== true && (c2.props = o2.mergeEvaluated.props(t3, (0, o2.toHash)(f2), c2.props));
    var v2 = f2.filter(function(e22) {
      return !(0, o2.alwaysValidSchema)(c2, n3[e22]);
    });
    if (v2.length !== 0) {
      var p2, m2 = t3.name("valid"), g2 = bi(v2);
      try {
        for (g2.s(); !(p2 = g2.n()).done; ) {
          var y2 = p2.value;
          b2(y2) ? w2(y2) : (t3.if((0, i2.propertyInData)(t3, u2, y2, c2.opts.ownProperties)), w2(y2), c2.allErrors || t3.else().var(m2, true), t3.endIf()), e21.it.definedProperties.add(y2), e21.ok(m2);
        }
      } catch (e22) {
        g2.e(e22);
      } finally {
        g2.f();
      }
    }
    function b2(e22) {
      return c2.opts.useDefaults && !c2.compositeRule && n3[e22].default !== void 0;
    }
    function w2(t4) {
      e21.subschema({ keyword: "properties", schemaProp: t4, dataProp: t4 }, m2);
    }
  } };
}, { "../../compile/util": 10, "../../compile/validate": 15, "../code": 42, "./additionalProperties": 26 }], 40: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util");
  n2.default = { keyword: "propertyNames", type: "object", schemaType: ["object", "boolean"], error: { message: "property name must be valid", params: function(e21) {
    var t3 = e21.params;
    return r2._(_n || (_n = pi(["{propertyName: ", "}"])), t3.propertyName);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, o2 = e21.data, a2 = e21.it;
    if (!(0, i2.alwaysValidSchema)(a2, n3)) {
      var s2 = t3.name("valid");
      t3.forIn("key", o2, function(n4) {
        e21.setParams({ propertyName: n4 }), e21.subschema({ keyword: "propertyNames", data: n4, dataTypes: ["string"], propertyName: n4, compositeRule: true }, s2), t3.if((0, r2.not)(s2), function() {
          e21.error(true), a2.allErrors || t3.break();
        });
      }), e21.ok(s2);
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10 }], 41: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/util");
  n2.default = { keyword: ["then", "else"], schemaType: ["object", "boolean"], code: function(e21) {
    var t3 = e21.keyword, n3 = e21.parentSchema, i2 = e21.it;
    n3.if === void 0 && (0, r2.checkStrictMode)(i2, '"'.concat(t3, '" without "if" is ignored'));
  } };
}, { "../../compile/util": 10 }], 42: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.validateUnion = n2.validateArray = n2.usePattern = n2.callValidateCode = n2.schemaProperties = n2.allSchemaProperties = n2.noPropertyInData = n2.propertyInData = n2.isOwnProperty = n2.hasPropFunc = n2.reportMissingProp = n2.checkMissingProp = n2.checkReportMissingProp = void 0;
  var r2 = e20("../compile/codegen"), i2 = e20("../compile/util"), o2 = e20("../compile/names"), a2 = e20("../compile/util");
  function s2(e21) {
    return e21.scopeValue("func", { ref: Object.prototype.hasOwnProperty, code: r2._($n || ($n = pi(["Object.prototype.hasOwnProperty"]))) });
  }
  function u2(e21, t3, n3) {
    return r2._(On || (On = pi(["", ".call(", ", ", ")"])), s2(e21), t3, n3);
  }
  function c2(e21, t3, n3, i3) {
    var o3 = r2._(Pn || (Pn = pi(["", "", " === undefined"])), t3, (0, r2.getProperty)(n3));
    return i3 ? (0, r2.or)(o3, (0, r2.not)(u2(e21, t3, n3))) : o3;
  }
  function l2(e21) {
    return e21 ? Object.keys(e21).filter(function(e22) {
      return e22 !== "__proto__";
    }) : [];
  }
  n2.checkReportMissingProp = function(e21, t3) {
    var n3 = e21.gen, i3 = e21.data, o3 = e21.it;
    n3.if(c2(n3, i3, t3, o3.opts.ownProperties), function() {
      e21.setParams({ missingProperty: r2._(An || (An = pi(["", ""])), t3) }, true), e21.error();
    });
  }, n2.checkMissingProp = function(e21, t3, n3) {
    var i3 = e21.gen, o3 = e21.data, a3 = e21.it.opts;
    return r2.or.apply(void 0, Ti(t3.map(function(e22) {
      return (0, r2.and)(c2(i3, o3, e22, a3.ownProperties), r2._(En || (En = pi(["", " = ", ""])), n3, e22));
    })));
  }, n2.reportMissingProp = function(e21, t3) {
    e21.setParams({ missingProperty: t3 }, true), e21.error();
  }, n2.hasPropFunc = s2, n2.isOwnProperty = u2, n2.propertyInData = function(e21, t3, n3, i3) {
    var o3 = r2._(Mn || (Mn = pi(["", "", " !== undefined"])), t3, (0, r2.getProperty)(n3));
    return i3 ? r2._(Tn || (Tn = pi(["", " && ", ""])), o3, u2(e21, t3, n3)) : o3;
  }, n2.noPropertyInData = c2, n2.allSchemaProperties = l2, n2.schemaProperties = function(e21, t3) {
    return l2(t3).filter(function(n3) {
      return !(0, i2.alwaysValidSchema)(e21, t3[n3]);
    });
  }, n2.callValidateCode = function(e21, t3, n3, i3) {
    var a3 = e21.schemaCode, s3 = e21.data, u3 = e21.it, c3 = u3.gen, l3 = u3.topSchemaRef, f3 = u3.schemaPath, h2 = u3.errorPath, d2 = e21.it, v2 = i3 ? r2._(In || (In = pi(["", ", ", ", ", "", ""])), a3, s3, l3, f3) : s3, p2 = [[o2.default.instancePath, (0, r2.strConcat)(o2.default.instancePath, h2)], [o2.default.parentData, d2.parentData], [o2.default.parentDataProperty, d2.parentDataProperty], [o2.default.rootData, o2.default.rootData]];
    d2.opts.dynamicRef && p2.push([o2.default.dynamicAnchors, o2.default.dynamicAnchors]);
    var m2 = r2._(Nn || (Nn = pi(["", ", ", ""])), v2, c3.object.apply(c3, p2));
    return n3 !== r2.nil ? r2._(Rn || (Rn = pi(["", ".call(", ", ", ")"])), t3, n3, m2) : r2._(Dn || (Dn = pi(["", "(", ")"])), t3, m2);
  };
  var f2 = r2._(Ln || (Ln = pi(["new RegExp"])));
  n2.usePattern = function(e21, t3) {
    var n3 = e21.gen, i3 = e21.it.opts, o3 = i3.unicodeRegExp ? "u" : "", s3 = i3.code.regExp, u3 = s3(t3, o3);
    return n3.scopeValue("pattern", { key: u3.toString(), ref: u3, code: r2._(zn || (zn = pi(["", "(", ", ", ")"])), s3.code === "new RegExp" ? f2 : (0, a2.useFunc)(n3, s3), t3, o3) });
  }, n2.validateArray = function(e21) {
    var t3 = e21.gen, n3 = e21.data, o3 = e21.keyword, a3 = e21.it, s3 = t3.name("valid");
    if (a3.allErrors) {
      var u3 = t3.let("valid", true);
      return c3(function() {
        return t3.assign(u3, false);
      }), u3;
    }
    return t3.var(s3, true), c3(function() {
      return t3.break();
    }), s3;
    function c3(a4) {
      var u4 = t3.const("len", r2._(Bn || (Bn = pi(["", ".length"])), n3));
      t3.forRange("i", 0, u4, function(n4) {
        e21.subschema({ keyword: o3, dataProp: n4, dataPropType: i2.Type.Num }, s3), t3.if((0, r2.not)(s3), a4);
      });
    }
  }, n2.validateUnion = function(e21) {
    var t3 = e21.gen, n3 = e21.schema, o3 = e21.keyword, a3 = e21.it;
    if (!Array.isArray(n3))
      throw new Error("ajv implementation error");
    if (!n3.some(function(e22) {
      return (0, i2.alwaysValidSchema)(a3, e22);
    }) || a3.opts.unevaluated) {
      var s3 = t3.let("valid", false), u3 = t3.name("_valid");
      t3.block(function() {
        return n3.forEach(function(n4, i3) {
          var a4 = e21.subschema({ keyword: o3, schemaProp: i3, compositeRule: true }, u3);
          t3.assign(s3, r2._(qn || (qn = pi(["", " || ", ""])), s3, u3)), e21.mergeValidEvaluated(a4, u3) || t3.if((0, r2.not)(s3));
        });
      }), e21.result(s3, function() {
        return e21.reset();
      }, function() {
        return e21.error(true);
      });
    }
  };
}, { "../compile/codegen": 2, "../compile/names": 6, "../compile/util": 10 }], 43: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.default = { keyword: "id", code: function() {
    throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID');
  } };
}, {}], 44: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./id"), i2 = e20("./ref");
  n2.default = ["$schema", "$id", "$defs", "$vocabulary", { keyword: "$comment" }, "definitions", r2.default, i2.default];
}, { "./id": 43, "./ref": 45 }], 45: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.callRef = n2.getValidate = void 0;
  var r2 = e20("../../compile/ref_error"), i2 = e20("../code"), o2 = e20("../../compile/codegen"), a2 = e20("../../compile/names"), s2 = e20("../../compile"), u2 = e20("../../compile/util"), c2 = { keyword: "$ref", schemaType: "string", code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, i3 = e21.it, a3 = i3.baseId, u3 = i3.schemaEnv, c3 = i3.validateName, h2 = i3.opts, d2 = i3.self, v2 = u3.root;
    if ((n3 === "#" || n3 === "#/") && a3 === v2.baseId)
      return function() {
        if (u3 === v2)
          return f2(e21, c3, u3, u3.$async);
        var n4 = t3.scopeValue("root", { ref: v2 });
        return f2(e21, o2._(Fn || (Fn = pi(["", ".validate"])), n4), v2, v2.$async);
      }();
    var p2 = s2.resolveRef.call(d2, v2, a3, n3);
    if (p2 === void 0)
      throw new r2.default(i3.opts.uriResolver, a3, n3);
    return p2 instanceof s2.SchemaEnv ? function(t4) {
      var n4 = l2(e21, t4);
      f2(e21, n4, t4, t4.$async);
    }(p2) : function(r3) {
      var i4 = t3.scopeValue("schema", h2.code.source === true ? { ref: r3, code: (0, o2.stringify)(r3) } : { ref: r3 }), a4 = t3.name("valid"), s3 = e21.subschema({ schema: r3, dataTypes: [], schemaPath: o2.nil, topSchemaRef: i4, errSchemaPath: n3 }, a4);
      e21.mergeEvaluated(s3), e21.ok(a4);
    }(p2);
  } };
  function l2(e21, t3) {
    var n3 = e21.gen;
    return t3.validate ? n3.scopeValue("validate", { ref: t3.validate }) : o2._(Vn || (Vn = pi(["", ".validate"])), n3.scopeValue("wrapper", { ref: t3 }));
  }
  function f2(e21, t3, n3, r3) {
    var s3 = e21.gen, c3 = e21.it, l3 = c3.allErrors, f3 = c3.schemaEnv, h2 = c3.opts.passContext ? a2.default.this : o2.nil;
    function d2(e22) {
      var t4 = o2._(Hn || (Hn = pi(["", ".errors"])), e22);
      s3.assign(a2.default.vErrors, o2._(Wn || (Wn = pi(["", " === null ? ", " : ", ".concat(", ")"])), a2.default.vErrors, t4, a2.default.vErrors, t4)), s3.assign(a2.default.errors, o2._(Un || (Un = pi(["", ".length"])), a2.default.vErrors));
    }
    function v2(e22) {
      var t4;
      if (c3.opts.unevaluated) {
        var r4 = (t4 = n3 == null ? void 0 : n3.validate) === null || t4 === void 0 ? void 0 : t4.evaluated;
        if (c3.props !== true)
          if (r4 && !r4.dynamicProps)
            r4.props !== void 0 && (c3.props = u2.mergeEvaluated.props(s3, r4.props, c3.props));
          else {
            var i3 = s3.var("props", o2._(Jn || (Jn = pi(["", ".evaluated.props"])), e22));
            c3.props = u2.mergeEvaluated.props(s3, i3, c3.props, o2.Name);
          }
        if (c3.items !== true)
          if (r4 && !r4.dynamicItems)
            r4.items !== void 0 && (c3.items = u2.mergeEvaluated.items(s3, r4.items, c3.items));
          else {
            var a3 = s3.var("items", o2._(Kn || (Kn = pi(["", ".evaluated.items"])), e22));
            c3.items = u2.mergeEvaluated.items(s3, a3, c3.items, o2.Name);
          }
      }
    }
    r3 ? function() {
      if (!f3.$async)
        throw new Error("async schema referenced by sync schema");
      var n4 = s3.let("valid");
      s3.try(function() {
        s3.code(o2._(Gn || (Gn = pi(["await ", ""])), (0, i2.callValidateCode)(e21, t3, h2))), v2(t3), l3 || s3.assign(n4, true);
      }, function(e22) {
        s3.if(o2._(Qn || (Qn = pi(["!(", " instanceof ", ")"])), e22, c3.ValidationError), function() {
          return s3.throw(e22);
        }), d2(e22), l3 || s3.assign(n4, false);
      }), e21.ok(n4);
    }() : e21.result((0, i2.callValidateCode)(e21, t3, h2), function() {
      return v2(t3);
    }, function() {
      return d2(t3);
    });
  }
  n2.getValidate = l2, n2.callRef = f2, n2.default = c2;
}, { "../../compile": 5, "../../compile/codegen": 2, "../../compile/names": 6, "../../compile/ref_error": 7, "../../compile/util": 10, "../code": 42 }], 46: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../discriminator/types"), o2 = e20("../../compile"), a2 = e20("../../compile/util");
  n2.default = { keyword: "discriminator", type: "object", schemaType: "object", error: { message: function(e21) {
    var t3 = e21.params, n3 = t3.discrError, r3 = t3.tagName;
    return n3 === i2.DiscrError.Tag ? 'tag "'.concat(r3, '" must be string') : 'value of tag "'.concat(r3, '" must be in oneOf');
  }, params: function(e21) {
    var t3 = e21.params, n3 = t3.discrError, i3 = t3.tag, o3 = t3.tagName;
    return r2._(Yn || (Yn = pi(["{error: ", ", tag: ", ", tagValue: ", "}"])), n3, o3, i3);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.data, s2 = e21.schema, u2 = e21.parentSchema, c2 = e21.it, l2 = u2.oneOf;
    if (!c2.opts.discriminator)
      throw new Error("discriminator: requires discriminator option");
    var f2 = s2.propertyName;
    if (typeof f2 != "string")
      throw new Error("discriminator: requires propertyName");
    if (s2.mapping)
      throw new Error("discriminator: mapping is not supported");
    if (!l2)
      throw new Error("discriminator: requires oneOf keyword");
    var h2 = t3.let("valid", false), d2 = t3.const("tag", r2._(Zn || (Zn = pi(["", "", ""])), n3, (0, r2.getProperty)(f2)));
    function v2(n4) {
      var i3 = t3.name("valid"), o3 = e21.subschema({ keyword: "oneOf", schemaProp: n4 }, i3);
      return e21.mergeEvaluated(o3, r2.Name), i3;
    }
    t3.if(r2._(Xn || (Xn = pi(["typeof ", ' == "string"'])), d2), function() {
      return function() {
        var n4 = function() {
          for (var e22, t4 = {}, n5 = d3(u2), r3 = true, i3 = 0; i3 < l2.length; i3++) {
            var s4 = l2[i3];
            (s4 == null ? void 0 : s4.$ref) && !(0, a2.schemaHasRulesButRef)(s4, c2.self.RULES) && (s4 = o2.resolveRef.call(c2.self, c2.schemaEnv.root, c2.baseId, s4 == null ? void 0 : s4.$ref)) instanceof o2.SchemaEnv && (s4 = s4.schema);
            var h3 = (e22 = s4 == null ? void 0 : s4.properties) === null || e22 === void 0 ? void 0 : e22[f2];
            if (zi(h3) != "object")
              throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(f2, '"'));
            r3 = r3 && (n5 || d3(s4)), v3(h3, i3);
          }
          if (!r3)
            throw new Error('discriminator: "'.concat(f2, '" must be required'));
          return t4;
          function d3(e23) {
            var t5 = e23.required;
            return Array.isArray(t5) && t5.includes(f2);
          }
          function v3(e23, t5) {
            if (e23.const)
              p2(e23.const, t5);
            else {
              if (!e23.enum)
                throw new Error('discriminator: "properties/'.concat(f2, '" must have "const" or "enum"'));
              var n6, r4 = bi(e23.enum);
              try {
                for (r4.s(); !(n6 = r4.n()).done; )
                  p2(n6.value, t5);
              } catch (e24) {
                r4.e(e24);
              } finally {
                r4.f();
              }
            }
          }
          function p2(e23, n6) {
            if (typeof e23 != "string" || e23 in t4)
              throw new Error('discriminator: "'.concat(f2, '" values must be unique strings'));
            t4[e23] = n6;
          }
        }();
        for (var s3 in t3.if(false), n4)
          t3.elseIf(r2._(er || (er = pi(["", " === ", ""])), d2, s3)), t3.assign(h2, v2(n4[s3]));
        t3.else(), e21.error(false, { discrError: i2.DiscrError.Mapping, tag: d2, tagName: f2 }), t3.endIf();
      }();
    }, function() {
      return e21.error(false, { discrError: i2.DiscrError.Tag, tag: d2, tagName: f2 });
    }), e21.ok(h2);
  } };
}, { "../../compile": 5, "../../compile/codegen": 2, "../../compile/util": 10, "../discriminator/types": 47 }], 47: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.DiscrError = void 0, function(e21) {
    e21.Tag = "tag", e21.Mapping = "mapping";
  }(n2.DiscrError || (n2.DiscrError = {}));
}, {}], 48: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./core"), i2 = e20("./validation"), o2 = e20("./applicator"), a2 = e20("./format"), s2 = e20("./metadata"), u2 = [r2.default, i2.default, (0, o2.default)(), a2.default, s2.metadataVocabulary, s2.contentVocabulary];
  n2.default = u2;
}, { "./applicator": 32, "./core": 44, "./format": 50, "./metadata": 51, "./validation": 54 }], 49: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen");
  n2.default = { keyword: "format", type: ["number", "string"], schemaType: "string", $data: true, error: { message: function(e21) {
    var t3 = e21.schemaCode;
    return r2.str(tr || (tr = pi(['must match format "', '"'])), t3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(nr || (nr = pi(["{format: ", "}"])), t3);
  } }, code: function(e21, t3) {
    var n3 = e21.gen, i2 = e21.data, o2 = e21.$data, a2 = e21.schema, s2 = e21.schemaCode, u2 = e21.it, c2 = u2.opts, l2 = u2.errSchemaPath, f2 = u2.schemaEnv, h2 = u2.self;
    c2.validateFormats && (o2 ? function() {
      var o3 = n3.scopeValue("formats", { ref: h2.formats, code: c2.code.formats }), a3 = n3.const("fDef", r2._(rr || (rr = pi(["", "[", "]"])), o3, s2)), u3 = n3.let("fType"), l3 = n3.let("format");
      n3.if(r2._(ir || (ir = pi(["typeof ", ' == "object" && !(', " instanceof RegExp)"])), a3, a3), function() {
        return n3.assign(u3, r2._(or || (or = pi(["", '.type || "string"'])), a3)).assign(l3, r2._(ar || (ar = pi(["", ".validate"])), a3));
      }, function() {
        return n3.assign(u3, r2._(sr || (sr = pi(['"string"'])))).assign(l3, a3);
      }), e21.fail$data((0, r2.or)(c2.strictSchema === false ? r2.nil : r2._(ur || (ur = pi(["", " && !", ""])), s2, l3), function() {
        var e22 = f2.$async ? r2._(cr || (cr = pi(["(", ".async ? await ", "(", ") : ", "(", "))"])), a3, l3, i2, l3, i2) : r2._(lr || (lr = pi(["", "(", ")"])), l3, i2), n4 = r2._(fr || (fr = pi(["(typeof ", ' == "function" ? ', " : ", ".test(", "))"])), l3, e22, l3, i2);
        return r2._(hr || (hr = pi(["", " && ", " !== true && ", " === ", " && !", ""])), l3, l3, u3, t3, n4);
      }()));
    }() : function() {
      var o3 = h2.formats[a2];
      if (o3) {
        if (o3 !== true) {
          var s3 = ji(function(e22) {
            var t4 = e22 instanceof RegExp ? (0, r2.regexpCode)(e22) : c2.code.formats ? r2._(dr || (dr = pi(["", "", ""])), c2.code.formats, (0, r2.getProperty)(a2)) : void 0, i3 = n3.scopeValue("formats", { key: a2, ref: e22, code: t4 });
            return zi(e22) != "object" || e22 instanceof RegExp ? ["string", e22, i3] : [e22.type || "string", e22.validate, r2._(vr || (vr = pi(["", ".validate"])), i3)];
          }(o3), 3), u3 = s3[0], d2 = s3[1], v2 = s3[2];
          u3 === t3 && e21.pass(function() {
            if (zi(o3) == "object" && !(o3 instanceof RegExp) && o3.async) {
              if (!f2.$async)
                throw new Error("async format in sync schema");
              return r2._(pr || (pr = pi(["await ", "(", ")"])), v2, i2);
            }
            return typeof d2 == "function" ? r2._(mr || (mr = pi(["", "(", ")"])), v2, i2) : r2._(gr || (gr = pi(["", ".test(", ")"])), v2, i2);
          }());
        }
      } else
        !function() {
          if (c2.strictSchema !== false)
            throw new Error(e22());
          function e22() {
            return 'unknown format "'.concat(a2, '" ignored in schema at path "').concat(l2, '"');
          }
          h2.logger.warn(e22());
        }();
    }());
  } };
}, { "../../compile/codegen": 2 }], 50: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./format");
  n2.default = [r2.default];
}, { "./format": 49 }], 51: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.contentVocabulary = n2.metadataVocabulary = void 0, n2.metadataVocabulary = ["title", "description", "default", "deprecated", "readOnly", "writeOnly", "examples"], n2.contentVocabulary = ["contentMediaType", "contentEncoding", "contentSchema"];
}, {}], 52: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../../runtime/equal");
  n2.default = { keyword: "const", $data: true, error: { message: "must be equal to constant", params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(yr || (yr = pi(["{allowedValue: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.data, a2 = e21.$data, s2 = e21.schemaCode, u2 = e21.schema;
    a2 || u2 && zi(u2) == "object" ? e21.fail$data(r2._(br || (br = pi(["!", "(", ", ", ")"])), (0, i2.useFunc)(t3, o2.default), n3, s2)) : e21.fail(r2._(wr || (wr = pi(["", " !== ", ""])), u2, n3));
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../../runtime/equal": 21 }], 53: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../../runtime/equal");
  n2.default = { keyword: "enum", schemaType: "array", $data: true, error: { message: "must be equal to one of the allowed values", params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(kr || (kr = pi(["{allowedValues: ", "}"])), t3);
  } }, code: function(e21) {
    var t3, n3 = e21.gen, a2 = e21.data, s2 = e21.$data, u2 = e21.schema, c2 = e21.schemaCode, l2 = e21.it;
    if (!s2 && u2.length === 0)
      throw new Error("enum must have non-empty array");
    var f2, h2 = function() {
      return t3 != null ? t3 : t3 = (0, i2.useFunc)(n3, o2.default);
    };
    if (u2.length >= l2.opts.loopEnum || s2)
      f2 = n3.let("valid"), e21.block$data(f2, function() {
        n3.assign(f2, false), n3.forOf("v", c2, function(e22) {
          return n3.if(r2._(jr || (jr = pi(["", "(", ", ", ")"])), h2(), a2, e22), function() {
            return n3.assign(f2, true).break();
          });
        });
      });
    else {
      if (!Array.isArray(u2))
        throw new Error("ajv implementation error");
      var d2 = n3.const("vSchema", c2);
      f2 = r2.or.apply(void 0, Ti(u2.map(function(e22, t4) {
        return function(e23, t5) {
          var n4 = u2[t5];
          return zi(n4) == "object" && n4 !== null ? r2._(xr || (xr = pi(["", "(", ", ", "[", "])"])), h2(), a2, e23, t5) : r2._(Sr || (Sr = pi(["", " === ", ""])), a2, n4);
        }(d2, t4);
      })));
    }
    e21.pass(f2);
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../../runtime/equal": 21 }], 54: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("./limitNumber"), i2 = e20("./multipleOf"), o2 = e20("./limitLength"), a2 = e20("./pattern"), s2 = e20("./limitProperties"), u2 = e20("./required"), c2 = e20("./limitItems"), l2 = e20("./uniqueItems"), f2 = e20("./const"), h2 = e20("./enum");
  n2.default = [r2.default, i2.default, o2.default, a2.default, s2.default, u2.default, c2.default, l2.default, { keyword: "type", schemaType: ["string", "array"] }, { keyword: "nullable", schemaType: "boolean" }, f2.default, h2.default];
}, { "./const": 52, "./enum": 53, "./limitItems": 55, "./limitLength": 56, "./limitNumber": 57, "./limitProperties": 58, "./multipleOf": 59, "./pattern": 60, "./required": 61, "./uniqueItems": 62 }], 55: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen");
  n2.default = { keyword: ["maxItems", "minItems"], type: "array", schemaType: "number", $data: true, error: { message: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaCode;
    return r2.str(Cr || (Cr = pi(["must NOT have ", " than ", " items"])), t3 === "maxItems" ? "more" : "fewer", n3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(_r || (_r = pi(["{limit: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.keyword, n3 = e21.data, i2 = e21.schemaCode;
    e21.fail$data(r2._($r || ($r = pi(["", ".length ", " ", ""])), n3, t3 === "maxItems" ? r2.operators.GT : r2.operators.LT, i2));
  } };
}, { "../../compile/codegen": 2 }], 56: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = e20("../../compile/util"), o2 = e20("../../runtime/ucs2length");
  n2.default = { keyword: ["maxLength", "minLength"], type: "string", schemaType: "number", $data: true, error: { message: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaCode;
    return r2.str(Or || (Or = pi(["must NOT have ", " than ", " characters"])), t3 === "maxLength" ? "more" : "fewer", n3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(Pr || (Pr = pi(["{limit: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.keyword, n3 = e21.data, a2 = e21.schemaCode, s2 = e21.it, u2 = t3 === "maxLength" ? r2.operators.GT : r2.operators.LT, c2 = s2.opts.unicode === false ? r2._(Ar || (Ar = pi(["", ".length"])), n3) : r2._(Er || (Er = pi(["", "(", ")"])), (0, i2.useFunc)(e21.gen, o2.default), n3);
    e21.fail$data(r2._(Mr || (Mr = pi(["", " ", " ", ""])), c2, u2, a2));
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../../runtime/ucs2length": 22 }], 57: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen"), i2 = r2.operators, o2 = { maximum: { okStr: "<=", ok: i2.LTE, fail: i2.GT }, minimum: { okStr: ">=", ok: i2.GTE, fail: i2.LT }, exclusiveMaximum: { okStr: "<", ok: i2.LT, fail: i2.GTE }, exclusiveMinimum: { okStr: ">", ok: i2.GT, fail: i2.LTE } }, a2 = { message: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaCode;
    return r2.str(Tr || (Tr = pi(["must be ", " ", ""])), o2[t3].okStr, n3);
  }, params: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaCode;
    return r2._(Ir || (Ir = pi(["{comparison: ", ", limit: ", "}"])), o2[t3].okStr, n3);
  } }, s2 = { keyword: Object.keys(o2), type: "number", schemaType: "number", $data: true, error: a2, code: function(e21) {
    var t3 = e21.keyword, n3 = e21.data, i3 = e21.schemaCode;
    e21.fail$data(r2._(Nr || (Nr = pi(["", " ", " ", " || isNaN(", ")"])), n3, o2[t3].fail, i3, n3));
  } };
  n2.default = s2;
}, { "../../compile/codegen": 2 }], 58: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen");
  n2.default = { keyword: ["maxProperties", "minProperties"], type: "object", schemaType: "number", $data: true, error: { message: function(e21) {
    var t3 = e21.keyword, n3 = e21.schemaCode;
    return r2.str(Rr || (Rr = pi(["must NOT have ", " than ", " properties"])), t3 === "maxProperties" ? "more" : "fewer", n3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(Dr || (Dr = pi(["{limit: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.keyword, n3 = e21.data, i2 = e21.schemaCode;
    e21.fail$data(r2._(Lr || (Lr = pi(["Object.keys(", ").length ", " ", ""])), n3, t3 === "maxProperties" ? r2.operators.GT : r2.operators.LT, i2));
  } };
}, { "../../compile/codegen": 2 }], 59: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/codegen");
  n2.default = { keyword: "multipleOf", type: "number", schemaType: "number", $data: true, error: { message: function(e21) {
    var t3 = e21.schemaCode;
    return r2.str(zr || (zr = pi(["must be multiple of ", ""])), t3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return r2._(Br || (Br = pi(["{multipleOf: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.data, i2 = e21.schemaCode, o2 = e21.it.opts.multipleOfPrecision, a2 = t3.let("res"), s2 = o2 ? r2._(qr || (qr = pi(["Math.abs(Math.round(", ") - ", ") > 1e-", ""])), a2, a2, o2) : r2._(Fr || (Fr = pi(["", " !== parseInt(", ")"])), a2, a2);
    e21.fail$data(r2._(Vr || (Vr = pi(["(", " === 0 || (", " = ", "/", ", ", "))"])), i2, a2, n3, i2, s2));
  } };
}, { "../../compile/codegen": 2 }], 60: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../code"), i2 = e20("../../compile/codegen");
  n2.default = { keyword: "pattern", type: "string", schemaType: "string", $data: true, error: { message: function(e21) {
    var t3 = e21.schemaCode;
    return i2.str(Hr || (Hr = pi(['must match pattern "', '"'])), t3);
  }, params: function(e21) {
    var t3 = e21.schemaCode;
    return i2._(Wr || (Wr = pi(["{pattern: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.data, n3 = e21.$data, o2 = e21.schema, a2 = e21.schemaCode, s2 = e21.it, u2 = n3 ? i2._(Ur || (Ur = pi(["(new RegExp(", ", ", "))"])), a2, s2.opts.unicodeRegExp ? "u" : "") : (0, r2.usePattern)(e21, o2);
    e21.fail$data(i2._(Jr || (Jr = pi(["!", ".test(", ")"])), u2, t3));
  } };
}, { "../../compile/codegen": 2, "../code": 42 }], 61: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../code"), i2 = e20("../../compile/codegen"), o2 = e20("../../compile/util");
  n2.default = { keyword: "required", type: "object", schemaType: "array", $data: true, error: { message: function(e21) {
    var t3 = e21.params.missingProperty;
    return i2.str(Kr || (Kr = pi(["must have required property '", "'"])), t3);
  }, params: function(e21) {
    var t3 = e21.params.missingProperty;
    return i2._(Gr || (Gr = pi(["{missingProperty: ", "}"])), t3);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.schema, a2 = e21.schemaCode, s2 = e21.data, u2 = e21.$data, c2 = e21.it, l2 = c2.opts;
    if (u2 || n3.length !== 0) {
      var f2 = n3.length >= l2.loopRequired;
      if (c2.allErrors ? function() {
        if (f2 || u2)
          e21.block$data(i2.nil, g2);
        else {
          var t4, o3 = bi(n3);
          try {
            for (o3.s(); !(t4 = o3.n()).done; ) {
              var a3 = t4.value;
              (0, r2.checkReportMissingProp)(e21, a3);
            }
          } catch (e22) {
            o3.e(e22);
          } finally {
            o3.f();
          }
        }
      }() : function() {
        var o3 = t3.let("missing");
        if (f2 || u2) {
          var c3 = t3.let("valid", true);
          e21.block$data(c3, function() {
            return function(n4, o4) {
              e21.setParams({ missingProperty: n4 }), t3.forOf(n4, a2, function() {
                t3.assign(o4, (0, r2.propertyInData)(t3, s2, n4, l2.ownProperties)), t3.if((0, i2.not)(o4), function() {
                  e21.error(), t3.break();
                });
              }, i2.nil);
            }(o3, c3);
          }), e21.ok(c3);
        } else
          t3.if((0, r2.checkMissingProp)(e21, n3, o3)), (0, r2.reportMissingProp)(e21, o3), t3.else();
      }(), l2.strictRequired) {
        var h2, d2 = e21.parentSchema.properties, v2 = e21.it.definedProperties, p2 = bi(n3);
        try {
          for (p2.s(); !(h2 = p2.n()).done; ) {
            var m2 = h2.value;
            (d2 == null ? void 0 : d2[m2]) !== void 0 || v2.has(m2) || (0, o2.checkStrictMode)(c2, 'required property "'.concat(m2, '" is not defined at "').concat(c2.schemaEnv.baseId + c2.errSchemaPath, '" (strictRequired)'), c2.opts.strictRequired);
          }
        } catch (e22) {
          p2.e(e22);
        } finally {
          p2.f();
        }
      }
    }
    function g2() {
      t3.forOf("prop", a2, function(n4) {
        e21.setParams({ missingProperty: n4 }), t3.if((0, r2.noPropertyInData)(t3, s2, n4, l2.ownProperties), function() {
          return e21.error();
        });
      });
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../code": 42 }], 62: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true });
  var r2 = e20("../../compile/validate/dataType"), i2 = e20("../../compile/codegen"), o2 = e20("../../compile/util"), a2 = e20("../../runtime/equal");
  n2.default = { keyword: "uniqueItems", type: "array", schemaType: "boolean", $data: true, error: { message: function(e21) {
    var t3 = e21.params, n3 = t3.i, r3 = t3.j;
    return i2.str(Qr || (Qr = pi(["must NOT have duplicate items (items ## ", " and ", " are identical)"])), r3, n3);
  }, params: function(e21) {
    var t3 = e21.params, n3 = t3.i, r3 = t3.j;
    return i2._(Yr || (Yr = pi(["{i: ", ", j: ", "}"])), n3, r3);
  } }, code: function(e21) {
    var t3 = e21.gen, n3 = e21.data, s2 = e21.$data, u2 = e21.schema, c2 = e21.parentSchema, l2 = e21.schemaCode, f2 = e21.it;
    if (s2 || u2) {
      var h2 = t3.let("valid"), d2 = c2.items ? (0, r2.getSchemaTypes)(c2.items) : [];
      e21.block$data(h2, function() {
        var r3 = t3.let("i", i2._(li || (li = pi(["", ".length"])), n3)), o3 = t3.let("j");
        e21.setParams({ i: r3, j: o3 }), t3.assign(h2, true), t3.if(i2._(fi || (fi = pi(["", " > 1"])), r3), function() {
          return (d2.length > 0 && !d2.some(function(e22) {
            return e22 === "object" || e22 === "array";
          }) ? v2 : p2)(r3, o3);
        });
      }, i2._(hi || (hi = pi(["", " === false"])), l2)), e21.ok(h2);
    }
    function v2(o3, a3) {
      var s3 = t3.name("item"), u3 = (0, r2.checkDataTypes)(d2, s3, f2.opts.strictNumbers, r2.DataType.Wrong), c3 = t3.const("indices", i2._(Zr || (Zr = pi(["{}"]))));
      t3.for(i2._(Xr || (Xr = pi([";", "--;"])), o3), function() {
        t3.let(s3, i2._(ei || (ei = pi(["", "[", "]"])), n3, o3)), t3.if(u3, i2._(ti || (ti = pi(["continue"])))), d2.length > 1 && t3.if(i2._(ni || (ni = pi(["typeof ", ' == "string"'])), s3), i2._(ri || (ri = pi(["", ' += "_"'])), s3)), t3.if(i2._(ii || (ii = pi(["typeof ", "[", '] == "number"'])), c3, s3), function() {
          t3.assign(a3, i2._(oi || (oi = pi(["", "[", "]"])), c3, s3)), e21.error(), t3.assign(h2, false).break();
        }).code(i2._(ai || (ai = pi(["", "[", "] = ", ""])), c3, s3, o3));
      });
    }
    function p2(r3, s3) {
      var u3 = (0, o2.useFunc)(t3, a2.default), c3 = t3.name("outer");
      t3.label(c3).for(i2._(si || (si = pi([";", "--;"])), r3), function() {
        return t3.for(i2._(ui || (ui = pi(["", " = ", "; ", "--;"])), s3, r3, s3), function() {
          return t3.if(i2._(ci || (ci = pi(["", "(", "[", "], ", "[", "])"])), u3, n3, r3, n3, s3), function() {
            e21.error(), t3.assign(h2, false).break(c3);
          });
        });
      });
    }
  } };
}, { "../../compile/codegen": 2, "../../compile/util": 10, "../../compile/validate/dataType": 13, "../../runtime/equal": 21 }], 63: [function(e20, t2, n2) {
  t2.exports = function e21(t3, n3) {
    if (t3 === n3)
      return true;
    if (t3 && n3 && zi(t3) == "object" && zi(n3) == "object") {
      if (t3.constructor !== n3.constructor)
        return false;
      var r2, i2, o2;
      if (Array.isArray(t3)) {
        if ((r2 = t3.length) != n3.length)
          return false;
        for (i2 = r2; i2-- != 0; )
          if (!e21(t3[i2], n3[i2]))
            return false;
        return true;
      }
      if (t3.constructor === RegExp)
        return t3.source === n3.source && t3.flags === n3.flags;
      if (t3.valueOf !== Object.prototype.valueOf)
        return t3.valueOf() === n3.valueOf();
      if (t3.toString !== Object.prototype.toString)
        return t3.toString() === n3.toString();
      if ((r2 = (o2 = Object.keys(t3)).length) !== Object.keys(n3).length)
        return false;
      for (i2 = r2; i2-- != 0; )
        if (!Object.prototype.hasOwnProperty.call(n3, o2[i2]))
          return false;
      for (i2 = r2; i2-- != 0; ) {
        var a2 = o2[i2];
        if (!e21(t3[a2], n3[a2]))
          return false;
      }
      return true;
    }
    return t3 != t3 && n3 != n3;
  };
}, {}], 64: [function(e20, t2, n2) {
  var r2 = t2.exports = function(e21, t3, n3) {
    typeof t3 == "function" && (n3 = t3, t3 = {}), i2(t3, typeof (n3 = t3.cb || n3) == "function" ? n3 : n3.pre || function() {
    }, n3.post || function() {
    }, e21, "", e21);
  };
  function i2(e21, t3, n3, o2, a2, s2, u2, c2, l2, f2) {
    if (o2 && zi(o2) == "object" && !Array.isArray(o2)) {
      for (var h2 in t3(o2, a2, s2, u2, c2, l2, f2), o2) {
        var d2 = o2[h2];
        if (Array.isArray(d2)) {
          if (h2 in r2.arrayKeywords)
            for (var v2 = 0; v2 < d2.length; v2++)
              i2(e21, t3, n3, d2[v2], a2 + "/" + h2 + "/" + v2, s2, a2, h2, o2, v2);
        } else if (h2 in r2.propsKeywords) {
          if (d2 && zi(d2) == "object")
            for (var p2 in d2)
              i2(e21, t3, n3, d2[p2], a2 + "/" + h2 + "/" + p2.replace(/~/g, "~0").replace(/\//g, "~1"), s2, a2, h2, o2, p2);
        } else
          (h2 in r2.keywords || e21.allKeys && !(h2 in r2.skipKeywords)) && i2(e21, t3, n3, d2, a2 + "/" + h2, s2, a2, h2, o2);
      }
      n3(o2, a2, s2, u2, c2, l2, f2);
    }
  }
  r2.keywords = { additionalItems: true, items: true, contains: true, additionalProperties: true, propertyNames: true, not: true, if: true, then: true, else: true }, r2.arrayKeywords = { items: true, allOf: true, anyOf: true, oneOf: true }, r2.propsKeywords = { $defs: true, definitions: true, properties: true, patternProperties: true, dependencies: true }, r2.skipKeywords = { default: true, enum: true, const: true, required: true, maximum: true, minimum: true, exclusiveMaximum: true, exclusiveMinimum: true, multipleOf: true, maxLength: true, minLength: true, pattern: true, format: true, maxItems: true, minItems: true, uniqueItems: true, maxProperties: true, minProperties: true };
}, {}], 65: [function(e20, t2, n2) {
  /** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
  !function(e21, r2) {
    r2(zi(n2) == "object" && t2 !== void 0 ? n2 : e21.URI = e21.URI || {});
  }(this, function(e21) {
    function t3() {
      for (var e22 = arguments.length, t4 = Array(e22), n4 = 0; n4 < e22; n4++)
        t4[n4] = arguments[n4];
      if (t4.length > 1) {
        t4[0] = t4[0].slice(0, -1);
        for (var r3 = t4.length - 1, i3 = 1; i3 < r3; ++i3)
          t4[i3] = t4[i3].slice(1, -1);
        return t4[r3] = t4[r3].slice(1), t4.join("");
      }
      return t4[0];
    }
    function n3(e22) {
      return "(?:" + e22 + ")";
    }
    function r2(e22) {
      return e22 === void 0 ? "undefined" : e22 === null ? "null" : Object.prototype.toString.call(e22).split(" ").pop().split("]").shift().toLowerCase();
    }
    function i2(e22) {
      return e22.toUpperCase();
    }
    function o2(e22) {
      var r3 = "[A-Za-z]", i3 = "[0-9]", o3 = t3(i3, "[A-Fa-f]"), a3 = n3(n3("%[EFef]" + o3 + "%" + o3 + o3 + "%" + o3 + o3) + "|" + n3("%[89A-Fa-f]" + o3 + "%" + o3 + o3) + "|" + n3("%" + o3 + o3)), s3 = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", u3 = t3("[\\:\\/\\?\\#\\[\\]\\@]", s3), c3 = e22 ? "[\\uE000-\\uF8FF]" : "[]", l3 = t3(r3, i3, "[\\-\\.\\_\\~]", e22 ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]");
      n3(r3 + t3(r3, i3, "[\\+\\-\\.]") + "*"), n3(n3(a3 + "|" + t3(l3, s3, "[\\:]")) + "*");
      var f3 = n3(n3("25[0-5]") + "|" + n3("2[0-4][0-9]") + "|" + n3("1[0-9][0-9]") + "|" + n3("0?[1-9][0-9]") + "|0?0?" + i3), h3 = n3(f3 + "\\." + f3 + "\\." + f3 + "\\." + f3), d3 = n3(o3 + "{1,4}"), v3 = n3(n3(d3 + "\\:" + d3) + "|" + h3), p3 = n3(n3(d3 + "\\:") + "{6}" + v3), m3 = n3("\\:\\:" + n3(d3 + "\\:") + "{5}" + v3), g3 = n3(n3(d3) + "?\\:\\:" + n3(d3 + "\\:") + "{4}" + v3), y3 = n3(n3(n3(d3 + "\\:") + "{0,1}" + d3) + "?\\:\\:" + n3(d3 + "\\:") + "{3}" + v3), b3 = n3(n3(n3(d3 + "\\:") + "{0,2}" + d3) + "?\\:\\:" + n3(d3 + "\\:") + "{2}" + v3), w3 = n3(n3(n3(d3 + "\\:") + "{0,3}" + d3) + "?\\:\\:" + d3 + "\\:" + v3), k3 = n3(n3(n3(d3 + "\\:") + "{0,4}" + d3) + "?\\:\\:" + v3), j3 = n3(n3(n3(d3 + "\\:") + "{0,5}" + d3) + "?\\:\\:" + d3), x3 = n3(n3(n3(d3 + "\\:") + "{0,6}" + d3) + "?\\:\\:"), S3 = n3([p3, m3, g3, y3, b3, w3, k3, j3, x3].join("|")), C3 = n3(n3(l3 + "|" + a3) + "+");
      n3("[vV]" + o3 + "+\\." + t3(l3, s3, "[\\:]") + "+"), n3(n3(a3 + "|" + t3(l3, s3)) + "*");
      var _3 = n3(a3 + "|" + t3(l3, s3, "[\\:\\@]"));
      return n3(n3(a3 + "|" + t3(l3, s3, "[\\@]")) + "+"), n3(n3(_3 + "|" + t3("[\\/\\?]", c3)) + "*"), { NOT_SCHEME: new RegExp(t3("[^]", r3, i3, "[\\+\\-\\.]"), "g"), NOT_USERINFO: new RegExp(t3("[^\\%\\:]", l3, s3), "g"), NOT_HOST: new RegExp(t3("[^\\%\\[\\]\\:]", l3, s3), "g"), NOT_PATH: new RegExp(t3("[^\\%\\/\\:\\@]", l3, s3), "g"), NOT_PATH_NOSCHEME: new RegExp(t3("[^\\%\\/\\@]", l3, s3), "g"), NOT_QUERY: new RegExp(t3("[^\\%]", l3, s3, "[\\:\\@\\/\\?]", c3), "g"), NOT_FRAGMENT: new RegExp(t3("[^\\%]", l3, s3, "[\\:\\@\\/\\?]"), "g"), ESCAPE: new RegExp(t3("[^]", l3, s3), "g"), UNRESERVED: new RegExp(l3, "g"), OTHER_CHARS: new RegExp(t3("[^\\%]", l3, u3), "g"), PCT_ENCODED: new RegExp(a3, "g"), IPV4ADDRESS: new RegExp("^(" + h3 + ")$"), IPV6ADDRESS: new RegExp("^\\[?(" + S3 + ")" + n3(n3("\\%25|\\%(?!" + o3 + "{2})") + "(" + C3 + ")") + "?\\]?$") };
    }
    var a2 = o2(false), s2 = o2(true), u2 = function(e22, t4) {
      if (Array.isArray(e22))
        return e22;
      if (Symbol.iterator in Object(e22))
        return function(e23, t5) {
          var n4 = [], r3 = true, i3 = false, o3 = void 0;
          try {
            for (var a3, s3 = e23[Symbol.iterator](); !(r3 = (a3 = s3.next()).done) && (n4.push(a3.value), !t5 || n4.length !== t5); r3 = true)
              ;
          } catch (e24) {
            i3 = true, o3 = e24;
          } finally {
            try {
              !r3 && s3.return && s3.return();
            } finally {
              if (i3)
                throw o3;
            }
          }
          return n4;
        }(e22, t4);
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }, c2 = 2147483647, l2 = 36, f2 = /^xn--/, h2 = /[^\0-\x7E]/, d2 = /[\x2E\u3002\uFF0E\uFF61]/g, v2 = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, p2 = Math.floor, m2 = String.fromCharCode;
    function g2(e22) {
      throw new RangeError(v2[e22]);
    }
    function y2(e22, t4) {
      var n4 = e22.split("@"), r3 = "";
      n4.length > 1 && (r3 = n4[0] + "@", e22 = n4[1]);
      var i3 = function(e23, t5) {
        for (var n5 = [], r4 = e23.length; r4--; )
          n5[r4] = t5(e23[r4]);
        return n5;
      }((e22 = e22.replace(d2, ".")).split("."), t4).join(".");
      return r3 + i3;
    }
    function b2(e22) {
      for (var t4 = [], n4 = 0, r3 = e22.length; n4 < r3; ) {
        var i3 = e22.charCodeAt(n4++);
        if (i3 >= 55296 && i3 <= 56319 && n4 < r3) {
          var o3 = e22.charCodeAt(n4++);
          (64512 & o3) == 56320 ? t4.push(((1023 & i3) << 10) + (1023 & o3) + 65536) : (t4.push(i3), n4--);
        } else
          t4.push(i3);
      }
      return t4;
    }
    var w2 = function(e22, t4) {
      return e22 + 22 + 75 * (e22 < 26) - ((t4 != 0) << 5);
    }, k2 = function(e22, t4, n4) {
      var r3 = 0;
      for (e22 = n4 ? p2(e22 / 700) : e22 >> 1, e22 += p2(e22 / t4); e22 > 455; r3 += l2)
        e22 = p2(e22 / 35);
      return p2(r3 + 36 * e22 / (e22 + 38));
    }, j2 = function(e22) {
      var t4, n4 = [], r3 = e22.length, i3 = 0, o3 = 128, a3 = 72, s3 = e22.lastIndexOf("-");
      s3 < 0 && (s3 = 0);
      for (var u3 = 0; u3 < s3; ++u3)
        e22.charCodeAt(u3) >= 128 && g2("not-basic"), n4.push(e22.charCodeAt(u3));
      for (var f3 = s3 > 0 ? s3 + 1 : 0; f3 < r3; ) {
        for (var h3 = i3, d3 = 1, v3 = l2; ; v3 += l2) {
          f3 >= r3 && g2("invalid-input");
          var m3 = (t4 = e22.charCodeAt(f3++)) - 48 < 10 ? t4 - 22 : t4 - 65 < 26 ? t4 - 65 : t4 - 97 < 26 ? t4 - 97 : l2;
          (m3 >= l2 || m3 > p2((c2 - i3) / d3)) && g2("overflow"), i3 += m3 * d3;
          var y3 = v3 <= a3 ? 1 : v3 >= a3 + 26 ? 26 : v3 - a3;
          if (m3 < y3)
            break;
          var b3 = l2 - y3;
          d3 > p2(c2 / b3) && g2("overflow"), d3 *= b3;
        }
        var w3 = n4.length + 1;
        a3 = k2(i3 - h3, w3, h3 == 0), p2(i3 / w3) > c2 - o3 && g2("overflow"), o3 += p2(i3 / w3), i3 %= w3, n4.splice(i3++, 0, o3);
      }
      return String.fromCodePoint.apply(String, n4);
    }, x2 = function(e22) {
      var t4 = [], n4 = (e22 = b2(e22)).length, r3 = 128, i3 = 0, o3 = 72, a3 = true, s3 = false, u3 = void 0;
      try {
        for (var f3, h3 = e22[Symbol.iterator](); !(a3 = (f3 = h3.next()).done); a3 = true) {
          var d3 = f3.value;
          d3 < 128 && t4.push(m2(d3));
        }
      } catch (e23) {
        s3 = true, u3 = e23;
      } finally {
        try {
          !a3 && h3.return && h3.return();
        } finally {
          if (s3)
            throw u3;
        }
      }
      var v3 = t4.length, y3 = v3;
      for (v3 && t4.push("-"); y3 < n4; ) {
        var j3 = c2, x3 = true, S3 = false, C3 = void 0;
        try {
          for (var _3, $3 = e22[Symbol.iterator](); !(x3 = (_3 = $3.next()).done); x3 = true) {
            var O3 = _3.value;
            O3 >= r3 && O3 < j3 && (j3 = O3);
          }
        } catch (e23) {
          S3 = true, C3 = e23;
        } finally {
          try {
            !x3 && $3.return && $3.return();
          } finally {
            if (S3)
              throw C3;
          }
        }
        var P3 = y3 + 1;
        j3 - r3 > p2((c2 - i3) / P3) && g2("overflow"), i3 += (j3 - r3) * P3, r3 = j3;
        var A3 = true, E3 = false, M3 = void 0;
        try {
          for (var T3, I3 = e22[Symbol.iterator](); !(A3 = (T3 = I3.next()).done); A3 = true) {
            var N3 = T3.value;
            if (N3 < r3 && ++i3 > c2 && g2("overflow"), N3 == r3) {
              for (var R3 = i3, D3 = l2; ; D3 += l2) {
                var L3 = D3 <= o3 ? 1 : D3 >= o3 + 26 ? 26 : D3 - o3;
                if (R3 < L3)
                  break;
                var z3 = R3 - L3, B3 = l2 - L3;
                t4.push(m2(w2(L3 + z3 % B3, 0))), R3 = p2(z3 / B3);
              }
              t4.push(m2(w2(R3, 0))), o3 = k2(i3, P3, y3 == v3), i3 = 0, ++y3;
            }
          }
        } catch (e23) {
          E3 = true, M3 = e23;
        } finally {
          try {
            !A3 && I3.return && I3.return();
          } finally {
            if (E3)
              throw M3;
          }
        }
        ++i3, ++r3;
      }
      return t4.join("");
    }, S2 = function(e22) {
      return y2(e22, function(e23) {
        return h2.test(e23) ? "xn--" + x2(e23) : e23;
      });
    }, C2 = function(e22) {
      return y2(e22, function(e23) {
        return f2.test(e23) ? j2(e23.slice(4).toLowerCase()) : e23;
      });
    }, _2 = {};
    function $2(e22) {
      var t4 = e22.charCodeAt(0);
      return t4 < 16 ? "%0" + t4.toString(16).toUpperCase() : t4 < 128 ? "%" + t4.toString(16).toUpperCase() : t4 < 2048 ? "%" + (t4 >> 6 | 192).toString(16).toUpperCase() + "%" + (63 & t4 | 128).toString(16).toUpperCase() : "%" + (t4 >> 12 | 224).toString(16).toUpperCase() + "%" + (t4 >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (63 & t4 | 128).toString(16).toUpperCase();
    }
    function O2(e22) {
      for (var t4 = "", n4 = 0, r3 = e22.length; n4 < r3; ) {
        var i3 = parseInt(e22.substr(n4 + 1, 2), 16);
        if (i3 < 128)
          t4 += String.fromCharCode(i3), n4 += 3;
        else if (i3 >= 194 && i3 < 224) {
          if (r3 - n4 >= 6) {
            var o3 = parseInt(e22.substr(n4 + 4, 2), 16);
            t4 += String.fromCharCode((31 & i3) << 6 | 63 & o3);
          } else
            t4 += e22.substr(n4, 6);
          n4 += 6;
        } else if (i3 >= 224) {
          if (r3 - n4 >= 9) {
            var a3 = parseInt(e22.substr(n4 + 4, 2), 16), s3 = parseInt(e22.substr(n4 + 7, 2), 16);
            t4 += String.fromCharCode((15 & i3) << 12 | (63 & a3) << 6 | 63 & s3);
          } else
            t4 += e22.substr(n4, 9);
          n4 += 9;
        } else
          t4 += e22.substr(n4, 3), n4 += 3;
      }
      return t4;
    }
    function P2(e22, t4) {
      function n4(e23) {
        var n5 = O2(e23);
        return n5.match(t4.UNRESERVED) ? n5 : e23;
      }
      return e22.scheme && (e22.scheme = String(e22.scheme).replace(t4.PCT_ENCODED, n4).toLowerCase().replace(t4.NOT_SCHEME, "")), e22.userinfo !== void 0 && (e22.userinfo = String(e22.userinfo).replace(t4.PCT_ENCODED, n4).replace(t4.NOT_USERINFO, $2).replace(t4.PCT_ENCODED, i2)), e22.host !== void 0 && (e22.host = String(e22.host).replace(t4.PCT_ENCODED, n4).toLowerCase().replace(t4.NOT_HOST, $2).replace(t4.PCT_ENCODED, i2)), e22.path !== void 0 && (e22.path = String(e22.path).replace(t4.PCT_ENCODED, n4).replace(e22.scheme ? t4.NOT_PATH : t4.NOT_PATH_NOSCHEME, $2).replace(t4.PCT_ENCODED, i2)), e22.query !== void 0 && (e22.query = String(e22.query).replace(t4.PCT_ENCODED, n4).replace(t4.NOT_QUERY, $2).replace(t4.PCT_ENCODED, i2)), e22.fragment !== void 0 && (e22.fragment = String(e22.fragment).replace(t4.PCT_ENCODED, n4).replace(t4.NOT_FRAGMENT, $2).replace(t4.PCT_ENCODED, i2)), e22;
    }
    function A2(e22) {
      return e22.replace(/^0*(.*)/, "$1") || "0";
    }
    function E2(e22, t4) {
      var n4 = e22.match(t4.IPV4ADDRESS) || [], r3 = u2(n4, 2)[1];
      return r3 ? r3.split(".").map(A2).join(".") : e22;
    }
    function M2(e22, t4) {
      var n4 = e22.match(t4.IPV6ADDRESS) || [], r3 = u2(n4, 3), i3 = r3[1], o3 = r3[2];
      if (i3) {
        for (var a3 = i3.toLowerCase().split("::").reverse(), s3 = u2(a3, 2), c3 = s3[0], l3 = s3[1], f3 = l3 ? l3.split(":").map(A2) : [], h3 = c3.split(":").map(A2), d3 = t4.IPV4ADDRESS.test(h3[h3.length - 1]), v3 = d3 ? 7 : 8, p3 = h3.length - v3, m3 = Array(v3), g3 = 0; g3 < v3; ++g3)
          m3[g3] = f3[g3] || h3[p3 + g3] || "";
        d3 && (m3[v3 - 1] = E2(m3[v3 - 1], t4));
        var y3 = m3.reduce(function(e23, t5, n5) {
          if (!t5 || t5 === "0") {
            var r4 = e23[e23.length - 1];
            r4 && r4.index + r4.length === n5 ? r4.length++ : e23.push({ index: n5, length: 1 });
          }
          return e23;
        }, []).sort(function(e23, t5) {
          return t5.length - e23.length;
        })[0], b3 = void 0;
        if (y3 && y3.length > 1) {
          var w3 = m3.slice(0, y3.index), k3 = m3.slice(y3.index + y3.length);
          b3 = w3.join(":") + "::" + k3.join(":");
        } else
          b3 = m3.join(":");
        return o3 && (b3 += "%" + o3), b3;
      }
      return e22;
    }
    var T2 = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i, I2 = "".match(/(){0}/)[1] === void 0;
    function N2(e22) {
      var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n4 = {}, r3 = t4.iri !== false ? s2 : a2;
      t4.reference === "suffix" && (e22 = (t4.scheme ? t4.scheme + ":" : "") + "//" + e22);
      var i3 = e22.match(T2);
      if (i3) {
        I2 ? (n4.scheme = i3[1], n4.userinfo = i3[3], n4.host = i3[4], n4.port = parseInt(i3[5], 10), n4.path = i3[6] || "", n4.query = i3[7], n4.fragment = i3[8], isNaN(n4.port) && (n4.port = i3[5])) : (n4.scheme = i3[1] || void 0, n4.userinfo = e22.indexOf("@") !== -1 ? i3[3] : void 0, n4.host = e22.indexOf("//") !== -1 ? i3[4] : void 0, n4.port = parseInt(i3[5], 10), n4.path = i3[6] || "", n4.query = e22.indexOf("?") !== -1 ? i3[7] : void 0, n4.fragment = e22.indexOf("#") !== -1 ? i3[8] : void 0, isNaN(n4.port) && (n4.port = e22.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? i3[4] : void 0)), n4.host && (n4.host = M2(E2(n4.host, r3), r3)), n4.reference = n4.scheme !== void 0 || n4.userinfo !== void 0 || n4.host !== void 0 || n4.port !== void 0 || n4.path || n4.query !== void 0 ? n4.scheme === void 0 ? "relative" : n4.fragment === void 0 ? "absolute" : "uri" : "same-document", t4.reference && t4.reference !== "suffix" && t4.reference !== n4.reference && (n4.error = n4.error || "URI is not a " + t4.reference + " reference.");
        var o3 = _2[(t4.scheme || n4.scheme || "").toLowerCase()];
        if (t4.unicodeSupport || o3 && o3.unicodeSupport)
          P2(n4, r3);
        else {
          if (n4.host && (t4.domainHost || o3 && o3.domainHost))
            try {
              n4.host = S2(n4.host.replace(r3.PCT_ENCODED, O2).toLowerCase());
            } catch (e23) {
              n4.error = n4.error || "Host's domain name can not be converted to ASCII via punycode: " + e23;
            }
          P2(n4, a2);
        }
        o3 && o3.parse && o3.parse(n4, t4);
      } else
        n4.error = n4.error || "URI can not be parsed.";
      return n4;
    }
    function R2(e22, t4) {
      var n4 = t4.iri !== false ? s2 : a2, r3 = [];
      return e22.userinfo !== void 0 && (r3.push(e22.userinfo), r3.push("@")), e22.host !== void 0 && r3.push(M2(E2(String(e22.host), n4), n4).replace(n4.IPV6ADDRESS, function(e23, t5, n5) {
        return "[" + t5 + (n5 ? "%25" + n5 : "") + "]";
      })), typeof e22.port != "number" && typeof e22.port != "string" || (r3.push(":"), r3.push(String(e22.port))), r3.length ? r3.join("") : void 0;
    }
    var D2 = /^\.\.?\//, L2 = /^\/\.(\/|$)/, z2 = /^\/\.\.(\/|$)/, B2 = /^\/?(?:.|\n)*?(?=\/|$)/;
    function q2(e22) {
      for (var t4 = []; e22.length; )
        if (e22.match(D2))
          e22 = e22.replace(D2, "");
        else if (e22.match(L2))
          e22 = e22.replace(L2, "/");
        else if (e22.match(z2))
          e22 = e22.replace(z2, "/"), t4.pop();
        else if (e22 === "." || e22 === "..")
          e22 = "";
        else {
          var n4 = e22.match(B2);
          if (!n4)
            throw new Error("Unexpected dot segment condition");
          var r3 = n4[0];
          e22 = e22.slice(r3.length), t4.push(r3);
        }
      return t4.join("");
    }
    function F2(e22) {
      var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n4 = t4.iri ? s2 : a2, r3 = [], i3 = _2[(t4.scheme || e22.scheme || "").toLowerCase()];
      if (i3 && i3.serialize && i3.serialize(e22, t4), e22.host) {
        if (n4.IPV6ADDRESS.test(e22.host))
          ;
        else if (t4.domainHost || i3 && i3.domainHost)
          try {
            e22.host = t4.iri ? C2(e22.host) : S2(e22.host.replace(n4.PCT_ENCODED, O2).toLowerCase());
          } catch (n5) {
            e22.error = e22.error || "Host's domain name can not be converted to " + (t4.iri ? "Unicode" : "ASCII") + " via punycode: " + n5;
          }
      }
      P2(e22, n4), t4.reference !== "suffix" && e22.scheme && (r3.push(e22.scheme), r3.push(":"));
      var o3 = R2(e22, t4);
      if (o3 !== void 0 && (t4.reference !== "suffix" && r3.push("//"), r3.push(o3), e22.path && e22.path.charAt(0) !== "/" && r3.push("/")), e22.path !== void 0) {
        var u3 = e22.path;
        t4.absolutePath || i3 && i3.absolutePath || (u3 = q2(u3)), o3 === void 0 && (u3 = u3.replace(/^\/\//, "/%2F")), r3.push(u3);
      }
      return e22.query !== void 0 && (r3.push("?"), r3.push(e22.query)), e22.fragment !== void 0 && (r3.push("#"), r3.push(e22.fragment)), r3.join("");
    }
    function V2(e22, t4) {
      var n4 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, r3 = {};
      return arguments[3] || (e22 = N2(F2(e22, n4), n4), t4 = N2(F2(t4, n4), n4)), !(n4 = n4 || {}).tolerant && t4.scheme ? (r3.scheme = t4.scheme, r3.userinfo = t4.userinfo, r3.host = t4.host, r3.port = t4.port, r3.path = q2(t4.path || ""), r3.query = t4.query) : (t4.userinfo !== void 0 || t4.host !== void 0 || t4.port !== void 0 ? (r3.userinfo = t4.userinfo, r3.host = t4.host, r3.port = t4.port, r3.path = q2(t4.path || ""), r3.query = t4.query) : (t4.path ? (t4.path.charAt(0) === "/" ? r3.path = q2(t4.path) : (r3.path = e22.userinfo === void 0 && e22.host === void 0 && e22.port === void 0 || e22.path ? e22.path ? e22.path.slice(0, e22.path.lastIndexOf("/") + 1) + t4.path : t4.path : "/" + t4.path, r3.path = q2(r3.path)), r3.query = t4.query) : (r3.path = e22.path, r3.query = t4.query !== void 0 ? t4.query : e22.query), r3.userinfo = e22.userinfo, r3.host = e22.host, r3.port = e22.port), r3.scheme = e22.scheme), r3.fragment = t4.fragment, r3;
    }
    function H2(e22, t4) {
      return e22 && e22.toString().replace(t4 && t4.iri ? s2.PCT_ENCODED : a2.PCT_ENCODED, O2);
    }
    var W2 = { scheme: "http", domainHost: true, parse: function(e22, t4) {
      return e22.host || (e22.error = e22.error || "HTTP URIs must have a host."), e22;
    }, serialize: function(e22, t4) {
      var n4 = String(e22.scheme).toLowerCase() === "https";
      return e22.port !== (n4 ? 443 : 80) && e22.port !== "" || (e22.port = void 0), e22.path || (e22.path = "/"), e22;
    } }, U2 = { scheme: "https", domainHost: W2.domainHost, parse: W2.parse, serialize: W2.serialize };
    function J2(e22) {
      return typeof e22.secure == "boolean" ? e22.secure : String(e22.scheme).toLowerCase() === "wss";
    }
    var K2 = { scheme: "ws", domainHost: true, parse: function(e22, t4) {
      var n4 = e22;
      return n4.secure = J2(n4), n4.resourceName = (n4.path || "/") + (n4.query ? "?" + n4.query : ""), n4.path = void 0, n4.query = void 0, n4;
    }, serialize: function(e22, t4) {
      if (e22.port !== (J2(e22) ? 443 : 80) && e22.port !== "" || (e22.port = void 0), typeof e22.secure == "boolean" && (e22.scheme = e22.secure ? "wss" : "ws", e22.secure = void 0), e22.resourceName) {
        var n4 = e22.resourceName.split("?"), r3 = u2(n4, 2), i3 = r3[0], o3 = r3[1];
        e22.path = i3 && i3 !== "/" ? i3 : void 0, e22.query = o3, e22.resourceName = void 0;
      }
      return e22.fragment = void 0, e22;
    } }, G2 = { scheme: "wss", domainHost: K2.domainHost, parse: K2.parse, serialize: K2.serialize }, Q2 = {}, Y2 = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]", Z2 = "[0-9A-Fa-f]", X2 = n3(n3("%[EFef][0-9A-Fa-f]%" + Z2 + Z2 + "%" + Z2 + Z2) + "|" + n3("%[89A-Fa-f][0-9A-Fa-f]%" + Z2 + Z2) + "|" + n3("%" + Z2 + Z2)), ee2 = t3("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", '[\\"\\\\]'), te2 = new RegExp(Y2, "g"), ne2 = new RegExp(X2, "g"), re2 = new RegExp(t3("[^]", "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", "[\\.]", '[\\"]', ee2), "g"), ie2 = new RegExp(t3("[^]", Y2, "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"), "g"), oe2 = ie2;
    function ae2(e22) {
      var t4 = O2(e22);
      return t4.match(te2) ? t4 : e22;
    }
    var se2 = { scheme: "mailto", parse: function(e22, t4) {
      var n4 = e22, r3 = n4.to = n4.path ? n4.path.split(",") : [];
      if (n4.path = void 0, n4.query) {
        for (var i3 = false, o3 = {}, a3 = n4.query.split("&"), s3 = 0, u3 = a3.length; s3 < u3; ++s3) {
          var c3 = a3[s3].split("=");
          switch (c3[0]) {
            case "to":
              for (var l3 = c3[1].split(","), f3 = 0, h3 = l3.length; f3 < h3; ++f3)
                r3.push(l3[f3]);
              break;
            case "subject":
              n4.subject = H2(c3[1], t4);
              break;
            case "body":
              n4.body = H2(c3[1], t4);
              break;
            default:
              i3 = true, o3[H2(c3[0], t4)] = H2(c3[1], t4);
          }
        }
        i3 && (n4.headers = o3);
      }
      n4.query = void 0;
      for (var d3 = 0, v3 = r3.length; d3 < v3; ++d3) {
        var p3 = r3[d3].split("@");
        if (p3[0] = H2(p3[0]), t4.unicodeSupport)
          p3[1] = H2(p3[1], t4).toLowerCase();
        else
          try {
            p3[1] = S2(H2(p3[1], t4).toLowerCase());
          } catch (e23) {
            n4.error = n4.error || "Email address's domain name can not be converted to ASCII via punycode: " + e23;
          }
        r3[d3] = p3.join("@");
      }
      return n4;
    }, serialize: function(e22, t4) {
      var n4, r3 = e22, o3 = (n4 = e22.to) != null ? n4 instanceof Array ? n4 : typeof n4.length != "number" || n4.split || n4.setInterval || n4.call ? [n4] : Array.prototype.slice.call(n4) : [];
      if (o3) {
        for (var a3 = 0, s3 = o3.length; a3 < s3; ++a3) {
          var u3 = String(o3[a3]), c3 = u3.lastIndexOf("@"), l3 = u3.slice(0, c3).replace(ne2, ae2).replace(ne2, i2).replace(re2, $2), f3 = u3.slice(c3 + 1);
          try {
            f3 = t4.iri ? C2(f3) : S2(H2(f3, t4).toLowerCase());
          } catch (e23) {
            r3.error = r3.error || "Email address's domain name can not be converted to " + (t4.iri ? "Unicode" : "ASCII") + " via punycode: " + e23;
          }
          o3[a3] = l3 + "@" + f3;
        }
        r3.path = o3.join(",");
      }
      var h3 = e22.headers = e22.headers || {};
      e22.subject && (h3.subject = e22.subject), e22.body && (h3.body = e22.body);
      var d3 = [];
      for (var v3 in h3)
        h3[v3] !== Q2[v3] && d3.push(v3.replace(ne2, ae2).replace(ne2, i2).replace(ie2, $2) + "=" + h3[v3].replace(ne2, ae2).replace(ne2, i2).replace(oe2, $2));
      return d3.length && (r3.query = d3.join("&")), r3;
    } }, ue2 = /^([^\:]+)\:(.*)/, ce2 = { scheme: "urn", parse: function(e22, t4) {
      var n4 = e22.path && e22.path.match(ue2), r3 = e22;
      if (n4) {
        var i3 = t4.scheme || r3.scheme || "urn", o3 = n4[1].toLowerCase(), a3 = n4[2], s3 = _2[i3 + ":" + (t4.nid || o3)];
        r3.nid = o3, r3.nss = a3, r3.path = void 0, s3 && (r3 = s3.parse(r3, t4));
      } else
        r3.error = r3.error || "URN can not be parsed.";
      return r3;
    }, serialize: function(e22, t4) {
      var n4 = e22.nid, r3 = _2[(t4.scheme || e22.scheme || "urn") + ":" + (t4.nid || n4)];
      r3 && (e22 = r3.serialize(e22, t4));
      var i3 = e22;
      return i3.path = (n4 || t4.nid) + ":" + e22.nss, i3;
    } }, le2 = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/, fe2 = { scheme: "urn:uuid", parse: function(e22, t4) {
      var n4 = e22;
      return n4.uuid = n4.nss, n4.nss = void 0, t4.tolerant || n4.uuid && n4.uuid.match(le2) || (n4.error = n4.error || "UUID is not valid."), n4;
    }, serialize: function(e22, t4) {
      var n4 = e22;
      return n4.nss = (e22.uuid || "").toLowerCase(), n4;
    } };
    _2[W2.scheme] = W2, _2[U2.scheme] = U2, _2[K2.scheme] = K2, _2[G2.scheme] = G2, _2[se2.scheme] = se2, _2[ce2.scheme] = ce2, _2[fe2.scheme] = fe2, e21.SCHEMES = _2, e21.pctEncChar = $2, e21.pctDecChars = O2, e21.parse = N2, e21.removeDotSegments = q2, e21.serialize = F2, e21.resolveComponents = V2, e21.resolve = function(e22, t4, n4) {
      var r3 = function(e23, t5) {
        var n5 = { scheme: "null" };
        if (t5)
          for (var r4 in t5)
            n5[r4] = t5[r4];
        return n5;
      }(0, n4);
      return F2(V2(N2(e22, r3), N2(t4, r3), r3, true), r3);
    }, e21.normalize = function(e22, t4) {
      return typeof e22 == "string" ? e22 = F2(N2(e22, t4), t4) : r2(e22) === "object" && (e22 = N2(F2(e22, t4), t4)), e22;
    }, e21.equal = function(e22, t4, n4) {
      return typeof e22 == "string" ? e22 = F2(N2(e22, n4), n4) : r2(e22) === "object" && (e22 = F2(e22, n4)), typeof t4 == "string" ? t4 = F2(N2(t4, n4), n4) : r2(t4) === "object" && (t4 = F2(t4, n4)), e22 === t4;
    }, e21.escapeComponent = function(e22, t4) {
      return e22 && e22.toString().replace(t4 && t4.iri ? s2.ESCAPE : a2.ESCAPE, $2);
    }, e21.unescapeComponent = H2, Object.defineProperty(e21, "__esModule", { value: true });
  });
}, {}], ajv: [function(e20, t2, n2) {
  Object.defineProperty(n2, "__esModule", { value: true }), n2.CodeGen = n2.Name = n2.nil = n2.stringify = n2.str = n2._ = n2.KeywordCxt = void 0;
  var r2 = e20("./core"), i2 = e20("./vocabularies/draft7"), o2 = e20("./vocabularies/discriminator"), a2 = e20("./refs/json-schema-draft-07.json"), s2 = ["/properties"], u2 = "http://json-schema.org/draft-07/schema", c2 = function(e21) {
    xi(n3, e21);
    var t3 = Ci(n3);
    function n3() {
      return Ri(this, n3), t3.apply(this, arguments);
    }
    return Li(n3, [{ key: "_addVocabularies", value: function() {
      var e22 = this;
      wi(Pi(n3.prototype), "_addVocabularies", this).call(this), i2.default.forEach(function(t4) {
        return e22.addVocabulary(t4);
      }), this.opts.discriminator && this.addKeyword(o2.default);
    } }, { key: "_addDefaultMetaSchema", value: function() {
      if (wi(Pi(n3.prototype), "_addDefaultMetaSchema", this).call(this), this.opts.meta) {
        var e22 = this.opts.$data ? this.$dataMetaSchema(a2, s2) : a2;
        this.addMetaSchema(e22, u2, false), this.refs["http://json-schema.org/schema"] = u2;
      }
    } }, { key: "defaultMeta", value: function() {
      return this.opts.defaultMeta = wi(Pi(n3.prototype), "defaultMeta", this).call(this) || (this.getSchema(u2) ? u2 : void 0);
    } }]), n3;
  }(r2.default);
  t2.exports = n2 = c2, Object.defineProperty(n2, "__esModule", { value: true }), n2.default = c2;
  var l2 = e20("./compile/validate");
  Object.defineProperty(n2, "KeywordCxt", { enumerable: true, get: function() {
    return l2.KeywordCxt;
  } });
  var f2 = e20("./compile/codegen");
  Object.defineProperty(n2, "_", { enumerable: true, get: function() {
    return f2._;
  } }), Object.defineProperty(n2, "str", { enumerable: true, get: function() {
    return f2.str;
  } }), Object.defineProperty(n2, "stringify", { enumerable: true, get: function() {
    return f2.stringify;
  } }), Object.defineProperty(n2, "nil", { enumerable: true, get: function() {
    return f2.nil;
  } }), Object.defineProperty(n2, "Name", { enumerable: true, get: function() {
    return f2.Name;
  } }), Object.defineProperty(n2, "CodeGen", { enumerable: true, get: function() {
    return f2.CodeGen;
  } });
}, { "./compile/codegen": 2, "./compile/validate": 15, "./core": 18, "./refs/json-schema-draft-07.json": 20, "./vocabularies/discriminator": 46, "./vocabularies/draft7": 48 }] }, {}, [])("ajv"));
var FJ = {};
!function(e20) {
  function t2(e21) {
    return e21 !== null && Object.prototype.toString.call(e21) === "[object Array]";
  }
  function n2(e21) {
    return e21 !== null && Object.prototype.toString.call(e21) === "[object Object]";
  }
  function r2(e21, i3) {
    if (e21 === i3)
      return true;
    if (Object.prototype.toString.call(e21) !== Object.prototype.toString.call(i3))
      return false;
    if (t2(e21) === true) {
      if (e21.length !== i3.length)
        return false;
      for (var o3 = 0; o3 < e21.length; o3++)
        if (r2(e21[o3], i3[o3]) === false)
          return false;
      return true;
    }
    if (n2(e21) === true) {
      var a3 = {};
      for (var s3 in e21)
        if (hasOwnProperty.call(e21, s3)) {
          if (r2(e21[s3], i3[s3]) === false)
            return false;
          a3[s3] = true;
        }
      for (var u3 in i3)
        if (hasOwnProperty.call(i3, u3) && a3[u3] !== true)
          return false;
      return true;
    }
    return false;
  }
  function i2(e21) {
    if (e21 === "" || e21 === false || e21 === null)
      return true;
    if (t2(e21) && e21.length === 0)
      return true;
    if (n2(e21)) {
      for (var r3 in e21)
        if (e21.hasOwnProperty(r3))
          return false;
      return true;
    }
    return false;
  }
  var o2;
  o2 = typeof String.prototype.trimLeft == "function" ? function(e21) {
    return e21.trimLeft();
  } : function(e21) {
    return e21.match(/^\s*(.*)/)[1];
  };
  var a2 = 0, s2 = 2, u2 = { 0: "number", 1: "any", 2: "string", 3: "array", 4: "object", 5: "boolean", 6: "expression", 7: "null", 8: "Array<number>", 9: "Array<string>" }, c2 = "EOF", l2 = "UnquotedIdentifier", f2 = "QuotedIdentifier", h2 = "Rbracket", d2 = "Rparen", v2 = "Comma", p2 = "Colon", m2 = "Rbrace", g2 = "Number", y2 = "Current", b2 = "Expref", w2 = "Pipe", k2 = "Or", j2 = "And", x2 = "EQ", S2 = "GT", C2 = "LT", _2 = "GTE", $2 = "LTE", O2 = "NE", P2 = "Flatten", A2 = "Star", E2 = "Filter", M2 = "Dot", T2 = "Not", I2 = "Lbrace", N2 = "Lbracket", R2 = "Lparen", D2 = "Literal", L2 = { ".": M2, "*": A2, ",": v2, ":": p2, "{": I2, "}": m2, "]": h2, "(": R2, ")": d2, "@": y2 }, z2 = { "<": true, ">": true, "=": true, "!": true }, B2 = { " ": true, "	": true, "\n": true };
  function q2(e21) {
    return e21 >= "0" && e21 <= "9" || e21 === "-";
  }
  function F2() {
  }
  F2.prototype = { tokenize: function(e21) {
    var t3, n3, r3, i3, o3 = [];
    for (this._current = 0; this._current < e21.length; )
      if ((i3 = e21[this._current]) >= "a" && i3 <= "z" || i3 >= "A" && i3 <= "Z" || i3 === "_")
        t3 = this._current, n3 = this._consumeUnquotedIdentifier(e21), o3.push({ type: l2, value: n3, start: t3 });
      else if (L2[e21[this._current]] !== void 0)
        o3.push({ type: L2[e21[this._current]], value: e21[this._current], start: this._current }), this._current++;
      else if (q2(e21[this._current]))
        r3 = this._consumeNumber(e21), o3.push(r3);
      else if (e21[this._current] === "[")
        r3 = this._consumeLBracket(e21), o3.push(r3);
      else if (e21[this._current] === '"')
        t3 = this._current, n3 = this._consumeQuotedIdentifier(e21), o3.push({ type: f2, value: n3, start: t3 });
      else if (e21[this._current] === "'")
        t3 = this._current, n3 = this._consumeRawStringLiteral(e21), o3.push({ type: D2, value: n3, start: t3 });
      else if (e21[this._current] === "`") {
        t3 = this._current;
        var a3 = this._consumeLiteral(e21);
        o3.push({ type: D2, value: a3, start: t3 });
      } else if (z2[e21[this._current]] !== void 0)
        o3.push(this._consumeOperator(e21));
      else if (B2[e21[this._current]] !== void 0)
        this._current++;
      else if (e21[this._current] === "&")
        t3 = this._current, this._current++, e21[this._current] === "&" ? (this._current++, o3.push({ type: j2, value: "&&", start: t3 })) : o3.push({ type: b2, value: "&", start: t3 });
      else {
        if (e21[this._current] !== "|") {
          var s3 = new Error("Unknown character:" + e21[this._current]);
          throw s3.name = "LexerError", s3;
        }
        t3 = this._current, this._current++, e21[this._current] === "|" ? (this._current++, o3.push({ type: k2, value: "||", start: t3 })) : o3.push({ type: w2, value: "|", start: t3 });
      }
    return o3;
  }, _consumeUnquotedIdentifier: function(e21) {
    var t3, n3 = this._current;
    for (this._current++; this._current < e21.length && ((t3 = e21[this._current]) >= "a" && t3 <= "z" || t3 >= "A" && t3 <= "Z" || t3 >= "0" && t3 <= "9" || t3 === "_"); )
      this._current++;
    return e21.slice(n3, this._current);
  }, _consumeQuotedIdentifier: function(e21) {
    var t3 = this._current;
    this._current++;
    for (var n3 = e21.length; e21[this._current] !== '"' && this._current < n3; ) {
      var r3 = this._current;
      e21[r3] !== "\\" || e21[r3 + 1] !== "\\" && e21[r3 + 1] !== '"' ? r3++ : r3 += 2, this._current = r3;
    }
    return this._current++, JSON.parse(e21.slice(t3, this._current));
  }, _consumeRawStringLiteral: function(e21) {
    var t3 = this._current;
    this._current++;
    for (var n3 = e21.length; e21[this._current] !== "'" && this._current < n3; ) {
      var r3 = this._current;
      e21[r3] !== "\\" || e21[r3 + 1] !== "\\" && e21[r3 + 1] !== "'" ? r3++ : r3 += 2, this._current = r3;
    }
    return this._current++, e21.slice(t3 + 1, this._current - 1).replace("\\'", "'");
  }, _consumeNumber: function(e21) {
    var t3 = this._current;
    this._current++;
    for (var n3 = e21.length; q2(e21[this._current]) && this._current < n3; )
      this._current++;
    var r3 = parseInt(e21.slice(t3, this._current));
    return { type: g2, value: r3, start: t3 };
  }, _consumeLBracket: function(e21) {
    var t3 = this._current;
    return this._current++, e21[this._current] === "?" ? (this._current++, { type: E2, value: "[?", start: t3 }) : e21[this._current] === "]" ? (this._current++, { type: P2, value: "[]", start: t3 }) : { type: N2, value: "[", start: t3 };
  }, _consumeOperator: function(e21) {
    var t3 = this._current, n3 = e21[t3];
    return this._current++, n3 === "!" ? e21[this._current] === "=" ? (this._current++, { type: O2, value: "!=", start: t3 }) : { type: T2, value: "!", start: t3 } : n3 === "<" ? e21[this._current] === "=" ? (this._current++, { type: $2, value: "<=", start: t3 }) : { type: C2, value: "<", start: t3 } : n3 === ">" ? e21[this._current] === "=" ? (this._current++, { type: _2, value: ">=", start: t3 }) : { type: S2, value: ">", start: t3 } : n3 === "=" && e21[this._current] === "=" ? (this._current++, { type: x2, value: "==", start: t3 }) : void 0;
  }, _consumeLiteral: function(e21) {
    this._current++;
    for (var t3, n3 = this._current, r3 = e21.length; e21[this._current] !== "`" && this._current < r3; ) {
      var i3 = this._current;
      e21[i3] !== "\\" || e21[i3 + 1] !== "\\" && e21[i3 + 1] !== "`" ? i3++ : i3 += 2, this._current = i3;
    }
    var a3 = o2(e21.slice(n3, this._current));
    return a3 = a3.replace("\\`", "`"), t3 = this._looksLikeJSON(a3) ? JSON.parse(a3) : JSON.parse('"' + a3 + '"'), this._current++, t3;
  }, _looksLikeJSON: function(e21) {
    if (e21 === "")
      return false;
    if ('[{"'.indexOf(e21[0]) >= 0)
      return true;
    if (["true", "false", "null"].indexOf(e21) >= 0)
      return true;
    if (!("-0123456789".indexOf(e21[0]) >= 0))
      return false;
    try {
      return JSON.parse(e21), true;
    } catch (e22) {
      return false;
    }
  } };
  var V2 = {};
  function H2() {
  }
  function W2(e21) {
    this.runtime = e21;
  }
  function U2(e21) {
    this._interpreter = e21, this.functionTable = { abs: { _func: this._functionAbs, _signature: [{ types: [a2] }] }, avg: { _func: this._functionAvg, _signature: [{ types: [8] }] }, ceil: { _func: this._functionCeil, _signature: [{ types: [a2] }] }, contains: { _func: this._functionContains, _signature: [{ types: [s2, 3] }, { types: [1] }] }, ends_with: { _func: this._functionEndsWith, _signature: [{ types: [s2] }, { types: [s2] }] }, floor: { _func: this._functionFloor, _signature: [{ types: [a2] }] }, length: { _func: this._functionLength, _signature: [{ types: [s2, 3, 4] }] }, map: { _func: this._functionMap, _signature: [{ types: [6] }, { types: [3] }] }, max: { _func: this._functionMax, _signature: [{ types: [8, 9] }] }, merge: { _func: this._functionMerge, _signature: [{ types: [4], variadic: true }] }, max_by: { _func: this._functionMaxBy, _signature: [{ types: [3] }, { types: [6] }] }, sum: { _func: this._functionSum, _signature: [{ types: [8] }] }, starts_with: { _func: this._functionStartsWith, _signature: [{ types: [s2] }, { types: [s2] }] }, min: { _func: this._functionMin, _signature: [{ types: [8, 9] }] }, min_by: { _func: this._functionMinBy, _signature: [{ types: [3] }, { types: [6] }] }, type: { _func: this._functionType, _signature: [{ types: [1] }] }, keys: { _func: this._functionKeys, _signature: [{ types: [4] }] }, values: { _func: this._functionValues, _signature: [{ types: [4] }] }, sort: { _func: this._functionSort, _signature: [{ types: [9, 8] }] }, sort_by: { _func: this._functionSortBy, _signature: [{ types: [3] }, { types: [6] }] }, join: { _func: this._functionJoin, _signature: [{ types: [s2] }, { types: [9] }] }, reverse: { _func: this._functionReverse, _signature: [{ types: [s2, 3] }] }, to_array: { _func: this._functionToArray, _signature: [{ types: [1] }] }, to_string: { _func: this._functionToString, _signature: [{ types: [1] }] }, to_number: { _func: this._functionToNumber, _signature: [{ types: [1] }] }, not_null: { _func: this._functionNotNull, _signature: [{ types: [1], variadic: true }] } };
  }
  V2.EOF = 0, V2.UnquotedIdentifier = 0, V2.QuotedIdentifier = 0, V2.Rbracket = 0, V2.Rparen = 0, V2.Comma = 0, V2.Rbrace = 0, V2.Number = 0, V2.Current = 0, V2.Expref = 0, V2.Pipe = 1, V2.Or = 2, V2.And = 3, V2.EQ = 5, V2.GT = 5, V2.LT = 5, V2.GTE = 5, V2.LTE = 5, V2.NE = 5, V2.Flatten = 9, V2.Star = 20, V2.Filter = 21, V2.Dot = 40, V2.Not = 45, V2.Lbrace = 50, V2.Lbracket = 55, V2.Lparen = 60, H2.prototype = { parse: function(e21) {
    this._loadTokens(e21), this.index = 0;
    var t3 = this.expression(0);
    if (this._lookahead(0) !== c2) {
      var n3 = this._lookaheadToken(0), r3 = new Error("Unexpected token type: " + n3.type + ", value: " + n3.value);
      throw r3.name = "ParserError", r3;
    }
    return t3;
  }, _loadTokens: function(e21) {
    var t3 = new F2().tokenize(e21);
    t3.push({ type: c2, value: "", start: e21.length }), this.tokens = t3;
  }, expression: function(e21) {
    var t3 = this._lookaheadToken(0);
    this._advance();
    for (var n3 = this.nud(t3), r3 = this._lookahead(0); e21 < V2[r3]; )
      this._advance(), n3 = this.led(r3, n3), r3 = this._lookahead(0);
    return n3;
  }, _lookahead: function(e21) {
    return this.tokens[this.index + e21].type;
  }, _lookaheadToken: function(e21) {
    return this.tokens[this.index + e21];
  }, _advance: function() {
    this.index++;
  }, nud: function(e21) {
    var t3, n3;
    switch (e21.type) {
      case D2:
        return { type: "Literal", value: e21.value };
      case l2:
        return { type: "Field", name: e21.value };
      case f2:
        var r3 = { type: "Field", name: e21.value };
        if (this._lookahead(0) === R2)
          throw new Error("Quoted identifier not allowed for function names.");
        return r3;
      case T2:
        return { type: "NotExpression", children: [t3 = this.expression(V2.Not)] };
      case A2:
        return t3 = null, { type: "ValueProjection", children: [{ type: "Identity" }, t3 = this._lookahead(0) === h2 ? { type: "Identity" } : this._parseProjectionRHS(V2.Star)] };
      case E2:
        return this.led(e21.type, { type: "Identity" });
      case I2:
        return this._parseMultiselectHash();
      case P2:
        return { type: "Projection", children: [{ type: P2, children: [{ type: "Identity" }] }, t3 = this._parseProjectionRHS(V2.Flatten)] };
      case N2:
        return this._lookahead(0) === g2 || this._lookahead(0) === p2 ? (t3 = this._parseIndexExpression(), this._projectIfSlice({ type: "Identity" }, t3)) : this._lookahead(0) === A2 && this._lookahead(1) === h2 ? (this._advance(), this._advance(), { type: "Projection", children: [{ type: "Identity" }, t3 = this._parseProjectionRHS(V2.Star)] }) : this._parseMultiselectList();
      case y2:
        return { type: y2 };
      case b2:
        return { type: "ExpressionReference", children: [n3 = this.expression(V2.Expref)] };
      case R2:
        for (var i3 = []; this._lookahead(0) !== d2; )
          this._lookahead(0) === y2 ? (n3 = { type: y2 }, this._advance()) : n3 = this.expression(0), i3.push(n3);
        return this._match(d2), i3[0];
      default:
        this._errorToken(e21);
    }
  }, led: function(e21, t3) {
    var n3;
    switch (e21) {
      case M2:
        var r3 = V2.Dot;
        return this._lookahead(0) !== A2 ? { type: "Subexpression", children: [t3, n3 = this._parseDotRHS(r3)] } : (this._advance(), { type: "ValueProjection", children: [t3, n3 = this._parseProjectionRHS(r3)] });
      case w2:
        return n3 = this.expression(V2.Pipe), { type: w2, children: [t3, n3] };
      case k2:
        return { type: "OrExpression", children: [t3, n3 = this.expression(V2.Or)] };
      case j2:
        return { type: "AndExpression", children: [t3, n3 = this.expression(V2.And)] };
      case R2:
        for (var i3, o3 = t3.name, a3 = []; this._lookahead(0) !== d2; )
          this._lookahead(0) === y2 ? (i3 = { type: y2 }, this._advance()) : i3 = this.expression(0), this._lookahead(0) === v2 && this._match(v2), a3.push(i3);
        return this._match(d2), { type: "Function", name: o3, children: a3 };
      case E2:
        var s3 = this.expression(0);
        return this._match(h2), { type: "FilterProjection", children: [t3, n3 = this._lookahead(0) === P2 ? { type: "Identity" } : this._parseProjectionRHS(V2.Filter), s3] };
      case P2:
        return { type: "Projection", children: [{ type: P2, children: [t3] }, this._parseProjectionRHS(V2.Flatten)] };
      case x2:
      case O2:
      case S2:
      case _2:
      case C2:
      case $2:
        return this._parseComparator(t3, e21);
      case N2:
        var u3 = this._lookaheadToken(0);
        return u3.type === g2 || u3.type === p2 ? (n3 = this._parseIndexExpression(), this._projectIfSlice(t3, n3)) : (this._match(A2), this._match(h2), { type: "Projection", children: [t3, n3 = this._parseProjectionRHS(V2.Star)] });
      default:
        this._errorToken(this._lookaheadToken(0));
    }
  }, _match: function(e21) {
    if (this._lookahead(0) !== e21) {
      var t3 = this._lookaheadToken(0), n3 = new Error("Expected " + e21 + ", got: " + t3.type);
      throw n3.name = "ParserError", n3;
    }
    this._advance();
  }, _errorToken: function(e21) {
    var t3 = new Error("Invalid token (" + e21.type + '): "' + e21.value + '"');
    throw t3.name = "ParserError", t3;
  }, _parseIndexExpression: function() {
    if (this._lookahead(0) === p2 || this._lookahead(1) === p2)
      return this._parseSliceExpression();
    var e21 = { type: "Index", value: this._lookaheadToken(0).value };
    return this._advance(), this._match(h2), e21;
  }, _projectIfSlice: function(e21, t3) {
    var n3 = { type: "IndexExpression", children: [e21, t3] };
    return t3.type === "Slice" ? { type: "Projection", children: [n3, this._parseProjectionRHS(V2.Star)] } : n3;
  }, _parseSliceExpression: function() {
    for (var e21 = [null, null, null], t3 = 0, n3 = this._lookahead(0); n3 !== h2 && t3 < 3; ) {
      if (n3 === p2)
        t3++, this._advance();
      else {
        if (n3 !== g2) {
          var r3 = this._lookahead(0), i3 = new Error("Syntax error, unexpected token: " + r3.value + "(" + r3.type + ")");
          throw i3.name = "Parsererror", i3;
        }
        e21[t3] = this._lookaheadToken(0).value, this._advance();
      }
      n3 = this._lookahead(0);
    }
    return this._match(h2), { type: "Slice", children: e21 };
  }, _parseComparator: function(e21, t3) {
    return { type: "Comparator", name: t3, children: [e21, this.expression(V2[t3])] };
  }, _parseDotRHS: function(e21) {
    var t3 = this._lookahead(0);
    return [l2, f2, A2].indexOf(t3) >= 0 ? this.expression(e21) : t3 === N2 ? (this._match(N2), this._parseMultiselectList()) : t3 === I2 ? (this._match(I2), this._parseMultiselectHash()) : void 0;
  }, _parseProjectionRHS: function(e21) {
    var t3;
    if (V2[this._lookahead(0)] < 10)
      t3 = { type: "Identity" };
    else if (this._lookahead(0) === N2)
      t3 = this.expression(e21);
    else if (this._lookahead(0) === E2)
      t3 = this.expression(e21);
    else {
      if (this._lookahead(0) !== M2) {
        var n3 = this._lookaheadToken(0), r3 = new Error("Sytanx error, unexpected token: " + n3.value + "(" + n3.type + ")");
        throw r3.name = "ParserError", r3;
      }
      this._match(M2), t3 = this._parseDotRHS(e21);
    }
    return t3;
  }, _parseMultiselectList: function() {
    for (var e21 = []; this._lookahead(0) !== h2; ) {
      var t3 = this.expression(0);
      if (e21.push(t3), this._lookahead(0) === v2 && (this._match(v2), this._lookahead(0) === h2))
        throw new Error("Unexpected token Rbracket");
    }
    return this._match(h2), { type: "MultiSelectList", children: e21 };
  }, _parseMultiselectHash: function() {
    for (var e21, t3, n3, r3 = [], i3 = [l2, f2]; ; ) {
      if (e21 = this._lookaheadToken(0), i3.indexOf(e21.type) < 0)
        throw new Error("Expecting an identifier token, got: " + e21.type);
      if (t3 = e21.value, this._advance(), this._match(p2), n3 = { type: "KeyValuePair", name: t3, value: this.expression(0) }, r3.push(n3), this._lookahead(0) === v2)
        this._match(v2);
      else if (this._lookahead(0) === m2) {
        this._match(m2);
        break;
      }
    }
    return { type: "MultiSelectHash", children: r3 };
  } }, W2.prototype = { search: function(e21, t3) {
    return this.visit(e21, t3);
  }, visit: function(e21, o3) {
    var a3, s3, u3, c3, l3, f3, h3, d3, v3;
    switch (e21.type) {
      case "Field":
        return o3 !== null && n2(o3) ? (f3 = o3[e21.name]) === void 0 ? null : f3 : null;
      case "Subexpression":
        for (u3 = this.visit(e21.children[0], o3), v3 = 1; v3 < e21.children.length; v3++)
          if ((u3 = this.visit(e21.children[1], u3)) === null)
            return null;
        return u3;
      case "IndexExpression":
        return h3 = this.visit(e21.children[0], o3), this.visit(e21.children[1], h3);
      case "Index":
        if (!t2(o3))
          return null;
        var p3 = e21.value;
        return p3 < 0 && (p3 = o3.length + p3), (u3 = o3[p3]) === void 0 && (u3 = null), u3;
      case "Slice":
        if (!t2(o3))
          return null;
        var m3 = e21.children.slice(0), g3 = this.computeSliceParams(o3.length, m3), k3 = g3[0], j3 = g3[1], A3 = g3[2];
        if (u3 = [], A3 > 0)
          for (v3 = k3; v3 < j3; v3 += A3)
            u3.push(o3[v3]);
        else
          for (v3 = k3; v3 > j3; v3 += A3)
            u3.push(o3[v3]);
        return u3;
      case "Projection":
        var E3 = this.visit(e21.children[0], o3);
        if (!t2(E3))
          return null;
        for (d3 = [], v3 = 0; v3 < E3.length; v3++)
          (s3 = this.visit(e21.children[1], E3[v3])) !== null && d3.push(s3);
        return d3;
      case "ValueProjection":
        if (!n2(E3 = this.visit(e21.children[0], o3)))
          return null;
        d3 = [];
        var M3 = function(e22) {
          for (var t3 = Object.keys(e22), n3 = [], r3 = 0; r3 < t3.length; r3++)
            n3.push(e22[t3[r3]]);
          return n3;
        }(E3);
        for (v3 = 0; v3 < M3.length; v3++)
          (s3 = this.visit(e21.children[1], M3[v3])) !== null && d3.push(s3);
        return d3;
      case "FilterProjection":
        if (!t2(E3 = this.visit(e21.children[0], o3)))
          return null;
        var T3 = [], I3 = [];
        for (v3 = 0; v3 < E3.length; v3++)
          i2(a3 = this.visit(e21.children[2], E3[v3])) || T3.push(E3[v3]);
        for (var N3 = 0; N3 < T3.length; N3++)
          (s3 = this.visit(e21.children[1], T3[N3])) !== null && I3.push(s3);
        return I3;
      case "Comparator":
        switch (c3 = this.visit(e21.children[0], o3), l3 = this.visit(e21.children[1], o3), e21.name) {
          case x2:
            u3 = r2(c3, l3);
            break;
          case O2:
            u3 = !r2(c3, l3);
            break;
          case S2:
            u3 = c3 > l3;
            break;
          case _2:
            u3 = c3 >= l3;
            break;
          case C2:
            u3 = c3 < l3;
            break;
          case $2:
            u3 = c3 <= l3;
            break;
          default:
            throw new Error("Unknown comparator: " + e21.name);
        }
        return u3;
      case P2:
        var R3 = this.visit(e21.children[0], o3);
        if (!t2(R3))
          return null;
        var D3 = [];
        for (v3 = 0; v3 < R3.length; v3++)
          t2(s3 = R3[v3]) ? D3.push.apply(D3, s3) : D3.push(s3);
        return D3;
      case "Identity":
        return o3;
      case "MultiSelectList":
        if (o3 === null)
          return null;
        for (d3 = [], v3 = 0; v3 < e21.children.length; v3++)
          d3.push(this.visit(e21.children[v3], o3));
        return d3;
      case "MultiSelectHash":
        if (o3 === null)
          return null;
        var L3;
        for (d3 = {}, v3 = 0; v3 < e21.children.length; v3++)
          d3[(L3 = e21.children[v3]).name] = this.visit(L3.value, o3);
        return d3;
      case "OrExpression":
        return i2(a3 = this.visit(e21.children[0], o3)) && (a3 = this.visit(e21.children[1], o3)), a3;
      case "AndExpression":
        return i2(c3 = this.visit(e21.children[0], o3)) === true ? c3 : this.visit(e21.children[1], o3);
      case "NotExpression":
        return i2(c3 = this.visit(e21.children[0], o3));
      case "Literal":
        return e21.value;
      case w2:
        return h3 = this.visit(e21.children[0], o3), this.visit(e21.children[1], h3);
      case y2:
        return o3;
      case "Function":
        var z3 = [];
        for (v3 = 0; v3 < e21.children.length; v3++)
          z3.push(this.visit(e21.children[v3], o3));
        return this.runtime.callFunction(e21.name, z3);
      case "ExpressionReference":
        var B3 = e21.children[0];
        return B3.jmespathType = b2, B3;
      default:
        throw new Error("Unknown node type: " + e21.type);
    }
  }, computeSliceParams: function(e21, t3) {
    var n3 = t3[0], r3 = t3[1], i3 = t3[2], o3 = [null, null, null];
    if (i3 === null)
      i3 = 1;
    else if (i3 === 0) {
      var a3 = new Error("Invalid slice, step cannot be 0");
      throw a3.name = "RuntimeError", a3;
    }
    var s3 = i3 < 0;
    return n3 = n3 === null ? s3 ? e21 - 1 : 0 : this.capSliceRange(e21, n3, i3), r3 = r3 === null ? s3 ? -1 : e21 : this.capSliceRange(e21, r3, i3), o3[0] = n3, o3[1] = r3, o3[2] = i3, o3;
  }, capSliceRange: function(e21, t3, n3) {
    return t3 < 0 ? (t3 += e21) < 0 && (t3 = n3 < 0 ? -1 : 0) : t3 >= e21 && (t3 = n3 < 0 ? e21 - 1 : e21), t3;
  } }, U2.prototype = { callFunction: function(e21, t3) {
    var n3 = this.functionTable[e21];
    if (n3 === void 0)
      throw new Error("Unknown function: " + e21 + "()");
    return this._validateArgs(e21, t3, n3._signature), n3._func.call(this, t3);
  }, _validateArgs: function(e21, t3, n3) {
    var r3, i3, o3, a3;
    if (n3[n3.length - 1].variadic) {
      if (t3.length < n3.length)
        throw r3 = n3.length === 1 ? " argument" : " arguments", new Error("ArgumentError: " + e21 + "() takes at least" + n3.length + r3 + " but received " + t3.length);
    } else if (t3.length !== n3.length)
      throw r3 = n3.length === 1 ? " argument" : " arguments", new Error("ArgumentError: " + e21 + "() takes " + n3.length + r3 + " but received " + t3.length);
    for (var s3 = 0; s3 < n3.length; s3++) {
      a3 = false, i3 = n3[s3].types, o3 = this._getTypeName(t3[s3]);
      for (var c3 = 0; c3 < i3.length; c3++)
        if (this._typeMatches(o3, i3[c3], t3[s3])) {
          a3 = true;
          break;
        }
      if (!a3) {
        var l3 = i3.map(function(e22) {
          return u2[e22];
        }).join(",");
        throw new Error("TypeError: " + e21 + "() expected argument " + (s3 + 1) + " to be type " + l3 + " but received type " + u2[o3] + " instead.");
      }
    }
  }, _typeMatches: function(e21, t3, n3) {
    if (t3 === 1)
      return true;
    if (t3 !== 9 && t3 !== 8 && t3 !== 3)
      return e21 === t3;
    if (t3 === 3)
      return e21 === 3;
    if (e21 === 3) {
      var r3;
      t3 === 8 ? r3 = a2 : t3 === 9 && (r3 = s2);
      for (var i3 = 0; i3 < n3.length; i3++)
        if (!this._typeMatches(this._getTypeName(n3[i3]), r3, n3[i3]))
          return false;
      return true;
    }
  }, _getTypeName: function(e21) {
    switch (Object.prototype.toString.call(e21)) {
      case "[object String]":
        return s2;
      case "[object Number]":
        return a2;
      case "[object Array]":
        return 3;
      case "[object Boolean]":
        return 5;
      case "[object Null]":
        return 7;
      case "[object Object]":
        return e21.jmespathType === b2 ? 6 : 4;
    }
  }, _functionStartsWith: function(e21) {
    return e21[0].lastIndexOf(e21[1]) === 0;
  }, _functionEndsWith: function(e21) {
    var t3 = e21[0], n3 = e21[1];
    return t3.indexOf(n3, t3.length - n3.length) !== -1;
  }, _functionReverse: function(e21) {
    if (this._getTypeName(e21[0]) === s2) {
      for (var t3 = e21[0], n3 = "", r3 = t3.length - 1; r3 >= 0; r3--)
        n3 += t3[r3];
      return n3;
    }
    var i3 = e21[0].slice(0);
    return i3.reverse(), i3;
  }, _functionAbs: function(e21) {
    return Math.abs(e21[0]);
  }, _functionCeil: function(e21) {
    return Math.ceil(e21[0]);
  }, _functionAvg: function(e21) {
    for (var t3 = 0, n3 = e21[0], r3 = 0; r3 < n3.length; r3++)
      t3 += n3[r3];
    return t3 / n3.length;
  }, _functionContains: function(e21) {
    return e21[0].indexOf(e21[1]) >= 0;
  }, _functionFloor: function(e21) {
    return Math.floor(e21[0]);
  }, _functionLength: function(e21) {
    return n2(e21[0]) ? Object.keys(e21[0]).length : e21[0].length;
  }, _functionMap: function(e21) {
    for (var t3 = [], n3 = this._interpreter, r3 = e21[0], i3 = e21[1], o3 = 0; o3 < i3.length; o3++)
      t3.push(n3.visit(r3, i3[o3]));
    return t3;
  }, _functionMerge: function(e21) {
    for (var t3 = {}, n3 = 0; n3 < e21.length; n3++) {
      var r3 = e21[n3];
      for (var i3 in r3)
        t3[i3] = r3[i3];
    }
    return t3;
  }, _functionMax: function(e21) {
    if (e21[0].length > 0) {
      if (this._getTypeName(e21[0][0]) === a2)
        return Math.max.apply(Math, e21[0]);
      for (var t3 = e21[0], n3 = t3[0], r3 = 1; r3 < t3.length; r3++)
        n3.localeCompare(t3[r3]) < 0 && (n3 = t3[r3]);
      return n3;
    }
    return null;
  }, _functionMin: function(e21) {
    if (e21[0].length > 0) {
      if (this._getTypeName(e21[0][0]) === a2)
        return Math.min.apply(Math, e21[0]);
      for (var t3 = e21[0], n3 = t3[0], r3 = 1; r3 < t3.length; r3++)
        t3[r3].localeCompare(n3) < 0 && (n3 = t3[r3]);
      return n3;
    }
    return null;
  }, _functionSum: function(e21) {
    for (var t3 = 0, n3 = e21[0], r3 = 0; r3 < n3.length; r3++)
      t3 += n3[r3];
    return t3;
  }, _functionType: function(e21) {
    switch (this._getTypeName(e21[0])) {
      case a2:
        return "number";
      case s2:
        return "string";
      case 3:
        return "array";
      case 4:
        return "object";
      case 5:
        return "boolean";
      case 6:
        return "expref";
      case 7:
        return "null";
    }
  }, _functionKeys: function(e21) {
    return Object.keys(e21[0]);
  }, _functionValues: function(e21) {
    for (var t3 = e21[0], n3 = Object.keys(t3), r3 = [], i3 = 0; i3 < n3.length; i3++)
      r3.push(t3[n3[i3]]);
    return r3;
  }, _functionJoin: function(e21) {
    var t3 = e21[0];
    return e21[1].join(t3);
  }, _functionToArray: function(e21) {
    return this._getTypeName(e21[0]) === 3 ? e21[0] : [e21[0]];
  }, _functionToString: function(e21) {
    return this._getTypeName(e21[0]) === s2 ? e21[0] : JSON.stringify(e21[0]);
  }, _functionToNumber: function(e21) {
    var t3, n3 = this._getTypeName(e21[0]);
    return n3 === a2 ? e21[0] : n3 !== s2 || (t3 = +e21[0], isNaN(t3)) ? null : t3;
  }, _functionNotNull: function(e21) {
    for (var t3 = 0; t3 < e21.length; t3++)
      if (this._getTypeName(e21[t3]) !== 7)
        return e21[t3];
    return null;
  }, _functionSort: function(e21) {
    var t3 = e21[0].slice(0);
    return t3.sort(), t3;
  }, _functionSortBy: function(e21) {
    var t3 = e21[0].slice(0);
    if (t3.length === 0)
      return t3;
    var n3 = this._interpreter, r3 = e21[1], i3 = this._getTypeName(n3.visit(r3, t3[0]));
    if ([a2, s2].indexOf(i3) < 0)
      throw new Error("TypeError");
    for (var o3 = this, u3 = [], c3 = 0; c3 < t3.length; c3++)
      u3.push([c3, t3[c3]]);
    u3.sort(function(e22, t4) {
      var a3 = n3.visit(r3, e22[1]), s3 = n3.visit(r3, t4[1]);
      if (o3._getTypeName(a3) !== i3)
        throw new Error("TypeError: expected " + i3 + ", received " + o3._getTypeName(a3));
      if (o3._getTypeName(s3) !== i3)
        throw new Error("TypeError: expected " + i3 + ", received " + o3._getTypeName(s3));
      return a3 > s3 ? 1 : a3 < s3 ? -1 : e22[0] - t4[0];
    });
    for (var l3 = 0; l3 < u3.length; l3++)
      t3[l3] = u3[l3][1];
    return t3;
  }, _functionMaxBy: function(e21) {
    for (var t3, n3, r3 = e21[1], i3 = e21[0], o3 = this.createKeyFunction(r3, [a2, s2]), u3 = -1 / 0, c3 = 0; c3 < i3.length; c3++)
      (n3 = o3(i3[c3])) > u3 && (u3 = n3, t3 = i3[c3]);
    return t3;
  }, _functionMinBy: function(e21) {
    for (var t3, n3, r3 = e21[1], i3 = e21[0], o3 = this.createKeyFunction(r3, [a2, s2]), u3 = 1 / 0, c3 = 0; c3 < i3.length; c3++)
      (n3 = o3(i3[c3])) < u3 && (u3 = n3, t3 = i3[c3]);
    return t3;
  }, createKeyFunction: function(e21, t3) {
    var n3 = this, r3 = this._interpreter;
    return function(i3) {
      var o3 = r3.visit(e21, i3);
      if (t3.indexOf(n3._getTypeName(o3)) < 0) {
        var a3 = "TypeError: expected one of " + t3 + ", received " + n3._getTypeName(o3);
        throw new Error(a3);
      }
      return o3;
    };
  } }, e20.tokenize = function(e21) {
    return new F2().tokenize(e21);
  }, e20.compile = function(e21) {
    return new H2().parse(e21);
  }, e20.search = function(e21, t3) {
    var n3 = new H2(), r3 = new U2(), i3 = new W2(r3);
    r3._interpreter = i3;
    var o3 = n3.parse(t3);
    return i3.search(o3, e21);
  }, e20.strictDeepEqual = r2;
}(FJ);
/*!
* vanilla-picker v2.12.1
* https://vanilla-picker.js.org
*
* Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
* Released under the ISC license.
*/
var WJ = function(e20, t2) {
  if (!(e20 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}, UJ = function() {
  function e20(e21, t2) {
    for (var n2 = 0; n2 < t2.length; n2++) {
      var r2 = t2[n2];
      r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e21, r2.key, r2);
    }
  }
  return function(t2, n2, r2) {
    return n2 && e20(t2.prototype, n2), r2 && e20(t2, r2), t2;
  };
}(), JJ = function(e20, t2) {
  if (Array.isArray(e20))
    return e20;
  if (Symbol.iterator in Object(e20))
    return function(e21, t3) {
      var n2 = [], r2 = true, i2 = false, o2 = void 0;
      try {
        for (var a2, s2 = e21[Symbol.iterator](); !(r2 = (a2 = s2.next()).done) && (n2.push(a2.value), !t3 || n2.length !== t3); r2 = true)
          ;
      } catch (e22) {
        i2 = true, o2 = e22;
      } finally {
        try {
          !r2 && s2.return && s2.return();
        } finally {
          if (i2)
            throw o2;
        }
      }
      return n2;
    }(e20, t2);
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
};
String.prototype.startsWith = String.prototype.startsWith || function(e20) {
  return this.indexOf(e20) === 0;
}, String.prototype.padStart = String.prototype.padStart || function(e20, t2) {
  for (var n2 = this; n2.length < e20; )
    n2 = t2 + n2;
  return n2;
};
var KJ = { cb: "0f8ff", tqw: "aebd7", q: "-ffff", qmrn: "7fffd4", zr: "0ffff", bg: "5f5dc", bsq: "e4c4", bck: "---", nch: "ebcd", b: "--ff", bvt: "8a2be2", brwn: "a52a2a", brw: "deb887", ctb: "5f9ea0", hrt: "7fff-", chcT: "d2691e", cr: "7f50", rnw: "6495ed", crns: "8dc", crms: "dc143c", cn: "-ffff", Db: "--8b", Dcn: "-8b8b", Dgnr: "b8860b", Dgr: "a9a9a9", Dgrn: "-64-", Dkhk: "bdb76b", Dmgn: "8b-8b", Dvgr: "556b2f", Drng: "8c-", Drch: "9932cc", Dr: "8b--", Dsmn: "e9967a", Dsgr: "8fbc8f", DsTb: "483d8b", DsTg: "2f4f4f", Dtrq: "-ced1", Dvt: "94-d3", ppnk: "1493", pskb: "-bfff", mgr: "696969", grb: "1e90ff", rbrc: "b22222", rwht: "af0", stg: "228b22", chs: "-ff", gnsb: "dcdcdc", st: "8f8ff", g: "d7-", gnr: "daa520", gr: "808080", grn: "-8-0", grnw: "adff2f", hnw: "0fff0", htpn: "69b4", nnr: "cd5c5c", ng: "4b-82", vr: "0", khk: "0e68c", vnr: "e6e6fa", nrb: "0f5", wngr: "7cfc-", mnch: "acd", Lb: "add8e6", Lcr: "08080", Lcn: "e0ffff", Lgnr: "afad2", Lgr: "d3d3d3", Lgrn: "90ee90", Lpnk: "b6c1", Lsmn: "a07a", Lsgr: "20b2aa", Lskb: "87cefa", LsTg: "778899", Lstb: "b0c4de", Lw: "e0", m: "-ff-", mgrn: "32cd32", nn: "af0e6", mgnt: "-ff", mrn: "8--0", mqm: "66cdaa", mmb: "--cd", mmrc: "ba55d3", mmpr: "9370db", msg: "3cb371", mmsT: "7b68ee", "": "-fa9a", mtr: "48d1cc", mmvt: "c71585", mnLb: "191970", ntc: "5fffa", mstr: "e4e1", mccs: "e4b5", vjw: "dead", nv: "--80", c: "df5e6", v: "808-0", vrb: "6b8e23", rng: "a5-", rngr: "45-", rch: "da70d6", pgnr: "eee8aa", pgrn: "98fb98", ptrq: "afeeee", pvtr: "db7093", ppwh: "efd5", pchp: "dab9", pr: "cd853f", pnk: "c0cb", pm: "dda0dd", pwrb: "b0e0e6", prp: "8-080", cc: "663399", r: "--", sbr: "bc8f8f", rb: "4169e1", sbrw: "8b4513", smn: "a8072", nbr: "4a460", sgrn: "2e8b57", ssh: "5ee", snn: "a0522d", svr: "c0c0c0", skb: "87ceeb", sTb: "6a5acd", sTgr: "708090", snw: "afa", n: "-ff7f", stb: "4682b4", tn: "d2b48c", t: "-8080", thst: "d8bfd8", tmT: "6347", trqs: "40e0d0", vt: "ee82ee", whT: "5deb3", wht: "", hts: "5f5f5", w: "-", wgrn: "9acd32" };
function GJ(e20) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, n2 = t2 > 0 ? e20.toFixed(t2).replace(/0+$/, "").replace(/\.$/, "") : e20.toString();
  return n2 || "0";
}
var QJ = function() {
  function e20(t2, n2, r2, i2) {
    WJ(this, e20);
    var o2 = this;
    if (t2 === void 0)
      ;
    else if (Array.isArray(t2))
      this.rgba = t2;
    else if (r2 === void 0) {
      var a2 = t2 && "" + t2;
      a2 && function(t3) {
        if (t3.startsWith("hsl")) {
          var n3 = t3.match(/([\-\d\.e]+)/g).map(Number), r3 = JJ(n3, 4), i3 = r3[0], a3 = r3[1], s2 = r3[2], u2 = r3[3];
          u2 === void 0 && (u2 = 1), i3 /= 360, a3 /= 100, s2 /= 100, o2.hsla = [i3, a3, s2, u2];
        } else if (t3.startsWith("rgb")) {
          var c2 = t3.match(/([\-\d\.e]+)/g).map(Number), l2 = JJ(c2, 4), f2 = l2[0], h2 = l2[1], d2 = l2[2], v2 = l2[3];
          v2 === void 0 && (v2 = 1), o2.rgba = [f2, h2, d2, v2];
        } else
          t3.startsWith("#") ? o2.rgba = e20.hexToRgb(t3) : o2.rgba = e20.nameToRgb(t3) || e20.hexToRgb(t3);
      }(a2.toLowerCase());
    } else
      this.rgba = [t2, n2, r2, i2 === void 0 ? 1 : i2];
  }
  return UJ(e20, [{ key: "printRGB", value: function(e21) {
    var t2 = (e21 ? this.rgba : this.rgba.slice(0, 3)).map(function(e22, t3) {
      return GJ(e22, t3 === 3 ? 3 : 0);
    });
    return e21 ? "rgba(" + t2 + ")" : "rgb(" + t2 + ")";
  } }, { key: "printHSL", value: function(e21) {
    var t2 = [360, 100, 100, 1], n2 = ["", "%", "%", ""], r2 = (e21 ? this.hsla : this.hsla.slice(0, 3)).map(function(e22, r3) {
      return GJ(e22 * t2[r3], r3 === 3 ? 3 : 1) + n2[r3];
    });
    return e21 ? "hsla(" + r2 + ")" : "hsl(" + r2 + ")";
  } }, { key: "printHex", value: function(e21) {
    var t2 = this.hex;
    return e21 ? t2 : t2.substring(0, 7);
  } }, { key: "rgba", get: function() {
    if (this._rgba)
      return this._rgba;
    if (!this._hsla)
      throw new Error("No color is set");
    return this._rgba = e20.hslToRgb(this._hsla);
  }, set: function(e21) {
    e21.length === 3 && (e21[3] = 1), this._rgba = e21, this._hsla = null;
  } }, { key: "rgbString", get: function() {
    return this.printRGB();
  } }, { key: "rgbaString", get: function() {
    return this.printRGB(true);
  } }, { key: "hsla", get: function() {
    if (this._hsla)
      return this._hsla;
    if (!this._rgba)
      throw new Error("No color is set");
    return this._hsla = e20.rgbToHsl(this._rgba);
  }, set: function(e21) {
    e21.length === 3 && (e21[3] = 1), this._hsla = e21, this._rgba = null;
  } }, { key: "hslString", get: function() {
    return this.printHSL();
  } }, { key: "hslaString", get: function() {
    return this.printHSL(true);
  } }, { key: "hex", get: function() {
    return "#" + this.rgba.map(function(e21, t2) {
      return t2 < 3 ? e21.toString(16) : Math.round(255 * e21).toString(16);
    }).map(function(e21) {
      return e21.padStart(2, "0");
    }).join("");
  }, set: function(t2) {
    this.rgba = e20.hexToRgb(t2);
  } }], [{ key: "hexToRgb", value: function(e21) {
    var t2 = (e21.startsWith("#") ? e21.slice(1) : e21).replace(/^(\w{3})$/, "$1F").replace(/^(\w)(\w)(\w)(\w)$/, "$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/, "$1FF");
    if (!t2.match(/^([0-9a-fA-F]{8})$/))
      throw new Error("Unknown hex color; " + e21);
    var n2 = t2.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(e22) {
      return parseInt(e22, 16);
    });
    return n2[3] = n2[3] / 255, n2;
  } }, { key: "nameToRgb", value: function(t2) {
    var n2 = t2.toLowerCase().replace("at", "T").replace(/[aeiouyldf]/g, "").replace("ght", "L").replace("rk", "D").slice(-5, 4), r2 = KJ[n2];
    return r2 === void 0 ? r2 : e20.hexToRgb(r2.replace(/\-/g, "00").padStart(6, "f"));
  } }, { key: "rgbToHsl", value: function(e21) {
    var t2 = JJ(e21, 4), n2 = t2[0], r2 = t2[1], i2 = t2[2], o2 = t2[3];
    n2 /= 255, r2 /= 255, i2 /= 255;
    var a2 = Math.max(n2, r2, i2), s2 = Math.min(n2, r2, i2), u2 = void 0, c2 = void 0, l2 = (a2 + s2) / 2;
    if (a2 === s2)
      u2 = c2 = 0;
    else {
      var f2 = a2 - s2;
      switch (c2 = l2 > 0.5 ? f2 / (2 - a2 - s2) : f2 / (a2 + s2), a2) {
        case n2:
          u2 = (r2 - i2) / f2 + (r2 < i2 ? 6 : 0);
          break;
        case r2:
          u2 = (i2 - n2) / f2 + 2;
          break;
        case i2:
          u2 = (n2 - r2) / f2 + 4;
      }
      u2 /= 6;
    }
    return [u2, c2, l2, o2];
  } }, { key: "hslToRgb", value: function(e21) {
    var t2 = JJ(e21, 4), n2 = t2[0], r2 = t2[1], i2 = t2[2], o2 = t2[3], a2 = void 0, s2 = void 0, u2 = void 0;
    if (r2 === 0)
      a2 = s2 = u2 = i2;
    else {
      var c2 = function(e22, t3, n3) {
        return n3 < 0 && (n3 += 1), n3 > 1 && (n3 -= 1), n3 < 1 / 6 ? e22 + 6 * (t3 - e22) * n3 : n3 < 0.5 ? t3 : n3 < 2 / 3 ? e22 + (t3 - e22) * (2 / 3 - n3) * 6 : e22;
      }, l2 = i2 < 0.5 ? i2 * (1 + r2) : i2 + r2 - i2 * r2, f2 = 2 * i2 - l2;
      a2 = c2(f2, l2, n2 + 1 / 3), s2 = c2(f2, l2, n2), u2 = c2(f2, l2, n2 - 1 / 3);
    }
    var h2 = [255 * a2, 255 * s2, 255 * u2].map(Math.round);
    return h2[3] = o2, h2;
  } }]), e20;
}(), YJ = function() {
  function e20() {
    WJ(this, e20), this._events = [];
  }
  return UJ(e20, [{ key: "add", value: function(e21, t2, n2) {
    e21.addEventListener(t2, n2, false), this._events.push({ target: e21, type: t2, handler: n2 });
  } }, { key: "remove", value: function(t2, n2, r2) {
    this._events = this._events.filter(function(i2) {
      var o2 = true;
      return t2 && t2 !== i2.target && (o2 = false), n2 && n2 !== i2.type && (o2 = false), r2 && r2 !== i2.handler && (o2 = false), o2 && e20._doRemove(i2.target, i2.type, i2.handler), !o2;
    });
  } }, { key: "destroy", value: function() {
    this._events.forEach(function(t2) {
      return e20._doRemove(t2.target, t2.type, t2.handler);
    }), this._events = [];
  } }], [{ key: "_doRemove", value: function(e21, t2, n2) {
    e21.removeEventListener(t2, n2, false);
  } }]), e20;
}();
function ZJ(e20, t2, n2) {
  var r2 = false;
  function i2(e21, t3, n3) {
    return Math.max(t3, Math.min(e21, n3));
  }
  function o2(e21, o3, a3) {
    if (a3 && (r2 = true), r2) {
      e21.preventDefault();
      var s3 = t2.getBoundingClientRect(), u2 = s3.width, c2 = s3.height, l2 = o3.clientX, f2 = o3.clientY, h2 = i2(l2 - s3.left, 0, u2), d2 = i2(f2 - s3.top, 0, c2);
      n2(h2 / u2, d2 / c2);
    }
  }
  function a2(e21, t3) {
    (e21.buttons === void 0 ? e21.which : e21.buttons) === 1 ? o2(e21, e21, t3) : r2 = false;
  }
  function s2(e21, t3) {
    e21.touches.length === 1 ? o2(e21, e21.touches[0], t3) : r2 = false;
  }
  e20.add(t2, "mousedown", function(e21) {
    a2(e21, true);
  }), e20.add(t2, "touchstart", function(e21) {
    s2(e21, true);
  }), e20.add(window, "mousemove", a2), e20.add(t2, "touchmove", s2), e20.add(window, "mouseup", function(e21) {
    r2 = false;
  }), e20.add(t2, "touchend", function(e21) {
    r2 = false;
  }), e20.add(t2, "touchcancel", function(e21) {
    r2 = false;
  });
}
function XJ(e20, t2) {
  return (t2 || document).querySelector(e20);
}
function eK(e20) {
  e20.preventDefault(), e20.stopPropagation();
}
function tK(e20, t2, n2, r2, i2) {
  e20.add(t2, "keydown", function(e21) {
    n2.indexOf(e21.key) >= 0 && (i2 && eK(e21), r2(e21));
  });
}
var nK = function() {
  function e20(t2) {
    WJ(this, e20), this.settings = { popup: "right", layout: "default", alpha: true, editor: true, editorFormat: "hex", cancelButton: false, defaultColor: "#0cf" }, this._events = new YJ(), this.onChange = null, this.onDone = null, this.onOpen = null, this.onClose = null, this.setOptions(t2);
  }
  return UJ(e20, [{ key: "setOptions", value: function(e21) {
    var t2 = this;
    if (e21) {
      var n2 = this.settings;
      if (e21 instanceof HTMLElement)
        n2.parent = e21;
      else {
        n2.parent && e21.parent && n2.parent !== e21.parent && (this._events.remove(n2.parent), this._popupInited = false), function(e22, t3, n3) {
          for (var r3 in e22)
            n3 && n3.indexOf(r3) >= 0 || (t3[r3] = e22[r3]);
        }(e21, n2), e21.onChange && (this.onChange = e21.onChange), e21.onDone && (this.onDone = e21.onDone), e21.onOpen && (this.onOpen = e21.onOpen), e21.onClose && (this.onClose = e21.onClose);
        var r2 = e21.color || e21.colour;
        r2 && this._setColor(r2);
      }
      var i2 = n2.parent;
      if (i2 && n2.popup && !this._popupInited) {
        var o2 = function(e22) {
          return t2.openHandler(e22);
        };
        this._events.add(i2, "click", o2), tK(this._events, i2, [" ", "Spacebar", "Enter"], o2), this._popupInited = true;
      } else
        e21.parent && !n2.popup && this.show();
    }
  } }, { key: "openHandler", value: function(e21) {
    if (this.show()) {
      e21 && e21.preventDefault(), this.settings.parent.style.pointerEvents = "none";
      var t2 = e21 && e21.type === "keydown" ? this._domEdit : this.domElement;
      setTimeout(function() {
        return t2.focus();
      }, 100), this.onOpen && this.onOpen(this.colour);
    }
  } }, { key: "closeHandler", value: function(e21) {
    var t2 = e21 && e21.type, n2 = false;
    if (e21)
      if (t2 === "mousedown" || t2 === "focusin") {
        var r2 = (this.__containedEvent || 0) + 100;
        e21.timeStamp > r2 && (n2 = true);
      } else
        eK(e21), n2 = true;
    else
      n2 = true;
    n2 && this.hide() && (this.settings.parent.style.pointerEvents = "", t2 !== "mousedown" && this.settings.parent.focus(), this.onClose && this.onClose(this.colour));
  } }, { key: "movePopup", value: function(e21, t2) {
    this.closeHandler(), this.setOptions(e21), t2 && this.openHandler();
  } }, { key: "setColor", value: function(e21, t2) {
    this._setColor(e21, { silent: t2 });
  } }, { key: "_setColor", value: function(e21, t2) {
    if (typeof e21 == "string" && (e21 = e21.trim()), e21) {
      t2 = t2 || {};
      var n2 = void 0;
      try {
        n2 = new QJ(e21);
      } catch (e22) {
        if (t2.failSilently)
          return;
        throw e22;
      }
      if (!this.settings.alpha) {
        var r2 = n2.hsla;
        r2[3] = 1, n2.hsla = r2;
      }
      this.colour = this.color = n2, this._setHSLA(null, null, null, null, t2);
    }
  } }, { key: "setColour", value: function(e21, t2) {
    this.setColor(e21, t2);
  } }, { key: "show", value: function() {
    if (!this.settings.parent)
      return false;
    if (this.domElement) {
      var e21 = this._toggleDOM(true);
      return this._setPosition(), e21;
    }
    var t2, n2, r2 = this.settings.template || '<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>', i2 = (t2 = r2, (n2 = document.createElement("div")).innerHTML = t2, n2.firstElementChild);
    return this.domElement = i2, this._domH = XJ(".picker_hue", i2), this._domSL = XJ(".picker_sl", i2), this._domA = XJ(".picker_alpha", i2), this._domEdit = XJ(".picker_editor input", i2), this._domSample = XJ(".picker_sample", i2), this._domOkay = XJ(".picker_done button", i2), this._domCancel = XJ(".picker_cancel button", i2), i2.classList.add("layout_" + this.settings.layout), this.settings.alpha || i2.classList.add("no_alpha"), this.settings.editor || i2.classList.add("no_editor"), this.settings.cancelButton || i2.classList.add("no_cancel"), this._ifPopup(function() {
      return i2.classList.add("popup");
    }), this._setPosition(), this.colour ? this._updateUI() : this._setColor(this.settings.defaultColor), this._bindEvents(), true;
  } }, { key: "hide", value: function() {
    return this._toggleDOM(false);
  } }, { key: "destroy", value: function() {
    this._events.destroy(), this.domElement && this.settings.parent.removeChild(this.domElement);
  } }, { key: "_bindEvents", value: function() {
    var e21 = this, t2 = this, n2 = this.domElement, r2 = this._events;
    function i2(e22, t3, n3) {
      r2.add(e22, t3, n3);
    }
    i2(n2, "click", function(e22) {
      return e22.preventDefault();
    }), ZJ(r2, this._domH, function(e22, n3) {
      return t2._setHSLA(e22);
    }), ZJ(r2, this._domSL, function(e22, n3) {
      return t2._setHSLA(null, e22, 1 - n3);
    }), this.settings.alpha && ZJ(r2, this._domA, function(e22, n3) {
      return t2._setHSLA(null, null, null, 1 - n3);
    });
    var o2 = this._domEdit;
    i2(o2, "input", function(e22) {
      t2._setColor(this.value, { fromEditor: true, failSilently: true });
    }), i2(o2, "focus", function(e22) {
      var t3 = this;
      t3.selectionStart === t3.selectionEnd && t3.select();
    }), this._ifPopup(function() {
      var t3 = function(t4) {
        return e21.closeHandler(t4);
      };
      i2(window, "mousedown", t3), i2(window, "focusin", t3), tK(r2, n2, ["Esc", "Escape"], t3);
      var o3 = function(t4) {
        e21.__containedEvent = t4.timeStamp;
      };
      i2(n2, "mousedown", o3), i2(n2, "focusin", o3), i2(e21._domCancel, "click", t3);
    });
    var a2 = function(t3) {
      e21._ifPopup(function() {
        return e21.closeHandler(t3);
      }), e21.onDone && e21.onDone(e21.colour);
    };
    i2(this._domOkay, "click", a2), tK(r2, n2, ["Enter"], a2);
  } }, { key: "_setPosition", value: function() {
    var e21 = this.settings.parent, t2 = this.domElement;
    e21 !== t2.parentNode && e21.appendChild(t2), this._ifPopup(function(n2) {
      getComputedStyle(e21).position === "static" && (e21.style.position = "relative");
      var r2 = n2 === true ? "popup_right" : "popup_" + n2;
      ["popup_top", "popup_bottom", "popup_left", "popup_right"].forEach(function(e22) {
        e22 === r2 ? t2.classList.add(e22) : t2.classList.remove(e22);
      }), t2.classList.add(r2);
    });
  } }, { key: "_setHSLA", value: function(e21, t2, n2, r2, i2) {
    i2 = i2 || {};
    var o2 = this.colour, a2 = o2.hsla;
    [e21, t2, n2, r2].forEach(function(e22, t3) {
      (e22 || e22 === 0) && (a2[t3] = e22);
    }), o2.hsla = a2, this._updateUI(i2), this.onChange && !i2.silent && this.onChange(o2);
  } }, { key: "_updateUI", value: function(e21) {
    if (this.domElement) {
      e21 = e21 || {};
      var t2 = this.colour, n2 = t2.hsla, r2 = "hsl(" + 360 * n2[0] + ", 100%, 50%)", i2 = t2.hslString, o2 = t2.hslaString, a2 = this._domH, s2 = this._domSL, u2 = this._domA, c2 = XJ(".picker_selector", a2), l2 = XJ(".picker_selector", s2), f2 = XJ(".picker_selector", u2);
      y2(0, c2, n2[0]), this._domSL.style.backgroundColor = this._domH.style.color = r2, y2(0, l2, n2[1]), b2(0, l2, 1 - n2[2]), s2.style.color = i2, b2(0, f2, 1 - n2[3]);
      var h2 = i2, d2 = h2.replace("hsl", "hsla").replace(")", ", 0)"), v2 = "linear-gradient(" + [h2, d2] + ")";
      if (this._domA.style.background = v2 + ", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em", !e21.fromEditor) {
        var p2 = this.settings.editorFormat, m2 = this.settings.alpha, g2 = void 0;
        switch (p2) {
          case "rgb":
            g2 = t2.printRGB(m2);
            break;
          case "hsl":
            g2 = t2.printHSL(m2);
            break;
          default:
            g2 = t2.printHex(m2);
        }
        this._domEdit.value = g2;
      }
      this._domSample.style.color = o2;
    }
    function y2(e22, t3, n3) {
      t3.style.left = 100 * n3 + "%";
    }
    function b2(e22, t3, n3) {
      t3.style.top = 100 * n3 + "%";
    }
  } }, { key: "_ifPopup", value: function(e21, t2) {
    this.settings.parent && this.settings.popup ? e21 && e21(this.settings.popup) : t2 && t2();
  } }, { key: "_toggleDOM", value: function(e21) {
    var t2 = this.domElement;
    if (!t2)
      return false;
    var n2 = e21 ? "" : "none", r2 = t2.style.display !== n2;
    return r2 && (t2.style.display = n2), r2;
  } }]), e20;
}(), rK = document.createElement("style");
rK.textContent = '.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}', document.documentElement.firstElementChild.appendChild(rK), nK.StyleElement = rK;
var iK = Object.freeze({ __proto__: null, default: nK });
const defaultConfig = {
  gameTitle: "Narrat Game Example",
  images: {
    narrat: "img/backgrounds/narrat.png"
  },
  layout: {
    backgrounds: {
      width: 880,
      height: 720
    },
    dialogBottomPadding: 70,
    minTextWidth: 475,
    mobileDialogHeightPercentage: 60,
    verticalLayoutThreshold: 1e3,
    portraits: {
      width: 100,
      height: 100
    }
  },
  screens: {
    default: {
      background: "narrat",
      buttons: []
    },
    map: {
      background: "map",
      buttons: ["shopButton", "parkButton"]
    }
  },
  buttons: {},
  skills: {},
  skillOptions: {
    xpPerLevel: 10
  },
  skillChecks: {
    rollRange: 100,
    skillMultiplier: 10,
    failureChance: 1,
    difficultyText: [
      [0, "Very Easy"],
      [10, "Easy"],
      [30, "Medium"],
      [50, "Hard"],
      [70, "Very Hard"],
      [80, "Extremely Hard"],
      [90, "Near Impossible"]
    ]
  },
  scripts: ["data/example.rpy"],
  audio: {},
  audioOptions: {
    volume: 0.5,
    musicFadeInTime: 0.5,
    musicFadeInDelay: 0.5,
    musicFadeOutTime: 0.5
  },
  notifications: {
    timeOnScreen: 3
  },
  hudStats: {},
  items: {},
  interactionTags: {
    default: {
      onlyInteractOutsideOfScripts: true
    }
  },
  quests: {},
  audioTriggers: {},
  menuButtons: {}
};
let config$1;
function setConfig(conf) {
  config$1 = { ...defaultConfig, ...conf };
}
function getConfig() {
  return config$1;
}
function getSkillConfig(id2) {
  const skill = config$1.skills[id2];
  if (!skill) {
    error(`Skill config for skill ${id2} doesn't exist`);
  }
  return skill;
}
function getImageUrl(imageKeyOrUrl) {
  if (config$1.images[imageKeyOrUrl]) {
    return config$1.images[imageKeyOrUrl];
  } else {
    return imageKeyOrUrl;
  }
}
function getButtonConfig(button) {
  return config$1.buttons[button];
}
function getItemConfig(id2) {
  const item = config$1.items[id2];
  if (!item) {
    error(`Item config for skill ${id2} doesn't exist`);
  }
  return item;
}
function getQuestConfig(questId) {
  return config$1.quests[questId];
}
function getObjectiveConfig(quest, objectiveId) {
  return getQuestConfig(quest).objectives[objectiveId];
}
var howler = {};
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(exports2) {
  (function() {
    var HowlerGlobal2 = function() {
      this.init();
    };
    HowlerGlobal2.prototype = {
      init: function() {
        var self2 = this || Howler2;
        self2._counter = 1e3;
        self2._html5AudioPool = [];
        self2.html5PoolSize = 10;
        self2._codecs = {};
        self2._howls = [];
        self2._muted = false;
        self2._volume = 1;
        self2._canPlayEvent = "canplaythrough";
        self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
        self2.masterGain = null;
        self2.noAudio = false;
        self2.usingWebAudio = true;
        self2.autoSuspend = true;
        self2.ctx = null;
        self2.autoUnlock = true;
        self2._setup();
        return self2;
      },
      volume: function(vol) {
        var self2 = this || Howler2;
        vol = parseFloat(vol);
        if (!self2.ctx) {
          setupAudioContext();
        }
        if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
          self2._volume = vol;
          if (self2._muted) {
            return self2;
          }
          if (self2.usingWebAudio) {
            self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
          }
          for (var i2 = 0; i2 < self2._howls.length; i2++) {
            if (!self2._howls[i2]._webAudio) {
              var ids = self2._howls[i2]._getSoundIds();
              for (var j2 = 0; j2 < ids.length; j2++) {
                var sound = self2._howls[i2]._soundById(ids[j2]);
                if (sound && sound._node) {
                  sound._node.volume = sound._volume * vol;
                }
              }
            }
          }
          return self2;
        }
        return self2._volume;
      },
      mute: function(muted) {
        var self2 = this || Howler2;
        if (!self2.ctx) {
          setupAudioContext();
        }
        self2._muted = muted;
        if (self2.usingWebAudio) {
          self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
        }
        for (var i2 = 0; i2 < self2._howls.length; i2++) {
          if (!self2._howls[i2]._webAudio) {
            var ids = self2._howls[i2]._getSoundIds();
            for (var j2 = 0; j2 < ids.length; j2++) {
              var sound = self2._howls[i2]._soundById(ids[j2]);
              if (sound && sound._node) {
                sound._node.muted = muted ? true : sound._muted;
              }
            }
          }
        }
        return self2;
      },
      stop: function() {
        var self2 = this || Howler2;
        for (var i2 = 0; i2 < self2._howls.length; i2++) {
          self2._howls[i2].stop();
        }
        return self2;
      },
      unload: function() {
        var self2 = this || Howler2;
        for (var i2 = self2._howls.length - 1; i2 >= 0; i2--) {
          self2._howls[i2].unload();
        }
        if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
          self2.ctx.close();
          self2.ctx = null;
          setupAudioContext();
        }
        return self2;
      },
      codecs: function(ext) {
        return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
      },
      _setup: function() {
        var self2 = this || Howler2;
        self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
        self2._autoSuspend();
        if (!self2.usingWebAudio) {
          if (typeof Audio !== "undefined") {
            try {
              var test = new Audio();
              if (typeof test.oncanplaythrough === "undefined") {
                self2._canPlayEvent = "canplay";
              }
            } catch (e20) {
              self2.noAudio = true;
            }
          } else {
            self2.noAudio = true;
          }
        }
        try {
          var test = new Audio();
          if (test.muted) {
            self2.noAudio = true;
          }
        } catch (e20) {
        }
        if (!self2.noAudio) {
          self2._setupCodecs();
        }
        return self2;
      },
      _setupCodecs: function() {
        var self2 = this || Howler2;
        var audioTest = null;
        try {
          audioTest = typeof Audio !== "undefined" ? new Audio() : null;
        } catch (err) {
          return self2;
        }
        if (!audioTest || typeof audioTest.canPlayType !== "function") {
          return self2;
        }
        var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
        var ua2 = self2._navigator ? self2._navigator.userAgent : "";
        var checkOpera = ua2.match(/OPR\/([0-6].)/g);
        var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
        var checkSafari = ua2.indexOf("Safari") !== -1 && ua2.indexOf("Chrome") === -1;
        var safariVersion = ua2.match(/Version\/(.*?) /);
        var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
        self2._codecs = {
          mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
          mpeg: !!mpegTest,
          opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
          ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
          oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
          wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
          aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
          caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
          m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
          m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
          mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
          weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
          webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
          dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
          flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
        };
        return self2;
      },
      _unlockAudio: function() {
        var self2 = this || Howler2;
        if (self2._audioUnlocked || !self2.ctx) {
          return;
        }
        self2._audioUnlocked = false;
        self2.autoUnlock = false;
        if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
          self2._mobileUnloaded = true;
          self2.unload();
        }
        self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
        var unlock = function(e20) {
          while (self2._html5AudioPool.length < self2.html5PoolSize) {
            try {
              var audioNode = new Audio();
              audioNode._unlocked = true;
              self2._releaseHtml5Audio(audioNode);
            } catch (e21) {
              self2.noAudio = true;
              break;
            }
          }
          for (var i2 = 0; i2 < self2._howls.length; i2++) {
            if (!self2._howls[i2]._webAudio) {
              var ids = self2._howls[i2]._getSoundIds();
              for (var j2 = 0; j2 < ids.length; j2++) {
                var sound = self2._howls[i2]._soundById(ids[j2]);
                if (sound && sound._node && !sound._node._unlocked) {
                  sound._node._unlocked = true;
                  sound._node.load();
                }
              }
            }
          }
          self2._autoResume();
          var source = self2.ctx.createBufferSource();
          source.buffer = self2._scratchBuffer;
          source.connect(self2.ctx.destination);
          if (typeof source.start === "undefined") {
            source.noteOn(0);
          } else {
            source.start(0);
          }
          if (typeof self2.ctx.resume === "function") {
            self2.ctx.resume();
          }
          source.onended = function() {
            source.disconnect(0);
            self2._audioUnlocked = true;
            document.removeEventListener("touchstart", unlock, true);
            document.removeEventListener("touchend", unlock, true);
            document.removeEventListener("click", unlock, true);
            document.removeEventListener("keydown", unlock, true);
            for (var i3 = 0; i3 < self2._howls.length; i3++) {
              self2._howls[i3]._emit("unlock");
            }
          };
        };
        document.addEventListener("touchstart", unlock, true);
        document.addEventListener("touchend", unlock, true);
        document.addEventListener("click", unlock, true);
        document.addEventListener("keydown", unlock, true);
        return self2;
      },
      _obtainHtml5Audio: function() {
        var self2 = this || Howler2;
        if (self2._html5AudioPool.length) {
          return self2._html5AudioPool.pop();
        }
        var testPlay = new Audio().play();
        if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
          testPlay.catch(function() {
            console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
          });
        }
        return new Audio();
      },
      _releaseHtml5Audio: function(audio2) {
        var self2 = this || Howler2;
        if (audio2._unlocked) {
          self2._html5AudioPool.push(audio2);
        }
        return self2;
      },
      _autoSuspend: function() {
        var self2 = this;
        if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
          return;
        }
        for (var i2 = 0; i2 < self2._howls.length; i2++) {
          if (self2._howls[i2]._webAudio) {
            for (var j2 = 0; j2 < self2._howls[i2]._sounds.length; j2++) {
              if (!self2._howls[i2]._sounds[j2]._paused) {
                return self2;
              }
            }
          }
        }
        if (self2._suspendTimer) {
          clearTimeout(self2._suspendTimer);
        }
        self2._suspendTimer = setTimeout(function() {
          if (!self2.autoSuspend) {
            return;
          }
          self2._suspendTimer = null;
          self2.state = "suspending";
          var handleSuspension = function() {
            self2.state = "suspended";
            if (self2._resumeAfterSuspend) {
              delete self2._resumeAfterSuspend;
              self2._autoResume();
            }
          };
          self2.ctx.suspend().then(handleSuspension, handleSuspension);
        }, 3e4);
        return self2;
      },
      _autoResume: function() {
        var self2 = this;
        if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
          return;
        }
        if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
          clearTimeout(self2._suspendTimer);
          self2._suspendTimer = null;
        } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
          self2.ctx.resume().then(function() {
            self2.state = "running";
            for (var i2 = 0; i2 < self2._howls.length; i2++) {
              self2._howls[i2]._emit("resume");
            }
          });
          if (self2._suspendTimer) {
            clearTimeout(self2._suspendTimer);
            self2._suspendTimer = null;
          }
        } else if (self2.state === "suspending") {
          self2._resumeAfterSuspend = true;
        }
        return self2;
      }
    };
    var Howler2 = new HowlerGlobal2();
    var Howl2 = function(o2) {
      var self2 = this;
      if (!o2.src || o2.src.length === 0) {
        console.error("An array of source files must be passed with any new Howl.");
        return;
      }
      self2.init(o2);
    };
    Howl2.prototype = {
      init: function(o2) {
        var self2 = this;
        if (!Howler2.ctx) {
          setupAudioContext();
        }
        self2._autoplay = o2.autoplay || false;
        self2._format = typeof o2.format !== "string" ? o2.format : [o2.format];
        self2._html5 = o2.html5 || false;
        self2._muted = o2.mute || false;
        self2._loop = o2.loop || false;
        self2._pool = o2.pool || 5;
        self2._preload = typeof o2.preload === "boolean" || o2.preload === "metadata" ? o2.preload : true;
        self2._rate = o2.rate || 1;
        self2._sprite = o2.sprite || {};
        self2._src = typeof o2.src !== "string" ? o2.src : [o2.src];
        self2._volume = o2.volume !== void 0 ? o2.volume : 1;
        self2._xhr = {
          method: o2.xhr && o2.xhr.method ? o2.xhr.method : "GET",
          headers: o2.xhr && o2.xhr.headers ? o2.xhr.headers : null,
          withCredentials: o2.xhr && o2.xhr.withCredentials ? o2.xhr.withCredentials : false
        };
        self2._duration = 0;
        self2._state = "unloaded";
        self2._sounds = [];
        self2._endTimers = {};
        self2._queue = [];
        self2._playLock = false;
        self2._onend = o2.onend ? [{ fn: o2.onend }] : [];
        self2._onfade = o2.onfade ? [{ fn: o2.onfade }] : [];
        self2._onload = o2.onload ? [{ fn: o2.onload }] : [];
        self2._onloaderror = o2.onloaderror ? [{ fn: o2.onloaderror }] : [];
        self2._onplayerror = o2.onplayerror ? [{ fn: o2.onplayerror }] : [];
        self2._onpause = o2.onpause ? [{ fn: o2.onpause }] : [];
        self2._onplay = o2.onplay ? [{ fn: o2.onplay }] : [];
        self2._onstop = o2.onstop ? [{ fn: o2.onstop }] : [];
        self2._onmute = o2.onmute ? [{ fn: o2.onmute }] : [];
        self2._onvolume = o2.onvolume ? [{ fn: o2.onvolume }] : [];
        self2._onrate = o2.onrate ? [{ fn: o2.onrate }] : [];
        self2._onseek = o2.onseek ? [{ fn: o2.onseek }] : [];
        self2._onunlock = o2.onunlock ? [{ fn: o2.onunlock }] : [];
        self2._onresume = [];
        self2._webAudio = Howler2.usingWebAudio && !self2._html5;
        if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
          Howler2._unlockAudio();
        }
        Howler2._howls.push(self2);
        if (self2._autoplay) {
          self2._queue.push({
            event: "play",
            action: function() {
              self2.play();
            }
          });
        }
        if (self2._preload && self2._preload !== "none") {
          self2.load();
        }
        return self2;
      },
      load: function() {
        var self2 = this;
        var url = null;
        if (Howler2.noAudio) {
          self2._emit("loaderror", null, "No audio support.");
          return;
        }
        if (typeof self2._src === "string") {
          self2._src = [self2._src];
        }
        for (var i2 = 0; i2 < self2._src.length; i2++) {
          var ext, str;
          if (self2._format && self2._format[i2]) {
            ext = self2._format[i2];
          } else {
            str = self2._src[i2];
            if (typeof str !== "string") {
              self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
              continue;
            }
            ext = /^data:audio\/([^;,]+);/i.exec(str);
            if (!ext) {
              ext = /\.([^.]+)$/.exec(str.split("?", 1)[0]);
            }
            if (ext) {
              ext = ext[1].toLowerCase();
            }
          }
          if (!ext) {
            console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
          }
          if (ext && Howler2.codecs(ext)) {
            url = self2._src[i2];
            break;
          }
        }
        if (!url) {
          self2._emit("loaderror", null, "No codec support for selected audio sources.");
          return;
        }
        self2._src = url;
        self2._state = "loading";
        if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
          self2._html5 = true;
          self2._webAudio = false;
        }
        new Sound2(self2);
        if (self2._webAudio) {
          loadBuffer(self2);
        }
        return self2;
      },
      play: function(sprite, internal) {
        var self2 = this;
        var id2 = null;
        if (typeof sprite === "number") {
          id2 = sprite;
          sprite = null;
        } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
          return null;
        } else if (typeof sprite === "undefined") {
          sprite = "__default";
          if (!self2._playLock) {
            var num = 0;
            for (var i2 = 0; i2 < self2._sounds.length; i2++) {
              if (self2._sounds[i2]._paused && !self2._sounds[i2]._ended) {
                num++;
                id2 = self2._sounds[i2]._id;
              }
            }
            if (num === 1) {
              sprite = null;
            } else {
              id2 = null;
            }
          }
        }
        var sound = id2 ? self2._soundById(id2) : self2._inactiveSound();
        if (!sound) {
          return null;
        }
        if (id2 && !sprite) {
          sprite = sound._sprite || "__default";
        }
        if (self2._state !== "loaded") {
          sound._sprite = sprite;
          sound._ended = false;
          var soundId = sound._id;
          self2._queue.push({
            event: "play",
            action: function() {
              self2.play(soundId);
            }
          });
          return soundId;
        }
        if (id2 && !sound._paused) {
          if (!internal) {
            self2._loadQueue("play");
          }
          return sound._id;
        }
        if (self2._webAudio) {
          Howler2._autoResume();
        }
        var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
        var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
        var timeout2 = duration * 1e3 / Math.abs(sound._rate);
        var start = self2._sprite[sprite][0] / 1e3;
        var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
        sound._sprite = sprite;
        sound._ended = false;
        var setParams = function() {
          sound._paused = false;
          sound._seek = seek;
          sound._start = start;
          sound._stop = stop;
          sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
        };
        if (seek >= stop) {
          self2._ended(sound);
          return;
        }
        var node = sound._node;
        if (self2._webAudio) {
          var playWebAudio = function() {
            self2._playLock = false;
            setParams();
            self2._refreshBuffer(sound);
            var vol = sound._muted || self2._muted ? 0 : sound._volume;
            node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
            sound._playStart = Howler2.ctx.currentTime;
            if (typeof node.bufferSource.start === "undefined") {
              sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
            } else {
              sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
            }
            if (timeout2 !== Infinity) {
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (!internal) {
              setTimeout(function() {
                self2._emit("play", sound._id);
                self2._loadQueue();
              }, 0);
            }
          };
          if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
            playWebAudio();
          } else {
            self2._playLock = true;
            self2.once("resume", playWebAudio);
            self2._clearTimer(sound._id);
          }
        } else {
          var playHtml5 = function() {
            node.currentTime = seek;
            node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
            node.volume = sound._volume * Howler2.volume();
            node.playbackRate = sound._rate;
            try {
              var play = node.play();
              if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                self2._playLock = true;
                setParams();
                play.then(function() {
                  self2._playLock = false;
                  node._unlocked = true;
                  if (!internal) {
                    self2._emit("play", sound._id);
                  } else {
                    self2._loadQueue();
                  }
                }).catch(function() {
                  self2._playLock = false;
                  self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                  sound._ended = true;
                  sound._paused = true;
                });
              } else if (!internal) {
                self2._playLock = false;
                setParams();
                self2._emit("play", sound._id);
              }
              node.playbackRate = sound._rate;
              if (node.paused) {
                self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                return;
              }
              if (sprite !== "__default" || sound._loop) {
                self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
              } else {
                self2._endTimers[sound._id] = function() {
                  self2._ended(sound);
                  node.removeEventListener("ended", self2._endTimers[sound._id], false);
                };
                node.addEventListener("ended", self2._endTimers[sound._id], false);
              }
            } catch (err) {
              self2._emit("playerror", sound._id, err);
            }
          };
          if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
            node.src = self2._src;
            node.load();
          }
          var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
          if (node.readyState >= 3 || loadedNoReadyState) {
            playHtml5();
          } else {
            self2._playLock = true;
            self2._state = "loading";
            var listener = function() {
              self2._state = "loaded";
              playHtml5();
              node.removeEventListener(Howler2._canPlayEvent, listener, false);
            };
            node.addEventListener(Howler2._canPlayEvent, listener, false);
            self2._clearTimer(sound._id);
          }
        }
        return sound._id;
      },
      pause: function(id2) {
        var self2 = this;
        if (self2._state !== "loaded" || self2._playLock) {
          self2._queue.push({
            event: "pause",
            action: function() {
              self2.pause(id2);
            }
          });
          return self2;
        }
        var ids = self2._getSoundIds(id2);
        for (var i2 = 0; i2 < ids.length; i2++) {
          self2._clearTimer(ids[i2]);
          var sound = self2._soundById(ids[i2]);
          if (sound && !sound._paused) {
            sound._seek = self2.seek(ids[i2]);
            sound._rateSeek = 0;
            sound._paused = true;
            self2._stopFade(ids[i2]);
            if (sound._node) {
              if (self2._webAudio) {
                if (!sound._node.bufferSource) {
                  continue;
                }
                if (typeof sound._node.bufferSource.stop === "undefined") {
                  sound._node.bufferSource.noteOff(0);
                } else {
                  sound._node.bufferSource.stop(0);
                }
                self2._cleanBuffer(sound._node);
              } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                sound._node.pause();
              }
            }
          }
          if (!arguments[1]) {
            self2._emit("pause", sound ? sound._id : null);
          }
        }
        return self2;
      },
      stop: function(id2, internal) {
        var self2 = this;
        if (self2._state !== "loaded" || self2._playLock) {
          self2._queue.push({
            event: "stop",
            action: function() {
              self2.stop(id2);
            }
          });
          return self2;
        }
        var ids = self2._getSoundIds(id2);
        for (var i2 = 0; i2 < ids.length; i2++) {
          self2._clearTimer(ids[i2]);
          var sound = self2._soundById(ids[i2]);
          if (sound) {
            sound._seek = sound._start || 0;
            sound._rateSeek = 0;
            sound._paused = true;
            sound._ended = true;
            self2._stopFade(ids[i2]);
            if (sound._node) {
              if (self2._webAudio) {
                if (sound._node.bufferSource) {
                  if (typeof sound._node.bufferSource.stop === "undefined") {
                    sound._node.bufferSource.noteOff(0);
                  } else {
                    sound._node.bufferSource.stop(0);
                  }
                  self2._cleanBuffer(sound._node);
                }
              } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                sound._node.currentTime = sound._start || 0;
                sound._node.pause();
                if (sound._node.duration === Infinity) {
                  self2._clearSound(sound._node);
                }
              }
            }
            if (!internal) {
              self2._emit("stop", sound._id);
            }
          }
        }
        return self2;
      },
      mute: function(muted, id2) {
        var self2 = this;
        if (self2._state !== "loaded" || self2._playLock) {
          self2._queue.push({
            event: "mute",
            action: function() {
              self2.mute(muted, id2);
            }
          });
          return self2;
        }
        if (typeof id2 === "undefined") {
          if (typeof muted === "boolean") {
            self2._muted = muted;
          } else {
            return self2._muted;
          }
        }
        var ids = self2._getSoundIds(id2);
        for (var i2 = 0; i2 < ids.length; i2++) {
          var sound = self2._soundById(ids[i2]);
          if (sound) {
            sound._muted = muted;
            if (sound._interval) {
              self2._stopFade(sound._id);
            }
            if (self2._webAudio && sound._node) {
              sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
            } else if (sound._node) {
              sound._node.muted = Howler2._muted ? true : muted;
            }
            self2._emit("mute", sound._id);
          }
        }
        return self2;
      },
      volume: function() {
        var self2 = this;
        var args = arguments;
        var vol, id2;
        if (args.length === 0) {
          return self2._volume;
        } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
          var ids = self2._getSoundIds();
          var index = ids.indexOf(args[0]);
          if (index >= 0) {
            id2 = parseInt(args[0], 10);
          } else {
            vol = parseFloat(args[0]);
          }
        } else if (args.length >= 2) {
          vol = parseFloat(args[0]);
          id2 = parseInt(args[1], 10);
        }
        var sound;
        if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
          if (self2._state !== "loaded" || self2._playLock) {
            self2._queue.push({
              event: "volume",
              action: function() {
                self2.volume.apply(self2, args);
              }
            });
            return self2;
          }
          if (typeof id2 === "undefined") {
            self2._volume = vol;
          }
          id2 = self2._getSoundIds(id2);
          for (var i2 = 0; i2 < id2.length; i2++) {
            sound = self2._soundById(id2[i2]);
            if (sound) {
              sound._volume = vol;
              if (!args[2]) {
                self2._stopFade(id2[i2]);
              }
              if (self2._webAudio && sound._node && !sound._muted) {
                sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              } else if (sound._node && !sound._muted) {
                sound._node.volume = vol * Howler2.volume();
              }
              self2._emit("volume", sound._id);
            }
          }
        } else {
          sound = id2 ? self2._soundById(id2) : self2._sounds[0];
          return sound ? sound._volume : 0;
        }
        return self2;
      },
      fade: function(from, to2, len, id2) {
        var self2 = this;
        if (self2._state !== "loaded" || self2._playLock) {
          self2._queue.push({
            event: "fade",
            action: function() {
              self2.fade(from, to2, len, id2);
            }
          });
          return self2;
        }
        from = Math.min(Math.max(0, parseFloat(from)), 1);
        to2 = Math.min(Math.max(0, parseFloat(to2)), 1);
        len = parseFloat(len);
        self2.volume(from, id2);
        var ids = self2._getSoundIds(id2);
        for (var i2 = 0; i2 < ids.length; i2++) {
          var sound = self2._soundById(ids[i2]);
          if (sound) {
            if (!id2) {
              self2._stopFade(ids[i2]);
            }
            if (self2._webAudio && !sound._muted) {
              var currentTime = Howler2.ctx.currentTime;
              var end = currentTime + len / 1e3;
              sound._volume = from;
              sound._node.gain.setValueAtTime(from, currentTime);
              sound._node.gain.linearRampToValueAtTime(to2, end);
            }
            self2._startFadeInterval(sound, from, to2, len, ids[i2], typeof id2 === "undefined");
          }
        }
        return self2;
      },
      _startFadeInterval: function(sound, from, to2, len, id2, isGroup) {
        var self2 = this;
        var vol = from;
        var diff = to2 - from;
        var steps = Math.abs(diff / 0.01);
        var stepLen = Math.max(4, steps > 0 ? len / steps : len);
        var lastTick = Date.now();
        sound._fadeTo = to2;
        sound._interval = setInterval(function() {
          var tick = (Date.now() - lastTick) / len;
          lastTick = Date.now();
          vol += diff * tick;
          vol = Math.round(vol * 100) / 100;
          if (diff < 0) {
            vol = Math.max(to2, vol);
          } else {
            vol = Math.min(to2, vol);
          }
          if (self2._webAudio) {
            sound._volume = vol;
          } else {
            self2.volume(vol, sound._id, true);
          }
          if (isGroup) {
            self2._volume = vol;
          }
          if (to2 < from && vol <= to2 || to2 > from && vol >= to2) {
            clearInterval(sound._interval);
            sound._interval = null;
            sound._fadeTo = null;
            self2.volume(to2, sound._id);
            self2._emit("fade", sound._id);
          }
        }, stepLen);
      },
      _stopFade: function(id2) {
        var self2 = this;
        var sound = self2._soundById(id2);
        if (sound && sound._interval) {
          if (self2._webAudio) {
            sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
          }
          clearInterval(sound._interval);
          sound._interval = null;
          self2.volume(sound._fadeTo, id2);
          sound._fadeTo = null;
          self2._emit("fade", id2);
        }
        return self2;
      },
      loop: function() {
        var self2 = this;
        var args = arguments;
        var loop, id2, sound;
        if (args.length === 0) {
          return self2._loop;
        } else if (args.length === 1) {
          if (typeof args[0] === "boolean") {
            loop = args[0];
            self2._loop = loop;
          } else {
            sound = self2._soundById(parseInt(args[0], 10));
            return sound ? sound._loop : false;
          }
        } else if (args.length === 2) {
          loop = args[0];
          id2 = parseInt(args[1], 10);
        }
        var ids = self2._getSoundIds(id2);
        for (var i2 = 0; i2 < ids.length; i2++) {
          sound = self2._soundById(ids[i2]);
          if (sound) {
            sound._loop = loop;
            if (self2._webAudio && sound._node && sound._node.bufferSource) {
              sound._node.bufferSource.loop = loop;
              if (loop) {
                sound._node.bufferSource.loopStart = sound._start || 0;
                sound._node.bufferSource.loopEnd = sound._stop;
                if (self2.playing(ids[i2])) {
                  self2.pause(ids[i2], true);
                  self2.play(ids[i2], true);
                }
              }
            }
          }
        }
        return self2;
      },
      rate: function() {
        var self2 = this;
        var args = arguments;
        var rate, id2;
        if (args.length === 0) {
          id2 = self2._sounds[0]._id;
        } else if (args.length === 1) {
          var ids = self2._getSoundIds();
          var index = ids.indexOf(args[0]);
          if (index >= 0) {
            id2 = parseInt(args[0], 10);
          } else {
            rate = parseFloat(args[0]);
          }
        } else if (args.length === 2) {
          rate = parseFloat(args[0]);
          id2 = parseInt(args[1], 10);
        }
        var sound;
        if (typeof rate === "number") {
          if (self2._state !== "loaded" || self2._playLock) {
            self2._queue.push({
              event: "rate",
              action: function() {
                self2.rate.apply(self2, args);
              }
            });
            return self2;
          }
          if (typeof id2 === "undefined") {
            self2._rate = rate;
          }
          id2 = self2._getSoundIds(id2);
          for (var i2 = 0; i2 < id2.length; i2++) {
            sound = self2._soundById(id2[i2]);
            if (sound) {
              if (self2.playing(id2[i2])) {
                sound._rateSeek = self2.seek(id2[i2]);
                sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
              }
              sound._rate = rate;
              if (self2._webAudio && sound._node && sound._node.bufferSource) {
                sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
              } else if (sound._node) {
                sound._node.playbackRate = rate;
              }
              var seek = self2.seek(id2[i2]);
              var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
              var timeout2 = duration * 1e3 / Math.abs(sound._rate);
              if (self2._endTimers[id2[i2]] || !sound._paused) {
                self2._clearTimer(id2[i2]);
                self2._endTimers[id2[i2]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
              }
              self2._emit("rate", sound._id);
            }
          }
        } else {
          sound = self2._soundById(id2);
          return sound ? sound._rate : self2._rate;
        }
        return self2;
      },
      seek: function() {
        var self2 = this;
        var args = arguments;
        var seek, id2;
        if (args.length === 0) {
          if (self2._sounds.length) {
            id2 = self2._sounds[0]._id;
          }
        } else if (args.length === 1) {
          var ids = self2._getSoundIds();
          var index = ids.indexOf(args[0]);
          if (index >= 0) {
            id2 = parseInt(args[0], 10);
          } else if (self2._sounds.length) {
            id2 = self2._sounds[0]._id;
            seek = parseFloat(args[0]);
          }
        } else if (args.length === 2) {
          seek = parseFloat(args[0]);
          id2 = parseInt(args[1], 10);
        }
        if (typeof id2 === "undefined") {
          return 0;
        }
        if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
          self2._queue.push({
            event: "seek",
            action: function() {
              self2.seek.apply(self2, args);
            }
          });
          return self2;
        }
        var sound = self2._soundById(id2);
        if (sound) {
          if (typeof seek === "number" && seek >= 0) {
            var playing = self2.playing(id2);
            if (playing) {
              self2.pause(id2, true);
            }
            sound._seek = seek;
            sound._ended = false;
            self2._clearTimer(id2);
            if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
              sound._node.currentTime = seek;
            }
            var seekAndEmit = function() {
              if (playing) {
                self2.play(id2, true);
              }
              self2._emit("seek", id2);
            };
            if (playing && !self2._webAudio) {
              var emitSeek = function() {
                if (!self2._playLock) {
                  seekAndEmit();
                } else {
                  setTimeout(emitSeek, 0);
                }
              };
              setTimeout(emitSeek, 0);
            } else {
              seekAndEmit();
            }
          } else {
            if (self2._webAudio) {
              var realTime = self2.playing(id2) ? Howler2.ctx.currentTime - sound._playStart : 0;
              var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
              return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
            } else {
              return sound._node.currentTime;
            }
          }
        }
        return self2;
      },
      playing: function(id2) {
        var self2 = this;
        if (typeof id2 === "number") {
          var sound = self2._soundById(id2);
          return sound ? !sound._paused : false;
        }
        for (var i2 = 0; i2 < self2._sounds.length; i2++) {
          if (!self2._sounds[i2]._paused) {
            return true;
          }
        }
        return false;
      },
      duration: function(id2) {
        var self2 = this;
        var duration = self2._duration;
        var sound = self2._soundById(id2);
        if (sound) {
          duration = self2._sprite[sound._sprite][1] / 1e3;
        }
        return duration;
      },
      state: function() {
        return this._state;
      },
      unload: function() {
        var self2 = this;
        var sounds = self2._sounds;
        for (var i2 = 0; i2 < sounds.length; i2++) {
          if (!sounds[i2]._paused) {
            self2.stop(sounds[i2]._id);
          }
          if (!self2._webAudio) {
            self2._clearSound(sounds[i2]._node);
            sounds[i2]._node.removeEventListener("error", sounds[i2]._errorFn, false);
            sounds[i2]._node.removeEventListener(Howler2._canPlayEvent, sounds[i2]._loadFn, false);
            sounds[i2]._node.removeEventListener("ended", sounds[i2]._endFn, false);
            Howler2._releaseHtml5Audio(sounds[i2]._node);
          }
          delete sounds[i2]._node;
          self2._clearTimer(sounds[i2]._id);
        }
        var index = Howler2._howls.indexOf(self2);
        if (index >= 0) {
          Howler2._howls.splice(index, 1);
        }
        var remCache = true;
        for (i2 = 0; i2 < Howler2._howls.length; i2++) {
          if (Howler2._howls[i2]._src === self2._src || self2._src.indexOf(Howler2._howls[i2]._src) >= 0) {
            remCache = false;
            break;
          }
        }
        if (cache && remCache) {
          delete cache[self2._src];
        }
        Howler2.noAudio = false;
        self2._state = "unloaded";
        self2._sounds = [];
        self2 = null;
        return null;
      },
      on: function(event, fn2, id2, once) {
        var self2 = this;
        var events = self2["_on" + event];
        if (typeof fn2 === "function") {
          events.push(once ? { id: id2, fn: fn2, once } : { id: id2, fn: fn2 });
        }
        return self2;
      },
      off: function(event, fn2, id2) {
        var self2 = this;
        var events = self2["_on" + event];
        var i2 = 0;
        if (typeof fn2 === "number") {
          id2 = fn2;
          fn2 = null;
        }
        if (fn2 || id2) {
          for (i2 = 0; i2 < events.length; i2++) {
            var isId = id2 === events[i2].id;
            if (fn2 === events[i2].fn && isId || !fn2 && isId) {
              events.splice(i2, 1);
              break;
            }
          }
        } else if (event) {
          self2["_on" + event] = [];
        } else {
          var keys = Object.keys(self2);
          for (i2 = 0; i2 < keys.length; i2++) {
            if (keys[i2].indexOf("_on") === 0 && Array.isArray(self2[keys[i2]])) {
              self2[keys[i2]] = [];
            }
          }
        }
        return self2;
      },
      once: function(event, fn2, id2) {
        var self2 = this;
        self2.on(event, fn2, id2, 1);
        return self2;
      },
      _emit: function(event, id2, msg) {
        var self2 = this;
        var events = self2["_on" + event];
        for (var i2 = events.length - 1; i2 >= 0; i2--) {
          if (!events[i2].id || events[i2].id === id2 || event === "load") {
            setTimeout(function(fn2) {
              fn2.call(this, id2, msg);
            }.bind(self2, events[i2].fn), 0);
            if (events[i2].once) {
              self2.off(event, events[i2].fn, events[i2].id);
            }
          }
        }
        self2._loadQueue(event);
        return self2;
      },
      _loadQueue: function(event) {
        var self2 = this;
        if (self2._queue.length > 0) {
          var task = self2._queue[0];
          if (task.event === event) {
            self2._queue.shift();
            self2._loadQueue();
          }
          if (!event) {
            task.action();
          }
        }
        return self2;
      },
      _ended: function(sound) {
        var self2 = this;
        var sprite = sound._sprite;
        if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
          setTimeout(self2._ended.bind(self2, sound), 100);
          return self2;
        }
        var loop = !!(sound._loop || self2._sprite[sprite][2]);
        self2._emit("end", sound._id);
        if (!self2._webAudio && loop) {
          self2.stop(sound._id, true).play(sound._id);
        }
        if (self2._webAudio && loop) {
          self2._emit("play", sound._id);
          sound._seek = sound._start || 0;
          sound._rateSeek = 0;
          sound._playStart = Howler2.ctx.currentTime;
          var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
          self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
        }
        if (self2._webAudio && !loop) {
          sound._paused = true;
          sound._ended = true;
          sound._seek = sound._start || 0;
          sound._rateSeek = 0;
          self2._clearTimer(sound._id);
          self2._cleanBuffer(sound._node);
          Howler2._autoSuspend();
        }
        if (!self2._webAudio && !loop) {
          self2.stop(sound._id, true);
        }
        return self2;
      },
      _clearTimer: function(id2) {
        var self2 = this;
        if (self2._endTimers[id2]) {
          if (typeof self2._endTimers[id2] !== "function") {
            clearTimeout(self2._endTimers[id2]);
          } else {
            var sound = self2._soundById(id2);
            if (sound && sound._node) {
              sound._node.removeEventListener("ended", self2._endTimers[id2], false);
            }
          }
          delete self2._endTimers[id2];
        }
        return self2;
      },
      _soundById: function(id2) {
        var self2 = this;
        for (var i2 = 0; i2 < self2._sounds.length; i2++) {
          if (id2 === self2._sounds[i2]._id) {
            return self2._sounds[i2];
          }
        }
        return null;
      },
      _inactiveSound: function() {
        var self2 = this;
        self2._drain();
        for (var i2 = 0; i2 < self2._sounds.length; i2++) {
          if (self2._sounds[i2]._ended) {
            return self2._sounds[i2].reset();
          }
        }
        return new Sound2(self2);
      },
      _drain: function() {
        var self2 = this;
        var limit = self2._pool;
        var cnt = 0;
        var i2 = 0;
        if (self2._sounds.length < limit) {
          return;
        }
        for (i2 = 0; i2 < self2._sounds.length; i2++) {
          if (self2._sounds[i2]._ended) {
            cnt++;
          }
        }
        for (i2 = self2._sounds.length - 1; i2 >= 0; i2--) {
          if (cnt <= limit) {
            return;
          }
          if (self2._sounds[i2]._ended) {
            if (self2._webAudio && self2._sounds[i2]._node) {
              self2._sounds[i2]._node.disconnect(0);
            }
            self2._sounds.splice(i2, 1);
            cnt--;
          }
        }
      },
      _getSoundIds: function(id2) {
        var self2 = this;
        if (typeof id2 === "undefined") {
          var ids = [];
          for (var i2 = 0; i2 < self2._sounds.length; i2++) {
            ids.push(self2._sounds[i2]._id);
          }
          return ids;
        } else {
          return [id2];
        }
      },
      _refreshBuffer: function(sound) {
        var self2 = this;
        sound._node.bufferSource = Howler2.ctx.createBufferSource();
        sound._node.bufferSource.buffer = cache[self2._src];
        if (sound._panner) {
          sound._node.bufferSource.connect(sound._panner);
        } else {
          sound._node.bufferSource.connect(sound._node);
        }
        sound._node.bufferSource.loop = sound._loop;
        if (sound._loop) {
          sound._node.bufferSource.loopStart = sound._start || 0;
          sound._node.bufferSource.loopEnd = sound._stop || 0;
        }
        sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
        return self2;
      },
      _cleanBuffer: function(node) {
        var self2 = this;
        var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
        if (Howler2._scratchBuffer && node.bufferSource) {
          node.bufferSource.onended = null;
          node.bufferSource.disconnect(0);
          if (isIOS) {
            try {
              node.bufferSource.buffer = Howler2._scratchBuffer;
            } catch (e20) {
            }
          }
        }
        node.bufferSource = null;
        return self2;
      },
      _clearSound: function(node) {
        var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
        if (!checkIE) {
          node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
        }
      }
    };
    var Sound2 = function(howl) {
      this._parent = howl;
      this.init();
    };
    Sound2.prototype = {
      init: function() {
        var self2 = this;
        var parent = self2._parent;
        self2._muted = parent._muted;
        self2._loop = parent._loop;
        self2._volume = parent._volume;
        self2._rate = parent._rate;
        self2._seek = 0;
        self2._paused = true;
        self2._ended = true;
        self2._sprite = "__default";
        self2._id = ++Howler2._counter;
        parent._sounds.push(self2);
        self2.create();
        return self2;
      },
      create: function() {
        var self2 = this;
        var parent = self2._parent;
        var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
        if (parent._webAudio) {
          self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
          self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
          self2._node.paused = true;
          self2._node.connect(Howler2.masterGain);
        } else if (!Howler2.noAudio) {
          self2._node = Howler2._obtainHtml5Audio();
          self2._errorFn = self2._errorListener.bind(self2);
          self2._node.addEventListener("error", self2._errorFn, false);
          self2._loadFn = self2._loadListener.bind(self2);
          self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          self2._endFn = self2._endListener.bind(self2);
          self2._node.addEventListener("ended", self2._endFn, false);
          self2._node.src = parent._src;
          self2._node.preload = parent._preload === true ? "auto" : parent._preload;
          self2._node.volume = volume * Howler2.volume();
          self2._node.load();
        }
        return self2;
      },
      reset: function() {
        var self2 = this;
        var parent = self2._parent;
        self2._muted = parent._muted;
        self2._loop = parent._loop;
        self2._volume = parent._volume;
        self2._rate = parent._rate;
        self2._seek = 0;
        self2._rateSeek = 0;
        self2._paused = true;
        self2._ended = true;
        self2._sprite = "__default";
        self2._id = ++Howler2._counter;
        return self2;
      },
      _errorListener: function() {
        var self2 = this;
        self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
        self2._node.removeEventListener("error", self2._errorFn, false);
      },
      _loadListener: function() {
        var self2 = this;
        var parent = self2._parent;
        parent._duration = Math.ceil(self2._node.duration * 10) / 10;
        if (Object.keys(parent._sprite).length === 0) {
          parent._sprite = { __default: [0, parent._duration * 1e3] };
        }
        if (parent._state !== "loaded") {
          parent._state = "loaded";
          parent._emit("load");
          parent._loadQueue();
        }
        self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
      },
      _endListener: function() {
        var self2 = this;
        var parent = self2._parent;
        if (parent._duration === Infinity) {
          parent._duration = Math.ceil(self2._node.duration * 10) / 10;
          if (parent._sprite.__default[1] === Infinity) {
            parent._sprite.__default[1] = parent._duration * 1e3;
          }
          parent._ended(self2);
        }
        self2._node.removeEventListener("ended", self2._endFn, false);
      }
    };
    var cache = {};
    var loadBuffer = function(self2) {
      var url = self2._src;
      if (cache[url]) {
        self2._duration = cache[url].duration;
        loadSound(self2);
        return;
      }
      if (/^data:[^;]+;base64,/.test(url)) {
        var data = atob(url.split(",")[1]);
        var dataView = new Uint8Array(data.length);
        for (var i2 = 0; i2 < data.length; ++i2) {
          dataView[i2] = data.charCodeAt(i2);
        }
        decodeAudioData(dataView.buffer, self2);
      } else {
        var xhr = new XMLHttpRequest();
        xhr.open(self2._xhr.method, url, true);
        xhr.withCredentials = self2._xhr.withCredentials;
        xhr.responseType = "arraybuffer";
        if (self2._xhr.headers) {
          Object.keys(self2._xhr.headers).forEach(function(key) {
            xhr.setRequestHeader(key, self2._xhr.headers[key]);
          });
        }
        xhr.onload = function() {
          var code = (xhr.status + "")[0];
          if (code !== "0" && code !== "2" && code !== "3") {
            self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
            return;
          }
          decodeAudioData(xhr.response, self2);
        };
        xhr.onerror = function() {
          if (self2._webAudio) {
            self2._html5 = true;
            self2._webAudio = false;
            self2._sounds = [];
            delete cache[url];
            self2.load();
          }
        };
        safeXhrSend(xhr);
      }
    };
    var safeXhrSend = function(xhr) {
      try {
        xhr.send();
      } catch (e20) {
        xhr.onerror();
      }
    };
    var decodeAudioData = function(arraybuffer, self2) {
      var error2 = function() {
        self2._emit("loaderror", null, "Decoding audio data failed.");
      };
      var success = function(buffer) {
        if (buffer && self2._sounds.length > 0) {
          cache[self2._src] = buffer;
          loadSound(self2, buffer);
        } else {
          error2();
        }
      };
      if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
        Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error2);
      } else {
        Howler2.ctx.decodeAudioData(arraybuffer, success, error2);
      }
    };
    var loadSound = function(self2, buffer) {
      if (buffer && !self2._duration) {
        self2._duration = buffer.duration;
      }
      if (Object.keys(self2._sprite).length === 0) {
        self2._sprite = { __default: [0, self2._duration * 1e3] };
      }
      if (self2._state !== "loaded") {
        self2._state = "loaded";
        self2._emit("load");
        self2._loadQueue();
      }
    };
    var setupAudioContext = function() {
      if (!Howler2.usingWebAudio) {
        return;
      }
      try {
        if (typeof AudioContext !== "undefined") {
          Howler2.ctx = new AudioContext();
        } else if (typeof webkitAudioContext !== "undefined") {
          Howler2.ctx = new webkitAudioContext();
        } else {
          Howler2.usingWebAudio = false;
        }
      } catch (e20) {
        Howler2.usingWebAudio = false;
      }
      if (!Howler2.ctx) {
        Howler2.usingWebAudio = false;
      }
      var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
      var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
      var version = appVersion ? parseInt(appVersion[1], 10) : null;
      if (iOS && version && version < 9) {
        var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
        if (Howler2._navigator && !safari) {
          Howler2.usingWebAudio = false;
        }
      }
      if (Howler2.usingWebAudio) {
        Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
        Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
        Howler2.masterGain.connect(Howler2.ctx.destination);
      }
      Howler2._setup();
    };
    {
      exports2.Howler = Howler2;
      exports2.Howl = Howl2;
    }
    if (typeof commonjsGlobal !== "undefined") {
      commonjsGlobal.HowlerGlobal = HowlerGlobal2;
      commonjsGlobal.Howler = Howler2;
      commonjsGlobal.Howl = Howl2;
      commonjsGlobal.Sound = Sound2;
    } else if (typeof window !== "undefined") {
      window.HowlerGlobal = HowlerGlobal2;
      window.Howler = Howler2;
      window.Howl = Howl2;
      window.Sound = Sound2;
    }
  })();
  /*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
  (function() {
    HowlerGlobal.prototype._pos = [0, 0, 0];
    HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
    HowlerGlobal.prototype.stereo = function(pan) {
      var self2 = this;
      if (!self2.ctx || !self2.ctx.listener) {
        return self2;
      }
      for (var i2 = self2._howls.length - 1; i2 >= 0; i2--) {
        self2._howls[i2].stereo(pan);
      }
      return self2;
    };
    HowlerGlobal.prototype.pos = function(x2, y2, z2) {
      var self2 = this;
      if (!self2.ctx || !self2.ctx.listener) {
        return self2;
      }
      y2 = typeof y2 !== "number" ? self2._pos[1] : y2;
      z2 = typeof z2 !== "number" ? self2._pos[2] : z2;
      if (typeof x2 === "number") {
        self2._pos = [x2, y2, z2];
        if (typeof self2.ctx.listener.positionX !== "undefined") {
          self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
        } else {
          self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
        }
      } else {
        return self2._pos;
      }
      return self2;
    };
    HowlerGlobal.prototype.orientation = function(x2, y2, z2, xUp, yUp, zUp) {
      var self2 = this;
      if (!self2.ctx || !self2.ctx.listener) {
        return self2;
      }
      var or2 = self2._orientation;
      y2 = typeof y2 !== "number" ? or2[1] : y2;
      z2 = typeof z2 !== "number" ? or2[2] : z2;
      xUp = typeof xUp !== "number" ? or2[3] : xUp;
      yUp = typeof yUp !== "number" ? or2[4] : yUp;
      zUp = typeof zUp !== "number" ? or2[5] : zUp;
      if (typeof x2 === "number") {
        self2._orientation = [x2, y2, z2, xUp, yUp, zUp];
        if (typeof self2.ctx.listener.forwardX !== "undefined") {
          self2.ctx.listener.forwardX.setTargetAtTime(x2, Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.forwardY.setTargetAtTime(y2, Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.forwardZ.setTargetAtTime(z2, Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
          self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
        } else {
          self2.ctx.listener.setOrientation(x2, y2, z2, xUp, yUp, zUp);
        }
      } else {
        return or2;
      }
      return self2;
    };
    Howl.prototype.init = function(_super) {
      return function(o2) {
        var self2 = this;
        self2._orientation = o2.orientation || [1, 0, 0];
        self2._stereo = o2.stereo || null;
        self2._pos = o2.pos || null;
        self2._pannerAttr = {
          coneInnerAngle: typeof o2.coneInnerAngle !== "undefined" ? o2.coneInnerAngle : 360,
          coneOuterAngle: typeof o2.coneOuterAngle !== "undefined" ? o2.coneOuterAngle : 360,
          coneOuterGain: typeof o2.coneOuterGain !== "undefined" ? o2.coneOuterGain : 0,
          distanceModel: typeof o2.distanceModel !== "undefined" ? o2.distanceModel : "inverse",
          maxDistance: typeof o2.maxDistance !== "undefined" ? o2.maxDistance : 1e4,
          panningModel: typeof o2.panningModel !== "undefined" ? o2.panningModel : "HRTF",
          refDistance: typeof o2.refDistance !== "undefined" ? o2.refDistance : 1,
          rolloffFactor: typeof o2.rolloffFactor !== "undefined" ? o2.rolloffFactor : 1
        };
        self2._onstereo = o2.onstereo ? [{ fn: o2.onstereo }] : [];
        self2._onpos = o2.onpos ? [{ fn: o2.onpos }] : [];
        self2._onorientation = o2.onorientation ? [{ fn: o2.onorientation }] : [];
        return _super.call(this, o2);
      };
    }(Howl.prototype.init);
    Howl.prototype.stereo = function(pan, id2) {
      var self2 = this;
      if (!self2._webAudio) {
        return self2;
      }
      if (self2._state !== "loaded") {
        self2._queue.push({
          event: "stereo",
          action: function() {
            self2.stereo(pan, id2);
          }
        });
        return self2;
      }
      var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
      if (typeof id2 === "undefined") {
        if (typeof pan === "number") {
          self2._stereo = pan;
          self2._pos = [pan, 0, 0];
        } else {
          return self2._stereo;
        }
      }
      var ids = self2._getSoundIds(id2);
      for (var i2 = 0; i2 < ids.length; i2++) {
        var sound = self2._soundById(ids[i2]);
        if (sound) {
          if (typeof pan === "number") {
            sound._stereo = pan;
            sound._pos = [pan, 0, 0];
            if (sound._node) {
              sound._pannerAttr.panningModel = "equalpower";
              if (!sound._panner || !sound._panner.pan) {
                setupPanner(sound, pannerType);
              }
              if (pannerType === "spatial") {
                if (typeof sound._panner.positionX !== "undefined") {
                  sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                  sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                  sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                } else {
                  sound._panner.setPosition(pan, 0, 0);
                }
              } else {
                sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
              }
            }
            self2._emit("stereo", sound._id);
          } else {
            return sound._stereo;
          }
        }
      }
      return self2;
    };
    Howl.prototype.pos = function(x2, y2, z2, id2) {
      var self2 = this;
      if (!self2._webAudio) {
        return self2;
      }
      if (self2._state !== "loaded") {
        self2._queue.push({
          event: "pos",
          action: function() {
            self2.pos(x2, y2, z2, id2);
          }
        });
        return self2;
      }
      y2 = typeof y2 !== "number" ? 0 : y2;
      z2 = typeof z2 !== "number" ? -0.5 : z2;
      if (typeof id2 === "undefined") {
        if (typeof x2 === "number") {
          self2._pos = [x2, y2, z2];
        } else {
          return self2._pos;
        }
      }
      var ids = self2._getSoundIds(id2);
      for (var i2 = 0; i2 < ids.length; i2++) {
        var sound = self2._soundById(ids[i2]);
        if (sound) {
          if (typeof x2 === "number") {
            sound._pos = [x2, y2, z2];
            if (sound._node) {
              if (!sound._panner || sound._panner.pan) {
                setupPanner(sound, "spatial");
              }
              if (typeof sound._panner.positionX !== "undefined") {
                sound._panner.positionX.setValueAtTime(x2, Howler.ctx.currentTime);
                sound._panner.positionY.setValueAtTime(y2, Howler.ctx.currentTime);
                sound._panner.positionZ.setValueAtTime(z2, Howler.ctx.currentTime);
              } else {
                sound._panner.setPosition(x2, y2, z2);
              }
            }
            self2._emit("pos", sound._id);
          } else {
            return sound._pos;
          }
        }
      }
      return self2;
    };
    Howl.prototype.orientation = function(x2, y2, z2, id2) {
      var self2 = this;
      if (!self2._webAudio) {
        return self2;
      }
      if (self2._state !== "loaded") {
        self2._queue.push({
          event: "orientation",
          action: function() {
            self2.orientation(x2, y2, z2, id2);
          }
        });
        return self2;
      }
      y2 = typeof y2 !== "number" ? self2._orientation[1] : y2;
      z2 = typeof z2 !== "number" ? self2._orientation[2] : z2;
      if (typeof id2 === "undefined") {
        if (typeof x2 === "number") {
          self2._orientation = [x2, y2, z2];
        } else {
          return self2._orientation;
        }
      }
      var ids = self2._getSoundIds(id2);
      for (var i2 = 0; i2 < ids.length; i2++) {
        var sound = self2._soundById(ids[i2]);
        if (sound) {
          if (typeof x2 === "number") {
            sound._orientation = [x2, y2, z2];
            if (sound._node) {
              if (!sound._panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
              }
              if (typeof sound._panner.orientationX !== "undefined") {
                sound._panner.orientationX.setValueAtTime(x2, Howler.ctx.currentTime);
                sound._panner.orientationY.setValueAtTime(y2, Howler.ctx.currentTime);
                sound._panner.orientationZ.setValueAtTime(z2, Howler.ctx.currentTime);
              } else {
                sound._panner.setOrientation(x2, y2, z2);
              }
            }
            self2._emit("orientation", sound._id);
          } else {
            return sound._orientation;
          }
        }
      }
      return self2;
    };
    Howl.prototype.pannerAttr = function() {
      var self2 = this;
      var args = arguments;
      var o2, id2, sound;
      if (!self2._webAudio) {
        return self2;
      }
      if (args.length === 0) {
        return self2._pannerAttr;
      } else if (args.length === 1) {
        if (typeof args[0] === "object") {
          o2 = args[0];
          if (typeof id2 === "undefined") {
            if (!o2.pannerAttr) {
              o2.pannerAttr = {
                coneInnerAngle: o2.coneInnerAngle,
                coneOuterAngle: o2.coneOuterAngle,
                coneOuterGain: o2.coneOuterGain,
                distanceModel: o2.distanceModel,
                maxDistance: o2.maxDistance,
                refDistance: o2.refDistance,
                rolloffFactor: o2.rolloffFactor,
                panningModel: o2.panningModel
              };
            }
            self2._pannerAttr = {
              coneInnerAngle: typeof o2.pannerAttr.coneInnerAngle !== "undefined" ? o2.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
              coneOuterAngle: typeof o2.pannerAttr.coneOuterAngle !== "undefined" ? o2.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
              coneOuterGain: typeof o2.pannerAttr.coneOuterGain !== "undefined" ? o2.pannerAttr.coneOuterGain : self2._coneOuterGain,
              distanceModel: typeof o2.pannerAttr.distanceModel !== "undefined" ? o2.pannerAttr.distanceModel : self2._distanceModel,
              maxDistance: typeof o2.pannerAttr.maxDistance !== "undefined" ? o2.pannerAttr.maxDistance : self2._maxDistance,
              refDistance: typeof o2.pannerAttr.refDistance !== "undefined" ? o2.pannerAttr.refDistance : self2._refDistance,
              rolloffFactor: typeof o2.pannerAttr.rolloffFactor !== "undefined" ? o2.pannerAttr.rolloffFactor : self2._rolloffFactor,
              panningModel: typeof o2.pannerAttr.panningModel !== "undefined" ? o2.pannerAttr.panningModel : self2._panningModel
            };
          }
        } else {
          sound = self2._soundById(parseInt(args[0], 10));
          return sound ? sound._pannerAttr : self2._pannerAttr;
        }
      } else if (args.length === 2) {
        o2 = args[0];
        id2 = parseInt(args[1], 10);
      }
      var ids = self2._getSoundIds(id2);
      for (var i2 = 0; i2 < ids.length; i2++) {
        sound = self2._soundById(ids[i2]);
        if (sound) {
          var pa2 = sound._pannerAttr;
          pa2 = {
            coneInnerAngle: typeof o2.coneInnerAngle !== "undefined" ? o2.coneInnerAngle : pa2.coneInnerAngle,
            coneOuterAngle: typeof o2.coneOuterAngle !== "undefined" ? o2.coneOuterAngle : pa2.coneOuterAngle,
            coneOuterGain: typeof o2.coneOuterGain !== "undefined" ? o2.coneOuterGain : pa2.coneOuterGain,
            distanceModel: typeof o2.distanceModel !== "undefined" ? o2.distanceModel : pa2.distanceModel,
            maxDistance: typeof o2.maxDistance !== "undefined" ? o2.maxDistance : pa2.maxDistance,
            refDistance: typeof o2.refDistance !== "undefined" ? o2.refDistance : pa2.refDistance,
            rolloffFactor: typeof o2.rolloffFactor !== "undefined" ? o2.rolloffFactor : pa2.rolloffFactor,
            panningModel: typeof o2.panningModel !== "undefined" ? o2.panningModel : pa2.panningModel
          };
          var panner = sound._panner;
          if (panner) {
            panner.coneInnerAngle = pa2.coneInnerAngle;
            panner.coneOuterAngle = pa2.coneOuterAngle;
            panner.coneOuterGain = pa2.coneOuterGain;
            panner.distanceModel = pa2.distanceModel;
            panner.maxDistance = pa2.maxDistance;
            panner.refDistance = pa2.refDistance;
            panner.rolloffFactor = pa2.rolloffFactor;
            panner.panningModel = pa2.panningModel;
          } else {
            if (!sound._pos) {
              sound._pos = self2._pos || [0, 0, -0.5];
            }
            setupPanner(sound, "spatial");
          }
        }
      }
      return self2;
    };
    Sound.prototype.init = function(_super) {
      return function() {
        var self2 = this;
        var parent = self2._parent;
        self2._orientation = parent._orientation;
        self2._stereo = parent._stereo;
        self2._pos = parent._pos;
        self2._pannerAttr = parent._pannerAttr;
        _super.call(this);
        if (self2._stereo) {
          parent.stereo(self2._stereo);
        } else if (self2._pos) {
          parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
        }
      };
    }(Sound.prototype.init);
    Sound.prototype.reset = function(_super) {
      return function() {
        var self2 = this;
        var parent = self2._parent;
        self2._orientation = parent._orientation;
        self2._stereo = parent._stereo;
        self2._pos = parent._pos;
        self2._pannerAttr = parent._pannerAttr;
        if (self2._stereo) {
          parent.stereo(self2._stereo);
        } else if (self2._pos) {
          parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
        } else if (self2._panner) {
          self2._panner.disconnect(0);
          self2._panner = void 0;
          parent._refreshBuffer(self2);
        }
        return _super.call(this);
      };
    }(Sound.prototype.reset);
    var setupPanner = function(sound, type) {
      type = type || "spatial";
      if (type === "spatial") {
        sound._panner = Howler.ctx.createPanner();
        sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
        sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
        sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
        sound._panner.distanceModel = sound._pannerAttr.distanceModel;
        sound._panner.maxDistance = sound._pannerAttr.maxDistance;
        sound._panner.refDistance = sound._pannerAttr.refDistance;
        sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
        sound._panner.panningModel = sound._pannerAttr.panningModel;
        if (typeof sound._panner.positionX !== "undefined") {
          sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
          sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
          sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
        } else {
          sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
        }
        if (typeof sound._panner.orientationX !== "undefined") {
          sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
          sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
          sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
        } else {
          sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
        }
      } else {
        sound._panner = Howler.ctx.createStereoPanner();
        sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
      }
      sound._panner.connect(sound._node);
      if (!sound._paused) {
        sound._parent.pause(sound._id, true).play(sound._id, true);
      }
    };
  })();
})(howler);
function timeout(durationMs) {
  return new Promise((resolve, reject) => {
    setTimeout(resolve, durationMs);
  });
}
var isVue2 = false;
/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
let activePinia;
const setActivePinia = (pinia) => activePinia = pinia;
const piniaSymbol = Symbol();
function isPlainObject$1(o2) {
  return o2 && typeof o2 === "object" && Object.prototype.toString.call(o2) === "[object Object]" && typeof o2.toJSON !== "function";
}
var MutationType;
(function(MutationType2) {
  MutationType2["direct"] = "direct";
  MutationType2["patchObject"] = "patch object";
  MutationType2["patchFunction"] = "patch function";
})(MutationType || (MutationType = {}));
function createPinia() {
  const scope = effectScope(true);
  const state = scope.run(() => ref({}));
  let _p2 = [];
  let toBeInstalled = [];
  const pinia = markRaw({
    install(app2) {
      setActivePinia(pinia);
      {
        pinia._a = app2;
        app2.provide(piniaSymbol, pinia);
        app2.config.globalProperties.$pinia = pinia;
        toBeInstalled.forEach((plugin) => _p2.push(plugin));
        toBeInstalled = [];
      }
    },
    use(plugin) {
      if (!this._a && !isVue2) {
        toBeInstalled.push(plugin);
      } else {
        _p2.push(plugin);
      }
      return this;
    },
    _p: _p2,
    _a: null,
    _e: scope,
    _s: /* @__PURE__ */ new Map(),
    state
  });
  return pinia;
}
const noop$1 = () => {
};
function addSubscription(subscriptions, callback, detached, onCleanup = noop$1) {
  subscriptions.push(callback);
  const removeSubscription = () => {
    const idx = subscriptions.indexOf(callback);
    if (idx > -1) {
      subscriptions.splice(idx, 1);
      onCleanup();
    }
  };
  if (!detached && getCurrentInstance()) {
    onUnmounted(removeSubscription);
  }
  return removeSubscription;
}
function triggerSubscriptions(subscriptions, ...args) {
  subscriptions.slice().forEach((callback) => {
    callback(...args);
  });
}
function mergeReactiveObjects(target, patchToApply) {
  for (const key in patchToApply) {
    if (!patchToApply.hasOwnProperty(key))
      continue;
    const subPatch = patchToApply[key];
    const targetValue = target[key];
    if (isPlainObject$1(targetValue) && isPlainObject$1(subPatch) && target.hasOwnProperty(key) && !isRef(subPatch) && !isReactive(subPatch)) {
      target[key] = mergeReactiveObjects(targetValue, subPatch);
    } else {
      target[key] = subPatch;
    }
  }
  return target;
}
const skipHydrateSymbol = Symbol();
function shouldHydrate(obj) {
  return !isPlainObject$1(obj) || !obj.hasOwnProperty(skipHydrateSymbol);
}
const { assign } = Object;
function isComputed(o2) {
  return !!(isRef(o2) && o2.effect);
}
function createOptionsStore(id2, options, pinia, hot) {
  const { state, actions, getters } = options;
  const initialState = pinia.state.value[id2];
  let store;
  function setup() {
    if (!initialState && true) {
      {
        pinia.state.value[id2] = state ? state() : {};
      }
    }
    const localState = toRefs(pinia.state.value[id2]);
    return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {
      computedGetters[name] = markRaw(computed$1(() => {
        setActivePinia(pinia);
        const store2 = pinia._s.get(id2);
        return getters[name].call(store2, store2);
      }));
      return computedGetters;
    }, {}));
  }
  store = createSetupStore(id2, setup, options, pinia, hot, true);
  store.$reset = function $reset() {
    const newState = state ? state() : {};
    this.$patch(($state) => {
      assign($state, newState);
    });
  };
  return store;
}
function createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {
  let scope;
  const optionsForPlugin = assign({ actions: {} }, options);
  const $subscribeOptions = {
    deep: true
  };
  let isListening;
  let isSyncListening;
  let subscriptions = markRaw([]);
  let actionSubscriptions = markRaw([]);
  let debuggerEvents;
  const initialState = pinia.state.value[$id];
  if (!isOptionsStore && !initialState && true) {
    {
      pinia.state.value[$id] = {};
    }
  }
  ref({});
  let activeListener;
  function $patch(partialStateOrMutator) {
    let subscriptionMutation;
    isListening = isSyncListening = false;
    if (typeof partialStateOrMutator === "function") {
      partialStateOrMutator(pinia.state.value[$id]);
      subscriptionMutation = {
        type: MutationType.patchFunction,
        storeId: $id,
        events: debuggerEvents
      };
    } else {
      mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);
      subscriptionMutation = {
        type: MutationType.patchObject,
        payload: partialStateOrMutator,
        storeId: $id,
        events: debuggerEvents
      };
    }
    const myListenerId = activeListener = Symbol();
    nextTick$1().then(() => {
      if (activeListener === myListenerId) {
        isListening = true;
      }
    });
    isSyncListening = true;
    triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);
  }
  const $reset = noop$1;
  function $dispose() {
    scope.stop();
    subscriptions = [];
    actionSubscriptions = [];
    pinia._s.delete($id);
  }
  function wrapAction(name, action) {
    return function() {
      setActivePinia(pinia);
      const args = Array.from(arguments);
      const afterCallbackList = [];
      const onErrorCallbackList = [];
      function after(callback) {
        afterCallbackList.push(callback);
      }
      function onError(callback) {
        onErrorCallbackList.push(callback);
      }
      triggerSubscriptions(actionSubscriptions, {
        args,
        name,
        store,
        after,
        onError
      });
      let ret;
      try {
        ret = action.apply(this && this.$id === $id ? this : store, args);
      } catch (error2) {
        triggerSubscriptions(onErrorCallbackList, error2);
        throw error2;
      }
      if (ret instanceof Promise) {
        return ret.then((value) => {
          triggerSubscriptions(afterCallbackList, value);
          return value;
        }).catch((error2) => {
          triggerSubscriptions(onErrorCallbackList, error2);
          return Promise.reject(error2);
        });
      }
      triggerSubscriptions(afterCallbackList, ret);
      return ret;
    };
  }
  const partialStore = {
    _p: pinia,
    $id,
    $onAction: addSubscription.bind(null, actionSubscriptions),
    $patch,
    $reset,
    $subscribe(callback, options2 = {}) {
      const removeSubscription = addSubscription(subscriptions, callback, options2.detached, () => stopWatcher());
      const stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {
        if (options2.flush === "sync" ? isSyncListening : isListening) {
          callback({
            storeId: $id,
            type: MutationType.direct,
            events: debuggerEvents
          }, state);
        }
      }, assign({}, $subscribeOptions, options2)));
      return removeSubscription;
    },
    $dispose
  };
  const store = reactive(assign({}, partialStore));
  pinia._s.set($id, store);
  const setupStore = pinia._e.run(() => {
    scope = effectScope();
    return scope.run(() => setup());
  });
  for (const key in setupStore) {
    const prop = setupStore[key];
    if (isRef(prop) && !isComputed(prop) || isReactive(prop)) {
      if (!isOptionsStore) {
        if (initialState && shouldHydrate(prop)) {
          if (isRef(prop)) {
            prop.value = initialState[key];
          } else {
            mergeReactiveObjects(prop, initialState[key]);
          }
        }
        {
          pinia.state.value[$id][key] = prop;
        }
      }
    } else if (typeof prop === "function") {
      const actionValue = wrapAction(key, prop);
      {
        setupStore[key] = actionValue;
      }
      optionsForPlugin.actions[key] = prop;
    } else
      ;
  }
  {
    assign(store, setupStore);
    assign(toRaw(store), setupStore);
  }
  Object.defineProperty(store, "$state", {
    get: () => pinia.state.value[$id],
    set: (state) => {
      $patch(($state) => {
        assign($state, state);
      });
    }
  });
  pinia._p.forEach((extender) => {
    {
      assign(store, scope.run(() => extender({
        store,
        app: pinia._a,
        pinia,
        options: optionsForPlugin
      })));
    }
  });
  if (initialState && isOptionsStore && options.hydrate) {
    options.hydrate(store.$state, initialState);
  }
  isListening = true;
  isSyncListening = true;
  return store;
}
function defineStore(idOrOptions, setup, setupOptions) {
  let id2;
  let options;
  const isSetupStore = typeof setup === "function";
  if (typeof idOrOptions === "string") {
    id2 = idOrOptions;
    options = isSetupStore ? setupOptions : setup;
  } else {
    options = idOrOptions;
    id2 = idOrOptions.id;
  }
  function useStore(pinia, hot) {
    const currentInstance = getCurrentInstance();
    pinia = pinia || currentInstance && inject(piniaSymbol);
    if (pinia)
      setActivePinia(pinia);
    pinia = activePinia;
    if (!pinia._s.has(id2)) {
      if (isSetupStore) {
        createSetupStore(id2, setup, options, pinia);
      } else {
        createOptionsStore(id2, options, pinia);
      }
    }
    const store = pinia._s.get(id2);
    return store;
  }
  useStore.$id = id2;
  return useStore;
}
function mapState(useStore, keysOrMapper) {
  return Array.isArray(keysOrMapper) ? keysOrMapper.reduce((reduced, key) => {
    reduced[key] = function() {
      return useStore(this.$pinia)[key];
    };
    return reduced;
  }, {}) : Object.keys(keysOrMapper).reduce((reduced, key) => {
    reduced[key] = function() {
      const store = useStore(this.$pinia);
      const storeKey = keysOrMapper[key];
      return typeof storeKey === "function" ? storeKey.call(this, store) : store[storeKey];
    };
    return reduced;
  }, {});
}
const useAudio = defineStore("audio", {
  state: () => ({}),
  actions: {
    stopMusic() {
      if (this.currentMusic) {
        const music = this.currentMusic;
        this.currentMusic = void 0;
        stopAudio(music);
      }
    },
    setMusic(music, soundId) {
      this.currentMusic = music;
      this.musicHowlId = soundId;
    },
    generateSaveData() {
      return {
        currentMusic: this.currentMusic
      };
    },
    loadSaveData(data) {
      this.currentMusic = data.currentMusic;
    },
    reset() {
      this.stopMusic();
    }
  }
});
const audio = {};
howler.Howler.volume(0.5);
let audioTriggers = {};
async function loadAudioAssets(config2) {
  logger$1.log(`Loading audio`);
  const loadingPromises = [];
  howler.Howler.volume(config2.audioOptions.volume);
  for (const key in config2.music) {
    const musicConf = {
      loop: true,
      ...config2.music[key]
    };
    config2.audio[key] = musicConf;
    console.warn(`Music config is deprecated, instead you can now add musics to the \`audio\` config as they behave the same as other sounds!`);
  }
  for (const key in config2.sound) {
    config2.audio[key] = config2.sound[key];
  }
  for (const key in config2.audio) {
    const sound = config2.audio[key];
    if (!sound.src) {
      sound.src = sound.path;
      if (!sound.path) {
        console.error(`Audio config for ${key} doesn't have any \`src\` value to find the file`);
      }
      console.warn("Using `path` for audio and musics is deprecated. Please replace `path` with `src` in your config file!");
    }
    loadingPromises.push(loadAudio(key, config2.audio[key]));
  }
  if (config2.audioTriggers) {
    audioTriggers = config2.audioTriggers;
  }
  return Promise.all(loadingPromises);
}
function audioEvent(event) {
  if (audioTriggers[event]) {
    playAudio(audioTriggers[event]);
  }
}
async function loadAudio(key, config2) {
  return new Promise((resolve, reject) => {
    logger$1.log(`Loading audio ${config2.src}`);
    const sound = new howler.Howl({
      ...config2
    });
    sound.load();
    audio[key] = sound;
    resolve();
  });
}
async function changeMusic(newMusic) {
  const audio2 = useAudio();
  const oldHowler = audio2.musicHowlId;
  const audioOptions = getConfig().audioOptions;
  if (audio2.currentMusic) {
    const oldMusic = getAudio(audio2.currentMusic);
    if (oldHowler) {
      oldMusic.fade(oldMusic.volume(), 0, audioOptions.musicFadeOutTime * 1e3, oldHowler);
      setTimeout(() => {
        oldMusic.stop(oldHowler);
      }, audioOptions.musicFadeOutTime * 1e3);
    }
  }
  let sound;
  let newId;
  if (newMusic) {
    sound = getAudio(newMusic);
    if (!sound) {
      throw new Error(`Could not find music ${newMusic}`);
    }
    sound.volume(0);
    newId = sound.play();
    sound.pause();
    audio2.setMusic(newMusic, newId);
  }
  if (audio2.currentMusic) {
    await timeout(audioOptions.musicFadeInDelay * 1e3);
  }
  if (sound && useAudio().musicHowlId === newId) {
    sound.play();
    sound.fade(0, 1, audioOptions.musicFadeInTime * 1e3, newId);
  }
}
function playAudio(key) {
  const sound = getAudio(key);
  if (sound) {
    const soundId = sound.play();
    return soundId;
  } else {
    error(`Sound effect ${key} not found!`);
  }
}
function getAudio(key) {
  return audio[key];
}
function stopAudio(key) {
  if (key === useAudio().currentMusic) {
    useAudio().stopMusic();
  } else {
    const sound = getAudio(key);
    if (sound) {
      sound.stop();
    }
  }
}
function pauseAudio(key) {
  const sound = getAudio(key);
  if (sound) {
    sound.pause();
  }
}
const SAVE_FILE = "gameSave";
function saveGame(object) {
  localStorage.setItem(SAVE_FILE, JSON.stringify(object));
}
function randomId() {
  return `${Date.now() - Math.floor(Math.random() * 99999999)}`;
}
function getFile(url) {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.onload = function() {
      if (xhr.status >= 200 && xhr.status < 300) {
        resolve(xhr.responseText);
      } else {
        reject(xhr.status);
      }
    };
    xhr.open("GET", url);
    xhr.send();
  });
}
var isMergeableObject = function isMergeableObject2(value) {
  return isNonNullObject(value) && !isSpecial(value);
};
function isNonNullObject(value) {
  return !!value && typeof value === "object";
}
function isSpecial(value) {
  var stringValue = Object.prototype.toString.call(value);
  return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
}
var canUseSymbol = typeof Symbol === "function" && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
function isReactElement(value) {
  return value.$$typeof === REACT_ELEMENT_TYPE;
}
function emptyTarget(val) {
  return Array.isArray(val) ? [] : {};
}
function cloneUnlessOtherwiseSpecified(value, options) {
  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
}
function defaultArrayMerge(target, source, options) {
  return target.concat(source).map(function(element) {
    return cloneUnlessOtherwiseSpecified(element, options);
  });
}
function getMergeFunction(key, options) {
  if (!options.customMerge) {
    return deepmerge;
  }
  var customMerge = options.customMerge(key);
  return typeof customMerge === "function" ? customMerge : deepmerge;
}
function getEnumerableOwnPropertySymbols(target) {
  return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {
    return target.propertyIsEnumerable(symbol);
  }) : [];
}
function getKeys(target) {
  return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));
}
function propertyIsOnObject(object, property) {
  try {
    return property in object;
  } catch (_2) {
    return false;
  }
}
function propertyIsUnsafe(target, key) {
  return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));
}
function mergeObject(target, source, options) {
  var destination = {};
  if (options.isMergeableObject(target)) {
    getKeys(target).forEach(function(key) {
      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
    });
  }
  getKeys(source).forEach(function(key) {
    if (propertyIsUnsafe(target, key)) {
      return;
    }
    if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
      destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
    } else {
      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
    }
  });
  return destination;
}
function deepmerge(target, source, options) {
  options = options || {};
  options.arrayMerge = options.arrayMerge || defaultArrayMerge;
  options.isMergeableObject = options.isMergeableObject || isMergeableObject;
  options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;
  var sourceIsArray = Array.isArray(source);
  var targetIsArray = Array.isArray(target);
  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
  if (!sourceAndTargetTypesMatch) {
    return cloneUnlessOtherwiseSpecified(source, options);
  } else if (sourceIsArray) {
    return options.arrayMerge(target, source, options);
  } else {
    return mergeObject(target, source, options);
  }
}
deepmerge.all = function deepmergeAll(array, options) {
  if (!Array.isArray(array)) {
    throw new Error("first argument should be an array");
  }
  return array.reduce(function(prev, next) {
    return deepmerge(prev, next, options);
  }, {});
};
var deepmerge_1 = deepmerge;
var cjs = deepmerge_1;
const useHud = defineStore("hud", {
  state: () => ({
    hudStats: {}
  }),
  actions: {
    setupHudStats(stats) {
      for (const stat in stats) {
        this.hudStats[stat] = {
          value: stats[stat].startingValue
        };
      }
    },
    setStat(stat, value) {
      this.hudStats[stat].value = value;
    },
    addStat(stat, value) {
      this.hudStats[stat].value += value;
    },
    getStat(stat) {
      return this.hudStats[stat];
    },
    getStatValue(stat) {
      return this.hudStats[stat].value;
    },
    generateSaveData() {
      return {
        hudStats: this.hudStats
      };
    },
    loadSaveData(data) {
      this.hudStats = cjs(this.hudStats, data.hudStats);
    }
  }
});
const useNotifications = defineStore("notifications", {
  state: () => ({ notifications: {} }),
  actions: {
    async addNotification(text) {
      const id2 = `${Date.now()}-${Math.random() * 1e4}`;
      this.notifications[id2] = {
        text
      };
      if (getConfig().notifications.alsoPrintInDialogue) {
        writeText(`[NOTIFICATION] ${text}`);
      }
      await timeout(getConfig().notifications.timeOnScreen * 1e3);
      this.deleteNotification(id2);
    },
    deleteNotification(id2) {
      delete this.notifications[id2];
    }
  }
});
const useInventory = defineStore("inventory", {
  state: () => ({
    items: {},
    interactionTags: {}
  }),
  actions: {
    generateSaveData() {
      return {
        items: this.items,
        interactionTags: this.interactionTags
      };
    },
    loadSaveData(save) {
      this.items = { ...this.items, ...save.items };
      this.interactionTags = { ...save.interactionTags };
    },
    setupItems(items) {
      Object.keys(items).forEach((key) => {
        this.items[key] = {
          amount: 0,
          id: key
        };
      });
    },
    hasItem(itemId, amount) {
      var _a2;
      if (!amount) {
        amount = 1;
      }
      return ((_a2 = this.items[itemId]) == null ? void 0 : _a2.amount) >= amount;
    },
    getExistingItem(id2) {
      return this.items[id2];
    },
    getItemAmount(id2) {
      var _a2;
      return ((_a2 = this.getExistingItem(id2)) == null ? void 0 : _a2.amount) || 0;
    },
    add(item) {
      const existingItem = this.getExistingItem(item.id);
      if (existingItem) {
        existingItem.amount += item.amount;
      } else {
        this.items[item.id] = { ...item };
      }
      useNotifications().addNotification(`Received item: ${getItemConfig(item.id).name} x ${item.amount}`);
    },
    enableInteraction(tag) {
      if (!tag) {
        tag = "default";
      }
      this.interactionTags[tag] = {
        blockedInteraction: false
      };
    },
    disableInteraction(tag) {
      if (!tag) {
        tag = "default";
      }
      this.interactionTags[tag] = {
        blockedInteraction: true
      };
    },
    onScriptStart() {
      const tags = getConfig().interactionTags;
      Object.keys(tags).forEach((tag) => {
        const conf = tags[tag];
        if (conf.onlyInteractOutsideOfScripts) {
          this.disableInteraction(tag);
        }
      });
    },
    onScriptEnd() {
      const tags = getConfig().interactionTags;
      Object.keys(tags).forEach((tag) => {
        const conf = tags[tag];
        if (conf.onlyInteractOutsideOfScripts) {
          this.enableInteraction(tag);
        }
      });
    },
    isInteractionTagBlocked(tag) {
      if (!tag) {
        tag = "default";
      }
      if (this.interactionTags[tag]) {
        return this.interactionTags[tag].blockedInteraction;
      }
      return false;
    },
    remove(item) {
      const existingItem = this.getExistingItem(item.id);
      if (existingItem) {
        existingItem.amount -= item.amount;
        useNotifications().addNotification(`Lost item: ${getItemConfig(item.id).name} x ${item.amount}`);
        if (existingItem.amount <= 0) {
          this.deleteItem(item.id);
        }
      }
    },
    deleteItem(id2) {
      const existingItem = this.getExistingItem(id2);
      if (existingItem) {
        this.items[id2].amount = 0;
      }
    }
  }
});
const useQuests = defineStore("quests", {
  state: () => ({
    quests: {}
  }),
  actions: {
    getQuest(questId) {
      const quest = this.quests[questId];
      if (quest) {
        return quest;
      } else {
        const err = `Quest ${questId} doesn't exist!`;
        error(err);
        throw new Error(err);
      }
    },
    getObjective(questId, objectiveId) {
      const quest = this.getQuest(questId);
      if (!quest) {
        const err2 = `Quest ${questId} doesn't exist!`;
        error(err2);
        throw new Error(err2);
      }
      const questObjective = quest.objectives[objectiveId];
      if (questObjective) {
        return questObjective;
      }
      const err = `Objective ${objectiveId} doesn't exist in quest ${questId}!`;
      error(err);
      throw new Error(err);
    },
    setupQuests(quests) {
      for (const key of Object.keys(quests)) {
        const data = quests[key];
        this.quests[key] = {
          id: key,
          state: "hidden",
          objectives: {}
        };
        for (const objectiveKey of Object.keys(data.objectives)) {
          const objective = data.objectives[objectiveKey];
          this.quests[key].objectives[objectiveKey] = {
            id: objectiveKey,
            state: objective.hidden ? "hidden" : "unlocked"
          };
        }
      }
    },
    startQuest(questId) {
      const quest = this.getQuest(questId);
      if (quest) {
        quest.state = "unlocked";
        useNotifications().addNotification(`Started quest: ${getQuestConfig(questId).title}`);
      } else {
        error(`Quest ${questId} doesn't exist!`);
      }
    },
    startObjective(questId, objectiveId) {
      const objective = this.getObjective(questId, objectiveId);
      if (objective) {
        objective.state = "unlocked";
        useNotifications().addNotification(`New quest objective: ${getObjectiveConfig(questId, objectiveId).description}`);
      } else {
        error(`Objective ${objectiveId} doesn't exist in quest ${questId}!`);
      }
    },
    completeObjective(questId, objectiveId) {
      const objective = this.getObjective(questId, objectiveId);
      if (objective) {
        objective.state = "completed";
        useNotifications().addNotification(`Completed quest objective: ${getObjectiveConfig(questId, objectiveId).description}`);
      } else {
        error(`Objective ${objectiveId} doesn't exist in quest ${questId}!`);
      }
    },
    completeQuest(questId, ending) {
      const quest = this.getQuest(questId);
      if (quest) {
        quest.state = "completed";
        quest.ending = ending;
        useNotifications().addNotification(`Completed quest: ${getQuestConfig(questId).title}`);
      } else {
        error(`Quest ${questId} doesn't exist!`);
      }
    },
    isQuestCompleted(questId) {
      const quest = this.getQuest(questId);
      if (!quest) {
        return false;
      }
      return quest.state === "completed";
    },
    isObjectiveCompleted(questId, objectiveId) {
      const objective = this.getObjective(questId, objectiveId);
      if (!objective) {
        return false;
      }
      return objective.state === "completed";
    },
    isQuestStarted(questId) {
      const quest = this.getQuest(questId);
      if (!quest) {
        return quest;
      }
      return quest.state === "unlocked";
    },
    isObjectiveStarted(questId, objectiveId) {
      const objective = this.getObjective(questId, objectiveId);
      return objective.state === "unlocked";
    },
    removeQuest(id2) {
      delete this.quests[id2];
    },
    generateSaveData() {
      return {
        quests: {
          ...this.quests
        }
      };
    },
    loadSaveData(data) {
      this.quests = data.quests;
    }
  }
});
const useScreens = defineStore("screens", {
  state: () => ({
    layers: ["default"],
    buttons: {}
  }),
  actions: {
    setScreen(screen, layer) {
      this.layers[layer || 0] = screen;
    },
    emptyLayer(layer) {
      delete this.layers[layer];
    },
    setButtons(config2) {
      const { buttons: buttonsConfig, screens: screensConfig, images } = config2;
      for (const key in buttonsConfig) {
        this.buttons[key] = {
          state: buttonsConfig[key].enabled
        };
      }
      for (const key in screensConfig) {
        if (screensConfig[key].buttons) {
          const screen = screensConfig[key];
          if (screen.background && images[screen.background]) {
            screen.background = images[screen.background];
          }
          for (const index in screen.buttons) {
            const button = screen.buttons[index];
            if (typeof button === "object") {
              buttonsConfig[button.id] = button;
              screen.buttons[index] = button.id;
              this.buttons[button.id] = {
                state: button.enabled
              };
            }
          }
        }
      }
    },
    changeButton(button, newValue) {
      this.buttons[button].state = newValue;
    },
    generateSaveData() {
      return {
        layers: this.layers,
        buttons: this.buttons
      };
    },
    loadSaveData(data) {
      this.layers = data.layers;
      this.buttons = cjs(this.buttons, data.buttons);
    }
  }
});
function findDataHelper(sourceObj, path) {
  const keys = path.split(".");
  let obj = sourceObj;
  const end = keys.length - 1;
  let key = keys[0];
  let i2 = 0;
  for (i2 = 0; i2 < end; i2++) {
    key = keys[i2];
    if (!obj[key]) {
      obj[key] = {};
    }
    obj = obj[key];
  }
  key = keys[i2];
  return [obj, key];
}
function findDataHelperWithoutAutoCreate(sourceObj, path) {
  const keys = path.split(".");
  let obj = sourceObj;
  const end = keys.length - 1;
  let key = keys[0];
  let i2 = 0;
  for (i2 = 0; i2 < end; i2++) {
    key = keys[i2];
    if (!obj[key]) {
      obj[key] = {};
    }
    obj = obj[key];
  }
  key = keys[i2];
  if (typeof obj[key] === "undefined") {
    obj[key] = null;
  }
  return [obj, key];
}
function setDataHelper(sourceObj, path, value) {
  const [obj, key] = findDataHelper(sourceObj, path);
  obj[key] = value;
}
function addDataHelper(sourceObj, path, value) {
  const [obj, key] = findDataHelper(sourceObj, path);
  const existingValue = obj[key] || 0;
  obj[key] = value + existingValue;
}
function getModifiableDataPinia() {
  const vm2 = useVM();
  const skills = useSkills();
  const screens = useScreens();
  const inventory = useInventory();
  const scope = useVM().currentScope;
  const state = {
    data: vm2.data,
    skills: skills.skills,
    buttons: screens.buttons,
    items: inventory.items,
    quests: useQuests().quests,
    stats: useHud().hudStats,
    scope
  };
  const proxy = new Proxy(state, {
    get: (target, prop, receiver) => {
      const scope2 = useVM().currentScope;
      if (typeof scope2[prop] !== "undefined") {
        return scope2[prop];
      }
      return Reflect.get(target, prop, receiver);
    },
    set: (target, prop, value, receiver) => {
      const scope2 = useVM().currentScope;
      if (typeof scope2[prop] !== "undefined") {
        scope2[prop] = value;
        return scope2[prop];
      }
      return Reflect.set(target, prop, value, receiver);
    }
  });
  return proxy;
}
const loggerManager = new LogManager();
loggerManager.setupDebugger(false);
const logger = loggerManager.logger;
function parseScript(errorHandler, code, fileName) {
  const ctx = {
    fileName,
    currentLine: 0,
    error: (line, text) => errorHandler(ctx, line, text),
    processCommandsFunction: processCommands,
    indentSize: 0
  };
  ctx.indentSize = detectIndentation(ctx, code);
  const lines = findLines(ctx, code);
  ctx.currentLine = 0;
  logger.log(lines);
  const script = {};
  for (const line of lines) {
    if (line.code.search(":") === -1) {
      ctx.error(line.line, `First indentation level should only be used to specify labels`);
    }
    const labelString = line.code.replace(":", "");
    const labelWords = labelString.split(/ +/g);
    const labelName = labelWords[0];
    const labelArgs = labelWords.slice(1);
    if (!line.branch) {
      ctx.error(line.line, `This line should have a branch but doesn't`);
    }
    script[labelName] = {
      branch: processCommands(ctx, line.branch, void 0),
      args: labelArgs
    };
  }
  return script;
}
function processCommands(ctx, lines, parentLine) {
  const startLine = ctx.currentLine;
  const branchContext = {
    processCommandsFunction: processCommands,
    parserContext: ctx,
    lines,
    currentLine: 0,
    line: lines[0]
  };
  const branch = [];
  if (!lines) {
    let lineNumber = 0;
    if (parentLine) {
      lineNumber = parentLine.line;
    }
    ctx.error(lineNumber, `Processing of command failed because the current branch has no lines inside`);
    return [];
  }
  while (branchContext.currentLine < lines.length) {
    const line = lines[branchContext.currentLine];
    branchContext.line = line;
    const parsed = parseExpression(ctx, line, line.expression);
    const commandPlugin = vm.commands[parsed.command.operator];
    let parseFunction = commandPlugin == null ? void 0 : commandPlugin.parser;
    if (!parseFunction) {
      parseFunction = vm.commands.text.parser;
    }
    logger.log(vm.commands.text);
    const { newLine } = parseFunction(branchContext, parsed);
    branchContext.currentLine = newLine;
    ctx.currentLine = startLine + newLine;
    branch.push(parsed);
  }
  return branch;
}
function parseExpression(ctx, line, expression) {
  logger.log(expression);
  if (typeof expression[0] !== "string") {
    ctx.error(line.line, `Expression operator should be a string`);
  }
  const parsed = {
    code: line.code,
    fileName: ctx.fileName,
    line: line.line,
    command: {
      staticOptions: {},
      commandType: expression[0],
      operator: expression[0],
      args: expression.slice(1).map((arg) => parseArgument(ctx, line, arg)),
      options: {}
    }
  };
  const firstElement = expression[0];
  const command = vm.commands[firstElement];
  if (!command) {
    const otherKeywords = ["else", "success", "failure"];
    if (!isParsedTokenString(firstElement) && !otherKeywords.includes(firstElement)) {
      ctx.error(line.line, `Unknown command ${firstElement}`);
    }
  }
  return parsed;
}
function parseArgument(ctx, line, argument) {
  if (Array.isArray(argument)) {
    return parseExpression(ctx, line, argument);
  } else {
    return argument;
  }
}
function parseTokenToPrimitive(value) {
  if (value === "true") {
    return true;
  } else if (value === "false") {
    return false;
  } else if (!isNaN(Number(value))) {
    return Number(value);
  }
  return value;
}
function parseCodeLine(ctx, codeToProcess) {
  if (codeToProcess.charAt(codeToProcess.length - 1) === ":") {
    codeToProcess = codeToProcess.substr(0, codeToProcess.length - 1);
  }
  const tokens = parseCodeLineIntoTokens(codeToProcess);
  const [expression] = tokensToExpression(ctx, tokens);
  return expression;
}
function parseCodeLineIntoTokens(code) {
  const regex = /(["'])(?:\\\1|.)*?\1/g;
  const matches = [];
  let match;
  while ((match = regex.exec(code)) != null) {
    matches.push(match);
  }
  let currentIndex = 0;
  let tokens = [];
  for (const match2 of matches) {
    const index = match2.index;
    if (index > currentIndex) {
      const inBetween = code.substr(currentIndex, index - currentIndex);
      const newTokens = splitIntoTokens(inBetween);
      tokens = [...tokens, ...newTokens];
    }
    const finalMatch = match2[0].replace(/\\/g, "");
    tokens.push(`$$"${finalMatch.substring(1, finalMatch.length - 1)}`);
    currentIndex = index + match2[0].length;
  }
  tokens = [...tokens, ...splitIntoTokens(code.substr(currentIndex))];
  tokens.push(")");
  return tokens;
}
function splitIntoTokens(code) {
  code = code.replace(/: *$/g, "");
  let result = code.split(" ").filter((el2) => el2);
  result = result.reduce((total, curr) => [...total, ...curr.split(/(\(|\))/g)].filter((el2) => el2 && el2), []);
  return result.map((token) => parseTokenToPrimitive(token));
}
function tokensToExpression(ctx, tokens) {
  logger.log("===============");
  let expression = [];
  let cursor = 0;
  let parenthesisIndex = findExpressionStart(tokens) + cursor;
  let parenthesisEndIndex = findExpressionEnd(tokens) + cursor;
  logger.log(`Parsing expression: ${tokens}`);
  logger.log(`Parenthesis start index: ${parenthesisIndex} - end: ${parenthesisEndIndex}`);
  while (parenthesisIndex !== -1 && parenthesisEndIndex > parenthesisIndex) {
    expression = [...expression, ...tokens.slice(cursor, parenthesisIndex)];
    const subExpressionString = tokens.slice(parenthesisIndex + 1);
    logger.log(`Found a sub expression. Before: ${expression} - After: ${subExpressionString}`);
    cursor = parenthesisIndex;
    const [subExpression, subExpressionLength] = tokensToExpression(ctx, subExpressionString);
    const subExpressionEndIndex = cursor + subExpressionLength;
    expression.push(subExpression);
    cursor = subExpressionEndIndex + 1;
    const restOfString2 = tokens.slice(cursor);
    logger.log(`Sub expression came back: ${subExpression} - rest of string: ${restOfString2}`);
    parenthesisIndex = findExpressionStart(restOfString2);
    if (parenthesisIndex !== -1) {
      parenthesisIndex += cursor;
    }
    parenthesisEndIndex = findExpressionEnd(restOfString2);
    if (parenthesisEndIndex !== -1) {
      parenthesisEndIndex += cursor;
    }
  }
  if (parenthesisEndIndex !== -1) {
    logger.log(`Found parenthesis end before new opening parenthesis, close this expression`);
  }
  const endIndex = findExpressionEnd(tokens.slice(cursor)) + cursor;
  if (endIndex === -1) {
    ctx.error(ctx.currentLine, `Expression is not closed (missing ")" closing parenthesis)`);
    return [expression, endIndex];
  }
  const restOfString = tokens.slice(cursor, endIndex);
  logger.log(`End of expression: ${endIndex} - ${restOfString}`);
  logger.log("===================");
  expression = [...expression, ...restOfString];
  validateExpression(ctx, expression);
  return [expression, endIndex + 1];
}
function validateExpression(ctx, expression) {
  if (expression.length < 1) {
    ctx.error(ctx.currentLine, `Expression is empty`);
  }
}
function findExpressionStart(tokens) {
  return tokens.findIndex((token) => token === "(");
}
function findExpressionEnd(tokens) {
  return tokens.findIndex((token) => token === ")");
}
function findLines(ctx, data) {
  const code = data.split(/\r?\n|$/).map((line) => {
    const commentIndex = line.search(/ *\/\//g);
    if (commentIndex !== -1) {
      return line.substr(0, commentIndex);
    }
    return line;
  });
  const lines = findBranches(ctx, code, 0, 0);
  return lines.lines;
}
function findBranches(ctx, code, startLine, indentLevel) {
  let stillInBranch = true;
  let currentLine = startLine;
  const lines = [];
  while (stillInBranch) {
    if (currentLine >= code.length) {
      break;
    }
    let lineText = code[currentLine];
    if (lineText.search(/^\s*$/) !== -1) {
      currentLine++;
    } else {
      const lineIndent = getIndentLevel(ctx, lineText);
      lineText = lineText.substring(lineIndent * ctx.indentSize);
      validateIndent(ctx, lineIndent, currentLine);
      if (lineIndent < indentLevel) {
        stillInBranch = false;
      } else if (lineIndent > indentLevel) {
        if (lines.length === 0 || lineIndent - indentLevel !== 1) {
          ctx.error(currentLine, `Wrong double indentation`);
        }
        const branchLines = findBranches(ctx, code, currentLine, lineIndent);
        lines[lines.length - 1].branch = branchLines.lines;
        currentLine = branchLines.endLine;
      } else {
        const expression = parseCodeLine(ctx, lineText);
        const line = {
          code: lineText,
          indentation: lineIndent,
          line: currentLine,
          expression
        };
        lines.push(line);
        currentLine++;
        ctx.currentLine = currentLine;
      }
    }
  }
  return {
    lines,
    endLine: currentLine
  };
}
function validateIndent(ctx, indentLevel, currentIndex) {
  if (indentLevel % 1 !== 0) {
    ctx.error(currentIndex, `Indentation level of ${indentLevel} incorrect. Expected indentation of ${ctx.indentSize} spaces for this file.`);
  }
}
function getIndentLevel(ctx, line) {
  return line.search(/[^ ]/) / ctx.indentSize;
}
function detectIndentation(ctx, script) {
  const regex = /\n( *)/;
  const result = script.match(regex);
  if (!result || result.length < 2) {
    ctx.error(0, `Can't detect indentation level. Make sure you indent with at least 2 spaces and consistently`);
    return 0;
  }
  logger.log(result);
  return result[1].length;
}
const useVM = defineStore("vm", {
  state: () => ({
    stack: [],
    data: {},
    lastLabel: "main",
    script: {},
    labelStack: ["main"],
    currentScope: {},
    commandsWaitingForPlayerAnswer: []
  }),
  actions: {
    generateSaveData() {
      return {
        lastLabel: this.lastLabel,
        data: this.data
      };
    },
    loadSaveData(data) {
      this.lastLabel = data.lastLabel;
      this.data = data.data;
    },
    resetScope() {
      this.currentScope = {};
    },
    setReturnValue(value) {
      this.currentFrame.returnValue = value;
    },
    waitForPlayerAnswer(cmd) {
      this.commandsWaitingForPlayerAnswer.push(cmd);
    },
    popAnswerQueue() {
      const cmd = this.commandsWaitingForPlayerAnswer.pop();
      return cmd;
    },
    removeFromScope(vars) {
      for (const varName of vars) {
        delete this.currentScope[varName];
      }
    },
    addScopedVariable(key, value) {
      this.currentScope[key] = value;
      if (this.currentFrame) {
        this.currentFrame.scope[key] = value;
      }
    },
    extendScope(scope) {
      Object.assign(this.currentScope, scope);
    },
    async loadScripts(scriptPaths) {
      const filePromises = [];
      for (const path of scriptPaths) {
        filePromises.push(getFile(path));
      }
      const files = await Promise.all(filePromises);
      const start = Date.now();
      let scripts = {};
      for (const index in files) {
        const file = files[index];
        scripts = {
          ...scripts,
          ...parseScript((ctx, line, error2) => parserError(ctx, line, error2), file, scriptPaths[index])
        };
      }
      const end = Date.now();
      logger$1.log(`script parsed in ${end - start} ms`);
      this.setScript(scripts);
    },
    start() {
      this.setStack({
        currentIndex: 0,
        branchData: {
          branch: this.script.main.branch
        },
        label: "main"
      });
      this.setStack({
        currentIndex: 0,
        branchData: {
          branch: this.script.main.branch
        },
        label: "main"
      });
    },
    setLastLabel(label) {
      this.lastLabel = label;
    },
    reset() {
      this.stack = [];
      this.data = {};
      this.setStack({
        currentIndex: 0,
        branchData: {
          branch: this.script.main.branch
        },
        label: "main"
      });
    },
    setScript(script) {
      this.script = script;
    },
    overrideData(data) {
      this.data = data;
    },
    setStack(stack) {
      this.resetScope();
      this.stack = [];
      const newStack = this.stackOptionsToStack(stack);
      this.lastLabel = stack.label;
      this.stack.push(newStack);
    },
    stackOptionsToStack(stack) {
      const newStack = {
        ...stack,
        scope: {},
        returnValue: null
      };
      if (stack.scope) {
        newStack.scope = stack.scope;
      }
      if (stack.args && stack.branchData.args) {
        for (const [index, argName] of stack.branchData.args.entries()) {
          if (stack.args.length > index) {
            newStack.scope[argName] = stack.args[index];
          }
        }
      }
      this.extendScope(newStack.scope || {});
      return newStack;
    },
    setData(path, value) {
      const dataToModify = getModifiableDataPinia();
      setDataHelper(dataToModify, path, value);
    },
    addInstruction(path, value) {
      const dataToModify = getModifiableDataPinia();
      addDataHelper(dataToModify, path, value);
    },
    addFrame(newStackOptions) {
      if (!newStackOptions.label) {
        if (this.currentFrame) {
          newStackOptions.label = this.currentFrame.label;
        } else {
          throw new Error(`Tried to add a new frame but no label was passed and there is no current frame label`);
        }
      }
      const newStack = this.stackOptionsToStack(newStackOptions);
      this.stack.push(newStack);
    },
    async addAndRunFrame(newStackOptions) {
      await this.addFrame(newStackOptions);
      await this.runFrame();
    },
    async runFrame() {
      const frame = this.currentFrame;
      if (!frame) {
        throw new Error(`Tried to run a frame but there is no current frame`);
      }
      frame.currentIndex = 0;
      while (this.currentLine) {
        await this.runLineOnly();
        frame.currentIndex++;
      }
      const previousScope = frame.scope;
      this.removeFromScope(Object.keys(previousScope));
      const { returnValue, onComplete } = frame;
      this.stack.splice(this.stack.length - 1, 1);
      if (onComplete) {
        onComplete(returnValue);
      }
    },
    async runGame() {
      await this.runFrame();
      if (this.stack.length === 0) {
        this.reachedEndOfScript();
      }
    },
    async nextLineOnly() {
      if (this.stack.length === 0) {
        return false;
      }
      if (this.currentFrame && this.currentFrame.currentIndex < this.currentFrame.branchData.branch.length - 1) {
        this.currentFrame.currentIndex++;
        return true;
      } else {
        return false;
      }
    },
    async nextLine() {
      if (this.stack.length === 0) {
        this.reachedEndOfScript();
        return;
      }
      if (this.currentFrame && this.currentFrame.currentIndex < this.currentFrame.branchData.branch.length - 1) {
        this.currentFrame.currentIndex++;
      } else {
        return this.previousFrame();
      }
      if (this.stack.length === 0) {
        this.reachedEndOfScript();
      } else {
        return this.runLine();
      }
      this.currentFrame.currentIndex++;
    },
    async previousFrame() {
      if (!this.currentFrame) {
        throw new Error(`Tried to go back to previous frame but there is no current frame`);
      }
      const previousScope = this.currentFrame.scope;
      this.removeFromScope(Object.keys(previousScope));
      const { returnValue, onComplete } = this.currentFrame;
      this.stack.splice(this.stack.length - 1, 1);
      if (onComplete) {
        onComplete(returnValue);
      } else {
        return this.nextLine();
      }
    },
    reachedEndOfScript() {
      useInventory().onScriptEnd();
      const mainStore = useMain();
      if (mainStore.options.debug) {
        const dialogStore = useDialogStore();
        dialogStore.addDialog({
          speaker: "game",
          text: "[DEBUG] Game Script is finished. This is the end of the game flow. This message only appears in debug mode."
        });
      }
    },
    async runLineOnly() {
      const expression = this.currentLine;
      if (!expression) {
        error(`There is no line of script to run.`);
        return;
      }
      useInventory().onScriptStart();
      await runCommand(expression);
    },
    async runLine() {
      await this.runLineOnly();
      this.nextLine();
    },
    runLabelFunction(label, ...args) {
      return new Promise((resolve, reject) => {
        const branchData = this.script[label];
        if (!branchData) {
          console.error(`Label ${label} doesn't exist`);
        }
        const stack = {
          currentIndex: 0,
          branchData,
          label,
          args,
          onComplete: (returnValue) => {
            resolve(returnValue);
          }
        };
        this.addAndRunFrame(stack);
      });
    },
    runCustomFrame(stack) {
      this.addAndRunFrame(stack);
    },
    runLabel(label, ...args) {
      const branchData = this.script[label];
      if (!branchData) {
        console.error(`Label ${branchData} doesn't exist`);
      }
      this.setLastLabel(label);
      this.setStack({
        currentIndex: 0,
        branchData,
        args,
        label
      });
      this.runGame();
    }
  },
  getters: {
    currentFrame(state) {
      const result = state.stack[state.stack.length - 1];
      return result;
    },
    currentLine() {
      const currentFrame = this.currentFrame;
      if (this.currentFrame && currentFrame.branchData.branch.length > currentFrame.currentIndex) {
        return currentFrame.branchData.branch[currentFrame.currentIndex];
      }
    },
    commandWaitingForAnswer() {
      if (this.commandsWaitingForPlayerAnswer.length > 0) {
        return this.commandsWaitingForPlayerAnswer[0];
      }
    }
  }
});
function processText(text) {
  useVM();
  useSkills();
  return text.replace(/%{[^}]*}/g, (match) => {
    const key = match.substr(2, match.length - 3);
    const searchableState = getModifiableDataPinia();
    const [obj, newKey] = findDataHelper(searchableState, key);
    return obj[newKey];
  });
}
const stringRegex = /\$\$"/;
const isParsedTokenString = (arg) => {
  if (typeof arg === "string") {
    if (arg.search(stringRegex) === 0) {
      return true;
    }
  }
  return false;
};
const useDialogStore = defineStore("dialog", {
  state: () => ({
    dialog: []
  }),
  actions: {
    generateSaveData() {
      return {
        dialog: this.dialog
      };
    },
    loadSaveData(data) {
      this.dialog = data.dialog;
    },
    addDialog(dialog) {
      var _a2;
      this.dialog.push({
        ...dialog,
        interactive: (_a2 = dialog.interactive) != null ? _a2 : false,
        id: randomId(),
        text: processText(dialog.text)
      });
    },
    clearDialog() {
      this.dialog.splice(0, this.dialog.length);
    },
    reset() {
      this.dialog = [];
    }
  },
  getters: {
    currentDialog() {
      return this.dialog[this.dialog.length - 1];
    }
  }
});
function getSkillCheckDifficultyScore(value, level) {
  return value - level * getConfig().skillChecks.skillMultiplier;
}
function getSkillCheckDifficultyText(value, level) {
  const difficultyScore = getSkillCheckDifficultyScore(value, level);
  const checks = getConfig().skillChecks;
  let found = false;
  let i2 = 0;
  let checkText = checks.difficultyText[0][1];
  while (!found) {
    if (checks.difficultyText.length > i2) {
      if (difficultyScore >= checks.difficultyText[i2][0]) {
        checkText = checks.difficultyText[i2][1];
      } else {
        found = true;
      }
    } else {
      found = true;
    }
    i2++;
  }
  return checkText;
}
function getSkillCheckText({
  skill,
  skillCheckId,
  value
}) {
  const skillStore = useSkills();
  const skillCheckState = skillStore.getSkillCheck(skillCheckId);
  const skillConfig = getSkillConfig(skill);
  const level = skillStore.skills[skill].level;
  const difficultyText = getSkillCheckDifficultyText(value, level);
  let allowed = true;
  let text = `<span class='skill-check'>[<span class='skill-check-name'>${skillConfig.name}</span> - `;
  if (!skillCheckState.happened) {
    text += ` <span class='skill-check-difficulty'>${difficultyText}</span>]</span>`;
  } else if (skillCheckState.succeeded) {
    text = "";
  } else {
    allowed = false;
    text += ` <span class='skill-check-difficulty'>${difficultyText}</span> - <span class='skill-check-failed'>FAILED</span>]</span>`;
  }
  return {
    difficultyText: text,
    allowed
  };
}
function getPassiveSkillCheckText(success, params) {
  const skillStore = useSkills();
  const skillConf = getSkillConfig(params.skill);
  const difficultyText = getSkillCheckDifficultyText(params.value, skillStore.skills[params.skill].level);
  return `<span class='passive-skill-check skill-check'>[<span class='skill-check-name'>${skillConf.name}</span> - <span class='skill-check-difficulty'>${difficultyText}</span> - ${success ? '<span class="skill-check-success">Success</span>' : '<span class="skill-check-failed">Failure</span>'}]</span>`;
}
function calculateSkillCheckRoll(skill) {
  const { skillChecks } = getConfig();
  const skillStore = useSkills();
  const unmodifiedRoll = Math.floor(Math.random() * skillChecks.rollRange);
  const rollModifier = skillStore.skills[skill].level * skillChecks.skillMultiplier;
  const roll = unmodifiedRoll + rollModifier;
  logger$1.log(`[SKILL CHECK] Roll: ${roll}. (Base roll: ${unmodifiedRoll}, modifier: ${rollModifier} - Skill level: ${skillStore.skills[skill].level})`);
  return {
    roll,
    unmodifiedRoll
  };
}
function resolveSkillCheck(params) {
  const { skills, skillChecks } = getConfig();
  let success = true;
  const { roll } = calculateSkillCheckRoll(params.skill);
  if (roll <= skillChecks.failureChance - 1) {
    success = false;
  }
  const skill = skills[params.skill];
  if (roll < params.value) {
    success = false;
  }
  logger$1.log(`[SKILL CHECK ${skill.name}]: ${success ? "\u2705" : "\u274C"}`, `(${params.id}) - ${roll}/${params.value}`);
  success ? audioEvent("onSkillCheckSuccess") : audioEvent("onSkillCheckFailure");
  return success;
}
function runSkillCheck(params) {
  const skillStore = useSkills();
  const result = skillStore.getSkillCheck(params.id);
  if (result && result.happened) {
    return result;
  }
  const success = resolveSkillCheck(params);
  writeText(getPassiveSkillCheckText(success, params));
  if (success) {
    skillStore.passSkillCheck(params.id, params.hideAfterRoll);
  } else {
    skillStore.failSkillCheck(params.id, params.hideAfterRoll);
  }
  return skillStore.getSkillCheck(params.id);
}
function runConditionCommand(command) {
  const options = command.options;
  const staticOptions = command.staticOptions;
  const result = !!options.condition;
  logger$1.log(result);
  if (result) {
    return staticOptions.success;
  }
  if (!result && staticOptions.failure) {
    return staticOptions.failure;
  }
  return void 0;
}
function isExpression(arg) {
  return typeof arg === "object";
}
function writeText(text) {
  const dialog = {
    speaker: "game",
    text,
    interactive: false
  };
  const dialogStore = useDialogStore();
  dialogStore.addDialog(dialog);
}
async function textCommand(dialog) {
  const dialogStore = useDialogStore();
  dialogStore.addDialog(dialog);
}
function getLine(lines, index) {
  if (index < lines.length)
    return lines[index];
}
class VM {
  constructor() {
    __publicField(this, "plugins", []);
    __publicField(this, "commands", {});
  }
  addCommand(command) {
    this.commands[command.keyword] = command;
  }
  addPlugin(plugin) {
    this.plugins.push(plugin);
    if (plugin.customCommands) {
      for (const command of plugin.customCommands) {
        this.addCommand(command);
      }
    }
  }
  callHook(hookName, ...args) {
    for (const plugin of this.plugins) {
      if (typeof plugin[hookName] === "function") {
        plugin[hookName](...args);
      }
    }
  }
}
const vm = new VM();
async function runCommand(expression, choices) {
  const vmStore = useVM();
  try {
    const result = await runExpression(expression, choices);
    return result;
  } catch (err) {
    console.error(err);
    console.error(expression);
    error(`Narrat script runtime error at  <span class="error-filename">${expression.fileName}:${expression.line + 1}</span>
      <b>${err}</b>
      Script: ${expression.code}
      Label: ${vmStore.currentFrame.label}`);
  }
}
async function generateCommand(expr, choices) {
  const command = expr.command;
  const commandPlugin = vm.commands[command.commandType];
  if (commandPlugin) {
    const generatedCommand = {
      args: [],
      options: {},
      operator: command.operator,
      staticOptions: command.staticOptions,
      code: expr.code,
      commandType: command.commandType,
      fileName: expr.fileName,
      line: expr.line
    };
    const argTypes = commandPlugin.argTypes;
    generatedCommand.options = {};
    for (const [i2, arg] of command.args.entries()) {
      let finalArg;
      if (isExpression(arg)) {
        finalArg = await runExpression(arg, choices);
      } else if (typeof arg === "string") {
        if (arg.search(stringRegex) === 0) {
          finalArg = arg.substring(3);
        } else if (arg.search(/\$/) === 0) {
          const modifiable = getModifiableDataPinia();
          const result = findDataHelperWithoutAutoCreate(modifiable, arg.substring(1));
          if (result) {
            const [target, key] = result;
            finalArg = target[key];
          } else {
            finalArg = arg;
          }
        } else {
          finalArg = arg;
        }
      } else {
        finalArg = arg;
      }
      generatedCommand.args.push(finalArg);
      if (Array.isArray(argTypes) && argTypes.length > i2) {
        const argType = argTypes[i2];
        if (finalArg !== null) {
          generatedCommand.options[argType.name] = finalArg;
        }
      }
    }
    return generatedCommand;
  } else {
    throw new Error(`${command.commandType} is not a valid command`);
  }
}
async function runExpression(expr, choices) {
  const command = await generateCommand(expr, choices);
  const commandPlugin = vm.commands[command.commandType];
  if (commandPlugin) {
    const result = await commandPlugin.run(command, choices);
    return result;
  } else {
    throw new Error(`${command.commandType} is not a valid command`);
  }
}
async function playerAnswered(choice) {
  audioEvent("onPlayerAnswered");
  const vmStore = useVM();
  const command = vmStore.popAnswerQueue();
  const currentLine = vmStore.currentLine;
  try {
    if (command) {
      const commandPlugin = vm.commands[command.commandType];
      if (commandPlugin) {
        return await commandPlugin.processPlayerAnswer(command, choice);
      }
    }
  } catch (err) {
    console.error(err);
    error(`Error after player answer at ${currentLine.fileName}:${currentLine.line + 1} (${currentLine.code}<br /> - Error: ${err}`);
  }
}
const useRenderingStore = defineStore("rendering", {
  state: () => ({
    screenHeight: window.innerHeight,
    screenWidth: window.innerWidth,
    canvasWidth: window.innerWidth,
    canvasHeight: window.innerHeight,
    renderRatio: 1,
    topOffset: 0,
    leftOffset: 0,
    layoutMode: "horizontal"
  }),
  actions: {
    updateScreenSize(width, height, textWidth) {
      this.screenHeight = height;
      this.screenWidth = width;
      this.renderRatio = 1;
      this.topOffset = 0;
      this.leftOffset = 0;
      if (width < getConfig().layout.verticalLayoutThreshold) {
        this.layoutMode = "vertical";
      } else {
        this.layoutMode = "horizontal";
      }
    }
  }
});
const useMain = defineStore("main", {
  state: () => ({
    ready: false,
    playing: false,
    errors: [],
    playTime: {
      start: 0,
      previousPlaytime: 0
    },
    options: {
      logging: false,
      debug: false
    },
    flowState: "menu",
    modal: false,
    paused: false
  }),
  actions: {
    async setup(scriptPaths, config2) {
      if (config2.audioOptions.defaultMusic) {
        changeMusic(config2.audioOptions.defaultMusic);
      }
      await useVM().loadScripts(scriptPaths);
      const screens = useScreens();
      screens.setButtons(config2);
      const skillsStore = useSkills();
      skillsStore.setupSkills(config2.skills);
      const hudStore = useHud();
      hudStore.setupHudStats(config2.hudStats);
      const inventoryStore = useInventory();
      inventoryStore.setupItems(config2.items);
      const questsStore = useQuests();
      questsStore.setupQuests(config2.quests);
    },
    startMachine() {
      const audioStore = useAudio();
      audioStore.stopMusic();
      const vmStore = useVM();
      vmStore.start();
      this.ready = true;
      this.startPlaying();
      vm.callHook("onGameStart");
      this.setFlowState("playing");
    },
    async startGame() {
      this.startMachine();
      await useVM().runGame();
      await this.saveGame();
    },
    async loadGame(saveFile) {
      this.startMachine();
      if (saveFile) {
        const save = JSON.parse(saveFile);
        this.setLoadedData(save);
        if (save.audio.currentMusic) {
          changeMusic(save.audio.currentMusic);
        }
        const vm2 = useVM();
        vm2.runLabel(save.vm.lastLabel);
      }
    },
    playerAnswered(choice) {
      playerAnswered(choice);
    },
    menuReturn() {
      this.reset();
      useAudio().stopMusic();
      this.setFlowState("menu");
      if (getConfig().audioOptions.defaultMusic) {
        changeMusic(getConfig().audioOptions.defaultMusic);
      }
    },
    createError(text) {
      this.errors.push({
        text
      });
    },
    clearErrors() {
      this.errors = [];
    },
    setFlowState(flowState) {
      this.flowState = flowState;
    },
    openModal(modal) {
      this.modal = modal;
    },
    closeModal() {
      this.modal = false;
    },
    toggleMenu() {
      if (this.modal) {
        this.modal = false;
      } else {
        this.modal = "menu";
      }
    },
    pause() {
      this.paused = true;
    },
    unpause() {
      this.paused = false;
    },
    setOptions(options) {
      this.options = options;
    },
    startPlaying() {
      this.playing = true;
      this.playTime.start = Date.now();
    },
    reset() {
      this.ready = false;
      this.errors = [];
      this.modal = false;
      this.paused = false;
      useVM().reset();
      useAudio().reset();
      this.playing = false;
      this.ready = true;
    },
    generateSaveData() {
      return {
        playTime: getPlayTime(this.playTime.start, this.playTime.previousPlaytime)
      };
    },
    loadSaveData(data) {
      this.playTime.previousPlaytime = data.playTime;
    },
    saveGame() {
      const screensStore = useScreens();
      const skillsStore = useSkills();
      const dialogStore = useDialogStore();
      const vmStore = useVM();
      const mainStore = useMain();
      const hudStore = useHud();
      const audioStore = useAudio();
      const inventoryStore = useInventory();
      const save = {
        version: "1.0.0",
        screen: screensStore.generateSaveData(),
        skills: skillsStore.generateSaveData(),
        dialog: dialogStore.generateSaveData(),
        vm: vmStore.generateSaveData(),
        main: mainStore.generateSaveData(),
        hud: hudStore.generateSaveData(),
        audio: audioStore.generateSaveData(),
        inventory: inventoryStore.generateSaveData(),
        quests: useQuests().generateSaveData()
      };
      saveGame(save);
    },
    setLoadedData(save) {
      const screensStore = useScreens();
      const skillsStore = useSkills();
      const dialogStore = useDialogStore();
      const vmStore = useVM();
      const mainStore = useMain();
      const hudStore = useHud();
      const audioStore = useAudio();
      const inventoryStore = useInventory();
      screensStore.loadSaveData(save.screen);
      skillsStore.loadSaveData(save.skills);
      dialogStore.loadSaveData(save.dialog);
      vmStore.loadSaveData(save.vm);
      mainStore.loadSaveData(save.main);
      hudStore.loadSaveData(save.hud);
      audioStore.loadSaveData(save.audio);
      inventoryStore.loadSaveData(save.inventory);
      useQuests().loadSaveData(save.quests);
    },
    getAllStates() {
      return {
        main: this,
        screens: useScreens(),
        skills: useSkills(),
        dialog: useDialogStore(),
        vm: useVM(),
        hud: useHud(),
        audio: useAudio(),
        rendering: useRenderingStore(),
        notifications: useNotifications(),
        inventory: useInventory(),
        quests: useQuests()
      };
    },
    overrideStates(override) {
      const states = this.getAllStates();
      for (const key in override) {
        const stateOverride = override[key];
        Object.assign(states[key], stateOverride);
      }
    }
  },
  getters: {
    isInGame(state) {
      return state.flowState === "playing";
    }
  }
});
function parserError(ctx, line, text) {
  console.error(`Parser error: ${ctx.fileName}:${ctx.currentLine}`, text);
  const errorText = `[Parser Error] in <span class="error-filename">${ctx.fileName}:${line + 1}</span> - <b>${text}</b>`;
  error(errorText);
}
function error(text) {
  const mainStore = useMain();
  console.error(text);
  text = text.replace(/[\r\n]/g, `
<br />`);
  mainStore.createError(`\u274C ${text}`);
}
const useSkills = defineStore("skills", {
  state: () => ({
    skillChecks: {},
    skills: {}
  }),
  actions: {
    setupSkillCheck(skillCheck, id2) {
      this.skillChecks[id2] = skillCheck;
    },
    passSkillCheck(skillCheckId, hide) {
      this.skillChecks[skillCheckId].happened = true;
      this.skillChecks[skillCheckId].succeeded = true;
      if (hide) {
        this.skillChecks[skillCheckId].hidden = true;
      }
    },
    failSkillCheck(skillCheckId, hide) {
      this.skillChecks[skillCheckId].happened = true;
      this.skillChecks[skillCheckId].succeeded = false;
      if (hide) {
        this.skillChecks[skillCheckId].hidden = true;
      }
    },
    generateSaveData() {
      return {
        skillChecks: this.skillChecks,
        skills: this.skills
      };
    },
    getSkillCheck(id2) {
      if (!this.skillChecks[id2]) {
        this.setupSkillCheck(this.createSkillCheckState(), id2);
      }
      return this.skillChecks[id2];
    },
    createSkillCheckState() {
      const skillCheck = {
        happened: false,
        succeeded: false,
        hidden: false
      };
      return skillCheck;
    },
    loadSaveData(data) {
      this.skillChecks = cjs(this.skillChecks, data.skillChecks);
      this.skills = cjs(this.skills, data.skills);
    },
    setupSkills(skills) {
      for (const skill in skills) {
        this.skills[skill] = {
          id: skill,
          level: skills[skill].startingLevel || 0,
          xp: 0
        };
      }
    },
    addXp(skill, xp2) {
      const skillData = this.skills[skill];
      if (!skillData) {
        error(`Skill ${skill} doesn't exist`);
      }
      skillData.xp += xp2;
      if (skillData.xp >= getConfig().skillOptions.xpPerLevel) {
        skillData.xp = 0;
        skillData.level++;
        this.levelledUp(skill);
      }
    },
    incrementSkill(skill, amount) {
      this.skills[skill].level += amount;
      this.levelledUp(skill);
    },
    levelledUp(skill) {
      const skillName = getConfig().skills[skill].name;
      const skillLevel = this.skills[skill].level;
      useNotifications().addNotification(`Your skill in ${skillName} is now level ${skillLevel}`);
    }
  }
});
let fuse;
const _sfc_main$f = defineComponent({
  components: {
    Modal
  },
  setup() {
    const store = useSkills();
    const skills = computed$1(() => store.skills);
    const skillChecks = computed$1(() => store.skillChecks);
    return { skills, skillChecks };
  },
  data() {
    return {
      showDebug: false,
      jumping: false,
      searchString: "",
      matches: [],
      matchCursor: 0
    };
  },
  mounted() {
    window.addEventListener("keydown", (event) => {
      if (!this.jumping) {
        if (event.key === "d") {
          this.toggle();
        }
        if (event.key === "j") {
          this.jump();
        }
      }
      if (event.key === "ArrowDown") {
        event.preventDefault();
        if (this.matches.length > this.matchCursor + 1) {
          this.matchCursor += 1;
        } else {
          this.matchCursor = 0;
        }
      }
      if (event.key === "ArrowUp") {
        event.preventDefault();
        if (this.matchCursor > 0) {
          this.matchCursor -= 1;
        } else {
          this.matchCursor = this.matches.length - 1;
        }
      }
      if (event.key === "Escape") {
        this.finishJumping();
        this.showDebug = false;
      }
      if (this.jumping && event.key === "Enter") {
        if (this.matchCursor < this.matches.length) {
          const match = this.matches[this.matchCursor];
          useVM().runLabel(match);
          this.finishJumping();
        }
      }
    });
  },
  methods: {
    finishJumping() {
      this.jumping = false;
      this.matches = [];
      this.searchString = "";
    },
    labelSelected(event) {
      const labelName = event.target.value;
      useVM().runLabel(labelName);
      this.close();
    },
    close() {
      this.showDebug = false;
    },
    closeErrors() {
      useMain().clearErrors();
    },
    open() {
      this.showDebug = true;
      const vmStore = useVM();
      const mainStore = useMain();
      const questsStore = useQuests();
      const inventoryStore = useInventory();
      const skillsStore = useSkills();
      this.$nextTick(() => {
        new xJ({
          target: this.$refs.variablesViewer,
          props: {
            content: {
              text: void 0,
              json: {
                data: this.variables,
                quests: questsStore.quests,
                items: inventoryStore.items,
                skills: skillsStore.skills,
                skillChecks: skillsStore.skillChecks
              }
            },
            onChange: (updatedContent) => {
              vmStore.overrideData(updatedContent.json.data);
              questsStore.quests = updatedContent.json.quests;
              inventoryStore.items = updatedContent.json.items;
              skillsStore.skills = updatedContent.json.skills;
              skillsStore.skillChecks = updatedContent.json.skillChecks;
            }
          }
        });
        new xJ({
          target: this.$refs.stateViewer,
          props: {
            content: {
              text: void 0,
              json: mainStore.getAllStates()
            },
            onChange: (updatedContent) => {
              mainStore.overrideStates(updatedContent.json);
            }
          }
        });
      });
    },
    toggle() {
      if (this.showDebug) {
        this.showDebug = false;
      } else if (this.jumping) {
        this.finishJumping();
      } else {
        this.open();
      }
    },
    jump() {
      fuse = new Fuse(this.labels, {
        includeScore: true
      });
      this.jumping = true;
      setTimeout(() => {
        this.$nextTick(() => {
          this.$refs.search.focus();
        });
      }, 10);
      this.matchCursor = 0;
      this.matches = this.labels;
    },
    getMatchResultStyle(index) {
      if (index === this.matchCursor) {
        return {
          background: "var(--light-background)"
        };
      }
    },
    onSearchInput() {
      const value = this.searchString;
      console.log(value);
      const result = fuse.search(value);
      this.matches = result.map((element) => element.item);
      if (this.matches.length > 0 && this.matchCursor > this.matches.length - 1) {
        this.matchCursor = this.matches.length - 1;
      }
    },
    save() {
      useMain().saveGame();
    },
    wordCount() {
      const scripts = Object.values(this.script);
      const count = scripts.reduce((count2, script) => {
        logger$1.log(count2);
        return count2 + this.countWordsInScriptBranch(script.branch);
      }, 0);
      alert(`You have ${count} words`);
    },
    countWordsInScriptLine(scriptLine) {
      if (scriptLine.command.commandType === "talk") {
        if (typeof scriptLine.command.args[2] === "string") {
          return this.countWordsInString(scriptLine.command.args[2]);
        }
      }
      if (scriptLine.command.commandType === "text") {
        return this.countWordsInString(scriptLine.code);
      }
      if (scriptLine.command.commandType === "choice") {
        const opt = scriptLine.command.staticOptions;
        let count = this.countWordsInScriptLine(opt.prompt);
        count += opt.choices.reduce((count2, choice) => count2 + this.countWordsInString(choice.prompt.code), 0);
        const choices = opt.choices;
        return choices.reduce((count2, choice) => {
          if (choice.branch) {
            return count2 + this.countWordsInScriptBranch(choice.branch);
          }
          return count2;
        }, count);
      }
      if (scriptLine.command.commandType === "if") {
        const opt = scriptLine.command.staticOptions;
        const branches = [opt.success, opt.failure];
        return branches.reduce((count, choice) => {
          if (choice) {
            return count + this.countWordsInScriptBranch(choice);
          }
          return count;
        }, 0);
      }
      return 0;
    },
    countWordsInString(string) {
      return string.split(" ").length;
    },
    countWordsInScriptBranch(branch) {
      return branch.reduce((count, script) => {
        if (script) {
          return count + this.countWordsInScriptLine(script);
        }
        return count;
      }, 0);
    },
    getPlayTimeString() {
      const time = getPlayTime(this.playTime.start, this.playTime.previousPlaytime);
      return toHHMMSS(time / 1e3);
    }
  },
  computed: {
    ...mapState(useVM, ["script", "data"]),
    ...mapState(useMain, ["playTime", "errors", "playing", "flowState"]),
    labels() {
      const scripts = this.script;
      return Object.keys(scripts).sort();
    },
    variables() {
      return this.data;
    }
  }
});
const _hoisted_1$d = { class: "debug-menu" };
const _hoisted_2$b = {
  key: 0,
  class: "debug-info"
};
const _hoisted_3$6 = /* @__PURE__ */ createBaseVNode("h3", null, "Debug mode is ON", -1);
const _hoisted_4$5 = /* @__PURE__ */ createBaseVNode("ul", null, [
  /* @__PURE__ */ createBaseVNode("li", null, [
    /* @__PURE__ */ createBaseVNode("b", null, "j"),
    /* @__PURE__ */ createTextVNode(": Quick Label Jump")
  ]),
  /* @__PURE__ */ createBaseVNode("li", null, [
    /* @__PURE__ */ createBaseVNode("b", null, "d"),
    /* @__PURE__ */ createTextVNode(": Debug Menu")
  ]),
  /* @__PURE__ */ createBaseVNode("li", null, [
    /* @__PURE__ */ createBaseVNode("b", null, "Escape"),
    /* @__PURE__ */ createTextVNode(": Toggle Menu")
  ])
], -1);
const _hoisted_5$5 = [
  _hoisted_3$6,
  _hoisted_4$5
];
const _hoisted_6$5 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Jump to label", -1);
const _hoisted_7$4 = {
  key: 0,
  class: "search-results"
};
const _hoisted_8$4 = { key: 1 };
const _hoisted_9$2 = /* @__PURE__ */ createBaseVNode("h3", null, "No matches found", -1);
const _hoisted_10$2 = [
  _hoisted_9$2
];
const _hoisted_11$2 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Error(s)", -1);
const _hoisted_12$2 = /* @__PURE__ */ createTextVNode(" There are errors in your dialogue scripts. Open the developer console for more details. ");
const _hoisted_13$1 = ["innerHTML"];
const _hoisted_14 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Debug Menu!", -1);
const _hoisted_15 = { class: "container" };
const _hoisted_16 = /* @__PURE__ */ createTextVNode(" Hello this is the debug menu. ");
const _hoisted_17 = /* @__PURE__ */ createBaseVNode("option", {
  class: "option",
  selected: "",
  disabled: ""
}, "Jump to a label", -1);
const _hoisted_18 = ["value"];
const _hoisted_19 = { class: "grid grid-cols-3 gap-4" };
const _hoisted_20 = /* @__PURE__ */ createBaseVNode("h2", null, "Variables Editor", -1);
const _hoisted_21 = { ref: "variablesViewer" };
const _hoisted_22 = /* @__PURE__ */ createBaseVNode("h2", null, "Skill Checks", -1);
const _hoisted_23 = { class: "table-auto" };
const _hoisted_24 = /* @__PURE__ */ createBaseVNode("thead", null, [
  /* @__PURE__ */ createBaseVNode("tr", null, [
    /* @__PURE__ */ createBaseVNode("th", null, "Skill Check"),
    /* @__PURE__ */ createBaseVNode("th", null, "Happened"),
    /* @__PURE__ */ createBaseVNode("th", null, "Succeeded")
  ])
], -1);
const _hoisted_25 = /* @__PURE__ */ createBaseVNode("h2", null, "App State editor (entire app and engine", -1);
const _hoisted_26 = /* @__PURE__ */ createBaseVNode("h3", { style: { "color": "pink" } }, " Use for debugging, editing some of those things can cause issues ", -1);
const _hoisted_27 = { ref: "stateViewer" };
function _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_modal = resolveComponent("modal");
  return openBlock(), createElementBlock("div", _hoisted_1$d, [
    createBaseVNode("button", {
      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.open && _ctx.open(...args)),
      class: "button debug-button"
    }, "Debug Menu"),
    !_ctx.playing && _ctx.flowState === "menu" ? (openBlock(), createElementBlock("div", _hoisted_2$b, _hoisted_5$5)) : createCommentVNode("", true),
    _ctx.jumping ? (openBlock(), createBlock(_component_modal, {
      key: 1,
      onClose: _ctx.finishJumping,
      containerCssClass: "jump-menu-container"
    }, {
      header: withCtx(() => [
        _hoisted_6$5
      ]),
      body: withCtx(() => [
        withDirectives(createBaseVNode("input", {
          type: "text",
          class: "label-input input",
          ref: "search",
          "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => _ctx.searchString = $event),
          onInput: _cache[2] || (_cache[2] = (...args) => _ctx.onSearchInput && _ctx.onSearchInput(...args))
        }, null, 544), [
          [vModelText, _ctx.searchString]
        ]),
        _ctx.matches.length > 0 ? (openBlock(), createElementBlock("div", _hoisted_7$4, [
          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.matches, (match, index) => {
            return openBlock(), createElementBlock("div", {
              class: "search-result",
              style: normalizeStyle(_ctx.getMatchResultStyle(index)),
              key: index
            }, toDisplayString(match), 5);
          }), 128))
        ])) : (openBlock(), createElementBlock("div", _hoisted_8$4, _hoisted_10$2))
      ]),
      _: 1
    }, 8, ["onClose"])) : createCommentVNode("", true),
    _ctx.errors.length > 0 ? (openBlock(), createBlock(_component_modal, {
      key: 2,
      onClose: _ctx.closeErrors,
      containerCssClass: "debug-menu-container"
    }, {
      header: withCtx(() => [
        _hoisted_11$2
      ]),
      body: withCtx(() => [
        _hoisted_12$2,
        createBaseVNode("ul", null, [
          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.errors, (error2, index) => {
            return openBlock(), createElementBlock("li", {
              key: index,
              class: "error-message list-disc",
              innerHTML: error2.text
            }, null, 8, _hoisted_13$1);
          }), 128))
        ])
      ]),
      _: 1
    }, 8, ["onClose"])) : createCommentVNode("", true),
    _ctx.showDebug ? (openBlock(), createBlock(_component_modal, {
      key: 3,
      onClose: _ctx.close,
      containerCssClass: "debug-menu-container"
    }, {
      header: withCtx(() => [
        _hoisted_14
      ]),
      body: withCtx(() => [
        createBaseVNode("div", _hoisted_15, [
          _hoisted_16,
          createBaseVNode("select", {
            class: "select",
            name: "label-selector",
            onChange: _cache[3] || (_cache[3] = ($event) => _ctx.labelSelected($event))
          }, [
            _hoisted_17,
            (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.labels, (label) => {
              return openBlock(), createElementBlock("option", {
                class: "option",
                value: label,
                key: label
              }, toDisplayString(label), 9, _hoisted_18);
            }), 128))
          ], 32),
          createBaseVNode("div", _hoisted_19, [
            createBaseVNode("button", {
              onClick: _cache[4] || (_cache[4] = (...args) => _ctx.wordCount && _ctx.wordCount(...args)),
              class: "button"
            }, "Word Count"),
            createBaseVNode("button", {
              onClick: _cache[5] || (_cache[5] = (...args) => _ctx.save && _ctx.save(...args)),
              class: "button"
            }, "Save Game")
          ]),
          createBaseVNode("h3", null, "Play time: " + toDisplayString(_ctx.getPlayTimeString()), 1),
          _hoisted_20,
          createBaseVNode("div", _hoisted_21, null, 512),
          _hoisted_22,
          createBaseVNode("table", _hoisted_23, [
            _hoisted_24,
            createBaseVNode("tbody", null, [
              (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.skillChecks, (check, key) => {
                return openBlock(), createElementBlock("tr", { key }, [
                  createBaseVNode("td", null, toDisplayString(key), 1),
                  createBaseVNode("td", null, toDisplayString(check.happened ? "\u2705" : "\u274C"), 1),
                  createBaseVNode("td", null, toDisplayString(!check.happened ? "NA" : check.succeeded ? "\u2705" : "\u274C"), 1)
                ]);
              }), 128))
            ])
          ]),
          _hoisted_25,
          _hoisted_26,
          createBaseVNode("div", _hoisted_27, null, 512)
        ])
      ]),
      _: 1
    }, 8, ["onClose"])) : createCommentVNode("", true)
  ]);
}
var DebugMenu = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["render", _sfc_render$c]]);
const _sfc_main$e = defineComponent({
  data() {
    return {
      muted: false
    };
  },
  mounted() {
    const volume = howler.Howler.volume();
    this.$refs.slider.value = volume;
  },
  methods: {
    changeVolume(event) {
      const target = event.target;
      howler.Howler.volume(target.value);
    },
    toggleMute() {
      if (this.muted) {
        howler.Howler.mute(false);
        this.muted = false;
      } else {
        howler.Howler.mute(true);
        this.muted = true;
      }
    }
  }
});
const _hoisted_1$c = { class: "volume-controls" };
const _hoisted_2$a = /* @__PURE__ */ createBaseVNode("label", {
  for: "volume",
  class: "volume-label"
}, "Volume", -1);
function _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$c, [
    _hoisted_2$a,
    createBaseVNode("input", {
      ref: "slider",
      class: "volume-slider",
      type: "range",
      id: "volume",
      name: "volume",
      min: "0",
      max: "1",
      step: "0.1",
      value: "0.5",
      onChange: _cache[0] || (_cache[0] = (...args) => _ctx.changeVolume && _ctx.changeVolume(...args))
    }, null, 544)
  ]);
}
var VolumeControls = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["render", _sfc_render$b]]);
const _sfc_main$d = defineComponent({
  components: {
    VolumeControls
  },
  data() {
    return {};
  },
  computed: {
    ...mapState(useHud, ["hudStats"]),
    ...mapState(useRenderingStore, ["layoutMode"]),
    statsConfig() {
      const config2 = getConfig();
      return config2.hudStats;
    },
    stats() {
      return this.hudStats;
    },
    hudStyle() {
      let right = "0";
      if (this.layoutMode === "horizontal") {
        right = `${getConfig().layout.minTextWidth}px`;
      }
      return {
        right
      };
    }
  }
});
const _hoisted_1$b = ["src"];
const _hoisted_2$9 = { class: "bold hud-text" };
const _hoisted_3$5 = /* @__PURE__ */ createTextVNode(": ");
function _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", {
    class: "hud",
    style: normalizeStyle(_ctx.hudStyle)
  }, [
    (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.stats, (stat, key) => {
      return openBlock(), createElementBlock("div", {
        key,
        class: "hud-stat"
      }, [
        createBaseVNode("img", {
          class: "hud-icon",
          src: _ctx.statsConfig[key].icon
        }, null, 8, _hoisted_1$b),
        createBaseVNode("span", _hoisted_2$9, toDisplayString(_ctx.statsConfig[key].name), 1),
        _hoisted_3$5,
        createBaseVNode("span", null, toDisplayString(Math.floor(stat.value * 100) / 100), 1)
      ]);
    }), 128))
  ], 4);
}
var Hud = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$a]]);
const _sfc_main$c = defineComponent({
  props: {
    percentage: Number,
    step: String
  },
  methods: {
    loadingStyle() {
      const maxWidth = 40;
      const width = this.percentage * maxWidth;
      return {
        width: `${width}vw`
      };
    }
  },
  computed: {}
});
const _hoisted_1$a = { id: "loading-bar" };
const _hoisted_2$8 = { id: "loading-text" };
function _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$a, [
    createBaseVNode("div", {
      id: "inner-loading-bar",
      style: normalizeStyle(_ctx.loadingStyle())
    }, null, 4),
    createBaseVNode("div", _hoisted_2$8, [
      createBaseVNode("h3", null, "Loading " + toDisplayString(Math.floor(_ctx.percentage * 100)) + "% - " + toDisplayString(_ctx.step), 1)
    ])
  ]);
}
var LoadingBar = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$9]]);
const _sfc_main$b = defineComponent({
  data() {
  },
  methods: {},
  computed: {
    ...mapState(useNotifications, ["notifications"])
  }
});
function _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createBlock(TransitionGroup, {
    name: "notification",
    tag: "div",
    class: "notifications-holder"
  }, {
    default: withCtx(() => [
      (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.notifications, (notification, id2) => {
        return openBlock(), createElementBlock("div", {
          class: "notification",
          key: id2
        }, [
          createBaseVNode("h3", null, toDisplayString(notification.text), 1)
        ]);
      }), 128))
    ]),
    _: 1
  });
}
var NotificationToast = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$8]]);
let config$2;
function setCharactersConfig(data) {
  config$2 = data;
}
function getCharacterInfo(character) {
  return config$2.characters[character];
}
function getCharacterPictureUrl(character, pose) {
  const info = getCharacterInfo(character);
  if (!pose) {
    pose = "default";
  }
  if (info.sprites) {
    return `${config$2.config.imagesPath}${info.sprites[pose]}`;
  }
}
function getCharacterStyle(character) {
  if (!character) {
    return {};
  }
  return getCharacterInfo(character).style || {};
}
function aspectRatioFit(screenWidth, screenHeight, gameWidth, gameHeight) {
  const widthRatio = screenWidth / gameWidth;
  const heightRatio = screenHeight / gameHeight;
  const bestRatio = Math.min(widthRatio, heightRatio);
  return bestRatio;
}
let imagesToLoad = 0;
let imagesLoaded = 0;
function loadImages(config2) {
  logger$1.log(`Loading images`);
  return new Promise((resolve, reject) => {
    for (const key in config2.images) {
      const path = config2.images[key];
      loadImage(key, path, resolve, reject);
    }
  });
}
function loadImage(key, path, resolver, rejecter) {
  imagesToLoad++;
  logger$1.log(`Loading image ${key} at ${path}`);
  const image = new Image();
  image.onload = () => {
    imagesLoaded += 1;
    logger$1.log(`Loaded image ${key} successfully`);
    if (imagesLoaded >= imagesToLoad) {
      logger$1.log(`All images loaded`);
      resolver();
    }
  };
  image.onerror = (e20) => {
    console.error(`Error loading image ${key}`);
    rejecter(e20);
  };
  image.src = path;
}
function debounce(func, waitMilliseconds = 50, options = {}) {
  var _a2, _b2;
  let timeoutId;
  const isImmediate = (_a2 = options.isImmediate) != null ? _a2 : false;
  const callback = (_b2 = options.callback) != null ? _b2 : false;
  const maxWait = options.maxWait;
  let lastInvokeTime = Date.now();
  let promises = [];
  function nextInvokeTimeout() {
    if (maxWait !== void 0) {
      const timeSinceLastInvocation = Date.now() - lastInvokeTime;
      if (timeSinceLastInvocation + waitMilliseconds >= maxWait) {
        return maxWait - timeSinceLastInvocation;
      }
    }
    return waitMilliseconds;
  }
  const debouncedFunction = function(...args) {
    const context = this;
    return new Promise((resolve, reject) => {
      const invokeFunction = function() {
        timeoutId = void 0;
        lastInvokeTime = Date.now();
        if (!isImmediate) {
          const result = func.apply(context, args);
          callback && callback(result);
          promises.forEach(({ resolve: resolve2 }) => resolve2(result));
          promises = [];
        }
      };
      const shouldCallNow = isImmediate && timeoutId === void 0;
      if (timeoutId !== void 0) {
        clearTimeout(timeoutId);
      }
      timeoutId = setTimeout(invokeFunction, nextInvokeTimeout());
      if (shouldCallNow) {
        const result = func.apply(context, args);
        callback && callback(result);
        return resolve(result);
      }
      promises.push({ resolve, reject });
    });
  };
  debouncedFunction.cancel = function(reason) {
    if (timeoutId !== void 0) {
      clearTimeout(timeoutId);
    }
    promises.forEach(({ reject }) => reject(reason));
    promises = [];
  };
  return debouncedFunction;
}
const _sfc_main$a = defineComponent({
  components: {
    Modal,
    VolumeControls
  },
  data() {
    return {};
  },
  mounted() {
  },
  methods: {
    quit() {
      window.close();
    },
    mainMenu() {
      useMain().menuReturn();
      this.closeMenu();
    },
    closeMenu() {
      this.$emit("close");
    },
    getPlayTimeString() {
      const time = getPlayTime(this.playTime.start, this.playTime.previousPlaytime);
      return toHHMMSS(time / 1e3);
    }
  },
  computed: {
    ...mapState(useMain, ["playTime"])
  }
});
const _hoisted_1$9 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Menu", -1);
const _hoisted_2$7 = { class: "menu-content" };
function _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_VolumeControls = resolveComponent("VolumeControls");
  const _component_modal = resolveComponent("modal");
  return openBlock(), createBlock(_component_modal, {
    class: "menu",
    onClose: _cache[2] || (_cache[2] = ($event) => _ctx.$emit("close")),
    containerCssClass: "menu-modal"
  }, {
    header: withCtx(() => [
      _hoisted_1$9
    ]),
    body: withCtx(() => [
      createBaseVNode("div", _hoisted_2$7, [
        createBaseVNode("h3", null, "Play time: " + toDisplayString(_ctx.getPlayTimeString()), 1),
        createVNode(_component_VolumeControls),
        createBaseVNode("button", {
          class: "button title quit-button",
          onClick: _cache[0] || (_cache[0] = (...args) => _ctx.mainMenu && _ctx.mainMenu(...args))
        }, " Main Menu "),
        createBaseVNode("button", {
          class: "button title quit-button",
          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.quit && _ctx.quit(...args))
        }, "Exit")
      ])
    ]),
    _: 1
  });
}
var MainMenu = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$7]]);
const _sfc_main$9 = defineComponent({
  setup() {
    const store = useSkills();
    const skills = computed$1(() => store.skills);
    return { skills };
  },
  components: {
    Modal
  },
  data() {
    return {
      chosenSkill: false
    };
  },
  mounted() {
  },
  methods: {
    getSkillStyle(skill) {
      return {
        backgroundImage: `url(${this.skillConf[skill].icon})`
      };
    },
    getSkillName(skill) {
      return this.skillConf[skill].name;
    },
    clickSkill(skill) {
      this.chosenSkill = skill;
    },
    closeSkill() {
      this.chosenSkill = false;
    },
    xpBarWidth(xp2) {
      return {
        width: `${Math.floor(xp2 / this.xpPerLevel * 100)}%`
      };
    }
  },
  computed: {
    skillsToDisplay() {
      const skills = {};
      for (const skill in this.skills) {
        const conf = this.skillConf[skill];
        if (conf.hidden && this.skills[skill].level < 1) {
          continue;
        }
        skills[skill] = this.skills[skill];
      }
      return skills;
    },
    skillConf() {
      return getConfig().skills;
    },
    xpPerLevel() {
      return getConfig().skillOptions.xpPerLevel;
    }
  }
});
const _hoisted_1$8 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Skills", -1);
const _hoisted_2$6 = {
  key: 0,
  class: "skills-container"
};
const _hoisted_3$4 = ["onClick"];
const _hoisted_4$4 = { class: "skill-title" };
const _hoisted_5$4 = { class: "skill-xp-container" };
const _hoisted_6$4 = { class: "skill-xp-text" };
const _hoisted_7$3 = { class: "skill-level" };
const _hoisted_8$3 = { key: 1 };
const _hoisted_9$1 = { class: "flex flex-row skill-description-container" };
const _hoisted_10$1 = { class: "flex skill-left" };
const _hoisted_11$1 = { class: "flex skill-right" };
const _hoisted_12$1 = /* @__PURE__ */ createBaseVNode("hr", { class: "hr-solid" }, null, -1);
function _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_modal = resolveComponent("modal");
  return openBlock(), createBlock(_component_modal, {
    class: "menu",
    onClose: _cache[1] || (_cache[1] = ($event) => _ctx.$emit("close")),
    containerCssClass: "skills-modal"
  }, {
    header: withCtx(() => [
      _hoisted_1$8
    ]),
    body: withCtx(() => [
      !_ctx.chosenSkill ? (openBlock(), createElementBlock("div", _hoisted_2$6, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.skillsToDisplay, (skill) => {
          return openBlock(), createElementBlock("button", {
            onClick: () => _ctx.clickSkill(skill.id),
            class: "skill-display",
            style: normalizeStyle(_ctx.getSkillStyle(skill.id)),
            key: skill.id
          }, [
            createBaseVNode("h3", _hoisted_4$4, toDisplayString(_ctx.getSkillName(skill.id)), 1),
            createBaseVNode("div", _hoisted_5$4, [
              createBaseVNode("div", {
                class: "skill-xp-bar",
                style: normalizeStyle(_ctx.xpBarWidth(skill.xp))
              }, null, 4),
              createBaseVNode("h3", _hoisted_6$4, toDisplayString(skill.xp) + " / " + toDisplayString(_ctx.xpPerLevel) + " XP", 1)
            ]),
            createBaseVNode("h3", _hoisted_7$3, toDisplayString(skill.level), 1)
          ], 12, _hoisted_3$4);
        }), 128))
      ])) : typeof _ctx.chosenSkill === "string" ? (openBlock(), createElementBlock("div", _hoisted_8$3, [
        createBaseVNode("div", _hoisted_9$1, [
          createBaseVNode("div", _hoisted_10$1, [
            createBaseVNode("div", {
              class: "skill-display",
              style: normalizeStyle(_ctx.getSkillStyle(_ctx.chosenSkill))
            }, null, 4)
          ]),
          createBaseVNode("div", _hoisted_11$1, [
            createBaseVNode("h2", null, toDisplayString(_ctx.getSkillName(_ctx.chosenSkill)), 1),
            _hoisted_12$1,
            createBaseVNode("h3", null, "Level: " + toDisplayString(_ctx.skills[_ctx.chosenSkill].level), 1),
            createBaseVNode("p", null, toDisplayString(_ctx.skillConf[_ctx.chosenSkill].description), 1)
          ])
        ]),
        createBaseVNode("button", {
          class: "button",
          onClick: _cache[0] || (_cache[0] = (...args) => _ctx.closeSkill && _ctx.closeSkill(...args))
        }, toDisplayString("<--"))
      ])) : createCommentVNode("", true)
    ]),
    _: 1
  });
}
var Skills = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$6]]);
const _sfc_main$8 = defineComponent({
  setup() {
    const store = useInventory();
    const dialogStore = useDialogStore();
    const items = computed$1(() => store.items);
    const currentlyChoosing = computed$1(() => dialogStore.currentDialog.choices);
    return { items, currentlyChoosing };
  },
  components: {
    Modal
  },
  data() {
    return {
      chosenId: false
    };
  },
  mounted() {
  },
  methods: {
    close() {
      this.$emit("close");
    },
    getItemStyle(item) {
      return {
        backgroundImage: `url(${this.itemConf[item].icon})`
      };
    },
    getItemName(item) {
      return this.itemConf[item].name;
    },
    getItemConf(item) {
      return this.itemConf[item];
    },
    clickItem(item) {
      this.chosenId = item;
    },
    closeItem() {
      this.chosenId = false;
    },
    useItem() {
      if (this.chosenItem && this.canUseChosenItem && this.chosenItemConf) {
        const onUse = this.chosenItemConf.onUse;
        this.close();
        if (onUse.action === "jump") {
          useVM().runLabel(onUse.label);
        } else if (onUse.action === "run") {
          useVM().runLabelFunction(onUse.label, true);
        } else {
          error(`Unknown action ${onUse.action}`);
        }
      }
    },
    canUseItem(item) {
      const conf = this.itemConf[item.id];
      if (conf && conf.onUse && !useInventory().isInteractionTagBlocked(conf.tag) && !this.currentlyChoosing) {
        return true;
      }
      return false;
    }
  },
  computed: {
    itemsToDisplay() {
      const items = {};
      for (const key in this.items) {
        if (this.items[key].amount > 0) {
          items[key] = this.items[key];
        }
      }
      return items;
    },
    chosenItem() {
      if (this.chosenId) {
        return this.items[this.chosenId];
      }
      return null;
    },
    canUseChosenItem() {
      return this.canUseItem(this.chosenItem);
    },
    chosenItemConf() {
      if (this.chosenId) {
        return this.itemConf[this.chosenId];
      }
      return null;
    },
    itemConf() {
      return getConfig().items;
    }
  }
});
const _hoisted_1$7 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Inventory", -1);
const _hoisted_2$5 = {
  key: 0,
  class: "inventory-container"
};
const _hoisted_3$3 = ["onClick"];
const _hoisted_4$3 = { class: "item-title" };
const _hoisted_5$3 = { class: "item-amount" };
const _hoisted_6$3 = { key: 1 };
const _hoisted_7$2 = { class: "flex flex-row item-description-container" };
const _hoisted_8$2 = { class: "flex item-left" };
const _hoisted_9 = { class: "flex item-right" };
const _hoisted_10 = /* @__PURE__ */ createBaseVNode("hr", { class: "hr-solid" }, null, -1);
const _hoisted_11 = { key: 2 };
const _hoisted_12 = /* @__PURE__ */ createBaseVNode("h2", null, "The inventory is empty!", -1);
const _hoisted_13 = [
  _hoisted_12
];
function _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_modal = resolveComponent("modal");
  return openBlock(), createBlock(_component_modal, {
    class: "menu",
    onClose: _ctx.close,
    containerCssClass: "inventory-modal"
  }, {
    header: withCtx(() => [
      _hoisted_1$7
    ]),
    body: withCtx(() => [
      !_ctx.chosenItem && Object.keys(_ctx.itemsToDisplay).length > 0 ? (openBlock(), createElementBlock("div", _hoisted_2$5, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.itemsToDisplay, (item) => {
          return openBlock(), createElementBlock("button", {
            onClick: () => _ctx.clickItem(item.id),
            class: "item-display",
            style: normalizeStyle(_ctx.getItemStyle(item.id)),
            key: item.id
          }, [
            createBaseVNode("h3", _hoisted_4$3, toDisplayString(_ctx.getItemName(item.id)), 1),
            createBaseVNode("h3", _hoisted_5$3, toDisplayString(item.amount), 1)
          ], 12, _hoisted_3$3);
        }), 128))
      ])) : typeof _ctx.chosenId === "string" ? (openBlock(), createElementBlock("div", _hoisted_6$3, [
        createBaseVNode("div", _hoisted_7$2, [
          createBaseVNode("div", _hoisted_8$2, [
            createBaseVNode("div", {
              class: "item-display",
              style: normalizeStyle(_ctx.getItemStyle(_ctx.chosenId))
            }, null, 4)
          ]),
          createBaseVNode("div", _hoisted_9, [
            createBaseVNode("h2", null, toDisplayString(_ctx.getItemName(_ctx.chosenId)), 1),
            _hoisted_10,
            createBaseVNode("h3", null, "Amount: " + toDisplayString(_ctx.chosenItem.amount), 1),
            createBaseVNode("p", null, toDisplayString(_ctx.chosenItemConf.description), 1),
            createBaseVNode("button", {
              onClick: _cache[0] || (_cache[0] = (...args) => _ctx.useItem && _ctx.useItem(...args)),
              class: normalizeClass(["button", _ctx.canUseChosenItem ? "" : "disabled"])
            }, " Use ", 2)
          ])
        ]),
        createBaseVNode("button", {
          class: "button",
          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.closeItem && _ctx.closeItem(...args))
        }, toDisplayString("<--"))
      ])) : (openBlock(), createElementBlock("div", _hoisted_11, _hoisted_13))
    ]),
    _: 1
  }, 8, ["onClose"]);
}
var InventoryUi = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render$5]]);
const _sfc_main$7 = defineComponent({
  props: {
    pictureUrl: String
  },
  computed: {
    ...mapState(useRenderingStore, ["layoutMode"]),
    boxStyle() {
      const layout = getConfig().layout;
      let right = 0;
      let bottom = 0;
      if (this.layoutMode === "vertical") {
        right = "50%";
        bottom = `${layout.mobileDialogHeightPercentage - 5}%`;
      } else {
        right = `${layout.minTextWidth - 10}px`;
        bottom = "20%";
      }
      return {
        right,
        bottom,
        width: `${layout.portraits.width}px`,
        height: `${layout.portraits.height}px`
      };
    }
  }
});
const _hoisted_1$6 = ["src"];
function _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", {
    class: "dialog-picture override",
    style: normalizeStyle(_ctx.boxStyle)
  }, [
    createBaseVNode("img", {
      src: _ctx.pictureUrl,
      class: "picture override"
    }, null, 8, _hoisted_1$6)
  ], 4);
}
var DialogPicture = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["render", _sfc_render$4]]);
const _sfc_main$6 = defineComponent({
  data() {
    return {
      playerText: "",
      passed: false
    };
  },
  props: {
    options: {
      type: Object,
      required: true
    },
    active: Boolean
  },
  mounted() {
    document.addEventListener("keydown", (e20) => {
      if (this.canInteract && this.options.textField) {
        if (e20.key === "Enter") {
          this.submitText();
        }
      }
      if (this.canInteract && !this.options.textField) {
        let choice = -1;
        if (e20.key === " ") {
          if (this.choices) {
            choice = 0;
          } else {
            this.chooseOption(0);
          }
        } else {
          switch (e20.key) {
            case " ":
              choice = 0;
              break;
            case "1":
              choice = 0;
              break;
            case "2":
              choice = 1;
              break;
            case "3":
              choice = 2;
              break;
            case "4":
              choice = 3;
              break;
            case "5":
              choice = 4;
              break;
            case "6":
              choice = 5;
              break;
            case "7":
              choice = 6;
              break;
            case "8":
              choice = 7;
              break;
          }
        }
        if (choice !== -1 && this.choices && choice < this.choices.length) {
          this.chooseOption(this.choices[choice]);
        }
      }
    });
    setTimeout(() => {
      if (this.options.textField) {
        this.$refs.playerInput.focus();
      }
    }, 10);
  },
  computed: {
    ...mapState(useMain, ["paused"]),
    preText() {
      if (this.options.title) {
        return " &nbsp;\u2013&nbsp; ";
      } else {
        return "";
      }
    },
    style() {
      return getCharacterStyle(this.options.styleId);
    },
    dialogBoxStyle() {
      const style = getCharacterStyle(this.options.styleId);
      const css = {
        opacity: this.options.old ? "0.7" : "1"
      };
      if (!this.options.title) {
        css.marginTop = "-20px";
      }
      return { ...style.boxCss, ...css };
    },
    titleStyle() {
      const style = getCharacterStyle(this.options.styleId);
      const result = { color: style.color, ...style.nameCss };
      return result;
    },
    textStyle() {
      const style = getCharacterStyle(this.options.styleId);
      return style.textCss;
    },
    choices() {
      if (this.options.choices) {
        return this.options.choices;
      }
      return void 0;
    },
    canInteract() {
      return this.active && !this.passed && this.options.interactive && !this.paused;
    }
  },
  methods: {
    chooseOption(choice) {
      this.passed = true;
      let choiceValue;
      if (typeof choice === "object") {
        choiceValue = choice.originalIndex;
      } else {
        choiceValue = choice;
      }
      useMain().playerAnswered(choiceValue);
    },
    dialogStyle(choice) {
      const style = {};
      if (!choice.allowed) {
        style.pointerEvents = "none";
        style.textDecoration = "line-through";
      }
      return style;
    },
    dialogClass(choice) {
      if (!choice.allowed) {
        return "strike-anim";
      }
    },
    submitText() {
      const text = this.playerText;
      useMain().playerAnswered(text);
    }
  }
});
const _hoisted_1$5 = { class: "dialog-content" };
const _hoisted_2$4 = ["innerHTML"];
const _hoisted_3$2 = ["innerHTML"];
const _hoisted_4$2 = ["innerHTML"];
const _hoisted_5$2 = {
  key: 1,
  class: "dialog-choices"
};
const _hoisted_6$2 = ["onClick", "innerHTML"];
const _hoisted_7$1 = { key: 2 };
const _hoisted_8$1 = {
  key: 3,
  class: "buttons-container"
};
function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", {
    class: "dialog-box w-full override",
    style: normalizeStyle(_ctx.dialogBoxStyle)
  }, [
    createBaseVNode("div", _hoisted_1$5, [
      _ctx.options.title ? (openBlock(), createElementBlock("span", {
        key: 0,
        class: "dialog-title override",
        style: normalizeStyle(_ctx.titleStyle),
        innerHTML: _ctx.options.title
      }, null, 12, _hoisted_2$4)) : createCommentVNode("", true),
      createBaseVNode("span", {
        class: "dialog-text dialog-separator override",
        style: normalizeStyle(_ctx.textStyle),
        innerHTML: _ctx.preText
      }, null, 12, _hoisted_3$2),
      createBaseVNode("span", {
        class: "dialog-text override",
        style: normalizeStyle(_ctx.textStyle),
        innerHTML: _ctx.options.text
      }, null, 12, _hoisted_4$2),
      _ctx.canInteract && _ctx.choices ? (openBlock(), createElementBlock("div", _hoisted_5$2, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.choices, (choice, index) => {
          return openBlock(), createElementBlock("p", {
            key: index,
            style: normalizeStyle(_ctx.dialogStyle(choice)),
            class: normalizeClass([_ctx.dialogClass(choice), "dialog-choice override"]),
            onClick: ($event) => _ctx.chooseOption(choice),
            innerHTML: `${index + 1}. \u2013\xA0 ${choice.choice}`
          }, null, 14, _hoisted_6$2);
        }), 128))
      ])) : _ctx.canInteract && _ctx.options.textField ? (openBlock(), createElementBlock("div", _hoisted_7$1, [
        withDirectives(createBaseVNode("input", {
          type: "text",
          class: "label-input input",
          ref: "playerInput",
          id: "player-input-field",
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => _ctx.playerText = $event)
        }, null, 512), [
          [vModelText, _ctx.playerText]
        ]),
        createBaseVNode("button", {
          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.submitText && _ctx.submitText(...args)),
          class: "button",
          id: "player-input-submit"
        }, " Submit ")
      ])) : _ctx.canInteract ? (openBlock(), createElementBlock("div", _hoisted_8$1, [
        createBaseVNode("div", {
          onClick: _cache[2] || (_cache[2] = ($event) => _ctx.chooseOption(0)),
          class: "interact-button button override"
        }, " Continue ")
      ])) : createCommentVNode("", true)
    ])
  ], 4);
}
var DialogBox = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", _sfc_render$3]]);
const _hoisted_1$4 = /* @__PURE__ */ createBaseVNode("div", { class: "anchor" }, null, -1);
const _sfc_main$5 = /* @__PURE__ */ defineComponent({
  __name: "game-dialog",
  props: {
    layoutMode: String,
    inGame: Boolean
  },
  setup(__props) {
    const props = __props;
    const vmStore = useVM();
    const stack = computed$1(() => vmStore.stack);
    const dialogStore = useDialogStore();
    const dialog = computed$1(() => dialogStore.dialog);
    const dialogRef = ref(null);
    const dialogContainerStyle = computed$1(() => {
      if (props.layoutMode === "vertical") {
        return {};
      } else {
        return {
          paddingBottom: `${getConfig().layout.dialogBottomPadding}px`
        };
      }
    });
    const lastDialog = computed$1(() => {
      if (dialog.value.length > 0) {
        return dialog.value[dialog.value.length - 1];
      }
      return void 0;
    });
    const picture = computed$1(() => {
      if (lastDialog.value) {
        return getCharacterPictureUrl(lastDialog.value.speaker, lastDialog.value.pose);
      }
      return void 0;
    });
    const dialogWidth = computed$1(() => {
      const width = getConfig().layout.minTextWidth;
      return width;
    });
    const dialogStyle = computed$1(() => {
      let transform;
      const height = "100%";
      if (props.layoutMode === "horizontal")
        ;
      return {
        width: props.layoutMode === "horizontal" ? `${dialogWidth.value}px` : "100%",
        height,
        transform,
        transformOrigin: "right"
      };
    });
    function getDialogBoxOptions(dialogKey, index) {
      const info = getCharacterInfo(dialogKey.speaker);
      let title = info.name;
      if (index >= 1) {
        const previousDialog = dialog.value[index - 1];
        if (previousDialog.speaker === dialogKey.speaker) {
          title = void 0;
        }
      }
      if (dialogKey.choices) {
        dialogKey.choices.forEach((choice) => {
          choice.choice = processText(choice.choice);
        });
      }
      return {
        title: title != null ? title : "",
        text: dialogKey.text,
        styleId: dialogKey.speaker,
        choices: dialogKey.choices,
        old: index < dialog.value.length - 1,
        interactive: dialogKey.interactive,
        textField: dialogKey.textField
      };
    }
    function isDialogActive(i2) {
      const result = i2 === dialogStore.dialog.length - 1 && stack.value.length > 0;
      return result;
    }
    watch(dialog.value, (newValue) => {
      if (dialogRef.value) {
        const dialog2 = dialogRef.value;
        dialog2.scrollTop = dialog2.scrollHeight + 1e8;
      }
    });
    return (_ctx, _cache) => {
      return openBlock(), createElementBlock(Fragment, null, [
        createVNode(Transition, { name: "fade" }, {
          default: withCtx(() => [
            unref(picture) ? (openBlock(), createBlock(DialogPicture, {
              key: 0,
              pictureUrl: unref(picture)
            }, null, 8, ["pictureUrl"])) : createCommentVNode("", true)
          ]),
          _: 1
        }),
        __props.inGame ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: "dialog override",
          ref_key: "dialogRef",
          ref: dialogRef,
          style: normalizeStyle(unref(dialogStyle))
        }, [
          createVNode(TransitionGroup, {
            name: "list",
            tag: "div",
            class: "dialog-container w-full override",
            style: normalizeStyle(unref(dialogContainerStyle))
          }, {
            default: withCtx(() => [
              (openBlock(true), createElementBlock(Fragment, null, renderList(unref(dialog), (val, i2) => {
                return openBlock(), createBlock(DialogBox, {
                  key: val.id,
                  options: getDialogBoxOptions(val, i2),
                  active: isDialogActive(i2)
                }, null, 8, ["options", "active"]);
              }), 128))
            ]),
            _: 1
          }, 8, ["style"]),
          _hoisted_1$4
        ], 4)) : createCommentVNode("", true)
      ], 64);
    };
  }
});
const filterObject = (object, predicate) => {
  const result = {};
  for (const key in object) {
    if (predicate(object[key])) {
      result[key] = object[key];
    }
  }
  return result;
};
const _sfc_main$4 = defineComponent({
  setup() {
    const questsStore = useQuests();
    const quests = computed$1(() => questsStore.quests);
    return { quests };
  },
  computed: {
    questsToDisplay() {
      return filterObject(this.quests, (quest) => quest.state !== "hidden");
    }
  },
  methods: {
    close() {
      this.$emit("close");
    },
    getQuestData(questId) {
      return getQuestConfig(questId);
    },
    getObjectiveData(questId, objectiveId) {
      return getObjectiveConfig(questId, objectiveId);
    },
    getDisplayTextForQuestState(quest) {
      switch (quest.state) {
        case "hidden":
          return " Hidden";
        case "unlocked":
          return "";
        case "completed":
          return " (Completed)";
        default:
          return " Unknown";
      }
    },
    getQuestDescription(quest) {
      if (quest.ending) {
        return quest.ending;
      }
      return this.getQuestData(quest.id).description;
    },
    getAvailableObjectives(quest) {
      return filterObject(quest.objectives, (objective) => {
        return objective.state !== "hidden";
      });
    }
  },
  components: {
    Modal
  }
});
const _hoisted_1$3 = /* @__PURE__ */ createBaseVNode("h3", { class: "title" }, "Quests", -1);
const _hoisted_2$3 = {
  key: 0,
  class: "quests-container"
};
const _hoisted_3$1 = { class: "quest-title" };
const _hoisted_4$1 = { class: "quest-description" };
const _hoisted_5$1 = {
  key: 0,
  class: "quest-objectives-container list-disc"
};
const _hoisted_6$1 = {
  key: 1,
  class: "menu-container"
};
const _hoisted_7 = /* @__PURE__ */ createBaseVNode("h2", { class: "title" }, "There are no quests!", -1);
const _hoisted_8 = [
  _hoisted_7
];
function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_modal = resolveComponent("modal");
  return openBlock(), createBlock(_component_modal, {
    class: "quests",
    onClose: _ctx.close,
    containerCssClass: "quests-modal"
  }, {
    header: withCtx(() => [
      _hoisted_1$3
    ]),
    body: withCtx(() => [
      Object.keys(_ctx.questsToDisplay).length > 0 ? (openBlock(), createElementBlock("div", _hoisted_2$3, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.questsToDisplay, (quest) => {
          return openBlock(), createElementBlock("div", {
            class: "quest-display",
            key: quest.id
          }, [
            createBaseVNode("div", {
              class: normalizeClass([
                "quest-header",
                quest.state === "completed" ? "quest-completed" : "quest-in-progress"
              ])
            }, [
              createBaseVNode("h3", _hoisted_3$1, toDisplayString(_ctx.getQuestData(quest.id).title) + " " + toDisplayString(_ctx.getDisplayTextForQuestState(quest)), 1)
            ], 2),
            createBaseVNode("p", _hoisted_4$1, toDisplayString(_ctx.getQuestDescription(quest)), 1),
            quest.state !== "completed" ? (openBlock(), createElementBlock("ul", _hoisted_5$1, [
              (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.getAvailableObjectives(quest), (objective) => {
                return openBlock(), createElementBlock("li", {
                  class: "quest-objective-display",
                  key: objective.id
                }, [
                  createBaseVNode("p", {
                    class: normalizeClass([
                      "quest-objective-description",
                      objective.state === "completed" ? "quest-objective-completed" : "quest-objctive-in-progress"
                    ])
                  }, toDisplayString(_ctx.getObjectiveData(quest.id, objective.id).description), 3)
                ]);
              }), 128))
            ])) : createCommentVNode("", true)
          ]);
        }), 128))
      ])) : (openBlock(), createElementBlock("div", _hoisted_6$1, _hoisted_8))
    ]),
    _: 1
  }, 8, ["onClose"]);
}
var QuestsUi = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", _sfc_render$2]]);
const _sfc_main$3 = defineComponent({
  data() {
    return {
      buttons: [
        {
          id: "menu",
          cssId: "menu-button",
          text: "Menu"
        },
        {
          id: "skills",
          cssId: "skills-menu-button",
          text: "Skills",
          condition: () => this.showSkills
        },
        {
          id: "inventory",
          cssId: "inventory-menu-button",
          text: "Items",
          condition: () => this.showInventory
        },
        {
          id: "quests",
          cssId: "quests-menu-button",
          text: "Quests",
          condition: () => this.showQuests
        }
      ],
      activeMenu: false
    };
  },
  mounted() {
    document.addEventListener("keydown", (event) => {
      const key = event.key;
      if (key === "Escape") {
        this.toggleMenu();
      }
    });
    vm.callHook("onGameMounted");
  },
  unmounted() {
    vm.callHook("onGameUnmounted");
  },
  methods: {
    buttonClick(button) {
      if (!button.onClick) {
        useMain().openModal(button.id);
      } else {
        button.onClick();
      }
    },
    openMenu() {
      useMain().openModal("menu");
    },
    openSkills() {
      useMain().openModal("skills");
    },
    openInventory() {
      useMain().openModal("inventory");
    },
    openQuests() {
      useMain().openModal("quests");
    },
    closeMenu() {
      useMain().closeModal();
    },
    toggleMenu() {
      useMain().toggleMenu();
    }
  },
  computed: {
    buttonsToShow() {
      return this.buttons.map((button) => {
        const buttonData = getConfig().menuButtons[button.id] || {};
        return {
          ...button,
          ...buttonData
        };
      }).filter((button) => {
        if (button.condition) {
          return button.condition();
        } else {
          return true;
        }
      });
    },
    showSkills() {
      if (Object.entries(getConfig().skills).length > 0) {
        return true;
      }
      return false;
    },
    showInventory() {
      if (Object.entries(getConfig().items).length > 0) {
        return true;
      }
      return false;
    },
    showQuests() {
      if (Object.entries(getConfig().quests).length > 0) {
        return true;
      }
      return false;
    }
  }
});
const _hoisted_1$2 = { class: "menu-container" };
const _hoisted_2$2 = ["onClick", "id"];
function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$2, [
    (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.buttonsToShow, (buttonConf) => {
      return openBlock(), createElementBlock("button", {
        key: buttonConf.id,
        onClick: ($event) => _ctx.buttonClick(buttonConf),
        id: buttonConf.cssId,
        class: "button menu-toggle-button"
      }, toDisplayString(buttonConf.text), 9, _hoisted_2$2);
    }), 128))
  ]);
}
var MenuButtons = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", _sfc_render$1]]);
const _hoisted_1$1 = ["id"];
const _hoisted_2$1 = ["id", "onClick"];
const _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "screen-layer",
  props: {
    layer: String
  },
  setup(__props) {
    const props = __props;
    const vmStore = useVM();
    const main2 = useMain();
    const screensStore = useScreens();
    const currentScreen = computed$1(() => {
      return props.layer;
    });
    const buttonsState = computed$1(() => {
      return screensStore.buttons;
    });
    const screenConfig = computed$1(() => {
      const conf = getConfig().screens[currentScreen.value];
      if (!conf) {
        throw new Error(`Screen ${currentScreen.value} doesn't have a config`);
      }
      return conf;
    });
    const screenButtons = computed$1(() => {
      return screenConfig.value.buttons || [];
    });
    const inGame = computed$1(() => {
      return main2.isInGame;
    });
    function getButtonImageUrl(button) {
      const config2 = getButtonConfig(button);
      const background = config2.background;
      if (!background) {
        return void 0;
      }
      return getImageUrl(background);
    }
    function getButtonStyle(button) {
      const config2 = getButtonConfig(button);
      const style = {};
      if (config2.position.width) {
        style.width = `${config2.position.width}px`;
      }
      if (config2.position.height) {
        style.height = `${config2.position.height}px`;
      }
      if (config2.background) {
        style.backgroundImage = `url(${getButtonImageUrl(button)})`;
      }
      if (buttonsState.value[button].state === false) {
        style.opacity = 0.3;
        style.pointerEvents = "none";
      } else if (buttonsState.value[button].state === "hidden") {
        style.display = "none";
      }
      return {
        ...style,
        left: `${config2.position.left}px`,
        top: `${config2.position.top}px`
      };
    }
    function clickOnButton(button) {
      const config2 = getButtonConfig(button);
      const state = buttonsState.value[button];
      if (state.state === true) {
        const scriptToRun = config2.action;
        const newStack = {
          branchData: vmStore.script[scriptToRun],
          currentIndex: 0,
          label: scriptToRun
        };
        vmStore.setStack(newStack);
        vmStore.runLine();
      }
    }
    const layerStyle = computed$1(() => {
      return {
        backgroundImage: `url(${getImageUrl(screenConfig.value.background)})`
      };
    });
    return (_ctx, _cache) => {
      return unref(inGame) ? (openBlock(), createElementBlock("div", {
        key: 0,
        class: "viewport-layer",
        id: `viewport-layer-${unref(currentScreen)}`,
        style: normalizeStyle(unref(layerStyle))
      }, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(screenButtons), (button, index) => {
          return openBlock(), createElementBlock("button", {
            key: index,
            class: "viewport-button",
            id: `viewport-button-${button}`,
            onClick: ($event) => clickOnButton(button),
            style: normalizeStyle(getButtonStyle(button))
          }, toDisplayString(unref(getButtonConfig)(button).text), 13, _hoisted_2$1);
        }), 128))
      ], 12, _hoisted_1$1)) : createCommentVNode("", true);
    };
  }
});
const _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "screens",
  setup(__props) {
    const rendering = useRenderingStore();
    const main2 = useMain();
    const screensStore = useScreens();
    const layers = computed$1(() => {
      return screensStore.layers.filter((layer) => layer);
    });
    const layoutMode = computed$1(() => {
      return rendering.layoutMode;
    });
    const layoutWidth = computed$1(() => {
      return getConfig().layout.backgrounds.width;
    });
    const layoutHeight = computed$1(() => {
      return getConfig().layout.backgrounds.height;
    });
    const inGame = computed$1(() => {
      return main2.isInGame;
    });
    const viewportStyle = computed$1(() => {
      const width = `${layoutWidth.value}px`;
      let height = `${layoutHeight.value}px`;
      if (layoutMode.value === "vertical") {
        height = `${100 - getConfig().layout.mobileDialogHeightPercentage}%`;
      }
      return {
        height,
        width
      };
    });
    return (_ctx, _cache) => {
      return unref(inGame) ? (openBlock(), createElementBlock("div", {
        key: 0,
        class: "viewport",
        id: "narrat-viewport",
        style: normalizeStyle(unref(viewportStyle))
      }, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(layers), (layer, index) => {
          return openBlock(), createBlock(_sfc_main$2, {
            key: index,
            layer
          }, null, 8, ["layer"]);
        }), 128))
      ], 4)) : createCommentVNode("", true);
    };
  }
});
const _sfc_main = defineComponent({
  setup() {
    const dialogStore = useDialogStore();
    const vmStore = useVM();
    const mainStore = useMain();
    return {
      dialog: computed$1(() => dialogStore.dialog),
      stack: computed$1(() => vmStore.stack),
      modal: computed$1(() => mainStore.modal),
      flowState: computed$1(() => mainStore.flowState)
    };
  },
  $refs: {
    dialogContainer: HTMLInputElement
  },
  inject: ["mq"],
  components: {
    DebugMenu,
    LoadingBar,
    NotificationToast,
    Hud,
    MainMenu,
    Skills,
    InventoryUi,
    GameDialog: _sfc_main$5,
    QuestsUi,
    MenuButtons,
    Screens: _sfc_main$1
  },
  data() {
    return {
      lineTitle: "title",
      lineText: "hello",
      gameLoaded: false,
      loadingStep: "Loading",
      loadingPercentage: 0.1,
      hasSave: false
    };
  },
  props: {
    config: Object,
    options: Object
  },
  async mounted() {
    vm.callHook("onAppMounted");
    this.loadingStep = "Characters";
    const charsFile = await getFile("data/characters.json");
    await setCharactersConfig(JSON.parse(charsFile));
    this.loadingPercentage = 0.2;
    this.loadingStep = "Data";
    this.loadingPercentage = 0.3;
    this.loadingStep = "Images";
    await loadImages(getConfig());
    this.loadingPercentage = 0.7;
    this.loadingStep = "Audio";
    await loadAudioAssets(getConfig());
    vm.callHook("onAssetsLoaded");
    this.loadingPercentage = 0.95;
    this.loadingStep = "Starting...";
    await this.setupMachine();
    vm.callHook("onGameSetup");
    this.loadingPercentage = 0.1;
    this.gameLoaded = true;
    const save = this.getSaveFile();
    if (save) {
      this.hasSave = true;
    }
    window.addEventListener("resize", debounce(() => {
      this.updateScreenSize();
    }, 100, {
      maxWait: 200
    }));
    setTimeout(() => {
      this.updateScreenSize();
    }, 50);
  },
  computed: {
    ...mapState(useRenderingStore, [
      "screenWidth",
      "screenHeight",
      "canvasWidth",
      "canvasHeight",
      "topOffset",
      "leftOffset",
      "layoutMode"
    ]),
    ...mapState(useVM, ["currentLine"]),
    backgroundStyle() {
      let height;
      if (this.layoutMode === "vertical") {
        height = `${100 - getConfig().layout.mobileDialogHeightPercentage}%`;
      }
      return {
        backgroundColor: "red",
        height
      };
    },
    layoutWidth() {
      return getConfig().layout.backgrounds.width;
    },
    gameTitle() {
      return getConfig().gameTitle;
    },
    inGame() {
      return this.flowState === "playing";
    },
    layoutHeight() {
      return getConfig().layout.backgrounds.height;
    },
    backgroundSize() {
      return {
        width: this.canvasWidth,
        height: this.canvasHeight,
        top: this.topOffset,
        left: this.leftOffset
      };
    },
    gameWidth() {
      const config2 = getConfig();
      if (this.layoutMode === "vertical") {
        return window.innerWidth;
      } else {
        return config2.layout.backgrounds.width + config2.layout.minTextWidth;
      }
    },
    gameHeight() {
      const config2 = getConfig();
      if (this.layoutMode === "vertical") {
        return window.innerHeight;
      } else {
        return config2.layout.backgrounds.height;
      }
    },
    appStyle() {
      const config2 = getConfig();
      if (this.screenWidth && this.screenHeight && config2 && this.layoutMode === "horizontal") {
        const ratio = aspectRatioFit(this.screenWidth, this.screenHeight, this.gameWidth, this.gameHeight);
        return {
          transform: `scale(${ratio}, ${ratio})`,
          width: `${this.gameWidth}px`,
          height: `${this.gameHeight}px`
        };
      }
      return {};
    },
    gameStyle() {
      let direction = "row";
      if (this.layoutMode === "vertical") {
        direction = "column";
      }
      return {
        flexDirection: direction
      };
    },
    screenRatio() {
      const config2 = getConfig();
      const baseWidth = config2.layout.minTextWidth + config2.layout.backgrounds.width;
      const widthRatio = this.screenWidth / baseWidth;
      return widthRatio;
    }
  },
  methods: {
    async setupMachine() {
      const scriptPaths = getConfig().scripts;
      return useMain().setup(scriptPaths, getConfig());
    },
    getSaveFile() {
      return localStorage.getItem(SAVE_FILE);
    },
    async startGame() {
      audioEvent("onPressStart");
      const main2 = useMain();
      await main2.startGame();
    },
    async loadGame() {
      audioEvent("onPressStart");
      useMain().loadGame(this.getSaveFile());
    },
    nextLine() {
      useVM().nextLine();
    },
    updateScreenSize() {
      useRenderingStore().updateScreenSize(window.innerWidth, window.innerHeight, this.layoutMode === "horizontal" ? getConfig().layout.minTextWidth * this.screenRatio : 0);
    },
    closeModal() {
      useMain().closeModal();
    }
  }
});
const _hoisted_1 = {
  key: 2,
  id: "game-menu",
  style: { "height": "100%", "padding": "20px" }
};
const _hoisted_2 = { id: "game-header" };
const _hoisted_3 = { id: "game-title-container" };
const _hoisted_4 = { id: "game-title-text" };
const _hoisted_5 = { class: "flex flex-col" };
const _hoisted_6 = { key: 3 };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_Hud = resolveComponent("Hud");
  const _component_MenuButtons = resolveComponent("MenuButtons");
  const _component_Skills = resolveComponent("Skills");
  const _component_InventoryUi = resolveComponent("InventoryUi");
  const _component_QuestsUi = resolveComponent("QuestsUi");
  const _component_MainMenu = resolveComponent("MainMenu");
  const _component_Screens = resolveComponent("Screens");
  const _component_GameDialog = resolveComponent("GameDialog");
  const _component_LoadingBar = resolveComponent("LoadingBar");
  const _component_DebugMenu = resolveComponent("DebugMenu");
  const _component_NotificationToast = resolveComponent("NotificationToast");
  return openBlock(), createElementBlock("div", {
    id: "app",
    style: normalizeStyle(_ctx.appStyle)
  }, [
    _ctx.inGame ? (openBlock(), createBlock(_component_Hud, { key: 0 })) : createCommentVNode("", true),
    _ctx.inGame ? (openBlock(), createElementBlock("div", {
      key: 1,
      class: "game",
      style: normalizeStyle(_ctx.gameStyle)
    }, [
      createVNode(_component_MenuButtons, { class: "menu-toggle" }),
      _ctx.modal === "skills" ? (openBlock(), createBlock(_component_Skills, {
        key: 0,
        onClose: _ctx.closeModal
      }, null, 8, ["onClose"])) : createCommentVNode("", true),
      _ctx.modal === "inventory" ? (openBlock(), createBlock(_component_InventoryUi, {
        key: 1,
        onClose: _ctx.closeModal
      }, null, 8, ["onClose"])) : createCommentVNode("", true),
      _ctx.modal === "quests" ? (openBlock(), createBlock(_component_QuestsUi, {
        key: 2,
        onClose: _ctx.closeModal
      }, null, 8, ["onClose"])) : createCommentVNode("", true),
      _ctx.modal === "menu" ? (openBlock(), createBlock(_component_MainMenu, {
        key: 3,
        onClose: _ctx.closeModal
      }, null, 8, ["onClose"])) : createCommentVNode("", true),
      createVNode(_component_Screens),
      createVNode(_component_GameDialog, {
        inGame: _ctx.inGame,
        layoutMode: _ctx.layoutMode
      }, null, 8, ["inGame", "layoutMode"])
    ], 4)) : _ctx.gameLoaded ? (openBlock(), createElementBlock("div", _hoisted_1, [
      createBaseVNode("div", _hoisted_2, [
        createBaseVNode("div", _hoisted_3, [
          createBaseVNode("h1", _hoisted_4, toDisplayString(_ctx.gameTitle), 1)
        ]),
        createBaseVNode("div", _hoisted_5, [
          createBaseVNode("button", {
            class: "button menu-button main-menu-button larg start-button override",
            onClick: _cache[0] || (_cache[0] = (...args) => _ctx.startGame && _ctx.startGame(...args))
          }, " Start Game "),
          _ctx.hasSave ? (openBlock(), createElementBlock("button", {
            key: 0,
            class: "button menu-button main-menu-button large continue-button override",
            onClick: _cache[1] || (_cache[1] = (...args) => _ctx.loadGame && _ctx.loadGame(...args))
          }, " Continue Game ")) : createCommentVNode("", true)
        ])
      ])
    ])) : (openBlock(), createElementBlock("div", _hoisted_6, [
      createVNode(_component_LoadingBar, {
        percentage: _ctx.loadingPercentage,
        step: _ctx.loadingStep
      }, null, 8, ["percentage", "step"])
    ])),
    _ctx.options.debug ? (openBlock(), createBlock(_component_DebugMenu, { key: 4 })) : createCommentVNode("", true),
    createVNode(_component_NotificationToast)
  ], 4);
}
var GameApp = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
function commandRuntimeError(cmd, errorText) {
  console.error(`Runtime error =========================`);
  console.error("Args: ", cmd.args);
  console.error("Options: ", cmd.options);
  error(`Runtime error at ${cmd.fileName}:${cmd.line} (${cmd.commandType}) ${cmd.code}. - 
  <br />
  Error: ${errorText}`);
  console.error("============================");
}
class CommandPlugin {
  constructor(keyword, argTypes, runner, parser) {
    __publicField(this, "keyword");
    __publicField(this, "runner");
    __publicField(this, "argTypes");
    __publicField(this, "parser");
    __publicField(this, "onPlayerAnswered");
    __publicField(this, "returnAfterPlayerAnswer");
    this.keyword = keyword;
    this.runner = runner;
    this.argTypes = argTypes;
    if (!parser) {
      this.parser = generateParser(this.keyword, this.argTypes);
    } else {
      this.parser = parser;
    }
    this.returnAfterPlayerAnswer = false;
  }
  async run(cmd, choices) {
    let res = await this.runner(cmd, choices);
    if (this.returnAfterPlayerAnswer) {
      res = await new Promise((resolve, reject) => {
        useVM().waitForPlayerAnswer(cmd);
        cmd.finishCommand = resolve;
      });
    }
    return res;
  }
  async processPlayerAnswer(cmd, choice) {
    let res = choice;
    if (this.onPlayerAnswered) {
      res = await this.onPlayerAnswered(cmd, choice);
    }
    if (this.returnAfterPlayerAnswer && cmd.finishCommand) {
      cmd.finishCommand(res);
    }
    return res;
  }
  static FromOptions(options) {
    var _a2;
    const plugin = new CommandPlugin(options.keyword, options.argTypes, options.runner, options.parser);
    plugin.onPlayerAnswered = options.onPlayerAnswered;
    plugin.returnAfterPlayerAnswer = (_a2 = options.returnAfterPlayerAnswer) != null ? _a2 : false;
    return plugin;
  }
}
function generateParser(keyword, argTypes) {
  let expectedArgCount = [];
  if (argTypes !== "any") {
    expectedArgCount = [argTypes.length];
    const optionalArgs = argTypes.reduce((total, argType) => argType.optional ? total + 1 : total, 0);
    if (optionalArgs > 1) {
      throw new Error(`Only one optional argument is allowed for commands but ${keyword} has multiple ones`);
    }
    if (optionalArgs === 1) {
      expectedArgCount.push(argTypes.length - 1);
    }
  }
  return (ctx, parsed) => {
    const returnValue = {
      newLine: ctx.currentLine + 1
    };
    const args = parsed.command.args;
    if (argTypes !== "any") {
      if (!expectedArgCount.includes(args.length)) {
        console.log("Error details");
        console.log(parsed.command);
        console.log(args);
        ctx.parserContext.error(ctx.line.line, `Command ${keyword}: Expected ${expectedArgCount.join(" or ")} arguments but got ${args.length}`);
        return returnValue;
      }
    }
    parsed.command.commandType = keyword;
    if (argTypes !== "any") {
      parsed.command.args.forEach((arg, index) => {
        const argType = argTypes[index];
        if (!isExpression(arg)) {
          const isValid = argType.type === "any" || typeof arg === argType.type;
          if (!isValid) {
            ctx.parserContext.error(ctx.line.line, `Command ${keyword}: Argument #${index + 1} (${argType.name}) should be a ${argType.type}, but got type ${typeof arg}: ${JSON.stringify(arg)}`);
          }
        }
      });
    }
    return {
      newLine: ctx.currentLine + 1
    };
  };
}
const addLevelPlugin = new CommandPlugin("add_level", [
  {
    name: "skillKey",
    type: "string"
  },
  {
    name: "amount",
    type: "number"
  }
], async (cmd) => {
  const { skillKey, amount } = cmd.options;
  if (!skillKey || !amount) {
    commandRuntimeError(cmd, `add_level command needs a skill id and a value as parameters`);
  }
  useSkills().incrementSkill(skillKey, amount);
});
const addXpPlugin = new CommandPlugin("add_xp", [
  { name: "xpKey", type: "string" },
  { name: "xpToAdd", type: "number" }
], async (cmd) => {
  const { xpKey, xpToAdd } = cmd.options;
  if (!xpKey || !xpToAdd) {
    commandRuntimeError(cmd, `add_xp command needs a skill id and a value as parameters`);
  }
  useSkills().addXp(xpKey, xpToAdd);
});
const rollPlugin = new CommandPlugin("roll", [
  { name: "id", type: "string" },
  { name: "skill", type: "string" },
  { name: "value", type: "number" },
  { name: "hideAfterRoll", type: "boolean", optional: true }
], async (cmd) => {
  const { id: id2, skill, value, hideAfterRoll } = cmd.options;
  const skillCheck = {
    id: id2,
    skill,
    value,
    hideAfterRoll
  };
  const result = runSkillCheck(skillCheck);
  return result.succeeded;
});
const addStatPlugin = new CommandPlugin("add_stat", [
  { name: "statKey", type: "string" },
  { name: "amountToAdd", type: "number" }
], async (cmd) => {
  const { statKey, amountToAdd } = cmd.options;
  if (!statKey || typeof amountToAdd !== "number") {
    commandRuntimeError(cmd, `add_stat command needs a stat id and a value as parameters`);
  }
  const hud = useHud();
  hud.addStat(statKey, amountToAdd);
});
const setStatPlugin = new CommandPlugin("set_stat", [
  { name: "statKey", type: "string" },
  { name: "value", type: "number" }
], async (cmd) => {
  const { statKey, value } = cmd.options;
  if (!statKey || typeof value !== "number") {
    commandRuntimeError(cmd, `set_stat command needs a stat id and a value as parameters`);
  }
  const hud = useHud();
  hud.setStat(statKey, value);
});
const getStatPlugin = new CommandPlugin("get_stat_value", [{ name: "statKey", type: "string" }], async (cmd) => {
  const { statKey } = cmd.options;
  if (!statKey) {
    commandRuntimeError(cmd, `get_stat_value command needs a stat id as parameter`);
  }
  const hud = useHud();
  return hud.getStatValue(statKey);
});
const jumpCommand = CommandPlugin.FromOptions({
  keyword: "jump",
  argTypes: "any",
  runner: async (cmd) => {
    if (cmd.args.length < 1 || typeof cmd.args[0] !== "string") {
      commandRuntimeError(cmd, `requires a label argument`);
    }
    const label = cmd.args[0];
    const vm2 = useVM();
    const newStack = {
      branchData: vm2.script[label],
      label,
      args: cmd.args.splice(1),
      currentIndex: 0
    };
    vm2.setStack(newStack);
    await useMain().saveGame();
    await vm2.runFrame();
  }
});
const runLabelPlugin = CommandPlugin.FromOptions({
  keyword: "run",
  argTypes: "any",
  runner: async (cmd) => {
    if (cmd.args.length < 1 || typeof cmd.args[0] !== "string") {
      commandRuntimeError(cmd, `run command needs a label to argument run`);
    }
    const label = cmd.args[0];
    const res = await useVM().runLabelFunction(label, ...cmd.args.slice(1));
    return res;
  }
});
const defineVariablePlugin = CommandPlugin.FromOptions({
  keyword: "var",
  argTypes: [
    { name: "name", type: "string" },
    { name: "value", type: "any" }
  ],
  runner: async (cmd) => {
    const { name, value } = cmd.options;
    useVM().addScopedVariable(name, value);
  }
});
const returnPlugin = CommandPlugin.FromOptions({
  keyword: "return",
  argTypes: [{ name: "value", type: "any" }],
  runner: async (cmd) => {
    const { value } = cmd.options;
    useVM().setReturnValue(value);
  }
});
const playCommandArgs = [
  { name: "mode", type: "string" },
  { name: "audio", type: "string", optional: true }
];
const playCommand = new CommandPlugin("play", playCommandArgs, async (cmd) => {
  const playOptions = cmd.options;
  if (playOptions.mode === "music") {
    changeMusic(playOptions.audio);
  } else {
    playAudio(playOptions.audio);
  }
});
const pauseCommand = new CommandPlugin("pause", playCommandArgs, async (cmd) => {
  const pauseOptions = cmd.options;
  if (pauseOptions.mode === "music") {
    const audioStore = useAudio();
    if (audioStore.currentMusic) {
      pauseAudio(audioStore.currentMusic);
    }
  } else if (pauseOptions.mode === "sound" && pauseOptions.audio) {
    pauseAudio(pauseOptions.audio);
  } else {
    commandRuntimeError(cmd, `pause first option needs to either be in music mode, or if stopping a sound needs to have the sound name supplied as second argument.`);
  }
});
const stopCommand = new CommandPlugin("stop", playCommandArgs, async (cmd) => {
  const stopOptions = cmd.options;
  if (stopOptions.mode === "music") {
    const audioStore = useAudio();
    if (audioStore.currentMusic) {
      useAudio().stopMusic();
    }
  } else if (stopOptions.mode === "sound" && stopOptions.audio) {
    stopAudio(stopOptions.audio);
  } else {
    commandRuntimeError(cmd, `stop option needs to either be in music mode, or if stopping a sound needs to have the sound name supplied as second argument.`);
  }
});
const setCommand = new CommandPlugin("set", [
  { name: "key", type: "string" },
  { name: "value", type: "any" }
], async (cmd) => {
  const state = getModifiableDataPinia();
  setDataHelper(state, cmd.options.key, cmd.options.value);
});
const addPlugin = new CommandPlugin("add", [
  { name: "key", type: "string" },
  { name: "value", type: "any" }
], async (cmd) => {
  const state = getModifiableDataPinia();
  addDataHelper(state, cmd.options.key, cmd.options.value);
});
const setScreenCommand = new CommandPlugin("set_screen", [
  { name: "screen", type: "string" },
  { name: "layer", type: "number", optional: true }
], async (cmd) => {
  const screens = useScreens();
  screens.setScreen(cmd.options.screen, cmd.options.layer);
});
const emptyLayerCommand = new CommandPlugin("empty_layer", [{ name: "layer", type: "number" }], async (cmd) => {
  const screens = useScreens();
  screens.emptyLayer(cmd.options.layer);
});
const setButtonCommand = new CommandPlugin("set_button", [
  { name: "buttonId", type: "string" },
  { name: "state", type: "any" }
], async (cmd) => {
  const { buttonId, state } = cmd.options;
  const screens = useScreens();
  screens.changeButton(buttonId, state);
});
const talkCommand = CommandPlugin.FromOptions({
  keyword: "talk",
  argTypes: [
    {
      name: "speaker",
      type: "string"
    },
    {
      name: "pose",
      type: "string"
    },
    {
      name: "text",
      type: "string"
    }
  ],
  runner: async (cmd, choices) => {
    await textCommand({
      speaker: cmd.options.speaker,
      pose: cmd.options.pose,
      text: `"${cmd.options.text}"`,
      choices,
      interactive: true
    });
  },
  returnAfterPlayerAnswer: true
});
const textParser = () => {
  const parser = generateParser("text", []);
  return (ctx, parsed) => {
    const result = parser(ctx, parsed);
    parsed.command.staticOptions = {
      text: parsed.code
    };
    return result;
  };
};
const textCommandPlugin = CommandPlugin.FromOptions({
  keyword: "text",
  argTypes: [],
  runner: async (cmd, choices) => {
    await textCommand({
      speaker: "game",
      text: cmd.staticOptions.text,
      choices,
      interactive: true
    });
  },
  parser: textParser(),
  returnAfterPlayerAnswer: true
});
const addItemPlugin = new CommandPlugin("add_item", [
  { name: "id", type: "string" },
  { name: "amount", type: "number" }
], async (cmd) => {
  const { id: id2, amount } = cmd.options;
  const inventory = useInventory();
  inventory.add({
    id: id2,
    amount
  });
});
const removeItemPlugin = new CommandPlugin("remove_item", [
  { name: "id", type: "string" },
  { name: "amount", type: "number" }
], async (cmd) => {
  const { id: id2, amount } = cmd.options;
  const inventory = useInventory();
  inventory.remove({
    id: id2,
    amount
  });
});
const hasItemPlugin = new CommandPlugin("has_item?", [
  { name: "id", type: "string" },
  { name: "amount", type: "number", optional: true }
], async (cmd) => {
  const { id: id2, amount } = cmd.options;
  const inventory = useInventory();
  return inventory.hasItem(id2, amount);
});
const itemAmountPlugin = new CommandPlugin("item_amount?", [{ name: "id", type: "string" }], async (cmd) => {
  const { id: id2 } = cmd.options;
  const inventory = useInventory();
  return inventory.getItemAmount(id2);
});
const enableInteractionPlugin = new CommandPlugin("enable_interaction", [{ name: "tag", type: "string" }], async (cmd) => {
  const tag = cmd.options.tag;
  const inventory = useInventory();
  inventory.enableInteraction(tag);
});
const disableInteractionPlugin = new CommandPlugin("disable_interaction", [{ name: "tag", type: "string" }], async (cmd) => {
  const tag = cmd.options.tag;
  const inventory = useInventory();
  inventory.disableInteraction(tag);
});
const startQuestPlugin = new CommandPlugin("start_quest", [{ name: "questId", type: "string" }], async (cmd) => {
  const questId = cmd.options.questId;
  const quests = useQuests();
  quests.startQuest(questId);
});
const startObjectivePlugin = new CommandPlugin("start_objective", [
  { name: "questId", type: "string" },
  { name: "objectiveId", type: "string" }
], async (cmd) => {
  const { questId, objectiveId } = cmd.options;
  const quests = useQuests();
  quests.startObjective(questId, objectiveId);
});
const completeObjectivePlugin = new CommandPlugin("complete_objective", [
  { name: "questId", type: "string" },
  { name: "objectiveId", type: "string" }
], async (cmd) => {
  const { questId, objectiveId } = cmd.options;
  const quests = useQuests();
  quests.completeObjective(questId, objectiveId);
});
const completeQuestPlugin = new CommandPlugin("complete_quest", [
  { name: "questId", type: "string" },
  { name: "ending", type: "string", optional: true }
], async (cmd) => {
  const { questId, ending } = cmd.options;
  const quests = useQuests();
  quests.completeQuest(questId, ending);
});
const questCompletedPlugin = new CommandPlugin("quest_completed?", [{ name: "questId", type: "string" }], async (cmd) => {
  const { questId } = cmd.options;
  const quests = useQuests();
  return quests.isQuestCompleted(questId);
});
const objectiveCompletedPlugin = new CommandPlugin("objective_completed?", [
  { name: "questId", type: "string" },
  { name: "objectiveId", type: "string" }
], async (cmd) => {
  const { questId, objectiveId } = cmd.options;
  const quests = useQuests();
  return quests.isObjectiveCompleted(questId, objectiveId);
});
const questStartedPlugin = new CommandPlugin("quest_started?", [{ name: "questId", type: "string" }], async (cmd) => {
  const { questId } = cmd.options;
  const quests = useQuests();
  return quests.isQuestStarted(questId);
});
const objectiveStartedPlugin = new CommandPlugin("objective_started?", [
  { name: "questId", type: "string" },
  { name: "objectiveId", type: "string" }
], async (cmd) => {
  const { questId, objectiveId } = cmd.options;
  const quests = useQuests();
  return quests.isObjectiveStarted(questId, objectiveId);
});
const waitCommand = CommandPlugin.FromOptions({
  keyword: "wait",
  argTypes: [{ name: "duration", type: "number" }],
  runner: async (cmd) => {
    await timeout(cmd.options.duration);
  }
});
const notifyPlugin = new CommandPlugin("notify", [{ name: "text", type: "string" }], async (cmd) => {
  const { text } = cmd.options;
  useNotifications().addNotification(text);
});
const clearDialogPlugin = new CommandPlugin("clear_dialog", [], async (cmd) => {
  useDialogStore().clearDialog();
});
const ifCommand = new CommandPlugin("if", [{ name: "condition", type: "boolean" }], async (cmd) => {
  const newBranch = runConditionCommand(cmd);
  const vmStore = useVM();
  if (newBranch) {
    const newStack = {
      branchData: {
        branch: newBranch
      },
      currentIndex: 0
    };
    return vmStore.addAndRunFrame(newStack);
  }
}, (ctx, parsed) => {
  let newLine = ctx.currentLine;
  const parser = generateParser("if", [
    { name: "condition", type: "string" }
  ]);
  parser(ctx, parsed);
  const { lines, currentLine, line } = ctx;
  const command = parsed.command;
  let failure;
  const nextLine = getLine(lines, currentLine + 1);
  if (nextLine && nextLine.code === "else:") {
    failure = ctx.processCommandsFunction(ctx.parserContext, nextLine.branch, line);
    newLine++;
  }
  command.staticOptions = {
    success: ctx.processCommandsFunction(ctx.parserContext, line.branch, line),
    failure
  };
  newLine++;
  return {
    newLine
  };
});
const equalPlugin = new CommandPlugin("==", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, `requires at least two arguments`);
  }
  let previousValue = cmd.args[0];
  let allEqual = true;
  for (const arg of cmd.args) {
    if (arg != previousValue) {
      allEqual = false;
      break;
    } else {
      previousValue = arg;
    }
  }
  return allEqual;
});
const greaterThanPlugin = new CommandPlugin(">", [
  { name: "a", type: "any" },
  { name: "b", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2 } = cmd.options;
  return a2 > b2;
});
const lesserThanPlugin = new CommandPlugin("<", [
  { name: "a", type: "any" },
  { name: "b", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2 } = cmd.options;
  return a2 < b2;
});
const greaterOrEqualPlugin = new CommandPlugin(">=", [
  { name: "a", type: "any" },
  { name: "b", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2 } = cmd.options;
  return a2 >= b2;
});
const lesserOrEqualPlugin = new CommandPlugin("<=", [
  { name: "a", type: "any" },
  { name: "b", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2 } = cmd.options;
  return a2 <= b2;
});
const notEqualPlugin = new CommandPlugin("!=", [
  { name: "a", type: "any" },
  { name: "b", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2 } = cmd.options;
  return a2 != b2;
});
const notPlugin = new CommandPlugin("!", [{ name: "a", type: "any" }], async (cmd) => {
  const { a: a2 } = cmd.options;
  return !a2;
});
const andPlugin = new CommandPlugin("&&", "any", async (cmd) => {
  const args = cmd.args;
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, "requires at least two arguments");
  }
  return args.reduce((acc, curr) => acc && curr, true);
});
const orPlugin = new CommandPlugin("||", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, "requires at least two arguments");
  }
  return cmd.args.reduce((acc, curr) => acc || curr, false);
});
const ternaryPlugin = new CommandPlugin("?", [
  { name: "a", type: "any" },
  { name: "b", type: "any" },
  { name: "c", type: "any" }
], async (cmd) => {
  const { a: a2, b: b2, c: c2 } = cmd.options;
  return a2 ? b2 : c2;
});
const additionPlugin = new CommandPlugin("+", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, `requires at least two arguments`);
  }
  return cmd.args.reduce((acc, curr) => {
    if (typeof curr === "number") {
      return acc + curr;
    }
    commandRuntimeError(cmd, `requires all arguments to be numbers`);
    return acc;
  }, 0);
});
const substractionPlugin = new CommandPlugin("-", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, `requires at least two arguments`);
  }
  return cmd.args.reduce((acc, curr) => {
    if (typeof curr === "number") {
      return acc - curr;
    }
    commandRuntimeError(cmd, `requires all arguments to be numbers`);
    return acc;
  }, 0);
});
const multiplicationPlugin = new CommandPlugin("*", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, `requires at least two arguments`);
  }
  return cmd.args.reduce((acc, curr) => {
    if (typeof curr === "number") {
      return acc * curr;
    }
    commandRuntimeError(cmd, `requires all arguments to be numbers`);
    return acc;
  }, 0);
});
const divisionPlugin = new CommandPlugin("/", "any", async (cmd) => {
  if (cmd.args.length < 2) {
    commandRuntimeError(cmd, `requires at least two arguments`);
  }
  return cmd.args.reduce((acc, curr) => {
    if (typeof curr === "number") {
      return acc / curr;
    }
    commandRuntimeError(cmd, `requires all arguments to be numbers`);
    return acc;
  }, 0);
});
const runChoice = async (cmd) => {
  const { prompt, choices } = cmd.staticOptions;
  const choiceResults = [];
  for (const [index, choice] of choices.entries()) {
    const choiceResult = await runExpression(choice.prompt);
    choiceResults.push(choiceResult);
  }
  cmd.options.choiceResults = choiceResults;
  const dialogChoices = choiceResults.map((res2, index) => {
    var _a2, _b2;
    let allowed = true;
    if (res2.skillCheck) {
      allowed = (_b2 = (_a2 = res2.skillCheck) == null ? void 0 : _a2.allowed) != null ? _b2 : false;
    }
    const result = {
      choice: res2.text,
      originalIndex: index,
      allowed
    };
    return result;
  }).filter((el2) => el2.choice);
  const res = await runCommand(prompt, dialogChoices);
  await onChoicePlayerAnswered(cmd, res);
};
function parseChoiceOption(ctx, choice, index) {
  choice.expression;
  if (!choice.branch) {
    ctx.parserContext.error(choice.line, `Choice option doesn't have any branch to go to (${choice.code} - ${choice.line})`);
  }
  let skillBranches;
  let mainBranch;
  const branch = choice.branch;
  if (choice.expression[1] === "roll") {
    if (!branch[0].branch || !branch[1].branch) {
      ctx.parserContext.error(choice.line, `Choice option with a skill roll needs success and failure branches (${choice.code} - ${choice.line})`);
    }
    skillBranches = {
      success: ctx.processCommandsFunction(ctx.parserContext, branch[0].branch, choice),
      failure: ctx.processCommandsFunction(ctx.parserContext, branch[1].branch, choice)
    };
  } else {
    mainBranch = ctx.processCommandsFunction(ctx.parserContext, branch, choice);
  }
  const choiceInfo = {
    prompt: ctx.processCommandsFunction(ctx.parserContext, [choice], choice)[0],
    branch: mainBranch,
    skillBranches
  };
  return choiceInfo;
}
const choiceParser = (ctx, parsed) => {
  let newLine = ctx.currentLine;
  generateParser("choice", []);
  const { line } = ctx;
  const command = parsed.command;
  if (!line.branch || line.branch.length < 2) {
    ctx.parserContext.error(line.line, `Choice menu needs to have at least one option`);
  }
  const prompt = line.branch[0];
  if (!prompt) {
    ctx.parserContext.error(ctx.line.line, `Choice prompt is missing `);
  }
  const choices = line.branch.slice(1);
  const prompts = choices.map((choice, index) => {
    if (!choice.branch) {
      ctx.parserContext.error(choice.line, `Choice option doesn't have any branch to go to (${choice.code})`);
    }
    choice = getChoiceOptionLineFromChoicePrompt(ctx.parserContext, choice);
    return parseChoiceOption(ctx, choice);
  });
  command.staticOptions = {
    prompt: ctx.processCommandsFunction(ctx.parserContext, [prompt], line)[0],
    choices: prompts
  };
  newLine++;
  return {
    newLine
  };
};
const choicePlugin = CommandPlugin.FromOptions({
  keyword: "choice",
  argTypes: [],
  runner: runChoice,
  parser: choiceParser
});
const onChoicePlayerAnswered = async (command, playerChoice) => {
  const choiceIndex = playerChoice;
  const vmStore = useVM();
  const { choices } = command.staticOptions;
  const choice = choices[choiceIndex];
  const choicePromptResult = command.options.choiceResults[choiceIndex];
  let playerText = choicePromptResult.text;
  let newBranch;
  if (choicePromptResult.skillCheck) {
    playerText = null;
    const result = runSkillCheck({
      skill: choicePromptResult.skillCheck.skillId,
      value: choicePromptResult.skillCheck.difficulty,
      id: choicePromptResult.skillCheck.skillCheckId,
      hideAfterRoll: choicePromptResult.skillCheck.hideAfterRoll
    });
    if (result.succeeded) {
      newBranch = choice.skillBranches.success;
    } else {
      newBranch = choice.skillBranches.failure;
    }
  } else {
    newBranch = choice.branch;
  }
  if (playerText) {
    const dialog = {
      speaker: "player",
      text: playerText,
      interactive: false
    };
    useDialogStore().addDialog(dialog);
  }
  if (newBranch) {
    const newStack = {
      currentIndex: 0,
      branchData: {
        branch: newBranch
      }
    };
    await vmStore.addAndRunFrame(newStack);
  }
};
function getChoiceOptionLineFromChoicePrompt(ctx, choice) {
  const generatedCode = `choicePrompt ${choice.code}`;
  const newLine = {
    code: generatedCode,
    indentation: choice.indentation,
    line: choice.line,
    branch: choice.branch,
    expression: ["choicePrompt", ...choice.expression]
  };
  return newLine;
}
const choicePromptCommandPlugin = new CommandPlugin("choicePrompt", "any", async (cmd) => {
  const args = cmd.args;
  if (args[0] === "roll") {
    const skillCheckId = args[1];
    const skillId = args[2];
    const difficulty = args[3];
    const skillText = args[4];
    const hideAfterRoll = args.length > 5 ? args[5] : false;
    const state = useSkills().getSkillCheck(skillCheckId);
    if (state.hidden) {
      return {
        text: null
      };
    }
    const skillCheckFailed = state.happened && !state.succeeded;
    const { difficultyText } = getSkillCheckText({
      skill: skillId,
      skillCheckId,
      value: difficulty
    });
    const text = `${difficultyText} ${skillText}`;
    return {
      text,
      skillCheck: {
        allowed: !skillCheckFailed,
        skillId,
        skillCheckId,
        difficulty,
        hideAfterRoll
      }
    };
  } else if (args.length > 1 && args[1] === "if") {
    const text = args[0];
    let condition = true;
    if (args.length > 2) {
      condition = args[2];
    }
    if (condition) {
      return {
        text
      };
    } else {
      return {
        text: null
      };
    }
  } else {
    return {
      text: args[0]
    };
  }
});
const textFieldPlugin = CommandPlugin.FromOptions({
  keyword: "text_field",
  argTypes: [{ name: "prompt", type: "string" }],
  returnAfterPlayerAnswer: true,
  runner: async (cmd) => {
    const dialog = {
      speaker: "game",
      text: cmd.options.prompt,
      textField: true,
      interactive: true
    };
    useDialogStore().addDialog(dialog);
  }
});
textFieldPlugin.onPlayerAnswered = async (cmd, choice) => {
  if (typeof choice !== "string") {
    commandRuntimeError(cmd, `The player's answer should be a string`);
  }
  return choice;
};
const textFieldPromptPlugin = CommandPlugin.FromOptions({
  keyword: "text_field_prompt",
  argTypes: [{ name: "prompt", type: "string" }],
  runner: async (cmd) => {
    const dialog = {
      speaker: "game",
      text: cmd.options.prompt,
      textField: true,
      interactive: true
    };
    useDialogStore().addDialog(dialog);
  }
});
function registerBaseCommands(vm2) {
  vm2.addCommand(choicePlugin);
  vm2.addCommand(choicePromptCommandPlugin);
  vm2.addCommand(ifCommand);
  vm2.addCommand(addStatPlugin);
  vm2.addCommand(setStatPlugin);
  vm2.addCommand(getStatPlugin);
  vm2.addCommand(clearDialogPlugin);
  vm2.addCommand(notifyPlugin);
  vm2.addCommand(pauseCommand);
  vm2.addCommand(playCommand);
  vm2.addCommand(stopCommand);
  vm2.addCommand(setButtonCommand);
  vm2.addCommand(setScreenCommand);
  vm2.addCommand(emptyLayerCommand);
  vm2.addCommand(waitCommand);
  vm2.addCommand(equalPlugin);
  vm2.addCommand(greaterThanPlugin);
  vm2.addCommand(lesserThanPlugin);
  vm2.addCommand(greaterOrEqualPlugin);
  vm2.addCommand(lesserOrEqualPlugin);
  vm2.addCommand(notEqualPlugin);
  vm2.addCommand(notPlugin);
  vm2.addCommand(andPlugin);
  vm2.addCommand(orPlugin);
  vm2.addCommand(ternaryPlugin);
  vm2.addCommand(additionPlugin);
  vm2.addCommand(substractionPlugin);
  vm2.addCommand(multiplicationPlugin);
  vm2.addCommand(divisionPlugin);
  vm2.addCommand(addPlugin);
  vm2.addCommand(setCommand);
  vm2.addCommand(textCommandPlugin);
  vm2.addCommand(talkCommand);
  vm2.addCommand(jumpCommand);
  vm2.addCommand(runLabelPlugin);
  vm2.addCommand(defineVariablePlugin);
  vm2.addCommand(returnPlugin);
  vm2.addCommand(startQuestPlugin);
  vm2.addCommand(startObjectivePlugin);
  vm2.addCommand(completeObjectivePlugin);
  vm2.addCommand(completeQuestPlugin);
  vm2.addCommand(questStartedPlugin);
  vm2.addCommand(objectiveStartedPlugin);
  vm2.addCommand(questCompletedPlugin);
  vm2.addCommand(objectiveCompletedPlugin);
  vm2.addCommand(addItemPlugin);
  vm2.addCommand(removeItemPlugin);
  vm2.addCommand(enableInteractionPlugin);
  vm2.addCommand(disableInteractionPlugin);
  vm2.addCommand(hasItemPlugin);
  vm2.addCommand(itemAmountPlugin);
  vm2.addCommand(addLevelPlugin);
  vm2.addCommand(addXpPlugin);
  vm2.addCommand(rollPlugin);
  vm2.addCommand(textFieldPlugin);
  vm2.addCommand(textFieldPromptPlugin);
}
let app;
vm.callHook("onPageLoaded");
async function startApp(config2, options) {
  const configFile = await getFile("data/config.json");
  setConfig(JSON.parse(configFile));
  app = createApp(GameApp, {
    config: config2,
    options
  });
  const pinia = createPinia();
  app.use(pinia);
  useMain().setOptions(options);
  app.use(N$1, {
    breakpoints: {
      s: 0,
      m: 800,
      l: 1200
    }
  });
  registerBaseCommands(vm);
  logManager.setupDebugger(options.debug);
  console.log("%c Narrat game engine \u2013 [VI]{version} - {date}[/VI]", "background: #222; color: #bada55");
  vm.callHook("onNarratSetup");
  app.mount("#game-holder");
  if (options.debug) {
    const narrat = {
      app,
      vm,
      jump: (label) => {
        useVM().runLabel(label);
      }
    };
    window.narrat = narrat;
  }
}

export { startApp };
