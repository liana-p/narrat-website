var VI=Object.defineProperty;var HI=(t,e,n)=>e in t?VI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var WI=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vo=(t,e,n)=>(HI(t,typeof e!="symbol"?e+"":e,n),n);var Ere=WI((Ur,Jr)=>{const UI=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};UI();var Gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JI(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n$={exports:{}};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(t,e){(function(n,r){t.exports=r()})(Gs,function(){function n(ce){var ke=typeof ce;return ce!==null&&(ke==="object"||ke==="function")}function r(ce){return typeof ce=="function"}var o=void 0;Array.isArray?o=Array.isArray:o=function(ce){return Object.prototype.toString.call(ce)==="[object Array]"};var i=o,s=0,a=void 0,u=void 0,l=function(ke,Oe){$[s]=ke,$[s+1]=Oe,s+=2,s===2&&(u?u(A):_())};function f(ce){u=ce}function c(ce){l=ce}var d=typeof window<"u"?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,v=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",g=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function m(){return function(){return process.nextTick(A)}}function y(){return typeof a<"u"?function(){a(A)}:k()}function b(){var ce=0,ke=new p(A),Oe=document.createTextNode("");return ke.observe(Oe,{characterData:!0}),function(){Oe.data=ce=++ce%2}}function w(){var ce=new MessageChannel;return ce.port1.onmessage=A,function(){return ce.port2.postMessage(0)}}function k(){var ce=setTimeout;return function(){return ce(A,1)}}var $=new Array(1e3);function A(){for(var ce=0;ce<s;ce+=2){var ke=$[ce],Oe=$[ce+1];ke(Oe),$[ce]=void 0,$[ce+1]=void 0}s=0}function P(){try{var ce=Function("return this")().require("vertx");return a=ce.runOnLoop||ce.runOnContext,y()}catch{return k()}}var _=void 0;v?_=m():p?_=b():g?_=w():d===void 0&&typeof JI=="function"?_=P():_=k();function T(ce,ke){var Oe=this,fe=new this.constructor(S);fe[R]===void 0&&M(fe);var Pe=Oe._state;if(Pe){var Ve=arguments[Pe-1];l(function(){return xe(Pe,fe,Ve,Oe._result)})}else G(Oe,fe,ce,ke);return fe}function C(ce){var ke=this;if(ce&&typeof ce=="object"&&ce.constructor===ke)return ce;var Oe=new ke(S);return z(Oe,ce),Oe}var R=Math.random().toString(36).substring(2);function S(){}var j=void 0,q=1,Y=2;function F(){return new TypeError("You cannot resolve a promise with itself")}function K(){return new TypeError("A promises callback cannot return that same promise.")}function D(ce,ke,Oe,fe){try{ce.call(ke,Oe,fe)}catch(Pe){return Pe}}function I(ce,ke,Oe){l(function(fe){var Pe=!1,Ve=D(Oe,ke,function(et){Pe||(Pe=!0,ke!==et?z(fe,et):x(fe,et))},function(et){Pe||(Pe=!0,N(fe,et))},"Settle: "+(fe._label||" unknown promise"));!Pe&&Ve&&(Pe=!0,N(fe,Ve))},ce)}function W(ce,ke){ke._state===q?x(ce,ke._result):ke._state===Y?N(ce,ke._result):G(ke,void 0,function(Oe){return z(ce,Oe)},function(Oe){return N(ce,Oe)})}function H(ce,ke,Oe){ke.constructor===ce.constructor&&Oe===T&&ke.constructor.resolve===C?W(ce,ke):Oe===void 0?x(ce,ke):r(Oe)?I(ce,ke,Oe):x(ce,ke)}function z(ce,ke){if(ce===ke)N(ce,F());else if(n(ke)){var Oe=void 0;try{Oe=ke.then}catch(fe){N(ce,fe);return}H(ce,ke,Oe)}else x(ce,ke)}function O(ce){ce._onerror&&ce._onerror(ce._result),ue(ce)}function x(ce,ke){ce._state===j&&(ce._result=ke,ce._state=q,ce._subscribers.length!==0&&l(ue,ce))}function N(ce,ke){ce._state===j&&(ce._state=Y,ce._result=ke,l(O,ce))}function G(ce,ke,Oe,fe){var Pe=ce._subscribers,Ve=Pe.length;ce._onerror=null,Pe[Ve]=ke,Pe[Ve+q]=Oe,Pe[Ve+Y]=fe,Ve===0&&ce._state&&l(ue,ce)}function ue(ce){var ke=ce._subscribers,Oe=ce._state;if(ke.length!==0){for(var fe=void 0,Pe=void 0,Ve=ce._result,et=0;et<ke.length;et+=3)fe=ke[et],Pe=ke[et+Oe],fe?xe(Oe,fe,Pe,Ve):Pe(Ve);ce._subscribers.length=0}}function xe(ce,ke,Oe,fe){var Pe=r(Oe),Ve=void 0,et=void 0,vt=!0;if(Pe){try{Ve=Oe(fe)}catch(Lt){vt=!1,et=Lt}if(ke===Ve){N(ke,K());return}}else Ve=fe;ke._state!==j||(Pe&&vt?z(ke,Ve):vt===!1?N(ke,et):ce===q?x(ke,Ve):ce===Y&&N(ke,Ve))}function $e(ce,ke){try{ke(function(fe){z(ce,fe)},function(fe){N(ce,fe)})}catch(Oe){N(ce,Oe)}}var L=0;function Q(){return L++}function M(ce){ce[R]=L++,ce._state=void 0,ce._result=void 0,ce._subscribers=[]}function B(){return new Error("Array Methods must be provided an Array")}var Z=function(){function ce(ke,Oe){this._instanceConstructor=ke,this.promise=new ke(S),this.promise[R]||M(this.promise),i(Oe)?(this.length=Oe.length,this._remaining=Oe.length,this._result=new Array(this.length),this.length===0?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(Oe),this._remaining===0&&x(this.promise,this._result))):N(this.promise,B())}return ce.prototype._enumerate=function(Oe){for(var fe=0;this._state===j&&fe<Oe.length;fe++)this._eachEntry(Oe[fe],fe)},ce.prototype._eachEntry=function(Oe,fe){var Pe=this._instanceConstructor,Ve=Pe.resolve;if(Ve===C){var et=void 0,vt=void 0,Lt=!1;try{et=Oe.then}catch(ne){Lt=!0,vt=ne}if(et===T&&Oe._state!==j)this._settledAt(Oe._state,fe,Oe._result);else if(typeof et!="function")this._remaining--,this._result[fe]=Oe;else if(Pe===_e){var wn=new Pe(S);Lt?N(wn,vt):H(wn,Oe,et),this._willSettleAt(wn,fe)}else this._willSettleAt(new Pe(function(ne){return ne(Oe)}),fe)}else this._willSettleAt(Ve(Oe),fe)},ce.prototype._settledAt=function(Oe,fe,Pe){var Ve=this.promise;Ve._state===j&&(this._remaining--,Oe===Y?N(Ve,Pe):this._result[fe]=Pe),this._remaining===0&&x(Ve,this._result)},ce.prototype._willSettleAt=function(Oe,fe){var Pe=this;G(Oe,void 0,function(Ve){return Pe._settledAt(q,fe,Ve)},function(Ve){return Pe._settledAt(Y,fe,Ve)})},ce}();function le(ce){return new Z(this,ce).promise}function ee(ce){var ke=this;return i(ce)?new ke(function(Oe,fe){for(var Pe=ce.length,Ve=0;Ve<Pe;Ve++)ke.resolve(ce[Ve]).then(Oe,fe)}):new ke(function(Oe,fe){return fe(new TypeError("You must pass an array to race."))})}function V(ce){var ke=this,Oe=new ke(S);return N(Oe,ce),Oe}function Ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ce(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var _e=function(){function ce(ke){this[R]=Q(),this._result=this._state=void 0,this._subscribers=[],S!==ke&&(typeof ke!="function"&&Ee(),this instanceof ce?$e(this,ke):Ce())}return ce.prototype.catch=function(Oe){return this.then(null,Oe)},ce.prototype.finally=function(Oe){var fe=this,Pe=fe.constructor;return r(Oe)?fe.then(function(Ve){return Pe.resolve(Oe()).then(function(){return Ve})},function(Ve){return Pe.resolve(Oe()).then(function(){throw Ve})}):fe.then(Oe,Oe)},ce}();_e.prototype.then=T,_e.all=le,_e.race=ee,_e.resolve=C,_e.reject=V,_e._setScheduler=f,_e._setAsap=c,_e._asap=l;function pe(){var ce=void 0;if(typeof Gs<"u")ce=Gs;else if(typeof self<"u")ce=self;else try{ce=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ke=ce.Promise;if(ke){var Oe=null;try{Oe=Object.prototype.toString.call(ke.resolve())}catch{}if(Oe==="[object Promise]"&&!ke.cast)return}ce.Promise=_e}return _e.polyfill=pe,_e.Promise=_e,_e})})(n$);n$.exports.polyfill();function Zg(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const KI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GI=Zg(KI);function r$(t){return!!t||t===""}function Qn(t){if(Bt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=Er(r)?XI(r):Qn(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(Er(t))return t;if(mr(t))return t}}const QI=/;(?![^(]*\))/g,YI=/:(.+)/;function XI(t){const e={};return t.split(QI).forEach(n=>{if(n){const r=n.split(YI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function xs(t){let e="";if(Er(t))e=t;else if(Bt(t))for(let n=0;n<t.length;n++){const r=xs(t[n]);r&&(e+=r+" ")}else if(mr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fn=t=>Er(t)?t:t==null?"":Bt(t)||mr(t)&&(t.toString===a$||!Xt(t.toString))?JSON.stringify(t,o$,2):String(t),o$=(t,e)=>e&&e.__v_isRef?o$(t,e.value):Nu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:i$(e)?{[`Set(${e.size})`]:[...e.values()]}:mr(e)&&!Bt(e)&&!u$(e)?String(e):e,Dn={},Iu=[],ki=()=>{},ZI=()=>!1,e9=/^on[^a-z]/,Ih=t=>e9.test(t),e0=t=>t.startsWith("onUpdate:"),Ar=Object.assign,t0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},t9=Object.prototype.hasOwnProperty,gn=(t,e)=>t9.call(t,e),Bt=Array.isArray,Nu=t=>Nh(t)==="[object Map]",i$=t=>Nh(t)==="[object Set]",Xt=t=>typeof t=="function",Er=t=>typeof t=="string",n0=t=>typeof t=="symbol",mr=t=>t!==null&&typeof t=="object",s$=t=>mr(t)&&Xt(t.then)&&Xt(t.catch),a$=Object.prototype.toString,Nh=t=>a$.call(t),n9=t=>Nh(t).slice(8,-1),u$=t=>Nh(t)==="[object Object]",r0=t=>Er(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fd=Zg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},r9=/-(\w)/g,ns=Lh(t=>t.replace(r9,(e,n)=>n?n.toUpperCase():"")),o9=/\B([A-Z])/g,sl=Lh(t=>t.replace(o9,"-$1").toLowerCase()),Rh=Lh(t=>t.charAt(0).toUpperCase()+t.slice(1)),qp=Lh(t=>t?`on${Rh(t)}`:""),hc=(t,e)=>!Object.is(t,e),dd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Td=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Md=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let B1;const i9=()=>B1||(B1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Di;class l${constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Di&&(this.parent=Di,this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Di;try{return Di=this,e()}finally{Di=n}}}on(){Di=this}off(){Di=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function c$(t){return new l$(t)}function s9(t,e=Di){e&&e.active&&e.effects.push(t)}const o0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},f$=t=>(t.w&sa)>0,d$=t=>(t.n&sa)>0,a9=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=sa},u9=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];f$(o)&&!d$(o)?o.delete(t):e[n++]=o,o.w&=~sa,o.n&=~sa}e.length=n}},Qv=new WeakMap;let ql=0,sa=1;const Yv=30;let pi;const Ga=Symbol(""),Xv=Symbol("");class i0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,s9(this,r)}run(){if(!this.active)return this.fn();let e=pi,n=Zs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=pi,pi=this,Zs=!0,sa=1<<++ql,ql<=Yv?a9(this):z1(this),this.fn()}finally{ql<=Yv&&u9(this),sa=1<<--ql,pi=this.parent,Zs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pi===this?this.deferStop=!0:this.active&&(z1(this),this.onStop&&this.onStop(),this.active=!1)}}function z1(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Zs=!0;const h$=[];function al(){h$.push(Zs),Zs=!1}function ul(){const t=h$.pop();Zs=t===void 0?!0:t}function Lo(t,e,n){if(Zs&&pi){let r=Qv.get(t);r||Qv.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=o0()),p$(o)}}function p$(t,e){let n=!1;ql<=Yv?d$(t)||(t.n|=sa,n=!f$(t)):n=!t.has(pi),n&&(t.add(pi),pi.deps.push(t))}function js(t,e,n,r,o,i){const s=Qv.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Bt(t))s.forEach((u,l)=>{(l==="length"||l>=r)&&a.push(u)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Bt(t)?r0(n)&&a.push(s.get("length")):(a.push(s.get(Ga)),Nu(t)&&a.push(s.get(Xv)));break;case"delete":Bt(t)||(a.push(s.get(Ga)),Nu(t)&&a.push(s.get(Xv)));break;case"set":Nu(t)&&a.push(s.get(Ga));break}if(a.length===1)a[0]&&Zv(a[0]);else{const u=[];for(const l of a)l&&u.push(...l);Zv(o0(u))}}function Zv(t,e){const n=Bt(t)?t:[...t];for(const r of n)r.computed&&F1(r);for(const r of n)r.computed||F1(r)}function F1(t,e){(t!==pi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const l9=Zg("__proto__,__v_isRef,__isVue"),v$=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(n0)),c9=s0(),f9=s0(!1,!0),d9=s0(!0),q1=h9();function h9(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=xn(this);for(let i=0,s=this.length;i<s;i++)Lo(r,"get",i+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(xn)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){al();const r=xn(this)[e].apply(this,n);return ul(),r}}),t}function s0(t=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(t?e?A9:w$:e?b$:y$).get(r))return r;const s=Bt(r);if(!t&&s&&gn(q1,o))return Reflect.get(q1,o,i);const a=Reflect.get(r,o,i);return(n0(o)?v$.has(o):l9(o))||(t||Lo(r,"get",o),e)?a:dr(a)?s&&r0(o)?a:a.value:mr(a)?t?su(a):ll(a):a}}const p9=m$(),v9=m$(!0);function m$(t=!1){return function(n,r,o,i){let s=n[r];if(pc(s)&&dr(s)&&!dr(o))return!1;if(!t&&!pc(o)&&(em(o)||(o=xn(o),s=xn(s)),!Bt(n)&&dr(s)&&!dr(o)))return s.value=o,!0;const a=Bt(n)&&r0(r)?Number(r)<n.length:gn(n,r),u=Reflect.set(n,r,o,i);return n===xn(i)&&(a?hc(o,s)&&js(n,"set",r,o):js(n,"add",r,o)),u}}function m9(t,e){const n=gn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&js(t,"delete",e,void 0),r}function g9(t,e){const n=Reflect.has(t,e);return(!n0(e)||!v$.has(e))&&Lo(t,"has",e),n}function y9(t){return Lo(t,"iterate",Bt(t)?"length":Ga),Reflect.ownKeys(t)}const g$={get:c9,set:p9,deleteProperty:m9,has:g9,ownKeys:y9},b9={get:d9,set(t,e){return!0},deleteProperty(t,e){return!0}},w9=Ar({},g$,{get:f9,set:v9}),a0=t=>t,Dh=t=>Reflect.getPrototypeOf(t);function wf(t,e,n=!1,r=!1){t=t.__v_raw;const o=xn(t),i=xn(e);n||(e!==i&&Lo(o,"get",e),Lo(o,"get",i));const{has:s}=Dh(o),a=r?a0:n?c0:vc;if(s.call(o,e))return a(t.get(e));if(s.call(o,i))return a(t.get(i));t!==o&&t.get(e)}function kf(t,e=!1){const n=this.__v_raw,r=xn(n),o=xn(t);return e||(t!==o&&Lo(r,"has",t),Lo(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function xf(t,e=!1){return t=t.__v_raw,!e&&Lo(xn(t),"iterate",Ga),Reflect.get(t,"size",t)}function V1(t){t=xn(t);const e=xn(this);return Dh(e).has.call(e,t)||(e.add(t),js(e,"add",t,t)),this}function H1(t,e){e=xn(e);const n=xn(this),{has:r,get:o}=Dh(n);let i=r.call(n,t);i||(t=xn(t),i=r.call(n,t));const s=o.call(n,t);return n.set(t,e),i?hc(e,s)&&js(n,"set",t,e):js(n,"add",t,e),this}function W1(t){const e=xn(this),{has:n,get:r}=Dh(e);let o=n.call(e,t);o||(t=xn(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&js(e,"delete",t,void 0),i}function U1(){const t=xn(this),e=t.size!==0,n=t.clear();return e&&js(t,"clear",void 0,void 0),n}function jf(t,e){return function(r,o){const i=this,s=i.__v_raw,a=xn(s),u=e?a0:t?c0:vc;return!t&&Lo(a,"iterate",Ga),s.forEach((l,f)=>r.call(o,u(l),u(f),i))}}function _f(t,e,n){return function(...r){const o=this.__v_raw,i=xn(o),s=Nu(i),a=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=o[t](...r),f=n?a0:e?c0:vc;return!e&&Lo(i,"iterate",u?Xv:Ga),{next(){const{value:c,done:d}=l.next();return d?{value:c,done:d}:{value:a?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function Rs(t){return function(...e){return t==="delete"?!1:this}}function k9(){const t={get(i){return wf(this,i)},get size(){return xf(this)},has:kf,add:V1,set:H1,delete:W1,clear:U1,forEach:jf(!1,!1)},e={get(i){return wf(this,i,!1,!0)},get size(){return xf(this)},has:kf,add:V1,set:H1,delete:W1,clear:U1,forEach:jf(!1,!0)},n={get(i){return wf(this,i,!0)},get size(){return xf(this,!0)},has(i){return kf.call(this,i,!0)},add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear"),forEach:jf(!0,!1)},r={get(i){return wf(this,i,!0,!0)},get size(){return xf(this,!0)},has(i){return kf.call(this,i,!0)},add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear"),forEach:jf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=_f(i,!1,!1),n[i]=_f(i,!0,!1),e[i]=_f(i,!1,!0),r[i]=_f(i,!0,!0)}),[t,n,e,r]}const[x9,j9,_9,S9]=k9();function u0(t,e){const n=e?t?S9:_9:t?j9:x9;return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(gn(n,o)&&o in r?n:r,o,i)}const C9={get:u0(!1,!1)},$9={get:u0(!1,!0)},O9={get:u0(!0,!1)},y$=new WeakMap,b$=new WeakMap,w$=new WeakMap,A9=new WeakMap;function E9(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P9(t){return t.__v_skip||!Object.isExtensible(t)?0:E9(n9(t))}function ll(t){return pc(t)?t:l0(t,!1,g$,C9,y$)}function T9(t){return l0(t,!1,w9,$9,b$)}function su(t){return l0(t,!0,b9,O9,w$)}function l0(t,e,n,r,o){if(!mr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=P9(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return o.set(t,a),a}function ea(t){return pc(t)?ea(t.__v_raw):!!(t&&t.__v_isReactive)}function pc(t){return!!(t&&t.__v_isReadonly)}function em(t){return!!(t&&t.__v_isShallow)}function k$(t){return ea(t)||pc(t)}function xn(t){const e=t&&t.__v_raw;return e?xn(e):t}function Vu(t){return Td(t,"__v_skip",!0),t}const vc=t=>mr(t)?ll(t):t,c0=t=>mr(t)?su(t):t;function x$(t){Zs&&pi&&(t=xn(t),p$(t.dep||(t.dep=o0())))}function j$(t,e){t=xn(t),t.dep&&Zv(t.dep)}function dr(t){return!!(t&&t.__v_isRef===!0)}function Qo(t){return M9(t,!1)}function M9(t,e){return dr(t)?t:new I9(t,e)}class I9{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:xn(e),this._value=n?e:vc(e)}get value(){return x$(this),this._value}set value(e){e=this.__v_isShallow?e:xn(e),hc(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:vc(e),j$(this))}}function io(t){return dr(t)?t.value:t}const N9={get:(t,e,n)=>io(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return dr(o)&&!dr(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function _$(t){return ea(t)?t:new Proxy(t,N9)}function L9(t){const e=Bt(t)?new Array(t.length):{};for(const n in t)e[n]=D9(t,n);return e}class R9{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function D9(t,e,n){const r=t[e];return dr(r)?r:new R9(t,e,n)}class B9{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new i0(e,()=>{this._dirty||(this._dirty=!0,j$(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=xn(this);return x$(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function z9(t,e,n=!1){let r,o;const i=Xt(t);return i?(r=t,o=ki):(r=t.get,o=t.set),new B9(r,o,i||!o,n)}function ta(t,e,n,r){let o;try{o=r?t(...r):t()}catch(i){Bh(i,e,n)}return o}function Zo(t,e,n,r){if(Xt(t)){const i=ta(t,e,n,r);return i&&s$(i)&&i.catch(s=>{Bh(s,e,n)}),i}const o=[];for(let i=0;i<t.length;i++)o.push(Zo(t[i],e,n,r));return o}function Bh(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,s,a)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){ta(u,null,10,[t,s,a]);return}}F9(t,n,o,r)}function F9(t,e,n,r=!0){console.error(t)}let Id=!1,tm=!1;const $o=[];let hs=0;const Xl=[];let Vl=null,wu=0;const Zl=[];let Vs=null,ku=0;const S$=Promise.resolve();let f0=null,nm=null;function C$(t){const e=f0||S$;return t?e.then(this?t.bind(this):t):e}function q9(t){let e=hs+1,n=$o.length;for(;e<n;){const r=e+n>>>1;mc($o[r])<t?e=r+1:n=r}return e}function $$(t){(!$o.length||!$o.includes(t,Id&&t.allowRecurse?hs+1:hs))&&t!==nm&&(t.id==null?$o.push(t):$o.splice(q9(t.id),0,t),O$())}function O$(){!Id&&!tm&&(tm=!0,f0=S$.then(P$))}function V9(t){const e=$o.indexOf(t);e>hs&&$o.splice(e,1)}function A$(t,e,n,r){Bt(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),O$()}function H9(t){A$(t,Vl,Xl,wu)}function W9(t){A$(t,Vs,Zl,ku)}function zh(t,e=null){if(Xl.length){for(nm=e,Vl=[...new Set(Xl)],Xl.length=0,wu=0;wu<Vl.length;wu++)Vl[wu]();Vl=null,wu=0,nm=null,zh(t,e)}}function E$(t){if(zh(),Zl.length){const e=[...new Set(Zl)];if(Zl.length=0,Vs){Vs.push(...e);return}for(Vs=e,Vs.sort((n,r)=>mc(n)-mc(r)),ku=0;ku<Vs.length;ku++)Vs[ku]();Vs=null,ku=0}}const mc=t=>t.id==null?1/0:t.id;function P$(t){tm=!1,Id=!0,zh(t),$o.sort((n,r)=>mc(n)-mc(r));const e=ki;try{for(hs=0;hs<$o.length;hs++){const n=$o[hs];n&&n.active!==!1&&ta(n,null,14)}}finally{hs=0,$o.length=0,E$(),Id=!1,f0=null,($o.length||Xl.length||Zl.length)&&P$(t)}}function U9(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Dn;let o=n;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:d}=r[f]||Dn;d&&(o=n.map(h=>h.trim())),c&&(o=n.map(Md))}let a,u=r[a=qp(e)]||r[a=qp(ns(e))];!u&&i&&(u=r[a=qp(sl(e))]),u&&Zo(u,t,6,o);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Zo(l,t,6,o)}}function T$(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!Xt(t)){const u=l=>{const f=T$(l,e,!0);f&&(a=!0,Ar(s,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(r.set(t,null),null):(Bt(i)?i.forEach(u=>s[u]=null):Ar(s,i),r.set(t,s),s)}function Fh(t,e){return!t||!Ih(e)?!1:(e=e.slice(2).replace(/Once$/,""),gn(t,e[0].toLowerCase()+e.slice(1))||gn(t,sl(e))||gn(t,e))}let Kr=null,M$=null;function Nd(t){const e=Kr;return Kr=t,M$=t&&t.type.__scopeId||null,e}function cr(t,e=Kr,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&rb(-1);const i=Nd(e),s=t(...o);return Nd(i),r._d&&rb(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Vp(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:l,render:f,renderCache:c,data:d,setupState:h,ctx:p,inheritAttrs:v}=t;let g,m;const y=Nd(t);try{if(n.shapeFlag&4){const w=o||r;g=Fi(f.call(w,w,c,i,h,d,p)),m=u}else{const w=e;g=Fi(w.length>1?w(i,{attrs:u,slots:a,emit:l}):w(i,null)),m=e.props?u:J9(u)}}catch(w){nc.length=0,Bh(w,t,1),g=rr(ei)}let b=g;if(m&&v!==!1){const w=Object.keys(m),{shapeFlag:k}=b;w.length&&k&7&&(s&&w.some(e0)&&(m=K9(m,s)),b=aa(b,m))}return n.dirs&&(b=aa(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),g=b,Nd(y),g}const J9=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ih(n))&&((e||(e={}))[n]=t[n]);return e},K9=(t,e)=>{const n={};for(const r in t)(!e0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function G9(t,e,n){const{props:r,children:o,component:i}=t,{props:s,children:a,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?J1(r,s,l):!!s;if(u&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(s[d]!==r[d]&&!Fh(l,d))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?J1(r,s,l):!0:!!s;return!1}function J1(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!Fh(n,i))return!0}return!1}function Q9({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Y9=t=>t.__isSuspense;function X9(t,e){e&&e.pendingBranch?Bt(t)?e.effects.push(...t):e.effects.push(t):W9(t)}function Z9(t,e){if(Cr){let n=Cr.provides;const r=Cr.parent&&Cr.parent.provides;r===n&&(n=Cr.provides=Object.create(r)),n[t]=e}}function hd(t,e,n=!1){const r=Cr||Kr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Xt(e)?e.call(r.proxy):e}}const K1={};function ec(t,e,n){return I$(t,e,n)}function I$(t,e,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=Dn){const a=Cr;let u,l=!1,f=!1;if(dr(t)?(u=()=>t.value,l=em(t)):ea(t)?(u=()=>t,r=!0):Bt(t)?(f=!0,l=t.some(m=>ea(m)||em(m)),u=()=>t.map(m=>{if(dr(m))return m.value;if(ea(m))return qa(m);if(Xt(m))return ta(m,a,2)})):Xt(t)?e?u=()=>ta(t,a,2):u=()=>{if(!(a&&a.isUnmounted))return c&&c(),Zo(t,a,3,[d])}:u=ki,e&&r){const m=u;u=()=>qa(m())}let c,d=m=>{c=g.onStop=()=>{ta(m,a,4)}};if(wc)return d=ki,e?n&&Zo(e,a,3,[u(),f?[]:void 0,d]):u(),ki;let h=f?[]:K1;const p=()=>{if(!!g.active)if(e){const m=g.run();(r||l||(f?m.some((y,b)=>hc(y,h[b])):hc(m,h)))&&(c&&c(),Zo(e,a,3,[m,h===K1?void 0:h,d]),h=m)}else g.run()};p.allowRecurse=!!e;let v;o==="sync"?v=p:o==="post"?v=()=>po(p,a&&a.suspense):v=()=>H9(p);const g=new i0(u,v);return e?n?p():h=g.run():o==="post"?po(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&t0(a.scope.effects,g)}}function eN(t,e,n){const r=this.proxy,o=Er(t)?t.includes(".")?N$(r,t):()=>r[t]:t.bind(r,r);let i;Xt(e)?i=e:(i=e.handler,n=e);const s=Cr;Hu(this);const a=I$(o,i.bind(r),n);return s?Hu(s):Qa(),a}function N$(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function qa(t,e){if(!mr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),dr(t))qa(t.value,e);else if(Bt(t))for(let n=0;n<t.length;n++)qa(t[n],e);else if(i$(t)||Nu(t))t.forEach(n=>{qa(n,e)});else if(u$(t))for(const n in t)qa(t[n],e);return t}function L$(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hh(()=>{t.isMounted=!0}),F$(()=>{t.isUnmounting=!0}),t}const Ho=[Function,Array],tN={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ho,onEnter:Ho,onAfterEnter:Ho,onEnterCancelled:Ho,onBeforeLeave:Ho,onLeave:Ho,onAfterLeave:Ho,onLeaveCancelled:Ho,onBeforeAppear:Ho,onAppear:Ho,onAfterAppear:Ho,onAppearCancelled:Ho},setup(t,{slots:e}){const n=Uh(),r=L$();let o;return()=>{const i=e.default&&d0(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const v of i)if(v.type!==ei){s=v;break}}const a=xn(t),{mode:u}=a;if(r.isLeaving)return Hp(s);const l=G1(s);if(!l)return Hp(s);const f=gc(l,a,r,n);yc(l,f);const c=n.subTree,d=c&&G1(c);let h=!1;const{getTransitionKey:p}=l.type;if(p){const v=p();o===void 0?o=v:v!==o&&(o=v,h=!0)}if(d&&d.type!==ei&&(!La(l,d)||h)){const v=gc(d,a,r,n);if(yc(d,v),u==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update()},Hp(s);u==="in-out"&&l.type!==ei&&(v.delayLeave=(g,m,y)=>{const b=D$(r,d);b[String(d.key)]=d,g._leaveCb=()=>{m(),g._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=y})}return s}}},R$=tN;function D$(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function gc(t,e,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:v,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=e,b=String(t.key),w=D$(n,t),k=(P,_)=>{P&&Zo(P,r,9,_)},$=(P,_)=>{const T=_[1];k(P,_),Bt(P)?P.every(C=>C.length<=1)&&T():P.length<=1&&T()},A={mode:i,persisted:s,beforeEnter(P){let _=a;if(!n.isMounted)if(o)_=v||a;else return;P._leaveCb&&P._leaveCb(!0);const T=w[b];T&&La(t,T)&&T.el._leaveCb&&T.el._leaveCb(),k(_,[P])},enter(P){let _=u,T=l,C=f;if(!n.isMounted)if(o)_=g||u,T=m||l,C=y||f;else return;let R=!1;const S=P._enterCb=j=>{R||(R=!0,j?k(C,[P]):k(T,[P]),A.delayedLeave&&A.delayedLeave(),P._enterCb=void 0)};_?$(_,[P,S]):S()},leave(P,_){const T=String(t.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return _();k(c,[P]);let C=!1;const R=P._leaveCb=S=>{C||(C=!0,_(),S?k(p,[P]):k(h,[P]),P._leaveCb=void 0,w[T]===t&&delete w[T])};w[T]=t,d?$(d,[P,R]):R()},clone(P){return gc(P,e,n,r)}};return A}function Hp(t){if(qh(t))return t=aa(t),t.children=null,t}function G1(t){return qh(t)?t.children?t.children[0]:void 0:t}function yc(t,e){t.shapeFlag&6&&t.component?yc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function d0(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===An?(s.patchFlag&128&&o++,r=r.concat(d0(s.children,e,a))):(e||s.type!==ei)&&r.push(a!=null?aa(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function kr(t){return Xt(t)?{setup:t,name:t.name}:t}const tc=t=>!!t.type.__asyncLoader,qh=t=>t.type.__isKeepAlive;function nN(t,e){B$(t,"a",e)}function rN(t,e){B$(t,"da",e)}function B$(t,e,n=Cr){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Vh(e,r,n),n){let o=n.parent;for(;o&&o.parent;)qh(o.parent.vnode)&&oN(r,e,n,o),o=o.parent}}function oN(t,e,n,r){const o=Vh(e,t,r,!0);h0(()=>{t0(r[e],o)},n)}function Vh(t,e,n=Cr,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;al(),Hu(n);const a=Zo(e,n,t,s);return Qa(),ul(),a});return r?o.unshift(i):o.push(i),i}}const Os=t=>(e,n=Cr)=>(!wc||t==="sp")&&Vh(t,e,n),iN=Os("bm"),Hh=Os("m"),sN=Os("bu"),z$=Os("u"),F$=Os("bum"),h0=Os("um"),aN=Os("sp"),uN=Os("rtg"),lN=Os("rtc");function cN(t,e=Cr){Vh("ec",t,e)}function p0(t,e){const n=Kr;if(n===null)return t;const r=Jh(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,u,l=Dn]=e[i];Xt(s)&&(s={mounted:s,updated:s}),s.deep&&qa(a),o.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:l})}return t}function Aa(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let u=a.dir[r];u&&(al(),Zo(u,n,8,[t.el,a,t,e]),ul())}}const q$="components";function jr(t,e){return dN(q$,t,!0,e)||t}const fN=Symbol();function dN(t,e,n=!0,r=!1){const o=Kr||Cr;if(o){const i=o.type;if(t===q$){const a=FN(i,!1);if(a&&(a===e||a===ns(e)||a===Rh(ns(e))))return i}const s=Q1(o[t]||i[t],e)||Q1(o.appContext[t],e);return!s&&r?i:s}}function Q1(t,e){return t&&(t[e]||t[ns(e)]||t[Rh(ns(e))])}function Lr(t,e,n,r){let o;const i=n&&n[r];if(Bt(t)||Er(t)){o=new Array(t.length);for(let s=0,a=t.length;s<a;s++)o[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,i&&i[s])}else if(mr(t))if(t[Symbol.iterator])o=Array.from(t,(s,a)=>e(s,a,void 0,i&&i[a]));else{const s=Object.keys(t);o=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const l=s[a];o[a]=e(t[l],l,a,i&&i[a])}}else o=[];return n&&(n[r]=o),o}function Wp(t,e,n={},r,o){if(Kr.isCE||Kr.parent&&tc(Kr.parent)&&Kr.parent.isCE)return rr("slot",e==="default"?null:{name:e},r&&r());let i=t[e];i&&i._c&&(i._d=!1),Ye();const s=i&&V$(i(n)),a=nr(An,{key:n.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function V$(t){return t.some(e=>Dd(e)?!(e.type===ei||e.type===An&&!V$(e.children)):!0)?t:null}const rm=t=>t?tO(t)?Jh(t)||t.proxy:rm(t.parent):null,Ld=Ar(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rm(t.parent),$root:t=>rm(t.root),$emit:t=>t.emit,$options:t=>W$(t),$forceUpdate:t=>t.f||(t.f=()=>$$(t.update)),$nextTick:t=>t.n||(t.n=C$.bind(t.proxy)),$watch:t=>eN.bind(t)}),hN={get({_:t},e){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=t;let l;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if(r!==Dn&&gn(r,e))return s[e]=1,r[e];if(o!==Dn&&gn(o,e))return s[e]=2,o[e];if((l=t.propsOptions[0])&&gn(l,e))return s[e]=3,i[e];if(n!==Dn&&gn(n,e))return s[e]=4,n[e];om&&(s[e]=0)}}const f=Ld[e];let c,d;if(f)return e==="$attrs"&&Lo(t,"get",e),f(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Dn&&gn(n,e))return s[e]=4,n[e];if(d=u.config.globalProperties,gn(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;return o!==Dn&&gn(o,e)?(o[e]=n,!0):r!==Dn&&gn(r,e)?(r[e]=n,!0):gn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||t!==Dn&&gn(t,s)||e!==Dn&&gn(e,s)||(a=i[0])&&gn(a,s)||gn(r,s)||gn(Ld,s)||gn(o.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:gn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let om=!0;function pN(t){const e=W$(t),n=t.proxy,r=t.ctx;om=!1,e.beforeCreate&&Y1(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:u,inject:l,created:f,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:k,renderTracked:$,renderTriggered:A,errorCaptured:P,serverPrefetch:_,expose:T,inheritAttrs:C,components:R,directives:S,filters:j}=e;if(l&&vN(l,r,null,t.appContext.config.unwrapInjectedRef),s)for(const F in s){const K=s[F];Xt(K)&&(r[F]=K.bind(n))}if(o){const F=o.call(n,n);mr(F)&&(t.data=ll(F))}if(om=!0,i)for(const F in i){const K=i[F],D=Xt(K)?K.bind(n,n):Xt(K.get)?K.get.bind(n,n):ki,I=!Xt(K)&&Xt(K.set)?K.set.bind(n):ki,W=_n({get:D,set:I});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>W.value,set:H=>W.value=H})}if(a)for(const F in a)H$(a[F],r,n,F);if(u){const F=Xt(u)?u.call(n):u;Reflect.ownKeys(F).forEach(K=>{Z9(K,F[K])})}f&&Y1(f,t,"c");function Y(F,K){Bt(K)?K.forEach(D=>F(D.bind(n))):K&&F(K.bind(n))}if(Y(iN,c),Y(Hh,d),Y(sN,h),Y(z$,p),Y(nN,v),Y(rN,g),Y(cN,P),Y(lN,$),Y(uN,A),Y(F$,y),Y(h0,w),Y(aN,_),Bt(T))if(T.length){const F=t.exposed||(t.exposed={});T.forEach(K=>{Object.defineProperty(F,K,{get:()=>n[K],set:D=>n[K]=D})})}else t.exposed||(t.exposed={});k&&t.render===ki&&(t.render=k),C!=null&&(t.inheritAttrs=C),R&&(t.components=R),S&&(t.directives=S)}function vN(t,e,n=ki,r=!1){Bt(t)&&(t=im(t));for(const o in t){const i=t[o];let s;mr(i)?"default"in i?s=hd(i.from||o,i.default,!0):s=hd(i.from||o):s=hd(i),dr(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function Y1(t,e,n){Zo(Bt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function H$(t,e,n,r){const o=r.includes(".")?N$(n,r):()=>n[r];if(Er(t)){const i=e[t];Xt(i)&&ec(o,i)}else if(Xt(t))ec(o,t.bind(n));else if(mr(t))if(Bt(t))t.forEach(i=>H$(i,e,n,r));else{const i=Xt(t.handler)?t.handler.bind(n):e[t.handler];Xt(i)&&ec(o,i,t)}}function W$(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let u;return a?u=a:!o.length&&!n&&!r?u=e:(u={},o.length&&o.forEach(l=>Rd(u,l,s,!0)),Rd(u,e,s)),i.set(e,u),u}function Rd(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&Rd(t,i,n,!0),o&&o.forEach(s=>Rd(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=mN[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const mN={data:X1,props:Ia,emits:Ia,methods:Ia,computed:Ia,beforeCreate:to,created:to,beforeMount:to,mounted:to,beforeUpdate:to,updated:to,beforeDestroy:to,beforeUnmount:to,destroyed:to,unmounted:to,activated:to,deactivated:to,errorCaptured:to,serverPrefetch:to,components:Ia,directives:Ia,watch:yN,provide:X1,inject:gN};function X1(t,e){return e?t?function(){return Ar(Xt(t)?t.call(this,this):t,Xt(e)?e.call(this,this):e)}:e:t}function gN(t,e){return Ia(im(t),im(e))}function im(t){if(Bt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function to(t,e){return t?[...new Set([].concat(t,e))]:e}function Ia(t,e){return t?Ar(Ar(Object.create(null),t),e):e}function yN(t,e){if(!t)return e;if(!e)return t;const n=Ar(Object.create(null),t);for(const r in e)n[r]=to(t[r],e[r]);return n}function bN(t,e,n,r=!1){const o={},i={};Td(i,Wh,1),t.propsDefaults=Object.create(null),U$(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=r?o:T9(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function wN(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=xn(o),[u]=t.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(Fh(t.emitsOptions,d))continue;const h=e[d];if(u)if(gn(i,d))h!==i[d]&&(i[d]=h,l=!0);else{const p=ns(d);o[p]=sm(u,a,p,h,t,!1)}else h!==i[d]&&(i[d]=h,l=!0)}}}else{U$(t,e,o,i)&&(l=!0);let f;for(const c in a)(!e||!gn(e,c)&&((f=sl(c))===c||!gn(e,f)))&&(u?n&&(n[c]!==void 0||n[f]!==void 0)&&(o[c]=sm(u,a,c,void 0,t,!0)):delete o[c]);if(i!==a)for(const c in i)(!e||!gn(e,c)&&!0)&&(delete i[c],l=!0)}l&&js(t,"set","$attrs")}function U$(t,e,n,r){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let u in e){if(fd(u))continue;const l=e[u];let f;o&&gn(o,f=ns(u))?!i||!i.includes(f)?n[f]=l:(a||(a={}))[f]=l:Fh(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,s=!0)}if(i){const u=xn(n),l=a||Dn;for(let f=0;f<i.length;f++){const c=i[f];n[c]=sm(o,u,c,l[c],t,!gn(l,c))}}return s}function sm(t,e,n,r,o,i){const s=t[n];if(s!=null){const a=gn(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&Xt(u)){const{propsDefaults:l}=o;n in l?r=l[n]:(Hu(o),r=l[n]=u.call(null,e),Qa())}else r=u}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===sl(n))&&(r=!0))}return r}function J$(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const i=t.props,s={},a=[];let u=!1;if(!Xt(t)){const f=c=>{u=!0;const[d,h]=J$(c,e,!0);Ar(s,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!u)return r.set(t,Iu),Iu;if(Bt(i))for(let f=0;f<i.length;f++){const c=ns(i[f]);Z1(c)&&(s[c]=Dn)}else if(i)for(const f in i){const c=ns(f);if(Z1(c)){const d=i[f],h=s[c]=Bt(d)||Xt(d)?{type:d}:d;if(h){const p=nb(Boolean,h.type),v=nb(String,h.type);h[0]=p>-1,h[1]=v<0||p<v,(p>-1||gn(h,"default"))&&a.push(c)}}}const l=[s,a];return r.set(t,l),l}function Z1(t){return t[0]!=="$"}function eb(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function tb(t,e){return eb(t)===eb(e)}function nb(t,e){return Bt(e)?e.findIndex(n=>tb(n,t)):Xt(e)&&tb(e,t)?0:-1}const K$=t=>t[0]==="_"||t==="$stable",v0=t=>Bt(t)?t.map(Fi):[Fi(t)],kN=(t,e,n)=>{if(e._n)return e;const r=cr((...o)=>v0(e(...o)),n);return r._c=!1,r},G$=(t,e,n)=>{const r=t._ctx;for(const o in t){if(K$(o))continue;const i=t[o];if(Xt(i))e[o]=kN(o,i,r);else if(i!=null){const s=v0(i);e[o]=()=>s}}},Q$=(t,e)=>{const n=v0(e);t.slots.default=()=>n},xN=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=xn(e),Td(e,"_",n)):G$(e,t.slots={})}else t.slots={},e&&Q$(t,e);Td(t.slots,Wh,1)},jN=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,s=Dn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Ar(o,e),!n&&a===1&&delete o._):(i=!e.$stable,G$(e,o)),s=e}else e&&(Q$(t,e),s={default:1});if(i)for(const a in o)!K$(a)&&!(a in s)&&delete o[a]};function Y$(){return{app:null,config:{isNativeTag:ZI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _N=0;function SN(t,e){return function(r,o=null){Xt(r)||(r=Object.assign({},r)),o!=null&&!mr(o)&&(o=null);const i=Y$(),s=new Set;let a=!1;const u=i.app={_uid:_N++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:HN,get config(){return i.config},set config(l){},use(l,...f){return s.has(l)||(l&&Xt(l.install)?(s.add(l),l.install(u,...f)):Xt(l)&&(s.add(l),l(u,...f))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,f){return f?(i.components[l]=f,u):i.components[l]},directive(l,f){return f?(i.directives[l]=f,u):i.directives[l]},mount(l,f,c){if(!a){const d=rr(r,o);return d.appContext=i,f&&e?e(d,l):t(d,l,c),a=!0,u._container=l,l.__vue_app__=u,Jh(d.component)||d.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return i.provides[l]=f,u}};return u}}function am(t,e,n,r,o=!1){if(Bt(t)){t.forEach((d,h)=>am(d,e&&(Bt(e)?e[h]:e),n,r,o));return}if(tc(r)&&!o)return;const i=r.shapeFlag&4?Jh(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:u}=t,l=e&&e.r,f=a.refs===Dn?a.refs={}:a.refs,c=a.setupState;if(l!=null&&l!==u&&(Er(l)?(f[l]=null,gn(c,l)&&(c[l]=null)):dr(l)&&(l.value=null)),Xt(u))ta(u,a,12,[s,f]);else{const d=Er(u),h=dr(u);if(d||h){const p=()=>{if(t.f){const v=d?f[u]:u.value;o?Bt(v)&&t0(v,i):Bt(v)?v.includes(i)||v.push(i):d?(f[u]=[i],gn(c,u)&&(c[u]=f[u])):(u.value=[i],t.k&&(f[t.k]=u.value))}else d?(f[u]=s,gn(c,u)&&(c[u]=s)):h&&(u.value=s,t.k&&(f[t.k]=s))};s?(p.id=-1,po(p,n)):p()}}}const po=X9;function CN(t){return $N(t)}function $N(t,e){const n=i9();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:u,setText:l,setElementText:f,parentNode:c,nextSibling:d,setScopeId:h=ki,cloneNode:p,insertStaticContent:v}=t,g=(M,B,Z,le=null,ee=null,V=null,Ee=!1,Ce=null,_e=!!B.dynamicChildren)=>{if(M===B)return;M&&!La(M,B)&&(le=ue(M),z(M,ee,V,!0),M=null),B.patchFlag===-2&&(_e=!1,B.dynamicChildren=null);const{type:pe,ref:ce,shapeFlag:ke}=B;switch(pe){case m0:m(M,B,Z,le);break;case ei:y(M,B,Z,le);break;case Up:M==null&&b(B,Z,le,Ee);break;case An:S(M,B,Z,le,ee,V,Ee,Ce,_e);break;default:ke&1?$(M,B,Z,le,ee,V,Ee,Ce,_e):ke&6?j(M,B,Z,le,ee,V,Ee,Ce,_e):(ke&64||ke&128)&&pe.process(M,B,Z,le,ee,V,Ee,Ce,_e,$e)}ce!=null&&ee&&am(ce,M&&M.ref,V,B||M,!B)},m=(M,B,Z,le)=>{if(M==null)r(B.el=a(B.children),Z,le);else{const ee=B.el=M.el;B.children!==M.children&&l(ee,B.children)}},y=(M,B,Z,le)=>{M==null?r(B.el=u(B.children||""),Z,le):B.el=M.el},b=(M,B,Z,le)=>{[M.el,M.anchor]=v(M.children,B,Z,le,M.el,M.anchor)},w=({el:M,anchor:B},Z,le)=>{let ee;for(;M&&M!==B;)ee=d(M),r(M,Z,le),M=ee;r(B,Z,le)},k=({el:M,anchor:B})=>{let Z;for(;M&&M!==B;)Z=d(M),o(M),M=Z;o(B)},$=(M,B,Z,le,ee,V,Ee,Ce,_e)=>{Ee=Ee||B.type==="svg",M==null?A(B,Z,le,ee,V,Ee,Ce,_e):T(M,B,ee,V,Ee,Ce,_e)},A=(M,B,Z,le,ee,V,Ee,Ce)=>{let _e,pe;const{type:ce,props:ke,shapeFlag:Oe,transition:fe,patchFlag:Pe,dirs:Ve}=M;if(M.el&&p!==void 0&&Pe===-1)_e=M.el=p(M.el);else{if(_e=M.el=s(M.type,V,ke&&ke.is,ke),Oe&8?f(_e,M.children):Oe&16&&_(M.children,_e,null,le,ee,V&&ce!=="foreignObject",Ee,Ce),Ve&&Aa(M,null,le,"created"),ke){for(const vt in ke)vt!=="value"&&!fd(vt)&&i(_e,vt,null,ke[vt],V,M.children,le,ee,G);"value"in ke&&i(_e,"value",null,ke.value),(pe=ke.onVnodeBeforeMount)&&Ti(pe,le,M)}P(_e,M,M.scopeId,Ee,le)}Ve&&Aa(M,null,le,"beforeMount");const et=(!ee||ee&&!ee.pendingBranch)&&fe&&!fe.persisted;et&&fe.beforeEnter(_e),r(_e,B,Z),((pe=ke&&ke.onVnodeMounted)||et||Ve)&&po(()=>{pe&&Ti(pe,le,M),et&&fe.enter(_e),Ve&&Aa(M,null,le,"mounted")},ee)},P=(M,B,Z,le,ee)=>{if(Z&&h(M,Z),le)for(let V=0;V<le.length;V++)h(M,le[V]);if(ee){let V=ee.subTree;if(B===V){const Ee=ee.vnode;P(M,Ee,Ee.scopeId,Ee.slotScopeIds,ee.parent)}}},_=(M,B,Z,le,ee,V,Ee,Ce,_e=0)=>{for(let pe=_e;pe<M.length;pe++){const ce=M[pe]=Ce?Ws(M[pe]):Fi(M[pe]);g(null,ce,B,Z,le,ee,V,Ee,Ce)}},T=(M,B,Z,le,ee,V,Ee)=>{const Ce=B.el=M.el;let{patchFlag:_e,dynamicChildren:pe,dirs:ce}=B;_e|=M.patchFlag&16;const ke=M.props||Dn,Oe=B.props||Dn;let fe;Z&&Ea(Z,!1),(fe=Oe.onVnodeBeforeUpdate)&&Ti(fe,Z,B,M),ce&&Aa(B,M,Z,"beforeUpdate"),Z&&Ea(Z,!0);const Pe=ee&&B.type!=="foreignObject";if(pe?C(M.dynamicChildren,pe,Ce,Z,le,Pe,V):Ee||D(M,B,Ce,null,Z,le,Pe,V,!1),_e>0){if(_e&16)R(Ce,B,ke,Oe,Z,le,ee);else if(_e&2&&ke.class!==Oe.class&&i(Ce,"class",null,Oe.class,ee),_e&4&&i(Ce,"style",ke.style,Oe.style,ee),_e&8){const Ve=B.dynamicProps;for(let et=0;et<Ve.length;et++){const vt=Ve[et],Lt=ke[vt],wn=Oe[vt];(wn!==Lt||vt==="value")&&i(Ce,vt,Lt,wn,ee,M.children,Z,le,G)}}_e&1&&M.children!==B.children&&f(Ce,B.children)}else!Ee&&pe==null&&R(Ce,B,ke,Oe,Z,le,ee);((fe=Oe.onVnodeUpdated)||ce)&&po(()=>{fe&&Ti(fe,Z,B,M),ce&&Aa(B,M,Z,"updated")},le)},C=(M,B,Z,le,ee,V,Ee)=>{for(let Ce=0;Ce<B.length;Ce++){const _e=M[Ce],pe=B[Ce],ce=_e.el&&(_e.type===An||!La(_e,pe)||_e.shapeFlag&70)?c(_e.el):Z;g(_e,pe,ce,null,le,ee,V,Ee,!0)}},R=(M,B,Z,le,ee,V,Ee)=>{if(Z!==le){for(const Ce in le){if(fd(Ce))continue;const _e=le[Ce],pe=Z[Ce];_e!==pe&&Ce!=="value"&&i(M,Ce,pe,_e,Ee,B.children,ee,V,G)}if(Z!==Dn)for(const Ce in Z)!fd(Ce)&&!(Ce in le)&&i(M,Ce,Z[Ce],null,Ee,B.children,ee,V,G);"value"in le&&i(M,"value",Z.value,le.value)}},S=(M,B,Z,le,ee,V,Ee,Ce,_e)=>{const pe=B.el=M?M.el:a(""),ce=B.anchor=M?M.anchor:a("");let{patchFlag:ke,dynamicChildren:Oe,slotScopeIds:fe}=B;fe&&(Ce=Ce?Ce.concat(fe):fe),M==null?(r(pe,Z,le),r(ce,Z,le),_(B.children,Z,ce,ee,V,Ee,Ce,_e)):ke>0&&ke&64&&Oe&&M.dynamicChildren?(C(M.dynamicChildren,Oe,Z,ee,V,Ee,Ce),(B.key!=null||ee&&B===ee.subTree)&&X$(M,B,!0)):D(M,B,Z,ce,ee,V,Ee,Ce,_e)},j=(M,B,Z,le,ee,V,Ee,Ce,_e)=>{B.slotScopeIds=Ce,M==null?B.shapeFlag&512?ee.ctx.activate(B,Z,le,Ee,_e):q(B,Z,le,ee,V,Ee,_e):Y(M,B,_e)},q=(M,B,Z,le,ee,V,Ee)=>{const Ce=M.component=LN(M,le,ee);if(qh(M)&&(Ce.ctx.renderer=$e),RN(Ce),Ce.asyncDep){if(ee&&ee.registerDep(Ce,F),!M.el){const _e=Ce.subTree=rr(ei);y(null,_e,B,Z)}return}F(Ce,M,B,Z,ee,V,Ee)},Y=(M,B,Z)=>{const le=B.component=M.component;if(G9(M,B,Z))if(le.asyncDep&&!le.asyncResolved){K(le,B,Z);return}else le.next=B,V9(le.update),le.update();else B.el=M.el,le.vnode=B},F=(M,B,Z,le,ee,V,Ee)=>{const Ce=()=>{if(M.isMounted){let{next:ce,bu:ke,u:Oe,parent:fe,vnode:Pe}=M,Ve=ce,et;Ea(M,!1),ce?(ce.el=Pe.el,K(M,ce,Ee)):ce=Pe,ke&&dd(ke),(et=ce.props&&ce.props.onVnodeBeforeUpdate)&&Ti(et,fe,ce,Pe),Ea(M,!0);const vt=Vp(M),Lt=M.subTree;M.subTree=vt,g(Lt,vt,c(Lt.el),ue(Lt),M,ee,V),ce.el=vt.el,Ve===null&&Q9(M,vt.el),Oe&&po(Oe,ee),(et=ce.props&&ce.props.onVnodeUpdated)&&po(()=>Ti(et,fe,ce,Pe),ee)}else{let ce;const{el:ke,props:Oe}=B,{bm:fe,m:Pe,parent:Ve}=M,et=tc(B);if(Ea(M,!1),fe&&dd(fe),!et&&(ce=Oe&&Oe.onVnodeBeforeMount)&&Ti(ce,Ve,B),Ea(M,!0),ke&&Q){const vt=()=>{M.subTree=Vp(M),Q(ke,M.subTree,M,ee,null)};et?B.type.__asyncLoader().then(()=>!M.isUnmounted&&vt()):vt()}else{const vt=M.subTree=Vp(M);g(null,vt,Z,le,M,ee,V),B.el=vt.el}if(Pe&&po(Pe,ee),!et&&(ce=Oe&&Oe.onVnodeMounted)){const vt=B;po(()=>Ti(ce,Ve,vt),ee)}(B.shapeFlag&256||Ve&&tc(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&M.a&&po(M.a,ee),M.isMounted=!0,B=Z=le=null}},_e=M.effect=new i0(Ce,()=>$$(pe),M.scope),pe=M.update=()=>_e.run();pe.id=M.uid,Ea(M,!0),pe()},K=(M,B,Z)=>{B.component=M;const le=M.vnode.props;M.vnode=B,M.next=null,wN(M,B.props,le,Z),jN(M,B.children,Z),al(),zh(void 0,M.update),ul()},D=(M,B,Z,le,ee,V,Ee,Ce,_e=!1)=>{const pe=M&&M.children,ce=M?M.shapeFlag:0,ke=B.children,{patchFlag:Oe,shapeFlag:fe}=B;if(Oe>0){if(Oe&128){W(pe,ke,Z,le,ee,V,Ee,Ce,_e);return}else if(Oe&256){I(pe,ke,Z,le,ee,V,Ee,Ce,_e);return}}fe&8?(ce&16&&G(pe,ee,V),ke!==pe&&f(Z,ke)):ce&16?fe&16?W(pe,ke,Z,le,ee,V,Ee,Ce,_e):G(pe,ee,V,!0):(ce&8&&f(Z,""),fe&16&&_(ke,Z,le,ee,V,Ee,Ce,_e))},I=(M,B,Z,le,ee,V,Ee,Ce,_e)=>{M=M||Iu,B=B||Iu;const pe=M.length,ce=B.length,ke=Math.min(pe,ce);let Oe;for(Oe=0;Oe<ke;Oe++){const fe=B[Oe]=_e?Ws(B[Oe]):Fi(B[Oe]);g(M[Oe],fe,Z,null,ee,V,Ee,Ce,_e)}pe>ce?G(M,ee,V,!0,!1,ke):_(B,Z,le,ee,V,Ee,Ce,_e,ke)},W=(M,B,Z,le,ee,V,Ee,Ce,_e)=>{let pe=0;const ce=B.length;let ke=M.length-1,Oe=ce-1;for(;pe<=ke&&pe<=Oe;){const fe=M[pe],Pe=B[pe]=_e?Ws(B[pe]):Fi(B[pe]);if(La(fe,Pe))g(fe,Pe,Z,null,ee,V,Ee,Ce,_e);else break;pe++}for(;pe<=ke&&pe<=Oe;){const fe=M[ke],Pe=B[Oe]=_e?Ws(B[Oe]):Fi(B[Oe]);if(La(fe,Pe))g(fe,Pe,Z,null,ee,V,Ee,Ce,_e);else break;ke--,Oe--}if(pe>ke){if(pe<=Oe){const fe=Oe+1,Pe=fe<ce?B[fe].el:le;for(;pe<=Oe;)g(null,B[pe]=_e?Ws(B[pe]):Fi(B[pe]),Z,Pe,ee,V,Ee,Ce,_e),pe++}}else if(pe>Oe)for(;pe<=ke;)z(M[pe],ee,V,!0),pe++;else{const fe=pe,Pe=pe,Ve=new Map;for(pe=Pe;pe<=Oe;pe++){const be=B[pe]=_e?Ws(B[pe]):Fi(B[pe]);be.key!=null&&Ve.set(be.key,pe)}let et,vt=0;const Lt=Oe-Pe+1;let wn=!1,ne=0;const de=new Array(Lt);for(pe=0;pe<Lt;pe++)de[pe]=0;for(pe=fe;pe<=ke;pe++){const be=M[pe];if(vt>=Lt){z(be,ee,V,!0);continue}let Te;if(be.key!=null)Te=Ve.get(be.key);else for(et=Pe;et<=Oe;et++)if(de[et-Pe]===0&&La(be,B[et])){Te=et;break}Te===void 0?z(be,ee,V,!0):(de[Te-Pe]=pe+1,Te>=ne?ne=Te:wn=!0,g(be,B[Te],Z,null,ee,V,Ee,Ce,_e),vt++)}const ve=wn?ON(de):Iu;for(et=ve.length-1,pe=Lt-1;pe>=0;pe--){const be=Pe+pe,Te=B[be],we=be+1<ce?B[be+1].el:le;de[pe]===0?g(null,Te,Z,we,ee,V,Ee,Ce,_e):wn&&(et<0||pe!==ve[et]?H(Te,Z,we,2):et--)}}},H=(M,B,Z,le,ee=null)=>{const{el:V,type:Ee,transition:Ce,children:_e,shapeFlag:pe}=M;if(pe&6){H(M.component.subTree,B,Z,le);return}if(pe&128){M.suspense.move(B,Z,le);return}if(pe&64){Ee.move(M,B,Z,$e);return}if(Ee===An){r(V,B,Z);for(let ke=0;ke<_e.length;ke++)H(_e[ke],B,Z,le);r(M.anchor,B,Z);return}if(Ee===Up){w(M,B,Z);return}if(le!==2&&pe&1&&Ce)if(le===0)Ce.beforeEnter(V),r(V,B,Z),po(()=>Ce.enter(V),ee);else{const{leave:ke,delayLeave:Oe,afterLeave:fe}=Ce,Pe=()=>r(V,B,Z),Ve=()=>{ke(V,()=>{Pe(),fe&&fe()})};Oe?Oe(V,Pe,Ve):Ve()}else r(V,B,Z)},z=(M,B,Z,le=!1,ee=!1)=>{const{type:V,props:Ee,ref:Ce,children:_e,dynamicChildren:pe,shapeFlag:ce,patchFlag:ke,dirs:Oe}=M;if(Ce!=null&&am(Ce,null,Z,M,!0),ce&256){B.ctx.deactivate(M);return}const fe=ce&1&&Oe,Pe=!tc(M);let Ve;if(Pe&&(Ve=Ee&&Ee.onVnodeBeforeUnmount)&&Ti(Ve,B,M),ce&6)N(M.component,Z,le);else{if(ce&128){M.suspense.unmount(Z,le);return}fe&&Aa(M,null,B,"beforeUnmount"),ce&64?M.type.remove(M,B,Z,ee,$e,le):pe&&(V!==An||ke>0&&ke&64)?G(pe,B,Z,!1,!0):(V===An&&ke&384||!ee&&ce&16)&&G(_e,B,Z),le&&O(M)}(Pe&&(Ve=Ee&&Ee.onVnodeUnmounted)||fe)&&po(()=>{Ve&&Ti(Ve,B,M),fe&&Aa(M,null,B,"unmounted")},Z)},O=M=>{const{type:B,el:Z,anchor:le,transition:ee}=M;if(B===An){x(Z,le);return}if(B===Up){k(M);return}const V=()=>{o(Z),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(M.shapeFlag&1&&ee&&!ee.persisted){const{leave:Ee,delayLeave:Ce}=ee,_e=()=>Ee(Z,V);Ce?Ce(M.el,V,_e):_e()}else V()},x=(M,B)=>{let Z;for(;M!==B;)Z=d(M),o(M),M=Z;o(B)},N=(M,B,Z)=>{const{bum:le,scope:ee,update:V,subTree:Ee,um:Ce}=M;le&&dd(le),ee.stop(),V&&(V.active=!1,z(Ee,M,B,Z)),Ce&&po(Ce,B),po(()=>{M.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},G=(M,B,Z,le=!1,ee=!1,V=0)=>{for(let Ee=V;Ee<M.length;Ee++)z(M[Ee],B,Z,le,ee)},ue=M=>M.shapeFlag&6?ue(M.component.subTree):M.shapeFlag&128?M.suspense.next():d(M.anchor||M.el),xe=(M,B,Z)=>{M==null?B._vnode&&z(B._vnode,null,null,!0):g(B._vnode||null,M,B,null,null,null,Z),E$(),B._vnode=M},$e={p:g,um:z,m:H,r:O,mt:q,mc:_,pc:D,pbc:C,n:ue,o:t};let L,Q;return e&&([L,Q]=e($e)),{render:xe,hydrate:L,createApp:SN(xe,L)}}function Ea({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function X$(t,e,n=!1){const r=t.children,o=e.children;if(Bt(r)&&Bt(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Ws(o[i]),a.el=s.el),n||X$(s,a))}}function ON(t){const e=t.slice(),n=[0];let r,o,i,s,a;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(o=n[n.length-1],t[o]<l){e[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<l?i=a+1:s=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}const AN=t=>t.__isTeleport,An=Symbol(void 0),m0=Symbol(void 0),ei=Symbol(void 0),Up=Symbol(void 0),nc=[];let gi=null;function Ye(t=!1){nc.push(gi=t?null:[])}function EN(){nc.pop(),gi=nc[nc.length-1]||null}let bc=1;function rb(t){bc+=t}function Z$(t){return t.dynamicChildren=bc>0?gi||Iu:null,EN(),bc>0&&gi&&gi.push(t),t}function ft(t,e,n,r,o,i){return Z$(ze(t,e,n,r,o,i,!0))}function nr(t,e,n,r,o){return Z$(rr(t,e,n,r,o,!0))}function Dd(t){return t?t.__v_isVNode===!0:!1}function La(t,e){return t.type===e.type&&t.key===e.key}const Wh="__vInternal",eO=({key:t})=>t!=null?t:null,pd=({ref:t,ref_key:e,ref_for:n})=>t!=null?Er(t)||dr(t)||Xt(t)?{i:Kr,r:t,k:e,f:!!n}:t:null;function ze(t,e=null,n=null,r=0,o=null,i=t===An?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&eO(e),ref:e&&pd(e),scopeId:M$,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(g0(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Er(n)?8:16),bc>0&&!s&&gi&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&gi.push(u),u}const rr=PN;function PN(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===fN)&&(t=ei),Dd(t)){const a=aa(t,e,!0);return n&&g0(a,n),bc>0&&!i&&gi&&(a.shapeFlag&6?gi[gi.indexOf(t)]=a:gi.push(a)),a.patchFlag|=-2,a}if(qN(t)&&(t=t.__vccOpts),e){e=TN(e);let{class:a,style:u}=e;a&&!Er(a)&&(e.class=xs(a)),mr(u)&&(k$(u)&&!Bt(u)&&(u=Ar({},u)),e.style=Qn(u))}const s=Er(t)?1:Y9(t)?128:AN(t)?64:mr(t)?4:Xt(t)?2:0;return ze(t,e,n,r,o,s,i,!0)}function TN(t){return t?k$(t)||Wh in t?Ar({},t):t:null}function aa(t,e,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=t,a=e?MN(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&eO(a),ref:e&&e.ref?n&&o?Bt(o)?o.concat(pd(e)):[o,pd(e)]:pd(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==An?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&aa(t.ssContent),ssFallback:t.ssFallback&&aa(t.ssFallback),el:t.el,anchor:t.anchor}}function ws(t=" ",e=0){return rr(m0,null,t,e)}function fr(t="",e=!1){return e?(Ye(),nr(ei,null,t)):rr(ei,null,t)}function Fi(t){return t==null||typeof t=="boolean"?rr(ei):Bt(t)?rr(An,null,t.slice()):typeof t=="object"?Ws(t):rr(m0,null,String(t))}function Ws(t){return t.el===null||t.memo?t:aa(t)}function g0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Bt(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),g0(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Wh in e)?e._ctx=Kr:o===3&&Kr&&(Kr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Xt(e)?(e={default:e,_ctx:Kr},n=32):(e=String(e),r&64?(n=16,e=[ws(e)]):n=8);t.children=e,t.shapeFlag|=n}function MN(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=xs([e.class,r.class]));else if(o==="style")e.style=Qn([e.style,r.style]);else if(Ih(o)){const i=e[o],s=r[o];s&&i!==s&&!(Bt(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function Ti(t,e,n,r=null){Zo(t,e,7,[n,r])}const IN=Y$();let NN=0;function LN(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||IN,i={uid:NN++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new l$(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:J$(r,o),emitsOptions:T$(r,o),emit:null,emitted:null,propsDefaults:Dn,inheritAttrs:r.inheritAttrs,ctx:Dn,data:Dn,props:Dn,attrs:Dn,slots:Dn,refs:Dn,setupState:Dn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=U9.bind(null,i),t.ce&&t.ce(i),i}let Cr=null;const Uh=()=>Cr||Kr,Hu=t=>{Cr=t,t.scope.on()},Qa=()=>{Cr&&Cr.scope.off(),Cr=null};function tO(t){return t.vnode.shapeFlag&4}let wc=!1;function RN(t,e=!1){wc=e;const{props:n,children:r}=t.vnode,o=tO(t);bN(t,n,o,e),xN(t,r);const i=o?DN(t,e):void 0;return wc=!1,i}function DN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Vu(new Proxy(t.ctx,hN));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?zN(t):null;Hu(t),al();const i=ta(r,t,0,[t.props,o]);if(ul(),Qa(),s$(i)){if(i.then(Qa,Qa),e)return i.then(s=>{ob(t,s,e)}).catch(s=>{Bh(s,t,0)});t.asyncDep=i}else ob(t,i,e)}else nO(t,e)}function ob(t,e,n){Xt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mr(e)&&(t.setupState=_$(e)),nO(t,n)}let ib;function nO(t,e,n){const r=t.type;if(!t.render){if(!e&&ib&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Ar(Ar({isCustomElement:i,delimiters:a},s),u);r.render=ib(o,l)}}t.render=r.render||ki}Hu(t),al(),pN(t),ul(),Qa()}function BN(t){return new Proxy(t.attrs,{get(e,n){return Lo(t,"get","$attrs"),e[n]}})}function zN(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=BN(t))},slots:t.slots,emit:t.emit,expose:e}}function Jh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(_$(Vu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ld)return Ld[n](t)}}))}function FN(t,e=!0){return Xt(t)?t.displayName||t.name:t.name||e&&t.__name}function qN(t){return Xt(t)&&"__vccOpts"in t}const _n=(t,e)=>z9(t,e,wc);function VN(t,e,n){const r=arguments.length;return r===2?mr(e)&&!Bt(e)?Dd(e)?rr(t,null,[e]):rr(t,e):rr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Dd(n)&&(n=[n]),rr(t,e,n))}const HN="3.2.37",WN="http://www.w3.org/2000/svg",Ra=typeof document<"u"?document:null,sb=Ra&&Ra.createElement("template"),UN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?Ra.createElementNS(WN,t):Ra.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>Ra.createTextNode(t),createComment:t=>Ra.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ra.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,o,i){const s=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{sb.innerHTML=r?`<svg>${t}</svg>`:t;const a=sb.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function JN(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function KN(t,e,n){const r=t.style,o=Er(n);if(n&&!o){for(const i in n)um(r,i,n[i]);if(e&&!Er(e))for(const i in e)n[i]==null&&um(r,i,"")}else{const i=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const ab=/\s*!important$/;function um(t,e,n){if(Bt(n))n.forEach(r=>um(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=GN(t,e);ab.test(n)?t.setProperty(sl(r),n.replace(ab,""),"important"):t[r]=n}}const ub=["Webkit","Moz","ms"],Jp={};function GN(t,e){const n=Jp[e];if(n)return n;let r=ns(e);if(r!=="filter"&&r in t)return Jp[e]=r;r=Rh(r);for(let o=0;o<ub.length;o++){const i=ub[o]+r;if(i in t)return Jp[e]=i}return e}const lb="http://www.w3.org/1999/xlink";function QN(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(lb,e.slice(6,e.length)):t.setAttributeNS(lb,e,n);else{const i=GI(e);n==null||i&&!r$(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function YN(t,e,n,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const u=n==null?"":n;(t.value!==u||t.tagName==="OPTION")&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=r$(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[rO,XN]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let lm=0;const ZN=Promise.resolve(),eL=()=>{lm=0},tL=()=>lm||(ZN.then(eL),lm=rO());function xu(t,e,n,r){t.addEventListener(e,n,r)}function nL(t,e,n,r){t.removeEventListener(e,n,r)}function rL(t,e,n,r,o=null){const i=t._vei||(t._vei={}),s=i[e];if(r&&s)s.value=r;else{const[a,u]=oL(e);if(r){const l=i[e]=iL(r,o);xu(t,a,l,u)}else s&&(nL(t,a,s,u),i[e]=void 0)}}const cb=/(?:Once|Passive|Capture)$/;function oL(t){let e;if(cb.test(t)){e={};let n;for(;n=t.match(cb);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[sl(t.slice(2)),e]}function iL(t,e){const n=r=>{const o=r.timeStamp||rO();(XN||o>=n.attached-1)&&Zo(sL(r,n.value),e,5,[r])};return n.value=t,n.attached=tL(),n}function sL(t,e){if(Bt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const fb=/^on[a-z]/,aL=(t,e,n,r,o=!1,i,s,a,u)=>{e==="class"?JN(t,r,o):e==="style"?KN(t,n,r):Ih(e)?e0(e)||rL(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uL(t,e,r,o))?YN(t,e,r,i,s,a,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),QN(t,e,r,o))};function uL(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&fb.test(e)&&Xt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||fb.test(e)&&Er(n)?!1:e in t}const Ds="transition",Tl="animation",Kh=(t,{slots:e})=>VN(R$,iO(t),e);Kh.displayName="Transition";const oO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},lL=Kh.props=Ar({},R$.props,oO),Pa=(t,e=[])=>{Bt(t)?t.forEach(n=>n(...e)):t&&t(...e)},db=t=>t?Bt(t)?t.some(e=>e.length>1):t.length>1:!1;function iO(t){const e={};for(const R in t)R in oO||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:l=s,appearToClass:f=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=cL(o),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:k,onBeforeAppear:$=m,onAppear:A=y,onAppearCancelled:P=b}=e,_=(R,S,j)=>{Hs(R,S?f:a),Hs(R,S?l:s),j&&j()},T=(R,S)=>{R._isLeaving=!1,Hs(R,c),Hs(R,h),Hs(R,d),S&&S()},C=R=>(S,j)=>{const q=R?A:y,Y=()=>_(S,R,j);Pa(q,[S,Y]),hb(()=>{Hs(S,R?u:i),cs(S,R?f:a),db(q)||pb(S,r,v,Y)})};return Ar(e,{onBeforeEnter(R){Pa(m,[R]),cs(R,i),cs(R,s)},onBeforeAppear(R){Pa($,[R]),cs(R,u),cs(R,l)},onEnter:C(!1),onAppear:C(!0),onLeave(R,S){R._isLeaving=!0;const j=()=>T(R,S);cs(R,c),aO(),cs(R,d),hb(()=>{!R._isLeaving||(Hs(R,c),cs(R,h),db(w)||pb(R,r,g,j))}),Pa(w,[R,j])},onEnterCancelled(R){_(R,!1),Pa(b,[R])},onAppearCancelled(R){_(R,!0),Pa(P,[R])},onLeaveCancelled(R){T(R),Pa(k,[R])}})}function cL(t){if(t==null)return null;if(mr(t))return[Kp(t.enter),Kp(t.leave)];{const e=Kp(t);return[e,e]}}function Kp(t){return Md(t)}function cs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Hs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function hb(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fL=0;function pb(t,e,n,r){const o=t._endId=++fL,i=()=>{o===t._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:u}=sO(t,e);if(!s)return r();const l=s+"end";let f=0;const c=()=>{t.removeEventListener(l,d),i()},d=h=>{h.target===t&&++f>=u&&c()};setTimeout(()=>{f<u&&c()},a+1),t.addEventListener(l,d)}function sO(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),o=r(Ds+"Delay"),i=r(Ds+"Duration"),s=vb(o,i),a=r(Tl+"Delay"),u=r(Tl+"Duration"),l=vb(a,u);let f=null,c=0,d=0;e===Ds?s>0&&(f=Ds,c=s,d=i.length):e===Tl?l>0&&(f=Tl,c=l,d=u.length):(c=Math.max(s,l),f=c>0?s>l?Ds:Tl:null,d=f?f===Ds?i.length:u.length:0);const h=f===Ds&&/\b(transform|all)(,|$)/.test(n[Ds+"Property"]);return{type:f,timeout:c,propCount:d,hasTransform:h}}function vb(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>mb(n)+mb(t[r])))}function mb(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function aO(){return document.body.offsetHeight}const uO=new WeakMap,lO=new WeakMap,dL={name:"TransitionGroup",props:Ar({},lL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Uh(),r=L$();let o,i;return z$(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!mL(o[0].el,n.vnode.el,s))return;o.forEach(hL),o.forEach(pL);const a=o.filter(vL);aO(),a.forEach(u=>{const l=u.el,f=l.style;cs(l,s),f.transform=f.webkitTransform=f.transitionDuration="";const c=l._moveCb=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",c),l._moveCb=null,Hs(l,s))};l.addEventListener("transitionend",c)})}),()=>{const s=xn(t),a=iO(s);let u=s.tag||An;o=i,i=e.default?d0(e.default()):[];for(let l=0;l<i.length;l++){const f=i[l];f.key!=null&&yc(f,gc(f,a,r,n))}if(o)for(let l=0;l<o.length;l++){const f=o[l];yc(f,gc(f,a,r,n)),uO.set(f,f.el.getBoundingClientRect())}return rr(u,null,i)}}},cO=dL;function hL(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function pL(t){lO.set(t,t.el.getBoundingClientRect())}function vL(t){const e=uO.get(t),n=lO.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",t}}function mL(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=sO(r);return o.removeChild(r),i}const gb=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Bt(e)?n=>dd(e,n):e};function gL(t){t.target.composing=!0}function yb(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const y0={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t._assign=gb(o);const i=r||o.props&&o.props.type==="number";xu(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Md(a)),t._assign(a)}),n&&xu(t,"change",()=>{t.value=t.value.trim()}),e||(xu(t,"compositionstart",gL),xu(t,"compositionend",yb),xu(t,"change",yb))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},i){if(t._assign=gb(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(o||t.type==="number")&&Md(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},yL=Ar({patchProp:aL},UN);let bb;function bL(){return bb||(bb=CN(yL))}const wL=(...t)=>{const e=bL().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=kL(r);if(!o)return;const i=e._component;!Xt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function kL(t){return Er(t)?document.querySelector(t):t}const fO=Qo([]),dO=Qo(null),hO=Qo(null),pO=Qo(null),Eo=ll({current:""}),cm=[],xL=Qo(!1),fm=su(fO),jL=su(dO),_L=su(hO),SL=su(pO),CL=su(Eo),wb=(t=jL.value)=>{Eo.current=t;const e=fm.value.findIndex(r=>r.name===t),n=fm.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const o=n[r]+"Minus",i=n[r]+"Plus";Eo[o]=e<=r,Eo[i]=e>=r}Eo[n[r]]=n[r]===t}},kb=(t=_L.value)=>{Eo.orientation=t,Eo.isLandscape=t==="landscape",Eo.isPortrait=t==="portrait"},xb=(t=SL.value||"light")=>{Eo.theme=t,Eo.isDark=t==="dark",Eo.isLight=t==="light"};function Gp(t,e){if(typeof window>"u"||!window.matchMedia)return!1;if(typeof window<"u"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{xL.value=!0;const n=window.matchMedia(t),r=({matches:o})=>{o&&e()};cm.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}var Qp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bootstrap5:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},bootstrap4:{xs:0,sm:576,md:768,lg:992,xl:1200},bootstrap3:{xs:0,sm:768,md:992,lg:1200},vuetify:{xs:0,sm:600,md:960,lg:1264,xl:1904},tailwind:{xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},devices:{phone:0,tablet:768,laptop:1370,desktop:1906}});const jb=t=>{if(!t||typeof t!="object")return!1;const e=[];for(let n in t){const r=parseFloat(t[n]);n&&typeof n=="string"?/^[^a-z]/i.test(n)||/[^a-zA-Z0-9_]/.test(n)?console.warn(`Vue3 Mq: "${n}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`):!r&&r!==0||isNaN(r)||r<0?console.warn(`Vue3 Mq: "${n}: ${t[n]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`):e.push({name:n,min:r}):console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(n)}). Skipping.`)}return e.some(n=>n.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(e.map(n=>n.min)).size<e.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),e.length!==0&&e.sort((n,r)=>n.min-r.min)};function _b({breakpoints:t,preset:e}){const n=(s=>{if(typeof s=="string"&&Qp[s])return Qp[s];{const a=Object.keys(Qp);return console.error(`Vue3 Mq: "${s}" is not a valid preset. Available options are: ${a.join(", ")}`),!1}})(e),r=jb(t);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");var o;o=r||jb(n),fO.value=o,function(){for(;cm.length>0;){const s=cm.shift();if(s&&typeof s=="object"){const{mql:a,cb:u}=s;a.addEventListener&&typeof a.addEventListener=="function"?a.removeEventListener("change",u):a.removeListener(u)}}}(),(()=>{const s=Object.keys(Eo);for(let a of s)delete Eo[a];wb(),kb(),xb()})();const i=fm.value.reduce((s,a,u,l)=>{const f=`(min-width: ${a.min}px)`,c=u<l.length-1?`(max-width: ${l[u+1].min-1}px)`:null,d=f+(c?" and "+c:"");return Object.assign(s,{[a.name]:d})},{});for(const s in i)Gp(i[s],()=>{wb(s)});["portrait","landscape"].forEach(s=>{Gp(`(orientation: ${s})`,()=>{kb(s)})}),["light","dark"].forEach(s=>{Gp(`(prefers-color-scheme: ${s})`,()=>{xb(s)})})}var $L={install:(t,{preset:e="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:o="landscape",defaultTheme:i}={})=>{try{const u=["landscape","portrait"].includes(a=o)===!1?(console.error(`Vue3 Mq: "${a}" is not a valid default orientation. Reverting to unset value.`),null):a,l=((f=null)=>["dark","light"].includes(f)===!1&&f!==null?(console.error(`Vue3 Mq: "${f}" is not a valid default theme. Reverting to unset value.`),null):f)(i);s=r,dO.value=s,(f=>{hO.value=f})(u),(f=>{pO.value=f})(l),t.provide("mq",CL),t.provide("updateBreakpoints",_b),_b({breakpoints:n,preset:e})}catch(u){console.error(u)}var s,a}};class vO{constructor(){Vo(this,"debug");Vo(this,"logger",{log:()=>{}})}setupDebugger(e){this.debug=e,e&&(this.logger.log=console.log.bind(window.console))}}const mO=new vO,xi=mO.logger;function b0(t,e){return Date.now()-t+e}function w0(t){const e=parseInt(t,10);let n=Math.floor(e/3600),r=Math.floor((e-n*3600)/60),o=e-n*3600-r*60;return n<10&&(n="0"+n),r<10&&(r="0"+r),o<10&&(o="0"+o),n+":"+r+":"+o}const OL=kr({props:{containerCssClass:String}}),xo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},AL={class:"modal-header"},EL=ws(" default header "),PL=ze("hr",{class:"solid"},null,-1),TL={class:"modal-body"},ML=ws(" default body "),IL={class:"modal-footer"};function NL(t,e,n,r,o,i){return Ye(),nr(Kh,{name:"modal"},{default:cr(()=>[ze("div",{class:"modal-mask",onClick:e[2]||(e[2]=s=>t.$emit("close"))},[ze("div",{class:xs(["modal-container bg-gray-800 card-4",t.containerCssClass]),onClick:e[1]||(e[1]=s=>s.stopPropagation())},[ze("div",AL,[ze("button",{class:"close-button",onClick:e[0]||(e[0]=s=>t.$emit("close"))},"X"),Wp(t.$slots,"header",{},()=>[EL]),PL]),ze("div",TL,[Wp(t.$slots,"body",{},()=>[ML])]),ze("div",IL,[Wp(t.$slots,"footer")])],2)])]),_:3})}const cl=xo(OL,[["render",NL]]);function _s(t){return Array.isArray?Array.isArray(t):bO(t)==="[object Array]"}const LL=1/0;function RL(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-LL?"-0":e}function DL(t){return t==null?"":RL(t)}function Hi(t){return typeof t=="string"}function gO(t){return typeof t=="number"}function BL(t){return t===!0||t===!1||zL(t)&&bO(t)=="[object Boolean]"}function yO(t){return typeof t=="object"}function zL(t){return yO(t)&&t!==null}function Co(t){return t!=null}function Yp(t){return!t.trim().length}function bO(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const FL="Incorrect 'index' type",qL=t=>`Invalid value for key ${t}`,VL=t=>`Pattern length exceeds max of ${t}.`,HL=t=>`Missing ${t} property in key`,WL=t=>`Property 'weight' in key '${t}' must be a positive integer`,Sb=Object.prototype.hasOwnProperty;class UL{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let o=wO(r);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function wO(t){let e=null,n=null,r=null,o=1,i=null;if(Hi(t)||_s(t))r=t,e=Cb(t),n=dm(t);else{if(!Sb.call(t,"name"))throw new Error(HL("name"));const s=t.name;if(r=s,Sb.call(t,"weight")&&(o=t.weight,o<=0))throw new Error(WL(s));e=Cb(s),n=dm(s),i=t.getFn}return{path:e,id:n,weight:o,src:r,getFn:i}}function Cb(t){return _s(t)?t:t.split(".")}function dm(t){return _s(t)?t.join("."):t}function JL(t,e){let n=[],r=!1;const o=(i,s,a)=>{if(!!Co(i))if(!s[a])n.push(i);else{let u=s[a];const l=i[u];if(!Co(l))return;if(a===s.length-1&&(Hi(l)||gO(l)||BL(l)))n.push(DL(l));else if(_s(l)){r=!0;for(let f=0,c=l.length;f<c;f+=1)o(l[f],s,a+1)}else s.length&&o(l,s,a+1)}};return o(t,Hi(e)?e.split("."):e,0),r?n:n[0]}const KL={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},GL={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},QL={location:0,threshold:.6,distance:100},YL={useExtendedSearch:!1,getFn:JL,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qt={...GL,...KL,...QL,...YL};const XL=/[^ ]+/g;function ZL(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(o){const i=o.match(XL).length;if(n.has(i))return n.get(i);const s=1/Math.pow(i,.5*t),a=parseFloat(Math.round(s*r)/r);return n.set(i,a),a},clear(){n.clear()}}}class k0{constructor({getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){this.norm=ZL(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Hi(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Hi(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Co(e)||Yp(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((o,i)=>{let s=o.getFn?o.getFn(e):this.getFn(e,o.path);if(!!Co(s)){if(_s(s)){let a=[];const u=[{nestedArrIndex:-1,value:s}];for(;u.length;){const{nestedArrIndex:l,value:f}=u.pop();if(!!Co(f))if(Hi(f)&&!Yp(f)){let c={v:f,i:l,n:this.norm.get(f)};a.push(c)}else _s(f)&&f.forEach((c,d)=>{u.push({nestedArrIndex:d,value:c})})}r.$[i]=a}else if(Hi(s)&&!Yp(s)){let a={v:s,n:this.norm.get(s)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function kO(t,e,{getFn:n=qt.getFn,fieldNormWeight:r=qt.fieldNormWeight}={}){const o=new k0({getFn:n,fieldNormWeight:r});return o.setKeys(t.map(wO)),o.setSources(e),o.create(),o}function eR(t,{getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){const{keys:r,records:o}=t,i=new k0({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i}function Sf(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=qt.distance,ignoreLocation:i=qt.ignoreLocation}={}){const s=e/t.length;if(i)return s;const a=Math.abs(r-n);return o?s+a/o:a?1:s}function tR(t=[],e=qt.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let s=t.length;i<s;i+=1){let a=t[i];a&&r===-1?r=i:!a&&r!==-1&&(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}const Da=32;function nR(t,e,n,{location:r=qt.location,distance:o=qt.distance,threshold:i=qt.threshold,findAllMatches:s=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,includeMatches:u=qt.includeMatches,ignoreLocation:l=qt.ignoreLocation}={}){if(e.length>Da)throw new Error(VL(Da));const f=e.length,c=t.length,d=Math.max(0,Math.min(r,c));let h=i,p=d;const v=a>1||u,g=v?Array(c):[];let m;for(;(m=t.indexOf(e,p))>-1;){let A=Sf(e,{currentLocation:m,expectedLocation:d,distance:o,ignoreLocation:l});if(h=Math.min(A,h),p=m+f,v){let P=0;for(;P<f;)g[m+P]=1,P+=1}}p=-1;let y=[],b=1,w=f+c;const k=1<<f-1;for(let A=0;A<f;A+=1){let P=0,_=w;for(;P<_;)Sf(e,{errors:A,currentLocation:d+_,expectedLocation:d,distance:o,ignoreLocation:l})<=h?P=_:w=_,_=Math.floor((w-P)/2+P);w=_;let T=Math.max(1,d-_+1),C=s?c:Math.min(d+_,c)+f,R=Array(C+2);R[C+1]=(1<<A)-1;for(let j=C;j>=T;j-=1){let q=j-1,Y=n[t.charAt(q)];if(v&&(g[q]=+!!Y),R[j]=(R[j+1]<<1|1)&Y,A&&(R[j]|=(y[j+1]|y[j])<<1|1|y[j+1]),R[j]&k&&(b=Sf(e,{errors:A,currentLocation:q,expectedLocation:d,distance:o,ignoreLocation:l}),b<=h)){if(h=b,p=q,p<=d)break;T=Math.max(1,2*d-p)}}if(Sf(e,{errors:A+1,currentLocation:d,expectedLocation:d,distance:o,ignoreLocation:l})>h)break;y=R}const $={isMatch:p>=0,score:Math.max(.001,b)};if(v){const A=tR(g,a);A.length?u&&($.indices=A):$.isMatch=!1}return $}function rR(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}class xO{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:o=qt.distance,includeMatches:i=qt.includeMatches,findAllMatches:s=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:u=qt.isCaseSensitive,ignoreLocation:l=qt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(d,h)=>{this.chunks.push({pattern:d,alphabet:rR(d),startIndex:h})},c=this.pattern.length;if(c>Da){let d=0;const h=c%Da,p=c-h;for(;d<p;)f(this.pattern.substr(d,Da),d),d+=Da;if(h){const v=c-Da;f(this.pattern.substr(v),v)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,e.length-1]]),p}const{location:o,distance:i,threshold:s,findAllMatches:a,minMatchCharLength:u,ignoreLocation:l}=this.options;let f=[],c=0,d=!1;this.chunks.forEach(({pattern:p,alphabet:v,startIndex:g})=>{const{isMatch:m,score:y,indices:b}=nR(e,p,v,{location:o+g,distance:i,threshold:s,findAllMatches:a,minMatchCharLength:u,includeMatches:r,ignoreLocation:l});m&&(d=!0),c+=y,m&&b&&(f=[...f,...b])});let h={isMatch:d,score:d?c/this.chunks.length:1};return d&&r&&(h.indices=f),h}}class ma{constructor(e){this.pattern=e}static isMultiMatch(e){return $b(e,this.multiRegex)}static isSingleMatch(e){return $b(e,this.singleRegex)}search(){}}function $b(t,e){const n=t.match(e);return n?n[1]:null}class oR extends ma{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class iR extends ma{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class sR extends ma{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class aR extends ma{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uR extends ma{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class lR extends ma{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class jO extends ma{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:o=qt.distance,includeMatches:i=qt.includeMatches,findAllMatches:s=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:u=qt.isCaseSensitive,ignoreLocation:l=qt.ignoreLocation}={}){super(e),this._bitapSearch=new xO(e,{location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class _O extends ma{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const o=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+i,o.push([r,n-1]);const s=!!o.length;return{isMatch:s,score:s?0:1,indices:o}}}const hm=[oR,_O,sR,aR,lR,uR,iR,jO],Ob=hm.length,cR=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fR="|";function dR(t,e={}){return t.split(fR).map(n=>{let r=n.trim().split(cR).filter(i=>i&&!!i.trim()),o=[];for(let i=0,s=r.length;i<s;i+=1){const a=r[i];let u=!1,l=-1;for(;!u&&++l<Ob;){const f=hm[l];let c=f.isMultiMatch(a);c&&(o.push(new f(c,e)),u=!0)}if(!u)for(l=-1;++l<Ob;){const f=hm[l];let c=f.isSingleMatch(a);if(c){o.push(new f(c,e));break}}}return o})}const hR=new Set([jO.type,_O.type]);class pR{constructor(e,{isCaseSensitive:n=qt.isCaseSensitive,includeMatches:r=qt.includeMatches,minMatchCharLength:o=qt.minMatchCharLength,ignoreLocation:i=qt.ignoreLocation,findAllMatches:s=qt.findAllMatches,location:a=qt.location,threshold:u=qt.threshold,distance:l=qt.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:o,findAllMatches:s,ignoreLocation:i,location:a,threshold:u,distance:l},this.pattern=n?e:e.toLowerCase(),this.query=dR(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let i=0,s=[],a=0;for(let u=0,l=n.length;u<l;u+=1){const f=n[u];s.length=0,i=0;for(let c=0,d=f.length;c<d;c+=1){const h=f[c],{isMatch:p,indices:v,score:g}=h.search(e);if(p){if(i+=1,a+=g,r){const m=h.constructor.type;hR.has(m)?s=[...s,...v]:s.push(v)}}else{a=0,i=0,s.length=0;break}}if(i){let c={isMatch:!0,score:a/i};return r&&(c.indices=s),c}}return{isMatch:!1,score:1}}}const pm=[];function vR(...t){pm.push(...t)}function vm(t,e){for(let n=0,r=pm.length;n<r;n+=1){let o=pm[n];if(o.condition(t,e))return new o(t,e)}return new xO(t,e)}const Bd={AND:"$and",OR:"$or"},mm={PATH:"$path",PATTERN:"$val"},gm=t=>!!(t[Bd.AND]||t[Bd.OR]),mR=t=>!!t[mm.PATH],gR=t=>!_s(t)&&yO(t)&&!gm(t),Ab=t=>({[Bd.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function SO(t,e,{auto:n=!0}={}){const r=o=>{let i=Object.keys(o);const s=mR(o);if(!s&&i.length>1&&!gm(o))return r(Ab(o));if(gR(o)){const u=s?o[mm.PATH]:i[0],l=s?o[mm.PATTERN]:o[u];if(!Hi(l))throw new Error(qL(u));const f={keyId:dm(u),pattern:l};return n&&(f.searcher=vm(l,e)),f}let a={children:[],operator:i[0]};return i.forEach(u=>{const l=o[u];_s(l)&&l.forEach(f=>{a.children.push(r(f))})}),a};return gm(t)||(t=Ab(t)),r(t)}function yR(t,{ignoreFieldNorm:e=qt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:i,score:s})=>{const a=o?o.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:i))}),n.score=r})}function bR(t,e){const n=t.matches;e.matches=[],Co(n)&&n.forEach(r=>{if(!Co(r.indices)||!r.indices.length)return;const{indices:o,value:i}=r;let s={indices:o,value:i};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),e.matches.push(s)})}function wR(t,e){e.score=t.score}function kR(t,e,{includeMatches:n=qt.includeMatches,includeScore:r=qt.includeScore}={}){const o=[];return n&&o.push(bR),r&&o.push(wR),t.map(i=>{const{idx:s}=i,a={item:e[s],refIndex:s};return o.length&&o.forEach(u=>{u(i,a)}),a})}class fl{constructor(e,n={},r){this.options={...qt,...n},this.options.useExtendedSearch,this._keyStore=new UL(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof k0))throw new Error(FL);this._myIndex=n||kO(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!Co(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,o-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:i,sortFn:s,ignoreFieldNorm:a}=this.options;let u=Hi(e)?Hi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return yR(u,{ignoreFieldNorm:a}),i&&u.sort(s),gO(n)&&n>-1&&(u=u.slice(0,n)),kR(u,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const n=vm(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:i,i:s,n:a})=>{if(!Co(i))return;const{isMatch:u,score:l,indices:f}=n.searchIn(i);u&&o.push({item:i,idx:s,matches:[{score:l,value:i,norm:a,indices:f}]})}),o}_searchLogical(e){const n=SO(e,this.options),r=(a,u,l)=>{if(!a.children){const{keyId:c,searcher:d}=a,h=this._findMatches({key:this._keyStore.get(c),value:this._myIndex.getValueForItemAtKeyId(u,c),searcher:d});return h&&h.length?[{idx:l,item:u,matches:h}]:[]}const f=[];for(let c=0,d=a.children.length;c<d;c+=1){const h=a.children[c],p=r(h,u,l);if(p.length)f.push(...p);else if(a.operator===Bd.AND)return[]}return f},o=this._myIndex.records,i={},s=[];return o.forEach(({$:a,i:u})=>{if(Co(a)){let l=r(n,a,u);l.length&&(i[u]||(i[u]={idx:u,item:a,matches:[]},s.push(i[u])),l.forEach(({matches:f})=>{i[u].matches.push(...f)}))}}),s}_searchObjectList(e){const n=vm(e,this.options),{keys:r,records:o}=this._myIndex,i=[];return o.forEach(({$:s,i:a})=>{if(!Co(s))return;let u=[];r.forEach((l,f)=>{u.push(...this._findMatches({key:l,value:s[f],searcher:n}))}),u.length&&i.push({idx:a,item:s,matches:u})}),i}_findMatches({key:e,value:n,searcher:r}){if(!Co(n))return[];let o=[];if(_s(n))n.forEach(({v:i,i:s,n:a})=>{if(!Co(i))return;const{isMatch:u,score:l,indices:f}=r.searchIn(i);u&&o.push({score:l,key:e,value:i,idx:s,norm:a,indices:f})});else{const{v:i,n:s}=n,{isMatch:a,score:u,indices:l}=r.searchIn(i);a&&o.push({score:u,key:e,value:i,norm:s,indices:l})}return o}}fl.version="6.6.2";fl.createIndex=kO;fl.parseIndex=eR;fl.config=qt;fl.parseQuery=SO;vR(pR);var Eb,Pb,Tb,Mb,Ib,Nb,Lb,Rb,Db,Bb,zb,Fb,qb,Vb,Hb,Wb,Ub,Jb,Kb,Gb,Qb,Yb,Xb,Zb,ew,tw,nw,rw,ow,iw,sw,aw,uw,lw,cw,fw,dw,hw,pw,vw,mw,gw,yw,bw,ww,kw,xw,jw,_w,Sw,Cw,$w,Ow,Aw,Ew,Pw,Tw,Mw,Iw,Nw,Lw,Rw,Dw,Bw,zw,Fw,qw,Vw,Hw,Ww,Uw,Jw,Kw,Gw,Qw,Yw,Xw,Zw,ek,tk,nk,rk,ok,ik,sk,ak,uk,lk,ck,fk,dk,hk,pk,vk,mk,gk,yk,bk,wk,kk,xk,jk,_k,Sk,Ck,$k,Ok,Ak,Ek,Pk,Tk,Mk,Ik,Nk,Lk,Rk,Dk,Bk,zk,Fk,qk,Vk,Hk,Wk,Uk,Jk,Kk,Gk,Qk,Yk,Xk,Zk,e2,t2,n2,r2,o2,i2,s2,a2,u2,l2,c2,f2,d2,h2,p2,v2,m2,g2,y2,b2,w2,k2,x2,j2,_2,S2,C2,$2,O2,A2,E2,P2,T2,M2,I2,N2,L2,R2,D2,B2,z2,F2,q2,V2,H2,W2,U2,J2,K2,G2,Q2,Y2,X2,Z2,ex,tx,nx,rx,ox,ix,sx,ax,ux,lx,cx,fx,dx,hx,px,vx,mx,gx,yx,bx,wx,kx,xx,jx,_x,Sx,Cx,$x,Ox,Ax,Ex,Px,Tx,Mx,Ix,Nx,Lx,Rx,Dx,Bx,zx,Fx,qx,Vx,Hx,Wx,Ux,Jx,Kx,Gx,Qx,Yx,Xx,Zx,ej,tj,nj,rj,oj,ij,sj,aj,uj,lj,cj,fj,dj,hj,pj,vj,mj,gj,yj,bj,wj,kj,xj,jj,_j,Sj,Cj,$j,Oj,Aj,Ej,Pj,Tj,Mj,Ij,Nj,Lj,Rj,Dj,Bj,zj,Fj;function vd(t){var e=typeof Map=="function"?new Map:void 0;return(vd=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return CO(n,arguments,rn(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Gh(o,n)})(t)}function CO(t,e,n){return(CO=OO()?Reflect.construct.bind():function(r,o,i){var s=[null];s.push.apply(s,o);var a=new(Function.bind.apply(r,s));return i&&Gh(a,i.prototype),a}).apply(null,arguments)}function ie(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(T,C,R){return Object.defineProperty(T,C,{value:R,enumerable:!0,configurable:!0,writable:!0}),T[C]}try{a({},"")}catch{a=function(C,R,S){return C[R]=S}}function u(T,C,R,S){var j=C&&C.prototype instanceof c?C:c,q=Object.create(j.prototype),Y=new A(S||[]);return q._invoke=function(F,K,D){var I="suspendedStart";return function(W,H){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(W==="throw")throw H;return _()}for(D.method=W,D.arg=H;;){var z=D.delegate;if(z){var O=w(z,D);if(O){if(O===f)continue;return O}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(I==="suspendedStart")throw I="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);I="executing";var x=l(F,K,D);if(x.type==="normal"){if(I=D.done?"completed":"suspendedYield",x.arg===f)continue;return{value:x.arg,done:D.done}}x.type==="throw"&&(I="completed",D.method="throw",D.arg=x.arg)}}}(T,R,Y),q}function l(T,C,R){try{return{type:"normal",arg:T.call(C,R)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var f={};function c(){}function d(){}function h(){}var p={};a(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==e&&n.call(g,o)&&(p=g);var m=h.prototype=c.prototype=Object.create(p);function y(T){["next","throw","return"].forEach(function(C){a(T,C,function(R){return this._invoke(C,R)})})}function b(T,C){function R(j,q,Y,F){var K=l(T[j],T,q);if(K.type!=="throw"){var D=K.arg,I=D.value;return I&&ut(I)=="object"&&n.call(I,"__await")?C.resolve(I.__await).then(function(W){R("next",W,Y,F)},function(W){R("throw",W,Y,F)}):C.resolve(I).then(function(W){D.value=W,Y(D)},function(W){return R("throw",W,Y,F)})}F(K.arg)}var S;this._invoke=function(j,q){function Y(){return new C(function(F,K){R(j,q,F,K)})}return S=S?S.then(Y,Y):Y()}}function w(T,C){var R=T.iterator[C.method];if(R===void 0){if(C.delegate=null,C.method==="throw"){if(T.iterator.return&&(C.method="return",C.arg=void 0,w(T,C),C.method==="throw"))return f;C.method="throw",C.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var S=l(R,T.iterator,C.arg);if(S.type==="throw")return C.method="throw",C.arg=S.arg,C.delegate=null,f;var j=S.arg;return j?j.done?(C[T.resultName]=j.value,C.next=T.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,f):j:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,f)}function k(T){var C={tryLoc:T[0]};1 in T&&(C.catchLoc=T[1]),2 in T&&(C.finallyLoc=T[2],C.afterLoc=T[3]),this.tryEntries.push(C)}function $(T){var C=T.completion||{};C.type="normal",delete C.arg,T.completion=C}function A(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(k,this),this.reset(!0)}function P(T){if(T){var C=T[o];if(C)return C.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var R=-1,S=function j(){for(;++R<T.length;)if(n.call(T,R))return j.value=T[R],j.done=!1,j;return j.value=void 0,j.done=!0,j};return S.next=S}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=h,a(m,"constructor",h),a(h,"constructor",d),d.displayName=a(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(T){var C=typeof T=="function"&&T.constructor;return!!C&&(C===d||(C.displayName||C.name)==="GeneratorFunction")},t.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,h):(T.__proto__=h,a(T,s,"GeneratorFunction")),T.prototype=Object.create(m),T},t.awrap=function(T){return{__await:T}},y(b.prototype),a(b.prototype,i,function(){return this}),t.AsyncIterator=b,t.async=function(T,C,R,S,j){j===void 0&&(j=Promise);var q=new b(u(T,C,R,S),j);return t.isGeneratorFunction(C)?q:q.next().then(function(Y){return Y.done?Y.value:q.next()})},y(m),a(m,s,"Generator"),a(m,o,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),t.keys=function(T){var C=[];for(var R in T)C.push(R);return C.reverse(),function S(){for(;C.length;){var j=C.pop();if(j in T)return S.value=j,S.done=!1,S}return S.done=!0,S}},t.values=P,A.prototype={constructor:A,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!T)for(var C in this)C.charAt(0)==="t"&&n.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var C=this;function R(K,D){return q.type="throw",q.arg=T,C.next=K,D&&(C.method="next",C.arg=void 0),!!D}for(var S=this.tryEntries.length-1;S>=0;--S){var j=this.tryEntries[S],q=j.completion;if(j.tryLoc==="root")return R("end");if(j.tryLoc<=this.prev){var Y=n.call(j,"catchLoc"),F=n.call(j,"finallyLoc");if(Y&&F){if(this.prev<j.catchLoc)return R(j.catchLoc,!0);if(this.prev<j.finallyLoc)return R(j.finallyLoc)}else if(Y){if(this.prev<j.catchLoc)return R(j.catchLoc,!0)}else{if(!F)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return R(j.finallyLoc)}}}},abrupt:function(T,C){for(var R=this.tryEntries.length-1;R>=0;--R){var S=this.tryEntries[R];if(S.tryLoc<=this.prev&&n.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var j=S;break}}j&&(T==="break"||T==="continue")&&j.tryLoc<=C&&C<=j.finallyLoc&&(j=null);var q=j?j.completion:{};return q.type=T,q.arg=C,j?(this.method="next",this.next=j.finallyLoc,f):this.complete(q)},complete:function(T,C){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&C&&(this.next=C),f},finish:function(T){for(var C=this.tryEntries.length-1;C>=0;--C){var R=this.tryEntries[C];if(R.finallyLoc===T)return this.complete(R.completion,R.afterLoc),$(R),f}},catch:function(T){for(var C=this.tryEntries.length-1;C>=0;--C){var R=this.tryEntries[C];if(R.tryLoc===T){var S=R.completion;if(S.type==="throw"){var j=S.arg;$(R)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(T,C,R){return this.delegate={iterator:P(T),resultName:C,nextLoc:R},this.method==="next"&&(this.arg=void 0),f}},t}function qj(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,o)}function In(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(u){qj(i,r,o,s,a,"next",u)}function a(u){qj(i,r,o,s,a,"throw",u)}s(void 0)})}}function he(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=x0(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){a=!0,i=u},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw i}}}}function cn(){return(cn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=xR(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function xR(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rn(t))!==null;);return t}function At(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var i,s,a=[],u=!0,l=!1;try{for(o=o.call(n);!(u=(i=o.next()).done)&&(a.push(i.value),!r||a.length!==r);u=!0);}catch(f){l=!0,s=f}finally{try{u||o.return==null||o.return()}finally{if(l)throw s}}return a}}(t,e)||x0(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gh(t,e)}function Gh(t,e){return(Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(t,e)}function Be(t){var e=OO();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(ut(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(t)}function wt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(n),!0).forEach(function(r){kc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t){return function(e){if(Array.isArray(e))return ym(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||x0(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x0(t,e){if(t){if(typeof t=="string")return ym(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ym(t,e):void 0}}function ym(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e,n){return e&&Hj(t.prototype,e),n&&Hj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ut(t){return(ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ge(){}var AO=function(t){return t};function ga(t,e){for(var n in e)t[n]=e[n];return t}function EO(t){return t()}function Wj(){return Object.create(null)}function Kn(t){t.forEach(EO)}function yi(t){return typeof t=="function"}function xr(t,e){return t!=t?e==e:t!==e||t&&ut(t)==="object"||typeof t=="function"}function an(t,e){return t!=t?e==e:t!==e}function _i(t,e,n,r){if(t){var o=PO(t,e,n,r);return t[0](o)}}function PO(t,e,n,r){return t[1]&&r?ga(n.ctx.slice(),t[1](r(e))):n.ctx}function Si(t,e,n,r){if(t[2]&&r){var o=t[2](r(n));if(e.dirty===void 0)return o;if(ut(o)==="object"){for(var i=[],s=Math.max(e.dirty.length,o.length),a=0;a<s;a+=1)i[a]=e.dirty[a]|o[a];return i}return e.dirty|o}return e.dirty}function Ci(t,e,n,r,o,i){if(o){var s=PO(e,n,r,i);t.p(s,o)}}function $i(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function vr(t){return t==null?"":t}function Jc(t){return t&&yi(t.destroy)?t.destroy:Ge}var Cf,TO=typeof window<"u",jR=TO?function(){return window.performance.now()}:function(){return Date.now()},j0=TO?function(t){return requestAnimationFrame(t)}:Ge,rc=new Set;function MO(t){rc.forEach(function(e){e.c(t)||(rc.delete(e),e.f())}),rc.size!==0&&j0(MO)}function U(t,e){t.appendChild(e)}function zt(t,e,n){var r=_0(t);if(!r.getElementById(e)){var o=re("style");o.id=e,o.textContent=n,IO(r,o)}}function _0(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _R(t){var e=re("style");return IO(_0(t),e),e.sheet}function IO(t,e){U(t.head||t,e)}function ye(t,e,n){t.insertBefore(e,n||null)}function me(t){t.parentNode.removeChild(t)}function jo(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function re(t){return document.createElement(t)}function Ss(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function nt(t){return document.createTextNode(t)}function Ae(){return nt(" ")}function dn(){return nt("")}function Fe(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function NO(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Uj(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:E(t,r,e[r])}function zd(t,e){for(var n in e)E(t,n,e[n])}function bm(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""||n:E(t,e,n)}function SR(t){return Array.from(t.childNodes)}function en(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ua(t,e){t.value=e==null?"":e}function qi(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Jj(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function CR(){if(Cf===void 0){Cf=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Cf=!0}}return Cf}function Ze(t,e,n){t.classList[n?"add":"remove"](e)}function LO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.bubbles,o=r!==void 0&&r,i=n.cancelable,s=i!==void 0&&i,a=document.createEvent("CustomEvent");return a.initCustomEvent(t,o,s,e),a}var xc,$R=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];se(this,t),this.is_svg=!1,this.is_svg=e,this.e=this.n=null}return ae(t,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.e||(this.is_svg?this.e=Ss(n.nodeName):this.e=re(n.nodeName),this.t=n,this.c(e)),this.i(r)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(e){for(var n=0;n<this.n.length;n+=1)ye(this.t,this.n[n],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(me)}}]),t}(),Fd=new Map,wm=0;function OR(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function AR(t,e){var n={stylesheet:_R(e),rules:{}};return Fd.set(t,n),n}function Kj(t,e,n,r,o,i,s){for(var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,u=16.666/r,l=`{
`,f=0;f<=1;f+=u){var c=e+(n-e)*i(f);l+=100*f+"%{".concat(s(c,1-c),`}
`)}var d=l+"100% {".concat(s(n,1-n),`}
}`),h="__svelte_".concat(OR(d),"_").concat(a),p=_0(t),v=Fd.get(p)||AR(p,t),g=v.stylesheet,m=v.rules;m[h]||(m[h]=!0,g.insertRule("@keyframes ".concat(h," ").concat(d),g.cssRules.length));var y=t.style.animation||"";return t.style.animation="".concat(y?"".concat(y,", "):"").concat(h," ").concat(r,"ms linear ").concat(o,"ms 1 both"),wm+=1,h}function ER(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(i){return i.indexOf(e)<0}:function(i){return i.indexOf("__svelte")===-1}),o=n.length-r.length;o&&(t.style.animation=r.join(", "),(wm-=o)||j0(function(){wm||(Fd.forEach(function(i){for(var s=i.stylesheet,a=s.cssRules.length;a--;)s.deleteRule(a);i.rules={}}),Fd.clear())}))}function oc(t){xc=t}function dl(){if(!xc)throw new Error("Function called outside component initialization");return xc}function RO(t){dl().$$.before_update.push(t)}function ri(t){dl().$$.on_mount.push(t)}function la(t){dl().$$.on_destroy.push(t)}function Qh(){var t=dl();return function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.cancelable,i=o!==void 0&&o,s=t.$$.callbacks[e];if(s){var a=LO(e,n,{cancelable:i});return s.slice().forEach(function(u){u.call(t,a)}),!a.defaultPrevented}return!0}}function DO(t,e){return dl().$$.context.set(t,e),e}function wo(t){return dl().$$.context.get(t)}var Hl=[],Yt=[],md=[],km=[],BO=Promise.resolve(),xm=!1;function zO(){xm||(xm=!0,BO.then(FO))}function ar(){return zO(),BO}function ca(t){md.push(t)}function Go(t){km.push(t)}var $f,Xp=new Set,Of=0;function FO(){var t=xc;do{for(;Of<Hl.length;){var e=Hl[Of];Of++,oc(e),PR(e.$$)}for(oc(null),Hl.length=0,Of=0;Yt.length;)Yt.pop()();for(var n=0;n<md.length;n+=1){var r=md[n];Xp.has(r)||(Xp.add(r),r())}md.length=0}while(Hl.length);for(;km.length;)km.pop()();xm=!1,Xp.clear(),oc(t)}function PR(t){if(t.fragment!==null){t.update(),Kn(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ca)}}function Zp(t,e,n){t.dispatchEvent(LO("".concat(e?"intro":"outro").concat(n)))}var ms,gd=new Set;function Ue(){ms={r:0,c:[],p:ms}}function Je(){ms.r||Kn(ms.c),ms=ms.p}function J(t,e){t&&t.i&&(gd.delete(t),t.i(e))}function te(t,e,n,r){if(t&&t.o){if(gd.has(t))return;gd.add(t),ms.c.push(function(){gd.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}var TR={duration:0};function Af(t,e,n,r){var o=e(t,n),i=r?0:1,s=null,a=null,u=null;function l(){u&&ER(t,u)}function f(d,h){var p=d.b-i;return h*=Math.abs(p),{a:i,b:d.b,d:p,duration:h,start:d.start,end:d.start+h,group:d.group}}function c(d){var h,p=o||TR,v=p.delay,g=v===void 0?0:v,m=p.duration,y=m===void 0?300:m,b=p.easing,w=b===void 0?AO:b,k=p.tick,$=k===void 0?Ge:k,A=p.css,P={start:jR()+g,b:d};d||(P.group=ms,ms.r+=1),s||a?a=P:(A&&(l(),u=Kj(t,i,d,y,g,w,A)),d&&$(0,1),s=f(P,y),ca(function(){return Zp(t,d,"start")}),h=function(_){if(a&&_>a.start&&(s=f(a,y),a=null,Zp(t,s.b,"start"),A&&(l(),u=Kj(t,i,s.b,s.duration,0,w,o.css))),s){if(_>=s.end)$(i=s.b,1-i),Zp(t,s.b,"end"),a||(s.b?l():--s.group.r||Kn(s.group.c)),s=null;else if(_>=s.start){var T=_-s.start;i=s.a+s.d*w(T/s.duration),$(i,1-i)}}return!(!s&&!a)},rc.size===0&&j0(MO),new Promise(function(_){rc.add({c:h,f:_})}))}return{run:function(d){yi(o)?($f||($f=Promise.resolve()).then(function(){$f=null}),$f).then(function(){o=o(),c(d)}):c(d)},end:function(){l(),s=a=null}}}var S0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function MR(t,e){t.d(1),e.delete(t.key)}function Kc(t,e){te(t,1,1,function(){e.delete(t.key)})}function hl(t,e,n,r,o,i,s,a,u,l,f,c){for(var d=t.length,h=i.length,p=d,v={};p--;)v[t[p].key]=p;var g=[],m=new Map,y=new Map;for(p=h;p--;){var b=c(o,i,p),w=n(b),k=s.get(w);k?r&&k.p(b,e):(k=l(w,b)).c(),m.set(w,g[p]=k),w in v&&y.set(w,Math.abs(p-v[w]))}var $=new Set,A=new Set;function P(j){J(j,1),j.m(a,f),s.set(j.key,j),f=j.first,h--}for(;d&&h;){var _=g[h-1],T=t[d-1],C=_.key,R=T.key;_===T?(f=_.first,d--,h--):m.has(R)?!s.has(C)||$.has(C)?P(_):A.has(R)?d--:y.get(C)>y.get(R)?(A.add(C),P(_)):($.add(R),d--):(u(T,s),d--)}for(;d--;){var S=t[d];m.has(S.key)||u(S,s)}for(;h;)P(g[h-1]);return g}function au(t,e){for(var n={},r={},o={$$scope:1},i=t.length;i--;){var s=t[i],a=e[i];if(a){for(var u in s)u in a||(r[u]=1);for(var l in a)o[l]||(n[l]=a[l],o[l]=1);t[i]=a}else for(var f in s)o[f]=1}for(var c in r)c in n||(n[c]=void 0);return n}function Yh(t){return ut(t)==="object"&&t!==null?t:{}}function Oo(t,e,n){var r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Le(t){t&&t.c()}function Me(t,e,n,r){var o=t.$$,i=o.fragment,s=o.on_mount,a=o.on_destroy,u=o.after_update;i&&i.m(e,n),r||ca(function(){var l=s.map(EO).filter(yi);a?a.push.apply(a,Qt(l)):Kn(l),t.$$.on_mount=[]}),u.forEach(ca)}function Ie(t,e){var n=t.$$;n.fragment!==null&&(Kn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function IR(t,e){t.$$.dirty[0]===-1&&(Hl.push(t),zO(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,e,n,r,o,i,s){var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],u=xc;oc(t);var l=t.$$={fragment:null,ctx:null,props:i,update:Ge,not_equal:o,bound:Wj(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Wj(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(l.root);var f=!1;if(l.ctx=n?n(t,e.props||{},function(d,h){var p=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:h;return l.ctx&&o(l.ctx[d],l.ctx[d]=p)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](p),f&&IR(t,d)),h}):[],l.update(),f=!0,Kn(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){var c=SR(e.target);l.fragment&&l.fragment.l(c),c.forEach(me)}else l.fragment&&l.fragment.c();e.intro&&J(t.$$.fragment),Me(t,e.target,e.anchor,e.customElement),FO()}oc(u)}var xt=function(){function t(){se(this,t)}return ae(t,[{key:"$destroy",value:function(){Ie(this,1),this.$destroy=Ge}},{key:"$on",value:function(e,n){var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),function(){var o=r.indexOf(n);o!==-1&&r.splice(o,1)}}},{key:"$set",value:function(e){var n;this.$$set&&(n=e,Object.keys(n).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),t}();function zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!!LR("debug");if(e){var n=RR(t);return function(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];(r=console).log.apply(r,["%c".concat(t),"color:".concat(n)].concat(i))}}return NR}function NR(){}function LR(t){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[t]}catch{}}function RR(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Gj[Math.abs(e)%Gj.length]}var Gj=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function DR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.delay,r=n===void 0?0:n,o=e.duration,i=o===void 0?400:o,s=e.easing,a=s===void 0?AO:s,u=+getComputedStyle(t).opacity;return{delay:r,duration:i,easing:a,css:function(l){return"opacity: ".concat(l*u)}}}var BR=S0.window;function zR(t){zt(t,"svelte-g4wg3a",`.svelte-g4wg3a{box-sizing:border-box}.bg.svelte-g4wg3a{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}.wrap.svelte-g4wg3a{position:relative;margin:2rem;max-height:100%}.window.svelte-g4wg3a{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-g4wg3a{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-g4wg3a{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-g4wg3a:before,.close.svelte-g4wg3a:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-g4wg3a:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-g4wg3a:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-g4wg3a:hover{background:black}.close.svelte-g4wg3a:hover:before,.close.svelte-g4wg3a:hover:after{height:2px;background:white}.close.svelte-g4wg3a:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-g4wg3a:active{transform:scale(0.9)}.close.svelte-g4wg3a:hover,.close.svelte-g4wg3a:focus,.close.svelte-g4wg3a:active{outline:none}`)}function Qj(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y=t[1].closeButton&&Yj(t),b=t[2];return b&&(s=new b({})),{c:function(){e=re("div"),n=re("div"),r=re("div"),y&&y.c(),o=Ae(),i=re("div"),s&&Le(s.$$.fragment),E(i,"class",a=vr(t[1].classContent)+" svelte-g4wg3a"),E(i,"style",t[9]),Ze(i,"content",!t[0]),E(r,"class",u=vr(t[1].classWindow)+" svelte-g4wg3a"),E(r,"role","dialog"),E(r,"aria-modal","true"),E(r,"aria-label",l=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),E(r,"aria-labelledby",f=t[1].ariaLabelledBy||null),E(r,"style",t[8]),Ze(r,"window",!t[0]),E(n,"class",d=vr(t[1].classWindowWrap)+" svelte-g4wg3a"),E(n,"style",t[7]),Ze(n,"wrap",!t[0]),E(e,"class",h=vr(t[1].classBg)+" svelte-g4wg3a"),E(e,"style",t[6]),Ze(e,"bg",!t[0])},m:function(w,k){ye(w,e,k),U(e,n),U(n,r),y&&y.m(r,null),U(r,o),U(r,i),s&&Me(s,i,null),t[48](r),t[49](n),t[50](e),v=!0,g||(m=[Fe(r,"introstart",function(){yi(t[13])&&t[13].apply(this,arguments)}),Fe(r,"outrostart",function(){yi(t[14])&&t[14].apply(this,arguments)}),Fe(r,"introend",function(){yi(t[15])&&t[15].apply(this,arguments)}),Fe(r,"outroend",function(){yi(t[16])&&t[16].apply(this,arguments)}),Fe(e,"mousedown",t[20]),Fe(e,"mouseup",t[21])],g=!0)},p:function(w,k){if((t=w)[1].closeButton?y?(y.p(t,k),2&k[0]&&J(y,1)):((y=Yj(t)).c(),J(y,1),y.m(r,o)):y&&(Ue(),te(y,1,1,function(){y=null}),Je()),b!==(b=t[2])){if(s){Ue();var $=s;te($.$$.fragment,1,0,function(){Ie($,1)}),Je()}b?(Le((s=new b({})).$$.fragment),J(s.$$.fragment,1),Me(s,i,null)):s=null}(!v||2&k[0]&&a!==(a=vr(t[1].classContent)+" svelte-g4wg3a"))&&E(i,"class",a),(!v||512&k[0])&&E(i,"style",t[9]),3&k[0]&&Ze(i,"content",!t[0]),(!v||2&k[0]&&u!==(u=vr(t[1].classWindow)+" svelte-g4wg3a"))&&E(r,"class",u),(!v||2&k[0]&&l!==(l=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&E(r,"aria-label",l),(!v||2&k[0]&&f!==(f=t[1].ariaLabelledBy||null))&&E(r,"aria-labelledby",f),(!v||256&k[0])&&E(r,"style",t[8]),3&k[0]&&Ze(r,"window",!t[0]),(!v||2&k[0]&&d!==(d=vr(t[1].classWindowWrap)+" svelte-g4wg3a"))&&E(n,"class",d),(!v||128&k[0])&&E(n,"style",t[7]),3&k[0]&&Ze(n,"wrap",!t[0]),(!v||2&k[0]&&h!==(h=vr(t[1].classBg)+" svelte-g4wg3a"))&&E(e,"class",h),(!v||64&k[0])&&E(e,"style",t[6]),3&k[0]&&Ze(e,"bg",!t[0])},i:function(w){v||(J(y),s&&J(s.$$.fragment,w),ca(function(){c||(c=Af(r,t[12],t[1].transitionWindowProps,!0)),c.run(1)}),ca(function(){p||(p=Af(e,t[11],t[1].transitionBgProps,!0)),p.run(1)}),v=!0)},o:function(w){te(y),s&&te(s.$$.fragment,w),c||(c=Af(r,t[12],t[1].transitionWindowProps,!1)),c.run(0),p||(p=Af(e,t[11],t[1].transitionBgProps,!1)),p.run(0),v=!1},d:function(w){w&&me(e),y&&y.d(),s&&Ie(s),t[48](null),w&&c&&c.end(),t[49](null),t[50](null),w&&p&&p.end(),g=!1,Kn(m)}}}function Yj(t){var e,n,r,o,i,s=[qR,FR],a=[];function u(l,f){return 2&f[0]&&(e=null),e==null&&(e=!!l[17](l[1].closeButton)),e?0:1}return n=u(t,[-1,-1,-1]),r=a[n]=s[n](t),{c:function(){r.c(),o=dn()},m:function(l,f){a[n].m(l,f),ye(l,o,f),i=!0},p:function(l,f){var c=n;(n=u(l,f))===c?a[n].p(l,f):(Ue(),te(a[c],1,1,function(){a[c]=null}),Je(),(r=a[n])?r.p(l,f):(r=a[n]=s[n](l)).c(),J(r,1),r.m(o.parentNode,o))},i:function(l){i||(J(r),i=!0)},o:function(l){te(r),i=!1},d:function(l){a[n].d(l),l&&me(o)}}}function FR(t){var e,n,r,o;return{c:function(){E(e=re("button"),"class",n=vr(t[1].classCloseButton)+" svelte-g4wg3a"),E(e,"aria-label","Close modal"),E(e,"style",t[10]),Ze(e,"close",!t[0])},m:function(i,s){ye(i,e,s),r||(o=Fe(e,"click",t[18]),r=!0)},p:function(i,s){2&s[0]&&n!==(n=vr(i[1].classCloseButton)+" svelte-g4wg3a")&&E(e,"class",n),1024&s[0]&&E(e,"style",i[10]),3&s[0]&&Ze(e,"close",!i[0])},i:Ge,o:Ge,d:function(i){i&&me(e),r=!1,o()}}}function qR(t){var e,n,r,o=t[1].closeButton;function i(s){return{props:{onClose:s[18]}}}return o&&(e=new o(i(t))),{c:function(){e&&Le(e.$$.fragment),n=dn()},m:function(s,a){e&&Me(e,s,a),ye(s,n,a),r=!0},p:function(s,a){if(o!==(o=s[1].closeButton)){if(e){Ue();var u=e;te(u.$$.fragment,1,0,function(){Ie(u,1)}),Je()}o?(Le((e=new o(i(s))).$$.fragment),J(e.$$.fragment,1),Me(e,n.parentNode,n)):e=null}},i:function(s){r||(e&&J(e.$$.fragment,s),r=!0)},o:function(s){e&&te(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Ie(e,s)}}}function VR(t){var e,n,r,o,i=t[2]&&Qj(t),s=t[47].default,a=_i(s,t,t[46],null);return{c:function(){i&&i.c(),e=Ae(),a&&a.c()},m:function(u,l){i&&i.m(u,l),ye(u,e,l),a&&a.m(u,l),n=!0,r||(o=Fe(BR,"keydown",t[19]),r=!0)},p:function(u,l){u[2]?i?(i.p(u,l),4&l[0]&&J(i,1)):((i=Qj(u)).c(),J(i,1),i.m(e.parentNode,e)):i&&(Ue(),te(i,1,1,function(){i=null}),Je()),a&&a.p&&(!n||32768&l[1])&&Ci(a,s,u,u[46],n?Si(s,u[46],l,null):$i(u[46]),null)},i:function(u){n||(J(i),J(a,u),n=!0)},o:function(u){te(i),te(a,u),n=!1},d:function(u){i&&i.d(u),u&&me(e),a&&a.d(u),r=!1,o()}}}function HR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n){return new t(lt(lt({},n),{},{props:lt(lt({},e),n.props)}))}}function WR(t,e,n){var r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y=e.$$slots,b=y===void 0?{}:y,w=e.$$scope,k=Qh(),$=DO,A=e.show,P=A===void 0?null:A,_=e.key,T=_===void 0?"simple-modal":_,C=e.ariaLabel,R=C===void 0?null:C,S=e.ariaLabelledBy,j=S===void 0?null:S,q=e.closeButton,Y=q===void 0||q,F=e.closeOnEsc,K=F===void 0||F,D=e.closeOnOuterClick,I=D===void 0||D,W=e.styleBg,H=W===void 0?{}:W,z=e.styleWindowWrap,O=z===void 0?{}:z,x=e.styleWindow,N=x===void 0?{}:x,G=e.styleContent,ue=G===void 0?{}:G,xe=e.styleCloseButton,$e=xe===void 0?{}:xe,L=e.classBg,Q=L===void 0?null:L,M=e.classWindowWrap,B=M===void 0?null:M,Z=e.classWindow,le=Z===void 0?null:Z,ee=e.classContent,V=ee===void 0?null:ee,Ee=e.classCloseButton,Ce=Ee===void 0?null:Ee,_e=e.unstyled,pe=_e!==void 0&&_e,ce=e.setContext,ke=ce===void 0?$:ce,Oe=e.transitionBg,fe=Oe===void 0?DR:Oe,Pe=e.transitionBgProps,Ve=Pe===void 0?{duration:250}:Pe,et=e.transitionWindow,vt=et===void 0?fe:et,Lt=e.transitionWindowProps,wn=Lt===void 0?Ve:Lt,ne=e.disableFocusTrap,de=ne!==void 0&&ne,ve={ariaLabel:R,ariaLabelledBy:j,closeButton:Y,closeOnEsc:K,closeOnOuterClick:I,styleBg:H,styleWindowWrap:O,styleWindow:N,styleContent:ue,styleCloseButton:$e,classBg:Q,classWindowWrap:B,classWindow:le,classContent:V,classCloseButton:Ce,transitionBg:fe,transitionBgProps:Ve,transitionWindow:vt,transitionWindowProps:wn,disableFocusTrap:de,unstyled:pe},be=lt({},ve),Te=null,we=function(He){return He?Object.keys(He).reduce(function(ir,hn){return"".concat(ir,"; ").concat(function(tn){return tn.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(hn),": ").concat(He[hn])},""):""},We=function(He){return!!(He&&He.constructor&&He.call&&He.apply)},tt=function(){n(6,a=we(Object.assign({},{width:window.innerWidth,height:window.innerHeight},be.styleBg))),n(7,u=we(be.styleWindowWrap)),n(8,l=we(be.styleWindow)),n(9,f=we(be.styleContent)),n(10,c=we(be.styleCloseButton)),n(11,d=be.transitionBg),n(12,h=be.transitionWindow)},Xe=function(){},dt=Xe,Tt=Xe,ot=Xe,Rt=Xe,_t=function(He){var ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};n(2,Te=HR(He,ir)),n(1,be=lt(lt({},ve),hn)),tt(),It(),n(13,dt=function(vn){tn.onOpen&&tn.onOpen(vn),k("open"),k("opening")}),n(14,Tt=function(vn){tn.onClose&&tn.onClose(vn),k("close"),k("closing")}),n(15,ot=function(vn){tn.onOpened&&tn.onOpened(vn),k("opened")}),n(16,Rt=function(vn){tn.onClosed&&tn.onClosed(vn),k("closed")})},gt=function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te&&(n(14,Tt=He.onClose||Tt),n(16,Rt=He.onClosed||Rt),n(2,Te=null),kn())},It=function(){s=window.scrollY,p=document.body.style.position,v=document.body.style.overflow,g=document.body.style.width,document.body.style.position="fixed",document.body.style.top="-".concat(s,"px"),document.body.style.overflow="hidden",document.body.style.width="100%"},kn=function(){document.body.style.position=p||"",document.body.style.top="",document.body.style.overflow=v||"",document.body.style.width=g||"",window.scrollTo(0,s)};ke(T,{open:_t,close:gt});var Xn=!1;return la(function(){Xn&&gt()}),ri(function(){n(45,Xn=!0)}),t.$$set=function(He){"show"in He&&n(22,P=He.show),"key"in He&&n(23,T=He.key),"ariaLabel"in He&&n(24,R=He.ariaLabel),"ariaLabelledBy"in He&&n(25,j=He.ariaLabelledBy),"closeButton"in He&&n(26,Y=He.closeButton),"closeOnEsc"in He&&n(27,K=He.closeOnEsc),"closeOnOuterClick"in He&&n(28,I=He.closeOnOuterClick),"styleBg"in He&&n(29,H=He.styleBg),"styleWindowWrap"in He&&n(30,O=He.styleWindowWrap),"styleWindow"in He&&n(31,N=He.styleWindow),"styleContent"in He&&n(32,ue=He.styleContent),"styleCloseButton"in He&&n(33,$e=He.styleCloseButton),"classBg"in He&&n(34,Q=He.classBg),"classWindowWrap"in He&&n(35,B=He.classWindowWrap),"classWindow"in He&&n(36,le=He.classWindow),"classContent"in He&&n(37,V=He.classContent),"classCloseButton"in He&&n(38,Ce=He.classCloseButton),"unstyled"in He&&n(0,pe=He.unstyled),"setContext"in He&&n(39,ke=He.setContext),"transitionBg"in He&&n(40,fe=He.transitionBg),"transitionBgProps"in He&&n(41,Ve=He.transitionBgProps),"transitionWindow"in He&&n(42,vt=He.transitionWindow),"transitionWindowProps"in He&&n(43,wn=He.transitionWindowProps),"disableFocusTrap"in He&&n(44,de=He.disableFocusTrap),"$$scope"in He&&n(46,w=He.$$scope)},t.$$.update=function(){4194304&t.$$.dirty[0]|16384&t.$$.dirty[1]&&Xn&&(We(P)?_t(P):gt())},[pe,be,Te,r,o,i,a,u,l,f,c,d,h,dt,Tt,ot,Rt,We,gt,function(He){if(be.closeOnEsc&&Te&&He.key==="Escape"&&(He.preventDefault(),gt()),Te&&He.key==="Tab"&&!be.disableFocusTrap){var ir=i.querySelectorAll("*"),hn=Array.from(ir).filter(function(vn){return vn.tabIndex>=0}),tn=hn.indexOf(document.activeElement);tn===-1&&He.shiftKey&&(tn=0),tn+=hn.length+(He.shiftKey?-1:1),hn[tn%=hn.length].focus(),He.preventDefault()}},function(He){!be.closeOnOuterClick||He.target!==r&&He.target!==o||(m=He.target)},function(He){be.closeOnOuterClick&&He.target===m&&(He.preventDefault(),gt())},P,T,R,j,Y,K,I,H,O,N,ue,$e,Q,B,le,V,Ce,ke,fe,Ve,vt,wn,de,Xn,w,b,function(He){Yt[He?"unshift":"push"](function(){n(5,i=He)})},function(He){Yt[He?"unshift":"push"](function(){n(4,o=He)})},function(He){Yt[He?"unshift":"push"](function(){n(3,r=He)})}]}var UR=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,WR,VR,xr,{show:22,key:23,ariaLabel:24,ariaLabelledBy:25,closeButton:26,closeOnEsc:27,closeOnOuterClick:28,styleBg:29,styleWindowWrap:30,styleWindow:31,styleContent:32,styleCloseButton:33,classBg:34,classWindowWrap:35,classWindow:36,classContent:37,classCloseButton:38,unstyled:0,setContext:39,transitionBg:40,transitionBgProps:41,transitionWindow:42,transitionWindowProps:43,disableFocusTrap:44},zR,[-1,-1,-1]),o}return ae(n)}(),Ml="tree",ju="code",ks=Symbol("id"),ro=Symbol("expanded"),Qi=Symbol("visible sections"),oi=Symbol("keys"),Wu=Symbol("search:property"),jc=Symbol("search:value"),Po=Symbol("enforce string"),_c=Symbol("selection"),jm=Symbol("validation:error"),C0=[{start:0,end:100}],Ou={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},JR=lt(lt({},Ou),{},{classWindow:"jse-modal-window jse-modal-window-sort"}),KR=lt(lt({},Ou),{},{classWindow:"jse-modal-window jse-modal-window-transform"}),$0="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",qO="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",GR="NO",O0="SELF",A0="NEXT_INSIDE",QR=0;function _m(){return++QR}function YR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Se={exports:{}};(function(t){function e(x){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(x)}function n(x,N){return JSON.stringify(x)===JSON.stringify(N)}function r(x,N){return x===N}function o(x){return x.slice(0,x.length-1)}function i(x){return x[x.length-1]}function s(x,N){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;if(x.length<N.length)return!1;for(var ue=0;ue<N.length;ue++)if(!G(x[ue],N[ue]))return!1;return!0}function a(x){return e(x)==="object"&&x!==null}function u(x,N){var G=Object.keys(x);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(x);N&&(ue=ue.filter(function(xe){return Object.getOwnPropertyDescriptor(x,xe).enumerable})),G.push.apply(G,ue)}return G}function l(x){for(var N=1;N<arguments.length;N++){var G=arguments[N]!=null?arguments[N]:{};N%2?u(Object(G),!0).forEach(function(ue){f(x,ue,G[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(G)):u(Object(G)).forEach(function(ue){Object.defineProperty(x,ue,Object.getOwnPropertyDescriptor(G,ue))})}return x}function f(x,N,G){return N in x?Object.defineProperty(x,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):x[N]=G,x}function c(x){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(x)}function d(x){if(Array.isArray(x)){var N=x.slice();return Object.getOwnPropertySymbols(x).forEach(function(ue){N[ue]=x[ue]}),N}if(c(x)==="object"){var G=l({},x);return Object.getOwnPropertySymbols(x).forEach(function(ue){G[ue]=x[ue]}),G}return x}function h(x,N,G){if(x[N]===G)return x;var ue=d(x);return ue[N]=G,ue}function p(x,N){for(var G=x,ue=0;ue<N.length;)G=a(G)?G[N[ue]]:void 0,ue++;return G}function v(x,N,G){var ue=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(N.length===0)return G;var xe=N[0],$e=v(x?x[xe]:void 0,N.slice(1),G,ue);if(!a(x)){if(ue){var L=typeof xe=="number"?[]:{};return L[xe]=$e,L}throw new Error("Path does not exist")}return h(x,xe,$e)}function g(x,N,G){if(N.length===0)return G(x);if(!a(x))throw new Error("Path doesn't exist");var ue=N[0];return h(x,ue,g(x[ue],N.slice(1),G))}function m(x,N){if(N.length===0)return x;if(!a(x))throw new Error("Path does not exist");if(N.length===1){var G=N[0];if(G in x){var ue=d(x);return Array.isArray(ue)?ue.splice(G,1):delete ue[G],ue}return x}var xe=N[0];return h(x,xe,m(x[xe],N.slice(1)))}function y(x,N,G){var ue=N.slice(0,N.length-1),xe=N[N.length-1];return g(x,ue,function($e){if(!Array.isArray($e))throw new TypeError("Array expected at path "+JSON.stringify(ue));var L=d($e);return L.splice(xe,0,G),L})}function b(x,N){return x!==void 0&&(N.length===0||b(x[N[0]],N.slice(1)))}function w(x){var N=x.split("/");return N.shift(),N.map(function(G){return G.replace(/~1/g,"/").replace(/~0/g,"~")})}function k(x){return x.map(function(N){return"/"+String(N).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function $(x,N,G){for(var ue=x,xe=0;xe<N.length;xe++){Y(N[xe]);var $e=F(ue,N[xe]);if(G&&G.before){var L=G.before(ue,$e);L!==void 0&&(L.json!==void 0&&(ue=L.json),L.operation!==void 0&&($e=L.operation))}var Q=ue,M=A[$e.op];if(M)ue=M(ue,$e);else{if($e.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify($e.op));S(ue,$e)}if(G&&G.after){var B=G.after(ue,$e,Q);B!==void 0&&(ue=B)}}return ue}var A={add:T,remove:_,replace:P,copy:C,move:R};function P(x,N){return v(x,N.path,N.value)}function _(x,N){return m(x,N.path)}function T(x,N){var G=N.path,ue=N.value;return j(x,G)?y(x,G,ue):v(x,G,ue)}function C(x,N){var G=N.path,ue=N.from,xe=p(x,ue);return j(x,G)?y(x,G,xe):v(x,G,p(x,ue))}function R(x,N){var G=N.path,ue=N.from,xe=p(x,ue),$e=m(x,ue);return j($e,G)?y($e,G,xe):v($e,G,xe)}function S(x,N){var G=N.path,ue=N.value;if(ue===void 0)throw new Error('Test failed: no value provided (path: "'.concat(k(G),'")'));if(!b(x,G))throw new Error('Test failed: path not found (path: "'.concat(k(G),'")'));if(!n(p(x,G),ue))throw new Error('Test failed, value differs (path: "'.concat(k(G),'")'))}function j(x,N){if(N.length===0)return!1;var G=p(x,o(N));return Array.isArray(G)}function q(x,N){if(i(N)!=="-")return N;var G=o(N),ue=p(x,G);return G.concat(ue.length)}function Y(x){if(!["add","remove","replace","copy","move","test"].includes(x.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(x.op));if(typeof x.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(x));if((x.op==="copy"||x.op==="move")&&typeof x.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(x))}function F(x,N){return{op:N.op,path:q(x,w(N.path)),from:N.from!==void 0?w(N.from):null,value:N.value}}function K(x,N){var G=[];return $(x,N,{before:function(ue,xe){var $e=D[xe.op];$e&&(G=$e(ue,xe).concat(G))}}),G}var D={add:H,remove:W,replace:I,copy:z,move:O};function I(x,N){var G=N.path;return[{op:"replace",path:k(G),value:p(x,G)}]}function W(x,N){var G=N.path;return[{op:"add",path:k(G),value:p(x,G)}]}function H(x,N){var G=N.path,ue=N.value;return j(x,G)||!b(x,G)?[{op:"remove",path:k(G)}]:I(x,{path:G,value:ue})}function z(x,N){return H(x,{path:N.path,value:N.value})}function O(x,N){var G=N.path,ue=N.from;if(G.length<ue.length&&s(ue,G))return[{op:"replace",path:k(G),value:x}];var xe=[{op:"move",from:k(G),path:k(ue)}];return!j(x,G)&&b(x,G)&&(xe=xe.concat(W(x,{path:G}))),xe}t.compileJSONPointer=k,t.deleteIn=m,t.existsIn=b,t.getIn=p,t.immutableJSONPatch=$,t.insertAt=y,t.parseJSONPointer=w,t.revertJSONPatch=K,t.setIn=v,t.updateIn=g,Object.defineProperty(t,"__esModule",{value:!0})})(Se.exports);var qd={},Xj={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},XR="a".charCodeAt();qd.parse=function(t,e,n){var r={},o=0,i=0,s=0,a=n&&n.bigint&&typeof BigInt<"u";return{data:u("",!0),pointers:r};function u($,A){var P;l(),g($,"value");var _=d();switch(_){case"t":c("rue"),P=!0;break;case"f":c("alse"),P=!1;break;case"n":c("ull"),P=null;break;case'"':P=f();break;case"[":P=function(T){l();var C=[],R=0;if(d()=="]")return C;for(h();;){var S=T+"/"+R;C.push(u(S)),l();var j=d();if(j=="]")break;j!=","&&w(),l(),R++}return C}($);break;case"{":P=function(T){l();var C={};if(d()=="}")return C;for(h();;){var R=y();d()!='"'&&w();var S=f(),j=T+"/"+ev(S);m(j,"key",R),g(j,"keyEnd"),l(),d()!=":"&&w(),l(),C[S]=u(j),l();var q=d();if(q=="}")break;q!=","&&w(),l()}return C}($);break;default:h(),"-0123456789".indexOf(_)>=0?P=function(){var T="",C=!0;t[s]=="-"&&(T+=d()),T+=t[s]=="0"?d():v(),t[s]=="."&&(T+=d()+v(),C=!1),t[s]!="e"&&t[s]!="E"||(T+=d(),t[s]!="+"&&t[s]!="-"||(T+=d()),T+=v(),C=!1);var R=+T;return a&&C&&(R>Number.MAX_SAFE_INTEGER||R<Number.MIN_SAFE_INTEGER)?BigInt(T):R}():b()}return g($,"valueEnd"),l(),A&&s<t.length&&b(),P}function l(){e:for(;s<t.length;){switch(t[s]){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,o++;break;default:break e}s++}}function f(){for(var $,A="";($=d())!='"';)$=="\\"?($=d())in Xj?A+=Xj[$]:$=="u"?A+=p():w():A+=$;return A}function c($){for(var A=0;A<$.length;A++)d()!==$[A]&&w()}function d(){k();var $=t[s];return s++,i++,$}function h(){s--,i--}function p(){for(var $=4,A=0;$--;){A<<=4;var P=d().toLowerCase();P>="a"&&P<="f"?A+=P.charCodeAt()-XR+10:P>="0"&&P<="9"?A+=+P:w()}return String.fromCharCode(A)}function v(){for(var $="";t[s]>="0"&&t[s]<="9";)$+=d();if($.length)return $;k(),b()}function g($,A){m($,A,y())}function m($,A,P){r[$]=r[$]||{},r[$][A]=P}function y(){return{line:o,column:i,pos:s}}function b(){throw new SyntaxError("Unexpected token "+t[s]+" in JSON at position "+s)}function w(){h(),b()}function k(){if(s>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},qd.stringify=function(t,e,n){if(Ef(t)){var r,o,i=0,s=ut(n)=="object"?n.space:n;switch(ut(s)){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&y(a," "),r=a,o=a;break;case"string":s=s.slice(0,10),r=0,o=0;for(var u=0;u<s.length;u++){switch(s[u]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var l="",f={},c=0,d=0,h=0,p=n&&n.es6&&typeof Map=="function";return function b(w,k,$){switch(m($,"value"),ut(w)){case"number":case"bigint":case"boolean":v(""+w);break;case"string":v(Pf(w));break;case"object":w===null?v("null"):typeof w.toJSON=="function"?v(Pf(w.toJSON())):Array.isArray(w)?A():p?w.constructor.BYTES_PER_ELEMENT?A():w instanceof Map?_():w instanceof Set?_(!0):P():P()}function A(){if(w.length){v("[");for(var T=k+1,C=0;C<w.length;C++){C&&v(","),g(T);var R=Ef(w[C])?w[C]:null;b(R,T,$+"/"+C)}g(k),v("]")}else v("[]")}function P(){var T=Object.keys(w);if(T.length){v("{");for(var C=k+1,R=0;R<T.length;R++){var S=T[R],j=w[S];if(Ef(j)){R&&v(",");var q=$+"/"+ev(S);g(C),m(q,"key"),v(Pf(S)),m(q,"keyEnd"),v(":"),s&&v(" "),b(j,C,q)}}g(k),v("}")}else v("{}")}function _(T){if(w.size){v("{");for(var C=k+1,R=!0,S=w.entries(),j=S.next();!j.done;){var q=j.value,Y=q[0],F=!!T||q[1];if(Ef(F)){R||v(","),R=!1;var K=$+"/"+ev(Y);g(C),m(K,"key"),v(Pf(Y)),m(K,"keyEnd"),v(":"),s&&v(" "),b(F,C,K)}j=S.next()}g(k),v("}")}else v("{}")}m($,"valueEnd")}(t,0,""),{json:l,pointers:f}}function v(b){d+=b.length,h+=b.length,l+=b}function g(b){if(s){for(l+=`
`+y(b,s),c++,d=0;b--;)i?(c+=i,d=o):d+=o,h+=r;h+=1}}function m(b,w){f[b]=f[b]||{},f[b][w]={line:c,column:d,pos:h}}function y(b,w){return Array(b+1).join(w)}};var ZR=["number","bigint","boolean","string","object"];function Ef(t){return ZR.indexOf(ut(t))>=0}var eD=/"|\\/g,tD=/[\b]/g,nD=/\f/g,rD=/\n/g,oD=/\r/g,iD=/\t/g;function Pf(t){return'"'+(t=t.replace(eD,"\\$&").replace(nD,"\\f").replace(tD,"\\b").replace(rD,"\\n").replace(oD,"\\r").replace(iD,"\\t"))+'"'}var sD=/~/g,aD=/\//g;function ev(t){return t.replace(sD,"~0").replace(aD,"~1")}var na=function(){function t(O,x){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.message=O+" (char "+x+")",this.char=x,this.stack=new Error().stack}(t.prototype=new Error).constructor=Error;var e={"'":!0,"\u2018":!0,"\u2019":!0,"`":!0,"\xB4":!0},n={'"':!0,"\u201C":!0,"\u201D":!0};function r(O){return o.test(O)}var o=/^[a-zA-Z_]$/,i=/^[0-9a-fA-F]$/;function s(O){return a.test(O)}var a=/^[0-9]$/;function u(O){return O===" "||O==="	"||O===`
`||O==="\r"}function l(O){return O==="\xA0"||"\u2000"<=O&&O<="\u200A"||O==="\u202F"||O==="\u205F"||O==="\u3000"}function f(O){return e[O]===!0}function c(O){return n[O]===!0}function d(O){return e[O]===!0?"'":n[O]===!0?'"':O}function h(O,x){return(x=O.lastIndexOf(x))!==-1?O.substring(0,x)+O.substring(x+1):O}function p(O,x){var N=O.length;if(!u(O[N-1]))return O+x;for(;u(O[N-1]);)N--;return O.substring(0,N)+x+O.substring(N)}var v=0,g=1,m=2,y=3,b=4,w=5,k=6,$={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},A={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},P={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},_={null:"null",true:"true",false:"false"},T={None:"null",True:"true",False:"false"},C="",R="",S=0,j="",q="",Y=k;function F(){S++,j=C.charAt(S)}function K(){F(),j==="\\"&&F()}function D(){return Y===v&&(q==="["||q==="{")||Y===m||Y===g||Y===y}function I(){R+=q,Y=k,q="",$[j]?(Y=v,q=j,F()):function(){if(s(j)||j==="-"){if(Y=g,j==="-"){if(q+=j,F(),!s(j))throw new t("Invalid number, digit expected",S)}else j==="0"&&(q+=j,F());for(;s(j);)q+=j,F();if(j==="."){if(q+=j,F(),!s(j))throw new t("Invalid number, digit expected",S);for(;s(j);)q+=j,F()}if(j==="e"||j==="E"){if(q+=j,F(),j!=="+"&&j!=="-"||(q+=j,F()),!s(j))throw new t("Invalid number, digit expected",S);for(;s(j);)q+=j,F()}}else j==="\\"&&C.charAt(S+1)==='"'?(F(),H(K)):H(F)}(),Y===b&&(q=function(O){for(var x="",N=0;N<O.length;N++){var G=O[N];x+=l(G)?" ":G}return x}(q),I()),Y===w&&(Y=k,q="",I())}function W(){q===","&&(q="",Y=k,I())}function H(O){if(e[x=j]===!0||n[x]===!0){var x=d(j),N=f(j)?f:c;for(q+='"',Y=m,O();j!==""&&!N(j);)if(j==="\\")if(O(),A[j]!==void 0)q+="\\"+j,O();else if(j==="u"){q+="\\u",O();for(var G=0;G<4;G++){if(ue=j,!i.test(ue))throw new t("Invalid unicode character",S-q.length);q+=j,O()}}else{if(j!=="'")throw new t('Invalid escape character "\\'+j+'"',S);q+="'",O()}else P[j]?q+=P[j]:q+=j==='"'?'\\"':j,O();if(d(j)!==x)throw new t("End of string expected",S-q.length);return q+='"',void O()}var ue;(function(){if(r(j))for(Y=y;r(j)||s(j)||j==="$";)q+=j,F();else(function(){if(u(j)||l(j))for(Y=b;u(j)||l(j);)q+=j,F();else(function(){if(j!=="/"||C[S+1]!=="*")if(j!=="/"||C[S+1]!=="/")(function(){for(Y=k;j!=="";)q+=j,F();throw new t('Syntax error in part "'+q+'"',S-q.length)})();else for(Y=w;j!==""&&j!==`
`;)q+=j,F();else{for(Y=w;j!==""&&(j!=="*"||j==="*"&&C[S+1]!=="/");)q+=j,F();j==="*"&&C[S+1]==="/"&&(q+=j,F(),q+=j,F())}})()})()})()}function z(){if(Y!==v||q!=="{")(function(){if(Y!==v||q!=="[")(function(){if(Y!==m)(Y!==g?function(){if(Y!==y)(function(){throw new t(q===""?"Unexpected end of json string":"Value expected",S-q.length)})();else if(_[q])I();else{if(T[q])return q=T[q],I();var x=q,N=R.length;if(q="",I(),Y===v&&q==="(")return q="",I(),z(),Y===v&&q===")"&&(q="",I(),Y===v&&q===";"&&(q="",I()));for(R=function(G,ue,xe){return G.substring(0,xe)+ue+G.substring(xe)}(R,'"'.concat(x),N);Y===y||Y===g;)I();R+='"'}}:I)();else for(I();Y===v&&q==="+";){var O;q="",I(),Y===m&&(O=R.lastIndexOf('"'),R=R.substring(0,O)+q.substring(1),q="",I())}})();else if(I(),Y!==v||q!=="]"){for(;;)if(z(),Y===v&&q===","){if(I(),Y===v&&q==="]"){R=h(R,",");break}if(q===""){R=h(R,",");break}}else{if(!D())break;R=p(R,",")}Y===v&&q==="]"?I():R=p(R,"]")}else I()})();else if(I(),Y!==v||q!=="}"){for(;;){if(Y!==y&&Y!==g||(Y=m,q='"'.concat(q,'"')),Y!==m)throw new t("Object key expected",S-q.length);if(I(),Y===v&&q===":")I();else{if(!D())throw new t("Colon expected",S-q.length);R=p(R,":")}if(z(),Y===v&&q===","){if(I(),Y===v&&q==="}"){R=h(R,",");break}if(q===""){R=h(R,",");break}}else{if(Y!==m&&Y!==g&&Y!==y)break;R=p(R,",")}}Y===v&&q==="}"?I():R=p(R,"}")}else I()}return function(O){R="",S=0,j=(C=O).charAt(0),q="",Y=k,I();var x=Y;if(z(),W(),q==="")return R;if(x===Y&&D()){for(var N="";x===Y&&D();)N+=R=p(R,","),R="",z(),W();return`[
`.concat(N).concat(R,`
]`)}throw new t("Unexpected characters",S-q.length)}}();function yr(t){return ut(t)==="object"&&t!==null&&!Array.isArray(t)}function Sr(t){return ut(t)==="object"&&t!==null}function VO(t){var e=window.document.createElement("div");return e.style.color=t,e.style.color.split(/\s+/).join("").toLowerCase()||null}function E0(t){return t===null?"null":t===void 0?"undefined":typeof t=="number"?"number":typeof t=="string"?"string":typeof t=="boolean"?"boolean":t instanceof RegExp?"regexp":Array.isArray(t)?"array":"object"}var uD=/^https?:\/\/\S+$/;function P0(t){return typeof t=="string"&&uD.test(t)}function Gc(t){if(t==="")return"";if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;var e=Number(t);return isNaN(e)||isNaN(parseFloat(t))?t:e}function HO(t){return typeof t=="string"&&typeof Gc(t)!="string"}var lD=[];function Sm(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={};if(!Array.isArray(t))throw new TypeError("Array expected");function r(u,l){(!Array.isArray(u)&&!yr(u)||e&&l.length>0)&&(n[Se.exports.compileJSONPointer(l)]=!0),yr(u)&&Object.keys(u).forEach(function(f){r(u[f],l.concat(f))})}for(var o=Math.min(t.length,1e4),i=0;i<o;i++){var s=t[i];r(s,lD)}var a=Object.keys(n).sort();return a.map(Se.exports.parseJSONPointer)}function T0(t,e,n){if(!(e<=t))for(var r=t;r<e;r++)n(r)}function Zj(t,e){return t.length>e?t.slice(0,e):t}function e_(t){return lt({},t)}function t_(t){return Object.values(t)}function M0(t){try{return JSON.parse(t)}catch{return JSON.parse(na(t))}}function WO(t){try{return M0(t)}catch{return}}function I0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON.parse;t=t.replace(UO,"");try{return e(t)}catch{}try{return e("["+t+"]")}catch{}try{return e("{"+t+"}")}catch{}throw new Error("Failed to parse partial JSON")}function cD(t){t=t.replace(UO,"");try{return na(t)}catch{}try{var e=na("["+t+"]");return e.substring(1,e.length-1)}catch{}try{var n=na("{"+t+"}");return n.substring(1,n.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var UO=/,\s*$/;function JO(t,e){var n=r_.exec(e);if(n){var r=parseInt(n[2],10),o=function(d,h){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d.length,g=0,m=p;m<v;m++)d.charAt(m)===h&&g++;return g}(t,`
`,0,r),i=r-t.lastIndexOf(`
`,r)-1;return{position:r,line:o,column:i,message:e.replace(r_,function(){return"line ".concat(o+1," column ").concat(i+1)})}}var s=dD.exec(e),a=s?parseInt(s[1],10):null,u=a!==null?a-1:null,l=hD.exec(e),f=l?parseInt(l[1],10):null,c=f!==null?f-1:null;return{position:u!==null&&c!==null?function(d,h,p){for(var v=d.indexOf(`
`),g=1;g<h&&v!==-1;)v=d.indexOf(`
`,v+1),g++;return v!==-1?v+p+1:null}(t,u,c):null,line:u,column:c,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function tv(t){return yr(t)?t.json!==void 0?t.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:t.text===void 0?'Content must contain either a property "json" or a property "text"':typeof t.text!="string"?'Content "text" property must be string':null:"Content must be an object"}function Cm(t){return typeof t.text=="string"}function n_(t,e){return fD(t,e)>e}function fD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(Cm(t))return t.text.length;var n=t.json,r=0;function o(i){if(Array.isArray(i)){if((r+=i.length-1+2)>e)return r;for(var s=0;s<i.length;s++)if(o(i[s]),r>e)return r}else if(yr(i)){var a=Object.keys(i);r+=2+a.length+(a.length-1);for(var u=0;u<a.length;u++){var l=a[u],f=i[l];r+=l.length+2,o(f)}}else r+=typeof i=="string"?i.length+2:String(i).length}return o(n),r}var r_=/(position|char) (\d+)/,dD=/line (\d+)/,hD=/column (\d+)/,KO=(typeof global>"u"?"undefined":ut(global))=="object"&&global&&global.Object===Object&&global,pD=(typeof self>"u"?"undefined":ut(self))=="object"&&self&&self.Object===Object&&self,Or=KO||pD||Function("return this")(),Qr=Or.Symbol,GO=Object.prototype,vD=GO.hasOwnProperty,mD=GO.toString,Il=Qr?Qr.toStringTag:void 0,gD=Object.prototype.toString,o_=Qr?Qr.toStringTag:void 0;function fo(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":o_&&o_ in Object(t)?function(e){var n=vD.call(e,Il),r=e[Il];try{e[Il]=void 0;var o=!0}catch{}var i=mD.call(e);return o&&(n?e[Il]=r:delete e[Il]),i}(t):function(e){return gD.call(e)}(t)}function or(t){return t!=null&&ut(t)=="object"}function ko(t){return ut(t)=="symbol"||or(t)&&fo(t)=="[object Symbol]"}function i_(t){return typeof t=="number"?t:ko(t)?NaN:+t}function Yn(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var Vt=Array.isArray,s_=Qr?Qr.prototype:void 0,a_=s_?s_.toString:void 0;function Ro(t){if(typeof t=="string")return t;if(Vt(t))return Yn(t,Ro)+"";if(ko(t))return a_?a_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Xh(t,e){return function(n,r){var o;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(o=n),r!==void 0){if(o===void 0)return r;typeof n=="string"||typeof r=="string"?(n=Ro(n),r=Ro(r)):(n=i_(n),r=i_(r)),o=t(n,r)}return o}}var QO=Xh(function(t,e){return t+e},0),yD=/\s/;function YO(t){for(var e=t.length;e--&&yD.test(t.charAt(e)););return e}var bD=/^\s+/;function XO(t){return t&&t.slice(0,YO(t)+1).replace(bD,"")}function Jn(t){var e=ut(t);return t!=null&&(e=="object"||e=="function")}var wD=/^[-+]0x[0-9a-f]+$/i,kD=/^0b[01]+$/i,xD=/^0o[0-7]+$/i,jD=parseInt;function Io(t){if(typeof t=="number")return t;if(ko(t))return NaN;if(Jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=XO(t);var n=kD.test(t);return n||xD.test(t)?jD(t.slice(2),n?2:8):wD.test(t)?NaN:+t}function Yi(t){return t?(t=Io(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0}function Jt(t){var e=Yi(t),n=e%1;return e==e?n?e-n:e:0}function ZO(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=Jt(t),function(){if(--t<1)return e.apply(this,arguments)}}function Yr(t){return t}function ss(t){if(!Jn(t))return!1;var e=fo(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"}var u_,yd=Or["__core-js_shared__"],l_=(u_=/[^.]+$/.exec(yd&&yd.keys&&yd.keys.IE_PROTO||""))?"Symbol(src)_1."+u_:"",_D=Function.prototype.toString;function uu(t){if(t!=null){try{return _D.call(t)}catch{}try{return t+""}catch{}}return""}var SD=/^\[object .+?Constructor\]$/,CD=Function.prototype,$D=Object.prototype,OD=CD.toString,AD=$D.hasOwnProperty,ED=RegExp("^"+OD.call(AD).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eA(t){return!(!Jn(t)||function(e){return!!l_&&l_ in e}(t))&&(ss(t)?ED:SD).test(uu(t))}function lu(t,e){var n=function(r,o){return r==null?void 0:r[o]}(t,e);return eA(n)?n:void 0}var Sc=lu(Or,"WeakMap"),Vd=Sc&&new Sc,tA=Vd?function(t,e){return Vd.set(t,e),t}:Yr,c_=Object.create,pl=function(){function t(){}return function(e){if(!Jn(e))return{};if(c_)return c_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function ic(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pl(t.prototype),r=t.apply(n,e);return Jn(r)?r:n}}function Do(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var PD=Math.max;function nA(t,e,n,r){for(var o=-1,i=t.length,s=n.length,a=-1,u=e.length,l=PD(i-s,0),f=Array(u+l),c=!r;++a<u;)f[a]=e[a];for(;++o<s;)(c||o<i)&&(f[n[o]]=t[o]);for(;l--;)f[a++]=t[o++];return f}var TD=Math.max;function rA(t,e,n,r){for(var o=-1,i=t.length,s=-1,a=n.length,u=-1,l=e.length,f=TD(i-a,0),c=Array(f+l),d=!r;++o<f;)c[o]=t[o];for(var h=o;++u<l;)c[h+u]=e[u];for(;++s<a;)(d||o<i)&&(c[h+n[s]]=t[o++]);return c}function MD(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function Zh(){}function ln(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function sn(){}ln.prototype=pl(Zh.prototype),ln.prototype.constructor=ln;var N0=Vd?function(t){return Vd.get(t)}:sn,Au={},ID=Object.prototype.hasOwnProperty;function bd(t){for(var e=t.name+"",n=Au[e],r=ID.call(Au,e)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==t)return o.name}return e}function ti(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function yo(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function oA(t){if(t instanceof ln)return t.clone();var e=new ti(t.__wrapped__,t.__chain__);return e.__actions__=yo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}ti.prototype=pl(Zh.prototype),ti.prototype.constructor=ti;var ND=Object.prototype.hasOwnProperty;function X(t){if(or(t)&&!Vt(t)&&!(t instanceof ln)){if(t instanceof ti)return t;if(ND.call(t,"__wrapped__"))return oA(t)}return new ti(t)}function $m(t){var e=bd(t),n=X[e];if(typeof n!="function"||!(e in ln.prototype))return!1;if(t===n)return!0;var r=N0(n);return!!r&&t===r[0]}X.prototype=Zh.prototype,X.prototype.constructor=X;var LD=Date.now;function iA(t){var e=0,n=0;return function(){var r=LD(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sA=iA(tA),RD=/\{\n\/\* \[wrapped with (.+)\] \*/,DD=/,? & /,BD=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ep(t){return function(){return t}}var Hd=function(){try{var t=lu(Object,"defineProperty");return t({},"",{}),t}catch{}}(),L0=iA(Hd?function(t,e){return Hd(t,"toString",{configurable:!0,enumerable:!1,value:ep(e),writable:!0})}:Yr);function Jo(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function tp(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function aA(t){return t!=t}function vl(t,e,n){return e==e?function(r,o,i){for(var s=i-1,a=r.length;++s<a;)if(r[s]===o)return s;return-1}(t,e,n):tp(t,aA,n)}function np(t,e){return!!(t!=null&&t.length)&&vl(t,e,0)>-1}var zD=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function uA(t,e,n){var r=e+"";return L0(t,function(o,i){var s=i.length;if(!s)return o;var a=s-1;return i[a]=(s>1?"& ":"")+i[a],i=i.join(s>2?", ":" "),o.replace(BD,`{
/* [wrapped with `+i+`] */
`)}(r,function(o,i){return Jo(zD,function(s){var a="_."+s[0];i&s[1]&&!np(o,a)&&o.push(a)}),o.sort()}(function(o){var i=o.match(RD);return i?i[1].split(DD):[]}(r),n)))}function lA(t,e,n,r,o,i,s,a,u,l){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var c=[t,e,o,f?i:void 0,f?s:void 0,f?void 0:i,f?void 0:s,a,u,l],d=n.apply(void 0,c);return $m(t)&&sA(d,c),d.placeholder=r,uA(d,t,e)}function ml(t){return t.placeholder}var FD=/^(?:0|[1-9]\d*)$/;function As(t,e){var n=ut(t);return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&FD.test(t))&&t>-1&&t%1==0&&t<e}var qD=Math.min;function VD(t,e){for(var n=t.length,r=qD(e.length,n),o=yo(t);r--;){var i=e[r];t[r]=As(i,n)?o[i]:void 0}return t}function ra(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];s!==e&&s!=="__lodash_placeholder__"||(t[n]="__lodash_placeholder__",i[o++]=n)}return i}function Wd(t,e,n,r,o,i,s,a,u,l){var f=128&e,c=1&e,d=2&e,h=24&e,p=512&e,v=d?void 0:ic(t);return function g(){for(var m=arguments.length,y=Array(m),b=m;b--;)y[b]=arguments[b];if(h)var w=ml(g),k=MD(y,w);if(r&&(y=nA(y,r,o,h)),i&&(y=rA(y,i,s,h)),m-=k,h&&m<l){var $=ra(y,w);return lA(t,e,Wd,g.placeholder,n,y,$,a,u,l-m)}var A=c?n:this,P=d?A[t]:t;return m=y.length,a?y=VD(y,a):p&&m>1&&y.reverse(),f&&u<m&&(y.length=u),this&&this!==Or&&this instanceof g&&(P=v||ic(P)),P.apply(A,y)}}var HD=Math.min,f_=Math.max;function Es(t,e,n,r,o,i,s,a){var u=2&e;if(!u&&typeof t!="function")throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(e&=-97,r=o=void 0),s=s===void 0?s:f_(Jt(s),0),a=a===void 0?a:Jt(a),l-=o?o.length:0,64&e){var f=r,c=o;r=o=void 0}var d=u?void 0:N0(t),h=[t,e,n,r,o,f,c,i,s,a];if(d&&function(v,g){var m=v[1],y=g[1],b=m|y,w=b<131,k=y==128&&m==8||y==128&&m==256&&v[7].length<=g[8]||y==384&&g[7].length<=g[8]&&m==8;if(!w&&!k)return v;1&y&&(v[2]=g[2],b|=1&m?0:4);var $=g[3];if($){var A=v[3];v[3]=A?nA(A,$,g[4]):$,v[4]=A?ra(v[3],"__lodash_placeholder__"):g[4]}($=g[5])&&(A=v[5],v[5]=A?rA(A,$,g[6]):$,v[6]=A?ra(v[5],"__lodash_placeholder__"):g[6]),($=g[7])&&(v[7]=$),128&y&&(v[8]=v[8]==null?g[8]:HD(v[8],g[8])),v[9]==null&&(v[9]=g[9]),v[0]=g[0],v[1]=b}(h,d),t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],!(a=h[9]=h[9]===void 0?u?0:t.length:f_(h[9]-l,0))&&24&e&&(e&=-25),e&&e!=1)p=e==8||e==16?function(v,g,m){var y=ic(v);return function b(){for(var w=arguments.length,k=Array(w),$=w,A=ml(b);$--;)k[$]=arguments[$];var P=w<3&&k[0]!==A&&k[w-1]!==A?[]:ra(k,A);return(w-=P.length)<m?lA(v,g,Wd,b.placeholder,void 0,k,P,void 0,void 0,m-w):Do(this&&this!==Or&&this instanceof b?y:v,this,k)}}(t,e,a):e!=32&&e!=33||o.length?Wd.apply(void 0,h):function(v,g,m,y){var b=1&g,w=ic(v);return function k(){for(var $=-1,A=arguments.length,P=-1,_=y.length,T=Array(_+A),C=this&&this!==Or&&this instanceof k?w:v;++P<_;)T[P]=y[P];for(;A--;)T[P++]=arguments[++$];return Do(C,b?m:this,T)}}(t,e,n,r);else var p=function(v,g,m){var y=1&g,b=ic(v);return function w(){return(this&&this!==Or&&this instanceof w?b:v).apply(y?m:this,arguments)}}(t,e,n);return uA((d?tA:sA)(p,h),t,e)}function R0(t,e,n){return e=n?void 0:e,Es(t,128,void 0,void 0,void 0,void 0,e=t&&e==null?t.length:e)}function Ps(t,e,n){e=="__proto__"&&Hd?Hd(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ai(t,e){return t===e||t!=t&&e!=e}var WD=Object.prototype.hasOwnProperty;function Qc(t,e,n){var r=t[e];WD.call(t,e)&&ai(r,n)&&(n!==void 0||e in t)||Ps(t,e,n)}function Xi(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),o?Ps(n,a,u):Qc(n,a,u)}return n}var d_=Math.max;function cA(t,e,n){return e=d_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=d_(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),Do(t,this,a)}}function on(t,e){return L0(cA(t,e,Yr),t+"")}function Yc(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}function ho(t){return t!=null&&Yc(t.length)&&!ss(t)}function lo(t,e,n){if(!Jn(n))return!1;var r=ut(e);return!!(r=="number"?ho(n)&&As(e,n.length):r=="string"&&e in n)&&ai(n[e],t)}function gl(t){return on(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&lo(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}var UD=Object.prototype;function Xc(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||UD)}function D0(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function h_(t){return or(t)&&fo(t)=="[object Arguments]"}var fA=Object.prototype,JD=fA.hasOwnProperty,KD=fA.propertyIsEnumerable,fa=h_(function(){return arguments}())?h_:function(t){return or(t)&&JD.call(t,"callee")&&!KD.call(t,"callee")};function rp(){return!1}var dA=(typeof Ur>"u"?"undefined":ut(Ur))=="object"&&Ur&&!Ur.nodeType&&Ur,p_=dA&&(typeof Jr>"u"?"undefined":ut(Jr))=="object"&&Jr&&!Jr.nodeType&&Jr,v_=p_&&p_.exports===dA?Or.Buffer:void 0,Cs=(v_?v_.isBuffer:void 0)||rp,Vn={};function Bo(t){return function(e){return t(e)}}Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Arguments]"]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object Boolean]"]=Vn["[object DataView]"]=Vn["[object Date]"]=Vn["[object Error]"]=Vn["[object Function]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn["[object Object]"]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object WeakMap]"]=!1;var hA=(typeof Ur>"u"?"undefined":ut(Ur))=="object"&&Ur&&!Ur.nodeType&&Ur,sc=hA&&(typeof Jr>"u"?"undefined":ut(Jr))=="object"&&Jr&&!Jr.nodeType&&Jr,nv=sc&&sc.exports===hA&&KO.process,ii=function(){try{var t=sc&&sc.require&&sc.require("util").types;return t||nv&&nv.binding&&nv.binding("util")}catch{}}(),m_=ii&&ii.isTypedArray,cu=m_?Bo(m_):function(t){return or(t)&&Yc(t.length)&&!!Vn[fo(t)]},GD=Object.prototype.hasOwnProperty;function pA(t,e){var n=Vt(t),r=!n&&fa(t),o=!n&&!r&&Cs(t),i=!n&&!r&&!o&&cu(t),s=n||r||o||i,a=s?D0(t.length,String):[],u=a.length;for(var l in t)!e&&!GD.call(t,l)||s&&(l=="length"||o&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||As(l,u))||a.push(l);return a}function vA(t,e){return function(n){return t(e(n))}}var QD=vA(Object.keys,Object),YD=Object.prototype.hasOwnProperty;function B0(t){if(!Xc(t))return QD(t);var e=[];for(var n in Object(t))YD.call(t,n)&&n!="constructor"&&e.push(n);return e}function gr(t){return ho(t)?pA(t):B0(t)}var XD=Object.prototype.hasOwnProperty,mA=gl(function(t,e){if(Xc(e)||ho(e))Xi(e,gr(e),t);else for(var n in e)XD.call(e,n)&&Qc(t,n,e[n])}),ZD=Object.prototype.hasOwnProperty;function eB(t){if(!Jn(t))return function(o){var i=[];if(o!=null)for(var s in Object(o))i.push(s);return i}(t);var e=Xc(t),n=[];for(var r in t)(r!="constructor"||!e&&ZD.call(t,r))&&n.push(r);return n}function co(t){return ho(t)?pA(t,!0):eB(t)}var Ud=gl(function(t,e){Xi(e,co(e),t)}),Uu=gl(function(t,e,n,r){Xi(e,co(e),t,r)}),gA=gl(function(t,e,n,r){Xi(e,gr(e),t,r)}),tB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nB=/^\w*$/;function z0(t,e){if(Vt(t))return!1;var n=ut(t);return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ko(t))||nB.test(t)||!tB.test(t)||e!=null&&t in Object(e)}var Nl=lu(Object,"create"),rB=Object.prototype.hasOwnProperty,oB=Object.prototype.hasOwnProperty;function Ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tf(t,e){for(var n=t.length;n--;)if(ai(t[n][0],e))return n;return-1}Ba.prototype.clear=function(){this.__data__=Nl?Nl(null):{},this.size=0},Ba.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ba.prototype.get=function(t){var e=this.__data__;if(Nl){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return rB.call(e,t)?e[t]:void 0},Ba.prototype.has=function(t){var e=this.__data__;return Nl?e[t]!==void 0:oB.call(e,t)},Ba.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Nl&&e===void 0?"__lodash_hash_undefined__":e,this};var iB=Array.prototype.splice;function ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ps.prototype.clear=function(){this.__data__=[],this.size=0},ps.prototype.delete=function(t){var e=this.__data__,n=Tf(e,t);return!(n<0)&&(n==e.length-1?e.pop():iB.call(e,n,1),--this.size,!0)},ps.prototype.get=function(t){var e=this.__data__,n=Tf(e,t);return n<0?void 0:e[n][1]},ps.prototype.has=function(t){return Tf(this.__data__,t)>-1},ps.prototype.set=function(t,e){var n=this.__data__,r=Tf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Cc=lu(Or,"Map");function Mf(t,e){var n,r,o=t.__data__;return((r=ut(n=e))=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null)?o[typeof e=="string"?"string":"hash"]:o.map}function vs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vs.prototype.clear=function(){this.size=0,this.__data__={hash:new Ba,map:new(Cc||ps),string:new Ba}},vs.prototype.delete=function(t){var e=Mf(this,t).delete(t);return this.size-=e?1:0,e},vs.prototype.get=function(t){return Mf(this,t).get(t)},vs.prototype.has=function(t){return Mf(this,t).has(t)},vs.prototype.set=function(t,e){var n=Mf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function yl(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function r(){var o=arguments,i=e?e.apply(this,o):o[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,o);return r.cache=s.set(i,a)||s,a};return n.cache=new(yl.Cache||vs),n}yl.Cache=vs;var sB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aB=/\\(\\)?/g,yA=function(t){var e=yl(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sB,function(n,r,o,i){e.push(o?i.replace(aB,"$1"):r||n)}),e});function En(t){return t==null?"":Ro(t)}function ya(t,e){return Vt(t)?t:z0(t,e)?[t]:yA(En(t))}function as(t){if(typeof t=="string"||ko(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function fu(t,e){for(var n=0,r=(e=ya(e,t)).length;t!=null&&n<r;)t=t[as(e[n++])];return n&&n==r?t:void 0}function op(t,e,n){var r=t==null?void 0:fu(t,e);return r===void 0?n:r}function F0(t,e){for(var n=-1,r=e.length,o=Array(r),i=t==null;++n<r;)o[n]=i?void 0:op(t,e[n]);return o}function ba(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var g_=Qr?Qr.isConcatSpreadable:void 0;function uB(t){return Vt(t)||fa(t)||!!(g_&&t&&t[g_])}function zr(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=uB),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?zr(a,e-1,n,r,o):ba(o,a):r||(o[o.length]=a)}return o}function q0(t){return t!=null&&t.length?zr(t,1):[]}function Ts(t){return L0(cA(t,void 0,q0),t+"")}var bA=Ts(F0),ip=vA(Object.getPrototypeOf,Object),lB=Function.prototype,cB=Object.prototype,wA=lB.toString,fB=cB.hasOwnProperty,dB=wA.call(Object);function bl(t){if(!or(t)||fo(t)!="[object Object]")return!1;var e=ip(t);if(e===null)return!0;var n=fB.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wA.call(n)==dB}function sp(t){if(!or(t))return!1;var e=fo(t);return e=="[object Error]"||e=="[object DOMException]"||typeof t.message=="string"&&typeof t.name=="string"&&!bl(t)}var V0=on(function(t,e){try{return Do(t,void 0,e)}catch(n){return sp(n)?n:new Error(n)}});function H0(t,e){var n;if(typeof e!="function")throw new TypeError("Expected a function");return t=Jt(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Zc=on(function(t,e,n){var r=1;if(n.length){var o=ra(n,ml(Zc));r|=32}return Es(t,r,e,n,o)});Zc.placeholder={};var kA=Ts(function(t,e){return Jo(e,function(n){n=as(n),Ps(t,n,Zc(t[n],t))}),t}),ap=on(function(t,e,n){var r=3;if(n.length){var o=ra(n,ml(ap));r|=32}return Es(e,r,t,n,o)});function si(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function wa(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:si(t,e,n)}ap.placeholder={};var hB=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function wl(t){return hB.test(t)}var pB="[\\ud800-\\udfff]",Om="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Am="\\ud83c[\\udffb-\\udfff]",xA="[^\\ud800-\\udfff]",jA="(?:\\ud83c[\\udde6-\\uddff]){2}",_A="[\\ud800-\\udbff][\\udc00-\\udfff]",y_="(?:"+Om+"|"+Am+")?",vB="[\\ufe0e\\ufe0f]?"+y_+("(?:\\u200d(?:"+[xA,jA,_A].join("|")+")[\\ufe0e\\ufe0f]?"+y_+")*"),mB="(?:"+[xA+Om+"?",Om,jA,_A,pB].join("|")+")",gB=RegExp(Am+"(?="+Am+")|"+mB+vB,"g");function Oi(t){return wl(t)?function(e){return e.match(gB)||[]}(t):function(e){return e.split("")}(t)}function SA(t){return function(e){var n=wl(e=En(e))?Oi(e):void 0,r=n?n[0]:e.charAt(0),o=n?wa(n,1).join(""):e.slice(1);return r[t]()+o}}var up=SA("toUpperCase");function W0(t){return up(En(t).toLowerCase())}function U0(t,e,n,r){var o=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function J0(t){return function(e){return t==null?void 0:t[e]}}var yB=J0({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),bB=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wB=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function K0(t){return(t=En(t))&&t.replace(bB,yB).replace(wB,"")}var kB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xB=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,CA="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",b_="["+CA+"]",$A="\\d+",jB="[\\u2700-\\u27bf]",OA="[a-z\\xdf-\\xf6\\xf8-\\xff]",AA="[^\\ud800-\\udfff"+CA+$A+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",EA="(?:\\ud83c[\\udde6-\\uddff]){2}",PA="[\\ud800-\\udbff][\\udc00-\\udfff]",_u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",w_="(?:"+OA+"|"+AA+")",_B="(?:"+_u+"|"+AA+")",k_="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",SB="[\\ufe0e\\ufe0f]?"+k_+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",EA,PA].join("|")+")[\\ufe0e\\ufe0f]?"+k_+")*"),CB="(?:"+[jB,EA,PA].join("|")+")"+SB,$B=RegExp([_u+"?"+OA+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[b_,_u,"$"].join("|")+")",_B+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[b_,_u+w_,"$"].join("|")+")",_u+"?"+w_+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_u+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$A,CB].join("|"),"g");function G0(t,e,n){return t=En(t),(e=n?void 0:e)===void 0?function(r){return xB.test(r)}(t)?function(r){return r.match($B)||[]}(t):function(r){return r.match(kB)||[]}(t):t.match(e)||[]}var OB=RegExp("['\u2019]","g");function kl(t){return function(e){return U0(G0(K0(e).replace(OB,"")),t,"")}}var TA=kl(function(t,e,n){return e=e.toLowerCase(),t+(n?W0(e):e)});function MA(){if(!arguments.length)return[];var t=arguments[0];return Vt(t)?t:[t]}var AB=Or.isFinite,EB=Math.min;function Q0(t){var e=Math[t];return function(n,r){if(n=Io(n),(r=r==null?0:EB(Jt(r),292))&&AB(n)){var o=(En(n)+"e").split("e");return+((o=(En(e(o[0]+"e"+(+o[1]+r)))+"e").split("e"))[0]+"e"+(+o[1]-r))}return e(n)}}var IA=Q0("ceil");function Y0(t){var e=X(t);return e.__chain__=!0,e}var PB=Math.ceil,TB=Math.max;function NA(t,e,n){e=(n?lo(t,e,n):e===void 0)?1:TB(Jt(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,s=Array(PB(r/e));o<r;)s[i++]=si(t,o,o+=e);return s}function du(t,e,n){return t==t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function LA(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=(n=Io(n))==n?n:0),e!==void 0&&(e=(e=Io(e))==e?e:0),du(Io(t),e,n)}function vi(t){var e=this.__data__=new ps(t);this.size=e.size}function RA(t,e){return t&&Xi(e,gr(e),t)}vi.prototype.clear=function(){this.__data__=new ps,this.size=0},vi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},vi.prototype.get=function(t){return this.__data__.get(t)},vi.prototype.has=function(t){return this.__data__.has(t)},vi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ps){var r=n.__data__;if(!Cc||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vs(r)}return n.set(t,e),this.size=n.size,this};var DA=(typeof Ur>"u"?"undefined":ut(Ur))=="object"&&Ur&&!Ur.nodeType&&Ur,x_=DA&&(typeof Jr>"u"?"undefined":ut(Jr))=="object"&&Jr&&!Jr.nodeType&&Jr,j_=x_&&x_.exports===DA?Or.Buffer:void 0,__=j_?j_.allocUnsafe:void 0;function BA(t,e){if(e)return t.slice();var n=t.length,r=__?__(n):new t.constructor(n);return t.copy(r),r}function ka(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function lp(){return[]}var MB=Object.prototype.propertyIsEnumerable,S_=Object.getOwnPropertySymbols,X0=S_?function(t){return t==null?[]:(t=Object(t),ka(S_(t),function(e){return MB.call(t,e)}))}:lp,zA=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ba(e,X0(t)),t=ip(t);return e}:lp;function FA(t,e,n){var r=e(t);return Vt(t)?r:ba(r,n(t))}function Em(t){return FA(t,gr,X0)}function Z0(t){return FA(t,co,zA)}var Pm=lu(Or,"DataView"),Tm=lu(Or,"Promise"),Lu=lu(Or,"Set"),IB=uu(Pm),NB=uu(Cc),LB=uu(Tm),RB=uu(Lu),DB=uu(Sc),Na=fo;(Pm&&Na(new Pm(new ArrayBuffer(1)))!="[object DataView]"||Cc&&Na(new Cc)!="[object Map]"||Tm&&Na(Tm.resolve())!="[object Promise]"||Lu&&Na(new Lu)!="[object Set]"||Sc&&Na(new Sc)!="[object WeakMap]")&&(Na=function(t){var e=fo(t),n=e=="[object Object]"?t.constructor:void 0,r=n?uu(n):"";if(r)switch(r){case IB:return"[object DataView]";case NB:return"[object Map]";case LB:return"[object Promise]";case RB:return"[object Set]";case DB:return"[object WeakMap]"}return e});var rs=Na,BB=Object.prototype.hasOwnProperty,Jd=Or.Uint8Array;function Mm(t){var e=new t.constructor(t.byteLength);return new Jd(e).set(new Jd(t)),e}var zB=/\w*$/,C_=Qr?Qr.prototype:void 0,$_=C_?C_.valueOf:void 0;function qA(t,e){var n=e?Mm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function FB(t,e,n){var r,o=t.constructor;switch(e){case"[object ArrayBuffer]":return Mm(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(i,s){var a=s?Mm(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return qA(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(i){var s=new i.constructor(i.source,zB.exec(i));return s.lastIndex=i.lastIndex,s}(t);case"[object Set]":return new o;case"[object Symbol]":return r=t,$_?Object($_.call(r)):{}}}function VA(t){return typeof t.constructor!="function"||Xc(t)?{}:pl(ip(t))}var O_=ii&&ii.isMap,ey=O_?Bo(O_):function(t){return or(t)&&rs(t)=="[object Map]"},A_=ii&&ii.isSet,ty=A_?Bo(A_):function(t){return or(t)&&rs(t)=="[object Set]"},Bn={};function ni(t,e,n,r,o,i){var s,a=1&e,u=2&e,l=4&e;if(n&&(s=o?n(t,r,o,i):n(t)),s!==void 0)return s;if(!Jn(t))return t;var f=Vt(t);if(f){if(s=function(v){var g=v.length,m=new v.constructor(g);return g&&typeof v[0]=="string"&&BB.call(v,"index")&&(m.index=v.index,m.input=v.input),m}(t),!a)return yo(t,s)}else{var c=rs(t),d=c=="[object Function]"||c=="[object GeneratorFunction]";if(Cs(t))return BA(t,a);if(c=="[object Object]"||c=="[object Arguments]"||d&&!o){if(s=u||d?{}:VA(t),!a)return u?function(v,g){return Xi(v,zA(v),g)}(t,function(v,g){return v&&Xi(g,co(g),v)}(s,t)):function(v,g){return Xi(v,X0(v),g)}(t,RA(s,t))}else{if(!Bn[c])return o?t:{};s=FB(t,c,a)}}i||(i=new vi);var h=i.get(t);if(h)return h;i.set(t,s),ty(t)?t.forEach(function(v){s.add(ni(v,e,n,v,t,i))}):ey(t)&&t.forEach(function(v,g){s.set(g,ni(v,e,n,g,t,i))});var p=f?void 0:(l?u?Z0:Em:u?co:gr)(t);return Jo(p||t,function(v,g){p&&(v=t[g=v]),Qc(s,g,ni(v,e,n,g,t,i))}),s}Bn["[object Arguments]"]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn["[object Function]"]=Bn["[object WeakMap]"]=!1;function HA(t){return ni(t,4)}function WA(t){return ni(t,5)}function ny(t,e){return ni(t,5,e=typeof e=="function"?e:void 0)}function UA(t,e){return ni(t,4,e=typeof e=="function"?e:void 0)}function Im(){return new ti(this.value(),this.__chain__)}function JA(t){for(var e=-1,n=t==null?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function KA(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ba(Vt(n)?yo(n):[n],zr(e,1))}function Ya(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vs;++e<n;)this.add(t[e])}function ry(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function $c(t,e){return t.has(e)}Ya.prototype.add=Ya.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ya.prototype.has=function(t){return this.__data__.has(t)};function E_(t,e,n,r,o,i){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=i.get(t),f=i.get(e);if(l&&f)return l==e&&f==t;var c=-1,d=!0,h=2&n?new Ya:void 0;for(i.set(t,e),i.set(e,t);++c<a;){var p=t[c],v=e[c];if(r)var g=s?r(v,p,c,e,t,i):r(p,v,c,t,e,i);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!ry(e,function(m,y){if(!$c(h,y)&&(p===m||o(p,m,n,r,i)))return h.push(y)})){d=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function oy(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function cp(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P_=Qr?Qr.prototype:void 0,rv=P_?P_.valueOf:void 0,qB=Object.prototype.hasOwnProperty,If="[object Object]",T_=Object.prototype.hasOwnProperty;function VB(t,e,n,r,o,i){var s=Vt(t),a=Vt(e),u=s?"[object Array]":rs(t),l=a?"[object Array]":rs(e),f=(u=u=="[object Arguments]"?If:u)==If,c=(l=l=="[object Arguments]"?If:l)==If,d=u==l;if(d&&Cs(t)){if(!Cs(e))return!1;s=!0,f=!1}if(d&&!f)return i||(i=new vi),s||cu(t)?E_(t,e,n,r,o,i):function(m,y,b,w,k,$,A){switch(b){case"[object DataView]":if(m.byteLength!=y.byteLength||m.byteOffset!=y.byteOffset)return!1;m=m.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(m.byteLength!=y.byteLength||!$(new Jd(m),new Jd(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ai(+m,+y);case"[object Error]":return m.name==y.name&&m.message==y.message;case"[object RegExp]":case"[object String]":return m==y+"";case"[object Map]":var P=oy;case"[object Set]":var _=1&w;if(P||(P=cp),m.size!=y.size&&!_)return!1;var T=A.get(m);if(T)return T==y;w|=2,A.set(m,y);var C=E_(P(m),P(y),w,k,$,A);return A.delete(m),C;case"[object Symbol]":if(rv)return rv.call(m)==rv.call(y)}return!1}(t,e,u,n,r,o,i);if(!(1&n)){var h=f&&T_.call(t,"__wrapped__"),p=c&&T_.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,g=p?e.value():e;return i||(i=new vi),o(v,g,n,r,i)}}return!!d&&(i||(i=new vi),function(m,y,b,w,k,$){var A=1&b,P=Em(m),_=P.length;if(_!=Em(y).length&&!A)return!1;for(var T=_;T--;){var C=P[T];if(!(A?C in y:qB.call(y,C)))return!1}var R=$.get(m),S=$.get(y);if(R&&S)return R==y&&S==m;var j=!0;$.set(m,y),$.set(y,m);for(var q=A;++T<_;){var Y=m[C=P[T]],F=y[C];if(w)var K=A?w(F,Y,C,y,m,$):w(Y,F,C,m,y,$);if(!(K===void 0?Y===F||k(Y,F,b,w,$):K)){j=!1;break}q||(q=C=="constructor")}if(j&&!q){var D=m.constructor,I=y.constructor;D==I||!("constructor"in m)||!("constructor"in y)||typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I||(j=!1)}return $.delete(m),$.delete(y),j}(t,e,n,r,o,i))}function ef(t,e,n,r,o){return t===e||(t==null||e==null||!or(t)&&!or(e)?t!=t&&e!=e:VB(t,e,n,r,ef,o))}function iy(t,e,n,r){var o=n.length,i=o,s=!r;if(t==null)return!i;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var u=(a=n[o])[0],l=t[u],f=a[1];if(s&&a[2]){if(l===void 0&&!(u in t))return!1}else{var c=new vi;if(r)var d=r(l,f,u,t,e,c);if(!(d===void 0?ef(f,l,3,r,c):d))return!1}}return!0}function GA(t){return t==t&&!Jn(t)}function sy(t){for(var e=gr(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,GA(o)]}return e}function QA(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}}function YA(t){var e=sy(t);return e.length==1&&e[0][2]?QA(e[0][0],e[0][1]):function(n){return n===t||iy(n,t,e)}}function HB(t,e){return t!=null&&e in Object(t)}function XA(t,e,n){for(var r=-1,o=(e=ya(e,t)).length,i=!1;++r<o;){var s=as(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:!!(o=t==null?0:t.length)&&Yc(o)&&As(s,o)&&(Vt(t)||fa(t))}function fp(t,e){return t!=null&&XA(t,e,HB)}function ZA(t,e){return z0(t)&&GA(e)?QA(as(t),e):function(n){var r=op(n,t);return r===void 0&&r===e?fp(n,t):ef(e,r,3)}}function ay(t){return function(e){return e==null?void 0:e[t]}}function uy(t){return z0(t)?ay(as(t)):function(e){return function(n){return fu(n,e)}}(t)}function Ht(t){return typeof t=="function"?t:t==null?Yr:ut(t)=="object"?Vt(t)?ZA(t[0],t[1]):YA(t):uy(t)}function e6(t){var e=t==null?0:t.length,n=Ht;return t=e?Yn(t,function(r){if(typeof r[1]!="function")throw new TypeError("Expected a function");return[n(r[0]),r[1]]}):[],on(function(r){for(var o=-1;++o<e;){var i=t[o];if(Do(i[0],this,r))return Do(i[1],this,r)}})}function t6(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var o=n[r],i=e[o],s=t[o];if(s===void 0&&!(o in t)||!i(s))return!1}return!0}function n6(t){return function(e){var n=gr(e);return function(r){return t6(r,e,n)}}(ni(t,1))}function r6(t,e){return e==null||t6(t,e,gr(e))}function WB(t,e,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}function o6(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++o];if(n(i[u],u,i)===!1)break}return e}}var ly=o6();function Zi(t,e){return t&&ly(t,e,gr)}function i6(t,e){return function(n,r){if(n==null)return n;if(!ho(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=Object(n);(e?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var xa=i6(Zi);function UB(t,e,n,r){return xa(t,function(o,i,s){e(r,o,n(o),s)}),r}function dp(t,e){return function(n,r){var o=Vt(n)?WB:UB,i=e?e():{};return o(n,t,Ht(r),i)}}var JB=Object.prototype.hasOwnProperty,s6=dp(function(t,e,n){JB.call(t,n)?++t[n]:Ps(t,n,1)});function a6(t,e){var n=pl(t);return e==null?n:RA(n,e)}function hp(t,e,n){var r=Es(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=hp.placeholder,r}hp.placeholder={};function pp(t,e,n){var r=Es(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=pp.placeholder,r}pp.placeholder={};var ac=function(){return Or.Date.now()},KB=Math.max,GB=Math.min;function xl(t,e,n){var r,o,i,s,a,u,l=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError("Expected a function");function h(b){var w=r,k=o;return r=o=void 0,l=b,s=t.apply(k,w)}function p(b){return l=b,a=setTimeout(g,e),f?h(b):s}function v(b){var w=b-u;return u===void 0||w>=e||w<0||c&&b-l>=i}function g(){var b=ac();if(v(b))return m(b);a=setTimeout(g,function(w){var k=e-(w-u);return c?GB(k,i-(w-l)):k}(b))}function m(b){return a=void 0,d&&r?h(b):(r=o=void 0,s)}function y(){var b=ac(),w=v(b);if(r=arguments,o=this,u=b,w){if(a===void 0)return p(u);if(c)return clearTimeout(a),a=setTimeout(g,e),h(u)}return a===void 0&&(a=setTimeout(g,e)),s}return e=Io(e)||0,Jn(n)&&(f=!!n.leading,i=(c="maxWait"in n)?KB(Io(n.maxWait)||0,e):i,d="trailing"in n?!!n.trailing:d),y.cancel=function(){a!==void 0&&clearTimeout(a),l=0,r=u=o=a=void 0},y.flush=function(){return a===void 0?s:m(ac())},y}function u6(t,e){return t==null||t!=t?e:t}var l6=Object.prototype,QB=l6.hasOwnProperty,c6=on(function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&lo(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],s=co(i),a=-1,u=s.length;++a<u;){var l=s[a],f=t[l];(f===void 0||ai(f,l6[l])&&!QB.call(t,l))&&(t[l]=i[l])}return t});function ov(t,e,n){(n!==void 0&&!ai(t[e],n)||n===void 0&&!(e in t))&&Ps(t,e,n)}function ur(t){return or(t)&&ho(t)}function iv(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}function cy(t){return Xi(t,co(t))}function vp(t,e,n,r,o){t!==e&&ly(e,function(i,s){if(o||(o=new vi),Jn(i))(function(u,l,f,c,d,h,p){var v=iv(u,f),g=iv(l,f),m=p.get(g);if(m)ov(u,f,m);else{var y=h?h(v,g,f+"",u,l,p):void 0,b=y===void 0;if(b){var w=Vt(g),k=!w&&Cs(g),$=!w&&!k&&cu(g);y=g,w||k||$?Vt(v)?y=v:ur(v)?y=yo(v):k?(b=!1,y=BA(g,!0)):$?(b=!1,y=qA(g,!0)):y=[]:bl(g)||fa(g)?(y=v,fa(v)?y=cy(v):Jn(v)&&!ss(v)||(y=VA(g))):b=!1}b&&(p.set(g,y),d(y,g,c,h,p),p.delete(g)),ov(u,f,y)}})(t,e,s,n,vp,r,o);else{var a=r?r(iv(t,s),i,s+"",t,e,o):void 0;a===void 0&&(a=i),ov(t,s,a)}},co)}function f6(t,e,n,r,o,i){return Jn(t)&&Jn(e)&&(i.set(e,t),vp(t,e,void 0,f6,i),i.delete(e)),t}var fy=gl(function(t,e,n,r){vp(t,e,n,r)}),d6=on(function(t){return t.push(void 0,f6),Do(fy,void 0,t)});function h6(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(function(){t.apply(void 0,n)},e)}var p6=on(function(t,e){return h6(t,1,e)}),v6=on(function(t,e,n){return h6(t,Io(e)||0,n)});function dy(t,e,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function tf(t,e,n,r){var o=-1,i=np,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=Yn(e,Bo(n))),r?(i=dy,s=!1):e.length>=200&&(i=$c,s=!1,e=new Ya(e));e:for(;++o<a;){var f=t[o],c=n==null?f:n(f);if(f=r||f!==0?f:0,s&&c==c){for(var d=l;d--;)if(e[d]===c)continue e;u.push(f)}else i(e,c,r)||u.push(f)}return u}var m6=on(function(t,e){return ur(t)?tf(t,zr(e,1,ur,!0)):[]});function ht(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var g6=on(function(t,e){var n=ht(e);return ur(n)&&(n=void 0),ur(t)?tf(t,zr(e,1,ur,!0),Ht(n)):[]}),y6=on(function(t,e){var n=ht(e);return ur(n)&&(n=void 0),ur(t)?tf(t,zr(e,1,ur,!0),void 0,n):[]}),b6=Xh(function(t,e){return t/e},1);function w6(t,e,n){var r=t==null?0:t.length;return r?si(t,(e=n||e===void 0?1:Jt(e))<0?0:e,r):[]}function k6(t,e,n){var r=t==null?0:t.length;return r?si(t,0,(e=r-(e=n||e===void 0?1:Jt(e)))<0?0:e):[]}function mp(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?si(t,r?0:i,r?i+1:o):si(t,r?i+1:0,r?o:i)}function x6(t,e){return t&&t.length?mp(t,Ht(e),!0,!0):[]}function j6(t,e){return t&&t.length?mp(t,Ht(e),!0):[]}function us(t){return typeof t=="function"?t:Yr}function Kd(t,e){return(Vt(t)?Jo:xa)(t,us(e))}function YB(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var _6=o6(!0);function hy(t,e){return t&&_6(t,e,gr)}var S6=i6(hy,!0);function Oc(t,e){return(Vt(t)?YB:S6)(t,us(e))}function C6(t,e,n){t=En(t),e=Ro(e);var r=t.length,o=n=n===void 0?r:du(Jt(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e}function $6(t){return function(e){var n=rs(e);return n=="[object Map]"?oy(e):n=="[object Set]"?function(r){var o=-1,i=Array(r.size);return r.forEach(function(s){i[++o]=[s,s]}),i}(e):function(r,o){return Yn(o,function(i){return[i,r[i]]})}(e,t(e))}}var Gd=$6(gr),Qd=$6(co),XB=J0({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),O6=/[&<>"']/g,ZB=RegExp(O6.source);function py(t){return(t=En(t))&&ZB.test(t)?t.replace(O6,XB):t}var A6=/[\\^$.*+?()[\]{}|]/g,ez=RegExp(A6.source);function E6(t){return(t=En(t))&&ez.test(t)?t.replace(A6,"\\$&"):t}function P6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function tz(t,e){var n=!0;return xa(t,function(r,o,i){return n=!!e(r,o,i)}),n}function T6(t,e,n){var r=Vt(t)?P6:tz;return n&&lo(t,e,n)&&(e=void 0),r(t,Ht(e))}function vy(t){return t?du(Jt(t),0,4294967295):0}function M6(t,e,n,r){var o=t==null?0:t.length;return o?(n&&typeof n!="number"&&lo(t,e,n)&&(n=0,r=o),function(i,s,a,u){var l=i.length;for((a=Jt(a))<0&&(a=-a>l?0:l+a),(u=u===void 0||u>l?l:Jt(u))<0&&(u+=l),u=a>u?0:vy(u);a<u;)i[a++]=s;return i}(t,e,n,r)):[]}function I6(t,e){var n=[];return xa(t,function(r,o,i){e(r,o,i)&&n.push(r)}),n}function N6(t,e){return(Vt(t)?ka:I6)(t,Ht(e))}function L6(t){return function(e,n,r){var o=Object(e);if(!ho(e)){var i=Ht(n);e=gr(e),n=function(a){return i(o[a],a,o)}}var s=t(e,n,r);return s>-1?o[i?e[s]:s]:void 0}}var nz=Math.max;function my(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:Jt(n);return o<0&&(o=nz(r+o,0)),tp(t,Ht(e),o)}var R6=L6(my);function D6(t,e,n){var r;return n(t,function(o,i,s){if(e(o,i,s))return r=i,!1}),r}function B6(t,e){return D6(t,Ht(e),Zi)}var rz=Math.max,oz=Math.min;function gy(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r-1;return n!==void 0&&(o=Jt(n),o=n<0?rz(r+o,0):oz(o,r-1)),tp(t,Ht(e),o,!0)}var z6=L6(gy);function F6(t,e){return D6(t,Ht(e),hy)}function hr(t){return t&&t.length?t[0]:void 0}function q6(t,e){var n=-1,r=ho(t)?Array(t.length):[];return xa(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function jl(t,e){return(Vt(t)?Yn:q6)(t,Ht(e))}function V6(t,e){return zr(jl(t,e),1)}function H6(t,e){return zr(jl(t,e),1/0)}function W6(t,e,n){return n=n===void 0?1:Jt(n),zr(jl(t,e),n)}function U6(t){return t!=null&&t.length?zr(t,1/0):[]}function J6(t,e){return t!=null&&t.length?zr(t,e=e===void 0?1:Jt(e)):[]}function K6(t){return Es(t,512)}var G6=Q0("floor");function Q6(t){return Ts(function(e){var n=e.length,r=n,o=ti.prototype.thru;for(t&&e.reverse();r--;){var i=e[r];if(typeof i!="function")throw new TypeError("Expected a function");if(o&&!s&&bd(i)=="wrapper")var s=new ti([],!0)}for(r=s?r:n;++r<n;){var a=bd(i=e[r]),u=a=="wrapper"?N0(i):void 0;s=u&&$m(u[0])&&u[1]==424&&!u[4].length&&u[9]==1?s[bd(u[0])].apply(s,u[3]):i.length==1&&$m(i)?s[a]():s.thru(i)}return function(){var l=arguments,f=l[0];if(s&&l.length==1&&Vt(f))return s.plant(f).value();for(var c=0,d=n?e[c].apply(this,l):f;++c<n;)d=e[c].call(this,d);return d}})}var Y6=Q6(),X6=Q6(!0);function Z6(t,e){return t==null?t:ly(t,us(e),co)}function e7(t,e){return t==null?t:_6(t,us(e),co)}function t7(t,e){return t&&Zi(t,us(e))}function n7(t,e){return t&&hy(t,us(e))}function r7(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}function gp(t,e){return ka(e,function(n){return ss(t[n])})}function o7(t){return t==null?[]:gp(t,gr(t))}function i7(t){return t==null?[]:gp(t,co(t))}var iz=Object.prototype.hasOwnProperty,s7=dp(function(t,e,n){iz.call(t,n)?t[n].push(e):Ps(t,n,[e])});function yy(t,e){return t>e}function yp(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=Io(e),n=Io(n)),t(e,n)}}var a7=yp(yy),u7=yp(function(t,e){return t>=e}),sz=Object.prototype.hasOwnProperty;function az(t,e){return t!=null&&sz.call(t,e)}function l7(t,e){return t!=null&&XA(t,e,az)}var uz=Math.max,lz=Math.min;function c7(t,e,n){return e=Yi(e),n===void 0?(n=e,e=0):n=Yi(n),function(r,o,i){return r>=lz(o,i)&&r<uz(o,i)}(t=Io(t),e,n)}function nf(t){return typeof t=="string"||!Vt(t)&&or(t)&&fo(t)=="[object String]"}function by(t,e){return Yn(e,function(n){return t[n]})}function hu(t){return t==null?[]:by(t,gr(t))}var cz=Math.max;function f7(t,e,n,r){t=ho(t)?t:hu(t),n=n&&!r?Jt(n):0;var o=t.length;return n<0&&(n=cz(o+n,0)),nf(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&vl(t,e,n)>-1}var fz=Math.max;function d7(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:Jt(n);return o<0&&(o=fz(r+o,0)),vl(t,e,o)}function Gt(t){return t!=null&&t.length?si(t,0,-1):[]}var dz=Math.min;function wy(t,e,n){for(var r=n?dy:np,o=t[0].length,i=t.length,s=i,a=Array(i),u=1/0,l=[];s--;){var f=t[s];s&&e&&(f=Yn(f,Bo(e))),u=dz(f.length,u),a[s]=!n&&(e||o>=120&&f.length>=120)?new Ya(s&&f):void 0}f=t[0];var c=-1,d=a[0];e:for(;++c<o&&l.length<u;){var h=f[c],p=e?e(h):h;if(h=n||h!==0?h:0,!(d?$c(d,p):r(l,p,n))){for(s=i;--s;){var v=a[s];if(!(v?$c(v,p):r(t[s],p,n)))continue e}d&&d.push(p),l.push(h)}}return l}function ky(t){return ur(t)?t:[]}var h7=on(function(t){var e=Yn(t,ky);return e.length&&e[0]===t[0]?wy(e):[]}),p7=on(function(t){var e=ht(t),n=Yn(t,ky);return e===ht(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?wy(n,Ht(e)):[]}),v7=on(function(t){var e=ht(t),n=Yn(t,ky);return(e=typeof e=="function"?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?wy(n,void 0,e):[]});function m7(t,e){return function(n,r){return function(o,i,s,a){return Zi(o,function(u,l,f){i(a,s(u),l,f)}),a}(n,t,e(r),{})}}var hz=Object.prototype.toString,g7=m7(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=hz.call(e)),t[e]=n},ep(Yr)),y7=Object.prototype,pz=y7.hasOwnProperty,vz=y7.toString,b7=m7(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=vz.call(e)),pz.call(t,e)?t[e].push(n):t[e]=[n]},Ht);function w7(t,e){return e.length<2?t:fu(t,si(e,0,-1))}function rf(t,e,n){var r=(t=w7(t,e=ya(e,t)))==null?t:t[as(ht(e))];return r==null?void 0:Do(r,t,n)}var k7=on(rf),x7=on(function(t,e,n){var r=-1,o=typeof e=="function",i=ho(t)?Array(t.length):[];return xa(t,function(s){i[++r]=o?Do(e,s,n):rf(s,e,n)}),i}),M_=ii&&ii.isArrayBuffer,j7=M_?Bo(M_):function(t){return or(t)&&fo(t)=="[object ArrayBuffer]"};function _7(t){return t===!0||t===!1||or(t)&&fo(t)=="[object Boolean]"}var I_=ii&&ii.isDate,S7=I_?Bo(I_):function(t){return or(t)&&fo(t)=="[object Date]"};function C7(t){return or(t)&&t.nodeType===1&&!bl(t)}var mz=Object.prototype.hasOwnProperty;function zn(t){if(t==null)return!0;if(ho(t)&&(Vt(t)||typeof t=="string"||typeof t.splice=="function"||Cs(t)||cu(t)||fa(t)))return!t.length;var e=rs(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(Xc(t))return!B0(t).length;for(var n in t)if(mz.call(t,n))return!1;return!0}function Sn(t,e){return ef(t,e)}function $7(t,e,n){var r=(n=typeof n=="function"?n:void 0)?n(t,e):void 0;return r===void 0?ef(t,e,void 0,n):!!r}var gz=Or.isFinite;function O7(t){return typeof t=="number"&&gz(t)}function xy(t){return typeof t=="number"&&t==Jt(t)}function A7(t,e){return t===e||iy(t,e,sy(e))}function E7(t,e,n){return n=typeof n=="function"?n:void 0,iy(t,e,sy(e),n)}function jy(t){return typeof t=="number"||or(t)&&fo(t)=="[object Number]"}function P7(t){return jy(t)&&t!=+t}var yz=yd?ss:rp;function T7(t){if(yz(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return eA(t)}function M7(t){return t==null}function I7(t){return t===null}var N_=ii&&ii.isRegExp,bp=N_?Bo(N_):function(t){return or(t)&&fo(t)=="[object RegExp]"};function N7(t){return xy(t)&&t>=-9007199254740991&&t<=9007199254740991}function L7(t){return t===void 0}function R7(t){return or(t)&&rs(t)=="[object WeakMap]"}function D7(t){return or(t)&&fo(t)=="[object WeakSet]"}function B7(t){return Ht(typeof t=="function"?t:ni(t,1))}var bz=Array.prototype.join;function z7(t,e){return t==null?"":bz.call(t,e)}var F7=kl(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),q7=dp(function(t,e,n){Ps(t,n,e)}),wz=Math.max,kz=Math.min;function V7(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r;return n!==void 0&&(o=(o=Jt(n))<0?wz(r+o,0):kz(o,r-1)),e==e?function(i,s,a){for(var u=a+1;u--;)if(i[u]===s)return u;return u}(t,e,o):tp(t,aA,o,!0)}var H7=kl(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),W7=SA("toLowerCase");function _y(t,e){return t<e}var U7=yp(_y),J7=yp(function(t,e){return t<=e});function K7(t,e){var n={};return e=Ht(e),Zi(t,function(r,o,i){Ps(n,e(r,o,i),r)}),n}function G7(t,e){var n={};return e=Ht(e),Zi(t,function(r,o,i){Ps(n,o,e(r,o,i))}),n}function Q7(t){return YA(ni(t,1))}function Y7(t,e){return ZA(t,ni(e,1))}function wp(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],s=e(i);if(s!=null&&(a===void 0?s==s&&!ko(s):n(s,a)))var a=s,u=i}return u}function X7(t){return t&&t.length?wp(t,Yr,yy):void 0}function Z7(t,e){return t&&t.length?wp(t,Ht(e),yy):void 0}function Sy(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==void 0&&(n=n===void 0?i:n+i)}return n}function e8(t,e){var n=t==null?0:t.length;return n?Sy(t,e)/n:NaN}function t8(t){return e8(t,Yr)}function n8(t,e){return e8(t,Ht(e))}var r8=gl(function(t,e,n){vp(t,e,n)}),o8=on(function(t,e){return function(n){return rf(n,t,e)}}),i8=on(function(t,e){return function(n){return rf(t,n,e)}});function s8(t){return t&&t.length?wp(t,Yr,_y):void 0}function Eu(t,e){return t&&t.length?wp(t,Ht(e),_y):void 0}function Cy(t,e,n){var r=gr(e),o=gp(e,r),i=!(Jn(n)&&"chain"in n&&!n.chain),s=ss(t);return Jo(o,function(a){var u=e[a];t[a]=u,s&&(t.prototype[a]=function(){var l=this.__chain__;if(i||l){var f=t(this.__wrapped__),c=f.__actions__=yo(this.__actions__);return c.push({func:u,args:arguments,thisArg:t}),f.__chain__=l,f}return u.apply(t,ba([this.value()],arguments))})}),t}var a8=Xh(function(t,e){return t*e},1);function Ju(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var sv=Qr?Qr.iterator:void 0;function $y(t){if(!t)return[];if(ho(t))return nf(t)?Oi(t):yo(t);if(sv&&t[sv])return function(n){for(var r,o=[];!(r=n.next()).done;)o.push(r.value);return o}(t[sv]());var e=rs(t);return(e=="[object Map]"?oy:e=="[object Set]"?cp:hu)(t)}function Nm(){this.__values__===void 0&&(this.__values__=$y(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}}function u8(t,e){var n=t.length;if(n)return As(e+=e<0?n:0,n)?t[e]:void 0}function l8(t,e){return t&&t.length?u8(t,Jt(e)):void 0}function c8(t){return t=Jt(t),on(function(e){return u8(e,t)})}function Oy(t,e){return(t=w7(t,e=ya(e,t)))==null||delete t[as(ht(e))]}function xz(t){return bl(t)?void 0:t}var f8=Ts(function(t,e){var n={};if(t==null)return n;var r=!1;e=Yn(e,function(i){return i=ya(i,t),r||(r=i.length>1),i}),Xi(t,Z0(t),n),r&&(n=ni(n,7,xz));for(var o=e.length;o--;)Oy(n,e[o]);return n});function of(t,e,n,r){if(!Jn(t))return t;for(var o=-1,i=(e=ya(e,t)).length,s=i-1,a=t;a!=null&&++o<i;){var u=as(e[o]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(o!=s){var f=a[u];(l=r?r(f,u,a):void 0)===void 0&&(l=Jn(f)?f:As(e[o+1])?[]:{})}Qc(a,u,l),a=a[u]}return t}function d8(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=fu(t,s);n(a,s)&&of(i,ya(s,t),a)}return i}function Ay(t,e){if(t==null)return{};var n=Yn(Z0(t),function(r){return[r]});return e=Ht(e),d8(t,n,function(r,o){return e(r,o[0])})}function h8(t,e){return Ay(t,Ju(Ht(e)))}function p8(t){return H0(2,t)}function v8(t,e){if(t!==e){var n=t!==void 0,r=t===null,o=t==t,i=ko(t),s=e!==void 0,a=e===null,u=e==e,l=ko(e);if(!a&&!l&&!i&&t>e||i&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!o)return 1;if(!r&&!i&&!l&&t<e||l&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!u)return-1}return 0}function m8(t,e,n){e=e.length?Yn(e,function(o){return Vt(o)?function(i){return fu(i,o.length===1?o[0]:o)}:o}):[Yr];var r=-1;return e=Yn(e,Bo(Ht)),function(o,i){var s=o.length;for(o.sort(i);s--;)o[s]=o[s].value;return o}(q6(t,function(o,i,s){return{criteria:Yn(e,function(a){return a(o)}),index:++r,value:o}}),function(o,i){return function(s,a,u){for(var l=-1,f=s.criteria,c=a.criteria,d=f.length,h=u.length;++l<d;){var p=v8(f[l],c[l]);if(p)return l>=h?p:p*(u[l]=="desc"?-1:1)}return s.index-a.index}(o,i,n)})}function g8(t,e,n,r){return t==null?[]:(Vt(e)||(e=e==null?[]:[e]),Vt(n=r?void 0:n)||(n=n==null?[]:[n]),m8(t,e,n))}function Ey(t){return Ts(function(e){return e=Yn(e,Bo(Ht)),on(function(n){var r=this;return t(e,function(o){return Do(o,r,n)})})})}var y8=Ey(Yn),jz=on,_z=Math.min,b8=jz(function(t,e){var n=(e=e.length==1&&Vt(e[0])?Yn(e[0],Bo(Ht)):Yn(zr(e,1),Bo(Ht))).length;return on(function(r){for(var o=-1,i=_z(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Do(t,this,r)})}),w8=Ey(P6),k8=Ey(ry),Sz=Math.floor;function Lm(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do e%2&&(n+=t),(e=Sz(e/2))&&(t+=t);while(e);return n}var Cz=ay("length"),$z="[\\ud800-\\udfff]",Rm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Dm="\\ud83c[\\udffb-\\udfff]",x8="[^\\ud800-\\udfff]",j8="(?:\\ud83c[\\udde6-\\uddff]){2}",_8="[\\ud800-\\udbff][\\udc00-\\udfff]",L_="(?:"+Rm+"|"+Dm+")?",Oz="[\\ufe0e\\ufe0f]?"+L_+("(?:\\u200d(?:"+[x8,j8,_8].join("|")+")[\\ufe0e\\ufe0f]?"+L_+")*"),Az="(?:"+[x8+Rm+"?",Rm,j8,_8,$z].join("|")+")",R_=RegExp(Dm+"(?="+Dm+")|"+Az+Oz,"g");function _l(t){return wl(t)?function(e){for(var n=R_.lastIndex=0;R_.test(e);)++n;return n}(t):Cz(t)}var Ez=Math.ceil;function Yd(t,e){var n=(e=e===void 0?" ":Ro(e)).length;if(n<2)return n?Lm(e,t):e;var r=Lm(e,Ez(t/_l(e)));return wl(e)?wa(Oi(r),0,t).join(""):r.slice(0,t)}var Pz=Math.ceil,Tz=Math.floor;function S8(t,e,n){t=En(t);var r=(e=Jt(e))?_l(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Yd(Tz(o),n)+t+Yd(Pz(o),n)}function C8(t,e,n){t=En(t);var r=(e=Jt(e))?_l(t):0;return e&&r<e?t+Yd(e-r,n):t}function $8(t,e,n){t=En(t);var r=(e=Jt(e))?_l(t):0;return e&&r<e?Yd(e-r,n)+t:t}var Mz=/^\s+/,Iz=Or.parseInt;function O8(t,e,n){return n||e==null?e=0:e&&(e=+e),Iz(En(t).replace(Mz,""),e||0)}var sf=on(function(t,e){return Es(t,32,void 0,e,ra(e,ml(sf)))});sf.placeholder={};var kp=on(function(t,e){return Es(t,64,void 0,e,ra(e,ml(kp)))});kp.placeholder={};var A8=dp(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),E8=Ts(function(t,e){return t==null?{}:function(n,r){return d8(n,r,function(o,i){return fp(n,i)})}(t,e)});function Bm(t){for(var e,n=this;n instanceof Zh;){var r=oA(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function P8(t){return function(e){return t==null?void 0:fu(t,e)}}function Nz(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}var D_=Array.prototype.splice;function Py(t,e,n,r){var o=r?Nz:vl,i=-1,s=e.length,a=t;for(t===e&&(e=yo(e)),n&&(a=Yn(t,Bo(n)));++i<s;)for(var u=0,l=e[i],f=n?n(l):l;(u=o(a,f,u,r))>-1;)a!==t&&D_.call(a,u,1),D_.call(t,u,1);return t}function Ty(t,e){return t&&t.length&&e&&e.length?Py(t,e):t}var T8=on(Ty);function M8(t,e,n){return t&&t.length&&e&&e.length?Py(t,e,Ht(n)):t}function I8(t,e,n){return t&&t.length&&e&&e.length?Py(t,e,void 0,n):t}var Lz=Array.prototype.splice;function N8(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;As(o)?Lz.call(t,o,1):Oy(t,o)}}return t}var L8=Ts(function(t,e){var n=t==null?0:t.length,r=F0(t,e);return N8(t,Yn(e,function(o){return As(o,n)?+o:o}).sort(v8)),r}),Rz=Math.floor,Dz=Math.random;function My(t,e){return t+Rz(Dz()*(e-t+1))}var Bz=parseFloat,zz=Math.min,Fz=Math.random;function R8(t,e,n){if(n&&typeof n!="boolean"&&lo(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Yi(t),e===void 0?(e=t,t=0):e=Yi(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Fz();return zz(t+o*(e-t+Bz("1e-"+((o+"").length-1))),e)}return My(t,e)}var qz=Math.ceil,Vz=Math.max;function D8(t){return function(e,n,r){return r&&typeof r!="number"&&lo(e,n,r)&&(n=r=void 0),e=Yi(e),n===void 0?(n=e,e=0):n=Yi(n),function(o,i,s,a){for(var u=-1,l=Vz(qz((i-o)/(s||1)),0),f=Array(l);l--;)f[a?l:++u]=o,o+=s;return f}(e,n,r=r===void 0?e<n?1:-1:Yi(r),t)}}var Iy=D8(),B8=D8(!0),z8=Ts(function(t,e){return Es(t,256,void 0,void 0,void 0,e)});function F8(t,e,n,r,o){return o(t,function(i,s,a){n=r?(r=!1,i):e(n,i,s,a)}),n}function q8(t,e,n){var r=Vt(t)?U0:F8,o=arguments.length<3;return r(t,Ht(e),n,o,xa)}function Hz(t,e,n,r){var o=t==null?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function V8(t,e,n){var r=Vt(t)?Hz:F8,o=arguments.length<3;return r(t,Ht(e),n,o,S6)}function H8(t,e){return(Vt(t)?ka:I6)(t,Ju(Ht(e)))}function W8(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Ht(e);++r<i;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return N8(t,o),n}function U8(t,e,n){return e=(n?lo(t,e,n):e===void 0)?1:Jt(e),Lm(En(t),e)}function J8(){var t=arguments,e=En(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function K8(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return on(t,e=e===void 0?e:Jt(e))}function G8(t,e,n){var r=-1,o=(e=ya(e,t)).length;for(o||(o=1,t=void 0);++r<o;){var i=t==null?void 0:t[as(e[r])];i===void 0&&(r=o,i=n),t=ss(i)?i.call(t):i}return t}var Wz=Array.prototype.reverse;function Xd(t){return t==null?t:Wz.call(t)}var Q8=Q0("round");function Y8(t){var e=t.length;return e?t[My(0,e-1)]:void 0}function Uz(t){return Y8(hu(t))}function X8(t){return(Vt(t)?Y8:Uz)(t)}function xp(t,e){var n=-1,r=t.length,o=r-1;for(e=e===void 0?r:e;++n<e;){var i=My(n,o),s=t[i];t[i]=t[n],t[n]=s}return t.length=e,t}function Jz(t,e){return xp(yo(t),du(e,0,t.length))}function Kz(t,e){var n=hu(t);return xp(n,du(e,0,n.length))}function Z8(t,e,n){return e=(n?lo(t,e,n):e===void 0)?1:Jt(e),(Vt(t)?Jz:Kz)(t,e)}function eE(t,e,n){return t==null?t:of(t,e,n)}function tE(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:of(t,e,n,r)}function Gz(t){return xp(yo(t))}function Qz(t){return xp(hu(t))}function nE(t){return(Vt(t)?Gz:Qz)(t)}function rE(t){if(t==null)return 0;if(ho(t))return nf(t)?_l(t):t.length;var e=rs(t);return e=="[object Map]"||e=="[object Set]"?t.size:B0(t).length}function oE(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&lo(t,e,n)?(e=0,n=r):(e=e==null?0:Jt(e),n=n===void 0?r:Jt(n)),si(t,e,n)):[]}var iE=kl(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function Yz(t,e){var n;return xa(t,function(r,o,i){return!(n=e(r,o,i))}),!!n}function sE(t,e,n){var r=Vt(t)?ry:Yz;return n&&lo(t,e,n)&&(e=void 0),r(t,Ht(e))}var Ny=on(function(t,e){if(t==null)return[];var n=e.length;return n>1&&lo(t,e[0],e[1])?e=[]:n>2&&lo(e[0],e[1],e[2])&&(e=[e[0]]),m8(t,zr(e,1),[])}),Xz=Math.floor,Zz=Math.min;function Ly(t,e,n,r){var o=0,i=t==null?0:t.length;if(i===0)return 0;for(var s=(e=n(e))!=e,a=e===null,u=ko(e),l=e===void 0;o<i;){var f=Xz((o+i)/2),c=n(t[f]),d=c!==void 0,h=c===null,p=c==c,v=ko(c);if(s)var g=r||p;else g=l?p&&(r||d):a?p&&d&&(r||!h):u?p&&d&&!h&&(r||!v):!h&&!v&&(r?c<=e:c<e);g?o=f+1:i=f}return Zz(i,4294967294)}function jp(t,e,n){var r=0,o=t==null?r:t.length;if(typeof e=="number"&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=t[i];s!==null&&!ko(s)&&(n?s<=e:s<e)?r=i+1:o=i}return o}return Ly(t,e,Yr,n)}function aE(t,e){return jp(t,e)}function uE(t,e,n){return Ly(t,e,Ht(n))}function lE(t,e){var n=t==null?0:t.length;if(n){var r=jp(t,e);if(r<n&&ai(t[r],e))return r}return-1}function cE(t,e){return jp(t,e,!0)}function fE(t,e,n){return Ly(t,e,Ht(n),!0)}function dE(t,e){if(t!=null&&t.length){var n=jp(t,e,!0)-1;if(ai(t[n],e))return n}return-1}function hE(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!ai(a,u)){var u=a;i[o++]=s===0?0:s}}return i}function pE(t){return t&&t.length?hE(t):[]}function vE(t,e){return t&&t.length?hE(t,Ht(e)):[]}function mE(t,e,n){return n&&typeof n!="number"&&lo(t,e,n)&&(e=n=void 0),(n=n===void 0?4294967295:n>>>0)?(t=En(t))&&(typeof e=="string"||e!=null&&!bp(e))&&!(e=Ro(e))&&wl(t)?wa(Oi(t),0,n):t.split(e,n):[]}var eF=Math.max;function gE(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return e=e==null?0:eF(Jt(e),0),on(function(n){var r=n[e],o=wa(n,0,e);return r&&ba(o,r),Do(t,this,o)})}var yE=kl(function(t,e,n){return t+(n?" ":"")+up(e)});function bE(t,e,n){return t=En(t),n=n==null?0:du(Jt(n),0,t.length),e=Ro(e),t.slice(n,n+e.length)==e}function wE(){return{}}function kE(){return""}function xE(){return!0}var jE=Xh(function(t,e){return t-e},0);function _E(t){return t&&t.length?Sy(t,Yr):0}function SE(t,e){return t&&t.length?Sy(t,Ht(e)):0}function CE(t){var e=t==null?0:t.length;return e?si(t,1,e):[]}function $E(t,e,n){return t&&t.length?si(t,0,(e=n||e===void 0?1:Jt(e))<0?0:e):[]}function OE(t,e,n){var r=t==null?0:t.length;return r?si(t,(e=r-(e=n||e===void 0?1:Jt(e)))<0?0:e,r):[]}function AE(t,e){return t&&t.length?mp(t,Ht(e),!1,!0):[]}function EE(t,e){return t&&t.length?mp(t,Ht(e)):[]}function PE(t,e){return e(t),t}var TE=Object.prototype,tF=TE.hasOwnProperty;function B_(t,e,n,r){return t===void 0||ai(t,TE[n])&&!tF.call(r,n)?e:t}var nF={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function rF(t){return"\\"+nF[t]}var ME=/<%=([\s\S]+?)%>/g,Zd={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ME,variable:"",imports:{_:{escape:py}}},oF=/\b__p \+= '';/g,iF=/\b(__p \+=) '' \+/g,sF=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aF=/[()=,{}\[\]\/\s]/,uF=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nf=/($^)/,lF=/['\n\r\u2028\u2029\\]/g,z_=Object.prototype.hasOwnProperty;function IE(t,e,n){var r=Zd.imports._.templateSettings||Zd;n&&lo(t,e,n)&&(e=void 0),t=En(t),e=Uu({},e,r,B_);var o,i,s=Uu({},e.imports,r.imports,B_),a=gr(s),u=by(s,a),l=0,f=e.interpolate||Nf,c="__p += '",d=RegExp((e.escape||Nf).source+"|"+f.source+"|"+(f===ME?uF:Nf).source+"|"+(e.evaluate||Nf).source+"|$","g"),h=z_.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(d,function(g,m,y,b,w,k){return y||(y=b),c+=t.slice(l,k).replace(lF,rF),m&&(o=!0,c+=`' +
__e(`+m+`) +
'`),w&&(i=!0,c+=`';
`+w+`;
__p += '`),y&&(c+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),l=k+g.length,g}),c+=`';
`;var p=z_.call(e,"variable")&&e.variable;if(p){if(aF.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else c=`with (obj) {
`+c+`
}
`;c=(i?c.replace(oF,""):c).replace(iF,"$1").replace(sF,"$1;"),c="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+c+`return __p
}`;var v=V0(function(){return Function(a,h+"return "+c).apply(void 0,u)});if(v.source=c,sp(v))throw v;return v}function Ry(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Jn(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),xl(t,e,{leading:r,maxWait:e,trailing:o})}function Ku(t,e){return e(t)}var cF=Math.min;function Dy(t,e){if((t=Jt(t))<1||t>9007199254740991)return[];var n=4294967295,r=cF(t,4294967295);t-=4294967295;for(var o=D0(r,e=us(e));++n<t;)e(n);return o}function zm(){return this}function NE(t,e){var n=t;return n instanceof ln&&(n=n.value()),U0(e,function(r,o){return o.func.apply(o.thisArg,ba([r],o.args))},n)}function Va(){return NE(this.__wrapped__,this.__actions__)}function LE(t){return En(t).toLowerCase()}function RE(t){return Vt(t)?Yn(t,as):ko(t)?[t]:yo(yA(En(t)))}function DE(t){return t?du(Jt(t),-9007199254740991,9007199254740991):t===0?t:0}function BE(t){return En(t).toUpperCase()}function zE(t,e,n){var r=Vt(t),o=r||Cs(t)||cu(t);if(e=Ht(e),n==null){var i=t&&t.constructor;n=o?r?new i:[]:Jn(t)&&ss(i)?pl(ip(t)):{}}return(o?Jo:Zi)(t,function(s,a,u){return e(n,s,a,u)}),n}function FE(t,e){for(var n=t.length;n--&&vl(e,t[n],0)>-1;);return n}function qE(t,e){for(var n=-1,r=t.length;++n<r&&vl(e,t[n],0)>-1;);return n}function VE(t,e,n){if((t=En(t))&&(n||e===void 0))return XO(t);if(!t||!(e=Ro(e)))return t;var r=Oi(t),o=Oi(e);return wa(r,qE(r,o),FE(r,o)+1).join("")}function HE(t,e,n){if((t=En(t))&&(n||e===void 0))return t.slice(0,YO(t)+1);if(!t||!(e=Ro(e)))return t;var r=Oi(t);return wa(r,0,FE(r,Oi(e))+1).join("")}var fF=/^\s+/;function WE(t,e,n){if((t=En(t))&&(n||e===void 0))return t.replace(fF,"");if(!t||!(e=Ro(e)))return t;var r=Oi(t);return wa(r,qE(r,Oi(e))).join("")}var dF=/\w*$/;function UE(t,e){var n=30,r="...";if(Jn(e)){var o="separator"in e?e.separator:o;n="length"in e?Jt(e.length):n,r="omission"in e?Ro(e.omission):r}var i=(t=En(t)).length;if(wl(t)){var s=Oi(t);i=s.length}if(n>=i)return t;var a=n-_l(r);if(a<1)return r;var u=s?wa(s,0,a).join(""):t.slice(0,a);if(o===void 0)return u+r;if(s&&(a+=u.length-a),bp(o)){if(t.slice(a).search(o)){var l,f=u;for(o.global||(o=RegExp(o.source,En(dF.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var c=l.index;u=u.slice(0,c===void 0?a:c)}}else if(t.indexOf(Ro(o),a)!=a){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r}function JE(t){return R0(t,1)}var hF=J0({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),KE=/&(?:amp|lt|gt|quot|#39);/g,pF=RegExp(KE.source);function GE(t){return(t=En(t))&&pF.test(t)?t.replace(KE,hF):t}var vF=Lu&&1/cp(new Lu([,-0]))[1]==1/0?function(t){return new Lu(t)}:sn;function da(t,e,n){var r=-1,o=np,i=t.length,s=!0,a=[],u=a;if(n)s=!1,o=dy;else if(i>=200){var l=e?null:vF(t);if(l)return cp(l);s=!1,o=$c,u=new Ya}else u=e?[]:a;e:for(;++r<i;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,s&&c==c){for(var d=u.length;d--;)if(u[d]===c)continue e;e&&u.push(c),a.push(f)}else o(u,c,n)||(u!==a&&u.push(c),a.push(f))}return a}var QE=on(function(t){return da(zr(t,1,ur,!0))}),YE=on(function(t){var e=ht(t);return ur(e)&&(e=void 0),da(zr(t,1,ur,!0),Ht(e))}),XE=on(function(t){var e=ht(t);return e=typeof e=="function"?e:void 0,da(zr(t,1,ur,!0),void 0,e)});function ZE(t){return t&&t.length?da(t):[]}function eP(t,e){return t&&t.length?da(t,Ht(e)):[]}function tP(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?da(t,void 0,e):[]}var mF=0;function ji(t){var e=++mF;return En(t)+e}function nP(t,e){return t==null||Oy(t,e)}var gF=Math.max;function _p(t){if(!t||!t.length)return[];var e=0;return t=ka(t,function(n){if(ur(n))return e=gF(n.length,e),!0}),D0(e,function(n){return Yn(t,ay(n))})}function By(t,e){if(!t||!t.length)return[];var n=_p(t);return e==null?n:Yn(n,function(r){return Do(e,void 0,r)})}function rP(t,e,n,r){return of(t,e,n(fu(t,e)),r)}function oP(t,e,n){return t==null?t:rP(t,e,us(n))}function iP(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:rP(t,e,us(n),r)}var sP=kl(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});function aP(t){return t==null?[]:by(t,co(t))}var uP=on(function(t,e){return ur(t)?tf(t,e):[]});function lP(t,e){return sf(us(e),t)}var cP=Ts(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(i){return F0(i,t)};return!(e>1||this.__actions__.length)&&r instanceof ln&&As(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ku,args:[o],thisArg:void 0}),new ti(r,this.__chain__).thru(function(i){return e&&!i.length&&i.push(void 0),i})):this.thru(o)});function fP(){return Y0(this)}function dP(){var t=this.__wrapped__;if(t instanceof ln){var e=t;return this.__actions__.length&&(e=new ln(this)),(e=e.reverse()).__actions__.push({func:Ku,args:[Xd],thisArg:void 0}),new ti(e,this.__chain__)}return this.thru(Xd)}function zy(t,e,n){var r=t.length;if(r<2)return r?da(t[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=t[o],a=-1;++a<r;)a!=o&&(i[o]=tf(i[o]||s,t[a],e,n));return da(zr(i,1),e,n)}var hP=on(function(t){return zy(ka(t,ur))}),pP=on(function(t){var e=ht(t);return ur(e)&&(e=void 0),zy(ka(t,ur),Ht(e))}),vP=on(function(t){var e=ht(t);return e=typeof e=="function"?e:void 0,zy(ka(t,ur),void 0,e)}),mP=on(_p);function gP(t,e,n){for(var r=-1,o=t.length,i=e.length,s={};++r<o;){var a=r<i?e[r]:void 0;n(s,t[r],a)}return s}function yP(t,e){return gP(t||[],e||[],Qc)}function bP(t,e){return gP(t||[],e||[],of)}var wP=on(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,By(t,n)}),pt={chunk:NA,compact:JA,concat:KA,difference:m6,differenceBy:g6,differenceWith:y6,drop:w6,dropRight:k6,dropRightWhile:x6,dropWhile:j6,fill:M6,findIndex:my,findLastIndex:gy,first:hr,flatten:q0,flattenDeep:U6,flattenDepth:J6,fromPairs:r7,head:hr,indexOf:d7,initial:Gt,intersection:h7,intersectionBy:p7,intersectionWith:v7,join:z7,last:ht,lastIndexOf:V7,nth:l8,pull:T8,pullAll:Ty,pullAllBy:M8,pullAllWith:I8,pullAt:L8,remove:W8,reverse:Xd,slice:oE,sortedIndex:aE,sortedIndexBy:uE,sortedIndexOf:lE,sortedLastIndex:cE,sortedLastIndexBy:fE,sortedLastIndexOf:dE,sortedUniq:pE,sortedUniqBy:vE,tail:CE,take:$E,takeRight:OE,takeRightWhile:AE,takeWhile:EE,union:QE,unionBy:YE,unionWith:XE,uniq:ZE,uniqBy:eP,uniqWith:tP,unzip:_p,unzipWith:By,without:uP,xor:hP,xorBy:pP,xorWith:vP,zip:mP,zipObject:yP,zipObjectDeep:bP,zipWith:wP},Rn={countBy:s6,each:Kd,eachRight:Oc,every:T6,filter:N6,find:R6,findLast:z6,flatMap:V6,flatMapDeep:H6,flatMapDepth:W6,forEach:Kd,forEachRight:Oc,groupBy:s7,includes:f7,invokeMap:x7,keyBy:q7,map:jl,orderBy:g8,partition:A8,reduce:q8,reduceRight:V8,reject:H8,sample:X8,sampleSize:Z8,shuffle:nE,size:rE,some:sE,sortBy:Ny},yF=ac,sr={after:ZO,ary:R0,before:H0,bind:Zc,bindKey:ap,curry:hp,curryRight:pp,debounce:xl,defer:p6,delay:v6,flip:K6,memoize:yl,negate:Ju,once:p8,overArgs:b8,partial:sf,partialRight:kp,rearg:z8,rest:K8,spread:gE,throttle:Ry,unary:JE,wrap:lP},St={castArray:MA,clone:HA,cloneDeep:WA,cloneDeepWith:ny,cloneWith:UA,conformsTo:r6,eq:ai,gt:a7,gte:u7,isArguments:fa,isArray:Vt,isArrayBuffer:j7,isArrayLike:ho,isArrayLikeObject:ur,isBoolean:_7,isBuffer:Cs,isDate:S7,isElement:C7,isEmpty:zn,isEqual:Sn,isEqualWith:$7,isError:sp,isFinite:O7,isFunction:ss,isInteger:xy,isLength:Yc,isMap:ey,isMatch:A7,isMatchWith:E7,isNaN:P7,isNative:T7,isNil:M7,isNull:I7,isNumber:jy,isObject:Jn,isObjectLike:or,isPlainObject:bl,isRegExp:bp,isSafeInteger:N7,isSet:ty,isString:nf,isSymbol:ko,isTypedArray:cu,isUndefined:L7,isWeakMap:R7,isWeakSet:D7,lt:U7,lte:J7,toArray:$y,toFinite:Yi,toInteger:Jt,toLength:vy,toNumber:Io,toPlainObject:cy,toSafeInteger:DE,toString:En},eo={add:QO,ceil:IA,divide:b6,floor:G6,max:X7,maxBy:Z7,mean:t8,meanBy:n8,min:s8,minBy:Eu,multiply:a8,round:Q8,subtract:jE,sum:_E,sumBy:SE},bF=LA,wF=c7,kF=R8,Ft={assign:mA,assignIn:Ud,assignInWith:Uu,assignWith:gA,at:bA,create:a6,defaults:c6,defaultsDeep:d6,entries:Gd,entriesIn:Qd,extend:Ud,extendWith:Uu,findKey:B6,findLastKey:F6,forIn:Z6,forInRight:e7,forOwn:t7,forOwnRight:n7,functions:o7,functionsIn:i7,get:op,has:l7,hasIn:fp,invert:g7,invertBy:b7,invoke:k7,keys:gr,keysIn:co,mapKeys:K7,mapValues:G7,merge:r8,mergeWith:fy,omit:f8,omitBy:h8,pick:E8,pickBy:Ay,result:G8,set:eE,setWith:tE,toPairs:Gd,toPairsIn:Qd,transform:zE,unset:nP,update:oP,updateWith:iP,values:hu,valuesIn:aP},Mi={at:cP,chain:Y0,commit:Im,lodash:X,next:Nm,plant:Bm,reverse:dP,tap:PE,thru:Ku,toIterator:zm,toJSON:Va,value:Va,valueOf:Va,wrapperChain:fP},$n={camelCase:TA,capitalize:W0,deburr:K0,endsWith:C6,escape:py,escapeRegExp:E6,kebabCase:F7,lowerCase:H7,lowerFirst:W7,pad:S8,padEnd:C8,padStart:$8,parseInt:O8,repeat:U8,replace:J8,snakeCase:iE,split:mE,startCase:yE,startsWith:bE,template:IE,templateSettings:Zd,toLower:LE,toUpper:BE,trim:VE,trimEnd:HE,trimStart:WE,truncate:UE,unescape:GE,upperCase:sP,upperFirst:up,words:G0},Tn={attempt:V0,bindAll:kA,cond:e6,conforms:n6,constant:ep,defaultTo:u6,flow:Y6,flowRight:X6,identity:Yr,iteratee:B7,matches:Q7,matchesProperty:Y7,method:o8,methodOf:i8,mixin:Cy,noop:sn,nthArg:c8,over:y8,overEvery:w8,overSome:k8,property:uy,propertyOf:P8,range:Iy,rangeRight:B8,stubArray:lp,stubFalse:rp,stubObject:wE,stubString:kE,stubTrue:xE,times:Dy,toPath:RE,uniqueId:ji},xF=Math.max,jF=Math.min,_F=Math.min;/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var av,SF=Array.prototype,F_=Object.prototype.hasOwnProperty,q_=Qr?Qr.iterator:void 0,CF=Math.max,V_=Math.min,uv=function(t){return function(e,n,r){if(r==null){var o=Jn(n),i=o&&gr(n),s=i&&i.length&&gp(n,i);(s?s.length:o)||(r=n,n=e,e=this)}return t(e,n,r)}}(Cy);X.after=sr.after,X.ary=sr.ary,X.assign=Ft.assign,X.assignIn=Ft.assignIn,X.assignInWith=Ft.assignInWith,X.assignWith=Ft.assignWith,X.at=Ft.at,X.before=sr.before,X.bind=sr.bind,X.bindAll=Tn.bindAll,X.bindKey=sr.bindKey,X.castArray=St.castArray,X.chain=Mi.chain,X.chunk=pt.chunk,X.compact=pt.compact,X.concat=pt.concat,X.cond=Tn.cond,X.conforms=Tn.conforms,X.constant=Tn.constant,X.countBy=Rn.countBy,X.create=Ft.create,X.curry=sr.curry,X.curryRight=sr.curryRight,X.debounce=sr.debounce,X.defaults=Ft.defaults,X.defaultsDeep=Ft.defaultsDeep,X.defer=sr.defer,X.delay=sr.delay,X.difference=pt.difference,X.differenceBy=pt.differenceBy,X.differenceWith=pt.differenceWith,X.drop=pt.drop,X.dropRight=pt.dropRight,X.dropRightWhile=pt.dropRightWhile,X.dropWhile=pt.dropWhile,X.fill=pt.fill,X.filter=Rn.filter,X.flatMap=Rn.flatMap,X.flatMapDeep=Rn.flatMapDeep,X.flatMapDepth=Rn.flatMapDepth,X.flatten=pt.flatten,X.flattenDeep=pt.flattenDeep,X.flattenDepth=pt.flattenDepth,X.flip=sr.flip,X.flow=Tn.flow,X.flowRight=Tn.flowRight,X.fromPairs=pt.fromPairs,X.functions=Ft.functions,X.functionsIn=Ft.functionsIn,X.groupBy=Rn.groupBy,X.initial=pt.initial,X.intersection=pt.intersection,X.intersectionBy=pt.intersectionBy,X.intersectionWith=pt.intersectionWith,X.invert=Ft.invert,X.invertBy=Ft.invertBy,X.invokeMap=Rn.invokeMap,X.iteratee=Tn.iteratee,X.keyBy=Rn.keyBy,X.keys=gr,X.keysIn=Ft.keysIn,X.map=Rn.map,X.mapKeys=Ft.mapKeys,X.mapValues=Ft.mapValues,X.matches=Tn.matches,X.matchesProperty=Tn.matchesProperty,X.memoize=sr.memoize,X.merge=Ft.merge,X.mergeWith=Ft.mergeWith,X.method=Tn.method,X.methodOf=Tn.methodOf,X.mixin=uv,X.negate=Ju,X.nthArg=Tn.nthArg,X.omit=Ft.omit,X.omitBy=Ft.omitBy,X.once=sr.once,X.orderBy=Rn.orderBy,X.over=Tn.over,X.overArgs=sr.overArgs,X.overEvery=Tn.overEvery,X.overSome=Tn.overSome,X.partial=sr.partial,X.partialRight=sr.partialRight,X.partition=Rn.partition,X.pick=Ft.pick,X.pickBy=Ft.pickBy,X.property=Tn.property,X.propertyOf=Tn.propertyOf,X.pull=pt.pull,X.pullAll=pt.pullAll,X.pullAllBy=pt.pullAllBy,X.pullAllWith=pt.pullAllWith,X.pullAt=pt.pullAt,X.range=Tn.range,X.rangeRight=Tn.rangeRight,X.rearg=sr.rearg,X.reject=Rn.reject,X.remove=pt.remove,X.rest=sr.rest,X.reverse=pt.reverse,X.sampleSize=Rn.sampleSize,X.set=Ft.set,X.setWith=Ft.setWith,X.shuffle=Rn.shuffle,X.slice=pt.slice,X.sortBy=Rn.sortBy,X.sortedUniq=pt.sortedUniq,X.sortedUniqBy=pt.sortedUniqBy,X.split=$n.split,X.spread=sr.spread,X.tail=pt.tail,X.take=pt.take,X.takeRight=pt.takeRight,X.takeRightWhile=pt.takeRightWhile,X.takeWhile=pt.takeWhile,X.tap=Mi.tap,X.throttle=sr.throttle,X.thru=Ku,X.toArray=St.toArray,X.toPairs=Ft.toPairs,X.toPairsIn=Ft.toPairsIn,X.toPath=Tn.toPath,X.toPlainObject=St.toPlainObject,X.transform=Ft.transform,X.unary=sr.unary,X.union=pt.union,X.unionBy=pt.unionBy,X.unionWith=pt.unionWith,X.uniq=pt.uniq,X.uniqBy=pt.uniqBy,X.uniqWith=pt.uniqWith,X.unset=Ft.unset,X.unzip=pt.unzip,X.unzipWith=pt.unzipWith,X.update=Ft.update,X.updateWith=Ft.updateWith,X.values=Ft.values,X.valuesIn=Ft.valuesIn,X.without=pt.without,X.words=$n.words,X.wrap=sr.wrap,X.xor=pt.xor,X.xorBy=pt.xorBy,X.xorWith=pt.xorWith,X.zip=pt.zip,X.zipObject=pt.zipObject,X.zipObjectDeep=pt.zipObjectDeep,X.zipWith=pt.zipWith,X.entries=Ft.toPairs,X.entriesIn=Ft.toPairsIn,X.extend=Ft.assignIn,X.extendWith=Ft.assignInWith,uv(X,X),X.add=eo.add,X.attempt=Tn.attempt,X.camelCase=$n.camelCase,X.capitalize=$n.capitalize,X.ceil=eo.ceil,X.clamp=bF,X.clone=St.clone,X.cloneDeep=St.cloneDeep,X.cloneDeepWith=St.cloneDeepWith,X.cloneWith=St.cloneWith,X.conformsTo=St.conformsTo,X.deburr=$n.deburr,X.defaultTo=Tn.defaultTo,X.divide=eo.divide,X.endsWith=$n.endsWith,X.eq=St.eq,X.escape=$n.escape,X.escapeRegExp=$n.escapeRegExp,X.every=Rn.every,X.find=Rn.find,X.findIndex=pt.findIndex,X.findKey=Ft.findKey,X.findLast=Rn.findLast,X.findLastIndex=pt.findLastIndex,X.findLastKey=Ft.findLastKey,X.floor=eo.floor,X.forEach=Rn.forEach,X.forEachRight=Rn.forEachRight,X.forIn=Ft.forIn,X.forInRight=Ft.forInRight,X.forOwn=Ft.forOwn,X.forOwnRight=Ft.forOwnRight,X.get=Ft.get,X.gt=St.gt,X.gte=St.gte,X.has=Ft.has,X.hasIn=Ft.hasIn,X.head=pt.head,X.identity=Yr,X.includes=Rn.includes,X.indexOf=pt.indexOf,X.inRange=wF,X.invoke=Ft.invoke,X.isArguments=St.isArguments,X.isArray=Vt,X.isArrayBuffer=St.isArrayBuffer,X.isArrayLike=St.isArrayLike,X.isArrayLikeObject=St.isArrayLikeObject,X.isBoolean=St.isBoolean,X.isBuffer=St.isBuffer,X.isDate=St.isDate,X.isElement=St.isElement,X.isEmpty=St.isEmpty,X.isEqual=St.isEqual,X.isEqualWith=St.isEqualWith,X.isError=St.isError,X.isFinite=St.isFinite,X.isFunction=St.isFunction,X.isInteger=St.isInteger,X.isLength=St.isLength,X.isMap=St.isMap,X.isMatch=St.isMatch,X.isMatchWith=St.isMatchWith,X.isNaN=St.isNaN,X.isNative=St.isNative,X.isNil=St.isNil,X.isNull=St.isNull,X.isNumber=St.isNumber,X.isObject=Jn,X.isObjectLike=St.isObjectLike,X.isPlainObject=St.isPlainObject,X.isRegExp=St.isRegExp,X.isSafeInteger=St.isSafeInteger,X.isSet=St.isSet,X.isString=St.isString,X.isSymbol=St.isSymbol,X.isTypedArray=St.isTypedArray,X.isUndefined=St.isUndefined,X.isWeakMap=St.isWeakMap,X.isWeakSet=St.isWeakSet,X.join=pt.join,X.kebabCase=$n.kebabCase,X.last=ht,X.lastIndexOf=pt.lastIndexOf,X.lowerCase=$n.lowerCase,X.lowerFirst=$n.lowerFirst,X.lt=St.lt,X.lte=St.lte,X.max=eo.max,X.maxBy=eo.maxBy,X.mean=eo.mean,X.meanBy=eo.meanBy,X.min=eo.min,X.minBy=eo.minBy,X.stubArray=Tn.stubArray,X.stubFalse=Tn.stubFalse,X.stubObject=Tn.stubObject,X.stubString=Tn.stubString,X.stubTrue=Tn.stubTrue,X.multiply=eo.multiply,X.nth=pt.nth,X.noop=Tn.noop,X.now=yF,X.pad=$n.pad,X.padEnd=$n.padEnd,X.padStart=$n.padStart,X.parseInt=$n.parseInt,X.random=kF,X.reduce=Rn.reduce,X.reduceRight=Rn.reduceRight,X.repeat=$n.repeat,X.replace=$n.replace,X.result=Ft.result,X.round=eo.round,X.sample=Rn.sample,X.size=Rn.size,X.snakeCase=$n.snakeCase,X.some=Rn.some,X.sortedIndex=pt.sortedIndex,X.sortedIndexBy=pt.sortedIndexBy,X.sortedIndexOf=pt.sortedIndexOf,X.sortedLastIndex=pt.sortedLastIndex,X.sortedLastIndexBy=pt.sortedLastIndexBy,X.sortedLastIndexOf=pt.sortedLastIndexOf,X.startCase=$n.startCase,X.startsWith=$n.startsWith,X.subtract=eo.subtract,X.sum=eo.sum,X.sumBy=eo.sumBy,X.template=$n.template,X.times=Tn.times,X.toFinite=St.toFinite,X.toInteger=Jt,X.toLength=St.toLength,X.toLower=$n.toLower,X.toNumber=St.toNumber,X.toSafeInteger=St.toSafeInteger,X.toString=St.toString,X.toUpper=$n.toUpper,X.trim=$n.trim,X.trimEnd=$n.trimEnd,X.trimStart=$n.trimStart,X.truncate=$n.truncate,X.unescape=$n.unescape,X.uniqueId=Tn.uniqueId,X.upperCase=$n.upperCase,X.upperFirst=$n.upperFirst,X.each=Rn.forEach,X.eachRight=Rn.forEachRight,X.first=pt.head,uv(X,(av={},Zi(X,function(t,e){F_.call(X.prototype,e)||(av[e]=t)}),av),{chain:!1}),X.VERSION="4.17.21",(X.templateSettings=$n.templateSettings).imports._=X,Jo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){X[t].placeholder=X}),Jo(["drop","take"],function(t,e){ln.prototype[t]=function(n){n=n===void 0?1:CF(Jt(n),0);var r=this.__filtered__&&!e?new ln(this):this.clone();return r.__filtered__?r.__takeCount__=V_(n,r.__takeCount__):r.__views__.push({size:V_(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},ln.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Jo(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==1||n==3;ln.prototype[t]=function(o){var i=this.clone();return i.__iteratees__.push({iteratee:Ht(o),type:n}),i.__filtered__=i.__filtered__||r,i}}),Jo(["head","last"],function(t,e){var n="take"+(e?"Right":"");ln.prototype[t]=function(){return this[n](1).value()[0]}}),Jo(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");ln.prototype[t]=function(){return this.__filtered__?new ln(this):this[n](1)}}),ln.prototype.compact=function(){return this.filter(Yr)},ln.prototype.find=function(t){return this.filter(t).head()},ln.prototype.findLast=function(t){return this.reverse().find(t)},ln.prototype.invokeMap=on(function(t,e){return typeof t=="function"?new ln(this):this.map(function(n){return rf(n,t,e)})}),ln.prototype.reject=function(t){return this.filter(Ju(Ht(t)))},ln.prototype.slice=function(t,e){t=Jt(t);var n=this;return n.__filtered__&&(t>0||e<0)?new ln(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(n=(e=Jt(e))<0?n.dropRight(-e):n.take(e-t)),n)},ln.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ln.prototype.toArray=function(){return this.take(4294967295)},Zi(ln.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=X[r?"take"+(e=="last"?"Right":""):e],i=r||/^find/.test(e);o&&(X.prototype[e]=function(){var s=this.__wrapped__,a=r?[1]:arguments,u=s instanceof ln,l=a[0],f=u||Vt(s),c=function(m){var y=o.apply(X,ba([m],a));return r&&d?y[0]:y};f&&n&&typeof l=="function"&&l.length!=1&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=i&&!d,v=u&&!h;if(!i&&f){s=v?s:new ln(this);var g=t.apply(s,a);return g.__actions__.push({func:Ku,args:[c],thisArg:void 0}),new ti(g,d)}return p&&v?t.apply(this,a):(g=this.thru(c),p?r?g.value()[0]:g.value():g)})}),Jo(["pop","push","shift","sort","splice","unshift"],function(t){var e=SF[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);X.prototype[t]=function(){var o=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Vt(i)?i:[],o)}return this[n](function(s){return e.apply(Vt(s)?s:[],o)})}}),Zi(ln.prototype,function(t,e){var n=X[e];if(n){var r=n.name+"";F_.call(Au,r)||(Au[r]=[]),Au[r].push({name:e,func:n})}}),Au[Wd(void 0,2).name]=[{name:"wrapper",func:void 0}],ln.prototype.clone=function(){var t=new ln(this.__wrapped__);return t.__actions__=yo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yo(this.__views__),t},ln.prototype.reverse=function(){if(this.__filtered__){var t=new ln(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ln.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Vt(t),r=e<0,o=n?t.length:0,i=function(k,$,A){for(var P=-1,_=A.length;++P<_;){var T=A[P],C=T.size;switch(T.type){case"drop":k+=C;break;case"dropRight":$-=C;break;case"take":$=jF($,k+C);break;case"takeRight":k=xF(k,$-C)}}return{start:k,end:$}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,l=r?a:s-1,f=this.__iteratees__,c=f.length,d=0,h=_F(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return NE(t,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=t[l+=e];++v<c;){var m=f[v],y=m.iteratee,b=m.type,w=y(g);if(b==2)g=w;else if(!w){if(b==1)continue e;break e}}p[d++]=g}return p},X.prototype.at=Mi.at,X.prototype.chain=Mi.wrapperChain,X.prototype.commit=Mi.commit,X.prototype.next=Mi.next,X.prototype.plant=Mi.plant,X.prototype.reverse=Mi.reverse,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=Mi.value,X.prototype.first=X.prototype.head,q_&&(X.prototype[q_]=Mi.toIterator);Object.freeze({__proto__:null,add:QO,after:ZO,ary:R0,assign:mA,assignIn:Ud,assignInWith:Uu,assignWith:gA,at:bA,attempt:V0,before:H0,bind:Zc,bindAll:kA,bindKey:ap,camelCase:TA,capitalize:W0,castArray:MA,ceil:IA,chain:Y0,chunk:NA,clamp:LA,clone:HA,cloneDeep:WA,cloneDeepWith:ny,cloneWith:UA,commit:Im,compact:JA,concat:KA,cond:e6,conforms:n6,conformsTo:r6,constant:ep,countBy:s6,create:a6,curry:hp,curryRight:pp,debounce:xl,deburr:K0,defaultTo:u6,defaults:c6,defaultsDeep:d6,defer:p6,delay:v6,difference:m6,differenceBy:g6,differenceWith:y6,divide:b6,drop:w6,dropRight:k6,dropRightWhile:x6,dropWhile:j6,each:Kd,eachRight:Oc,endsWith:C6,entries:Gd,entriesIn:Qd,eq:ai,escape:py,escapeRegExp:E6,every:T6,extend:Ud,extendWith:Uu,fill:M6,filter:N6,find:R6,findIndex:my,findKey:B6,findLast:z6,findLastIndex:gy,findLastKey:F6,first:hr,flatMap:V6,flatMapDeep:H6,flatMapDepth:W6,flatten:q0,flattenDeep:U6,flattenDepth:J6,flip:K6,floor:G6,flow:Y6,flowRight:X6,forEach:Kd,forEachRight:Oc,forIn:Z6,forInRight:e7,forOwn:t7,forOwnRight:n7,fromPairs:r7,functions:o7,functionsIn:i7,get:op,groupBy:s7,gt:a7,gte:u7,has:l7,hasIn:fp,head:hr,identity:Yr,inRange:c7,includes:f7,indexOf:d7,initial:Gt,intersection:h7,intersectionBy:p7,intersectionWith:v7,invert:g7,invertBy:b7,invoke:k7,invokeMap:x7,isArguments:fa,isArray:Vt,isArrayBuffer:j7,isArrayLike:ho,isArrayLikeObject:ur,isBoolean:_7,isBuffer:Cs,isDate:S7,isElement:C7,isEmpty:zn,isEqual:Sn,isEqualWith:$7,isError:sp,isFinite:O7,isFunction:ss,isInteger:xy,isLength:Yc,isMap:ey,isMatch:A7,isMatchWith:E7,isNaN:P7,isNative:T7,isNil:M7,isNull:I7,isNumber:jy,isObject:Jn,isObjectLike:or,isPlainObject:bl,isRegExp:bp,isSafeInteger:N7,isSet:ty,isString:nf,isSymbol:ko,isTypedArray:cu,isUndefined:L7,isWeakMap:R7,isWeakSet:D7,iteratee:B7,join:z7,kebabCase:F7,keyBy:q7,keys:gr,keysIn:co,last:ht,lastIndexOf:V7,lodash:X,lowerCase:H7,lowerFirst:W7,lt:U7,lte:J7,map:jl,mapKeys:K7,mapValues:G7,matches:Q7,matchesProperty:Y7,max:X7,maxBy:Z7,mean:t8,meanBy:n8,memoize:yl,merge:r8,mergeWith:fy,method:o8,methodOf:i8,min:s8,minBy:Eu,mixin:Cy,multiply:a8,negate:Ju,next:Nm,noop:sn,now:ac,nth:l8,nthArg:c8,omit:f8,omitBy:h8,once:p8,orderBy:g8,over:y8,overArgs:b8,overEvery:w8,overSome:k8,pad:S8,padEnd:C8,padStart:$8,parseInt:O8,partial:sf,partialRight:kp,partition:A8,pick:E8,pickBy:Ay,plant:Bm,property:uy,propertyOf:P8,pull:T8,pullAll:Ty,pullAllBy:M8,pullAllWith:I8,pullAt:L8,random:R8,range:Iy,rangeRight:B8,rearg:z8,reduce:q8,reduceRight:V8,reject:H8,remove:W8,repeat:U8,replace:J8,rest:K8,result:G8,reverse:Xd,round:Q8,sample:X8,sampleSize:Z8,set:eE,setWith:tE,shuffle:nE,size:rE,slice:oE,snakeCase:iE,some:sE,sortBy:Ny,sortedIndex:aE,sortedIndexBy:uE,sortedIndexOf:lE,sortedLastIndex:cE,sortedLastIndexBy:fE,sortedLastIndexOf:dE,sortedUniq:pE,sortedUniqBy:vE,split:mE,spread:gE,startCase:yE,startsWith:bE,stubArray:lp,stubFalse:rp,stubObject:wE,stubString:kE,stubTrue:xE,subtract:jE,sum:_E,sumBy:SE,tail:CE,take:$E,takeRight:OE,takeRightWhile:AE,takeWhile:EE,tap:PE,template:IE,templateSettings:Zd,throttle:Ry,thru:Ku,times:Dy,toArray:$y,toFinite:Yi,toInteger:Jt,toIterator:zm,toJSON:Va,toLength:vy,toLower:LE,toNumber:Io,toPairs:Gd,toPairsIn:Qd,toPath:RE,toPlainObject:cy,toSafeInteger:DE,toString:En,toUpper:BE,transform:zE,trim:VE,trimEnd:HE,trimStart:WE,truncate:UE,unary:JE,unescape:GE,union:QE,unionBy:YE,unionWith:XE,uniq:ZE,uniqBy:eP,uniqWith:tP,uniqueId:ji,unset:nP,unzip:_p,unzipWith:By,update:oP,updateWith:iP,upperCase:sP,upperFirst:up,value:Va,valueOf:Va,values:hu,valuesIn:aP,without:uP,words:G0,wrap:lP,wrapperAt:cP,wrapperChain:fP,wrapperCommit:Im,wrapperLodash:X,wrapperNext:Nm,wrapperPlant:Bm,wrapperReverse:dP,wrapperToIterator:zm,wrapperValue:Va,xor:hP,xorBy:pP,xorWith:vP,zip:mP,zipObject:yP,zipObjectDeep:bP,zipWith:wP,default:X});function Xa(t,e){for(var n=Se.exports.parseJSONPointer(e),r=0;r<n.length;r++){var o=n[r];if($F.exec(o)){var i=n.slice(0,r),s=Se.exports.getIn(t,i);Array.isArray(s)&&(n[r]=parseInt(o))}}return n}var $F=/^\d+$/;function kP(t){for(var e=Ny(t,function(a){return a.start}),n=[e[0]],r=0;r<e.length;r++){var o=n.length-1,i=n[o],s=e[r];s.start<=i.end?n[o]={start:Math.min(i.start,s.start),end:Math.max(i.end,s.end)}:n.push(s)}return n}function Fm(t){return eh(t)+100}function eh(t){return 100*Math.floor(t/100)}function no(t,e,n,r){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],i=Array.isArray(t)?[]:{};return i[ks]=e&&e[ks]?e[ks]:ji(),yr(t)?(i[oi]=AF(t,e&&e[oi]),i[ro]=e&&!o?e[ro]:r(n),i[ro]&&Object.keys(t).forEach(function(s){var a=t[s],u=e&&e[s];i[s]=no(a,u,n.concat(s),r,o)})):Array.isArray(t)?(i[ro]=e&&!o?e[ro]:r(n),i[Qi]=e&&i[ro]&&e[Qi]||C0,i[ro]&&i[Qi].forEach(function(s){var a=s.start,u=s.end;T0(a,Math.min(t.length,u),function(l){var f=t[l],c=e&&e[l];i[l]=no(f,c,n.concat(l),r,o)})})):e&&e[Po]!==void 0?i[Po]=e[Po]:HO(t)&&(i[Po]=!0),i}function qm(t){if(Array.isArray(t)){var e=[];return e[ks]=ji(),e[ro]=!1,e[Qi]=C0,e}if(yr(t)){var n={};return n[ks]=ji(),n[ro]=!1,n[oi]=Object.keys(t),n}var r=kc({},ks,ji());return HO(t)&&(r[Po]=!0),r}function xP(t,e,n){e[Qi].forEach(function(r){var o=r.start,i=r.end;T0(o,Math.min(t.length,i),n)})}function Fy(t,e){t[oi].forEach(function(n){return e(n)})}function H_(t,e,n){for(var r=e,o=function(s){var a=n.slice(0,s),u=a.concat(ro);if(r=Se.exports.setIn(r,u,!0,!0),Array.isArray(Se.exports.getIn(r,a))){var l=n[s],f=a.concat(Qi),c=Se.exports.getIn(r,f)||C0;if(!function(g,m){return g.some(function(y){return m>=y.start&&m<y.end})}(c,l)){var d=eh(l),h={start:d,end:Fm(d)},p=kP(c.concat(h));r=Se.exports.setIn(r,f,p)}}var v=Se.exports.getIn(t,a);r=Se.exports.updateIn(r,a,function(g){return no(v,g,[],function(){return!1})})},i=0;i<n.length;i++)o(i);return r}function lv(t,e,n,r){var o=Se.exports.setIn(e,n.concat(ro),!0,!0);return Se.exports.updateIn(o,n,function(i){return no(Se.exports.getIn(t,n),i,[],r,!0)})}function OF(t,e,n){return Se.exports.updateIn(e,n,function(r){return no(Se.exports.getIn(t,n),r,[],function(){return!1},!0)})}function AF(t,e){if(!e)return Object.keys(t);var n=e.filter(function(o){return t[o]!==void 0}),r=new Set(n);return Object.keys(t).filter(function(o){return!r.has(o)}).forEach(function(o){return n.push(o)}),n}function jP(t,e,n){var r=Se.exports.immutableJSONPatch(t,n),o=function(i,s,a){var u=s;function l(f,c,d){var h=c;return Se.exports.existsIn(f,d)&&!Se.exports.existsIn(h,d)&&(d.length>0&&(h=l(f,h,Gt(d))),h=Se.exports.setIn(h,d,qm(Se.exports.getIn(f,d)))),h}return a.forEach(function(f){var c=typeof f.from=="string"?Xa(i,f.from):null,d=typeof f.path=="string"?Xa(i,f.path):null;f.op==="add"&&(u=l(i,u,Gt(d))),f.op!=="copy"&&f.op!=="move"||(u=l(i,u,c),u=l(i,u,Gt(d))),f.op!=="remove"&&f.op!=="replace"&&f.op!=="test"||(u=l(i,u,d))}),u}(t,e,n);return{json:r,state:Se.exports.immutableJSONPatch(o,n,{before:function(i,s){var a=s.op,u=s.path,l=s.from,f=Gt(u),c=i,d=s;if(s.value!==void 0&&(d=lt(lt({},d),{},{value:qm(s.value)})),a==="add"||a==="copy"){var h=Wr(i,f);if(h){var p=ht(u);h.includes(p)||(c=Df(c,f,p))}c=Lf(c,u,1)}if(a==="move"){var v=Gt(u),g=Wr(c,v),m=ht(l),y=ht(u);if(Sn(Gt(l),Gt(u)))g&&(c=m!==y?function(_,T,C,R){return Se.exports.updateIn(_,T.concat([oi]),function(S){var j=S.indexOf(C);if(j===-1)return S;var q=S.slice(0);return q.splice(j,1,R),q})}(c=Rf(c,v,y),v,m,y):Df(c=Rf(c,v,y),v,y));else{var b=Gt(l);Wr(c,b)&&(c=Rf(c,b,m)),g&&(c=Df(c,v,y))}c=Lf(c,l,-1),c=Lf(c,u,1);var w=Se.exports.getIn(i,l);d=lt(lt({},d),{},{value:w})}if(a==="remove"){var k=Gt(u);Wr(c,k)?c=Rf(c,k,ht(u)):c=Lf(c,u,-1)}if(a==="replace"){var $=Gt(u),A=Wr(c,$);if(A){var P=ht(u);A.includes(P)||(c=Df(c,$,P))}}return{json:c,operation:d}},after:function(i,s,a){var u=s.op,l=s.path,f=i;if(u==="copy"&&Se.exports.existsIn(f,l.concat([ks]))&&(f=Se.exports.setIn(f,l.concat([ks]),ji())),u==="replace"){var c=Se.exports.getIn(a,l.concat([Po]));typeof c=="boolean"&&(f=Se.exports.setIn(f,l.concat([Po]),c))}return f}})}}function Lf(t,e,n){var r=Gt(e).concat([Qi]),o=Se.exports.getIn(t,r);if(!o)return t;var i=parseInt(ht(e),10),s=o.map(function(a){return{start:a.start>i?a.start+n:a.start,end:a.end>=i?a.end+n:a.end}});return Se.exports.setIn(t,r,s)}function Wr(t,e){return Se.exports.getIn(t,e.concat([oi]))}function Rf(t,e,n){return Se.exports.updateIn(t,e.concat([oi]),function(r){var o=r.indexOf(n);if(o===-1)return r;var i=r.slice(0);return i.splice(o,1),i})}function Df(t,e,n){return Se.exports.updateIn(t,e.concat([oi]),function(r){return r.concat(n)})}function Sp(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.indexOf(e);return r!==-1?n?t.slice(r):t.slice(r+1):[]}function qy(t,e){var n=[];return function r(o,i,s){n.push(s),o&&i&&i[ro]===!0&&(Array.isArray(o)?xP(o,i,function(a){r(o[a],i[a],s.concat(a))}):Fy(i,function(a){r(o[a],i[a],s.concat(a))}))}(t,e,[]),n}var EF="inside",W_="after",PF="key",TF="value";function _P(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];function o(i,s,a){r.push({path:a,type:TF}),i&&s&&s[ro]===!0&&(n&&r.push({path:a,type:EF}),Array.isArray(i)?xP(i,s,function(u){var l=a.concat(u);o(i[u],s[u],l),n&&r.push({path:l,type:W_})}):Fy(s,function(u){var l=a.concat(u);r.push({path:l,type:PF}),o(i[u],s[u],l),n&&r.push({path:l,type:W_})}))}return o(t,e,[]),r}function MF(t,e,n){var r=qy(t,e),o=r.map(Se.exports.compileJSONPointer),i=Se.exports.compileJSONPointer(n),s=o.indexOf(i);return s!==-1&&s>0?r[s-1]:null}function Vm(t,e,n){var r=qy(t,e),o=r.map(Se.exports.compileJSONPointer).indexOf(Se.exports.compileJSONPointer(n));return o!==-1&&o<r.length-1?r[o+1]:null}var Gr="after",br="inside",pn="key",mt="value",Et="multi";function SP(t){return t.type===br?t.focusPath:Gt(t.focusPath)}function cv(t){return t.paths?hr(t.paths):t.focusPath}function U_(t){return t.paths?ht(t.paths):t.focusPath}function IF(t,e){return Ac(t.focusPath,e)&&(t.focusPath.length>e.length||t.type===br)}function J_(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],i=!o&&n.paths?hr(n.paths):n.focusPath,s=MF(t,e,i);if(s===null)return null;var a=s,u=s;if(r)return n.type===Gr||n.type===br?nn(t,e,{type:Et,anchorPath:n.anchorPath,focusPath:n.anchorPath}):nn(t,e,{type:Et,anchorPath:n.anchorPath,focusPath:u});if(n.type===pn){var l=Gt(s),f=Se.exports.getIn(t,l);return Array.isArray(f)||zn(s)?{type:mt,anchorPath:a,focusPath:u}:{type:pn,anchorPath:a,focusPath:u}}return n.type===mt?{type:mt,anchorPath:a,focusPath:u}:n.type===Gr||n.type===br?nn(t,e,{type:Et,anchorPath:i,focusPath:i}):nn(t,e,{type:Et,anchorPath:a,focusPath:u})}function CP(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],i=!o&&n.paths?ht(n.paths):n.focusPath,s=Vm(t,e,i),a=s,u=s;if(s===null)return null;if(r){var l=Sr(Se.exports.getIn(t,i))?Se.exports.setIn(e,i.concat(ro),!1,!0):e,f=Vm(t,l,i);return f===null?null:n.type===Gr?nn(t,e,{type:Et,anchorPath:f,focusPath:f}):n.type===br?nn(t,e,{type:Et,anchorPath:a,focusPath:u}):nn(t,e,{type:Et,anchorPath:n.anchorPath,focusPath:f})}if(n.type===pn){var c=Gt(s),d=Se.exports.getIn(t,c);return Array.isArray(d)?{type:mt,anchorPath:a,focusPath:u}:{type:pn,anchorPath:a,focusPath:u}}return n.type===mt?{type:mt,anchorPath:a,focusPath:u}:n.type===br?nn(t,e,{type:Et,anchorPath:a,focusPath:u}):nn(t,e,{type:Et,anchorPath:s,focusPath:s})}function K_(t,e,n,r){var o=_P(t,e,r),i=o.findIndex(function(s){return Sn(s.path,n.focusPath)&&s.type===n.type});return{caret:i!==-1?o[i]:null,previous:i!==-1&&i>0?o[i-1]:null,next:i!==-1&&i<o.length-1?o[i+1]:null}}function Bf(t,e){for(var n=qy(t,e),r=0;r<n.length-1&&n[r+1].length>n[r].length;)r++;var o=n[r];return o.length===0||Array.isArray(Se.exports.getIn(t,Gt(o)))?{type:mt,anchorPath:o,focusPath:o}:{type:pn,anchorPath:o,focusPath:o}}function Gu(t,e,n){if(n.length===1){var r=hr(n);if(r.op==="replace"||r.op==="move"){var o=Xa(t,r.path);return{type:mt,anchorPath:o,focusPath:o,edit:!1}}}if(!zn(n)&&n.every(function(l){return l.op==="move"})){var i=hr(n),s=n.slice(1);if(i.from!==i.path&&s.every(function(l){return l.from===l.path})){var a=Xa(t,i.path);return{type:pn,anchorPath:a,focusPath:a,edit:!1}}}var u=n.filter(function(l){return l.op!=="test"&&l.op!=="remove"&&(l.op!=="move"||l.from!==l.path)&&typeof l.path=="string"}).map(function(l){return Xa(t,l.path)});return zn(u)?null:{type:Et,paths:u,anchorPath:hr(u),focusPath:ht(u),pathsMap:Hm(u)}}function Hm(t){var e={};return t.forEach(function(n){e[Se.exports.compileJSONPointer(n)]=!0}),e}function Wm(t){return t&&(t.type===pn||t.type===mt||t.type===Et&&t.paths.length===1)}function G_(t,e){return Wm(e)&&Sr(Se.exports.getIn(t,e.focusPath))?e.focusPath:Gt(e.focusPath)}function Ac(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function Bs(t){return t&&t.edit?lt(lt({},t),{},{edit:!1}):t}function nn(t,e,n){var r=n.type,o=n.anchorPath,i=n.focusPath,s=n.path,a=n.edit,u=a!==void 0&&a,l=n.next,f=l!==void 0&&l,c=n.nextInside,d=c!==void 0&&c;if(r===pn){var h={type:r,anchorPath:s,focusPath:s,edit:u};return f&&(h=lt(lt({},h),{},{type:mt})),h}if(r===mt){var p={type:mt,anchorPath:s,focusPath:s,edit:u};return f&&(p=CP(t,e,p)||p),d&&(p=function(y,b,w){var k=w.focusPath,$=Gt(k),A=[ht(k)],P=Vm(Se.exports.getIn(y,$),Se.exports.getIn(b,$),A);return nn(y,b,P?{type:mt,path:$.concat(P)}:{type:Gr,path:k})}(t,e,p)||p),p}if(r===Gr)return{type:r,anchorPath:s,focusPath:s};if(r===br)return{type:r,anchorPath:s,focusPath:s};if(r===Et&&s){var v=[s];return{type:Et,anchorPath:s,focusPath:s,paths:v,pathsMap:Hm(v)}}if(o&&i){var g=function(y,b,w,k){if(Sn(w,k))return[w];var $=function(W,H){for(var z=0;z<W.length&&z<H.length&&W[z]===H[z];)z++;return W.slice(0,z)}(w,k);if(w.length===$.length||k.length===$.length)return[$];var A=w[$.length],P=k[$.length],_=Se.exports.getIn(y,$);if(yr(_)){var T=Wr(b,$),C=T.indexOf(A),R=T.indexOf(P);if(C!==-1&&R!==-1){for(var S=Math.min(C,R),j=Math.max(C,R),q=[],Y=S;Y<=j;Y++)q.push($.concat(T[Y]));return q}}if(Array.isArray(_)){for(var F=Math.min(A,P),K=Math.max(A,P),D=[],I=F;I<=K;I++)D.push($.concat(I));return D}throw new Error("Failed to create selection")}(t,e,o,i),m=Ac(i,ht(g))||Ac(o,hr(g));return{type:Et,anchorPath:m?hr(g):ht(g),focusPath:m?ht(g):hr(g),paths:g,pathsMap:Hm(g)}}throw new TypeError("Unknown type of selection ".concat(JSON.stringify(n)))}function Q_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;if(e.type===pn)return ht(e.focusPath);if(e.type===mt){var r=Se.exports.getIn(t,e.focusPath);return typeof r=="string"?r:JSON.stringify(r,null,n)}if(e.type===Et){if(zn(e.focusPath))return JSON.stringify(t,null,n);var o=SP(e),i=Se.exports.getIn(t,o);if(Array.isArray(i)){if(e.paths.length===1){var s=Se.exports.getIn(t,hr(e.paths));return JSON.stringify(s,null,n)}return e.paths.map(function(a){var u=Se.exports.getIn(t,a);return"".concat(JSON.stringify(u,null,n),",")}).join(`
`)}return e.paths.map(function(a){var u=ht(a),l=Se.exports.getIn(t,a);return"".concat(JSON.stringify(u),": ").concat(JSON.stringify(l,null,n),",")}).join(`
`)}return null}function $P(t,e){if(!e)return null;var n={};return(e.type===Et?e.paths:[e.focusPath]).forEach(function(r){var o=r.concat(_c);if(!Se.exports.existsIn(n,o)){var i=Se.exports.getIn(t,o);n=Se.exports.setIn(n,o,Array.isArray(i)?[]:{},!0)}n=Se.exports.setIn(n,o,e,!0)}),n}function wd(t){return!!t&&(t.type===pn||t.type===mt||t.type===Et&&t.paths.length===1||void 0)}function Y_(t,e,n){var r,o=(r=n==null?void 0:n[e])===null||r===void 0?void 0:r[_c];return!(!o||o.type!==pn||o.edit)&&Sn(o.focusPath,t.concat(e))}function OP(t){var e=t.escapeControlCharacters,n=t.escapeUnicodeCharacters;return e?n?NF:LF:n?RF:DF}var NF={escapeValue:function(t){return AP(PP(String(t)))},unescapeValue:function(t){return TP(EP(t))}},LF={escapeValue:function(t){return PP(String(t))},unescapeValue:function(t){return TP(t)}},RF={escapeValue:function(t){return AP(String(t))},unescapeValue:function(t){return EP(t)}},DF={escapeValue:function(t){return String(t)},unescapeValue:function(t){return t}};function AP(t){return t.replace(/[^\x20-\x7F]/g,function(e){return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+e.codePointAt(0).toString(16)).slice(-4)})}function EP(t){return t.replace(/\\u[a-fA-F0-9]{4}/g,function(e){try{return JSON.parse('"'+e+'"')}catch{return e}})}var BF={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},zF={"\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function PP(t){return t.replace(/[\b\f\n\r\t]/g,function(e){return BF[e]||e})}function TP(t){return t.replace(/\\[bfnrt]/g,function(e){return zF[e]||e})}function eu(t){return typeof t!="string"?String(t):t.endsWith(`
`)?t+`
`:t}function MP(t,e){return af(t,function(n){return n.nodeName.toUpperCase()===e.toUpperCase()})}function Ha(t,e,n){return af(t,function(r){return function(o,i,s){return typeof o.getAttribute=="function"&&o.getAttribute(i)===s}(r,e,n)})}function af(t,e){return!!Vy(t,e)}function Vy(t,e){for(var n=t;n&&!e(n);)n=n.parentNode;return n||void 0}function IP(t){if(t.firstChild!=null){var e=document.createRange(),n=window.getSelection();e.setStart(t,1),e.collapse(!0),n.removeAllRanges(),n.addRange(e)}else t.focus()}function Qu(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView}function th(t){return af(Qu(t).document.activeElement,function(e){return e===t})}function FF(t,e){return Vy(t,function(n){return n.nodeName===e})}function fv(t){return Ha(t,"data-type","selectable-key")?pn:Ha(t,"data-type","selectable-value")?mt:Ha(t,"data-type","insert-selection-area-inside")?br:Ha(t,"data-type","insert-selection-area-after")?Gr:Et}function Um(t){return encodeURIComponent(JSON.stringify(t))}function qF(t){var e,n=Vy(t,function(r){return r.hasAttribute("data-path")});return n?(e=n.getAttribute("data-path"),JSON.parse(decodeURIComponent(e))):null}function VF(t){var e=t.allElements,n=t.currentElement,r=t.direction,o=t.hasPrio,i=o===void 0?function(){return!0}:o,s=t.margin,a=s===void 0?10:s,u=jl(e.filter(function(m){var y=m.getBoundingClientRect();return y.width>0&&y.height>0}),f),l=f(n);function f(m){var y=m.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:m}}function c(m,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=m.x-y.x,k=(m.y-y.y)*b;return Math.sqrt(w*w+k*k)}var d=function(m){return c(m,l)};if(r==="Left"||r==="Right"){var h=r==="Left"?u.filter(function(m){return y=l,m.rect.left+a<y.rect.left;var y}):u.filter(function(m){return y=l,m.rect.right>y.rect.right+a;var y}),p=Eu(h.filter(function(m){return y=m,b=l,Math.abs(y.y-b.y)<a;var y,b}),d)||Eu(h,function(m){return c(m,l,10)});return p==null?void 0:p.element}if(r==="Up"||r==="Down"){var v=r==="Up"?u.filter(function(m){return y=l,m.y+a<y.y;var y}):u.filter(function(m){return y=l,m.y>y.y+a;var y}),g=Eu(v.filter(function(m){return i(m.element)}),d)||Eu(v,d);return g==null?void 0:g.element}}var NP=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function Sl(t){var e=[];t.ctrlKey&&e.push("Ctrl"),t.metaKey&&e.push("Command"),t.altKey&&e.push(NP?"Option":"Alt"),t.shiftKey&&e.push("Shift");var n=function(r){return WF[r]||""}(t.which);return HF[n]||e.push(n),e.join("+")}var HF={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},WF={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dv=S0.window;function UF(t){zt(t,"svelte-p9zniz",".jse-absolute-popup.svelte-p9zniz.svelte-p9zniz{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-p9zniz .jse-hidden-input.svelte-p9zniz{position:absolute;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-p9zniz .jse-absolute-popup-content.svelte-p9zniz{position:absolute}")}function X_(t){var e,n,r,o,i,s=[t[1]],a=t[0];function u(l){for(var f={},c=0;c<s.length;c+=1)f=ga(f,s[c]);return{props:f}}return a&&(o=new a(u())),{c:function(){e=re("div"),n=re("input"),r=Ae(),o&&Le(o.$$.fragment),E(n,"class","jse-hidden-input svelte-p9zniz"),E(e,"class","jse-absolute-popup-content svelte-p9zniz"),E(e,"style",t[7]())},m:function(l,f){ye(l,e,f),U(e,n),t[10](n),U(e,r),o&&Me(o,e,null),i=!0},p:function(l,f){var c=2&f?au(s,[Yh(l[1])]):{};if(a!==(a=l[0])){if(o){Ue();var d=o;te(d.$$.fragment,1,0,function(){Ie(d,1)}),Je()}a?(Le((o=new a(u())).$$.fragment),J(o.$$.fragment,1),Me(o,e,null)):o=null}else a&&o.$set(c)},i:function(l){i||(o&&J(o.$$.fragment,l),i=!0)},o:function(l){o&&te(o.$$.fragment,l),i=!1},d:function(l){l&&me(e),t[10](null),o&&Ie(o)}}}function JF(t){var e,n,r,o,i,s=t[0]&&t[1]&&X_(t),a=t[9].default,u=_i(a,t,t[8],null);return{c:function(){e=re("div"),s&&s.c(),n=Ae(),u&&u.c(),E(e,"class","jse-absolute-popup svelte-p9zniz")},m:function(l,f){ye(l,e,f),s&&s.m(e,null),t[11](e),ye(l,n,f),u&&u.m(l,f),r=!0,o||(i=[Fe(dv,"mousedown",t[4],!0),Fe(dv,"keydown",t[5],!0),Fe(dv,"wheel",t[6],!0),Fe(e,"mousedown",KF),Fe(e,"keydown",t[5])],o=!0)},p:function(l,f){var c=At(f,1)[0];l[0]&&l[1]?s?(s.p(l,c),3&c&&J(s,1)):((s=X_(l)).c(),J(s,1),s.m(e,null)):s&&(Ue(),te(s,1,1,function(){s=null}),Je()),u&&u.p&&(!r||256&c)&&Ci(u,a,l,l[8],r?Si(a,l[8],c,null):$i(l[8]),null)},i:function(l){r||(J(s),J(u,l),r=!0)},o:function(l){te(s),te(u,l),r=!1},d:function(l){l&&me(e),s&&s.d(),t[11](null),l&&me(n),u&&u.d(l),o=!1,Kn(i)}}}function KF(t){t.stopPropagation()}function GF(t,e,n){var r,o,i=e.$$slots,s=i===void 0?{}:i,a=e.$$scope,u=zo("jsoneditor:AbsolutePopup"),l=null,f=null,c={};function d(){if(l){var v=c.onClose;n(0,l=null),n(1,f=null),c={},v&&v()}}function h(v){c&&c.closeOnOuterClick&&!af(v.target,function(g){return g===r})&&d()}function p(){o&&o.focus()}return DO("absolute-popup",{openAbsolutePopup:function(v,g,m){u("open...",m),n(0,l=v),n(1,f=g||{}),c=m||{},ar().then(p)},closeAbsolutePopup:d}),t.$$set=function(v){"$$scope"in v&&n(8,a=v.$$scope)},[l,f,r,o,function(v){h(v)},function(v){Sl(v)==="Escape"&&d()},function(v){h(v)},function(){var v=r.getBoundingClientRect(),g=function(){if(c.anchor){var k=c,$=k.anchor,A=k.width,P=A===void 0?0:A,_=k.height,T=_===void 0?0:_,C=k.offsetTop,R=C===void 0?0:C,S=k.offsetLeft,j=S===void 0?0:S,q=k.position,Y=$.getBoundingClientRect(),F=Y.left,K=Y.top,D=Y.bottom,I=Y.right,W=q==="top"||K+T>window.innerHeight&&K>T,H=q==="left"||F+P>window.innerWidth&&F>P;return{left:H?I-j:F+j,top:W?K-R:D+R,positionAbove:W,positionLeft:H}}if(typeof c.left=="number"&&typeof c.top=="number"){var z=c,O=z.left,x=z.top,N=z.width,G=N===void 0?0:N,ue=z.height,xe=ue===void 0?0:ue;return{left:O,top:x,positionAbove:x+xe>window.innerHeight&&x>xe,positionLeft:O+G>window.innerWidth&&O>G}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}(),m=g.left,y=g.top,b=g.positionAbove,w=g.positionLeft;return(b?"bottom: ".concat(v.top-y,"px;"):"top: ".concat(y-v.top,"px;"))+(w?"right: ".concat(v.left-m,"px;"):"left: ".concat(m-v.left,"px;"))},a,s,function(v){Yt[v?"unshift":"push"](function(){n(3,o=v)})},function(v){Yt[v?"unshift":"push"](function(){n(2,r=v)})}]}var LP=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,GF,JF,an,{},UF),o}return ae(n)}(),QF={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"]},RP={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"]},YF={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"]},Hy={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M320 224H416c17.67 0 32-14.33 32-32s-14.33-32-32-32h-95.1c-17.67 0-32 14.33-32 32S302.3 224 320 224zM320 352H480c17.67 0 32-14.33 32-32s-14.33-32-32-32h-159.1c-17.67 0-32 14.33-32 32S302.3 352 320 352zM320 96h32c17.67 0 31.1-14.33 31.1-32s-14.33-32-31.1-32h-32c-17.67 0-32 14.33-32 32S302.3 96 320 96zM544 416h-223.1c-17.67 0-32 14.33-32 32s14.33 32 32 32H544c17.67 0 32-14.33 32-32S561.7 416 544 416zM192.4 330.7L160 366.1V64.03C160 46.33 145.7 32 128 32S96 46.33 96 64.03v302L63.6 330.7c-6.312-6.883-14.94-10.38-23.61-10.38c-7.719 0-15.47 2.781-21.61 8.414c-13.03 11.95-13.9 32.22-1.969 45.27l87.1 96.09c12.12 13.26 35.06 13.26 47.19 0l87.1-96.09c11.94-13.05 11.06-33.31-1.969-45.27C224.6 316.8 204.4 317.7 192.4 330.7z"]},DP={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.86 0-95.19-15.58-134.2-44.86c-14.14-10.59-17-30.66-6.391-44.81c10.61-14.09 30.69-16.97 44.8-6.375c27.84 20.91 61 31.94 95.89 31.94C344.3 415.8 416 344.1 416 256s-71.67-159.8-159.8-159.8C205.9 96.22 158.6 120.3 128.6 160H192c17.67 0 32 14.31 32 32S209.7 224 192 224H48c-17.67 0-32-14.31-32-32V48c0-17.69 14.33-32 32-32s32 14.31 32 32v70.23C122.1 64.58 186.1 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},BP={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"]},Wi={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M310.6 246.6l-127.1 128C176.4 380.9 168.2 384 160 384s-16.38-3.125-22.63-9.375l-127.1-128C.2244 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75S319.8 237.5 310.6 246.6z"]},Ys={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"]},Jm={prefix:"fas",iconName:"check",icon:[448,512,[10004,10003],"f00c","M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"]},XF={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},ZF={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"]},eq={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.15C227.7 49.08 218.1 66.9 201.1 71.94C121.8 95.55 64 169.1 64 255.1C64 362 149.1 447.1 256 447.1C362 447.1 448 362 448 255.1C448 169.1 390.2 95.55 310.9 71.94C293.9 66.9 284.3 49.08 289.3 32.15C294.4 15.21 312.2 5.562 329.1 10.6C434.9 42.07 512 139.1 512 255.1C512 397.4 397.4 511.1 256 511.1C114.6 511.1 0 397.4 0 255.1C0 139.1 77.15 42.07 182.9 10.6C199.8 5.562 217.6 15.21 222.7 32.15V32.15z"]},tq={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 224C0 188.7 28.65 160 64 160H128V288C128 341 170.1 384 224 384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224zM224 352C188.7 352 160 323.3 160 288V64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224z"]},nh={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z"]},rh={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"]},nq={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 384H352V448H128C92.65 448 64 419.3 64 384V128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H64V32C64 14.33 78.33 0 96 0C113.7 0 128 14.33 128 32V384zM384 128H160V64H384C419.3 64 448 92.65 448 128V384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H448V480C448 497.7 433.7 512 416 512C398.3 512 384 497.7 384 480V128z"]},rq={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},Wy={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.853 54.87C10.47 40.9 24.54 32 40 32H472C487.5 32 501.5 40.9 508.1 54.87C514.8 68.84 512.7 85.37 502.1 97.33L320 320.9V448C320 460.1 313.2 471.2 302.3 476.6C291.5 482 278.5 480.9 268.8 473.6L204.8 425.6C196.7 419.6 192 410.1 192 400V320.9L9.042 97.33C-.745 85.37-2.765 68.84 3.854 54.87L3.853 54.87z"]},oq={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},Uy={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},iq={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M320 96V80C320 53.49 298.5 32 272 32H215.4C204.3 12.89 183.6 0 160 0S115.7 12.89 104.6 32H48C21.49 32 0 53.49 0 80v320C0 426.5 21.49 448 48 448l144 .0013L192 176C192 131.8 227.8 96 272 96H320zM160 88C146.8 88 136 77.25 136 64S146.8 40 160 40S184 50.75 184 64S173.3 88 160 88zM416 128v96h96L416 128zM384 224L384 128h-112C245.5 128 224 149.5 224 176v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48V256h-95.99C398.4 256 384 241.6 384 224z"]},Jy={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},Km={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},sq={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM345.6 232.3l-104 112C237 349.2 230.7 352 224 352s-13.03-2.781-17.59-7.656l-104-112c-6.5-7-8.219-17.19-4.407-25.94C101.8 197.7 110.5 192 120 192h208c9.531 0 18.19 5.656 21.1 14.41C353.8 215.2 352.1 225.3 345.6 232.3z"]},aq={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM349.1 305.6C346.2 314.3 337.5 320 328 320h-208c-9.531 0-18.19-5.656-22-14.41C94.19 296.8 95.91 286.7 102.4 279.7l104-112c9.125-9.75 26.06-9.75 35.19 0l104 112C352.1 286.7 353.8 296.8 349.1 305.6z"]},Cl={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},Ky={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},uf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function zf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<.9*e)return t.toFixed()+" B";var n=t/e;if(n<.9*e)return n.toFixed(1)+" KB";var r=n/e;if(r<.9*e)return r.toFixed(1)+" MB";var o=r/e;if(o<.9*e)return o.toFixed(1)+" GB";var i=o/e;return i.toFixed(1)+" TB"}var Ff=zo("jsoneditor:FocusTracker");function Gy(t){var e,n=t.onMount,r=t.onDestroy,o=t.getWindow,i=t.hasFocus,s=t.onFocus,a=t.onBlur,u=!1;function l(){var c=i();c&&(clearTimeout(e),u||(Ff("focus"),s(),u=c))}function f(){u&&(clearTimeout(e),e=setTimeout(function(){Ff("blur"),u=!1,a()}))}n(function(){Ff("mount FocusTracker");var c=o();c&&(c.addEventListener("focusin",l,!0),c.addEventListener("focusout",f,!0))}),r(function(){Ff("destroy FocusTracker");var c=o();c&&(c.removeEventListener("focusin",l,!0),c.removeEventListener("focusout",f,!0))})}function uq(t){for(var e,n,r=[{id:n="path-"+t[0]},t[1]],o={},i=0;i<r.length;i+=1)o=ga(o,r[i]);return{c:function(){zd(e=Ss("path"),o)},m:function(s,a){ye(s,e,a)},p:function(s,a){var u=At(a,1)[0];zd(e,o=au(r,[1&u&&n!==(n="path-"+s[0])&&{id:n},2&u&&s[1]]))},i:Ge,o:Ge,d:function(s){s&&me(e)}}}function lq(t,e,n){var r=e.id,o=e.data,i=o===void 0?{}:o;return t.$$set=function(s){"id"in s&&n(0,r=s.id),"data"in s&&n(1,i=s.data)},[r,i]}var cq=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,lq,uq,xr,{id:0,data:1}),o}return ae(n)}();function fq(t){for(var e,n,r=[{id:n="polygon-"+t[0]},t[1]],o={},i=0;i<r.length;i+=1)o=ga(o,r[i]);return{c:function(){zd(e=Ss("polygon"),o)},m:function(s,a){ye(s,e,a)},p:function(s,a){var u=At(a,1)[0];zd(e,o=au(r,[1&u&&n!==(n="polygon-"+s[0])&&{id:n},2&u&&s[1]]))},i:Ge,o:Ge,d:function(s){s&&me(e)}}}function dq(t,e,n){var r=e.id,o=e.data,i=o===void 0?{}:o;return t.$$set=function(s){"id"in s&&n(0,r=s.id),"data"in s&&n(1,i=s.data)},[r,i]}var hq=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,dq,fq,xr,{id:0,data:1}),o}return ae(n)}();function pq(t){var e;return{c:function(){e=Ss("g")},m:function(n,r){ye(n,e,r),e.innerHTML=t[0]},p:function(n,r){1&At(r,1)[0]&&(e.innerHTML=n[0])},i:Ge,o:Ge,d:function(n){n&&me(e)}}}function vq(t,e,n){var r,o=870711,i=e.data;function s(a){if(!a||!a.raw)return null;var u=a.raw,l={};return u=(u=u.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(f,c){var d="fa-".concat((o+=1).toString(16));return l[c]=d,' id="'.concat(d,'"')})).replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(f,c,d,h){var p=c||h;return p&&l[p]?"#".concat(l[p]):f})}return t.$$set=function(a){"data"in a&&n(1,i=a.data)},t.$$.update=function(){2&t.$$.dirty&&n(0,r=s(i))},[r,i]}var mq=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,vq,pq,xr,{data:1}),o}return ae(n)}();function gq(t){zt(t,"svelte-1dof0an",".fa-icon.svelte-1dof0an{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1dof0an{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1dof0an{transform:scale(1, -1)}.fa-spin.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1dof0an{color:#fff}.fa-pulse.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s infinite steps(8)}@keyframes svelte-1dof0an-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function yq(t){var e,n,r,o,i=t[13].default,s=_i(i,t,t[12],null);return{c:function(){e=Ss("svg"),s&&s.c(),E(e,"version","1.1"),E(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),E(e,"x",t[8]),E(e,"y",t[9]),E(e,"width",t[1]),E(e,"height",t[2]),E(e,"aria-label",t[11]),E(e,"role",r=t[11]?"img":"presentation"),E(e,"viewBox",t[3]),E(e,"style",t[10]),Ze(e,"fa-spin",t[4]),Ze(e,"fa-pulse",t[6]),Ze(e,"fa-inverse",t[5]),Ze(e,"fa-flip-horizontal",t[7]==="horizontal"),Ze(e,"fa-flip-vertical",t[7]==="vertical")},m:function(a,u){ye(a,e,u),s&&s.m(e,null),o=!0},p:function(a,u){var l=At(u,1)[0];s&&s.p&&(!o||4096&l)&&Ci(s,i,a,a[12],o?Si(i,a[12],l,null):$i(a[12]),null),(!o||1&l&&n!==(n="fa-icon "+a[0]+" svelte-1dof0an"))&&E(e,"class",n),(!o||256&l)&&E(e,"x",a[8]),(!o||512&l)&&E(e,"y",a[9]),(!o||2&l)&&E(e,"width",a[1]),(!o||4&l)&&E(e,"height",a[2]),(!o||2048&l)&&E(e,"aria-label",a[11]),(!o||2048&l&&r!==(r=a[11]?"img":"presentation"))&&E(e,"role",r),(!o||8&l)&&E(e,"viewBox",a[3]),(!o||1024&l)&&E(e,"style",a[10]),17&l&&Ze(e,"fa-spin",a[4]),65&l&&Ze(e,"fa-pulse",a[6]),33&l&&Ze(e,"fa-inverse",a[5]),129&l&&Ze(e,"fa-flip-horizontal",a[7]==="horizontal"),129&l&&Ze(e,"fa-flip-vertical",a[7]==="vertical")},i:function(a){o||(J(s,a),o=!0)},o:function(a){te(s,a),o=!1},d:function(a){a&&me(e),s&&s.d(a)}}}function bq(t,e,n){var r=e.$$slots,o=r===void 0?{}:r,i=e.$$scope,s=e.class,a=e.width,u=e.height,l=e.box,f=e.spin,c=f!==void 0&&f,d=e.inverse,h=d!==void 0&&d,p=e.pulse,v=p!==void 0&&p,g=e.flip,m=g===void 0?null:g,y=e.x,b=y===void 0?void 0:y,w=e.y,k=w===void 0?void 0:w,$=e.style,A=$===void 0?void 0:$,P=e.label,_=P===void 0?void 0:P;return t.$$set=function(T){"class"in T&&n(0,s=T.class),"width"in T&&n(1,a=T.width),"height"in T&&n(2,u=T.height),"box"in T&&n(3,l=T.box),"spin"in T&&n(4,c=T.spin),"inverse"in T&&n(5,h=T.inverse),"pulse"in T&&n(6,v=T.pulse),"flip"in T&&n(7,m=T.flip),"x"in T&&n(8,b=T.x),"y"in T&&n(9,k=T.y),"style"in T&&n(10,A=T.style),"label"in T&&n(11,_=T.label),"$$scope"in T&&n(12,i=T.$$scope)},[s,a,u,l,c,h,v,m,b,k,A,_,i,o]}var wq=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,bq,yq,xr,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11},gq),o}return ae(n)}();function Z_(t,e,n){var r=t.slice();return r[24]=e[n],r[26]=n,r}function e4(t,e,n){var r=t.slice();return r[27]=e[n],r[26]=n,r}function t4(t){var e,n,r,o,i=t[6].paths&&n4(t),s=t[6].polygons&&o4(t),a=t[6].raw&&s4(t);return{c:function(){i&&i.c(),e=Ae(),s&&s.c(),n=Ae(),a&&a.c(),r=dn()},m:function(u,l){i&&i.m(u,l),ye(u,e,l),s&&s.m(u,l),ye(u,n,l),a&&a.m(u,l),ye(u,r,l),o=!0},p:function(u,l){u[6].paths?i?(i.p(u,l),64&l&&J(i,1)):((i=n4(u)).c(),J(i,1),i.m(e.parentNode,e)):i&&(Ue(),te(i,1,1,function(){i=null}),Je()),u[6].polygons?s?(s.p(u,l),64&l&&J(s,1)):((s=o4(u)).c(),J(s,1),s.m(n.parentNode,n)):s&&(Ue(),te(s,1,1,function(){s=null}),Je()),u[6].raw?a?(a.p(u,l),64&l&&J(a,1)):((a=s4(u)).c(),J(a,1),a.m(r.parentNode,r)):a&&(Ue(),te(a,1,1,function(){a=null}),Je())},i:function(u){o||(J(i),J(s),J(a),o=!0)},o:function(u){te(i),te(s),te(a),o=!1},d:function(u){i&&i.d(u),u&&me(e),s&&s.d(u),u&&me(n),a&&a.d(u),u&&me(r)}}}function n4(t){for(var e,n,r=t[6].paths,o=[],i=0;i<r.length;i+=1)o[i]=r4(e4(t,r,i));var s=function(a){return te(o[a],1,1,function(){o[a]=null})};return{c:function(){for(var a=0;a<o.length;a+=1)o[a].c();e=dn()},m:function(a,u){for(var l=0;l<o.length;l+=1)o[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){if(64&u){var l;for(r=a[6].paths,l=0;l<r.length;l+=1){var f=e4(a,r,l);o[l]?(o[l].p(f,u),J(o[l],1)):(o[l]=r4(f),o[l].c(),J(o[l],1),o[l].m(e.parentNode,e))}for(Ue(),l=r.length;l<o.length;l+=1)s(l);Je()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)J(o[u]);n=!0}},o:function(a){o=o.filter(Boolean);for(var u=0;u<o.length;u+=1)te(o[u]);n=!1},d:function(a){jo(o,a),a&&me(e)}}}function r4(t){var e,n;return e=new cq({props:{id:t[26],data:t[27]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};64&o&&(i.data=r[27]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function o4(t){for(var e,n,r=t[6].polygons,o=[],i=0;i<r.length;i+=1)o[i]=i4(Z_(t,r,i));var s=function(a){return te(o[a],1,1,function(){o[a]=null})};return{c:function(){for(var a=0;a<o.length;a+=1)o[a].c();e=dn()},m:function(a,u){for(var l=0;l<o.length;l+=1)o[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){if(64&u){var l;for(r=a[6].polygons,l=0;l<r.length;l+=1){var f=Z_(a,r,l);o[l]?(o[l].p(f,u),J(o[l],1)):(o[l]=i4(f),o[l].c(),J(o[l],1),o[l].m(e.parentNode,e))}for(Ue(),l=r.length;l<o.length;l+=1)s(l);Je()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)J(o[u]);n=!0}},o:function(a){o=o.filter(Boolean);for(var u=0;u<o.length;u+=1)te(o[u]);n=!1},d:function(a){jo(o,a),a&&me(e)}}}function i4(t){var e,n;return e=new hq({props:{id:t[26],data:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};64&o&&(i.data=r[24]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function s4(t){var e,n,r;function o(s){t[15](s)}var i={};return t[6]!==void 0&&(i.data=t[6]),e=new mq({props:i}),Yt.push(function(){return Oo(e,"data",o)}),{c:function(){Le(e.$$.fragment)},m:function(s,a){Me(e,s,a),r=!0},p:function(s,a){var u={};!n&&64&a&&(n=!0,u.data=s[6],Go(function(){return n=!1})),e.$set(u)},i:function(s){r||(J(e.$$.fragment,s),r=!0)},o:function(s){te(e.$$.fragment,s),r=!1},d:function(s){Ie(e,s)}}}function kq(t){var e,n=t[14].default,r=_i(n,t,t[16],null),o=r||function(i){var s,a,u=i[6]&&t4(i);return{c:function(){u&&u.c(),s=dn()},m:function(l,f){u&&u.m(l,f),ye(l,s,f),a=!0},p:function(l,f){l[6]?u?(u.p(l,f),64&f&&J(u,1)):((u=t4(l)).c(),J(u,1),u.m(s.parentNode,s)):u&&(Ue(),te(u,1,1,function(){u=null}),Je())},i:function(l){a||(J(u),a=!0)},o:function(l){te(u),a=!1},d:function(l){u&&u.d(l),l&&me(s)}}}(t);return{c:function(){o&&o.c()},m:function(i,s){o&&o.m(i,s),e=!0},p:function(i,s){r?r.p&&(!e||65536&s)&&Ci(r,n,i,i[16],e?Si(n,i[16],s,null):$i(i[16]),null):o&&o.p&&(!e||64&s)&&o.p(i,e?s:-1)},i:function(i){e||(J(o,i),e=!0)},o:function(i){te(o,i),e=!1},d:function(i){o&&o.d(i)}}}function xq(t){var e,n;return e=new wq({props:{label:t[5],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[1],flip:t[4],inverse:t[2],pulse:t[3],class:t[0],$$slots:{default:[kq]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i=At(o,1)[0],s={};32&i&&(s.label=r[5]),128&i&&(s.width=r[7]),256&i&&(s.height=r[8]),1024&i&&(s.box=r[10]),512&i&&(s.style=r[9]),2&i&&(s.spin=r[1]),16&i&&(s.flip=r[4]),4&i&&(s.inverse=r[2]),8&i&&(s.pulse=r[3]),1&i&&(s.class=r[0]),65600&i&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function jq(t,e,n){var r,o,i,s,a=e.$$slots,u=a===void 0?{}:a,l=e.$$scope,f=e.class,c=f===void 0?"":f,d=e.data,h=e.scale,p=h===void 0?1:h,v=e.spin,g=v!==void 0&&v,m=e.inverse,y=m!==void 0&&m,b=e.pulse,w=b!==void 0&&b,k=e.flip,$=k===void 0?null:k,A=e.label,P=A===void 0?null:A,_=null,T=e.style,C=T===void 0?null:T;function R(){var j=1;return p!==void 0&&(j=Number(p)),isNaN(j)||j<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*j}function S(){return _?Math.max(_.width,_.height)/16:1}return t.$$set=function(j){"class"in j&&n(0,c=j.class),"data"in j&&n(11,d=j.data),"scale"in j&&n(12,p=j.scale),"spin"in j&&n(1,g=j.spin),"inverse"in j&&n(2,y=j.inverse),"pulse"in j&&n(3,w=j.pulse),"flip"in j&&n(4,$=j.flip),"label"in j&&n(5,P=j.label),"style"in j&&n(13,C=j.style),"$$scope"in j&&n(16,l=j.$$scope)},t.$$.update=function(){14336&t.$$.dirty&&(function(){if(d!==void 0){var j=function(Y){if("iconName"in Y&&"icon"in Y){var F={},K=Y.icon,D=Y.iconName,I={width:K[0],height:K[1],paths:[{d:K[4]}]};return F[D]=I,F}return Y}(d),q=j[At(Object.keys(j),1)[0]];q.paths||(q.paths=[]),q.d&&q.paths.push({d:q.d}),q.polygons||(q.polygons=[]),q.points&&q.polygons.push({points:q.points}),n(6,_=q)}}(),n(7,r=_?_.width/S()*R():0),n(8,o=_?_.height/S()*R():0),n(9,i=function(){var j="";C!==null&&(j+=C);var q=R();return q===1?j.length===0?void 0:j:(j===""||j.endsWith(";")||(j+="; "),"".concat(j,"font-size: ").concat(q,"em"))}()),n(10,s=_?"0 0 ".concat(_.width," ").concat(_.height):"0 0 ".concat(r," ").concat(o)))},[c,g,y,w,$,P,_,r,o,i,s,d,p,C,u,function(j){n(6,_=j)},l]}var Ut=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,jq,xq,xr,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13}),o}return ae(n)}();function _q(t){zt(t,"svelte-kvi5ls",".jse-message.svelte-kvi5ls.svelte-kvi5ls{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:var(--jse-padding);display:flex;gap:var(--jse-padding);flex-wrap:wrap;align-items:center}.jse-message.jse-success.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-success-background);color:var(--jse-message-success-color)}.jse-message.svelte-kvi5ls .jse-text.svelte-kvi5ls{flex:1;min-width:60%}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls{cursor:pointer}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-error-background);color:var(--jse-message-error-color)}.jse-message.jse-warning.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-warning-background);color:var(--jse-message-warning-color)}.jse-message.jse-info.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-info-background);color:var(--jse-message-info-color)}.jse-message.svelte-kvi5ls .jse-actions.svelte-kvi5ls{display:flex;gap:var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-message-action-background);color:inherit;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls:hover{background:var(--jse-message-action-background-highlight)}")}function a4(t,e,n){var r=t.slice();return r[8]=e[n],r}function u4(t){var e,n;return e=new Ut({props:{data:t[1]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};2&o&&(i.data=r[1]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function l4(t){var e,n;return e=new Ut({props:{data:t[8].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};8&o&&(i.data=r[8].icon),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function c4(t){var e,n,r,o,i,s,a,u,l,f=t[8].text+"",c=t[8].icon&&l4(t);function d(){return t[6](t[8])}function h(){return t[7](t[8])}return{c:function(){e=re("button"),c&&c.c(),n=Ae(),r=nt(f),o=Ae(),E(e,"type","button"),E(e,"class","jse-button jse-action jse-primary svelte-kvi5ls"),E(e,"title",i=t[8].title),e.disabled=s=t[8].disabled},m:function(p,v){ye(p,e,v),c&&c.m(e,null),U(e,n),U(e,r),U(e,o),a=!0,u||(l=[Fe(e,"click",d),Fe(e,"mousedown",h)],u=!0)},p:function(p,v){(t=p)[8].icon?c?(c.p(t,v),8&v&&J(c,1)):((c=l4(t)).c(),J(c,1),c.m(e,n)):c&&(Ue(),te(c,1,1,function(){c=null}),Je()),(!a||8&v)&&f!==(f=t[8].text+"")&&en(r,f),(!a||8&v&&i!==(i=t[8].title))&&E(e,"title",i),(!a||8&v&&s!==(s=t[8].disabled))&&(e.disabled=s)},i:function(p){a||(J(c),a=!0)},o:function(p){te(c),a=!1},d:function(p){p&&me(e),c&&c.d(),u=!1,Kn(l)}}}function Sq(t){for(var e,n,r,o,i,s,a,u,l,f,c=t[1]&&u4(t),d=t[3],h=[],p=0;p<d.length;p+=1)h[p]=c4(a4(t,d,p));var v=function(g){return te(h[g],1,1,function(){h[g]=null})};return{c:function(){e=re("div"),n=re("div"),c&&c.c(),r=Ae(),o=nt(t[2]),i=Ae(),s=re("div");for(var g=0;g<h.length;g+=1)h[g].c();E(n,"class","jse-text svelte-kvi5ls"),Ze(n,"jse-clickable",t[4]!==null),E(s,"class","jse-actions svelte-kvi5ls"),E(e,"class",a="jse-message jse-"+t[0]+" svelte-kvi5ls")},m:function(g,m){ye(g,e,m),U(e,n),c&&c.m(n,null),U(n,r),U(n,o),U(e,i),U(e,s);for(var y=0;y<h.length;y+=1)h[y].m(s,null);u=!0,l||(f=Fe(n,"click",t[5]),l=!0)},p:function(g,m){var y=At(m,1)[0];if(g[1]?c?(c.p(g,y),2&y&&J(c,1)):((c=u4(g)).c(),J(c,1),c.m(n,r)):c&&(Ue(),te(c,1,1,function(){c=null}),Je()),(!u||4&y)&&en(o,g[2]),16&y&&Ze(n,"jse-clickable",g[4]!==null),8&y){var b;for(d=g[3],b=0;b<d.length;b+=1){var w=a4(g,d,b);h[b]?(h[b].p(w,y),J(h[b],1)):(h[b]=c4(w),h[b].c(),J(h[b],1),h[b].m(s,null))}for(Ue(),b=d.length;b<h.length;b+=1)v(b);Je()}(!u||1&y&&a!==(a="jse-message jse-"+g[0]+" svelte-kvi5ls"))&&E(e,"class",a)},i:function(g){if(!u){J(c);for(var m=0;m<d.length;m+=1)J(h[m]);u=!0}},o:function(g){te(c),h=h.filter(Boolean);for(var m=0;m<h.length;m+=1)te(h[m]);u=!1},d:function(g){g&&me(e),c&&c.d(),jo(h,g),l=!1,f()}}}function Cq(t,e,n){var r=e.type,o=r===void 0?"success":r,i=e.icon,s=i===void 0?void 0:i,a=e.message,u=a===void 0?void 0:a,l=e.actions,f=l===void 0?[]:l,c=e.onClick,d=c===void 0?void 0:c;return t.$$set=function(h){"type"in h&&n(0,o=h.type),"icon"in h&&n(1,s=h.icon),"message"in h&&n(2,u=h.message),"actions"in h&&n(3,f=h.actions),"onClick"in h&&n(4,d=h.onClick)},[o,s,u,f,d,function(){d&&d()},function(h){return h.onClick()},function(h){return h.onMouseDown()}]}var pu=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,Cq,Sq,an,{type:0,icon:1,message:2,actions:3,onClick:4},_q),o}return ae(n)}();function $s(t){return t.map(function(e){return typeof e=="number"?"["+e+"]":typeof e=="string"&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+String(e)+'"]'}).join("")}function Ta(t){return t.map(function(e){var n=String(e);return $q.test(n)?"?.".concat(n):"?.[".concat(JSON.stringify(e),"]")}).join("")}var $q=/^[A-z$_][A-z$_\d]*$/i;function Oq(t){zt(t,"svelte-1oe8e8r",".jse-validation-errors-overview.svelte-1oe8e8r.svelte-1oe8e8r{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-message-warning-background);color:var(--jse-message-warning-color);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1oe8e8r table.svelte-1oe8e8r{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r{cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.svelte-1oe8e8r{padding:4px var(--jse-padding);vertical-align:middle}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-icon.svelte-1oe8e8r{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action.svelte-1oe8e8r{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td div.jse-validation-errors-expand.svelte-1oe8e8r{display:inline-block;position:relative;top:3px}")}function f4(t,e,n){var r=t.slice();return r[6]=e[n],r[8]=n,r}function d4(t){var e,n,r,o,i=[Eq,Aq],s=[];function a(u,l){return u[2]||u[0].length===1?0:1}return n=a(t),r=s[n]=i[n](t),{c:function(){e=re("div"),r.c(),E(e,"class","jse-validation-errors-overview svelte-1oe8e8r")},m:function(u,l){ye(u,e,l),s[n].m(e,null),o=!0},p:function(u,l){var f=n;(n=a(u))===f?s[n].p(u,l):(Ue(),te(s[f],1,1,function(){s[f]=null}),Je(),(r=s[n])?r.p(u,l):(r=s[n]=i[n](u)).c(),J(r,1),r.m(e,null))},i:function(u){o||(J(r),o=!0)},o:function(u){te(r),o=!1},d:function(u){u&&me(e),s[n].d()}}}function Aq(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v=t[0].length+"";return i=new Ut({props:{data:Cl}}),c=new Ut({props:{data:RP}}),{c:function(){e=re("table"),n=re("tbody"),r=re("tr"),o=re("td"),Le(i.$$.fragment),s=Ae(),a=re("td"),u=nt(v),l=nt(` validation errors
              `),f=re("div"),Le(c.$$.fragment),E(o,"class","jse-validation-error-icon svelte-1oe8e8r"),E(f,"class","jse-validation-errors-expand svelte-1oe8e8r"),E(a,"class","svelte-1oe8e8r"),E(r,"class","jse-validation-error svelte-1oe8e8r"),E(e,"class","svelte-1oe8e8r")},m:function(g,m){ye(g,e,m),U(e,n),U(n,r),U(r,o),Me(i,o,null),U(r,s),U(r,a),U(a,u),U(a,l),U(a,f),Me(c,f,null),d=!0,h||(p=Fe(r,"click",t[4]),h=!0)},p:function(g,m){(!d||1&m)&&v!==(v=g[0].length+"")&&en(u,v)},i:function(g){d||(J(i.$$.fragment,g),J(c.$$.fragment,g),d=!0)},o:function(g){te(i.$$.fragment,g),te(c.$$.fragment,g),d=!1},d:function(g){g&&me(e),Ie(i),Ie(c),h=!1,p()}}}function Eq(t){for(var e,n,r,o=t[0],i=[],s=0;s<o.length;s+=1)i[s]=p4(f4(t,o,s));var a=function(u){return te(i[u],1,1,function(){i[u]=null})};return{c:function(){e=re("table"),n=re("tbody");for(var u=0;u<i.length;u+=1)i[u].c();E(e,"class","svelte-1oe8e8r")},m:function(u,l){ye(u,e,l),U(e,n);for(var f=0;f<i.length;f+=1)i[f].m(n,null);r=!0},p:function(u,l){if(11&l){var f;for(o=u[0],f=0;f<o.length;f+=1){var c=f4(u,o,f);i[f]?(i[f].p(c,l),J(i[f],1)):(i[f]=p4(c),i[f].c(),J(i[f],1),i[f].m(n,null))}for(Ue(),f=o.length;f<i.length;f+=1)a(f);Je()}},i:function(u){if(!r){for(var l=0;l<o.length;l+=1)J(i[l]);r=!0}},o:function(u){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)te(i[l]);r=!1},d:function(u){u&&me(e),jo(i,u)}}}function h4(t){var e,n,r,o,i;return n=new Ut({props:{data:QF}}),{c:function(){e=re("button"),Le(n.$$.fragment),E(e,"type","button"),E(e,"class","jse-validation-errors-collapse svelte-1oe8e8r"),E(e,"title","Collapse validation errors")},m:function(s,a){ye(s,e,a),Me(n,e,null),r=!0,o||(i=Fe(e,"click",NO(t[3])),o=!0)},p:Ge,i:function(s){r||(J(n.$$.fragment,s),r=!0)},o:function(s){te(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Ie(n),o=!1,i()}}}function p4(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g=$s(t[6].path)+"",m=t[6].message+"";r=new Ut({props:{data:Cl}});var y=t[8]===0&&t[0].length>1&&h4(t);function b(){return t[5](t[6])}return{c:function(){e=re("tr"),n=re("td"),Le(r.$$.fragment),o=Ae(),i=re("td"),s=nt(g),a=Ae(),u=re("td"),l=nt(m),f=Ae(),c=re("td"),y&&y.c(),d=Ae(),E(n,"class","jse-validation-error-icon svelte-1oe8e8r"),E(i,"class","svelte-1oe8e8r"),E(u,"class","svelte-1oe8e8r"),E(c,"class","jse-validation-error-action svelte-1oe8e8r"),E(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(w,k){ye(w,e,k),U(e,n),Me(r,n,null),U(e,o),U(e,i),U(i,s),U(e,a),U(e,u),U(u,l),U(e,f),U(e,c),y&&y.m(c,null),U(e,d),h=!0,p||(v=Fe(e,"click",b),p=!0)},p:function(w,k){t=w,(!h||1&k)&&g!==(g=$s(t[6].path)+"")&&en(s,g),(!h||1&k)&&m!==(m=t[6].message+"")&&en(l,m),t[8]===0&&t[0].length>1?y?(y.p(t,k),1&k&&J(y,1)):((y=h4(t)).c(),J(y,1),y.m(c,null)):y&&(Ue(),te(y,1,1,function(){y=null}),Je())},i:function(w){h||(J(r.$$.fragment,w),J(y),h=!0)},o:function(w){te(r.$$.fragment,w),te(y),h=!1},d:function(w){w&&me(e),Ie(r),y&&y.d(),p=!1,v()}}}function Pq(t){var e,n,r=!zn(t[0]),o=r&&d4(t);return{c:function(){o&&o.c(),e=dn()},m:function(i,s){o&&o.m(i,s),ye(i,e,s),n=!0},p:function(i,s){var a=At(s,1)[0];1&a&&(r=!zn(i[0])),r?o?(o.p(i,a),1&a&&J(o,1)):((o=d4(i)).c(),J(o,1),o.m(e.parentNode,e)):o&&(Ue(),te(o,1,1,function(){o=null}),Je())},i:function(i){n||(J(o),n=!0)},o:function(i){te(o),n=!1},d:function(i){o&&o.d(i),i&&me(e)}}}function Tq(t,e,n){var r=e.validationErrors,o=e.selectError,i=!0;return t.$$set=function(s){"validationErrors"in s&&n(0,r=s.validationErrors),"selectError"in s&&n(1,o=s.selectError)},[r,o,i,function(){n(2,i=!1)},function(){n(2,i=!0)},function(s){setTimeout(function(){return o(s)})}]}var zP=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,Tq,Pq,an,{validationErrors:0,selectError:1},Oq),o}return ae(n)}(),Mq={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},Iq={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Nq={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},Lq={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function Rq(t){zt(t,"svelte-v4jelk",".jse-menu.svelte-v4jelk.svelte-v4jelk{background:var(--jse-theme-color);border-bottom:1px solid var(--jse-theme-color);color:var(--jse-menu-color);display:flex;flex-wrap:wrap;align-items:center;position:relative}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk{width:var(--jse-menu-button-size);height:var(--jse-menu-button-size);border:none;background:transparent;color:inherit;cursor:pointer;padding:calc(0.5 * var(--jse-padding));margin:0;border-radius:0}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:disabled{color:var(--jse-menu-color);opacity:0.5;background:transparent}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk{border:1px solid var(--jse-menu-color);padding:0;margin:calc(0.5 * var(--jse-padding)) 0;height:calc(var(--jse-menu-button-size) - var(--jse-padding));width:40px}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:not(.jse-last){border-right:none}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-first.svelte-v4jelk{margin-left:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-last.svelte-v4jelk{margin-right:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-selected.svelte-v4jelk{background:var(--jse-menu-color);color:var(--jse-theme-color)}.jse-menu.svelte-v4jelk .jse-space.svelte-v4jelk{flex:1}.jse-menu.svelte-v4jelk .jse-separator.svelte-v4jelk{background:var(--jse-menu-color);opacity:0.3;box-sizing:border-box;width:1px;height:calc(var(--jse-menu-button-size) - 6px);margin:3px}")}var Dq=function(t){return{}},v4=function(t){return{}};function m4(t,e,n){var r=t.slice();return r[3]=e[n],r}var Bq=function(t){return{}},g4=function(t){return{}};function zq(t){var e,n,r,o,i,s,a,u,l=t[3].icon&&y4(t),f=t[3].text&&b4(t);return{c:function(){e=re("button"),l&&l.c(),n=Ae(),f&&f.c(),E(e,"type","button"),E(e,"class",r="jse-button "+t[3].className+" svelte-v4jelk"),E(e,"title",o=t[3].title),e.disabled=i=t[3].disabled||!1},m:function(c,d){ye(c,e,d),l&&l.m(e,null),U(e,n),f&&f.m(e,null),s=!0,a||(u=Fe(e,"click",function(){yi(t[3].onClick)&&t[3].onClick.apply(this,arguments)}),a=!0)},p:function(c,d){(t=c)[3].icon?l?(l.p(t,d),1&d&&J(l,1)):((l=y4(t)).c(),J(l,1),l.m(e,n)):l&&(Ue(),te(l,1,1,function(){l=null}),Je()),t[3].text?f?f.p(t,d):((f=b4(t)).c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||1&d&&r!==(r="jse-button "+t[3].className+" svelte-v4jelk"))&&E(e,"class",r),(!s||1&d&&o!==(o=t[3].title))&&E(e,"title",o),(!s||1&d&&i!==(i=t[3].disabled||!1))&&(e.disabled=i)},i:function(c){s||(J(l),s=!0)},o:function(c){te(l),s=!1},d:function(c){c&&me(e),l&&l.d(),f&&f.d(),a=!1,u()}}}function Fq(t){var e;return{c:function(){E(e=re("div"),"class","jse-space svelte-v4jelk")},m:function(n,r){ye(n,e,r)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e)}}}function qq(t){var e;return{c:function(){E(e=re("div"),"class","jse-separator svelte-v4jelk")},m:function(n,r){ye(n,e,r)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e)}}}function y4(t){var e,n;return e=new Ut({props:{data:t[3].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[3].icon),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function b4(t){var e,n=t[3].text+"";return{c:function(){e=nt(n)},m:function(r,o){ye(r,e,o)},p:function(r,o){1&o&&n!==(n=r[3].text+"")&&en(e,n)},d:function(r){r&&me(e)}}}function w4(t){var e,n,r,o,i=[qq,Fq,zq],s=[];function a(u,l){return u[3].separator===!0?0:u[3].space===!0?1:2}return e=a(t),n=s[e]=i[e](t),{c:function(){n.c(),r=dn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),o=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ue(),te(s[f],1,1,function(){s[f]=null}),Je(),(n=s[e])?n.p(u,l):(n=s[e]=i[e](u)).c(),J(n,1),n.m(r.parentNode,r))},i:function(u){o||(J(n),o=!0)},o:function(u){te(n),o=!1},d:function(u){s[e].d(u),u&&me(r)}}}function Vq(t){for(var e,n,r,o,i=t[2].left,s=_i(i,t,t[1],g4),a=t[0],u=[],l=0;l<a.length;l+=1)u[l]=w4(m4(t,a,l));var f=function(h){return te(u[h],1,1,function(){u[h]=null})},c=t[2].right,d=_i(c,t,t[1],v4);return{c:function(){e=re("div"),s&&s.c(),n=Ae();for(var h=0;h<u.length;h+=1)u[h].c();r=Ae(),d&&d.c(),E(e,"class","jse-menu svelte-v4jelk")},m:function(h,p){ye(h,e,p),s&&s.m(e,null),U(e,n);for(var v=0;v<u.length;v+=1)u[v].m(e,null);U(e,r),d&&d.m(e,null),o=!0},p:function(h,p){var v=At(p,1)[0];if(s&&s.p&&(!o||2&v)&&Ci(s,i,h,h[1],o?Si(i,h[1],v,Bq):$i(h[1]),g4),1&v){var g;for(a=h[0],g=0;g<a.length;g+=1){var m=m4(h,a,g);u[g]?(u[g].p(m,v),J(u[g],1)):(u[g]=w4(m),u[g].c(),J(u[g],1),u[g].m(e,r))}for(Ue(),g=a.length;g<u.length;g+=1)f(g);Je()}d&&d.p&&(!o||2&v)&&Ci(d,c,h,h[1],o?Si(c,h[1],v,Dq):$i(h[1]),v4)},i:function(h){if(!o){J(s,h);for(var p=0;p<a.length;p+=1)J(u[p]);J(d,h),o=!0}},o:function(h){te(s,h),u=u.filter(Boolean);for(var p=0;p<u.length;p+=1)te(u[p]);te(d,h),o=!1},d:function(h){h&&me(e),s&&s.d(h),jo(u,h),d&&d.d(h)}}}function Hq(t,e,n){var r=e.$$slots,o=r===void 0?{}:r,i=e.$$scope,s=e.items,a=s===void 0?[]:s;return t.$$set=function(u){"items"in u&&n(0,a=u.items),"$$scope"in u&&n(1,i=u.$$scope)},[a,i,o]}var Qy=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,Hq,Vq,an,{items:0},Rq),o}return ae(n)}();function Wq(t){zt(t,"svelte-1yyupsl",".jse-powered-by.svelte-1yyupsl.svelte-1yyupsl{font-size:8pt;padding:0 10px 3px}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl{color:inherit;opacity:0.7}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl:hover{opacity:1}")}function Uq(t){var e;return{c:function(){(e=re("div")).innerHTML='<a href="https://codemirror.net/6/" target="_blank" rel="noopener noreferrer" title="Code mode is powered by CodeMirror" class="svelte-1yyupsl">powered by CodeMirror</a>',E(e,"slot","right"),E(e,"class","jse-powered-by svelte-1yyupsl")},m:function(n,r){ye(n,e,r)},p:Ge,d:function(n){n&&me(e)}}}function Jq(t){var e,n;return e=new Qy({props:{items:t[0],$$slots:{right:[Uq]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i=At(o,1)[0],s={};1&i&&(s.items=r[0]),131072&i&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function Kq(t,e,n){var r,o,i=e.readOnly,s=i!==void 0&&i,a=e.onFormat,u=e.onCompact,l=e.onSort,f=e.onTransform,c=e.onToggleSearch,d=e.onUndo,h=e.onRedo,p=e.canUndo,v=e.canRedo,g=e.canFormat,m=e.canCompact,y=e.canSort,b=e.canTransform,w=e.onRenderMenu,k=w===void 0?sn:w;return t.$$set=function($){"readOnly"in $&&n(1,s=$.readOnly),"onFormat"in $&&n(2,a=$.onFormat),"onCompact"in $&&n(3,u=$.onCompact),"onSort"in $&&n(4,l=$.onSort),"onTransform"in $&&n(5,f=$.onTransform),"onToggleSearch"in $&&n(6,c=$.onToggleSearch),"onUndo"in $&&n(7,d=$.onUndo),"onRedo"in $&&n(8,h=$.onRedo),"canUndo"in $&&n(9,p=$.canUndo),"canRedo"in $&&n(10,v=$.canRedo),"canFormat"in $&&n(11,g=$.canFormat),"canCompact"in $&&n(12,m=$.canCompact),"canSort"in $&&n(13,y=$.canSort),"canTransform"in $&&n(14,b=$.canTransform),"onRenderMenu"in $&&n(15,k=$.onRenderMenu)},t.$$.update=function(){32766&t.$$.dirty&&n(16,r=s?[{space:!0}]:[{icon:Nq,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:a,disabled:s||!g},{icon:Lq,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:u,disabled:s||!m},{separator:!0},{icon:Hy,title:"Sort",className:"jse-sort",onClick:l,disabled:s||!y},{icon:Wy,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:f,disabled:s||!b},{icon:Uy,title:"Search (Ctrl+F)",className:"jse-search",onClick:c},{separator:!0},{icon:DP,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!p},{icon:BP,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!v},{space:!0}]),98304&t.$$.dirty&&n(0,o=k("code",r)||r)},[o,s,a,u,l,f,c,d,h,p,v,g,m,y,b,k,r]}for(var Gq=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,Kq,Jq,an,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15},Wq),o}return ae(n)}(),Ru="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(t){return t?parseInt(t,36):1}),qf=1;qf<Ru.length;qf++)Ru[qf]+=Ru[qf-1];function Qq(t){for(var e=1;e<Ru.length;e+=2)if(Ru[e]>t)return Ru[e-1]<=t;return!1}function k4(t){return t>=127462&&t<=127487}function To(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(n?FP:Yq)(t,e,r)}function FP(t,e,n){if(e==t.length)return e;e&&qP(t.charCodeAt(e))&&VP(t.charCodeAt(e-1))&&e--;var r=Hr(t,e);for(e+=Ko(r);e<t.length;){var o=Hr(t,e);if(r==8205||o==8205||n&&Qq(o))e+=Ko(o),r=o;else{if(!k4(o))break;for(var i=0,s=e-2;s>=0&&k4(Hr(t,s));)i++,s-=2;if(i%2==0)break;e+=2}}return e}function Yq(t,e,n){for(;e>0;){var r=FP(t,e-2,n);if(r<e)return r;e--}return 0}function qP(t){return t>=56320&&t<57344}function VP(t){return t>=55296&&t<56320}function Hr(t,e){var n=t.charCodeAt(e);if(!VP(n)||e+1==t.length)return n;var r=t.charCodeAt(e+1);return qP(r)?r-56320+(n-55296<<10)+65536:n}function Yy(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function Ko(t){return t<65536?1:2}function lf(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,r=0,o=0;o<n;)t.charCodeAt(o)==9?(r+=e-r%e,o++):(r++,o=To(t,o));return r}function Gm(t,e,n,r){for(var o=0,i=0;;){if(i>=e)return o;if(o==t.length)break;i+=t.charCodeAt(o)==9?n-i%n:1,o=To(t,o)}return r===!0?-1:t.length}var Fn=function(){function t(){se(this,t)}return ae(t,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,n,r){var o=[];return this.decompose(0,e,o,2),r.length&&r.decompose(0,r.length,o,3),this.decompose(n,this.length,o,1),kd.from(o,this.length-(n-e)+r.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,r=[];return this.decompose(e,n,r,0),kd.from(r,n-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),o=new uc(this),i=new uc(e),s=n,a=n;;){if(o.next(s),i.next(s),s=0,o.lineBreak!=i.lineBreak||o.done!=i.done||o.value!=i.value)return!1;if(a+=o.value.length,o.done||a>=r)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return new uc(this,e)}},{key:"iterRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return new HP(this,e,n)}},{key:"iterLines",value:function(e,n){var r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);var o=this.line(e).from;r=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new WP(r)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new bi(e):kd.from(bi.split(e,[])):t.empty}}]),t}(),bi=function(t){De(n,Fn);var e=Be(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xq(r);return se(this,n),(o=e.call(this)).text=r,o.length=i,o}return ae(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(r,o,i,s){for(var a=0;;a++){var u=this.text[a],l=s+u.length;if((o?i:l)>=r)return new Zq(s,l,i,u);s=l+1,i++}}},{key:"decompose",value:function(r,o,i,s){var a=r<=0&&o>=this.length?this:new n(x4(this.text,r,o),Math.min(o,this.length)-Math.max(0,r));if(1&s){var u=i.pop(),l=xd(a.text,u.text.slice(),0,a.length);if(l.length<=32)i.push(new n(l,u.length+a.length));else{var f=l.length>>1;i.push(new n(l.slice(0,f)),new n(l.slice(f)))}}else i.push(a)}},{key:"replace",value:function(r,o,i){if(!(i instanceof n))return cn(rn(n.prototype),"replace",this).call(this,r,o,i);var s=xd(this.text,xd(i.text,x4(this.text,0,r)),o),a=this.length+i.length-(o-r);return s.length<=32?new n(s,a):kd.from(n.split(s,[]),a)}},{key:"sliceString",value:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,s="",a=0,u=0;a<=o&&u<this.text.length;u++){var l=this.text[u],f=a+l.length;a>r&&u&&(s+=i),r<f&&o>a&&(s+=l.slice(Math.max(0,r-a),o-a)),a=f+1}return s}},{key:"flatten",value:function(r){var o,i=he(this.text);try{for(i.s();!(o=i.n()).done;){var s=o.value;r.push(s)}}catch(a){i.e(a)}finally{i.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(r,o){var i,s=[],a=-1,u=he(r);try{for(u.s();!(i=u.n()).done;){var l=i.value;s.push(l),a+=l.length+1,s.length==32&&(o.push(new n(s,a)),s=[],a=-1)}}catch(f){u.e(f)}finally{u.f()}return a>-1&&o.push(new n(s,a)),o}}]),n}(),kd=function(t){De(n,Fn);var e=Be(n);function n(r,o){var i;se(this,n),(i=e.call(this)).children=r,i.length=o,i.lines=0;var s,a=he(r);try{for(a.s();!(s=a.n()).done;){var u=s.value;i.lines+=u.lines}}catch(l){a.e(l)}finally{a.f()}return i}return ae(n,[{key:"lineInner",value:function(r,o,i,s){for(var a=0;;a++){var u=this.children[a],l=s+u.length,f=i+u.lines-1;if((o?f:l)>=r)return u.lineInner(r,o,i,s);s=l+1,i=f+1}}},{key:"decompose",value:function(r,o,i,s){for(var a=0,u=0;u<=o&&a<this.children.length;a++){var l=this.children[a],f=u+l.length;if(r<=f&&o>=u){var c=s&((u<=r?1:0)|(f>=o?2:0));u>=r&&f<=o&&!c?i.push(l):l.decompose(r-u,o-u,i,c)}u=f+1}}},{key:"replace",value:function(r,o,i){if(i.lines<this.lines)for(var s=0,a=0;s<this.children.length;s++){var u=this.children[s],l=a+u.length;if(r>=a&&o<=l){var f=u.replace(r-a,o-a,i),c=this.lines-u.lines+f.lines;if(f.lines<c>>4&&f.lines>c>>6){var d=this.children.slice();return d[s]=f,new n(d,this.length-(o-r)+i.length)}return cn(rn(n.prototype),"replace",this).call(this,a,l,f)}a=l+1}return cn(rn(n.prototype),"replace",this).call(this,r,o,i)}},{key:"sliceString",value:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,s="",a=0,u=0;a<this.children.length&&u<=o;a++){var l=this.children[a],f=u+l.length;u>r&&a&&(s+=i),r<f&&o>u&&(s+=l.sliceString(r-u,o-u,i)),u=f+1}return s}},{key:"flatten",value:function(r){var o,i=he(this.children);try{for(i.s();!(o=i.n()).done;)o.value.flatten(r)}catch(s){i.e(s)}finally{i.f()}}},{key:"scanIdentical",value:function(r,o){if(!(r instanceof n))return 0;for(var i=0,s=At(o>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1],4),a=s[0],u=s[1],l=s[2],f=s[3];;a+=o,u+=o){if(a==l||u==f)return i;var c=this.children[a],d=r.children[u];if(c!=d)return i+c.scanIdentical(d,o);i+=c.length+1}}}],[{key:"from",value:function(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.reduce(function(_,T){return _+T.length+1},-1),s=0,a=he(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;s+=u.lines}}catch(_){a.e(_)}finally{a.f()}if(s<32){var l,f=[],c=he(r);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.flatten(f)}}catch(_){c.e(_)}finally{c.f()}return new bi(f,i)}var h=Math.max(32,s>>5),p=h<<1,v=h>>1,g=[],m=0,y=-1,b=[];function w(_){var T;if(_.lines>p&&_ instanceof n){var C,R=he(_.children);try{for(R.s();!(C=R.n()).done;)w(C.value)}catch(S){R.e(S)}finally{R.f()}}else _.lines>v&&(m>v||!m)?(k(),g.push(_)):_ instanceof bi&&m&&(T=b[b.length-1])instanceof bi&&_.lines+T.lines<=32?(m+=_.lines,y+=_.length+1,b[b.length-1]=new bi(T.text.concat(_.text),T.length+1+_.length)):(m+_.lines>h&&k(),m+=_.lines,y+=_.length+1,b.push(_))}function k(){m!=0&&(g.push(b.length==1?b[0]:n.from(b,y)),y=-1,m=b.length=0)}var $,A=he(r);try{for(A.s();!($=A.n()).done;){var P=$.value;w(P)}}catch(_){A.e(_)}finally{A.f()}return k(),g.length==1?g[0]:new n(g,i)}}]),n}();function Xq(t){var e,n=-1,r=he(t);try{for(r.s();!(e=r.n()).done;)n+=e.value.length+1}catch(o){r.e(o)}finally{r.f()}return n}function xd(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e9,o=0,i=0,s=!0;i<t.length&&o<=r;i++){var a=t[i],u=o+a.length;u>=n&&(u>r&&(a=a.slice(0,r-o)),o<n&&(a=a.slice(n-o)),s?(e[e.length-1]+=a,s=!1):e.push(a)),o=u+1}return e}function x4(t,e,n){return xd(t,[""],e,n)}Fn.empty=new bi([""],0);var uc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;se(this,t),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof bi?e.text.length:e.children.length)<<1]}return ae(t,[{key:"nextInner",value:function(e,n){for(this.done=this.lineBreak=!1;;){var r=this.nodes.length-1,o=this.nodes[r],i=this.offsets[r],s=i>>1,a=o instanceof bi?o.text.length:o.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof bi){var u=o.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{var l=o.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof bi?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),t}(),HP=function(){function t(e,n,r){se(this,t),this.value="",this.done=!1,this.cursor=new uc(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return ae(t,[{key:"nextInner",value:function(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);var r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;var o=this.cursor.next(e).value;return this.pos+=(o.length+e)*n,this.value=o.length<=r?o:n<0?o.slice(o.length-r):o.slice(0,r),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&this.value!=""}}]),t}(),WP=function(){function t(e){se(this,t),this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}return ae(t,[{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=this.inner.next(e),r=n.done,o=n.lineBreak,i=n.value;return r?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),t}();typeof Symbol<"u"&&(Fn.prototype[Symbol.iterator]=function(){return this.iter()},uc.prototype[Symbol.iterator]=HP.prototype[Symbol.iterator]=WP.prototype[Symbol.iterator]=function(){return this});var Zq=function(){function t(e,n,r,o){se(this,t),this.from=e,this.to=n,this.number=r,this.text=o}return ae(t,[{key:"length",get:function(){return this.to-this.from}}]),t}(),Qm=/\r\n?|\n/,so=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(so||(so={})),Du=function(){function t(e){se(this,t),this.sections=e}return ae(t,[{key:"length",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}},{key:"newLength",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2){var r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}},{key:"empty",get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var n=0,r=0,o=0;n<this.sections.length;){var i=this.sections[n++],s=this.sections[n++];s<0?(e(r,o,i),o+=i):o+=s,r+=i}}},{key:"iterChangedRanges",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Ym(this,e,n)}},{key:"invertedDesc",get:function(){for(var e=[],n=0;n<this.sections.length;){var r=this.sections[n++],o=this.sections[n++];o<0?e.push(r,o):e.push(o,r)}return new t(e)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:UP(this,e)}},{key:"mapDesc",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return e.empty?this:Xm(this,e,n)}},{key:"mapPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:so.Simple,o=0,i=0,s=0;s<this.sections.length;){var a=this.sections[s++],u=this.sections[s++],l=o+a;if(u<0){if(l>e)return i+(e-o);i+=a}else{if(r!=so.Simple&&l>=e&&(r==so.TrackDel&&o<e&&l>e||r==so.TrackBefore&&o<e||r==so.TrackAfter&&l>e))return null;if(l>e||l==e&&n<0&&!a)return e==o||n<0?i:i+u;i+=u}o=l}if(e>o)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(o));return i}},{key:"touchesRange",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=0,o=0;r<this.sections.length&&o<=n;){var i=this.sections[r++],s=this.sections[r++],a=o+i;if(s>=0&&o<=n&&a>=e)return!(o<e&&a>n)||"cover";o=a}return!1}},{key:"toString",value:function(){for(var e="",n=0;n<this.sections.length;){var r=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+r+(o>=0?":"+o:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(e){if(!Array.isArray(e)||e.length%2||e.some(function(n){return typeof n!="number"}))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}}]),t}(),Ai=function(t){De(n,Du);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this,r)).inserted=o,i}return ae(n,[{key:"apply",value:function(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return Ym(this,function(o,i,s,a,u){return r=r.replace(s,s+(i-o),u)},!1),r}},{key:"mapDesc",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Xm(this,r,o,!0)}},{key:"invert",value:function(r){for(var o=this.sections.slice(),i=[],s=0,a=0;s<o.length;s+=2){var u=o[s],l=o[s+1];if(l>=0){o[s]=l,o[s+1]=u;for(var f=s>>1;i.length<f;)i.push(Fn.empty);i.push(u?r.slice(a,a+u):Fn.empty)}a+=u}return new n(o,i)}},{key:"compose",value:function(r){return this.empty?r:r.empty?this:UP(this,r,!0)}},{key:"map",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return r.empty?this:Xm(this,r,o,!0)}},{key:"iterChanges",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Ym(this,r,o)}},{key:"desc",get:function(){return new Du(this.sections)}},{key:"filter",value:function(r){var o=[],i=[],s=[],a=new Ec(this);e:for(var u=0,l=0;;){for(var f=u==r.length?1e9:r[u++];l<f||l==f&&a.len==0;){if(a.done)break e;var c=Math.min(a.len,f-l);oo(s,c,-1);var d=a.ins==-1?-1:a.off==0?a.ins:0;oo(o,c,d),d>0&&Wa(i,o,a.text),a.forward(c),l+=c}for(var h=r[u++];l<h;){if(a.done)break e;var p=Math.min(a.len,h-l);oo(o,p,-1),oo(s,p,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(p),l+=p}}return{changes:new n(o,i),filtered:new Du(s)}}},{key:"toJSON",value:function(){for(var r=[],o=0;o<this.sections.length;o+=2){var i=this.sections[o],s=this.sections[o+1];s<0?r.push(i):s==0?r.push([i]):r.push([i].concat(this.inserted[o>>1].toJSON()))}return r}}],[{key:"of",value:function(r,o,i){var s=[],a=[],u=0,l=null;function f(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(c||s.length){u<o&&oo(s,o-u,-1);var d=new n(s,a);l=l?l.compose(d.map(l)):d,s=[],a=[],u=0}}return function c(d){if(Array.isArray(d)){var h,p=he(d);try{for(p.s();!(h=p.n()).done;)c(h.value)}catch(k){p.e(k)}finally{p.f()}}else if(d instanceof n){if(d.length!=o)throw new RangeError("Mismatched change set length (got ".concat(d.length,", expected ").concat(o,")"));f(),l=l?l.compose(d.map(l)):d}else{var v=d.from,g=d.to,m=g===void 0?v:g,y=d.insert;if(v>m||v<0||m>o)throw new RangeError("Invalid change range ".concat(v," to ").concat(m," (in doc of length ").concat(o,")"));var b=y?typeof y=="string"?Fn.of(y.split(i||Qm)):y:Fn.empty,w=b.length;if(v==m&&w==0)return;v<u&&f(),v>u&&oo(s,v-u,-1),oo(s,m-v,w),Wa(a,s,b),u=m}}(r),f(!l),l}},{key:"empty",value:function(r){return new n(r?[r,-1]:[],[])}},{key:"fromJSON",value:function(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");for(var o=[],i=[],s=0;s<r.length;s++){var a=r[s];if(typeof a=="number")o.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some(function(u,l){return l&&typeof u!="string"}))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)o.push(a[0],0);else{for(;i.length<s;)i.push(Fn.empty);i[s]=Fn.of(a.slice(1)),o.push(a[0],i[s].length)}}}return new n(o,i)}}]),n}();function oo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(e==0&&n<=0)){var o=t.length-2;o>=0&&n<=0&&n==t[o+1]?t[o]+=e:e==0&&t[o]==0?t[o+1]+=n:r?(t[o]+=e,t[o+1]+=n):t.push(e,n)}}function Wa(t,e,n){if(n.length!=0){var r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Fn.empty);t.push(n)}}}function Ym(t,e,n){for(var r=t.inserted,o=0,i=0,s=0;s<t.sections.length;){var a=t.sections[s++],u=t.sections[s++];if(u<0)o+=a,i+=a;else{for(var l=o,f=i,c=Fn.empty;l+=a,f+=u,u&&r&&(c=c.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],u=t.sections[s++];e(o,l,i,f,c),o=l,i=f}}}function Xm(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=[],i=r?[]:null,s=new Ec(t),a=new Ec(e),u=0,l=0;;)if(s.ins==-1)u+=s.len,s.next();else if(a.ins==-1&&l<u){var f=Math.min(a.len,u-l);a.forward(f),oo(o,f,-1),l+=f}else if(a.ins>=0&&(s.done||l<u||l==u&&(a.len<s.len||a.len==s.len&&!n))){for(oo(o,a.ins,-1);u>l&&!s.done&&u+s.len<l+a.len;)u+=s.len,s.next();l+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return i?new Ai(o,i):new Du(o);throw new Error("Mismatched change set lengths")}for(var c=0,d=u+s.len;;)if(a.ins>=0&&l>u&&l+a.len<d)c+=a.ins,l+=a.len,a.next();else{if(!(a.ins==-1&&l<d))break;var h=Math.min(a.len,d-l);c+=h,a.forward(h),l+=h}oo(o,c,s.ins),i&&Wa(i,o,s.text),u=d,s.next()}}function UP(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=[],o=n?[]:null,i=new Ec(t),s=new Ec(e),a=!1;;){if(i.done&&s.done)return o?new Ai(r,o):new Du(r);if(i.ins==0)oo(r,i.len,0,a),i.next();else if(s.len!=0||s.done){if(i.done||s.done)throw new Error("Mismatched change set lengths");var u=Math.min(i.len2,s.len),l=r.length;if(i.ins==-1){var f=s.ins==-1?-1:s.off?0:s.ins;oo(r,u,f,a),o&&f&&Wa(o,r,s.text)}else s.ins==-1?(oo(r,i.off?0:i.len,u,a),o&&Wa(o,r,i.textBit(u))):(oo(r,i.off?0:i.len,s.off?0:s.ins,a),o&&!s.off&&Wa(o,r,s.text));a=(i.ins>u||s.ins>=0&&s.len>u)&&(a||r.length>l),i.forward2(u),s.forward(u)}else oo(r,0,s.ins,a),o&&Wa(o,r,s.text),s.next()}}var Ec=function(){function t(e){se(this,t),this.set=e,this.i=0,this.next()}return ae(t,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return this.ins==-2}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,n=this.i-2>>1;return n>=e.length?Fn.empty:e[n]}},{key:"textBit",value:function(e){var n=this.set.inserted,r=this.i-2>>1;return r>=n.length&&!e?Fn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),t}(),Vf=function(){function t(e,n,r){se(this,t),this.from=e,this.to=n,this.flags=r}return ae(t,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return e==3?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return e==33554431?void 0:e}},{key:"map",value:function(e){var n,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return this.empty?n=r=e.mapPos(this.from,o):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new t(n,r,this.flags)}},{key:"extend",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(e<=this.anchor&&n>=this.anchor)return Ke.range(e,n);var r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ke.range(this.anchor,r)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ke.range(e.anchor,e.head)}}]),t}(),Ke=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;se(this,t),this.ranges=e,this.mainIndex=n}return ae(t,[{key:"map",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return e.empty?this:t.create(this.ranges.map(function(r){return r.map(e,n)}),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return this.ranges.length==1?this:new t([this.main])}},{key:"addRange",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=e,t.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(e){return e.toJSON()}),main:this.mainIndex}}}],[{key:"fromJSON",value:function(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(function(n){return Vf.fromJSON(n)}),e.main)}},{key:"single",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return new t([t.range(e,n)],0)}},{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.length==0)throw new RangeError("A selection needs at least one range");for(var r=0,o=0;o<e.length;o++){var i=e[o];if(i.empty?i.from<=r:i.from<r)return eV(e.slice(),n);r=i.to}return new t(e,n)}},{key:"cursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return new Vf(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(o!=null?o:33554431)<<5)}},{key:"range",value:function(e,n,r){var o=(r!=null?r:33554431)<<5;return n<e?new Vf(n,e,24|o):new Vf(e,n,o|(n>e?4:0))}}]),t}();function eV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t[e];t.sort(function(u,l){return u.from-l.from}),e=t.indexOf(n);for(var r=1;r<t.length;r++){var o=t[r],i=t[r-1];if(o.empty?o.from<=i.to:o.from<i.to){var s=i.from,a=Math.max(o.to,i.to);r<=e&&e--,t.splice(--r,2,o.anchor>o.head?Ke.range(a,s):Ke.range(s,a))}}return new Ke(t,e)}function JP(t,e){var n,r=he(t.ranges);try{for(r.s();!(n=r.n()).done;)if(n.value.to>e)throw new RangeError("Selection points outside of document")}catch(o){r.e(o)}finally{r.f()}}var Xy=0,Ct=function(){function t(e,n,r,o,i){se(this,t),this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=o,this.extensions=i,this.id=Xy++,this.default=e([])}return ae(t,[{key:"of",value:function(e){return new jd([],this,0,e)}},{key:"compute",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new jd(e,this,1,n)}},{key:"computeN",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new jd(e,this,2,n)}},{key:"from",value:function(e,n){return n||(n=function(r){return r}),this.compute([e],function(r){return n(r.field(e))})}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new t(e.combine||function(n){return n},e.compareInput||function(n,r){return n===r},e.compare||(e.combine?function(n,r){return n===r}:Zm),!!e.static,e.enables)}}]),t}();function Zm(t,e){return t==e||t.length==e.length&&t.every(function(n,r){return n===e[r]})}var jd=function(){function t(e,n,r,o){se(this,t),this.dependencies=e,this.facet=n,this.type=r,this.value=o,this.id=Xy++}return ae(t,[{key:"dynamicSlot",value:function(e){var n,r,o=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,u=this.type==2,l=!1,f=!1,c=[],d=he(this.dependencies);try{for(d.s();!(r=d.n()).done;){var h=r.value;h=="doc"?l=!0:h=="selection"?f=!0:(1&((n=e[h.id])!==null&&n!==void 0?n:1))==0&&c.push(e[h.id])}}catch(p){d.e(p)}finally{d.f()}return{create:function(p){return p.values[a]=o(p),1},update:function(p,v){if(l&&v.docChanged||f&&(v.docChanged||v.selection)||c.some(function(m){return(1&Za(p,m))>0})){var g=o(p);if(u?!j4(g,p.values[a],i):!i(g,p.values[a]))return p.values[a]=g,1}return 0},reconfigure:function(p,v){var g=o(p),m=v.config.address[s];if(m!=null){var y=ih(v,m);if(u?j4(g,y,i):i(g,y))return p.values[a]=y,0}return p.values[a]=g,1}}}}]),t}();function j4(t,e,n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}var _4=Ct.define({static:!0}),Xr=function(){function t(e,n,r,o,i){se(this,t),this.id=e,this.createF=n,this.updateF=r,this.compareF=o,this.spec=i,this.provides=void 0}return ae(t,[{key:"create",value:function(e){var n=this,r=e.facet(_4).find(function(o){return o.field==n});return((r==null?void 0:r.create)||this.createF)(e)}},{key:"slot",value:function(e){var n=this,r=e[this.id]>>1;return{create:function(o){return o.values[r]=n.create(o),1},update:function(o,i){var s=o.values[r],a=n.updateF(s,i);return n.compareF(s,a)?0:(o.values[r]=a,1)},reconfigure:function(o,i){return i.config.address[n.id]!=null?(o.values[r]=i.field(n),0):(o.values[r]=n.create(o),1)}}}},{key:"init",value:function(e){return[this,_4.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(e){var n=new t(Xy++,e.create,e.update,e.compare||function(r,o){return r===o},e);return e.provide&&(n.provides=e.provide(n)),n}}]),t}(),S4=4,tV=3,KP=2,C4=1,$4=0;function zs(t){return function(e){return new GP(e,t)}}var cf={lowest:zs(S4),low:zs(tV),default:zs(KP),high:zs(C4),highest:zs($4),fallback:zs(S4),extend:zs(C4),override:zs($4)},GP=ae(function t(e,n){se(this,t),this.inner=e,this.prec=n}),oh=function(){function t(){se(this,t)}return ae(t,[{key:"of",value:function(e){return new eg(this,e)}},{key:"reconfigure",value:function(e){return t.reconfigure.of({compartment:this,extension:e})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),t}(),eg=ae(function t(e,n){se(this,t),this.compartment=e,this.inner=n}),O4=function(){function t(e,n,r,o,i,s){for(se(this,t),this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=o,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return ae(t,[{key:"staticFacet",value:function(e){var n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}}],[{key:"resolve",value:function(e,n,r){var o,i=[],s=Object.create(null),a=new Map,u=he(function(b,w,k){var $=[[],[],[],[],[]],A=new Map;function P(_,T){var C=A.get(_);if(C!=null){if(C>=T)return;var R=$[C].indexOf(_);R>-1&&$[C].splice(R,1),_ instanceof eg&&k.delete(_.compartment)}if(A.set(_,T),Array.isArray(_)){var S,j=he(_);try{for(j.s();!(S=j.n()).done;)P(S.value,T)}catch(F){j.e(F)}finally{j.f()}}else if(_ instanceof eg){if(k.has(_.compartment))throw new RangeError("Duplicate use of compartment in extensions");var q=w.get(_.compartment)||_.inner;k.set(_.compartment,q),P(q,T)}else if(_ instanceof GP)P(_.inner,_.prec);else if(_ instanceof Xr)$[T].push(_),_.provides&&P(_.provides,T);else if(_ instanceof jd)$[T].push(_),_.facet.extensions&&P(_.facet.extensions,T);else{var Y=_.extension;if(!Y)throw new Error("Unrecognized extension value in extension set (".concat(_,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));P(Y,T)}}return P(b,KP),$.reduce(function(_,T){return _.concat(T)})}(e,n,a));try{for(u.s();!(o=u.n()).done;){var l=o.value;l instanceof Xr?i.push(l):(s[l.facet.id]||(s[l.facet.id]=[])).push(l)}}catch(b){u.e(b)}finally{u.f()}for(var f=Object.create(null),c=[],d=[],h=function(){var b=v[p];f[b.id]=d.length<<1,d.push(function(w){return b.slot(w)})},p=0,v=i;p<v.length;p++)h();var g=r==null?void 0:r.config.facets,m=function(b){var w=s[b],k=w[0].facet,$=g&&g[b]||[];if(w.every(function(C){return C.type==0}))if(f[k.id]=c.length<<1|1,Zm($,w))c.push(r.facet(k));else{var A=k.combine(w.map(function(C){return C.value}));c.push(r&&k.compare(A,r.facet(k))?r.facet(k):A)}else{var P,_=he(w);try{var T=function(){var C=P.value;C.type==0?(f[C.id]=c.length<<1|1,c.push(C.value)):(f[C.id]=d.length<<1,d.push(function(R){return C.dynamicSlot(R)}))};for(_.s();!(P=_.n()).done;)T()}catch(C){_.e(C)}finally{_.f()}f[k.id]=d.length<<1,d.push(function(C){return function(R,S,j){var q=j.map(function(I){return R[I.id]}),Y=j.map(function(I){return I.type}),F=q.filter(function(I){return!(1&I)}),K=R[S.id]>>1;function D(I){for(var W=[],H=0;H<q.length;H++){var z=ih(I,q[H]);if(Y[H]==2){var O,x=he(z);try{for(x.s();!(O=x.n()).done;){var N=O.value;W.push(N)}}catch(G){x.e(G)}finally{x.f()}}else W.push(z)}return S.combine(W)}return{create:function(I){var W,H=he(q);try{for(H.s();!(W=H.n()).done;)Za(I,W.value)}catch(z){H.e(z)}finally{H.f()}return I.values[K]=D(I),1},update:function(I,W){if(!F.some(function(z){return 1&Za(I,z)}))return 0;var H=D(I);return S.compare(H,I.values[K])?0:(I.values[K]=H,1)},reconfigure:function(I,W){var H=q.some(function(N){return 1&Za(I,N)}),z=W.config.facets[S.id],O=W.facet(S);if(z&&!H&&Zm(j,z))return I.values[K]=O,0;var x=D(I);return S.compare(x,O)?(I.values[K]=O,0):(I.values[K]=x,1)}}}(C,k,w)})}};for(var y in s)m(y);return new t(e,a,d.map(function(b){return b(f)}),f,c,s)}}]),t}();function Za(t,e){if(1&e)return 2;var n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;var o=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|o}function ih(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}var QP=Ct.define(),YP=Ct.define({combine:function(t){return t.some(function(e){return e})},static:!0}),XP=Ct.define({combine:function(t){return t.length?t[0]:void 0},static:!0}),ZP=Ct.define(),eT=Ct.define(),tT=Ct.define(),nT=Ct.define({combine:function(t){return!!t.length&&t[0]}}),Xs=function(){function t(e,n){se(this,t),this.type=e,this.value=n}return ae(t,null,[{key:"define",value:function(){return new nV}}]),t}(),nV=function(){function t(){se(this,t)}return ae(t,[{key:"of",value:function(e){return new Xs(this,e)}}]),t}(),rV=function(){function t(e){se(this,t),this.map=e}return ae(t,[{key:"of",value:function(e){return new Zt(this,e)}}]),t}(),Zt=function(){function t(e,n){se(this,t),this.type=e,this.value=n}return ae(t,[{key:"map",value:function(e){var n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new t(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new rV(e.map||function(n){return n})}},{key:"mapEffects",value:function(e,n){if(!e.length)return e;var r,o=[],i=he(e);try{for(i.s();!(r=i.n()).done;){var s=r.value.map(n);s&&o.push(s)}}catch(a){i.e(a)}finally{i.f()}return o}}]),t}();Zt.reconfigure=Zt.define(),Zt.appendConfig=Zt.define();var mo=function(){function t(e,n,r,o,i,s){se(this,t),this.startState=e,this.changes=n,this.selection=r,this.effects=o,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,r&&JP(r,n.newLength),i.some(function(a){return a.type==t.time})||(this.annotations=i.concat(t.time.of(Date.now())))}return ae(t,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var n,r=he(this.annotations);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.type==e)return o.value}}catch(i){r.e(i)}finally{r.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(e){var n=this.annotation(t.userEvent);return!(!n||!(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}]),t}();function oV(t,e){for(var n=[],r=0,o=0;;){var i=void 0,s=void 0;if(r<t.length&&(o==e.length||e[o]>=t[r]))i=t[r++],s=t[r++];else{if(!(o<e.length))return n;i=e[o++],s=e[o++]}!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function A4(t,e,n){var r,o,i,s;return n?(o=e.changes,i=Ai.empty(e.changes.length),s=t.changes.compose(e.changes)):(o=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(o)),{changes:s,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(o),effects:Zt.mapEffects(t.effects,o).concat(Zt.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function hv(t,e,n){var r=e.selection,o=Bu(e.annotations);return e.userEvent&&(o=o.concat(mo.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ai?e.changes:Ai.of(e.changes||[],n,t.facet(XP)),selection:r&&(r instanceof Ke?r:Ke.single(r.anchor,r.head)),effects:Bu(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function rT(t,e,n){var r=hv(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(var o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);var i=!!e[o].sequential;r=A4(r,hv(t,e[o],i?r.changes.newLength:t.doc.length),i)}var s=new mo(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(a){for(var u=a.startState,l=u.facet(tT),f=a,c=l.length-1;c>=0;c--){var d=l[c](a);d&&Object.keys(d).length&&(f=A4(a,hv(u,d,a.changes.newLength),!0))}return f==a?a:new mo(u,a.changes,a.selection,f.effects,f.annotations,f.scrollIntoView)}(n?function(a){var u,l=a.startState,f=!0,c=he(l.facet(ZP));try{for(c.s();!(u=c.n()).done;){var d=(0,u.value)(a);if(d===!1){f=!1;break}Array.isArray(d)&&(f=f===!0?d:oV(f,d))}}catch(b){c.e(b)}finally{c.f()}if(f!==!0){var h,p;if(f===!1)p=a.changes.invertedDesc,h=Ai.empty(l.doc.length);else{var v=a.changes.filter(f);h=v.changes,p=v.filtered.invertedDesc}a=new mo(l,h,a.selection&&a.selection.map(p),Zt.mapEffects(a.effects,p),a.annotations,a.scrollIntoView)}for(var g=l.facet(eT),m=g.length-1;m>=0;m--){var y=g[m](a);a=y instanceof mo?y:Array.isArray(y)&&y.length==1&&y[0]instanceof mo?y[0]:rT(l,Bu(y),!1)}return a}(s):s)}mo.time=Xs.define(),mo.userEvent=Xs.define(),mo.addToHistory=Xs.define(),mo.remote=Xs.define();var iV=[];function Bu(t){return t==null?iV:Array.isArray(t)?t:[t]}var tg,ao=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ao||(ao={})),sV=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{tg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function aV(t){return function(e){if(!/\S/.test(e))return ao.Space;if(function(r){if(tg)return tg.test(r);for(var o=0;o<r.length;o++){var i=r[o];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||sV.test(i)))return!0}return!1}(e))return ao.Word;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return ao.Word;return ao.Other}}var tr=function(){function t(e,n,r,o,i,s){se(this,t),this.config=e,this.doc=n,this.selection=r,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(var a=0;a<this.config.dynamicSlots.length;a++)Za(this,a<<1);this.computeSlot=null}return ae(t,[{key:"field",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.config.address[e.id];if(r!=null)return Za(this,r),ih(this,r);if(n)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return rT(this,n,!0)}},{key:"applyTransaction",value:function(e){var n,r,o=this,i=this.config,s=i,a=s.base,u=s.compartments,l=he(e.effects);try{for(l.s();!(n=l.n()).done;){var f=n.value;f.is(oh.reconfigure)?(i&&(u=new Map,i.compartments.forEach(function(c,d){return u.set(d,c)}),i=null),u.set(f.value.compartment,f.value.extension)):f.is(Zt.reconfigure)?(i=null,a=f.value):f.is(Zt.appendConfig)&&(i=null,a=Bu(a).concat(f.value))}}catch(c){l.e(c)}finally{l.f()}i?r=e.startState.values.slice():r=new t(i=O4.resolve(a,u,this),this.doc,this.selection,i.dynamicSlots.map(function(){return null}),function(c,d){return d.reconfigure(c,o)},null).values,new t(i,e.newDoc,e.newSelection,r,function(c,d){return d.update(c,e)},e)}},{key:"replaceSelection",value:function(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(function(n){return{changes:{from:n.from,to:n.to,insert:e},range:Ke.cursor(n.from+e.length)}})}},{key:"changeByRange",value:function(e){for(var n=this.selection,r=e(n.ranges[0]),o=this.changes(r.changes),i=[r.range],s=Bu(r.effects),a=1;a<n.ranges.length;a++){for(var u=e(n.ranges[a]),l=this.changes(u.changes),f=l.map(o),c=0;c<a;c++)i[c]=i[c].map(f);var d=o.mapDesc(l,!0);i.push(u.range.map(d)),o=o.compose(f),s=Zt.mapEffects(s,f).concat(Zt.mapEffects(Bu(u.effects),d))}return{changes:o,selection:Ke.create(i,n.mainIndex),effects:s}}},{key:"changes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e instanceof Ai?e:Ai.of(e,this.doc.length,this.facet(t.lineSeparator))}},{key:"toText",value:function(e){return Fn.of(e.split(this.facet(t.lineSeparator)||Qm))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.doc.length;return this.doc.sliceString(e,n,this.lineBreak)}},{key:"facet",value:function(e){var n=this.config.address[e.id];return n==null?e.default:(Za(this,n),ih(this,n))}},{key:"toJSON",value:function(e){var n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var r in e){var o=e[r];o instanceof Xr&&(n[r]=o.spec.toJSON(this.field(e[r]),this))}return n}},{key:"tabSize",get:function(){return this.facet(t.tabSize)}},{key:"lineBreak",get:function(){return this.facet(t.lineSeparator)||`
`}},{key:"readOnly",get:function(){return this.facet(nT)}},{key:"phrase",value:function(e){var n,r=he(this.facet(t.phrases));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(Object.prototype.hasOwnProperty.call(o,e))return o[e]}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"languageDataAt",value:function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,i=[],s=he(this.facet(QP));try{for(s.s();!(r=s.n()).done;){var a,u=r.value,l=he(u(this,n,o));try{for(l.s();!(a=l.n()).done;){var f=a.value;Object.prototype.hasOwnProperty.call(f,e)&&i.push(f[e])}}catch(c){l.e(c)}finally{l.f()}}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"charCategorizer",value:function(e){return aV(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var n=this.doc.lineAt(e),r=n.text,o=n.from,i=n.length,s=this.charCategorizer(e),a=e-o,u=e-o;a>0;){var l=To(r,a,!1);if(s(r.slice(l,a))!=ao.Word)break;a=l}for(;u<i;){var f=To(r,u);if(s(r.slice(u,f))!=ao.Word)break;u=f}return a==u?null:Ke.range(a+o,u+o)}}],[{key:"fromJSON",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");var o=[];if(r){var i=function(a){var u=r[a],l=e[a];o.push(u.init(function(f){return u.spec.fromJSON(l,f)}))};for(var s in r)i(s)}return t.create({doc:e.doc,selection:Ke.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}},{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=O4.resolve(e.extensions||[],new Map),r=e.doc instanceof Fn?e.doc:Fn.of((e.doc||"").split(n.staticFacet(t.lineSeparator)||Qm)),o=e.selection?e.selection instanceof Ke?e.selection:Ke.single(e.selection.anchor,e.selection.head):Ke.single(0);return JP(o,r.length),n.staticFacet(YP)||(o=o.asSingle()),new t(n,r,o,n.dynamicSlots.map(function(){return null}),function(i,s){return s.create(i)},null)}}]),t}();function Ms(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={},i=he(t);try{for(i.s();!(n=i.n()).done;)for(var s=n.value,a=0,u=Object.keys(s);a<u.length;a++){var l=u[a],f=s[l],c=o[l];if(c===void 0)o[l]=f;else if(!(c===f||f===void 0)){if(!Object.hasOwnProperty.call(r,l))throw new Error("Config merge conflict for field "+l);o[l]=r[l](c,f)}}}catch(h){i.e(h)}finally{i.f()}for(var d in e)o[d]===void 0&&(o[d]=e[d]);return o}tr.allowMultipleSelections=YP,tr.tabSize=Ct.define({combine:function(t){return t.length?t[0]:4}}),tr.lineSeparator=XP,tr.readOnly=nT,tr.phrases=Ct.define(),tr.languageData=QP,tr.changeFilter=ZP,tr.transactionFilter=eT,tr.transactionExtender=tT,oh.reconfigure=Zt.define();var E4=typeof Symbol>"u"?"__\u037C":Symbol.for("\u037C"),ng=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},ha=function(){function t(e,n){se(this,t),this.rules=[];var r=(n||{}).finish;function o(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function i(a,u,l,f){var c=[],d=/^@(\w+)\b/.exec(a[0]),h=d&&d[1]=="keyframes";if(d&&u==null)return l.push(a[0]+";");for(var p in u){var v=u[p];if(/&/.test(p))i(p.split(/,\s*/).map(function(g){return a.map(function(m){return g.replace(/&/,m)})}).reduce(function(g,m){return g.concat(m)}),v,l);else if(v&&ut(v)=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");i(o(p),v,c,h)}else v!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,function(g){return"-"+g.toLowerCase()})+": "+v+";")}(c.length||h)&&l.push((!r||d||f?a:a.map(r)).join(", ")+" {"+c.join(" ")+"}")}for(var s in e)i(o(s),e[s],this.rules)}return ae(t,[{key:"getRules",value:function(){return this.rules.join(`
`)}}],[{key:"newName",value:function(){var e=P4[E4]||1;return P4[E4]=e+1,"\u037C"+e.toString(36)}},{key:"mount",value:function(e,n){(e[ng]||new uV(e)).mount(Array.isArray(n)?n:[n])}}]),t}(),Hf=null,uV=function(){function t(e){if(se(this,t),!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(Hf)return e.adoptedStyleSheets=[Hf.sheet].concat(e.adoptedStyleSheets),e[ng]=Hf;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Hf=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");var n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[ng]=this}return ae(t,[{key:"mount",value:function(e){for(var n=this.sheet,r=0,o=0,i=0;i<e.length;i++){var s=e[i],a=this.modules.indexOf(s);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),a==-1){if(this.modules.splice(o++,0,s),n)for(var u=0;u<s.rules.length;u++)n.insertRule(s.rules[u],r++)}else{for(;o<a;)r+=this.modules[o++].rules.length;r+=s.rules.length,o++}}if(!n){for(var l="",f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l}}}]),t}(),Ua=function(){function t(){se(this,t)}return ae(t,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return new rg(e,n,this)}}]),t}();Ua.prototype.startSide=Ua.prototype.endSide=0,Ua.prototype.point=!1,Ua.prototype.mapMode=so.TrackDel;var rg=ae(function t(e,n,r){se(this,t),this.from=e,this.to=n,this.value=r});function og(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var lV=function(){function t(e,n,r,o){se(this,t),this.from=e,this.to=n,this.value=r,this.maxPoint=o}return ae(t,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,n,r){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=r?this.to:this.from,s=o,a=i.length;;){if(s==a)return s;var u=s+a>>1,l=i[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==s)return l>=0?s:a;l>=0?a=u:s=u+1}}},{key:"between",value:function(e,n,r,o){for(var i=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,i);i<s;i++)if(o(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}},{key:"map",value:function(e,n){for(var r=[],o=[],i=[],s=-1,a=-1,u=0;u<this.value.length;u++){var l=this.value[u],f=this.from[u]+e,c=this.to[u]+e,d=void 0,h=void 0;if(f==c){var p=n.mapPos(f,l.startSide,l.mapMode);if(p==null||(d=h=p,l.startSide!=l.endSide&&(h=n.mapPos(f,l.endSide))<d))continue}else if((d=n.mapPos(f,l.startSide))>(h=n.mapPos(c,l.endSide))||d==h&&l.startSide>0&&l.endSide<=0)continue;(h-d||l.endSide-l.startSide)<0||(s<0&&(s=d),l.point&&(a=Math.max(a,h-d)),r.push(l),o.push(d-s),i.push(h-s))}return{mapped:r.length?new t(o,i,r,a):null,pos:s}}}]),t}(),Un=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.empty,o=arguments.length>3?arguments[3]:void 0;se(this,t),this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=o}return ae(t,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,n=this.nextLayer.size,r=he(this.chunk);try{for(r.s();!(e=r.n()).done;)n+=e.value.value.length}catch(o){r.e(o)}finally{r.f()}return n}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(e){var n=e.add,r=n===void 0?[]:n,o=e.sort,i=o!==void 0&&o,s=e.filterFrom,a=s===void 0?0:s,u=e.filterTo,l=u===void 0?this.length:u,f=e.filter;if(r.length==0&&!f)return this;if(i&&(r=r.slice().sort(og)),this.isEmpty)return r.length?t.of(r):this;for(var c=new oT(this,null,-1).goto(0),d=0,h=[],p=new Yu;c.value||d<r.length;)if(d<r.length&&(c.from-r[d].from||c.startSide-r[d].value.startSide)>=0){var v=r[d++];p.addInner(v.from,v.to,v.value)||h.push(v)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(d==r.length||this.chunkEnd(c.chunkIndex)<r[d].from)&&(!f||a>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!f||a>c.to||l<c.from||f(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||h.push(new rg(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!h.length?t.empty:this.nextLayer.update({add:h,filter:f,filterFrom:a,filterTo:l}))}},{key:"map",value:function(e){if(e.empty||this.isEmpty)return this;for(var n=[],r=[],o=-1,i=0;i<this.chunk.length;i++){var s=this.chunkPos[i],a=this.chunk[i],u=e.touchesRange(s,s+a.length);if(u===!1)o=Math.max(o,a.maxPoint),n.push(a),r.push(e.mapPos(s));else if(u===!0){var l=a.map(s,e),f=l.mapped,c=l.pos;f&&(o=Math.max(o,f.maxPoint),n.push(f),r.push(c))}}var d=this.nextLayer.map(e);return n.length==0?d:new t(r,n,d,o)}},{key:"between",value:function(e,n,r){if(!this.isEmpty){for(var o=0;o<this.chunk.length;o++){var i=this.chunkPos[o],s=this.chunk[o];if(n>=i&&e<=i+s.length&&s.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ig.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"iter",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ig.from(e).goto(n)}},{key:"compare",value:function(e,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=e.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=i}),a=n.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=i}),u=T4(s,a,r),l=new Ll(s,u,i),f=new Ll(a,u,i);r.iterGaps(function(c,d,h){return M4(l,c,f,d,h,o)}),r.empty&&r.length==0&&M4(l,0,f,0,0,o)}},{key:"eq",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;o==null&&(o=1e9);var i=e.filter(function(f){return!f.isEmpty&&n.indexOf(f)<0}),s=n.filter(function(f){return!f.isEmpty&&e.indexOf(f)<0});if(i.length!=s.length)return!1;if(!i.length)return!0;for(var a=T4(i,s),u=new Ll(i,a,0).goto(r),l=new Ll(s,a,0).goto(r);;){if(u.to!=l.to||!sg(u.active,l.active)||u.point&&(!l.point||!u.point.eq(l.point)))return!1;if(u.to>o)return!0;u.next(),l.next()}}},{key:"spans",value:function(e,n,r,o){for(var i,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=new Ll(e,null,s,(i=o.filterPoint)===null||i===void 0?void 0:i.bind(o)).goto(n),u=n,l=a.openStart;;){var f=Math.min(a.to,r);if(a.point?(o.point(u,f,a.point,a.activeForPoint(a.to),l),l=a.openEnd(f)+(a.to>f?1:0)):f>u&&(o.span(u,f,a.active,l),l=a.openEnd(f)),a.to>r)break;u=a.to,a.next()}return l}},{key:"of",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=new Yu,i=he(e instanceof rg?[e]:r?cV(e):e);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.add(s.from,s.to,s.value)}}catch(a){i.e(a)}finally{i.f()}return o.finish()}}]),t}();function cV(t){if(t.length>1)for(var e=t[0],n=1;n<t.length;n++){var r=t[n];if(og(e,r)>0)return t.slice().sort(og);e=r}return t}Un.empty=new Un([],[],null,-1),Un.empty.nextLayer=Un.empty;var Yu=function(){function t(){se(this,t),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return ae(t,[{key:"finishChunk",value:function(e){this.chunks.push(new lV(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,r)}},{key:"addInner",value:function(e,n,r){var o=e-this.lastTo||r.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}},{key:"addChunk",value:function(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);var r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}},{key:"finish",value:function(){return this.finishInner(Un.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;var n=new Un(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}]),t}();function T4(t,e,n){var r,o=new Map,i=he(t);try{for(i.s();!(r=i.n()).done;)for(var s=r.value,a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&o.set(s.chunk[a],s.chunkPos[a])}catch(p){i.e(p)}finally{i.f()}var u,l=new Set,f=he(e);try{for(f.s();!(u=f.n()).done;)for(var c=u.value,d=0;d<c.chunk.length;d++){var h=o.get(c.chunk[d]);h==null||(n?n.mapPos(h):h)!=c.chunkPos[d]||(n==null?void 0:n.touchesRange(h,h+c.chunk[d].length))||l.add(c.chunk[d])}}catch(p){f.e(p)}finally{f.f()}return l}var oT=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;se(this,t),this.layer=e,this.skip=n,this.minPoint=r,this.rank=o}return ae(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}},{key:"gotoInner",value:function(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){var o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),t}(),ig=function(){function t(e){se(this,t),this.heap=e}return ae(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9,o=he(this.heap);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.goto(e,r)}}catch(a){o.e(a)}finally{o.f()}for(var s=this.heap.length>>1;s>=0;s--)pv(this.heap,s);return this.next(),this}},{key:"forward",value:function(e,n){var r,o=he(this.heap);try{for(o.s();!(r=o.n()).done;)r.value.forward(e,n)}catch(s){o.e(s)}finally{o.f()}for(var i=this.heap.length>>1;i>=0;i--)pv(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}},{key:"next",value:function(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),pv(this.heap,0)}}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=[],i=0;i<e.length;i++)for(var s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&o.push(new oT(s,n,r,i));return o.length==1?o[0]:new t(o)}}]),t}();function pv(t,e){for(var n=t[e];;){var r=1+(e<<1);if(r>=t.length)break;var o=t[r];if(r+1<t.length&&o.compare(t[r+1])>=0&&(o=t[r+1],r++),n.compare(o)<0)break;t[r]=n,t[e]=o,e=r}}var Ll=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0};se(this,t),this.minPoint=r,this.filterPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ig.from(e,n,r)}return ae(t,[{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}},{key:"removeActive",value:function(e){Wf(this.active,e),Wf(this.activeTo,e),Wf(this.activeRank,e),this.minActive=I4(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var n=0,r=this.cursor,o=r.value,i=r.to,s=r.rank;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;Uf(this.active,n,o),Uf(this.activeTo,n,i),Uf(this.activeRank,n,s),e&&Uf(e,n,this.cursor.from),this.minActive=I4(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,n=this.point;this.point=null;for(var r=this.openStart<0?[]:null,o=0;;){var i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Wf(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var s=this.cursor.value;if(s.point)if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<e&&(o=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}if(r){for(var a=0;a<r.length&&r[a]<e;)a++;this.openStart=a+o}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var n=[],r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}},{key:"openEnd",value:function(e){for(var n=0,r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}]),t}();function M4(t,e,n,r,o,i){t.goto(e),n.goto(r);for(var s=r+o,a=r,u=r-e;;){var l=t.to+u-n.to||t.endSide-n.endSide,f=l<0?t.to+u:n.to,c=Math.min(f,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&sg(t.activeForPoint(t.to+u),n.activeForPoint(n.to))||i.comparePoint(a,c,t.point,n.point):c>a&&!sg(t.active,n.active)&&i.compareRange(a,c,t.active,n.active),f>s)break;a=f,l<=0&&t.next(),l>=0&&n.next()}}function sg(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Wf(t,e){for(var n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Uf(t,e,n){for(var r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function I4(t,e){for(var n=-1,r=1e9,o=0;o<e.length;o++)(e[o]-r||t[o].endSide-t[n].endSide)<0&&(n=o,r=e[o]);return n}for(var pa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},sh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},N4=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),fV=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),dV=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),L4=typeof navigator<"u"&&/Mac/.test(navigator.platform),hV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),pV=N4&&(L4||+N4[1]<57)||dV&&L4,Nr=0;Nr<10;Nr++)pa[48+Nr]=pa[96+Nr]=String(Nr);for(Nr=1;Nr<=24;Nr++)pa[Nr+111]="F"+Nr;for(Nr=65;Nr<=90;Nr++)pa[Nr]=String.fromCharCode(Nr+32),sh[Nr]=String.fromCharCode(Nr);for(var vv in pa)sh.hasOwnProperty(vv)||(sh[vv]=pa[vv]);function ah(t){return(t.nodeType==11?t.getSelection?t:t.ownerDocument:t).getSelection()}function Xu(t,e){return!!e&&(t==e||t.contains(e.nodeType!=1?e.parentNode:e))}function ag(t,e){if(!e.anchorNode)return!1;try{return Xu(t,e.anchorNode)}catch{return!1}}function Pc(t){return t.nodeType==3?Tc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function uh(t,e,n,r){return!!n&&(R4(t,e,n,r,-1)||R4(t,e,n,r,1))}function ug(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function R4(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:lh(t))){if(t.nodeName=="DIV")return!1;var i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=ug(t)+(o<0?0:1),t=i}else{if(t.nodeType!=1||(t=t.childNodes[e+(o<0?-1:0)]).nodeType==1&&t.contentEditable=="false")return!1;e=o<0?lh(t):0}}}function lh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}var iT={left:0,right:0,top:0,bottom:0};function Cp(t,e){var n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function vV(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}var D4,mV=function(){function t(){se(this,t),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return ae(t,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,n,r,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=o}}]),t}(),yu=null;function sT(t){if(t.setActive)return t.setActive();if(yu)return t.focus(yu);for(var e=[],n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(yu==null?{get preventScroll(){return yu={preventScroll:!0},!0}}:void 0),!yu){yu=!1;for(var r=0;r<e.length;){var o=e[r++],i=e[r++],s=e[r++];o.scrollTop!=i&&(o.scrollTop=i),o.scrollLeft!=s&&(o.scrollLeft=s)}}}function Tc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=D4||(D4=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function lc(t,e,n){var r={key:e,code:e,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",r);o.synthetic=!0,t.dispatchEvent(o);var i=new KeyboardEvent("keyup",r);return i.synthetic=!0,t.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function gV(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function aT(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}var go=function(){function t(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];se(this,t),this.node=e,this.offset=n,this.precise=r}return ae(t,null,[{key:"before",value:function(e,n){return new t(e.parentNode,ug(e),n)}},{key:"after",value:function(e,n){return new t(e.parentNode,ug(e)+1,n)}}]),t}(),Zy=[],wr=function(){function t(){se(this,t),this.parent=null,this.dom=null,this.dirty=2}return ae(t,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var n,r=this.posAtStart,o=he(this.children);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i==e)return r;r+=i.length+i.breakAfter}}catch(s){o.e(s)}finally{o.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,n){return null}},{key:"sync",value:function(e){if(2&this.dirty){var n,r,o=this.dom,i=null,s=he(this.children);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.dirty){if(!a.dom&&(n=i?i.nextSibling:o.firstChild)){var u=t.get(n);u&&(u.parent||u.constructor!=a.constructor)||a.reuseDOM(n)}a.sync(e),a.dirty=0}if(n=i?i.nextSibling:o.firstChild,e&&!e.written&&e.node==o&&n!=a.dom&&(e.written=!0),a.dom.parentNode==o)for(;n&&n!=a.dom;)n=B4(n);else o.insertBefore(a.dom,n);i=a.dom}}catch(d){s.e(d)}finally{s.f()}for((n=i?i.nextSibling:o.firstChild)&&e&&e.node==o&&(e.written=!0);n;)n=B4(n)}else if(1&this.dirty){var l,f=he(this.children);try{for(f.s();!(l=f.n()).done;){var c=l.value;c.dirty&&(c.sync(e),c.dirty=0)}}catch(d){f.e(d)}finally{f.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(e,n){var r;if(e==this.dom)r=this.dom.childNodes[n];else{for(var o=lh(e)==0?0:n==0?-1:1;;){var i=e.parentNode;if(i==this.dom)break;o==0&&i.firstChild!=i.lastChild&&(o=e==i.firstChild?-1:1),e=i}r=o<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!t.get(r);)r=r.nextSibling;if(!r)return this.length;for(var s=0,a=0;;s++){var u=this.children[s];if(u.dom==r)return a;a+=u.length+u.breakAfter}}},{key:"domBoundsAround",value:function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=-1,i=-1,s=-1,a=-1,u=0,l=r,f=r;u<this.children.length;u++){var c=this.children[u],d=l+c.length;if(l<e&&d>n)return c.domBoundsAround(e,n,l);if(d>=e&&o==-1&&(o=u,i=l),l>n&&c.dom.parentNode==this.dom){s=u,a=f;break}f=d,l=d+c.breakAfter}return{from:i,to:a<0?r+this.length:a,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),1&n.dirty)return;n.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var n=e.parent;if(!n)return e;e=n}}},{key:"replaceChildren",value:function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zy;this.markDirty();for(var i=e;i<n;i++){var s=this.children[i];s.parent==this&&s.destroy()}(r=this.children).splice.apply(r,[e,n-e].concat(Qt(o)));for(var a=0;a<o.length;a++)o[a].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length;return new uT(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.childCursor().findPos(e,n)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,n,r,o,i,s){return!1}},{key:"become",value:function(e){return!1}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),t}();function B4(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}wr.prototype.breakAfter=0;var uT=function(){function t(e,n,r){se(this,t),this.children=e,this.pos=n,this.i=r,this.off=0}return ae(t,[{key:"findPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}]),t}();function lT(t,e,n,r,o,i,s,a,u){var l=t.children,f=l.length?l[e]:null,c=i.length?i[i.length-1]:null,d=c?c.breakAfter:s;if(!(e==r&&f&&!s&&!d&&i.length<2&&f.merge(n,o,i.length?c:null,n==0,a,u))){if(r<l.length){var h=l[r];h&&o<h.length?(e==r&&(h=h.split(o),o=0),!d&&c&&h.merge(0,o,c,!0,0,u)?i[i.length-1]=h:(o&&h.merge(0,o,null,!1,0,u),i.push(h))):h!=null&&h.breakAfter&&(c?c.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,n>0&&(!s&&i.length&&f.merge(n,f.length,i[0],!1,a,0)?f.breakAfter=i.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,a,0),e++));e<r&&i.length;)if(l[r-1].become(i[i.length-1]))r--,i.pop(),u=i.length?0:a;else{if(!l[e].become(i[0]))break;e++,i.shift(),a=i.length?0:u}!i.length&&e&&r<l.length&&!l[e-1].breakAfter&&l[r].merge(0,0,l[e-1],!1,a,u)&&e--,(e<r||i.length)&&t.replaceChildren(e,r,i)}}function cT(t,e,n,r,o,i){var s,a=t.childCursor(),u=a.findPos(n,1),l=u.i,f=u.off,c=a.findPos(e,-1),d=c.i,h=c.off,p=e-n,v=he(r);try{for(v.s();!(s=v.n()).done;)p+=s.value.length}catch(g){v.e(g)}finally{v.f()}t.length+=p,lT(t,d,h,l,f,r,0,o,i)}var Ao=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},lg=typeof document<"u"?document:{documentElement:{style:{}}},cg=/Edge\/(\d+)/.exec(Ao.userAgent),fT=/MSIE \d/.test(Ao.userAgent),fg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ao.userAgent),$p=!!(fT||fg||cg),z4=!$p&&/gecko\/(\d+)/i.test(Ao.userAgent),mv=!$p&&/Chrome\/(\d+)/.exec(Ao.userAgent),F4="webkitFontSmoothing"in lg.documentElement.style,dT=!$p&&/Apple Computer/.test(Ao.vendor),q4=dT&&(/Mobile\/\w+/.test(Ao.userAgent)||Ao.maxTouchPoints>2),$t={mac:q4||/Mac/.test(Ao.platform),windows:/Win/.test(Ao.platform),linux:/Linux|X11/.test(Ao.platform),ie:$p,ie_version:fT?lg.documentMode||6:fg?+fg[1]:cg?+cg[1]:0,gecko:z4,gecko_version:z4?+(/Firefox\/(\d+)/.exec(Ao.userAgent)||[0,0])[1]:0,chrome:!!mv,chrome_version:mv?+mv[1]:0,ios:q4,android:/Android\b/.test(Ao.userAgent),webkit:F4,safari:dT,webkit_version:F4?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:lg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},Mc=function(t){De(n,wr);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).text=r,o}return ae(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(r){this.setDOM(r||document.createTextNode(this.text))}},{key:"sync",value:function(r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(r){r.nodeType==3&&this.createDOM(r)}},{key:"merge",value:function(r,o,i){return(!i||i instanceof n&&!(this.length-(o-r)+i.length>256))&&(this.text=this.text.slice(0,r)+(i?i.text:"")+this.text.slice(o),this.markDirty(),!0)}},{key:"split",value:function(r){var o=new n(this.text.slice(r));return this.text=this.text.slice(0,r),this.markDirty(),o}},{key:"localPosFromDOM",value:function(r,o){return r==this.dom?o:o?this.text.length:0}},{key:"domAtPos",value:function(r){return new go(this.dom,r)}},{key:"domBoundsAround",value:function(r,o,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(r,o){return dg(this.dom,r,o)}}]),n}(),tu=function(t){De(n,wr);var e=Be(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;se(this,n),(o=e.call(this)).mark=r,o.children=i,o.length=s;var a,u=he(i);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.setParent(wt(o))}}catch(f){u.e(f)}finally{u.f()}return o}return ae(n,[{key:"setAttrs",value:function(r){if(aT(r),this.mark.class&&(r.className=this.mark.class),this.mark.attrs)for(var o in this.mark.attrs)r.setAttribute(o,this.mark.attrs[o]);return r}},{key:"reuseDOM",value:function(r){r.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),cn(rn(n.prototype),"sync",this).call(this,r)}},{key:"merge",value:function(r,o,i,s,a,u){return(!i||!(!(i instanceof n&&i.mark.eq(this.mark))||r&&a<=0||o<this.length&&u<=0))&&(cT(this,r,o,i?i.children:[],a-1,u-1),this.markDirty(),!0)}},{key:"split",value:function(r){var o,i=[],s=0,a=-1,u=0,l=he(this.children);try{for(l.s();!(o=l.n()).done;){var f=o.value,c=s+f.length;c>r&&i.push(s<r?f.split(r-s):f),a<0&&s>=r&&(a=u),s=c,u++}}catch(h){l.e(h)}finally{l.f()}var d=this.length-r;return this.length=r,a>-1&&(this.children.length=a,this.markDirty()),new n(this.mark,i,d)}},{key:"domAtPos",value:function(r){return vT(this.dom,this.children,r)}},{key:"coordsAt",value:function(r,o){return gT(this,r,o)}}]),n}();function dg(t,e,n){var r=t.nodeValue.length;e>r&&(e=r);var o=e,i=e,s=0;e==0&&n<0||e==r&&n>=0?$t.chrome||$t.gecko||(e?(o--,s=1):(i++,s=-1)):n<0?o--:i++;var a=Tc(t,o,i).getClientRects();if(!a.length)return iT;var u=a[(s?s<0:n>=0)?0:a.length-1];return $t.safari&&!s&&u.width==0&&(u=Array.prototype.find.call(a,function(l){return l.width})||u),s?Cp(u,s<0):u||null}var e1=function(t){De(n,wr);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this)).widget=r,s.length=o,s.side=i,s.prevWidget=null,s}return ae(n,[{key:"split",value:function(r){var o=n.create(this.widget,this.length-r,this.side);return this.length-=r,o}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(r,o,i,s,a,u){return!(i&&(!(i instanceof n&&this.widget.compare(i.widget))||r>0&&a<=0||o<this.length&&u<=0))&&(this.length=r+(i?i.length:0)+(this.length-o),!0)}},{key:"become",value:function(r){return r.length==this.length&&r instanceof n&&r.side==this.side&&this.widget.constructor==r.widget.constructor&&(this.widget.eq(r.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"overrideDOMText",get:function(){if(this.length==0)return Fn.empty;for(var r=this;r.parent;)r=r.parent;var o=r.editorView,i=o&&o.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):Fn.empty}},{key:"domAtPos",value:function(r){return r==0?go.before(this.dom):go.after(this.dom,r==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r,o){var i=this.dom.getClientRects(),s=null;if(!i.length)return iT;for(var a=r>0?i.length-1:0;s=i[a],!(r>0?a==0:a==i.length-1||s.top<s.bottom);a+=r>0?-1:1);return r==0&&o>0||r==this.length&&o<=0?s:Cp(s,r==0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){cn(rn(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(r,o,i){return new(r.customView||n)(r,o,i)}}]),n}(),hT=function(t){De(n,e1);var e=Be(n);function n(){return se(this,n),e.apply(this,arguments)}return ae(n,[{key:"domAtPos",value:function(r){var o=this.widget,i=o.topView,s=o.text;return i?hg(r,0,i,s,function(a,u){return a.domAtPos(u)},function(a){return new go(s,Math.min(a,s.nodeValue.length))}):new go(s,Math.min(r,s.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(r,o){var i=this.widget,s=i.topView,a=i.text;return s?pT(r,o,s,a):Math.min(o,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(r,o){var i=this.widget,s=i.topView,a=i.text;return s?hg(r,o,s,a,function(u,l,f){return u.coordsAt(l,f)},function(u,l){return dg(a,u,l)}):dg(a,r,o)}},{key:"destroy",value:function(){var r;cn(rn(n.prototype),"destroy",this).call(this),(r=this.widget.topView)===null||r===void 0||r.destroy()}},{key:"isEditable",get:function(){return!0}}]),n}();function hg(t,e,n,r,o,i){if(n instanceof tu){var s,a=he(n.children);try{for(a.s();!(s=a.n()).done;){var u=s.value,l=Xu(u.dom,r),f=l?r.nodeValue.length:u.length;if(t<f||t==f&&u.getSide()<=0)return l?hg(t,e,u,r,o,i):o(u,t,e);t-=f}}catch(c){a.e(c)}finally{a.f()}return o(n,n.length,-1)}return n.dom==r?i(t,e):o(n,t,e)}function pT(t,e,n,r){if(n instanceof tu){var o,i=he(n.children);try{for(i.s();!(o=i.n()).done;){var s=o.value,a=0,u=Xu(s.dom,r);if(Xu(s.dom,t))return a+(u?pT(t,e,s,r):s.localPosFromDOM(t,e));a+=u?r.nodeValue.length:s.length}}catch(l){i.e(l)}finally{i.f()}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}var pg=function(t){De(n,wr);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).side=r,o}return ae(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(r){return r instanceof n&&r.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),this.setDOM(r)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(r){return go.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r){var o=this.dom.getBoundingClientRect(),i=function(s,a){for(var u=s.parent,l=u?u.children.indexOf(s):-1;u&&l>=0;)if(a<0?l>0:l<u.children.length){var f=u.children[l+a];if(f instanceof Mc){var c=f.coordsAt(a<0?f.length:0,a);if(c)return c}l+=a}else{if(!(u instanceof tu&&u.parent)){var d=u.dom.lastChild;if(d&&d.nodeName=="BR")return d.getClientRects()[0];break}l=u.parent.children.indexOf(u)+(a<0?0:1),u=u.parent}}(this,this.side>0?-1:1);return i&&i.top<o.bottom&&i.bottom>o.top?{left:o.left,right:o.right,top:i.top,bottom:i.bottom}:o}},{key:"overrideDOMText",get:function(){return Fn.empty}}]),n}();function vT(t,e,n){for(var r=0,o=0;r<e.length;r++){var i=e[r],s=o+i.length;if(!(s==o&&i.getSide()<=0)){if(n>o&&n<s&&i.dom.parentNode==t)return i.domAtPos(n-o);if(n<=o)break;o=s}}for(;r>0;r--){var a=e[r-1].dom;if(a.parentNode==t)return go.after(a)}return new go(t,0)}function mT(t,e,n){var r,o=t.children;n>0&&e instanceof tu&&o.length&&(r=o[o.length-1])instanceof tu&&r.mark.eq(e.mark)?mT(r,e.children[0],n-1):(o.push(e),e.setParent(t)),t.length+=e.length}function gT(t,e,n){for(var r=0,o=0;o<t.children.length;o++){var i=t.children[o],s=r+i.length,a=void 0;if((n<=0||s==t.length||i.getSide()>0?s>=e:s>e)&&(e<s||o+1==t.children.length||(a=t.children[o+1]).length||a.getSide()>0)){var u=0;if(s==r){if(i.getSide()<=0)continue;u=n=-i.getSide()}var l=i.coordsAt(Math.max(0,e-r),n);return u&&l?Cp(l,n<0):l}r=s}var f=t.dom.lastChild;if(!f)return t.dom.getBoundingClientRect();var c=Pc(f);return c[c.length-1]||null}function vg(t,e){for(var n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function t1(t,e){if(t==e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o=0,i=n;o<i.length;o++){var s=i[o];if(r.indexOf(s)==-1||t[s]!==e[s])return!1}return!0}function mg(t,e,n){if(e)for(var r in e)n&&r in n||t.removeAttribute(r);if(n)for(var o in n)e&&e[o]==n[o]||t.setAttribute(o,n[o])}Mc.prototype.children=e1.prototype.children=pg.prototype.children=Zy;var ja=function(){function t(){se(this,t)}return ae(t,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),t}(),qn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(qn||(qn={})),Pt=function(t){De(n,Ua);var e=Be(n);function n(r,o,i,s){var a;return se(this,n),(a=e.call(this)).startSide=r,a.endSide=o,a.widget=i,a.spec=s,a}return ae(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(r){return new yT(r)}},{key:"widget",value:function(r){var o=r.side||0,i=!!r.block;return new Ic(r,o+=i?o>0?3e8:-4e8:o>0?1e8:-1e8,o,i,r.widget||null,!1)}},{key:"replace",value:function(r){var o,i,s=!!r.block;if(r.isBlockGap)o=-5e8,i=4e8;else{var a=bT(r,s);o=(a.start?s?-3e8:-1:5e8)-1,i=1+(a.end?s?2e8:1:-6e8)}return new Ic(r,o,i,s,r.widget||null,!0)}},{key:"line",value:function(r){return new gg(r)}},{key:"set",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Un.of(r,o)}}]),n}();Pt.none=Un.empty;var yT=function(t){De(n,Pt);var e=Be(n);function n(r){var o;se(this,n);var i=bT(r),s=i.start,a=i.end;return(o=e.call(this,s?-1:5e8,a?1:-6e8,null,r)).tagName=r.tagName||"span",o.class=r.class||"",o.attrs=r.attributes||null,o}return ae(n,[{key:"eq",value:function(r){return this==r||r instanceof n&&this.tagName==r.tagName&&this.class==r.class&&t1(this.attrs,r.attrs)}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(r>=o)throw new RangeError("Mark decorations may not be empty");return cn(rn(n.prototype),"range",this).call(this,r,o)}}]),n}();yT.prototype.point=!1;var gg=function(t){De(n,Pt);var e=Be(n);function n(r){return se(this,n),e.call(this,-2e8,-2e8,null,r)}return ae(n,[{key:"eq",value:function(r){return r instanceof n&&t1(this.spec.attributes,r.spec.attributes)}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(o!=r)throw new RangeError("Line decoration ranges must be zero-length");return cn(rn(n.prototype),"range",this).call(this,r,o)}}]),n}();gg.prototype.mapMode=so.TrackBefore,gg.prototype.point=!0;var Ic=function(t){De(n,Pt);var e=Be(n);function n(r,o,i,s,a,u){var l;return se(this,n),(l=e.call(this,o,i,a,r)).block=s,l.isReplace=u,l.mapMode=s?o<=0?so.TrackBefore:so.TrackAfter:so.TrackDel,l}return ae(n,[{key:"type",get:function(){return this.startSide<this.endSide?qn.WidgetRange:this.startSide<=0?qn.WidgetBefore:qn.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(r){return r instanceof n&&(o=this.widget,i=r.widget,o==i||!!(o&&i&&o.compare(i)))&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide;var o,i}},{key:"range",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(this.isReplace&&(r>o||r==o&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&o!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return cn(rn(n.prototype),"range",this).call(this,r,o)}}]),n}();function bT(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=t.inclusiveStart,r=t.inclusiveEnd;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n!=null?n:e,end:r!=null?r:e}}function yg(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=n.length-1;o>=0&&n[o]+r>=t?n[o]=Math.max(n[o],e):n.push(t,e)}Ic.prototype.point=!0;var wi=function(t){De(n,wr);var e=Be(n);function n(){var r;return se(this,n),(r=e.apply(this,arguments)).children=[],r.length=0,r.prevAttrs=void 0,r.attrs=null,r.breakAfter=0,r}return ae(n,[{key:"merge",value:function(r,o,i,s,a,u){if(i){if(!(i instanceof n))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),cT(this,r,o,i?i.children:[],a,u),!0}},{key:"split",value:function(r){var o=new n;if(o.breakAfter=this.breakAfter,this.length==0)return o;var i=this.childPos(r),s=i.i,a=i.off;a&&(o.append(this.children[s].split(a),0),this.children[s].merge(a,this.children[s].length,null,!1,0,0),s++);for(var u=s;u<this.children.length;u++)o.append(this.children[u],0);for(;s>0&&this.children[s-1].length==0;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=r,o}},{key:"transferDOM",value:function(r){this.dom&&(r.setDOM(this.dom),r.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(r){t1(this.attrs,r)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=r)}},{key:"append",value:function(r,o){mT(this,r,o)}},{key:"addLineDeco",value:function(r){var o=r.spec.attributes,i=r.spec.class;o&&(this.attrs=vg(o,this.attrs||{})),i&&(this.attrs=vg({class:i},this.attrs||{}))}},{key:"domAtPos",value:function(r){return vT(this.dom,this.children,r)}},{key:"reuseDOM",value:function(r){r.nodeName=="DIV"&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){var o;this.dom?4&this.dirty&&(aT(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(mg(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),cn(rn(n.prototype),"sync",this).call(this,r);for(var i=this.dom.lastChild;i&&wr.get(i)instanceof tu;)i=i.lastChild;if(!(i&&this.length&&(i.nodeName=="BR"||((o=wr.get(i))===null||o===void 0?void 0:o.isEditable)!=0||$t.ios&&this.children.some(function(a){return a instanceof Mc})))){var s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}},{key:"measureTextSize",value:function(){if(this.children.length==0||this.length>20)return null;var r,o=0,i=he(this.children);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(!(s instanceof Mc))return null;var a=Pc(s.dom);if(a.length!=1)return null;o+=a[0].width}}catch(u){i.e(u)}finally{i.f()}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:o/this.length}}},{key:"coordsAt",value:function(r,o){return gT(this,r,o)}},{key:"become",value:function(r){return!1}},{key:"type",get:function(){return qn.Text}}],[{key:"find",value:function(r,o){for(var i=0,s=0;i<r.children.length;i++){var a=r.children[i],u=s+a.length;if(u>=o){if(a instanceof n)return a;if(u>o)break}s=u+a.breakAfter}return null}}]),n}(),bg=function(t){De(n,wr);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this)).widget=r,s.length=o,s.type=i,s.breakAfter=0,s.prevWidget=null,s}return ae(n,[{key:"merge",value:function(r,o,i,s,a,u){return!(i&&(!(i instanceof n&&this.widget.compare(i.widget))||r>0&&a<=0||o<this.length&&u<=0))&&(this.length=r+(i?i.length:0)+(this.length-o),!0)}},{key:"domAtPos",value:function(r){return r==0?go.before(this.dom):go.after(this.dom,r==this.length)}},{key:"split",value:function(r){var o=this.length-r;this.length=r;var i=new n(this.widget,o,this.type);return i.breakAfter=this.breakAfter,i}},{key:"children",get:function(){return Zy}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Fn.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(r){return r instanceof n&&r.type==this.type&&r.widget.constructor==this.widget.constructor&&(r.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,this.breakAfter=r.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"destroy",value:function(){cn(rn(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(),yV=function(){function t(e,n,r,o){se(this,t),this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsBelow=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}return ae(t,[{key:"posCovered",value:function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof bg&&e.type==qn.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new wi),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(e){this.pendingBuffer&&(this.curLine.append(Jf(new pg(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,n,r){for(;e>0;){if(this.textOff==this.text.length){var o=this.cursor.next(this.skip),i=o.value,s=o.lineBreak,a=o.done;if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=i,this.textOff=0}var u=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(0,r)),this.getLine().append(Jf(new Mc(this.text.slice(this.textOff,this.textOff+u)),n),r),this.atCursorPos=!0,this.textOff+=u,e-=u,r=0}}},{key:"span",value:function(e,n,r,o){this.buildText(n-e,r,o),this.pos=n,this.openStart<0&&(this.openStart=o)}},{key:"point",value:function(e,n,r,o,i){var s=n-e;if(r instanceof Ic)if(r.block){var a=r.type;a!=qn.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new bg(r.widget||new V4("div"),s,a))}else{var u=e1.create(r.widget||new V4("span"),s,r.startSide),l=this.atCursorPos&&!u.isEditable&&i<=o.length&&(e<n||r.startSide>0),f=!u.isEditable&&(e<n||r.startSide<=0),c=this.getLine();this.pendingBuffer!=2||l||(this.pendingBuffer=0),this.flushBuffer(o),l&&(c.append(Jf(new pg(1),o),i),i=o.length+Math.max(0,i-o.length)),c.append(Jf(u,o),i),this.atCursorPos=f,this.pendingBuffer=f?e<n?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=i)}},{key:"filterPoint",value:function(e,n,r,o){if(o<this.disallowBlockEffectsBelow&&r instanceof Ic){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}}],[{key:"build",value:function(e,n,r,o,i){var s=new t(e,n,r,i);return s.openEnd=Un.spans(o,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}]),t}();function Jf(t,e){var n,r=he(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t=new tu(o,[t],t.length)}}catch(i){r.e(i)}finally{r.f()}return t}var V4=function(t){De(n,ja);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).tag=r,o}return ae(n,[{key:"eq",value:function(r){return r.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(r){return r.nodeName.toLowerCase()==this.tag}}]),n}(),bV=[],wT=Ct.define(),kT=Ct.define(),xT=Ct.define(),jT=Ct.define(),wg=Ct.define(),_T=Ct.define(),kg=Zt.define({map:function(t,e){return t.map(e)}}),ST=Zt.define({map:function(t,e){return t.map(e)}}),Kf=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"nearest",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:5;se(this,t),this.range=e,this.y=n,this.x=r,this.yMargin=o,this.xMargin=i}return ae(t,[{key:"map",value:function(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}]),t}(),H4=Zt.define({map:function(t,e){return t.map(e)}});function No(t,e,n){var r=t.facet(jT);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}var ff=Ct.define({combine:function(t){return!t.length||t[0]}}),wV=ae(function t(e,n){se(this,t),this.field=e,this.get=n}),vo=function(){function t(){se(this,t)}return ae(t,[{key:"from",value:function(e){return new wV(this,e)}}],[{key:"define",value:function(){return new t}}]),t}();vo.decorations=vo.define(),vo.atomicRanges=vo.define(),vo.scrollMargins=vo.define();var kV=0,Wl=Ct.define(),Fr=function(){function t(e,n,r){se(this,t),this.id=e,this.create=n,this.fields=r,this.extension=Wl.of(this)}return ae(t,null,[{key:"define",value:function(e,n){var r=n||{},o=r.eventHandlers,i=r.provide,s=r.decorations,a=[];if(i){var u,l=he(Array.isArray(i)?i:[i]);try{for(l.s();!(u=l.n()).done;){var f=u.value;a.push(f)}}catch(c){l.e(c)}finally{l.f()}}return o&&a.push(CT.from(function(c){return{plugin:c,handlers:o}})),s&&a.push(vo.decorations.from(s)),new t(kV++,e,a)}},{key:"fromClass",value:function(e,n){return t.define(function(r){return new e(r)},n)}}]),t}(),CT=vo.define(),gv=function(){function t(e){se(this,t),this.spec=e,this.mustUpdate=null,this.value=null}return ae(t,[{key:"takeField",value:function(e,n){if(this.spec){var r,o=he(this.spec.fields);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.field,a=i.get;s==e&&n.push(a(this.value))}}catch(u){o.e(u)}finally{o.f()}}}},{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(No(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){No(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){No(e.state,r,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),t}(),$T=Ct.define(),OT=Ct.define(),za=Ct.define(),Ul=Ct.define(),Nc=function(){function t(e,n,r,o){se(this,t),this.fromA=e,this.toA=n,this.fromB=r,this.toB=o}return ae(t,[{key:"join",value:function(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}},{key:"addToSet",value:function(e){for(var n=e.length,r=this;n>0;n--){var o=e[n-1];if(!(o.fromA>r.toA)){if(o.toA<r.fromA)break;r=r.join(o),e.splice(n-1,1)}}return e.splice(n,0,r),e}}],[{key:"extendWithRanges",value:function(e,n){if(n.length==0)return e;for(var r=[],o=0,i=0,s=0,a=0;;o++){for(var u=o==e.length?null:e[o],l=s-a,f=u?u.fromB:1e9;i<n.length&&n[i]<f;){var c=n[i],d=n[i+1],h=Math.max(a,c),p=Math.min(f,d);if(h<=p&&new t(h+l,p+l,h,p).addToSet(r),d>f)break;i+=2}if(!u)return r;new t(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),s=u.toA,a=u.toB}}}]),t}(),W4=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bV;se(this,t),this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ai.empty(this.startState.doc.length);var o,i=he(r);try{for(i.s();!(o=i.n()).done;){var s=o.value;this.changes=this.changes.compose(s.changes)}}catch(l){i.e(l)}finally{i.f()}var a=[];this.changes.iterChangedRanges(function(l,f,c,d){return a.push(new Nc(l,f,c,d))}),this.changedRanges=a;var u=e.hasFocus;u!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=u,this.flags|=1)}return ae(t,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some(function(e){return e.selection})}},{key:"empty",get:function(){return this.flags==0&&this.transactions.length==0}}]),t}(),jn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(jn||(jn={})),xg=jn.LTR,xV=jn.RTL;function U4(t){for(var e=[],n=0;n<t.length;n++)e.push(1<<+t[n]);return e}for(var jV=U4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),_V=U4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jg=Object.create(null),Ii=[],yv=0,J4=["()","[]","{}"];yv<J4.length;yv++){var K4=J4[yv],G4=K4.charCodeAt(0),Q4=K4.charCodeAt(1);jg[G4]=Q4,jg[Q4]=-G4}function SV(t){return t<=247?jV[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?_V[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||t==8204?256:1}var CV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Pu=function(){function t(e,n,r){se(this,t),this.from=e,this.to=n,this.level=r}return ae(t,[{key:"dir",get:function(){return this.level%2?xV:xg}},{key:"side",value:function(e,n){return this.dir==n==e?this.to:this.from}}],[{key:"find",value:function(e,n,r,o){for(var i=-1,s=0;s<e.length;s++){var a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(i<0||(o!=0?o<0?a.from<n:a.to>n:e[i].level>a.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}]),t}(),er=[];function Y4(t){return[new Pu(0,t,0)]}var AT="";function $V(t,e,n,r,o){var i,s=r.head-t.from,a=-1;if(s==0){if(!o||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),a=0)}else if(s==t.length){if(o)return null;var u=e[e.length-1];u.level!=n&&(s=u.side(!0,n),a=e.length-1)}a<0&&(a=Pu.find(e,s,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc));var l=e[a];s==l.side(o,n)&&(s=(l=e[a+=o?1:-1]).side(!o,n));var f=o==(l.dir==n),c=To(t.text,s,f);if(AT=t.text.slice(Math.min(s,c),Math.max(s,c)),c!=l.side(o,n))return Ke.cursor(c+t.from,f?-1:1,l.level);var d=a==(o?e.length-1:0)?null:e[a+(o?1:-1)];return d||l.level==n?d&&d.level<l.level?Ke.cursor(d.side(!o,n)+t.from,o?1:-1,d.level):Ke.cursor(c+t.from,o?-1:1,l.level):Ke.cursor(o?t.to:t.from,o?-1:1,n)}var ET=function(){function t(e,n){se(this,t),this.points=e,this.text="",this.lineSeparator=n.facet(tr.lineSeparator)}return ae(t,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+="\uFFFF"}},{key:"readRange",value:function(e,n){if(!e)return this;for(var r=e.parentNode,o=e;;){this.findPointBefore(r,o),this.readNode(o);var i=o.nextSibling;if(i==n)break;var s=wr.get(o),a=wr.get(i);(s&&a?s.breakAfter:(s?s.breakAfter:X4(o))||X4(i)&&(o.nodeName!="BR"||o.cmIgnore))&&this.lineBreak(),o=i}return this.findPointBefore(r,n),this}},{key:"readTextNode",value:function(e){var n,r=e.nodeValue,o=he(this.points);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,r.length))}}catch(p){o.e(p)}finally{o.f()}for(var s=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){var u=-1,l=1,f=void 0;if(this.lineSeparator?(u=r.indexOf(this.lineSeparator,s),l=this.lineSeparator.length):(f=a.exec(r))&&(u=f.index,l=f[0].length),this.append(r.slice(s,u<0?r.length:u)),u<0)break;if(this.lineBreak(),l>1){var c,d=he(this.points);try{for(d.s();!(c=d.n()).done;){var h=c.value;h.node==e&&h.pos>this.text.length&&(h.pos-=l-1)}}catch(p){d.e(p)}finally{d.f()}}s=u+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var n=wr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(var o=r.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,n){var r,o=he(this.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}}catch(s){o.e(s)}finally{o.f()}}},{key:"findPointInside",value:function(e,n){var r,o=he(this.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(n,i.offset))}}catch(s){o.e(s)}finally{o.f()}}}]),t}();function X4(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}var Z4=ae(function t(e,n){se(this,t),this.node=e,this.offset=n,this.pos=-1}),eS=function(t){De(n,wr);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).view=r,o.compositionDeco=Pt.none,o.decorations=[],o.pluginDecorationLength=0,o.minWidth=0,o.minWidthFrom=0,o.minWidthTo=0,o.impreciseAnchor=null,o.impreciseHead=null,o.forceSelection=!1,o.lastUpdate=Date.now(),o.setDOM(r.contentDOM),o.children=[new wi],o.children[0].setParent(wt(o)),o.updateDeco(),o.updateInner([new Nc(0,0,0,r.state.doc.length)],0),o}return ae(n,[{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(r){var o=this,i=r.changedRanges;this.minWidth>0&&i.length&&(i.every(function(h){var p=h.fromA;return h.toA<o.minWidthFrom||p>o.minWidthTo})?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Pt.none:(r.transactions.length||this.dirty)&&(this.compositionDeco=function(h,p){var v=PT(h);if(!v)return Pt.none;var g=v.from,m=v.to,y=v.node,b=v.text,w=p.mapPos(g,1),k=Math.max(w,p.mapPos(m,-1)),$=h.state,A=y.nodeType==3?y.nodeValue:new ET([],$).readRange(y.firstChild,null).text;if(k-w<A.length)if($.doc.sliceString(w,Math.min($.doc.length,w+A.length),"\uFFFF")==A)k=w+A.length;else{if($.doc.sliceString(Math.max(0,k-A.length),k,"\uFFFF")!=A)return Pt.none;w=k-A.length}else if($.doc.sliceString(w,k,"\uFFFF")!=A)return Pt.none;var P=wr.get(y);return P instanceof hT?P=P.widget.topView:P&&(P.parent=null),Pt.set(Pt.replace({widget:new AV(y,b,P)}).range(w,k))}(this.view,r.changes)),($t.ie||$t.chrome)&&!this.compositionDeco.size&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);var s,a,u,l,f=this.decorations,c=this.updateDeco(),d=(s=f,a=c,u=r.changes,l=new PV,Un.compare(s,a,u,l),l.changes);return i=Nc.extendWithRanges(i,d),(this.dirty!=0||i.length!=0)&&(this.updateInner(i,r.startState.doc.length),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(r,o){var i=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(r,o);var s=this.view.observer;s.ignore(function(){i.dom.style.height=i.view.viewState.contentHeight+"px",i.dom.style.minWidth=i.minWidth?i.minWidth+"px":"";var c=$t.chrome||$t.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;i.sync(c),i.dirty=0,c&&(c.written||s.selectionRange.focusNode!=c.node)&&(i.forceSelection=!0),i.dom.style.height=""});var a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var u,l=he(this.children);try{for(l.s();!(u=l.n()).done;){var f=u.value;f instanceof bg&&f.widget instanceof tS&&a.push(f.dom)}}catch(c){l.e(c)}finally{l.f()}}s.updateGaps(a)}},{key:"updateChildren",value:function(r,o){for(var i=this.childCursor(o),s=r.length-1;;s--){var a=s>=0?r[s]:null;if(!a)break;var u=a.fromA,l=a.toA,f=a.fromB,c=a.toB,d=yV.build(this.view.state.doc,f,c,this.decorations,this.pluginDecorationLength),h=d.content,p=d.breakAtStart,v=d.openStart,g=d.openEnd,m=i.findPos(l,1),y=m.i,b=m.off,w=i.findPos(u,-1);lT(this,w.i,w.off,y,b,h,p,v,g)}}},{key:"updateSelection",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(o&&this.view.observer.readSelectionRange(),!(!i&&!this.mayControlSelection()||$t.ios&&this.view.inputState.rapidCompositionStart)){var s=this.forceSelection;this.forceSelection=!1;var a=this.view.state.selection.main,u=this.domAtPos(a.anchor),l=a.empty?u:this.domAtPos(a.head);if($t.gecko&&a.empty&&OV(u)){var f=document.createTextNode("");this.view.observer.ignore(function(){return u.node.insertBefore(f,u.node.childNodes[u.offset]||null)}),u=l=new go(f,0),s=!0}var c=this.view.observer.selectionRange;!s&&c.focusNode&&uh(u.node,u.offset,c.anchorNode,c.anchorOffset)&&uh(l.node,l.offset,c.focusNode,c.focusOffset)||(this.view.observer.ignore(function(){$t.android&&$t.chrome&&r.dom.contains(c.focusNode)&&TV(c.focusNode,r.dom)&&(r.dom.blur(),r.dom.focus({preventScroll:!0}));var d=ah(r.root);if(a.empty){if($t.gecko){var h=EV(u.node,u.offset);if(h&&h!=3){var p=TT(u.node,u.offset,h==1?1:-1);p&&(u=new go(p,h==1?0:p.nodeValue.length))}}d.collapse(u.node,u.offset),a.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=a.bidiLevel)}else if(d.extend)d.collapse(u.node,u.offset),d.extend(l.node,l.offset);else{var v=document.createRange();if(a.anchor>a.head){var g=[l,u];u=g[0],l=g[1]}v.setEnd(l.node,l.offset),v.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(v)}}),this.view.observer.setSelectionRange(u,l)),this.impreciseAnchor=u.precise?null:new go(c.anchorNode,c.anchorOffset),this.impreciseHead=l.precise?null:new go(c.focusNode,c.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var r=this.view.state.selection.main,o=ah(this.root);if(r.empty&&r.assoc&&o.modify){var i=wi.find(this,r.head);if(i){var s=i.posAtStart;if(r.head!=s&&r.head!=s+i.length){var a=this.coordsAt(r.head,-1),u=this.coordsAt(r.head,1);if(a&&u&&!(a.bottom>u.top)){var l=this.domAtPos(r.head+r.assoc);o.collapse(l.node,l.offset),o.modify("move",r.assoc<0?"forward":"backward","lineboundary")}}}}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(ff)?this.root.activeElement==this.dom:ag(this.dom,this.view.observer.selectionRange)}},{key:"nearest",value:function(r){for(var o=r;o;){var i=wr.get(o);if(i&&i.rootView==this)return i;o=o.parentNode}return null}},{key:"posFromDOM",value:function(r,o){var i=this.nearest(r);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(r,o)+i.posAtStart}},{key:"domAtPos",value:function(r){for(var o=this.childCursor().findPos(r,-1),i=o.i,s=o.off;i<this.children.length-1;){var a=this.children[i];if(s<a.length||a instanceof wi)break;i++,s=0}return this.children[i].domAtPos(s)}},{key:"coordsAt",value:function(r,o){for(var i=this.length,s=this.children.length-1;;s--){var a=this.children[s],u=i-a.breakAfter-a.length;if(r>u||r==u&&a.type!=qn.WidgetBefore&&a.type!=qn.WidgetAfter&&(!s||o==2||this.children[s-1].breakAfter||this.children[s-1].type==qn.WidgetBefore&&o>-2))return a.coordsAt(r-u,o);i=u}}},{key:"measureVisibleLineHeights",value:function(){for(var r=[],o=this.view.viewState.viewport,i=o.from,s=o.to,a=this.view.contentDOM.clientWidth,u=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,f=0,c=0;c<this.children.length;c++){var d=this.children[c],h=f+d.length;if(h>s)break;if(f>=i){var p=d.dom.getBoundingClientRect();if(r.push(p.height),u){var v=d.dom.lastChild,g=v?Pc(v):[];if(g.length){var m=g[g.length-1],y=this.view.textDirection==jn.LTR?m.right-p.left:p.right-m.left;y>l&&(l=y,this.minWidth=a,this.minWidthFrom=f,this.minWidthTo=h)}}}f=h+d.breakAfter}return r}},{key:"measureTextSize",value:function(){var r,o=this,i=he(this.children);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s instanceof wi){var a=s.measureTextSize();if(a)return a}}}catch(c){i.e(c)}finally{i.f()}var u,l,f=document.createElement("div");return f.className="cm-line",f.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(function(){o.dom.appendChild(f);var c=Pc(f.firstChild)[0];u=f.getBoundingClientRect().height,l=c?c.width/27:7,f.remove()}),{lineHeight:u,charWidth:l}}},{key:"childCursor",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length,o=this.children.length;return o&&(r-=this.children[--o].length),new uT(this.children,r,o)}},{key:"computeBlockGapDeco",value:function(){for(var r=[],o=this.view.viewState,i=0,s=0;;s++){var a=s==o.viewports.length?null:o.viewports[s],u=a?a.from-1:this.length;if(u>i){var l=o.lineBlockAt(u).bottom-o.lineBlockAt(i).top;r.push(Pt.replace({widget:new tS(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,u))}if(!a)break;i=a.to+1}return Pt.set(r)}},{key:"updateDeco",value:function(){var r=this.view.pluginField(vo.decorations);return this.pluginDecorationLength=r.length,this.decorations=[].concat(Qt(r),Qt(this.view.state.facet(za)),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(r){var o,i=r.range,s=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(s){!i.empty&&(o=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(s={left:Math.min(s.left,o.left),top:Math.min(s.top,o.top),right:Math.max(s.right,o.right),bottom:Math.max(s.bottom,o.bottom)});var a,u=0,l=0,f=0,c=0,d=he(this.view.pluginField(vo.scrollMargins));try{for(d.s();!(a=d.n()).done;){var h=a.value;if(h){var p=h.left,v=h.right,g=h.top,m=h.bottom;p!=null&&(u=Math.max(u,p)),v!=null&&(l=Math.max(l,v)),g!=null&&(f=Math.max(f,g)),m!=null&&(c=Math.max(c,m))}}}catch(b){d.e(b)}finally{d.f()}var y={left:s.left-u,top:s.top-f,right:s.right+l,bottom:s.bottom+c};(function(b,w,k,$,A,P,_,T){for(var C=b.ownerDocument,R=C.defaultView,S=b;S;)if(S.nodeType==1){var j=void 0,q=S==C.body;if(q)j=vV(R);else{if(S.scrollHeight<=S.clientHeight&&S.scrollWidth<=S.clientWidth){S=S.parentNode;continue}var Y=S.getBoundingClientRect();j={left:Y.left,right:Y.left+S.clientWidth,top:Y.top,bottom:Y.top+S.clientHeight}}var F=0,K=0;if(A=="nearest")w.top<j.top?(K=-(j.top-w.top+_),k>0&&w.bottom>j.bottom+K&&(K=w.bottom-j.bottom+K+_)):w.bottom>j.bottom&&(K=w.bottom-j.bottom+_,k<0&&w.top-K<j.top&&(K=-(j.top+K-w.top+_)));else{var D=w.bottom-w.top,I=j.bottom-j.top;K=(A=="center"&&D<=I?w.top+D/2-I/2:A=="start"||A=="center"&&k<0?w.top-_:w.bottom-I+_)-j.top}if($=="nearest"?w.left<j.left?(F=-(j.left-w.left+P),k>0&&w.right>j.right+F&&(F=w.right-j.right+F+P)):w.right>j.right&&(F=w.right-j.right+P,k<0&&w.left<j.left+F&&(F=-(j.left+F-w.left+P))):F=($=="center"?w.left+(w.right-w.left)/2-(j.right-j.left)/2:$=="start"==T?w.left-P:w.right-(j.right-j.left)+P)-j.left,F||K)if(q)R.scrollBy(F,K);else{if(K){var W=S.scrollTop;S.scrollTop+=K,K=S.scrollTop-W}if(F){var H=S.scrollLeft;S.scrollLeft+=F,F=S.scrollLeft-H}w={left:w.left-F,top:w.top-K,right:w.right-F,bottom:w.bottom-K}}if(q)break;S=S.assignedSlot||S.parentNode,$=A="nearest"}else{if(S.nodeType!=11)break;S=S.host}})(this.view.scrollDOM,y,i.head<i.anchor?-1:1,r.x,r.y,r.xMargin,r.yMargin,this.view.textDirection==jn.LTR)}}}]),n}();function OV(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}var tS=function(t){De(n,ja);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).height=r,o}return ae(n,[{key:"toDOM",value:function(){var r=document.createElement("div");return this.updateDOM(r),r}},{key:"eq",value:function(r){return r.height==this.height}},{key:"updateDOM",value:function(r){return r.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}();function PT(t){var e=t.observer.selectionRange,n=e.focusNode&&TT(e.focusNode,e.focusOffset,0);if(!n)return null;var r=t.docView.nearest(n);if(!r)return null;if(r instanceof wi){for(var o=n;o.parentNode!=r.dom;)o=o.parentNode;for(var i=o.previousSibling;i&&!wr.get(i);)i=i.previousSibling;var s=i?wr.get(i).posAtEnd:r.posAtStart;return{from:s,to:s,node:o,text:n}}for(;;){var a=r.parent;if(!a)return null;if(a instanceof wi)break;r=a}var u=r.posAtStart;return{from:u,to:u+r.length,node:r.dom,text:n}}var AV=function(t){De(n,ja);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this)).top=r,s.text=o,s.topView=i,s}return ae(n,[{key:"eq",value:function(r){return this.top==r.top&&this.text==r.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return hT}}]),n}();function TT(t,e,n){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&n<=0)e=lh(t=t.childNodes[e-1]);else{if(!(t.nodeType==1&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}function EV(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var PV=function(){function t(){se(this,t),this.changes=[]}return ae(t,[{key:"compareRange",value:function(e,n){yg(e,n,this.changes)}},{key:"comparePoint",value:function(e,n){yg(e,n,this.changes)}}]),t}();function TV(t,e){for(var n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function MV(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function IV(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function bv(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function nS(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function rS(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function _g(t,e,n){for(var r,o,i,s,a,u,l,f,c=t.firstChild;c;c=c.nextSibling)for(var d=Pc(c),h=0;h<d.length;h++){var p=d[h];o&&bv(o,p)&&(p=nS(rS(p,o.bottom),o.top));var v=MV(e,p),g=IV(n,p);if(v==0&&g==0)return c.nodeType==3?oS(c,e,n):_g(c,e,n);(!r||s>g||s==g&&i>v)&&(r=c,o=p,i=v,s=g),v==0?n>p.bottom&&(!l||l.bottom<p.bottom)?(a=c,l=p):n<p.top&&(!f||f.top>p.top)&&(u=c,f=p):l&&bv(l,p)?l=rS(l,p.bottom):f&&bv(f,p)&&(f=nS(f,p.top))}if(l&&l.bottom>=n?(r=a,o=l):f&&f.top<=n&&(r=u,o=f),!r)return{node:t,offset:0};var m=Math.max(o.left,Math.min(o.right,e));return r.nodeType==3?oS(r,m,n):i||r.contentEditable!="true"?{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(o.left+o.right)/2?1:0)}:_g(r,m,n)}function oS(t,e,n){for(var r=t.nodeValue.length,o=-1,i=1e9,s=0,a=0;a<r;a++)for(var u=Tc(t,a,a+1).getClientRects(),l=0;l<u.length;l++){var f=u[l];if(f.top!=f.bottom){s||(s=e-f.left);var c=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&c<i){var d=e>=(f.left+f.right)/2,h=d;if(($t.chrome||$t.gecko)&&Tc(t,a).getBoundingClientRect().left==f.right&&(h=!d),c<=0)return{node:t,offset:a+(h?1:0)};o=a+(h?1:0),i=c}}}return{node:t,offset:o>-1?o:s>0?t.nodeValue.length:0}}function iS(t,e,n){var r,o,i=e.x,s=e.y,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,u=t.contentDOM.getBoundingClientRect(),l=u.top+t.viewState.paddingTop,f=t.viewState.docHeight,c=s-l;if(c<0)return 0;if(c>f)return t.state.doc.length;for(var d=t.defaultLineHeight/2,h=!1;(o=t.elementAtHeight(c)).type!=qn.Text;)for(;!((c=a>0?o.bottom+d:o.top-d)>=0&&c<=f);){if(h)return n?null:0;h=!0,a=-a}s=l+c;var p=o.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:sS(t,u,o,i,s);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:sS(t,u,o,i,s);var v=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:v,m=g.elementFromPoint(i,s);m&&!t.contentDOM.contains(m)&&(m=null),m||(i=Math.max(u.left+1,Math.min(u.right-1,i)),(m=g.elementFromPoint(i,s))&&!t.contentDOM.contains(m)&&(m=null));var y,b=-1;if(m&&((r=t.docView.nearest(m))===null||r===void 0?void 0:r.isEditable)!=0){if(v.caretPositionFromPoint){var w=v.caretPositionFromPoint(i,s);w&&(y=w.offsetNode,b=w.offset)}else if(v.caretRangeFromPoint){var k=v.caretRangeFromPoint(i,s);k&&(y=k.startContainer,b=k.startOffset,$t.safari&&NV(y,b,i)&&(y=void 0))}}if(!y||!t.docView.dom.contains(y)){var $=wi.find(t.docView,p);if(!$)return c>o.top+o.height/2?o.to:o.from;var A=_g($.dom,i,s);y=A.node,b=A.offset}return t.docView.posFromDOM(y,b)}function sS(t,e,n,r,o){var i=Math.round((r-e.left)*t.defaultCharacterWidth);t.lineWrapping&&n.height>1.5*t.defaultLineHeight&&(i+=Math.floor((o-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength);var s=t.state.sliceDoc(n.from,n.to);return n.from+Gm(s,i,t.state.tabSize)}function NV(t,e,n){var r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(var o=t.nextSibling;o;o=o.nextSibling)if(o.nodeType!=1||o.nodeName!="BR")return!1;return Tc(t,r-1,r).getBoundingClientRect().left>n}function LV(t,e,n,r){var o=t.state.doc.lineAt(e.head),i=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head):null;if(i){var s=t.dom.getBoundingClientRect(),a=t.posAtCoords({x:n==(t.textDirection==jn.LTR)?s.right-1:s.left+1,y:(i.top+i.bottom)/2});if(a!=null)return Ke.cursor(a,n?-1:1)}var u=wi.find(t.docView,e.head),l=u?n?u.posAtEnd:u.posAtStart:n?o.to:o.from;return Ke.cursor(l,n?-1:1)}function aS(t,e,n,r){for(var o=t.state.doc.lineAt(e.head),i=t.bidiSpans(o),s=e,a=null;;){var u=$V(o,i,t.textDirection,s,n),l=AT;if(!u){if(o.number==(n?t.state.doc.lines:1))return s;l=`
`,o=t.state.doc.line(o.number+(n?1:-1)),i=t.bidiSpans(o),u=Ke.cursor(n?o.from:o.to)}if(a){if(!a(l))return s}else{if(!r)return u;a=r(l)}s=u}}function wv(t,e,n){for(var r=t.pluginField(vo.atomicRanges);;){var o,i=!1,s=he(r);try{for(s.s();!(o=s.n()).done;)o.value.between(n.from-1,n.from+1,function(a,u,l){n.from>a&&n.from<u&&(n=e.from>n.from?Ke.cursor(a,1):Ke.cursor(u,-1),i=!0)})}catch(a){s.e(a)}finally{s.f()}if(!i)return n}}var RV=function(){function t(e){var n=this;se(this,t),this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;var r=function(i){var s=_r[i];e.contentDOM.addEventListener(i,function(a){uS(e,a)&&!n.ignoreDuringComposition(a)&&(i=="keydown"&&n.keydown(e,a)||(n.mustFlushObserver(a)&&e.observer.forceFlush(),n.runCustomHandlers(i,e,a)?a.preventDefault():s(e,a)))}),n.registeredEvents.push(i)};for(var o in _r)r(o);this.notifiedFocused=e.hasFocus,this.ensureHandlers(e),$t.safari&&e.contentDOM.addEventListener("input",function(){return null})}return ae(t,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e){var n,r=this,o=he(this.customHandlers=e.pluginField(CT));try{for(o.s();!(n=o.n()).done;){var i=n.value,s=function(u){r.registeredEvents.indexOf(u)<0&&u!="scroll"&&(r.registeredEvents.push(u),e.contentDOM.addEventListener(u,function(l){uS(e,l)&&r.runCustomHandlers(u,e,l)&&l.preventDefault()}))};for(var a in i.handlers)s(a)}}catch(u){o.e(u)}finally{o.f()}}},{key:"runCustomHandlers",value:function(e,n,r){var o,i=he(this.customHandlers);try{for(i.s();!(o=i.n()).done;){var s=o.value,a=s.handlers[e];if(a)try{if(a.call(s.plugin,r,n)||r.defaultPrevented)return!0}catch(u){No(n.state,u)}}}catch(u){i.e(u)}finally{i.f()}return!1}},{key:"runScrollHandlers",value:function(e,n){var r,o=he(this.customHandlers);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.handlers.scroll;if(s)try{s.call(i.plugin,n,e)}catch(a){No(e.state,a)}}}catch(a){o.e(a)}finally{o.f()}}},{key:"keydown",value:function(e,n){var r,o=this;return this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3||(!$t.android||!$t.chrome||n.synthetic||n.keyCode!=13&&n.keyCode!=8?!(!$t.ios||!(r=MT.find(function(i){return i.keyCode==n.keyCode}))||n.ctrlKey||n.altKey||n.metaKey||n.synthetic)&&(this.pendingIOSKey=r,setTimeout(function(){return o.flushIOSKey(e)},250),!0):(e.observer.delayAndroidKey(n.key,n.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var n=this.pendingIOSKey;return!!n&&(this.pendingIOSKey=void 0,lc(e.contentDOM,n.key,n.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!($t.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!$t.ios}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),t}(),MT=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],IT=[16,17,18,20,91,92,224,225],DV=function(){function t(e,n,r,o){se(this,t),this.view=e,this.style=r,this.mustSelect=o,this.lastEvent=n;var i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(tr.allowMultipleSelections)&&function(s,a){var u=s.state.facet(wT);return u.length?u[0](a):$t.mac?a.metaKey:a.ctrlKey}(e,n),this.dragMove=function(s,a){var u=s.state.facet(kT);return u.length?u[0](a):$t.mac?!a.altKey:!a.ctrlKey}(e,n),this.dragging=!(!function(s,a){if(s.state.selection.main.empty)return!1;var u=ah(s.root);if(u.rangeCount==0)return!0;for(var l=u.getRangeAt(0).getClientRects(),f=0;f<l.length;f++){var c=l[f];if(c.left<=a.clientX&&c.right>=a.clientX&&c.top<=a.clientY&&c.bottom>=a.clientY)return!0}return!1}(e,n)||Sg(n)!=1)&&null,this.dragging===!1&&(n.preventDefault(),this.select(n))}return ae(t,[{key:"move",value:function(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}},{key:"up",value:function(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"select",value:function(e){var n=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&n.eq(this.view.state.selection)&&n.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:n,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}},{key:"update",value:function(e){var n=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(function(){return n.select(n.lastEvent)},20)}}]),t}();function uS(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=wr.get(r))&&n.ignoreEvent(e))return!1;return!0}var _r=Object.create(null),NT=$t.ie&&$t.ie_version<15||$t.ios&&$t.webkit_version<604;function lS(t,e){var n,r=t.state,o=1,i=r.toText(e),s=i.lines==r.selection.ranges.length;if(Cg!=null&&r.selection.ranges.every(function(u){return u.empty})&&Cg==i.toString()){var a=-1;n=r.changeByRange(function(u){var l=r.doc.lineAt(u.from);if(l.from==a)return{range:u};a=l.from;var f=r.toText((s?i.line(o++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:f},range:Ke.cursor(u.from+f.length)}})}else n=s?r.changeByRange(function(u){var l=i.line(o++);return{changes:{from:u.from,to:u.to,insert:l.text},range:Ke.cursor(u.from+l.length)}}):r.replaceSelection(i);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}_r.keydown=function(t,e){t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():IT.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};var cS=0;function fS(t,e,n,r){if(r==1)return Ke.cursor(e,n);if(r==2)return function(u,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=u.charCategorizer(l),d=u.doc.lineAt(l),h=l-d.from;if(d.length==0)return Ke.cursor(l);h==0?f=1:h==d.length&&(f=-1);var p=h,v=h;f<0?p=To(d.text,h,!1):v=To(d.text,h);for(var g=c(d.text.slice(p,v));p>0;){var m=To(d.text,p,!1);if(c(d.text.slice(m,p))!=g)break;p=m}for(;v<d.length;){var y=To(d.text,v);if(c(d.text.slice(v,y))!=g)break;v=y}return Ke.range(p+d.from,v+d.from)}(t.state,e,n);var o=wi.find(t.docView,e),i=t.state.doc.lineAt(o?o.posAtEnd:e),s=o?o.posAtStart:i.from,a=o?o.posAtEnd:i.to;return a<t.state.doc.length&&a==i.to&&a++,Ke.range(s,a)}_r.touchstart=function(t,e){cS=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},_r.touchmove=function(t){t.inputState.setSelectionOrigin("select.pointer")},_r.mousedown=function(t,e){if(t.observer.flush(),!(cS>Date.now()-2e3&&Sg(e)==1)){var n,r=null,o=he(t.state.facet(xT));try{for(o.s();!(n=o.n()).done&&!(r=(0,n.value)(t,e)););}catch(s){o.e(s)}finally{o.f()}if(r||e.button!=0||(r=function(s,a){var u=hS(s,a),l=Sg(a),f=s.state.selection,c=u,d=a;return{update:function(h){h.docChanged&&(u&&(u.pos=h.changes.mapPos(u.pos)),f=f.map(h.changes),d=null)},get:function(h,p,v){var g;if(d&&h.clientX==d.clientX&&h.clientY==d.clientY?g=c:(g=c=hS(s,h),d=h),!g||!u)return f;var m=fS(s,g.pos,g.bias,l);if(u.pos!=g.pos&&!p){var y=fS(s,u.pos,u.bias,l),b=Math.min(y.from,m.from),w=Math.max(y.to,m.to);m=b<m.from?Ke.range(b,w):Ke.range(w,b)}return p?f.replaceRange(f.main.extend(m.from,m.to)):v?f.addRange(m):Ke.create([m])}}}(t,e)),r){var i=t.root.activeElement!=t.contentDOM;i&&t.observer.ignore(function(){return sT(t.contentDOM)}),t.inputState.startMouseSelection(new DV(t,e,r,i))}}};var LT=function(t,e){return t>=e.top&&t<=e.bottom},dS=function(t,e,n){return LT(e,n)&&t>=n.left&&t<=n.right};function BV(t,e,n,r){var o=wi.find(t.docView,e);if(!o)return 1;var i=e-o.posAtStart;if(i==0)return 1;if(i==o.length)return-1;var s=o.coordsAt(i,-1);if(s&&dS(n,r,s))return-1;var a=o.coordsAt(i,1);return a&&dS(n,r,a)?1:s&&LT(r,s)?-1:1}function hS(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:BV(t,n,e.clientX,e.clientY)}}var zV=$t.ie&&$t.ie_version<=11,pS=null,vS=0,mS=0;function Sg(t){if(!zV)return t.detail;var e=pS,n=mS;return pS=t,mS=Date.now(),vS=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(vS+1)%3:1}function gS(t,e,n,r){if(n){var o=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();var i=t.inputState.mouseSelection,s=r&&i&&i.dragging&&i.dragMove?{from:i.dragging.from,to:i.dragging.to}:null,a={from:o,insert:n},u=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(o,-1),head:u.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"})}}_r.dragstart=function(t,e){var n=t.state.selection.main,r=t.inputState.mouseSelection;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},_r.drop=function(t,e){if(e.dataTransfer){if(t.state.readOnly)return e.preventDefault();var n=e.dataTransfer.files;n&&n.length?function(){e.preventDefault();for(var r=Array(n.length),o=0,i=function(){++o==n.length&&gS(t,e,r.filter(function(u){return u!=null}).join(t.state.lineBreak),!1)},s=function(u){var l=new FileReader;l.onerror=i,l.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[u]=l.result),i()},l.readAsText(n[u])},a=0;a<n.length;a++)s(a)}():gS(t,e,e.dataTransfer.getData("Text"),!0)}},_r.paste=function(t,e){if(t.state.readOnly)return e.preventDefault();t.observer.flush();var n=NT?null:e.clipboardData;n?(lS(t,n.getData("text/plain")),e.preventDefault()):function(r){var o=r.dom.parentNode;if(o){var i=o.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(function(){r.focus(),i.remove(),lS(r,i.value)},50)}}(t)};var Cg=null;function yS(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}_r.copy=_r.cut=function(t,e){var n=function(a){var u,l=[],f=[],c=!1,d=he(a.selection.ranges);try{for(d.s();!(u=d.n()).done;){var h=u.value;h.empty||(l.push(a.sliceDoc(h.from,h.to)),f.push(h))}}catch(b){d.e(b)}finally{d.f()}if(!l.length){var p,v=-1,g=he(a.selection.ranges);try{for(g.s();!(p=g.n()).done;){var m=p.value.from,y=a.doc.lineAt(m);y.number>v&&(l.push(y.text),f.push({from:y.from,to:Math.min(a.doc.length,y.to+1)})),v=y.number}}catch(b){g.e(b)}finally{g.f()}c=!0}return{text:l.join(a.lineBreak),ranges:f,linewise:c}}(t.state),r=n.text,o=n.ranges,i=n.linewise;if(r||i){Cg=i?r:null;var s=NT?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",r)):function(a,u){var l=a.dom.parentNode;if(l){var f=l.appendChild(document.createElement("textarea"));f.style.cssText="position: fixed; left: -10000px; top: 10px",f.value=u,f.focus(),f.selectionEnd=u.length,f.selectionStart=0,setTimeout(function(){f.remove(),a.focus()},50)}}(t,r),e.type!="cut"||t.state.readOnly||t.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"})}},_r.focus=_r.blur=function(t){setTimeout(function(){t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)},_r.compositionstart=_r.compositionupdate=function(t){t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),yS(t,!0)))},_r.compositionend=function(t){t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout(function(){t.inputState.composing<0&&yS(t,!1)},50)},_r.contextmenu=function(t){t.inputState.lastContextMenu=Date.now()},_r.beforeinput=function(t,e){var n,r;if($t.chrome&&$t.android&&(r=MT.find(function(i){return i.inputType==e.inputType}))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){var o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(function(){var i;(((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};var bS=["pre-wrap","normal","pre-line","break-spaces"],FV=function(){function t(){se(this,t),this.doc=Fn.empty,this.lineWrapping=!1,this.direction=jn.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return ae(t,[{key:"heightForGap",value:function(e,n){var r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForStyle",value:function(e,n){return bS.indexOf(e)>-1!=this.lineWrapping||this.direction!=n}},{key:"mustRefreshForHeights",value:function(e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];o<0?r++:this.heightSamples[Math.floor(10*o)]||(n=!0,this.heightSamples[Math.floor(10*o)]=!0)}return n}},{key:"refresh",value:function(e,n,r,o,i,s){var a=bS.indexOf(e)>-1,u=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=a||this.direction!=n;if(this.lineWrapping=a,this.direction=n,this.lineHeight=r,this.charWidth=o,this.lineLength=i,u){this.heightSamples={};for(var l=0;l<s.length;l++){var f=s[l];f<0?l++:this.heightSamples[Math.floor(10*f)]=!0}}return u}}]),t}(),qV=function(){function t(e,n){se(this,t),this.from=e,this.heights=n,this.index=0}return ae(t,[{key:"more",get:function(){return this.index<this.heights.length}}]),t}(),Tu=function(){function t(e,n,r,o,i){se(this,t),this.from=e,this.length=n,this.top=r,this.height=o,this.type=i}return ae(t,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(e){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,n)}},{key:"moveY",value:function(e){return e?new t(this.from,this.length,this.top+e,this.height,Array.isArray(this.type)?this.type.map(function(n){return n.moveY(e)}):this.type):this}}]),t}(),Hn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Hn||(Hn={})),es=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;se(this,t),this.length=e,this.height=n,this.flags=r}return ae(t,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,n){this.height!=n&&(Math.abs(this.height-n)>.001&&(e.heightChanged=!0),this.height=n)}},{key:"replace",value:function(e,n,r){return t.of(r)}},{key:"decomposeLeft",value:function(e,n){n.push(this)}},{key:"decomposeRight",value:function(e,n){n.push(this)}},{key:"applyChanges",value:function(e,n,r,o){for(var i=this,s=o.length-1;s>=0;s--){var a=o[s],u=a.fromA,l=a.toA,f=a.fromB,c=a.toB,d=i.lineAt(u,Hn.ByPosNoHeight,n,0,0),h=d.to>=l?d:i.lineAt(l,Hn.ByPosNoHeight,n,0,0);for(c+=h.to-l,l=h.to;s>0&&d.from<=o[s-1].toA;)u=o[s-1].fromA,f=o[s-1].fromB,s--,u<d.from&&(d=i.lineAt(u,Hn.ByPosNoHeight,n,0,0));f+=d.from-u,u=d.from;var p=HV.build(r,e,f,c);i=i.replace(u,l,p)}return i.updateHeight(r,0)}}],[{key:"empty",value:function(){return new zi(0,0)}},{key:"of",value:function(e){if(e.length==1)return e[0];for(var n=0,r=e.length,o=0,i=0;;)if(n==r)if(o>2*i){var s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,o-=s.size}else{if(!(i>2*o))break;var a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,i-=a.size}else if(o<i){var u=e[n++];u&&(o+=u.size)}else{var l=e[--r];l&&(i+=l.size)}var f=0;return e[n-1]==null?(f=1,n--):e[n]==null&&(f=1,r++),new VV(t.of(e.slice(0,n)),f,t.of(e.slice(r)))}}]),t}();es.prototype.size=1;var RT=function(t){De(n,es);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this,r,o)).type=i,s}return ae(n,[{key:"blockAt",value:function(r,o,i,s){return new Tu(s,this.length,i,this.height,this.type)}},{key:"lineAt",value:function(r,o,i,s,a){return this.blockAt(0,i,s,a)}},{key:"forEachLine",value:function(r,o,i,s,a,u){u(this.blockAt(0,i,s,a))}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;return i&&i.from<=o&&i.more&&this.setHeight(r,i.heights[i.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(),zi=function(t){De(n,RT);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this,r,o,qn.Text)).collapsed=0,i.widgetHeight=0,i}return ae(n,[{key:"replace",value:function(r,o,i){var s=i[0];return i.length==1&&(s instanceof n||s instanceof zu&&4&s.flags)&&Math.abs(this.length-s.length)<10?(s instanceof zu?s=new n(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):es.of(i)}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return s&&s.from<=o&&s.more?this.setHeight(r,s.heights[s.index++]):(i||this.outdated)&&this.setHeight(r,Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(),zu=function(t){De(n,es);var e=Be(n);function n(r){return se(this,n),e.call(this,r,0)}return ae(n,[{key:"lines",value:function(r,o){var i=r.lineAt(o).number,s=r.lineAt(o+this.length).number;return{firstLine:i,lastLine:s,lineHeight:this.height/(s-i+1)}}},{key:"blockAt",value:function(r,o,i,s){var a=this.lines(o,s),u=a.firstLine,l=a.lastLine,f=a.lineHeight,c=Math.max(0,Math.min(l-u,Math.floor((r-i)/f))),d=o.line(u+c),h=d.from,p=d.length;return new Tu(h,p,i+f*c,f,qn.Text)}},{key:"lineAt",value:function(r,o,i,s,a){if(o==Hn.ByHeight)return this.blockAt(r,i,s,a);if(o==Hn.ByPosNoHeight){var u=i.lineAt(r),l=u.from,f=u.to;return new Tu(l,f-l,0,0,qn.Text)}var c=this.lines(i,a),d=c.firstLine,h=c.lineHeight,p=i.lineAt(r),v=p.from,g=p.length,m=p.number;return new Tu(v,g,s+h*(m-d),h,qn.Text)}},{key:"forEachLine",value:function(r,o,i,s,a,u){for(var l=this.lines(i,a),f=l.firstLine,c=l.lineHeight,d=Math.max(r,a),h=Math.min(a+this.length,o);d<=h;){var p=i.lineAt(d);d==r&&(s+=c*(p.number-f)),u(new Tu(p.from,p.length,s,c,qn.Text)),s+=c,d=p.to+1}}},{key:"replace",value:function(r,o,i){var s=this.length-o;if(s>0){var a=i[i.length-1];a instanceof n?i[i.length-1]=new n(a.length+s):i.push(null,new n(s-1))}if(r>0){var u=i[0];u instanceof n?i[0]=new n(r+u.length):i.unshift(new n(r-1),null)}return es.of(i)}},{key:"decomposeLeft",value:function(r,o){o.push(new n(r-1),null)}},{key:"decomposeRight",value:function(r,o){o.push(null,new n(this.length-r-1))}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0,a=o+this.length;if(s&&s.from<=o+this.length&&s.more){var u=[],l=Math.max(o,s.from),f=-1,c=r.heightChanged;for(s.from>o&&u.push(new n(s.from-o-1).updateHeight(r,o));l<=a&&s.more;){var d=r.doc.lineAt(l).length;u.length&&u.push(null);var h=s.heights[s.index++];f==-1?f=h:Math.abs(h-f)>=.001&&(f=-2);var p=new zi(d,h);p.outdated=!1,u.push(p),l+=d+1}l<=a&&u.push(null,new n(a-l).updateHeight(r,l));var v=es.of(u);return r.heightChanged=c||f<0||Math.abs(v.height-this.height)>=.001||Math.abs(f-this.lines(r.doc,o).lineHeight)>=.001,v}return(i||this.outdated)&&(this.setHeight(r,r.heightForGap(o,o+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(),VV=function(t){De(n,es);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this,r.length+o+i.length,r.height+i.height,o|(r.outdated||i.outdated?2:0))).left=r,s.right=i,s.size=r.size+i.size,s}return ae(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(r,o,i,s){var a=i+this.left.height;return r<a?this.left.blockAt(r,o,i,s):this.right.blockAt(r,o,a,s+this.left.length+this.break)}},{key:"lineAt",value:function(r,o,i,s,a){var u=s+this.left.height,l=a+this.left.length+this.break,f=o==Hn.ByHeight?r<u:r<l,c=f?this.left.lineAt(r,o,i,s,a):this.right.lineAt(r,o,i,u,l);if(this.break||(f?c.to<l:c.from>l))return c;var d=o==Hn.ByPosNoHeight?Hn.ByPosNoHeight:Hn.ByPos;return f?c.join(this.right.lineAt(l,d,i,u,l)):this.left.lineAt(l,d,i,s,a).join(c)}},{key:"forEachLine",value:function(r,o,i,s,a,u){var l=s+this.left.height,f=a+this.left.length+this.break;if(this.break)r<f&&this.left.forEachLine(r,o,i,s,a,u),o>=f&&this.right.forEachLine(r,o,i,l,f,u);else{var c=this.lineAt(f,Hn.ByPos,i,s,a);r<c.from&&this.left.forEachLine(r,c.from-1,i,s,a,u),c.to>=r&&c.from<=o&&u(c),o>c.to&&this.right.forEachLine(c.to+1,o,i,l,f,u)}}},{key:"replace",value:function(r,o,i){var s=this.left.length+this.break;if(o<s)return this.balanced(this.left.replace(r,o,i),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-s,o-s,i));var a=[];r>0&&this.decomposeLeft(r,a);var u,l=a.length,f=he(i);try{for(f.s();!(u=f.n()).done;){var c=u.value;a.push(c)}}catch(h){f.e(h)}finally{f.f()}if(r>0&&wS(a,l-1),o<this.length){var d=a.length;this.decomposeRight(o,a),wS(a,d)}return es.of(a)}},{key:"decomposeLeft",value:function(r,o){var i=this.left.length;if(r<=i)return this.left.decomposeLeft(r,o);o.push(this.left),this.break&&r>=++i&&o.push(null),r>i&&this.right.decomposeLeft(r-i,o)}},{key:"decomposeRight",value:function(r,o){var i=this.left.length,s=i+this.break;if(r>=s)return this.right.decomposeRight(r-s,o);r<i&&this.left.decomposeRight(r,o),this.break&&r<s&&o.push(null),o.push(this.right)}},{key:"balanced",value:function(r,o){return r.size>2*o.size||o.size>2*r.size?es.of(this.break?[r,null,o]:[r,o]):(this.left=r,this.right=o,this.height=r.height+o.height,this.outdated=r.outdated||o.outdated,this.size=r.size+o.size,this.length=r.length+this.break+o.length,this)}},{key:"updateHeight",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0,a=this.left,u=this.right,l=o+a.length+this.break,f=null;return s&&s.from<=o+a.length&&s.more?f=a=a.updateHeight(r,o,i,s):a.updateHeight(r,o,i),s&&s.from<=l+u.length&&s.more?f=u=u.updateHeight(r,l,i,s):u.updateHeight(r,l,i),f?this.balanced(a,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}();function wS(t,e){var n,r;t[e]==null&&(n=t[e-1])instanceof zu&&(r=t[e+1])instanceof zu&&t.splice(e-1,3,new zu(n.length+1+r.length))}var HV=function(){function t(e,n){se(this,t),this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}return ae(t,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,n){if(this.lineStart>-1){var r=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof zi?o.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new zi(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}},{key:"point",value:function(e,n,r){if(e<n||r.heightRelevant){var o=r.widget?r.widget.estimatedHeight:0;o<0&&(o=this.oracle.lineHeight);var i=n-e;r.block?this.addBlock(new RT(i,o,r.type)):(i||o>=5)&&this.addLineDeco(o,i)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),n=e.from,r=e.to;this.lineStart=n,this.lineEnd=r,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new zi(this.pos-n,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,n){var r=new zu(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof zi)return e;var n=new zi(0,-1);return this.nodes.push(n),n}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=qn.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=qn.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,n){var r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}},{key:"finish",value:function(e){var n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||n instanceof zi||this.isCovered?(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new zi(0,-1));var r,o=e,i=he(this.nodes);try{for(i.s();!(r=i.n()).done;){var s=r.value;s instanceof zi&&s.updateHeight(this.oracle,o),o+=s?s.length:1}}catch(a){i.e(a)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(e,n,r,o){var i=new t(r,e);return Un.spans(n,r,o,i,0),i.finish(r)}}]),t}();function WV(t,e,n){var r=new UV;return Un.compare(t,e,n,r,0),r.changes}var UV=function(){function t(){se(this,t),this.changes=[]}return ae(t,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,n,r,o){(e<n||r&&r.heightRelevant||o&&o.heightRelevant)&&yg(e,n,this.changes,5)}}]),t}();function JV(t,e){for(var n=t.getBoundingClientRect(),r=Math.max(0,n.left),o=Math.min(innerWidth,n.right),i=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=t.ownerDocument.body,u=t.parentNode;u&&u!=a;)if(u.nodeType==1){var l=u,f=window.getComputedStyle(l);if((l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth)&&f.overflow!="visible"){var c=l.getBoundingClientRect();r=Math.max(r,c.left),o=Math.min(o,c.right),i=Math.max(i,c.top),s=Math.min(s,c.bottom)}u=f.position=="absolute"||f.position=="fixed"?l.offsetParent:l.parentNode}else{if(u.nodeType!=11)break;u=u.host}return{left:r-n.left,right:Math.max(r,o)-n.left,top:i-(n.top+e),bottom:Math.max(i,s)-(n.top+e)}}function KV(t,e){var n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}var kv=function(){function t(e,n,r){se(this,t),this.from=e,this.to=n,this.size=r}return ae(t,[{key:"draw",value:function(e){return Pt.replace({widget:new GV(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,n){if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++){var o=e[r],i=n[r];if(o.from!=i.from||o.to!=i.to||o.size!=i.size)return!1}return!0}}]),t}(),GV=function(t){De(n,ja);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this)).size=r,i.vertical=o,i}return ae(n,[{key:"eq",value:function(r){return r.size==this.size&&r.vertical==this.vertical}},{key:"toDOM",value:function(){var r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(),kS=function(){function t(e){se(this,t),this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new FV,this.scaler=_S,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=es.empty().applyChanges(e.facet(za),Fn.empty,this.heightOracle.setDoc(e.doc),[new Nc(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pt.set(this.lineGaps.map(function(n){return n.draw(!1)})),this.computeVisibleRanges()}return ae(t,[{key:"updateForViewport",value:function(){for(var e=this,n=[this.viewport],r=this.state.selection.main,o=function(s){var a=s?r.head:r.anchor;if(!n.some(function(c){var d=c.from,h=c.to;return a>=d&&a<=h})){var u=e.lineBlockAt(a),l=u.from,f=u.to;n.push(new Gf(l,f))}},i=0;i<=1;i++)o(i);this.viewports=n.sort(function(s,a){return s.from-a.from}),this.scaler=this.heightMap.height<=7e6?_S:new QV(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(n){e.viewportLines.push(e.scaler.scale==1?n:Jl(n,e.scaler))})}},{key:"update",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.state;this.state=e.state;var o=this.state.facet(za),i=e.changedRanges,s=Nc.extendWithRanges(i,WV(e.startState.facet(za),o,e?e.changes:Ai.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(o,r.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);var u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));var l=!e.changes.empty||2&e.flags||u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var n=e.contentDOM,r=window.getComputedStyle(n),o=this.heightOracle,i=r.whiteSpace,s=r.direction=="rtl"?jn.RTL:jn.LTR,a=this.heightOracle.mustRefreshForStyle(i,s),u=a||this.mustMeasureContent||this.contentDOMHeight!=n.clientHeight,l=0,f=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),u){this.mustMeasureContent=!1,this.contentDOMHeight=n.clientHeight;var c=parseInt(r.paddingTop)||0,d=parseInt(r.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==d||(l|=8,this.paddingTop=c,this.paddingBottom=d)}var h=(this.printing?KV:JV)(n,this.paddingTop),p=h.top-this.pixelViewport.top,v=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;var g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(u=!0)),!this.inView)return 0;var m=n.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,l|=8),u){var y=e.docView.measureVisibleLineHeights();if(o.mustRefreshForHeights(y)&&(a=!0),a||o.lineWrapping&&Math.abs(m-this.contentDOMWidth)>o.charWidth){var b=e.docView.measureTextSize(),w=b.lineHeight,k=b.charWidth;(a=o.refresh(i,s,w,k,m/k,y))&&(e.docView.minWidth=0,l|=8)}p>0&&v>0?f=Math.max(p,v):p<0&&v<0&&(f=Math.min(p,v)),o.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(o,0,a,new qV(this.viewport.from,y)),o.heightChanged&&(l|=2)}var $=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(2&l||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,n){var r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,i=this.state.doc,s=this.visibleTop,a=this.visibleBottom,u=new Gf(o.lineAt(s-1e3*r,Hn.ByHeight,i,0,0).from,o.lineAt(a+1e3*(1-r),Hn.ByHeight,i,0,0).to);if(n){var l=n.range.head;if(l<u.from||l>u.to){var f,c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=o.lineAt(l,Hn.ByPos,i,0,0);f=n.y=="center"?(d.top+d.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&l<u.from?d.top:d.bottom-c,u=new Gf(o.lineAt(f-500,Hn.ByHeight,i,0,0).from,o.lineAt(f+c+500,Hn.ByHeight,i,0,0).to)}}return u}},{key:"mapViewport",value:function(e,n){var r=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new Gf(this.heightMap.lineAt(r,Hn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(o,Hn.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var n=e.from,r=e.to,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(n,Hn.ByPos,this.state.doc,0,0),s=i.top,a=this.heightMap.lineAt(r,Hn.ByPos,this.state.doc,0,0),u=a.bottom,l=this.visibleTop,f=this.visibleBottom;return(n==0||s<=l-Math.max(10,Math.min(-o,250)))&&(r==this.state.doc.length||u>=f+Math.max(10,Math.min(o,250)))&&s>l-2e3&&u<f+2e3}},{key:"mapLineGaps",value:function(e,n){if(!e.length||n.empty)return e;var r,o=[],i=he(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;n.touchesRange(s.from,s.to)||o.push(new kv(n.mapPos(s.from),n.mapPos(s.to),s.size))}}catch(a){i.e(a)}finally{i.f()}return o}},{key:"ensureLineGaps",value:function(e){var n=this,r=[];if(this.heightOracle.direction!=jn.LTR)return r;var o,i=he(this.viewportLines);try{var s=function(){var a=o.value;if(a.length<4e3)return"continue";var u=function(b,w,k){var $=[],A=b,P=0;return Un.spans(k.facet(za),b,w,{span:function(){},point:function(_,T){_>A&&($.push({from:A,to:_}),P+=_-A),A=T}},20),A<w&&($.push({from:A,to:w}),P+=w-A),{total:P,ranges:$}}(a.from,a.to,n.state);if(u.total<4e3)return"continue";var l=void 0,f=void 0;if(n.heightOracle.lineWrapping){var c=2e3/n.heightOracle.lineLength*n.heightOracle.lineHeight;l=Qf(u,(n.visibleTop-a.top-c)/a.height),f=Qf(u,(n.visibleBottom-a.top+c)/a.height)}else{var d=u.total*n.heightOracle.charWidth,h=2e3*n.heightOracle.charWidth;l=Qf(u,(n.pixelViewport.left-h)/d),f=Qf(u,(n.pixelViewport.right+h)/d)}var p=[];l>a.from&&p.push({from:a.from,to:l}),f<a.to&&p.push({from:f,to:a.to});var v=n.state.selection.main;v.from>=a.from&&v.from<=a.to&&jS(p,v.from-10,v.from+10),!v.empty&&v.to>=a.from&&v.to<=a.to&&jS(p,v.to-10,v.to+10);for(var g=function(){var b=y[m],w=b.from,k=b.to;k-w>1e3&&r.push(function($,A){var P,_=he($);try{for(_.s();!(P=_.n()).done;){var T=P.value;if(A(T))return T}}catch(C){_.e(C)}finally{_.f()}}(e,function($){return $.from>=a.from&&$.to<=a.to&&Math.abs($.from-w)<1e3&&Math.abs($.to-k)<1e3})||new kv(w,k,n.gapSize(a,w,k,u)))},m=0,y=p;m<y.length;m++)g()};for(i.s();!(o=i.n()).done;)s()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"gapSize",value:function(e,n,r,o){var i=xS(o,r)-xS(o,n);return this.heightOracle.lineWrapping?e.height*i:o.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var n=this;kv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Pt.set(e.map(function(r){return r.draw(n.heightOracle.lineWrapping)})))}},{key:"computeVisibleRanges",value:function(){var e=this.state.facet(za);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var n=[];Un.spans(e,this.viewport.from,this.viewport.to,{span:function(o,i){n.push({from:o,to:i})},point:function(){}},20);var r=n.length!=this.visibleRanges.length||this.visibleRanges.some(function(o,i){return o.from!=n[i].from||o.to!=n[i].to});return this.visibleRanges=n,r?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(function(n){return n.from<=e&&n.to>=e})||Jl(this.heightMap.lineAt(e,Hn.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return Jl(this.heightMap.lineAt(this.scaler.fromDOM(e),Hn.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return Jl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),t}(),Gf=ae(function t(e,n){se(this,t),this.from=e,this.to=n});function Qf(t,e){var n=t.total,r=t.ranges;if(e<=0)return r[0].from;if(e>=1)return r[r.length-1].to;for(var o=Math.floor(n*e),i=0;;i++){var s=r[i],a=s.from,u=s.to-a;if(o<=u)return a+o;o-=u}}function xS(t,e){var n,r=0,o=he(t.ranges);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=i.from,a=i.to;if(e<=a){r+=e-s;break}r+=a-s}}catch(u){o.e(u)}finally{o.f()}return r/t.total}function jS(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];if(o.from<n&&o.to>e){var i=[];o.from<e&&i.push({from:o.from,to:e}),o.to>n&&i.push({from:n,to:o.to}),t.splice.apply(t,[r,1].concat(i)),r+=i.length-1}}}var _S={toDOM:function(t){return t},fromDOM:function(t){return t},scale:1},QV=function(){function t(e,n,r){se(this,t);var o=0,i=0,s=0;this.viewports=r.map(function(f){var c=f.from,d=f.to,h=n.lineAt(c,Hn.ByPos,e,0,0).top,p=n.lineAt(d,Hn.ByPos,e,0,0).bottom;return o+=p-h,{from:c,to:d,top:h,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);var a,u=he(this.viewports);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.domTop=s+(l.top-i)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),i=l.bottom}}catch(f){u.e(f)}finally{u.f()}}return ae(t,[{key:"toDOM",value:function(e){for(var n=0,r=0,o=0;;n++){var i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return o+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,o=i.domBottom}}},{key:"fromDOM",value:function(e){for(var n=0,r=0,o=0;;n++){var i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-o)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,o=i.domBottom}}}]),t}();function Jl(t,e){if(e.scale==1)return t;var n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Tu(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(function(o){return Jl(o,e)}):t.type)}var Yf=Ct.define({combine:function(t){return t.join(" ")}}),$g=Ct.define({combine:function(t){return t.indexOf(!0)>-1}}),Og=ha.newName(),DT=ha.newName(),BT=ha.newName(),zT={"&light":"."+DT,"&dark":"."+BT};function Ag(t,e,n){return new ha(e,{finish:function(r){return/&/.test(r)?r.replace(/&\w*/,function(o){if(o=="&")return t;if(!n||!n[o])throw new RangeError("Unsupported selector: ".concat(o));return n[o]}):t+" "+r}})}var YV=Ag("."+Og,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},zT),XV={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},xv=$t.ie&&$t.ie_version<=11,ZV=function(){function t(e,n,r){var o=this;se(this,t),this.view=e,this.onChange=n,this.onScrollChanged=r,this.active=!1,this.selectionRange=new mV,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(function(i){var s,a=he(i);try{for(a.s();!(s=a.n()).done;){var u=s.value;o.queue.push(u)}}catch(l){a.e(l)}finally{a.f()}($t.ie&&$t.ie_version<=11||$t.ios&&e.composing)&&i.some(function(l){return l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length})?o.flushSoon():o.flush()}),xv&&(this.onCharData=function(i){o.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),o.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(function(){o.view.docView.lastUpdate<Date.now()-75&&o.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(function(i){o.parentCheck<0&&(o.parentCheck=setTimeout(o.listenForScroll.bind(o),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=o.intersecting&&(o.intersecting=!o.intersecting,o.intersecting!=o.view.inView&&o.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(function(i){i.length>0&&i[i.length-1].intersectionRatio>0&&o.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}return ae(t,[{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(function(){e.resizeTimeout=-1,e.view.requestMeasure()},50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout(function(){e.view.viewState.printing=!1,e.view.requestMeasure()},500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(function(i,s){return i!=e[s]}))){this.gapIntersection.disconnect();var n,r=he(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.gapIntersection.observe(o)}}catch(i){r.e(i)}finally{r.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(ff)?n.root.activeElement==this.dom:ag(n.dom,r)){var o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(e)||(($t.ie&&$t.ie_version<=11||$t.android&&$t.chrome)&&!n.state.selection.main.empty&&r.focusNode&&uh(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1))}}}},{key:"readSelectionRange",value:function(){var e=this.view.root,n=ah(e),r=$t.safari&&e.nodeType==11&&function(){for(var o=document.activeElement;o&&o.shadowRoot;)o=o.shadowRoot.activeElement;return o}()==this.view.contentDOM&&function(o){var i=null;function s(h){h.preventDefault(),h.stopImmediatePropagation(),i=h.getTargetRanges()[0]}if(o.contentDOM.addEventListener("beforeinput",s,!0),document.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",s,!0),!i)return null;var a=i.startContainer,u=i.startOffset,l=i.endContainer,f=i.endOffset,c=o.docView.domAtPos(o.state.selection.main.anchor);if(uh(c.node,c.offset,l,f)){var d=[l,f,a,u];a=d[0],u=d[1],l=d[2],f=d[3]}return{anchorNode:a,anchorOffset:u,focusNode:l,focusOffset:f}}(this.view)||n;return!this.selectionRange.eq(r)&&(this.selectionRange.setRange(r),this.selectionChanged=!0)}},{key:"setSelectionRange",value:function(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,n=null,r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){var o,i=he(this.scrollTargets);try{for(i.s();!(o=i.n()).done;)o.value.removeEventListener("scroll",this.onScroll)}catch(u){i.e(u)}finally{i.f()}var s,a=he(this.scrollTargets=n);try{for(a.s();!(s=a.n()).done;)s.value.addEventListener("scroll",this.onScroll)}catch(u){a.e(u)}finally{a.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,XV),xv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),xv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,n){var r=this;this.delayedAndroidKey||requestAnimationFrame(function(){var o=r.delayedAndroidKey;r.delayedAndroidKey=null;var i=r.view.state;lc(r.view.contentDOM,o.key,o.keyCode)?r.processRecords():r.flush(),r.view.state==i&&r.view.update([])}),this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:n})}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(function(){e.delayedFlush=-1,e.flush()},20))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"processRecords",value:function(){var e,n=this.queue,r=he(this.observer.takeRecords());try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(o)}}catch(d){r.e(d)}finally{r.f()}n.length&&(this.queue=[]);var i,s=-1,a=-1,u=!1,l=he(n);try{for(l.s();!(i=l.n()).done;){var f=i.value,c=this.readMutation(f);c&&(c.typeOver&&(u=!0),s==-1?(s=c.from,a=c.to):(s=Math.min(c.from,s),a=Math.max(c.to,a)))}}catch(d){l.e(d)}finally{l.f()}return{from:s,to:a,typeOver:u}}},{key:"flush",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!(this.delayedFlush>=0||this.delayedAndroidKey)){e&&this.readSelectionRange();var n=this.processRecords(),r=n.from,o=n.to,i=n.typeOver,s=this.selectionChanged&&ag(this.dom,this.selectionRange);if(!(r<0)||s){this.selectionChanged=!1;var a=this.view.state;this.onChange(r,o,i),this.view.state==a&&this.view.update([])}}}},{key:"readMutation",value:function(e){var n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){var r=SS(n,e.previousSibling||e.target.previousSibling,-1),o=SS(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"destroy",value:function(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resize)===null||r===void 0||r.disconnect();var o,i=he(this.scrollTargets);try{for(i.s();!(o=i.n()).done;)o.value.removeEventListener("scroll",this.onScroll)}catch(s){i.e(s)}finally{i.f()}window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}]),t}();function SS(t,e,n){for(;e;){var r=wr.get(e);if(r&&r.parent==t)return r;var o=e.parentNode;e=o!=t.dom?o:n>0?e.nextSibling:e.previousSibling}return null}function eH(t,e,n,r){var o,i,s=t.state.selection.main;if(e>-1){var a=t.docView.domBoundsAround(e,n,0);if(!a||t.state.readOnly)return;var u=a.from,l=a.to,f=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(D){var I=[];if(D.root.activeElement!=D.contentDOM)return I;var W=D.observer.selectionRange,H=W.anchorNode,z=W.anchorOffset,O=W.focusNode,x=W.focusOffset;return H&&(I.push(new Z4(H,z)),O==H&&x==z||I.push(new Z4(O,x))),I}(t),c=new ET(f,t.state);c.readRange(a.startDOM,a.endDOM);var d=s.from,h=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||$t.android&&c.text.length<l-u)&&(d=s.to,h="end");var p=function(D,I,W,H){for(var z=Math.min(D.length,I.length),O=0;O<z&&D.charCodeAt(O)==I.charCodeAt(O);)O++;if(O==z&&D.length==I.length)return null;for(var x=D.length,N=I.length;x>0&&N>0&&D.charCodeAt(x-1)==I.charCodeAt(N-1);)x--,N--;return H=="end"&&(W-=x+Math.max(0,O-Math.min(x,N))-O),x<O&&D.length<I.length?(N=(O-=W<=O&&W>=x?O-W:0)+(N-x),x=O):N<O&&(x=(O-=W<=O&&W>=N?O-W:0)+(x-N),N=O),{from:O,toA:x,toB:N}}(t.state.doc.sliceString(u,l,"\uFFFF"),c.text,d-u,h);p&&($t.chrome&&t.inputState.lastKeyCode==13&&p.toB==p.from+2&&c.text.slice(p.from,p.toB)=="\uFFFF\uFFFF"&&p.toB--,o={from:u+p.from,to:u+p.toA,insert:Fn.of(c.text.slice(p.from,p.toB).split("\uFFFF"))}),i=function(D,I){if(D.length==0)return null;var W=D[0].pos,H=D.length==2?D[1].pos:W;return W>-1&&H>-1?Ke.single(W+I,H+I):null}(f,u)}else if(t.hasFocus||!t.state.facet(ff)){var v=t.observer.selectionRange,g=t.docView,m=g.impreciseHead,y=g.impreciseAnchor,b=m&&m.node==v.focusNode&&m.offset==v.focusOffset||!Xu(t.contentDOM,v.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(v.focusNode,v.focusOffset),w=y&&y.node==v.anchorNode&&y.offset==v.anchorOffset||!Xu(t.contentDOM,v.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(v.anchorNode,v.anchorOffset);b==s.head&&w==s.anchor||(i=Ke.single(w,b))}if(o||i){if(!o&&r&&!s.empty&&i&&i.main.empty?o={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:o&&o.from>=s.from&&o.to<=s.to&&(o.from!=s.from||o.to!=s.to)&&s.to-s.from-(o.to-o.from)<=4&&(o={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,o.from).append(o.insert).append(t.state.doc.slice(o.to,s.to))}),o){var k=t.state;if($t.ios&&t.inputState.flushIOSKey(t)||$t.android&&(o.from==s.from&&o.to==s.to&&o.insert.length==1&&o.insert.lines==2&&lc(t.contentDOM,"Enter",13)||o.from==s.from-1&&o.to==s.to&&o.insert.length==0&&lc(t.contentDOM,"Backspace",8)||o.from==s.from&&o.to==s.to+1&&o.insert.length==0&&lc(t.contentDOM,"Delete",46)))return;var $,A=o.insert.toString();if(t.state.facet(_T).some(function(D){return D(t,o.from,o.to,A)}))return;if(t.inputState.composing>=0&&t.inputState.composing++,o.from>=s.from&&o.to<=s.to&&o.to-o.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==o.from+o.insert.length)&&t.inputState.composing<0){var P=s.from<o.from?k.sliceDoc(s.from,o.from):"",_=s.to>o.to?k.sliceDoc(o.to,s.to):"";$=k.replaceSelection(t.state.toText(P+o.insert.sliceString(0,void 0,t.state.lineBreak)+_))}else{var T=k.changes(o),C=i&&!k.selection.main.eq(i.main)&&i.main.to<=T.newLength?i.main:void 0;if(k.selection.ranges.length>1&&t.inputState.composing>=0&&o.to<=s.to&&o.to>=s.to-10){var R=t.state.sliceDoc(o.from,o.to),S=PT(t)||t.state.doc.lineAt(s.head),j=s.to-o.to,q=s.to-s.from;$=k.changeByRange(function(D){if(D.from==s.from&&D.to==s.to)return{changes:T,range:C||D.map(T)};var I=D.to-j,W=I-R.length;if(D.to-D.from!=q||t.state.sliceDoc(W,I)!=R||S&&D.to>=S.from&&D.from<=S.to)return{range:D};var H=k.changes({from:W,to:I,insert:o.insert}),z=D.to-s.to;return{changes:H,range:C?Ke.range(Math.max(0,C.anchor+z),Math.max(0,C.head+z)):D.map(H)}})}else $={changes:T,selection:C&&k.selection.replaceRange(C)}}var Y="input.type";t.composing&&(Y+=".compose",t.inputState.compositionFirstChange&&(Y+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch($,{scrollIntoView:!0,userEvent:Y})}else if(i&&!i.main.eq(s)){var F=!1,K="select";t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(F=!0),K=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:F,userEvent:K})}}}var Ot=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(this,t),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(s){return e.update([s])},this.dispatch=this.dispatch.bind(this),this.root=n.root||gV(n.parent)||document,this.viewState=new kS(n.state||tr.create()),this.plugins=this.state.facet(Wl).map(function(s){return new gv(s)});var r,o=he(this.plugins);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.update(this)}}catch(s){o.e(s)}finally{o.f()}this.observer=new ZV(this,function(s,a,u){eH(e,s,a,u)},function(s){e.inputState.runScrollHandlers(e,s),e.observer.intersecting&&e.measure()}),this.inputState=new RV(this),this.docView=new eS(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return ae(t,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"dispatch",value:function(){var e;this._dispatch(arguments.length==1&&(arguments.length<=0?void 0:arguments[0])instanceof mo?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var n,r,o=!1,i=this.state,s=he(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=a.state}}catch(y){s.e(y)}finally{s.f()}if(this.destroyed)this.viewState.state=i;else{if(i.facet(tr.phrases)!=this.state.facet(tr.phrases))return this.setState(i);n=new W4(this,i,e);var u=this.viewState.scrollTarget;try{this.updateState=2;var l,f=he(e);try{for(f.s();!(l=f.n()).done;){var c=l.value;if(u&&(u=u.map(c.changes)),c.scrollIntoView){var d=c.state.selection.main;u=new Kf(d.empty?d:Ke.cursor(d.head,d.head>d.anchor?-1:1))}var h,p=he(c.effects);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.is(kg)?u=new Kf(v.value):v.is(ST)?u=new Kf(v.value,"center"):v.is(H4)&&(u=v.value)}}catch(y){p.e(y)}finally{p.f()}}}catch(y){f.e(y)}finally{f.f()}this.viewState.update(n,u),this.bidiCache=$S.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),o=this.docView.update(n),this.state.facet(Ul)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(o,e.some(function(y){return y.isUserEvent("select.pointer")}))}finally{this.updateState=0}if(n.startState.facet(Yf)!=n.state.facet(Yf)&&(this.viewState.mustMeasureContent=!0),(o||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty){var g,m=he(this.state.facet(wg));try{for(m.s();!(g=m.n()).done;)(0,g.value)(n)}catch(y){m.e(y)}finally{m.f()}}}}},{key:"setState",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var n=this.hasFocus;try{var r,o=he(this.plugins);try{for(o.s();!(r=o.n()).done;)r.value.destroy(this)}catch(a){o.e(a)}finally{o.f()}this.viewState=new kS(e),this.plugins=e.facet(Wl).map(function(a){return new gv(a)}),this.pluginMap.clear();var i,s=he(this.plugins);try{for(s.s();!(i=s.n()).done;)i.value.update(this)}catch(a){s.e(a)}finally{s.f()}this.docView=new eS(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var n=e.startState.facet(Wl),r=e.state.facet(Wl);if(n!=r){var o,i=[],s=he(r);try{for(s.s();!(o=s.n()).done;){var a=o.value,u=n.indexOf(a);if(u<0)i.push(new gv(a));else{var l=this.plugins[u];l.mustUpdate=e,i.push(l)}}}catch(g){s.e(g)}finally{s.f()}var f,c=he(this.plugins);try{for(c.s();!(f=c.n()).done;){var d=f.value;d.mustUpdate!=e&&d.destroy(this)}}catch(g){c.e(g)}finally{c.f()}this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else{var h,p=he(this.plugins);try{for(p.s();!(h=p.n()).done;)h.value.mustUpdate=e}catch(g){p.e(g)}finally{p.f()}}for(var v=0;v<this.plugins.length;v++)this.plugins[v].update(this)}},{key:"measure",value:function(){var e=this,n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,n&&this.observer.flush();var r=null;try{for(var o=0;;o++){this.updateState=1;var i=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var a=[];if(!(4&s)){var u=[a,this.measureRequests];this.measureRequests=u[0],a=u[1]}var l=a.map(function(y){try{return y.read(e)}catch(b){return No(e.state,b),CS}}),f=new W4(this,this.state),c=!1,d=!1;f.flags|=s,r?r.flags|=s:r=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),c=this.docView.update(f));for(var h=0;h<a.length;h++)if(l[h]!=CS)try{var p=a[h];p.write&&p.write(l[h],this)}catch(y){No(this.state,y)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,d=!0),c&&this.docView.updateSelection(!0),this.viewport.from==i.from&&this.viewport.to==i.to&&!d&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty){var v,g=he(this.state.facet(wg));try{for(g.s();!(v=g.n()).done;){var m=v.value;m(r)}}catch(y){g.e(y)}finally{g.f()}}}}},{key:"themeClasses",get:function(){return Og+" "+(this.state.facet($g)?BT:DT)+" "+this.state.facet(Yf)}},{key:"updateAttrs",value:function(){var e=this,n=OS(this,$T,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ff)?"true":"false",class:"cm-content",style:"".concat($t.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),OS(this,OT,r),this.observer.ignore(function(){mg(e.contentDOM,e.contentAttrs,r),mg(e.dom,e.editorAttrs,n)}),this.editorAttrs=n,this.contentAttrs=r}},{key:"showAnnouncements",value:function(e){var n,r=!0,o=he(e);try{for(o.s();!(n=o.n()).done;){var i,s=he(n.value.effects);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.is(t.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=a.value)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){o.e(u)}finally{o.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(Ul),ha.mount(this.root,this.styleModules.concat(YV).reverse())}},{key:"readMeasured",value:function(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var n=this;if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(function(){return n.measure()})),e){if(e.key!=null){for(var r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key)return void(this.measureRequests[r]=e)}this.measureRequests.push(e)}}},{key:"pluginField",value:function(e){var n,r=[],o=he(this.plugins);try{for(o.s();!(n=o.n()).done;)n.value.update(this).takeField(e,r)}catch(i){o.e(i)}finally{o.f()}return r}},{key:"plugin",value:function(e){var n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(function(r){return r.spec==e})||null),n&&n.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"blockAtHeight",value:function(e,n){var r=jv(n,this);return this.elementAtHeight(e-r).moveY(r)}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"visualLineAtHeight",value:function(e,n){var r=jv(n,this);return this.lineBlockAtHeight(e-r).moveY(r)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLines",value:function(e,n){var r,o=jv(n,this),i=he(this.viewportLineBlocks);try{for(i.s();!(r=i.n()).done;)e(r.value.moveY(o))}catch(s){i.e(s)}finally{i.f()}}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"visualLineAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.lineBlockAt(e).moveY(n+this.viewState.paddingTop)}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,n,r){return wv(this,e,aS(this,e,n,r))}},{key:"moveByGroup",value:function(e,n){var r=this;return wv(this,e,aS(this,e,n,function(o){return function(i,s,a){var u=i.state.charCategorizer(s),l=u(a);return function(f){var c=u(f);return l==ao.Space&&(l=c),l==c}}(r,e.head,o)}))}},{key:"moveToLineBoundary",value:function(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return LV(this,e,n,r)}},{key:"moveVertically",value:function(e,n,r){return wv(this,e,function(o,i,s,a){var u=i.head,l=s?1:-1;if(u==(s?o.state.doc.length:0))return Ke.cursor(u,i.assoc);var f,c=i.goalColumn,d=o.contentDOM.getBoundingClientRect(),h=o.coordsAtPos(u),p=o.documentTop;if(h)c==null&&(c=h.left-d.left),f=l<0?h.top:h.bottom;else{var v=o.viewState.lineBlockAt(u-p);c==null&&(c=Math.min(d.right-d.left,o.defaultCharacterWidth*(u-v.from))),f=(l<0?v.top:v.bottom)+p}for(var g=d.left+c,m=a!=null?a:o.defaultLineHeight>>1,y=0;;y+=10){var b=f+(m+y)*l,w=iS(o,{x:g,y:b},!1,l);if(b<d.top||b>d.bottom||(l<0?w<u:w>u))return Ke.cursor(w,i.assoc,void 0,c)}}(this,e,n,r))}},{key:"scrollPosIntoView",value:function(e){this.dispatch({effects:kg.of(Ke.cursor(e))})}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.posFromDOM(e,n)}},{key:"posAtCoords",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.readMeasured(),iS(this,e,n)}},{key:"coordsAtPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.readMeasured();var r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;var o=this.state.doc.lineAt(e),i=this.bidiSpans(o),s=i[Pu.find(i,e-o.from,-1,n)];return Cp(r,s.dir==jn.LTR==n>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>tH)return Y4(e.length);var n,r=this.textDirection,o=he(this.bidiCache);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.from==e.from&&i.dir==r)return i.order}}catch(a){o.e(a)}finally{o.f()}var s=function(a,u){var l=a.length,f=u==xg?1:2,c=u==xg?2:1;if(!a||f==1&&!CV.test(a))return Y4(l);for(var d=0,h=f,p=f;d<l;d++){var v=SV(a.charCodeAt(d));v==512?v=h:v==8&&p==4&&(v=16),er[d]=v==4?2:v,7&v&&(p=v),h=v}for(var g=0,m=f,y=f;g<l;g++){var b=er[g];if(b==128)g<l-1&&m==er[g+1]&&24&m?b=er[g]=m:er[g]=256;else if(b==64){for(var w=g+1;w<l&&er[w]==64;)w++;for(var k=g&&m==8||w<l&&er[w]==8?y==1?1:8:256,$=g;$<w;$++)er[$]=k;g=w-1}else b==8&&y==1&&(er[g]=1);m=b,7&b&&(y=b)}for(var A,P,_,T=0,C=0,R=0;T<l;T++)if(P=jg[A=a.charCodeAt(T)])if(P<0){for(var S=C-3;S>=0;S-=3)if(Ii[S+1]==-P){var j=Ii[S+2],q=2&j?f:4&j?1&j?c:f:0;q&&(er[T]=er[Ii[S]]=q),C=S;break}}else{if(Ii.length==189)break;Ii[C++]=T,Ii[C++]=A,Ii[C++]=R}else if((_=er[T])==2||_==1){var Y=_==f;R=Y?0:1;for(var F=C-3;F>=0;F-=3){var K=Ii[F+2];if(2&K)break;if(Y)Ii[F+2]|=2;else{if(4&K)break;Ii[F+2]|=4}}}for(var D=0;D<l;D++)if(er[D]==256){for(var I=D+1;I<l&&er[I]==256;)I++;for(var W=(D?er[D-1]:f)==1,H=W==((I<l?er[I]:f)==1)?W?1:2:f,z=D;z<I;z++)er[z]=H;D=I-1}var O=[];if(f==1)for(var x=0;x<l;){for(var N=x,G=er[x++]!=1;x<l&&G==(er[x]!=1);)x++;if(G)for(var ue=x;ue>N;){for(var xe=ue,$e=er[--ue]!=2;ue>N&&$e==(er[ue-1]!=2);)ue--;O.push(new Pu(ue,xe,$e?2:1))}else O.push(new Pu(N,x,0))}else for(var L=0;L<l;){for(var Q=L,M=er[L++]==2;L<l&&M==(er[L]==2);)L++;O.push(new Pu(Q,L,M?1:2))}return O}(e.text,this.textDirection);return this.bidiCache.push(new $S(e.from,e.to,r,s)),s}},{key:"hasFocus",get:function(){var e;return(document.hasFocus()||$t.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore(function(){sT(e.contentDOM),e.docView.updateSelection()})}},{key:"destroy",value:function(){var e,n=he(this.plugins);try{for(n.s();!(e=n.n()).done;)e.value.destroy(this)}catch(r){n.e(r)}finally{n.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return H4.of(new Kf(typeof e=="number"?Ke.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}},{key:"domEventHandlers",value:function(e){return Fr.define(function(){return{}},{eventHandlers:e})}},{key:"theme",value:function(e,n){var r=ha.newName(),o=[Yf.of(r),Ul.of(Ag(".".concat(r),e))];return n&&n.dark&&o.push($g.of(!0)),o}},{key:"baseTheme",value:function(e){return cf.lowest(Ul.of(Ag("."+Og,e,zT)))}}]),t}();Ot.scrollTo=kg,Ot.centerOn=ST,Ot.styleModule=Ul,Ot.inputHandler=_T,Ot.exceptionSink=jT,Ot.updateListener=wg,Ot.editable=ff,Ot.mouseSelectionStyle=xT,Ot.dragMovesSelection=kT,Ot.clickAddsSelectionRange=wT,Ot.decorations=za,Ot.darkTheme=$g,Ot.contentAttributes=OT,Ot.editorAttributes=$T,Ot.lineWrapping=Ot.contentAttributes.of({class:"cm-lineWrapping"}),Ot.announce=Zt.define();var tH=4096;function jv(t,e){return(t==null?e.contentDOM.getBoundingClientRect().top:t)+e.viewState.paddingTop}var CS={},$S=function(){function t(e,n,r,o){se(this,t),this.from=e,this.to=n,this.dir=r,this.order=o}return ae(t,null,[{key:"update",value:function(e,n){if(n.empty)return e;for(var r=[],o=e.length?e[e.length-1].dir:jn.LTR,i=Math.max(0,e.length-10);i<e.length;i++){var s=e[i];s.dir!=o||n.touchesRange(s.from,s.to)||r.push(new t(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}]),t}();function OS(t,e,n){for(var r=t.state.facet(e),o=r.length-1;o>=0;o--){var i=r[o],s=typeof i=="function"?i(t):i;s&&vg(s,n)}return n}var nH=$t.mac?"mac":$t.windows?"win":$t.linux?"linux":"key";function rH(t,e){var n,r,o,i,s=t.split(/-(?!$)/),a=s[s.length-1];a=="Space"&&(a=" ");for(var u=0;u<s.length-1;++u){var l=s[u];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);e=="mac"?i=!0:r=!0}}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),i&&(a="Meta-"+a),o&&(a="Shift-"+a),a}function _v(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}var oH=Ot.domEventHandlers({keydown:function(t,e){return qT(FT(e.state),t,e,"editor")}}),Op=Ct.define({enables:oH}),AS=new WeakMap;function FT(t){var e=t.facet(Op),n=AS.get(e);return n||AS.set(e,n=function(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nH,s=Object.create(null),a=Object.create(null),u=function(g,m){var y=a[g];if(y==null)a[g]=m;else if(y!=m)throw new Error("Key binding "+g+" is used both as a regular binding and as a multi-stroke prefix")},l=function(g,m,y,b){for(var w=s[g]||(s[g]=Object.create(null)),k=m.split(/ (?!$)/).map(function(T){return rH(T,i)}),$=function(T){var C=k.slice(0,T).join(" ");u(C,!0),w[C]||(w[C]={preventDefault:!0,commands:[function(R){var S=Qs={view:R,prefix:C,scope:g};return setTimeout(function(){Qs==S&&(Qs=null)},4e3),!0}]})},A=1;A<k.length;A++)$(A);var P=k.join(" ");u(P,!1);var _=w[P]||(w[P]={preventDefault:!1,commands:[]});_.commands.push(y),b&&(_.preventDefault=!0)},f=he(r);try{for(f.s();!(o=f.n()).done;){var c=o.value,d=c[i]||c.key;if(d){var h,p=he(c.scope?c.scope.split(" "):["editor"]);try{for(p.s();!(h=p.n()).done;){var v=h.value;l(v,d,c.run,c.preventDefault),c.shift&&l(v,"Shift-"+d,c.shift,c.preventDefault)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){f.e(g)}finally{f.f()}return s}(e.reduce(function(r,o){return r.concat(o)},[]))),n}var Qs=null;function qT(t,e,n,r){var o=function(c){var d=!(pV&&(c.ctrlKey||c.altKey||c.metaKey)||(fV||hV)&&c.shiftKey&&c.key&&c.key.length==1)&&c.key||(c.shiftKey?sh:pa)[c.keyCode]||c.key||"Unidentified";return d=="Esc"&&(d="Escape"),d=="Del"&&(d="Delete"),d=="Left"&&(d="ArrowLeft"),d=="Up"&&(d="ArrowUp"),d=="Right"&&(d="ArrowRight"),d=="Down"&&(d="ArrowDown"),d}(e),i=o.length==1&&o!=" ",s="",a=!1;Qs&&Qs.view==n&&Qs.scope==r&&(s=Qs.prefix+" ",(a=IT.indexOf(e.keyCode)<0)&&(Qs=null));var u,l=function(c){if(c){var d,h=he(c.commands);try{for(h.s();!(d=h.n()).done;)if((0,d.value)(n))return!0}catch(p){h.e(p)}finally{h.f()}c.preventDefault&&(a=!0)}return!1},f=t[r];if(f){if(l(f[s+_v(o,e,!i)]))return!0;if(i&&(e.shiftKey||e.altKey||e.metaKey)&&(u=pa[e.keyCode])&&u!=o){if(l(f[s+_v(u,e,!0)]))return!0}else if(i&&e.shiftKey&&l(f[s+_v(o,e,!0)]))return!0}return a}var VT=!$t.ios,Kl=Ct.define({combine:function(t){return Ms(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,n){return Math.min(e,n)},drawRangeCursor:function(e,n){return e||n}})}});function iH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Kl.of(t),sH,aH]}var HT=function(){function t(e,n,r,o,i){se(this,t),this.left=e,this.top=n,this.width=r,this.height=o,this.className=i}return ae(t,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}]),t}(),sH=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}return ae(t,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(Kl).cursorBlinkRate+"ms"}},{key:"update",value:function(e){var n=e.startState.facet(Kl)!=e.state.facet(Kl);(n||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some(function(r){return r.scrollIntoView})&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),n&&this.setBlinkRate()}},{key:"readPos",value:function(){var e,n=this,r=this.view.state,o=r.facet(Kl),i=r.selection.ranges.map(function(c){return c.empty?[]:function(d,h){if(h.to<=d.viewport.from||h.from>=d.viewport.to)return[];var p=Math.max(h.from,d.viewport.from),v=Math.min(h.to,d.viewport.to),g=d.textDirection==jn.LTR,m=d.contentDOM,y=m.getBoundingClientRect(),b=UT(d),w=window.getComputedStyle(m.firstChild),k=y.left+parseInt(w.paddingLeft)+Math.min(0,parseInt(w.textIndent)),$=y.right-parseInt(w.paddingRight),A=PS(d,p),P=PS(d,v),_=A.type==qn.Text?A:null,T=P.type==qn.Text?P:null;if(d.lineWrapping&&(_&&(_=ES(d,p,_)),T&&(T=ES(d,v,T))),_&&T&&_.from==T.from)return q(Y(h.from,h.to,_));var C=_?Y(h.from,null,_):F(A,!1),R=T?Y(null,h.to,T):F(P,!0),S=[];return(_||A).to<(T||P).from-1?S.push(j(k,C.bottom,$,R.top)):C.bottom<R.top&&d.elementAtHeight((C.bottom+R.top)/2).type==qn.Text&&(C.bottom=R.top=(C.bottom+R.top)/2),q(C).concat(S).concat(q(R));function j(K,D,I,W){return new HT(K-b.left,D-b.top-.01,I-K,W-D+.01,"cm-selectionBackground")}function q(K){for(var D=K.top,I=K.bottom,W=K.horizontal,H=[],z=0;z<W.length;z+=2)H.push(j(W[z],D,W[z+1],I));return H}function Y(K,D,I){var W=1e9,H=-1e9,z=[];function O(V,Ee,Ce,_e,pe){var ce=d.coordsAtPos(V,V==I.to?-2:2),ke=d.coordsAtPos(Ce,Ce==I.from?2:-2);W=Math.min(ce.top,ke.top,W),H=Math.max(ce.bottom,ke.bottom,H),pe==jn.LTR?z.push(g&&Ee?k:ce.left,g&&_e?$:ke.right):z.push(!g&&_e?k:ke.left,!g&&Ee?$:ce.right)}var x,N=K!=null?K:I.from,G=D!=null?D:I.to,ue=he(d.visibleRanges);try{for(ue.s();!(x=ue.n()).done;){var xe=x.value;if(xe.to>N&&xe.from<G)for(var $e=Math.max(xe.from,N),L=Math.min(xe.to,G);;){var Q,M=d.state.doc.lineAt($e),B=he(d.bidiSpans(M));try{for(B.s();!(Q=B.n()).done;){var Z=Q.value,le=Z.from+M.from,ee=Z.to+M.from;if(le>=L)break;ee>$e&&O(Math.max(le,$e),K==null&&le<=N,Math.min(ee,L),D==null&&ee>=G,Z.dir)}}catch(V){B.e(V)}finally{B.f()}if(($e=M.to+1)>=L)break}}}catch(V){ue.e(V)}finally{ue.f()}return z.length==0&&O(N,K==null,G,D==null,d.textDirection),{top:W,bottom:H,horizontal:z}}function F(K,D){var I=y.top+(D?K.top:K.bottom);return{top:I,bottom:I,horizontal:[]}}}(n.view,c)}).reduce(function(c,d){return c.concat(d)}),s=[],a=he(r.selection.ranges);try{for(a.s();!(e=a.n()).done;){var u=e.value,l=u==r.selection.main;if(u.empty?!l||VT:o.drawRangeCursor){var f=uH(this.view,u,l);f&&s.push(f)}}}catch(c){a.e(c)}finally{a.f()}return{rangePieces:i,cursors:s}}},{key:"drawSel",value:function(e){var n=this,r=e.rangePieces,o=e.cursors;if(r.length!=this.rangePieces.length||r.some(function(d,h){return!d.eq(n.rangePieces[h])})){this.selectionLayer.textContent="";var i,s=he(r);try{for(s.s();!(i=s.n()).done;){var a=i.value;this.selectionLayer.appendChild(a.draw())}}catch(d){s.e(d)}finally{s.f()}this.rangePieces=r}if(o.length!=this.cursors.length||o.some(function(d,h){return!d.eq(n.cursors[h])})){var u=this.cursorLayer.children;if(u.length!==o.length){this.cursorLayer.textContent="";var l,f=he(o);try{for(f.s();!(l=f.n()).done;){var c=l.value;this.cursorLayer.appendChild(c.draw())}}catch(d){f.e(d)}finally{f.f()}}else o.forEach(function(d,h){return d.adjust(u[h])});this.cursors=o}}},{key:"destroy",value:function(){this.selectionLayer.remove(),this.cursorLayer.remove()}}]),t}()),WT={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};VT&&(WT[".cm-line"].caretColor="transparent !important");var aH=cf.highest(Ot.theme(WT));function UT(t){var e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==jn.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function ES(t,e,n){var r=Ke.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:qn.Text}}function PS(t,e){var n=t.lineBlockAt(e);if(Array.isArray(n.type)){var r,o=he(n.type);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.to>e||i.to==e&&(i.to==n.to||i.type==qn.Text))return i}}catch(s){o.e(s)}finally{o.f()}}return n}function uH(t,e,n){var r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;var o=UT(t);return new HT(r.left-o.left,r.top-o.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}var JT=Zt.define({map:function(t,e){return t==null?null:e.mapPos(t)}}),Gl=Xr.define({create:function(){return null},update:function(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce(function(n,r){return r.is(JT)?r.value:n},t)}}),lH=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return ae(t,[{key:"update",value:function(e){var n,r=e.state.field(Gl);r==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Gl)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(Gl),n=e!=null&&this.view.coordsAtPos(e);if(!n)return null;var r=this.view.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+this.view.scrollDOM.scrollLeft,top:n.top-r.top+this.view.scrollDOM.scrollTop,height:n.bottom-n.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(Gl)!=e&&this.view.dispatch({effects:JT.of(e)})}}]),t}(),{eventHandlers:{dragover:function(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave:function(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function cH(){return[Gl,lH]}function TS(t,e,n,r,o){e.lastIndex=0;for(var i,s=t.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;i=e.exec(s.value);)o(a+i.index,a+i.index+i[0].length,i)}var fH=function(){function t(e){se(this,t);var n=e.regexp,r=e.decoration,o=e.boundary,i=e.maxLength,s=i===void 0?1e3:i;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=n,this.getDeco=typeof r=="function"?r:function(){return r},this.boundary=o,this.maxLength=s}return ae(t,[{key:"createDeco",value:function(e){var n,r=this,o=new Yu,i=he(function(l,f){var c=l.visibleRanges;if(c.length==1&&c[0].from==l.viewport.from&&c[0].to==l.viewport.to)return c;var d,h=[],p=he(c);try{for(p.s();!(d=p.n()).done;){var v=d.value,g=v.from,m=v.to;g=Math.max(l.state.doc.lineAt(g).from,g-f),m=Math.min(l.state.doc.lineAt(m).to,m+f),h.length&&h[h.length-1].to>=g?h[h.length-1].to=m:h.push({from:g,to:m})}}catch(y){p.e(y)}finally{p.f()}return h}(e,this.maxLength));try{for(i.s();!(n=i.n()).done;){var s=n.value,a=s.from,u=s.to;TS(e.state.doc,this.regexp,a,u,function(l,f,c){return o.add(l,f,r.getDeco(c,e,l))})}}catch(l){i.e(l)}finally{i.f()}return o.finish()}},{key:"updateDeco",value:function(e,n){var r=1e9,o=-1;return e.docChanged&&e.changes.iterChanges(function(i,s,a,u){u>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),o=Math.max(u,o))}),e.viewportChanged||o-r>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),r,o):n}},{key:"updateRange",value:function(e,n,r,o){var i,s=this,a=he(e.visibleRanges);try{for(a.s();!(i=a.n()).done;){var u=i.value,l=Math.max(u.from,r),f=Math.min(u.to,o);f>l&&function(){var c=e.state.doc.lineAt(l),d=c.to<f?e.state.doc.lineAt(f):c,h=Math.max(u.from,c.from),p=Math.min(u.to,d.to);if(s.boundary){for(;l>c.from;l--)if(s.boundary.test(c.text[l-1-c.from])){h=l;break}for(;f<d.to;f++)if(s.boundary.test(d.text[f-d.from])){p=f;break}}var v=[],g=void 0;if(c==d)for(s.regexp.lastIndex=h-c.from;(g=s.regexp.exec(c.text))&&g.index<p-c.from;){var m=g.index+c.from;v.push(s.getDeco(g,e,m).range(m,m+g[0].length))}else TS(e.state.doc,s.regexp,h,p,function(y,b,w){return v.push(s.getDeco(w,e,y).range(y,b))});n=n.update({filterFrom:h,filterTo:p,filter:function(y,b){return y<h||b>p},add:v})}()}}catch(c){a.e(c)}finally{a.f()}return n}}]),t}(),Eg=/x/.unicode!=null?"gu":"g",dH=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\uFEFF\uFFF9-\uFFFC]`,Eg),hH={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},Sv=null,_d=Ct.define({combine:function(t){var e=Ms(t,{render:null,specialChars:dH,addSpecialChars:null});return(e.replaceTabs=!function(){var n;if(Sv==null&&typeof document<"u"&&document.body){var r=document.body.style;Sv=((n=r.tabSize)!==null&&n!==void 0?n:r.MozTabSize)!=null}return Sv||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Eg)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Eg)),e}});function pH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[_d.of(t),vH()]}var MS=null;function vH(){return MS||(MS=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.decorations=Pt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(_d)),this.decorations=this.decorator.createDeco(e)}return ae(t,[{key:"makeDecorator",value:function(e){var n=this;return new fH({regexp:e.specialChars,decoration:function(r,o,i){var s=o.state.doc,a=Hr(r[0],0);if(a==9){var u=s.lineAt(i),l=o.state.tabSize,f=lf(u.text,l,i-u.from);return Pt.replace({widget:new gH((l-f%l)*n.view.defaultCharacterWidth)})}return n.decorationCache[a]||(n.decorationCache[a]=Pt.replace({widget:new mH(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var n=e.state.facet(_d);e.startState.facet(_d)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),t}(),{decorations:function(t){return t.decorations}}))}var mH=function(t){De(n,ja);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this)).options=r,i.code=o,i}return ae(n,[{key:"eq",value:function(r){return r.code==this.code}},{key:"toDOM",value:function(r){var o=function(u){return u>=32?"\u2022":u==10?"\u2424":String.fromCharCode(9216+u)}(this.code),i=r.state.phrase("Control character")+" "+(hH[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,o);if(s)return s;var a=document.createElement("span");return a.textContent=o,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}},{key:"ignoreEvent",value:function(){return!1}}]),n}(),gH=function(t){De(n,ja);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).width=r,o}return ae(n,[{key:"eq",value:function(r){return r.width==this.width}},{key:"toDOM",value:function(){var r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}},{key:"ignoreEvent",value:function(){return!1}}]),n}();function yH(){return wH}var bH=Pt.line({class:"cm-activeLine"}),wH=Fr.fromClass(function(){function t(e){se(this,t),this.decorations=this.getDeco(e)}return ae(t,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n,r=-1,o=[],i=he(e.state.selection.ranges);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(!s.empty)return Pt.none;var a=e.lineBlockAt(s.head);a.from>r&&(o.push(bH.range(a.from)),r=a.from)}}catch(u){i.e(u)}finally{i.f()}return Pt.set(o)}}]),t}(),{decorations:function(t){return t.decorations}}),Pg=Xs.define(),kH=Xs.define(),xH=Ct.define(),KT=Ct.define({combine:function(t){return Ms(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}}),n1=Xr.define({create:function(){return cc.empty},update:function(t,e){var n,r,o=e.state.facet(KT),i=e.annotation(Pg);if(i){var s=e.docChanged?Ke.single((n=e.changes,r=0,n.iterChangedRanges(function(p,v){return r=v}),r)):void 0,a=gs.fromTransaction(e,s),u=i.side,l=u==0?t.undone:t.done;return l=a?ch(l,l.length,o.minDepth,a):YT(l,e.startState.selection),new cc(u==0?i.rest:l,u==0?l:i.rest)}var f=e.annotation(kH);if(f!="full"&&f!="before"||(t=t.isolate()),e.annotation(mo.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);var c=gs.fromTransaction(e),d=e.annotation(mo.time),h=e.annotation(mo.userEvent);return c?t=t.addChanges(c,d,h,o.newGroupDelay,o.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,d,h,o.newGroupDelay)),f!="full"&&f!="after"||(t=t.isolate()),t},toJSON:function(t){return{done:t.done.map(function(e){return e.toJSON()}),undone:t.undone.map(function(e){return e.toJSON()})}},fromJSON:function(t){return new cc(t.done.map(gs.fromJSON),t.undone.map(gs.fromJSON))}});function jH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[n1,KT.of(t),Ot.domEventHandlers({beforeinput:function(e,n){var r=e.inputType=="historyUndo"?r1:e.inputType=="historyRedo"?o1:null;return!!r&&(e.preventDefault(),r(n))}})]}function Ap(t,e){return function(n){var r=n.state,o=n.dispatch;if(!e&&r.readOnly)return!1;var i=r.field(n1,!1);if(!i)return!1;var s=i.pop(t,r,e);return!!s&&(o(s),!0)}}var r1=Ap(0,!1),o1=Ap(1,!1),_H=Ap(0,!0),SH=Ap(1,!0);function GT(t){return function(e){var n=e.field(n1,!1);if(!n)return 0;var r=t==0?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}var CH=GT(0),$H=GT(1),gs=function(){function t(e,n,r,o,i){se(this,t),this.changes=e,this.effects=n,this.mapped=r,this.startSelection=o,this.selectionsAfter=i}return ae(t,[{key:"setSelAfter",value:function(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}},{key:"toJSON",value:function(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(function(o){return o.toJSON()})}}}],[{key:"fromJSON",value:function(e){return new t(e.changes&&Ai.fromJSON(e.changes),[],e.mapped&&Du.fromJSON(e.mapped),e.startSelection&&Ke.fromJSON(e.startSelection),e.selectionsAfter.map(Ke.fromJSON))}},{key:"fromTransaction",value:function(e,n){var r,o=Yo,i=he(e.startState.facet(xH));try{for(i.s();!(r=i.n()).done;){var s=(0,r.value)(e);s.length&&(o=o.concat(s))}}catch(a){i.e(a)}finally{i.f()}return!o.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),o,void 0,n||e.startState.selection,Yo)}},{key:"selection",value:function(e){return new t(void 0,Yo,void 0,void 0,e)}}]),t}();function ch(t,e,n,r){var o=e+1>n+20?e-n-1:0,i=t.slice(o,e);return i.push(r),i}function QT(t,e){return t.length?e.length?t.concat(e):t:e}var Yo=[];function YT(t,e){if(t.length){var n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ch(t,t.length-1,1e9,n.setSelAfter(r)))}return[gs.selection([e])]}function OH(t){var e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Cv(t,e){if(!t.length)return t;for(var n=t.length,r=Yo;n;){var o=AH(t[n-1],e,r);if(o.changes&&!o.changes.empty||o.effects.length){var i=t.slice(0,n);return i[n-1]=o,i}e=o.mapped,n--,r=o.selectionsAfter}return r.length?[gs.selection(r)]:Yo}function AH(t,e,n){var r=QT(t.selectionsAfter.length?t.selectionsAfter.map(function(a){return a.map(e)}):Yo,n);if(!t.changes)return gs.selection(r);var o=t.changes.map(e),i=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(i):i;return new gs(o,Zt.mapEffects(t.effects,e),s,t.startSelection.map(i),r)}var EH=/^(input\.type|delete)($|\.)/,cc=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;se(this,t),this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=o}return ae(t,[{key:"isolate",value:function(){return this.prevTime?new t(this.done,this.undone):this}},{key:"addChanges",value:function(e,n,r,o,i){var s=this.done,a=s[s.length-1];return new t(s=a&&a.changes&&!a.changes.empty&&e.changes&&(!r||EH.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<o&&function(u,l){var f=[],c=!1;return u.iterChangedRanges(function(d,h){return f.push(d,h)}),l.iterChangedRanges(function(d,h,p,v){for(var g=0;g<f.length;){var m=f[g++],y=f[g++];v>=m&&p<=y&&(c=!0)}}),c}(a.changes,e.changes)||r=="input.type.compose")?ch(s,s.length-1,i,new gs(e.changes.compose(a.changes),QT(e.effects,a.effects),a.mapped,a.startSelection,Yo)):ch(s,s.length,i,e),Yo,n,r)}},{key:"addSelection",value:function(e,n,r,o){var i,s,a=this.done.length?this.done[this.done.length-1].selectionsAfter:Yo;return a.length>0&&n-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(i=a[a.length-1],s=e,i.ranges.length==s.ranges.length&&i.ranges.filter(function(u,l){return u.empty!=s.ranges[l].empty}).length===0)?this:new t(YT(this.done,e),this.undone,n,r)}},{key:"addMapping",value:function(e){return new t(Cv(this.done,e),Cv(this.undone,e),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,n,r){var o=e==0?this.done:this.undone;if(o.length==0)return null;var i=o[o.length-1];if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Pg.of({side:e,rest:OH(o)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var s=o.length==1?Yo:o.slice(0,o.length-1);return i.mapped&&(s=Cv(s,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Pg.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}}]),t}();cc.empty=new cc(Yo,Yo);var PH=[{key:"Mod-z",run:r1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:o1,preventDefault:!0},{key:"Mod-u",run:_H,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:SH,preventDefault:!0}],TH=0,$v=ae(function t(e,n){se(this,t),this.from=e,this.to=n}),un=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(this,t),this.id=TH++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ae(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ei.match(e)),function(r){var o=e(r);return o===void 0?null:[n,o]}}}]),t}();un.closedBy=new un({deserialize:function(t){return t.split(" ")}}),un.openedBy=new un({deserialize:function(t){return t.split(" ")}}),un.group=new un({deserialize:function(t){return t.split(" ")}}),un.contextHash=new un({perNode:!0}),un.lookAhead=new un({perNode:!0}),un.mounted=new un({perNode:!0});var MH=Object.create(null),Ei=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;se(this,t),this.name=e,this.props=n,this.id=r,this.flags=o}return ae(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(un.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):MH,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new t(e.name||"",n,e.id,r);if(e.props){var i,s=he(e.props);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(Array.isArray(a)||(a=a(o)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(u){s.e(u)}finally{s.f()}}return o}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var o,i=he(r.split(" "));try{for(i.s();!(o=i.n()).done;){var s=o.value;n[s]=e[r]}}catch(a){i.e(a)}finally{i.f()}}return function(a){for(var u=a.prop(un.group),l=-1;l<(u?u.length:0);l++){var f=n[l<0?a.name:u[l]];if(f)return f}}}}]),t}();Ei.none=new Ei("",Object.create(null),0,8);var IH=function(){function t(e){se(this,t),this.types=e;for(var n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return ae(t,[{key:"extend",value:function(){for(var e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i,s=he(this.types);try{for(s.s();!(i=s.n()).done;){var a,u=i.value,l=null,f=he(r);try{for(f.s();!(a=f.n()).done;){var c=a.value,d=c(u);d&&(l||(l=Object.assign({},u.props)),l[d[0].id]=d[1])}}catch(h){f.e(h)}finally{f.f()}e.push(l?new Ei(u.name,l,u.id,u.flags):u)}}catch(h){s.e(h)}finally{s.f()}return new t(e)}}]),t}(),Xf=new WeakMap,IS=new WeakMap,Dr=function(){function t(e,n,r,o,i){if(se(this,t),this.type=e,this.children=n,this.positions=r,this.length=o,this.props=null,i&&i.length){this.props=Object.create(null);var s,a=he(i);try{for(a.s();!(s=a.n()).done;){var u=At(s.value,2),l=u[0],f=u[1];this.props[typeof l=="number"?l:l.id]=f}}catch(c){a.e(c)}finally{a.f()}}}return ae(t,[{key:"toString",value:function(){var e=this.prop(un.mounted);if(e&&!e.overlay)return e.tree.toString();var n,r="",o=he(this.children);try{for(o.s();!(n=o.n()).done;){var i=n.value.toString();i&&(r&&(r+=","),r+=i)}}catch(s){o.e(s)}finally{o.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e!=null&&Xf.get(this)||this.topNode,o=new dh(r);return e!=null&&(o.moveTo(e,n),Xf.set(this,o._tree)),o}},{key:"fullCursor",value:function(){return new dh(this.topNode,1)}},{key:"topNode",get:function(){return new Lc(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Zu(Xf.get(this)||this.topNode,e,n,!1);return Xf.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Zu(IS.get(this)||this.topNode,e,n,!0);return IS.set(this,r),r}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,o=e.from,i=o===void 0?0:o,s=e.to,a=s===void 0?this.length:s,u=this.cursor(),l=function(){return u.node};;){var f=!1;if(u.from<=a&&u.to>=i&&(u.type.isAnonymous||n(u.type,u.from,u.to,l)!==!1)){if(u.firstChild())continue;u.type.isAnonymous||(f=!0)}for(;f&&r&&r(u.type,u.from,u.to,l),f=u.type.isAnonymous,!u.nextSibling();){if(!u.parent())return;f=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:s1(Ei.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,o,i){return new t(e.type,r,o,i,e.propValues)},n.makeTree||function(r,o,i){return new t(Ei.none,r,o,i)})}}],[{key:"build",value:function(e){return RH(e)}}]),t}();Dr.empty=new Dr(Ei.none,[],[],0);var NH=function(){function t(e,n){se(this,t),this.buffer=e,this.index=n}return ae(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),df=function(){function t(e,n,r){se(this,t),this.buffer=e,this.length=n,this.set=r}return ae(t,[{key:"type",get:function(){return Ei.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],o=this.set.types[n],i=o.name;if(/\W/.test(i)&&!o.isError&&(i=JSON.stringify(i)),r==(e+=4))return i;for(var s=[];e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}},{key:"findChild",value:function(e,n,r,o,i){for(var s=this.buffer,a=-1,u=e;u!=n&&!(XT(i,o,s[u+1],s[u+2])&&(a=u,r>0));u=s[u+3]);return a}},{key:"slice",value:function(e,n,r,o){for(var i=this.buffer,s=new Uint16Array(n-e),a=e,u=0;a<n;)s[u++]=i[a++],s[u++]=i[a++]-r,s[u++]=i[a++]-r,s[u++]=i[a++]-e;return new t(s,o-r,this.set)}}]),t}();function XT(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function ZT(t,e){for(var n=t.childBefore(e);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function Zu(t,e,n,r){for(var o;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var i=!r&&t instanceof Lc&&t.index<0?null:t.parent;if(!i)return t;t=i}if(r)for(var s=t,a=s.parent;a;a=(s=a).parent)s instanceof Lc&&s.index<0&&((o=a.enter(e,n,!0))===null||o===void 0?void 0:o.from)!=s.from&&(t=a);for(;;){var u=t.enter(e,n,r);if(!u)return t;t=u}}var Lc=function(){function t(e,n,r,o){se(this,t),this.node=e,this._from=n,this.index=r,this._parent=o}return ae(t,[{key:"type",get:function(){return this.node.type}},{key:"name",get:function(){return this.node.type.name}},{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._from+this.node.length}},{key:"nextChild",value:function(e,n,r,o){for(var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=this;;){for(var a=s.node,u=a.children,l=a.positions,f=n>0?u.length:-1;e!=f;e+=n){var c=u[e],d=l[e]+s._from;if(XT(o,r,d,d+c.length)){if(c instanceof df){if(2&i)continue;var h=c.findChild(0,c.buffer.length,n,r-d,o);if(h>-1)return new Tg(new LH(s,c,e,d),null,h)}else if(1&i||!c.type.isAnonymous||i1(c)){var p=void 0;if(!(1&i)&&c.props&&(p=c.prop(un.mounted))&&!p.overlay)return new t(p.tree,d,e,s);var v=new t(c,d,e,s);return 1&i||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,o)}}}if(1&i||!s.type.isAnonymous||(e=s.index>=0?s.index+n:n<0?-1:s._parent.node.children.length,!(s=s._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this.node.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,n){var r,o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(o&&(r=this.node.prop(un.mounted))&&r.overlay){var s,a=e-this.from,u=he(r.overlay);try{for(u.s();!(s=u.n()).done;){var l=s.value,f=l.from,c=l.to;if((n>0?f<=a:f<a)&&(n<0?c>=a:c>a))return new t(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(d){u.e(d)}finally{u.f()}}return this.nextChild(0,1,e,n,i?0:2)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",get:function(){return new dh(this)}},{key:"tree",get:function(){return this.node}},{key:"toTree",value:function(){return this.node}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Zu(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Zu(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return ZT(this,e)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=fh(this,e,n,r);return o.length?o[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return fh(this,e,n,r)}},{key:"toString",value:function(){return this.node.toString()}}]),t}();function fh(t,e,n,r){var o=t.cursor,i=[];if(!o.firstChild())return i;if(n!=null){for(;!o.type.is(n);)if(!o.nextSibling())return i}for(;;){if(r!=null&&o.type.is(r))return i;if(o.type.is(e)&&i.push(o.node),!o.nextSibling())return r==null?i:[]}}var LH=ae(function t(e,n,r,o){se(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=o}),Tg=function(){function t(e,n,r){se(this,t),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ae(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,n,r){var o=this.context.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.context.start,r);return i<0?null:new t(this.context,this,i)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,n,r){var o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(!o)return null;var i=this.context.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new t(this.context,this,s)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}},{key:"cursor",get:function(){return new dh(this)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],n=[],r=this.context.buffer,o=this.index+4,i=r.buffer[this.index+3];if(i>o){var s=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(o,i,s,a)),n.push(0)}return new Dr(this.type,e,n,this.to-this.from)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Zu(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Zu(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return ZT(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=fh(this,e,n,r);return o.length?o[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return fh(this,e,n,r)}}]),t}(),dh=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(se(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Lc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ae(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,o=r.start,i=r.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=o+i.buffer[e+1],this.to=o+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Lc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,n,r,this.mode));var o=this.buffer.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.buffer?!!o&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r&&!(1&this.mode),o))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var o=r<0?0:this.stack[r]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{var i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,o=this.buffer;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(o.buffer.buffer[i+3]<this.index)return!1;n=o.index,r=o.parent}else{var s=this._tree;n=s.index,r=s._parent}for(;r;n=(a=r).index,r=a._parent,a){var a;if(n>-1)for(var u=n+e,l=e<0?-1:r.node.children.length;u!=l;u+=e){var f=r.node.children[u];if(1&this.mode||f instanceof df||!f.type.isAnonymous||i1(f))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var o=this.index,i=this.stack.length;i>=0;){for(var s=e;s;s=s._parent)if(s.index==o){if(o==this.index)return s;n=s,r=i+1;break e}o=this.stack[--i]}for(var a=r;a<this.stack.length;a++)n=new Tg(this.buffer,n,this.stack[a]);return this.bufferNode=new Tg(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree.node}}]),t}();function i1(t){return t.children.some(function(e){return e instanceof df||!e.type.isAnonymous||i1(e)})}function RH(t){var e,n=t.buffer,r=t.nodeSet,o=t.maxBufferLength,i=o===void 0?1024:o,s=t.reused,a=s===void 0?[]:s,u=t.minRepeatType,l=u===void 0?r.types.length:u,f=Array.isArray(n)?new NH(n,n.length):n,c=r.types,d=0,h=0;function p(k,$,A,P,_){for(var T=f.id,C=f.start,R=f.end,S=f.size,j=h;S<0;){if(f.next(),S==-1){var q=a[T];return A.push(q),void P.push(C-k)}if(S==-3)return void(d=T);if(S==-4)return void(h=T);throw new RangeError("Unrecognized record size: ".concat(S))}var Y,F,K=c[T],D=C-k;if(R-C<=i&&(F=function($e,L){var Q=f.fork(),M=0,B=0,Z=0,le=Q.end-i,ee={size:0,start:0,skip:0};e:for(var V=Q.pos-$e;Q.pos>V;){var Ee=Q.size;if(Q.id==L&&Ee>=0)ee.size=M,ee.start=B,ee.skip=Z,Z+=4,M+=4,Q.next();else{var Ce=Q.pos-Ee;if(Ee<0||Ce<V||Q.start<le)break;var _e=Q.id>=l?4:0,pe=Q.start;for(Q.next();Q.pos>Ce;){if(Q.size<0){if(Q.size!=-3)break e;_e+=4}else Q.id>=l&&(_e+=4);Q.next()}B=pe,M+=Ee,Z+=_e}}return(L<0||M==$e)&&(ee.size=M,ee.start=B,ee.skip=Z),ee.size>4?ee:void 0}(f.pos-$,_))){for(var I=new Uint16Array(F.size-F.skip),W=f.pos-F.size,H=I.length;f.pos>W;)H=m(F.start,I,H);Y=new df(I,R-F.start,r),D=F.start-k}else{var z=f.pos-S;f.next();for(var O=[],x=[],N=T>=l?T:-1,G=0,ue=R;f.pos>z;)N>=0&&f.id==N&&f.size>=0?(f.end<=ue-i&&(v(O,x,C,G,f.end,ue,N,j),G=O.length,ue=f.end),f.next()):p(C,z,O,x,N);if(N>=0&&G>0&&G<O.length&&v(O,x,C,G,C,ue,N,j),O.reverse(),x.reverse(),N>-1&&G>0){var xe=function($e){return function(L,Q,M){var B,Z,le=0,ee=L.length-1;if(ee>=0&&(B=L[ee])instanceof Dr){if(!ee&&B.type==$e&&B.length==M)return B;(Z=B.prop(un.lookAhead))&&(le=Q[ee]+B.length+Z)}return g($e,L,Q,M,le)}}(K);Y=s1(K,O,x,0,O.length,0,R-C,xe,xe)}else Y=g(K,O,x,R-C,j-R)}A.push(Y),P.push(D)}function v(k,$,A,P,_,T,C,R){for(var S=[],j=[];k.length>P;)S.push(k.pop()),j.push($.pop()+A-_);k.push(g(r.types[C],S,j,T-_,R-T)),$.push(_-A)}function g(k,$,A,P){var _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,T=arguments.length>5?arguments[5]:void 0;if(d){var C=[un.contextHash,d];T=T?[C].concat(T):[C]}if(_>25){var R=[un.lookAhead,_];T=T?[R].concat(T):[R]}return new Dr(k,$,A,P,T)}function m(k,$,A){var P=f.id,_=f.start,T=f.end,C=f.size;if(f.next(),C>=0&&P<l){var R=A;if(C>4)for(var S=f.pos-(C-4);f.pos>S;)A=m(k,$,A);$[--A]=R,$[--A]=T-k,$[--A]=_-k,$[--A]=P}else C==-3?d=P:C==-4&&(h=P);return A}for(var y=[],b=[];f.pos>0;)p(t.start||0,t.bufferStart||0,y,b,-1);var w=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Dr(c[t.topID],y.reverse(),b.reverse(),w)}var NS=new WeakMap;function Sd(t,e){if(!t.isAnonymous||e instanceof df||e.type!=t)return 1;var n=NS.get(e);if(n==null){n=1;var r,o=he(e.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.type!=t||!(i instanceof Dr)){n=1;break}n+=Sd(t,i)}}catch(s){o.e(s)}finally{o.f()}NS.set(e,n)}return n}function s1(t,e,n,r,o,i,s,a,u){for(var l=0,f=r;f<o;f++)l+=Sd(t,e[f]);var c=Math.ceil(1.5*l/8),d=[],h=[];return function p(v,g,m,y,b){for(var w=m;w<y;){var k=w,$=g[w],A=Sd(t,v[w]);for(w++;w<y;w++){var P=Sd(t,v[w]);if(A+P>=c)break;A+=P}if(w==k+1){if(A>c){var _=v[k];p(_.children,_.positions,0,_.children.length,g[k]+b);continue}d.push(v[k])}else{var T=g[w-1]+v[w-1].length-$;d.push(s1(t,v,g,k,w,$,T,null,u))}h.push($+b-i)}}(e,n,r,o,0),(a||u)(d,h,s)}var Ov,Cd=function(){function t(e,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=arguments.length>5&&arguments[5]!==void 0&&arguments[5];se(this,t),this.from=e,this.to=n,this.tree=r,this.offset=o,this.open=(i?1:0)|(s?2:0)}return ae(t,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=[new t(0,e.length,e,0,!1,o)],s=he(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.to>e.length&&i.push(a)}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"applyChanges",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:128;if(!n.length)return e;for(var o=[],i=1,s=e.length?e[0]:null,a=0,u=0,l=0;;a++){var f=a<n.length?n[a]:null,c=f?f.fromA:1e9;if(c-u>=r)for(;s&&s.from<c;){var d=s;if(u>=d.from||c<=d.to||l){var h=Math.max(d.from,u)-l,p=Math.min(d.to,c)-l;d=h>=p?null:new t(h,p,d.tree,d.offset+l,a>0,!!f)}if(d&&o.push(d),s.to>c)break;s=i<e.length?e[i++]:null}if(!f)break;u=f.toA,l=f.toA-f.toB}return o}}]),t}(),eM=function(){function t(){se(this,t)}return ae(t,[{key:"startParse",value:function(e,n,r){return typeof e=="string"&&(e=new DH(e)),r=r?r.length?r.map(function(o){return new $v(o.from,o.to)}):[new $v(0,0)]:[new $v(0,e.length)],this.createParse(e,n||[],r)}},{key:"parse",value:function(e,n,r){for(var o=this.startParse(e,n,r);;){var i=o.advance();if(i)return i}}}]),t}(),DH=function(){function t(e){se(this,t),this.string=e}return ae(t,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,n){return this.string.slice(e,n)}}]),t}();new un({perNode:!0});var hh=new un,Ui=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];se(this,t),this.data=e,this.topNode=r,tr.prototype.hasOwnProperty("tree")||Object.defineProperty(tr.prototype,"tree",{get:function(){return Zr(this)}}),this.parser=n,this.extension=[va.of(this),tr.languageData.of(function(i,s,a){return i.facet(LS(i,s,a))})].concat(o)}return ae(t,[{key:"isActiveAt",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;return LS(e,n,r)==this.data}},{key:"findRegions",value:function(e){var n=this,r=e.facet(va);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];var o=[];return function i(s,a){if(s.prop(hh)!=n.data){var u=s.prop(un.mounted);if(u){if(u.tree.prop(hh)==n.data){if(u.overlay){var l,f=he(u.overlay);try{for(f.s();!(l=f.n()).done;){var c=l.value;o.push({from:c.from+a,to:c.to+a})}}catch(v){f.e(v)}finally{f.f()}}else o.push({from:a,to:a+s.length});return}if(u.overlay){var d=o.length;if(i(u.tree,u.overlay[0].from+a),o.length>d)return}}for(var h=0;h<s.children.length;h++){var p=s.children[h];p instanceof Dr&&i(p,s.positions[h]+a)}}else o.push({from:a,to:a+s.length})}(Zr(e),0),o}},{key:"allowsNesting",get:function(){return!0}}]),t}();function LS(t,e,n){var r=t.facet(va);if(!r)return null;var o=r.data;if(r.allowsNesting)for(var i=Zr(t).topNode;i;i=i.enter(e,n,!0,!1))o=i.type.prop(hh)||o;return o}Ui.setState=Zt.define();var BH=function(t){De(n,Ui);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this,r,o,o.topNode)).parser=o,i}return ae(n,[{key:"configure",value:function(r){return new n(this.data,this.parser.configure(r))}},{key:"allowsNesting",get:function(){return this.parser.wrappers.length>0}}],[{key:"define",value:function(r){var o,i=(o=r.languageData,Ct.define({combine:o?function(s){return s.concat(o)}:void 0}));return new n(i,r.parser.configure({props:[hh.add(function(s){return s.isTop?i:void 0})]}))}}]),n}();function Zr(t){var e=t.field(Ui.state,!1);return e?e.tree:Dr.empty}var zH=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;se(this,t),this.doc=e,this.length=n,this.cursorPos=0,this.string="",this.cursor=e.iter()}return ae(t,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,n){var r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}]),t}(),Rl=null,FH=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;se(this,t),this.parser=e,this.state=n,this.fragments=r,this.tree=o,this.treeLen=i,this.viewport=s,this.skipped=a,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}return ae(t,[{key:"startParse",value:function(){return this.parser.startParse(new zH(this.state.doc),this.fragments)}},{key:"work",value:function(e,n){var r=this;return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Dr.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(function(){var o;if(typeof e=="number"){var i=Date.now()+e;e=function(){return Date.now()>i}}for(r.parse||(r.parse=r.startParse()),n!=null&&(r.parse.stoppedAt==null||r.parse.stoppedAt>n)&&n<r.state.doc.length&&r.parse.stopAt(n);;){var s=r.parse.advance();if(s){if(r.fragments=r.withoutTempSkipped(Cd.addTree(s,r.fragments,r.parse.stoppedAt!=null)),r.treeLen=(o=r.parse.stoppedAt)!==null&&o!==void 0?o:r.state.doc.length,r.tree=s,r.parse=null,!(r.treeLen<(n!=null?n:r.state.doc.length)))return!0;r.parse=r.startParse()}if(e())return!1}})}},{key:"takeTree",value:function(){var e,n,r=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(function(){for(;!(n=r.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Cd.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var n=Rl;Rl=this;try{return e()}finally{Rl=n}}},{key:"withoutTempSkipped",value:function(e){for(var n;n=this.tempSkipped.pop();)e=RS(e,n.from,n.to);return e}},{key:"changes",value:function(e,n){var r=this.fragments,o=this.tree,i=this.treeLen,s=this.viewport,a=this.skipped;if(this.takeTree(),!e.empty){var u=[];if(e.iterChangedRanges(function(p,v,g,m){return u.push({fromA:p,toA:v,fromB:g,toB:m})}),r=Cd.applyChanges(r,u),o=Dr.empty,i=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];var l,f=he(this.skipped);try{for(f.s();!(l=f.n()).done;){var c=l.value,d=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);d<h&&a.push({from:d,to:h})}}catch(p){f.e(p)}finally{f.f()}}}return new t(this.parser,n,r,o,i,s,a,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var n=this.skipped.length,r=0;r<this.skipped.length;r++){var o=this.skipped[r],i=o.from,s=o.to;i<e.to&&s>e.from&&(this.fragments=RS(this.fragments,i,s),this.skipped.splice(r--,1))}return!(this.skipped.length>=n)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,n){this.skipped.push({from:e,to:n})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}}],[{key:"getSkippingParser",value:function(e){return new(function(n){De(o,eM);var r=Be(o);function o(){return se(this,o),r.apply(this,arguments)}return ae(o,[{key:"createParse",value:function(i,s,a){var u=a[0].from,l=a[a.length-1].to;return{parsedPos:u,advance:function(){var f=Rl;if(f){var c,d=he(a);try{for(d.s();!(c=d.n()).done;){var h=c.value;f.tempSkipped.push(h)}}catch(p){d.e(p)}finally{d.f()}e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Dr(Ei.none,[],[],l-u)},stoppedAt:null,stopAt:function(){}}}}]),o}())}},{key:"get",value:function(){return Rl}}]),t}();function RS(t,e,n){return Cd.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}var Mg=function(){function t(e){se(this,t),this.context=e,this.tree=e.tree}return ae(t,[{key:"apply",value:function(e){if(!e.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new t(n)}}],[{key:"init",value:function(e){var n=Math.min(3e3,e.doc.length),r=new FH(e.facet(va).parser,e,[],Dr.empty,0,{from:0,to:n},[],null);return r.work(20,n)||r.takeTree(),new t(r)}}]),t}();Ui.state=Xr.define({create:Mg.init,update:function(t,e){var n,r=he(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is(Ui.setState))return o.value}}catch(i){r.e(i)}finally{r.f()}return e.startState.facet(va)!=e.state.facet(va)?Mg.init(e.state):t.apply(e)}});var tM=function(t){var e=setTimeout(function(){return t()},500);return function(){return clearTimeout(e)}};typeof requestIdleCallback<"u"&&(tM=function(t){var e=-1,n=setTimeout(function(){e=requestIdleCallback(t,{timeout:400})},100);return function(){return e<0?clearTimeout(n):cancelIdleCallback(e)}});var Av=typeof navigator<"u"&&((Ov=navigator.scheduling)===null||Ov===void 0?void 0:Ov.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,qH=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return ae(t,[{key:"update",value:function(e){var n=this.view.state.field(Ui.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,n=e.field(Ui.state);n.tree==n.context.tree&&n.context.isDone(e.doc.length)||(this.working=tM(this.work))}}},{key:"work",value:function(e){this.working=null;var n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var r=this.view,o=r.state,i=r.viewport.to,s=o.field(Ui.state);if(s.tree!=s.context.tree||!s.context.isDone(i+1e5)){var a=Date.now()+Math.min(this.chunkBudget,100,e&&!Av?Math.max(25,e.timeRemaining()-5):1e9),u=s.context.treeLen<i&&o.doc.length>i+1e3,l=s.context.work(function(){return Av&&Av()||Date.now()>a},i+(u?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ui.setState.of(new Mg(s.context))})),this.chunkBudget>0&&(!l||u)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}}}},{key:"checkAsyncSchedule",value:function(e){var n=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(function(){return n.scheduleWork()}).catch(function(r){return No(n.view.state,r)}).then(function(){return n.workScheduled--}),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),t}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),va=Ct.define({combine:function(t){return t.length?t[0]:null},enables:[Ui.state,qH]}),VH=ae(function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];se(this,t),this.language=e,this.support=n,this.extension=[e,n]}),HH=Ct.define(),Ep=Ct.define({combine:function(t){if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function ph(t){var e=t.facet(Ep);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Rc(t,e){var n="",r=t.tabSize;if(t.facet(Ep).charCodeAt(0)==9)for(;e>=r;)n+="	",e-=r;for(var o=0;o<e;o++)n+=" ";return n}function a1(t,e){t instanceof tr&&(t=new Pp(t));var n,r=he(t.state.facet(HH));try{for(r.s();!(n=r.n()).done;){var o=(0,n.value)(t,e);if(o!=null)return o}}catch(s){r.e(s)}finally{r.f()}var i=Zr(t.state);return i?function(s,a,u){return rM(a.resolveInner(u).enterUnfinishedNodesBefore(u),u,s)}(t,i,e):null}var Pp=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se(this,t),this.state=e,this.options=n,this.unit=ph(e)}return ae(t,[{key:"lineAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.state.doc.lineAt(e),o=this.options,i=o.simulateBreak,s=o.simulateDoubleBreak;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}},{key:"textAfterPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var r=this.lineAt(e,n),o=r.text,i=r.from;return o.slice(e-i,Math.min(o.length,e+100-i))}},{key:"column",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),o=r.text,i=r.from,s=this.countColumn(o,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(o,o.search(/\S|$/))),s}},{key:"countColumn",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;return lf(e,this.state.tabSize,n)}},{key:"lineIndent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),o=r.text,i=r.from,s=this.options.overrideIndentation;if(s){var a=s(i);if(a>-1)return a}return this.countColumn(o,o.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),t}(),nM=new un;function WH(t){var e=t.type.prop(nM);if(e)return e;var n,r=t.firstChild;if(r&&(n=r.type.prop(un.closedBy))){var o=t.lastChild,i=o&&n.indexOf(o.name)>-1;return function(s){return function(a,u,l,f,c){var d=a.textAfter,h=d.match(/^\s*/)[0].length,p=f&&d.slice(h,h+f.length)==f||c==a.pos+h,v=u?function(g){var m=g.node,y=m.childAfter(m.from),b=m.lastChild;if(!y)return null;for(var w=g.options.simulateBreak,k=g.state.doc.lineAt(y.from),$=w==null||w<=k.from?k.to:Math.min(k.to,w),A=y.to;;){var P=m.childAfter(A);if(!P||P==b)return null;if(!P.type.isSkipped)return P.from<$?y:null;A=P.to}}(a):null;return v?p?a.column(v.from):a.column(v.to):a.baseIndent+(p?0:a.unit*l)}(s,!0,1,void 0,i&&!function(a){return a.pos==a.options.simulateBreak&&a.options.simulateDoubleBreak}(s)?o.from:void 0)}}return t.parent==null?UH:null}function rM(t,e,n){for(;t;t=t.parent){var r=WH(t);if(r)return r(new JH(n,e,t))}return null}function UH(){return 0}var JH=function(t){De(n,Pp);var e=Be(n);function n(r,o,i){var s;return se(this,n),(s=e.call(this,r.state,r.options)).base=r,s.pos=o,s.node=i,s}return ae(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var r=this.state.doc.lineAt(this.node.from);;){for(var o=this.node.resolve(r.from);o.parent&&o.parent.from==o.from;)o=o.parent;if(KH(o,this.node))break;r=this.state.doc.lineAt(o.from)}return this.lineIndent(r.from)}},{key:"continue",value:function(){var r=this.node.parent;return r?rM(r,this.pos,this.base):0}}]),n}();function KH(t,e){for(var n=e;n;n=n.parent)if(t==n)return!0;return!1}function DS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.except,n=t.units,r=n===void 0?1:n;return function(o){var i=e&&e.test(o.textAfter);return o.baseIndent+(i?0:r*o.unit)}}function GH(){return tr.transactionFilter.of(function(t){if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;var e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;var n=t.newDoc,r=t.newSelection.main.head,o=n.lineAt(r);if(r>o.from+200)return t;var i=n.sliceString(o.from,r);if(!e.some(function(g){return g.test(i)}))return t;var s,a=t.state,u=-1,l=[],f=he(a.selection.ranges);try{for(f.s();!(s=f.n()).done;){var c=s.value.head,d=a.doc.lineAt(c);if(d.from!=u){u=d.from;var h=a1(a,d.from);if(h!=null){var p=/^\s*/.exec(d.text)[0],v=Rc(a,h);p!=v&&l.push({from:d.from,to:d.from+p.length,insert:v})}}}}catch(g){f.e(g)}finally{f.f()}return l.length?[t,{changes:l,sequential:!0}]:t})}var QH=Ct.define(),oM=new un;function vh(t,e,n){var r,o=he(t.facet(QH));try{for(o.s();!(r=o.n()).done;){var i=(0,r.value)(t,e,n);if(i)return i}}catch(s){o.e(s)}finally{o.f()}return function(s,a,u){var l=Zr(s);if(l.length==0)return null;for(var f,c,d=null,h=l.resolveInner(u);h;h=h.parent)if(!(h.to<=u||h.from>u)){if(d&&h.from<a)break;var p=h.type.prop(oM);if(p&&(h.to<l.length-50||l.length==s.doc.length||(c=void 0,!(c=(f=h).lastChild)||c.to!=f.to||!c.type.isError))){var v=p(h,s);v&&v.from<=u&&v.from>=a&&v.to>u&&(d=v)}}return d}(t,e,n)}var Vi=function(t){De(n,Ua);var e=Be(n);function n(){return se(this,n),e.apply(this,arguments)}return ae(n,[{key:"compare",value:function(r){return this==r||this.constructor==r.constructor&&this.eq(r)}},{key:"eq",value:function(r){return!1}},{key:"destroy",value:function(r){}}]),n}();Vi.prototype.elementClass="",Vi.prototype.toDOM=void 0,Vi.prototype.mapMode=so.TrackBefore,Vi.prototype.startSide=Vi.prototype.endSide=-1,Vi.prototype.point=!0;var $d=Ct.define(),YH={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return Un.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fc=Ct.define();function iM(t){return[sM(),fc.of(Object.assign(Object.assign({},YH),t))]}var XH=Ot.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),Ig=Ct.define({combine:function(t){return t.some(function(e){return e})}});function sM(t){var e=[ZH,XH];return t&&t.fixed===!1&&e.push(Ig.of(!0)),e}var ZH=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(fc).map(function(i){return new zS(e,i)});var n,r=he(this.gutters);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.dom.appendChild(o.dom)}}catch(i){r.e(i)}finally{r.f()}this.fixed=!e.state.facet(Ig),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}return ae(t,[{key:"update",value:function(e){if(this.updateGutters(e)){var n=this.prevViewport,r=e.view.viewport,o=Math.min(n.to,r.to)-Math.max(n.from,r.from);this.syncGutters(o<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Ig)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var n=this,r=this.dom.nextSibling;e&&this.dom.remove();var o,i=Un.iter(this.view.state.facet($d),this.view.viewport.from),s=[],a=this.gutters.map(function(y){return new eW(y,n.view.viewport,-n.view.documentPadding.top)}),u=he(this.view.viewportLineBlocks);try{for(u.s();!(o=u.n()).done;){var l=o.value,f=void 0;if(Array.isArray(l.type)){var c,d=he(l.type);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(h.type==qn.Text){f=h;break}}}catch(y){d.e(y)}finally{d.f()}}else f=l.type==qn.Text?l:void 0;if(f){s.length&&(s=[]),aM(i,s,l.from);var p,v=he(a);try{for(v.s();!(p=v.n()).done;)p.value.line(this.view,f,s)}catch(y){v.e(y)}finally{v.f()}}}}catch(y){u.e(y)}finally{u.f()}var g,m=he(a);try{for(m.s();!(g=m.n()).done;)g.value.finish()}catch(y){m.e(y)}finally{m.f()}e&&this.view.scrollDOM.insertBefore(this.dom,r)}},{key:"updateGutters",value:function(e){var n=e.startState.facet(fc),r=e.state.facet(fc),o=e.docChanged||e.heightChanged||e.viewportChanged||!Un.eq(e.startState.facet($d),e.state.facet($d),e.view.viewport.from,e.view.viewport.to);if(n==r){var i,s=he(this.gutters);try{for(s.s();!(i=s.n()).done;)i.value.update(e)&&(o=!0)}catch(y){s.e(y)}finally{s.f()}}else{o=!0;var a,u=[],l=he(r);try{for(l.s();!(a=l.n()).done;){var f=a.value,c=n.indexOf(f);c<0?u.push(new zS(this.view,f)):(this.gutters[c].update(e),u.push(this.gutters[c]))}}catch(y){l.e(y)}finally{l.f()}var d,h=he(this.gutters);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.dom.remove(),u.indexOf(p)<0&&p.destroy()}}catch(y){h.e(y)}finally{h.f()}for(var v=0,g=u;v<g.length;v++){var m=g[v];this.dom.appendChild(m.dom)}this.gutters=u}return o}},{key:"destroy",value:function(){var e,n=he(this.gutters);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}this.dom.remove()}}]),t}(),{provide:vo.scrollMargins.from(function(t){return t.gutters.length!=0&&t.fixed?t.view.textDirection==jn.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})});function BS(t){return Array.isArray(t)?t:[t]}function aM(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}var eW=function(){function t(e,n,r){se(this,t),this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=Un.iter(e.markers,n.from)}return ae(t,[{key:"line",value:function(e,n,r){this.localMarkers.length&&(this.localMarkers=[]),aM(this.cursor,this.localMarkers,n.from);var o=r.length?this.localMarkers.concat(r):this.localMarkers,i=this.gutter.config.lineMarker(e,n,o);i&&o.unshift(i);var s=this.gutter;if(o.length!=0||s.config.renderEmptyElements){var a=n.top-this.height;if(this.i==s.elements.length){var u=new uM(e,n.height,a,o);s.elements.push(u),s.dom.appendChild(u.dom)}else s.elements[this.i].update(e,n.height,a,o);this.height=n.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}]),t}(),zS=function(){function t(e,n){var r=this;se(this,t),this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var o=function(s){r.dom.addEventListener(s,function(a){var u=e.lineBlockAtHeight(a.clientY-e.documentTop);n.domEventHandlers[s](e,u,a)&&a.preventDefault()})};for(var i in n.domEventHandlers)o(i);this.markers=BS(n.markers(e)),n.initialSpacer&&(this.spacer=new uM(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return ae(t,[{key:"update",value:function(e){var n=this.markers;if(this.markers=BS(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}var o=e.view.viewport;return!Un.eq(this.markers,n,o.from,o.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,n=he(this.elements);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}}}]),t}(),uM=function(){function t(e,n,r,o){se(this,t),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,n,r,o)}return ae(t,[{key:"update",value:function(e,n,r,o){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(i,s){if(i.length!=s.length)return!1;for(var a=0;a<i.length;a++)if(!i[a].compare(s[a]))return!1;return!0}(this.markers,o)||this.setMarkers(e,o)}},{key:"setMarkers",value:function(e,n){for(var r="cm-gutterElement",o=this.dom.firstChild,i=0,s=0;;){var a=s,u=i<n.length?n[i++]:null,l=!1;if(u){var f=u.elementClass;f&&(r+=" "+f);for(var c=s;c<this.markers.length;c++)if(this.markers[c].compare(u)){a=c,l=!0;break}}else a=this.markers.length;for(;s<a;){var d=this.markers[s++];if(d.toDOM){d.destroy(o);var h=o.nextSibling;o.remove(),o=h}}if(!u)break;u.toDOM&&(l?o=o.nextSibling:this.dom.insertBefore(u.toDOM(e),o)),l&&s++}this.dom.className=r,this.markers=n}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),t}(),tW=Ct.define(),Mu=Ct.define({combine:function(t){return Ms(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,n){var r=Object.assign({},e),o=function(s){var a=r[s],u=n[s];r[s]=a?function(l,f,c){return a(l,f,c)||u(l,f,c)}:u};for(var i in n)o(i);return r}})}}),Ev=function(t){De(n,Vi);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).number=r,o}return ae(n,[{key:"eq",value:function(r){return this.number==r.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}();function Pv(t,e){return t.state.facet(Mu).formatNumber(e,t.state)}var nW=fc.compute([Mu],function(t){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(tW)},lineMarker:function(e,n,r){return r.some(function(o){return o.toDOM})?null:new Ev(Pv(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:function(e){return e.startState.facet(Mu)!=e.state.facet(Mu)},initialSpacer:function(e){return new Ev(Pv(e,FS(e.state.doc.lines)))},updateSpacer:function(e,n){var r=Pv(n.view,FS(n.view.state.doc.lines));return r==e.number?e:new Ev(r)},domEventHandlers:t.facet(Mu).domEventHandlers}});function rW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Mu.of(t),sM(),nW]}function FS(t){for(var e=9;e<t;)e=10*e+9;return e}var oW=new(function(t){De(n,Vi);var e=Be(n);function n(){var r;return se(this,n),(r=e.apply(this,arguments)).elementClass="cm-activeLineGutter",r}return ae(n)}()),iW=$d.compute(["selection"],function(t){var e,n=[],r=-1,o=he(t.selection.ranges);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(i.empty){var s=t.doc.lineAt(i.head).from;s>r&&(r=s,n.push(oW.range(s)))}}}catch(a){o.e(a)}finally{o.f()}return Un.of(n)});function sW(){return iW}function lM(t,e){var n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}var mh=Zt.define({map:lM}),Dc=Zt.define({map:lM});function qS(t){var e,n=[],r=he(t.state.selection.ranges);try{var o=function(){var i=e.value.head;if(n.some(function(s){return s.from<=i&&s.to>=i}))return"continue";n.push(t.lineBlockAt(i))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}var nu=Xr.define({create:function(){return Pt.none},update:function(t,e){t=t.map(e.changes);var n,r=he(e.effects);try{var o=function(){var a=n.value;a.is(mh)&&!function(u,l,f){var c=!1;return u.between(l,l,function(d,h){d==l&&h==f&&(c=!0)}),c}(t,a.value.from,a.value.to)?t=t.update({add:[lW.range(a.value.from,a.value.to)]}):a.is(Dc)&&(t=t.update({filter:function(u,l){return a.value.from!=u||a.value.to!=l},filterFrom:a.value.from,filterTo:a.value.to}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}if(e.selection){var i=!1,s=e.selection.main.head;t.between(s,s,function(a,u){a<s&&u>s&&(i=!0)}),i&&(t=t.update({filterFrom:s,filterTo:s,filter:function(a,u){return u<=s||a>=s}}))}return t},provide:function(t){return Ot.decorations.from(t)}});function gh(t,e,n){var r,o=null;return(r=t.field(nu,!1))===null||r===void 0||r.between(e,n,function(i,s){(!o||o.from>i)&&(o={from:i,to:s})}),o}function VS(t,e){return t.field(nu,!1)?e:e.concat(Zt.appendConfig.of(fM()))}function HS(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return Ot.announce.of("".concat(t.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(t.state.phrase("to")," ").concat(o,"."))}var aW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(t){var e,n=he(qS(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=vh(t.state,r.from,r.to);if(o)return t.dispatch({effects:VS(t.state,[mh.of(o),HS(t,o)])}),!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(t){if(!t.state.field(nu,!1))return!1;var e,n=[],r=he(qS(t));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=gh(t.state,o.from,o.to);i&&n.push(Dc.of(i),HS(t,i,!1))}}catch(s){r.e(s)}finally{r.f()}return n.length&&t.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(t){for(var e=t.state,n=[],r=0;r<e.doc.length;){var o=t.lineBlockAt(r),i=vh(e,o.from,o.to);i&&n.push(mh.of(i)),r=(i?t.lineBlockAt(i.to):o).to+1}return n.length&&t.dispatch({effects:VS(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(t){var e=t.state.field(nu,!1);if(!e||!e.size)return!1;var n=[];return e.between(0,t.state.doc.length,function(r,o){n.push(Dc.of({from:r,to:o}))}),t.dispatch({effects:n}),!0}}],uW={placeholderDOM:null,placeholderText:"\u2026"},cM=Ct.define({combine:function(t){return Ms(t,uW)}});function fM(t){var e=[nu,dW];return t&&e.push(cM.of(t)),e}var lW=Pt.replace({widget:new(function(t){De(n,ja);var e=Be(n);function n(){return se(this,n),e.apply(this,arguments)}return ae(n,[{key:"toDOM",value:function(r){var o=r.state,i=o.facet(cM),s=function(u){var l=r.lineBlockAt(r.posAtDOM(u.target)),f=gh(r.state,l.from,l.to);f&&r.dispatch({effects:Dc.of(f)}),u.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(r,s);var a=document.createElement("span");return a.textContent=i.placeholderText,a.setAttribute("aria-label",o.phrase("folded code")),a.title=o.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}}]),n}())}),cW={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{}},Tv=function(t){De(n,Vi);var e=Be(n);function n(r,o){var i;return se(this,n),(i=e.call(this)).config=r,i.open=o,i}return ae(n,[{key:"eq",value:function(r){return this.config==r.config&&this.open==r.open}},{key:"toDOM",value:function(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);var o=document.createElement("span");return o.textContent=this.open?this.config.openText:this.config.closedText,o.title=r.state.phrase(this.open?"Fold line":"Unfold line"),o}}]),n}();function fW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign(Object.assign({},cW),t),n=new Tv(e,!0),r=new Tv(e,!1),o=Fr.fromClass(function(){function s(a){se(this,s),this.from=a.viewport.from,this.markers=this.buildMarkers(a)}return ae(s,[{key:"update",value:function(a){(a.docChanged||a.viewportChanged||a.startState.facet(va)!=a.state.facet(va)||a.startState.field(nu,!1)!=a.state.field(nu,!1)||Zr(a.startState)!=Zr(a.state))&&(this.markers=this.buildMarkers(a.view))}},{key:"buildMarkers",value:function(a){var u,l=new Yu,f=he(a.viewportLineBlocks);try{for(f.s();!(u=f.n()).done;){var c=u.value,d=gh(a.state,c.from,c.to)?r:vh(a.state,c.from,c.to)?n:null;d&&l.add(c.from,c.from,d)}}catch(h){f.e(h)}finally{f.f()}return l.finish()}}]),s}()),i=e.domEventHandlers;return[o,iM({class:"cm-foldGutter",markers:function(s){var a;return((a=s.plugin(o))===null||a===void 0?void 0:a.markers)||Un.empty},initialSpacer:function(){return new Tv(e,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:function(s,a,u){if(i.click&&i.click(s,a,u))return!0;var l=gh(s.state,a.from,a.to);if(l)return s.dispatch({effects:Dc.of(l)}),!0;var f=vh(s.state,a.from,a.to);return!!f&&(s.dispatch({effects:mh.of(f)}),!0)}})}),fM()]}var dW=Ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),hW=Ot.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),dM=Ct.define({combine:function(t){return Ms(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4})}}),pW=Pt.mark({class:"cm-matchingBracket"}),vW=Pt.mark({class:"cm-nonmatchingBracket"}),mW=[Xr.define({create:function(){return Pt.none},update:function(t,e){if(!e.docChanged&&!e.selection)return t;var n,r=[],o=e.state.facet(dM),i=he(e.state.selection.ranges);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.empty){var a=Ji(e.state,s.head,-1,o)||s.head>0&&Ji(e.state,s.head-1,1,o)||o.afterCursor&&(Ji(e.state,s.head,1,o)||s.head<e.state.doc.length&&Ji(e.state,s.head+1,-1,o));if(a){var u=a.matched?pW:vW;r.push(u.range(a.start.from,a.start.to)),a.end&&r.push(u.range(a.end.from,a.end.to))}}}}catch(l){i.e(l)}finally{i.f()}return Pt.set(r,!0)},provide:function(t){return Ot.decorations.from(t)}}),hW];function gW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[dM.of(t),mW]}function Ng(t,e,n){var r=t.prop(e<0?un.openedBy:un.closedBy);if(r)return r;if(t.name.length==1){var o=n.indexOf(t.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function Ji(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.maxScanDistance||1e4,i=r.brackets||"()[]{}",s=Zr(t),a=s.resolveInner(e,n),u=a;u;u=u.parent){var l=Ng(u.type,n,i);if(l&&u.from<u.to)return yW(t,e,n,u,l,i)}return bW(t,e,n,s,a.type,o,i)}function yW(t,e,n,r,o,i){var s=r.parent,a={from:r.from,to:r.to},u=0,l=s==null?void 0:s.cursor;if(l&&(n<0?l.childBefore(r.from):l.childAfter(r.to)))do if(n<0?l.to<=r.from:l.from>=r.to){if(u==0&&o.indexOf(l.type.name)>-1&&l.from<l.to)return{start:a,end:{from:l.from,to:l.to},matched:!0};if(Ng(l.type,n,i))u++;else if(Ng(l.type,-n,i)&&--u==0)return{start:a,end:l.from==l.to?void 0:{from:l.from,to:l.to},matched:!1}}while(n<0?l.prevSibling():l.nextSibling());return{start:a,matched:!1}}function bW(t,e,n,r,o,i,s){var a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=s.indexOf(a);if(u<0||u%2==0!=n>0)return null;for(var l={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),c=0,d=0;!f.next().done&&d<=i;){var h=f.value;n<0&&(d+=h.length);for(var p=e+d*n,v=n>0?0:h.length-1,g=n>0?h.length:-1;v!=g;v+=n){var m=s.indexOf(h[v]);if(!(m<0||r.resolve(p+v,1).type!=o))if(m%2==0==n>0)c++;else{if(c==1)return{start:l,end:{from:p+v,to:p+v+1},matched:m>>1==u>>1};c--}}n>0&&(d+=h.length)}return f.done?{start:l,matched:!1}:null}function Fu(t,e){return Ke.create(t.ranges.map(e),t.mainIndex)}function ts(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ys(t,e){var n=t.state,r=t.dispatch,o=Fu(n.selection,e);return!o.eq(n.selection)&&(r(ts(n,o)),!0)}function Tp(t,e){return Ke.cursor(e?t.to:t.from)}function hM(t,e){return ys(t,function(n){return n.empty?t.moveByChar(n,e):Tp(n,e)})}var WS=function(t){return hM(t,t.textDirection!=jn.LTR)},US=function(t){return hM(t,t.textDirection==jn.LTR)};function JS(t,e){return ys(t,function(n){return n.empty?t.moveByGroup(n,e):Tp(n,e)})}function wW(t,e,n){if(e.type.prop(n))return!0;var r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Zf(t,e,n){for(var r=Zr(t).resolveInner(e.head),o=n?un.closedBy:un.openedBy,i=e.head;;){var s=n?r.childAfter(i):r.childBefore(i);if(!s)break;wW(t,s,o)?r=s:i=n?s.to:s.from}var a,u;return u=r.type.prop(o)&&(a=n?Ji(t,r.from,1):Ji(t,r.to,-1))&&a.matched?n?a.end.to:a.end.from:n?r.to:r.from,Ke.cursor(u,n?-1:1)}function pM(t,e){return ys(t,function(n){if(!n.empty)return Tp(n,e);var r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}var KS=function(t){return pM(t,!1)},GS=function(t){return pM(t,!0)};function vM(t,e){var n=t.state,r=Fu(n.selection,function(s){return s.empty?t.moveVertically(s,e,t.dom.clientHeight):Tp(s,e)});if(r.eq(n.selection))return!1;var o=t.coordsAtPos(n.selection.main.head),i=t.scrollDOM.getBoundingClientRect();return t.dispatch(ts(n,r),{effects:o&&o.top>i.top&&o.bottom<i.bottom?Ot.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-i.top}):void 0}),!0}var QS=function(t){return vM(t,!1)},Mv=function(t){return vM(t,!0)};function Mp(t,e,n){var r=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){var i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(o=Ke.cursor(r.from+i))}return o}var YS=function(t){return ys(t,function(e){return Mp(t,e,!0)})},XS=function(t){return ys(t,function(e){return Mp(t,e,!1)})};function Ki(t,e){var n=Fu(t.state.selection,function(r){var o=e(r);return Ke.range(r.anchor,o.head,o.goalColumn)});return!n.eq(t.state.selection)&&(t.dispatch(ts(t.state,n)),!0)}function mM(t,e){return Ki(t,function(n){return t.moveByChar(n,e)})}var ZS=function(t){return mM(t,t.textDirection!=jn.LTR)},eC=function(t){return mM(t,t.textDirection==jn.LTR)};function tC(t,e){return Ki(t,function(n){return t.moveByGroup(n,e)})}function gM(t,e){return Ki(t,function(n){return t.moveVertically(n,e)})}var nC=function(t){return gM(t,!1)},rC=function(t){return gM(t,!0)};function yM(t,e){return Ki(t,function(n){return t.moveVertically(n,e,t.dom.clientHeight)})}var oC=function(t){return yM(t,!1)},iC=function(t){return yM(t,!0)},sC=function(t){return Ki(t,function(e){return Mp(t,e,!0)})},aC=function(t){return Ki(t,function(e){return Mp(t,e,!1)})},uC=function(t){var e=t.state;return(0,t.dispatch)(ts(e,{anchor:0})),!0},lC=function(t){var e=t.state;return(0,t.dispatch)(ts(e,{anchor:e.doc.length})),!0},cC=function(t){var e=t.state;return(0,t.dispatch)(ts(e,{anchor:e.selection.main.anchor,head:0})),!0},fC=function(t){var e=t.state;return(0,t.dispatch)(ts(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0};function Ip(t,e){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var o="delete.selection",i=n.changeByRange(function(s){var a=s.from,u=s.to;if(a==u){var l=e(a);l<a?o="delete.backward":l>a&&(o="delete.forward"),a=Math.min(a,l),u=Math.max(u,l)}return a==u?{range:s}:{changes:{from:a,to:u},range:Ke.cursor(a)}});return!i.changes.empty&&(r(n.update(i,{scrollIntoView:!0,userEvent:o})),!0)}function Np(t,e,n){if(t instanceof Ot){var r,o=he(t.pluginField(vo.atomicRanges));try{for(o.s();!(r=o.n()).done;)r.value.between(e,e,function(i,s){i<e&&s>e&&(e=n?s:i)})}catch(i){o.e(i)}finally{o.f()}}return e}var bM=function(t,e){return Ip(t,function(n){var r,o,i=t.state,s=i.doc.lineAt(n);if(!e&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if(r[r.length-1]=="	")return n-1;for(var a=lf(r,i.tabSize)%ph(i)||ph(i),u=0;u<a&&r[r.length-1-u]==" ";u++)n--;o=n}else(o=To(s.text,n-s.from,e,e)+s.from)==n&&s.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return Np(t,o,e)})},Iv=function(t){return bM(t,!1)},dC=function(t){return bM(t,!0)},wM=function(t,e){return Ip(t,function(n){for(var r=n,o=t.state,i=o.doc.lineAt(r),s=o.charCategorizer(r),a=null;;){if(r==(e?i.to:i.from)){r==n&&i.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}var u=To(i.text,r-i.from,e)+i.from,l=i.text.slice(Math.min(r,u)-i.from,Math.max(r,u)-i.from),f=s(l);if(a!=null&&f!=a)break;l==" "&&r==n||(a=f),r=u}return Np(t,r,e)})},hC=function(t){return wM(t,!1)},pC=function(t){return Ip(t,function(e){var n=t.lineBlockAt(e).to;return Np(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)})};function yh(t){var e,n=[],r=-1,o=he(t.selection.ranges);try{for(o.s();!(e=o.n()).done;){var i=e.value,s=t.doc.lineAt(i.from),a=t.doc.lineAt(i.to);if(i.empty||i.to!=a.from||(a=t.doc.lineAt(i.to-1)),r>=s.number){var u=n[n.length-1];u.to=a.to,u.ranges.push(i)}else n.push({from:s.from,to:a.to,ranges:[i]});r=a.number+1}}catch(l){o.e(l)}finally{o.f()}return n}function vC(t,e,n){if(t.readOnly)return!1;var r,o=[],i=[],s=he(yh(t));try{for(s.s();!(r=s.n()).done;){var a=r.value;if(n?a.to!=t.doc.length:a.from!=0){var u=t.doc.lineAt(n?a.to+1:a.from-1),l=u.length+1;if(n){o.push({from:a.to,to:u.to},{from:a.from,insert:u.text+t.lineBreak});var f,c=he(a.ranges);try{for(c.s();!(f=c.n()).done;){var d=f.value;i.push(Ke.range(Math.min(t.doc.length,d.anchor+l),Math.min(t.doc.length,d.head+l)))}}catch(g){c.e(g)}finally{c.f()}}else{o.push({from:u.from,to:a.from},{from:a.to,insert:t.lineBreak+u.text});var h,p=he(a.ranges);try{for(p.s();!(h=p.n()).done;){var v=h.value;i.push(Ke.range(v.anchor-l,v.head-l))}}catch(g){p.e(g)}finally{p.f()}}}}}catch(g){s.e(g)}finally{s.f()}return!!o.length&&(e(t.update({changes:o,scrollIntoView:!0,selection:Ke.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function mC(t,e,n){if(t.readOnly)return!1;var r,o=[],i=he(yh(t));try{for(i.s();!(r=i.n()).done;){var s=r.value;n?o.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):o.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)})}}catch(a){i.e(a)}finally{i.f()}return e(t.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var kW=kM(!1);function kM(t){return function(e){var n=e.state,r=e.dispatch;if(n.readOnly)return!1;var o=n.changeByRange(function(i){var s=i.from,a=i.to,u=n.doc.lineAt(s),l=!t&&s==a&&function(h,p){if(/\(\)|\[\]|\{\}/.test(h.sliceDoc(p-1,p+1)))return{from:p,to:p};var v,g=Zr(h).resolveInner(p),m=g.childBefore(p),y=g.childAfter(p);return m&&y&&m.to<=p&&y.from>=p&&(v=m.type.prop(un.closedBy))&&v.indexOf(y.name)>-1&&h.doc.lineAt(m.to).from==h.doc.lineAt(y.from).from?{from:m.to,to:y.from}:null}(n,s);t&&(s=a=(a<=u.to?u:n.doc.lineAt(a)).to);var f=new Pp(n,{simulateBreak:s,simulateDoubleBreak:!!l}),c=a1(f,s);for(c==null&&(c=/^\s*/.exec(n.doc.lineAt(s).text)[0].length);a<u.to&&/\s/.test(u.text[a-u.from]);)a++;l?(s=l.from,a=l.to):s>u.from&&s<u.from+100&&!/\S/.test(u.text.slice(0,s))&&(s=u.from);var d=["",Rc(n,c)];return l&&d.push(Rc(n,f.lineIndent(u.from,-1))),{changes:{from:s,to:a,insert:Fn.of(d)},range:Ke.cursor(s+1+d[1].length)}});return r(n.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function u1(t,e){var n=-1;return t.changeByRange(function(r){for(var o=[],i=r.from;i<=r.to;){var s=t.doc.lineAt(i);s.number>n&&(r.empty||r.to>s.from)&&(e(s,o,r),n=s.number),i=s.to+1}var a=t.changes(o);return{changes:o,range:Ke.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}var xM=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(u1(e,function(r,o){o.push({from:r.from,insert:e.facet(Ep)})}),{userEvent:"input.indent"})),!0)},jM=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(u1(e,function(r,o){var i=/^\s*/.exec(r.text)[0];if(i){for(var s=lf(i,e.tabSize),a=0,u=Rc(e,Math.max(0,s-ph(e)));a<i.length&&a<u.length&&i.charCodeAt(a)==u.charCodeAt(a);)a++;o.push({from:r.from+a,to:r.from+i.length,insert:u.slice(a)})}}),{userEvent:"delete.dedent"})),!0)},xW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(t){return ys(t,function(e){return Zf(t.state,e,t.textDirection!=jn.LTR)})},shift:function(t){return Ki(t,function(e){return Zf(t.state,e,t.textDirection!=jn.LTR)})}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(t){return ys(t,function(e){return Zf(t.state,e,t.textDirection==jn.LTR)})},shift:function(t){return Ki(t,function(e){return Zf(t.state,e,t.textDirection==jn.LTR)})}},{key:"Alt-ArrowUp",run:function(t){return vC(t.state,t.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(t){return mC(t.state,t.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(t){return vC(t.state,t.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(t){return mC(t.state,t.dispatch,!0)}},{key:"Escape",run:function(t){var e=t.state,n=t.dispatch,r=e.selection,o=null;return r.ranges.length>1?o=Ke.create([r.main]):r.main.empty||(o=Ke.create([Ke.cursor(r.main.head)])),!!o&&(n(ts(e,o)),!0)}},{key:"Mod-Enter",run:kM(!0)},{key:"Alt-l",mac:"Ctrl-l",run:function(t){var e=t.state,n=t.dispatch,r=yh(e).map(function(o){var i=o.from,s=o.to;return Ke.range(i,Math.min(s+1,e.doc.length))});return n(e.update({selection:Ke.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(t){var e=t.state,n=t.dispatch,r=Fu(e.selection,function(o){for(var i,s=Zr(e).resolveInner(o.head,1);!(s.from<o.from&&s.to>=o.to||s.to>o.to&&s.from<=o.from)&&((i=s.parent)===null||i===void 0?void 0:i.parent);)s=s.parent;return Ke.range(s.to,s.from)});return n(ts(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:jM},{key:"Mod-]",run:xM},{key:"Mod-Alt-\\",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=Object.create(null),o=new Pp(e,{overrideIndentation:function(s){var a=r[s];return a==null?-1:a}}),i=u1(e,function(s,a,u){var l=a1(o,s.from);if(l!=null){/\S/.test(s.text)||(l=0);var f=/^\s*/.exec(s.text)[0],c=Rc(e,l);(f!=c||u.from<s.from+f.length)&&(r[s.from]=l,a.push({from:s.from,to:s.from+f.length,insert:c}))}});return i.changes.empty||n(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(t){if(t.state.readOnly)return!1;var e=t.state,n=e.changes(yh(e).map(function(o){var i=o.from,s=o.to;return i>0?i--:s<e.doc.length&&s++,{from:i,to:s}})),r=Fu(e.selection,function(o){return t.moveVertically(o,!0)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(t){return function(e,n,r){var o=!1,i=Fu(e.selection,function(s){var a=Ji(e,s.head,-1)||Ji(e,s.head,1)||s.head>0&&Ji(e,s.head-1,1)||s.head<e.doc.length&&Ji(e,s.head+1,-1);if(!a||!a.end)return s;o=!0;var u=a.start.from==s.head?a.end.to:a.end.from;return r?Ke.range(s.anchor,u):Ke.cursor(u)});return!!o&&(n(ts(e,i)),!0)}(t.state,t.dispatch,!1)}}].concat([{key:"ArrowLeft",run:WS,shift:ZS,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(t){return JS(t,t.textDirection!=jn.LTR)},shift:function(t){return tC(t,t.textDirection!=jn.LTR)}},{mac:"Cmd-ArrowLeft",run:XS,shift:aC},{key:"ArrowRight",run:US,shift:eC,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(t){return JS(t,t.textDirection==jn.LTR)},shift:function(t){return tC(t,t.textDirection==jn.LTR)}},{mac:"Cmd-ArrowRight",run:YS,shift:sC},{key:"ArrowUp",run:KS,shift:nC,preventDefault:!0},{mac:"Cmd-ArrowUp",run:uC,shift:cC},{mac:"Ctrl-ArrowUp",run:QS,shift:oC},{key:"ArrowDown",run:GS,shift:rC,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lC,shift:fC},{mac:"Ctrl-ArrowDown",run:Mv,shift:iC},{key:"PageUp",run:QS,shift:oC},{key:"PageDown",run:Mv,shift:iC},{key:"Home",run:XS,shift:aC},{key:"Mod-Home",run:uC,shift:cC},{key:"End",run:YS,shift:sC},{key:"Mod-End",run:lC,shift:fC},{key:"Enter",run:kW},{key:"Mod-a",run:function(t){var e=t.state;return(0,t.dispatch)(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Iv,shift:Iv},{key:"Delete",run:dC},{key:"Mod-Backspace",mac:"Alt-Backspace",run:hC},{key:"Mod-Delete",mac:"Alt-Delete",run:function(t){return wM(t,!0)}},{mac:"Mod-Backspace",run:function(t){return Ip(t,function(e){var n=t.lineBlockAt(e).from;return Np(t,e>n?n:Math.max(0,e-1),!1)})}},{mac:"Mod-Delete",run:pC}].concat([{key:"Ctrl-b",run:WS,shift:ZS,preventDefault:!0},{key:"Ctrl-f",run:US,shift:eC},{key:"Ctrl-p",run:KS,shift:nC},{key:"Ctrl-n",run:GS,shift:rC},{key:"Ctrl-a",run:function(t){return ys(t,function(e){return Ke.cursor(t.lineBlockAt(e.head).from,1)})},shift:function(t){return Ki(t,function(e){return Ke.cursor(t.lineBlockAt(e.head).from)})}},{key:"Ctrl-e",run:function(t){return ys(t,function(e){return Ke.cursor(t.lineBlockAt(e.head).to,-1)})},shift:function(t){return Ki(t,function(e){return Ke.cursor(t.lineBlockAt(e.head).to)})}},{key:"Ctrl-d",run:dC},{key:"Ctrl-h",run:Iv},{key:"Ctrl-k",run:pC},{key:"Ctrl-Alt-h",run:hC},{key:"Ctrl-o",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(o){return{changes:{from:o.from,to:o.to,insert:Fn.of(["",""])},range:Ke.cursor(o.from)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(o){if(!o.empty||o.from==0||o.from==e.doc.length)return{range:o};var i=o.from,s=e.doc.lineAt(i),a=i==s.from?i-1:To(s.text,i-s.from,!1)+s.from,u=i==s.to?i+1:To(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:u,insert:e.doc.slice(i,u).append(e.doc.slice(a,i))},range:Ke.cursor(u)}});return!r.changes.empty&&(n(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Mv}].map(function(t){return{mac:t.key,run:t.run,shift:t.shift}}))),jW={key:"Tab",run:xM,shift:jM},bh={brackets:["(","[","{","'",'"'],before:")]}:;>"},Ja=Zt.define({map:function(t,e){var n=e.mapPos(t,-1,so.TrackAfter);return n==null?void 0:n}}),l1=Zt.define({map:function(t,e){return e.mapPos(t)}}),Lg=new(function(t){De(n,Ua);var e=Be(n);function n(){return se(this,n),e.apply(this,arguments)}return ae(n)}());Lg.startSide=1,Lg.endSide=-1;var _M=Xr.define({create:function(){return Un.empty},update:function(t,e){if(e.selection){var n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Un.empty)}t=t.map(e.changes);var o,i=he(e.effects);try{var s=function(){var a=o.value;a.is(Ja)?t=t.update({add:[Lg.range(a.value,a.value+1)]}):a.is(l1)&&(t=t.update({filter:function(u){return u!=a.value}}))};for(i.s();!(o=i.n()).done;)s()}catch(a){i.e(a)}finally{i.f()}return t}});function _W(){return[CW,_M]}function SM(t){for(var e=0;e<8;e+=2)if("()[]{}<>".charCodeAt(e)==t)return"()[]{}<>".charAt(e+1);return Yy(t<128?t:t+1)}function CM(t,e){return t.languageDataAt("closeBrackets",e)[0]||bh}var SW=(typeof navigator>"u"?"undefined":ut(navigator))=="object"&&/Android\b/.test(navigator.userAgent),CW=Ot.inputHandler.of(function(t,e,n,r){if((SW?t.composing:t.compositionStarted)||t.state.readOnly)return!1;var o=t.state.selection.main;if(r.length>2||r.length==2&&Ko(Hr(r,0))==1||e!=o.from||n!=o.to)return!1;var i=function(s,a){var u,l=CM(s,s.selection.main.head),f=l.brackets||bh.brackets,c=he(f);try{for(c.s();!(u=c.n()).done;){var d=u.value,h=SM(Hr(d,0));if(a==d)return h==d?EW(s,d,f.indexOf(d+d+d)>-1):OW(s,d,h,l.before||bh.before);if(a==h&&$M(s,s.selection.main.from))return AW(s,d,h)}}catch(p){c.e(p)}finally{c.f()}return null}(t.state,r);return!!i&&(t.dispatch(i),!0)}),$W=[{key:"Backspace",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=CM(e,e.selection.main.head).brackets||bh.brackets,o=null,i=e.changeByRange(function(s){if(s.empty){var a,u=function(c,d){var h=c.sliceString(d-2,d);return Ko(Hr(h,0))==h.length?h:h.slice(1)}(e.doc,s.head),l=he(r);try{for(l.s();!(a=l.n()).done;){var f=a.value;if(f==u&&Lp(e.doc,s.head)==SM(Hr(f,0)))return{changes:{from:s.head-f.length,to:s.head+f.length},range:Ke.cursor(s.head-f.length),userEvent:"delete.backward"}}}catch(c){l.e(c)}finally{l.f()}}return{range:o=s}});return o||n(e.update(i,{scrollIntoView:!0})),!o}}];function $M(t,e){var n=!1;return t.field(_M).between(0,t.doc.length,function(r){r==e&&(n=!0)}),n}function Lp(t,e){var n=t.sliceString(e,e+2);return n.slice(0,Ko(Hr(n,0)))}function OW(t,e,n,r){var o=null,i=t.changeByRange(function(s){if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Ja.of(s.to+e.length),range:Ke.range(s.anchor+e.length,s.head+e.length)};var a=Lp(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:Ja.of(s.head+e.length),range:Ke.cursor(s.head+e.length)}:{range:o=s}});return o?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function AW(t,e,n){var r=null,o=t.selection.ranges.map(function(i){return i.empty&&Lp(t.doc,i.head)==n?Ke.cursor(i.head+n.length):r=i});return r?null:t.update({selection:Ke.create(o,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(function(i){var s=i.from;return l1.of(s)})})}function EW(t,e,n){var r=null,o=t.changeByRange(function(i){if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:Ja.of(i.to+e.length),range:Ke.range(i.anchor+e.length,i.head+e.length)};var s=i.head,a=Lp(t.doc,s);if(a==e){if(gC(t,s))return{changes:{insert:e+e,from:s},effects:Ja.of(s+e.length),range:Ke.cursor(s+e.length)};if($M(t,s)){var u=n&&t.sliceDoc(s,s+3*e.length)==e+e+e;return{range:Ke.cursor(s+e.length*(u?3:1)),effects:l1.of(s)}}}else{if(n&&t.sliceDoc(s-2*e.length,s)==e+e&&gC(t,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:Ja.of(s+e.length),range:Ke.cursor(s+e.length)};if(t.charCategorizer(s)(a)!=ao.Word){var l=t.sliceDoc(s-1,s);if(l!=e&&t.charCategorizer(s)(l)!=ao.Word&&!function(f,c,d){for(var h=Zr(f).resolveInner(c,-1),p=0;p<5;p++){if(f.sliceDoc(h.from,h.from+d.length)==d)return!0;var v=h.to==c&&h.parent;if(!v)break;h=v}return!1}(t,s,e))return{changes:{insert:e+e,from:s},effects:Ja.of(s+e.length),range:Ke.cursor(s+e.length)}}}return{range:r=i}});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function gC(t,e){var n=Zr(t).resolveInner(e+1);return n.parent&&n.from==e}var yC=Ct.define({combine:function(t){var e,n,r,o=he(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;e=e||i.topContainer,n=n||i.bottomContainer}}catch(s){o.e(s)}finally{o.f()}return{topContainer:e,bottomContainer:n}}});function Bc(t,e){var n=t.plugin(OM),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}var OM=Fr.fromClass(function(){function t(e){se(this,t),this.input=e.state.facet(zc),this.specs=this.input.filter(function(s){return s}),this.panels=this.specs.map(function(s){return s(e)});var n=e.state.facet(yC);this.top=new ed(e,!0,n.topContainer),this.bottom=new ed(e,!1,n.bottomContainer),this.top.sync(this.panels.filter(function(s){return s.top})),this.bottom.sync(this.panels.filter(function(s){return!s.top}));var r,o=he(this.panels);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.dom.classList.add("cm-panel"),i.mount&&i.mount()}}catch(s){o.e(s)}finally{o.f()}}return ae(t,[{key:"update",value:function(e){var n=e.state.facet(yC);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new ed(e.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new ed(e.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var r=e.state.facet(zc);if(r!=this.input){var o,i=r.filter(function(w){return w}),s=[],a=[],u=[],l=[],f=he(i);try{for(f.s();!(o=f.n()).done;){var c=o.value,d=this.specs.indexOf(c),h=void 0;d<0?(h=c(e.view),l.push(h)):(h=this.panels[d]).update&&h.update(e),s.push(h),(h.top?a:u).push(h)}}catch(w){f.e(w)}finally{f.f()}this.specs=i,this.panels=s,this.top.sync(a),this.bottom.sync(u);for(var p=0,v=l;p<v.length;p++){var g=v[p];g.dom.classList.add("cm-panel"),g.mount&&g.mount()}}else{var m,y=he(this.panels);try{for(y.s();!(m=y.n()).done;){var b=m.value;b.update&&b.update(e)}}catch(w){y.e(w)}finally{y.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),t}(),{provide:vo.scrollMargins.from(function(t){return{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})}),ed=function(){function t(e,n,r){se(this,t),this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return ae(t,[{key:"sync",value:function(e){var n,r=he(this.panels);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.destroy&&e.indexOf(o)<0&&o.destroy()}}catch(i){r.e(i)}finally{r.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(this.panels.length!=0){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var n,r=this.dom.firstChild,o=he(this.panels);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.dom.parentNode==this.dom){for(;r!=i.dom;)r=bC(r);r=r.nextSibling}else this.dom.insertBefore(i.dom,r)}}catch(s){o.e(s)}finally{o.f()}for(;r;)r=bC(r)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,n=he(this.classes.split(" "));try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&this.container.classList.remove(r)}}catch(a){n.e(a)}finally{n.f()}var o,i=he((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(o=i.n()).done;){var s=o.value;s&&this.container.classList.add(s)}}catch(a){i.e(a)}finally{i.f()}}}}]),t}();function bC(t){var e=t.nextSibling;return t.remove(),e}var PW=Ot.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),zc=Ct.define({enables:[OM,PW]});function Gn(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&ut(n)=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];typeof o=="string"?t.setAttribute(r,o):o!=null&&(t[r]=o)}e++}for(;e<arguments.length;e++)AM(t,arguments[e]);return t}function AM(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)AM(t,e[n])}}var wC=typeof String.prototype.normalize=="function"?function(t){return t.normalize("NFKD")}:function(t){return t},qu=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length,i=arguments.length>4?arguments[4]:void 0;se(this,t),this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,o),this.bufferStart=r,this.normalize=i?function(s){return i(wC(s))}:wC,this.query=this.normalize(n)}return ae(t,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Hr(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var n=Yy(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ko(e);for(var o=this.normalize(n),i=0,s=r;;i++){var a=o.charCodeAt(i),u=this.match(a,s);if(u)return this.value=u,this;if(i==o.length-1)break;s==r&&i<n.length&&n.charCodeAt(i)==a&&s++}}}},{key:"match",value:function(e,n){for(var r=null,o=0;o<this.matches.length;o+=2){var i=this.matches[o],s=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?r={from:this.matches[o+1],to:n+1}:(this.matches[o]++,s=!0)),s||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r}}]),t}();typeof Symbol<"u"&&(qu.prototype[Symbol.iterator]=function(){return this});var EM={from:-1,to:-1,match:/.*/.exec("")},c1="gm"+(/x/.unicode==null?"":"u"),PM=function(){function t(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:e.length;if(se(this,t),this.to=i,this.curLine="",this.done=!1,this.value=EM,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new TM(e,n,r,o,i);this.re=new RegExp(n,c1+(r!=null&&r.ignoreCase?"i":"")),this.iter=e.iter();var s=e.lineAt(o);this.curLineStart=s.from,this.matchPos=o,this.getLine(this.curLineStart)}return ae(t,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){var r=this.curLineStart+n.index,o=r+n[0].length;if(this.matchPos=o+(r==o?1:0),r==this.curLine.length&&this.nextLine(),r<o||r>this.value.to)return this.value={from:r,to:o,match:n},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),t}(),Nv=new WeakMap,kC=function(){function t(e,n){se(this,t),this.from=e,this.text=n}return ae(t,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(e,n,r){var o=Nv.get(e);if(!o||o.from>=r||o.to<=n){var i=new t(n,e.sliceString(n,r));return Nv.set(e,i),i}if(o.from==n&&o.to==r)return o;var s=o.text,a=o.from;return a>n&&(s=e.sliceString(n,a)+s,a=n),o.to<r&&(s+=e.sliceString(o.to,r)),Nv.set(e,new t(a,s)),new t(n,s.slice(n-a,r-a))}}]),t}(),TM=function(){function t(e,n,r,o,i){se(this,t),this.text=e,this.to=i,this.done=!1,this.value=EM,this.matchPos=o,this.re=new RegExp(n,c1+(r!=null&&r.ignoreCase?"i":"")),this.flat=kC.get(e,o,this.chunkEnd(o+5e3))}return ae(t,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n&&this.flat.to<this.to&&n.index+n[0].length>this.flat.text.length-10&&(n=null),n){var r=this.flat.from+n.index,o=r+n[0].length;return this.value={from:r,to:o,match:n},this.matchPos=o+(r==o?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=kC.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),t}();function Rg(t){var e=Gn("input",{class:"cm-textfield",name:"line"});function n(){var r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(r){var o=t.state,i=o.doc.lineAt(o.selection.main.head),s=At(r,5),a=s[1],u=s[2],l=s[3],f=s[4],c=l?+l.slice(1):0,d=u?+u:i.number;if(u&&f){var h=d/100;a&&(h=h*(a=="-"?-1:1)+i.number/o.doc.lines),d=Math.round(o.doc.lines*h)}else u&&a&&(d=d*(a=="-"?-1:1)+i.number);var p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d)));t.dispatch({effects:wh.of(!1),selection:Ke.cursor(p.from+Math.max(0,Math.min(c,p.length))),scrollIntoView:!0}),t.focus()}}return{dom:Gn("form",{class:"cm-gotoLine",onkeydown:function(r){r.keyCode==27?(r.preventDefault(),t.dispatch({effects:wh.of(!1)}),t.focus()):r.keyCode==13&&(r.preventDefault(),n())},onsubmit:function(r){r.preventDefault(),n()}},Gn("label",t.state.phrase("Go to line"),": ",e)," ",Gn("button",{class:"cm-button",type:"submit"},t.state.phrase("go"))),pos:-10}}typeof Symbol<"u"&&(PM.prototype[Symbol.iterator]=TM.prototype[Symbol.iterator]=function(){return this});var wh=Zt.define(),xC=Xr.define({create:function(){return!0},update:function(t,e){var n,r=he(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(wh)&&(t=o.value)}}catch(i){r.e(i)}finally{r.f()}return t},provide:function(t){return zc.from(t,function(e){return e?Rg:null})}}),TW=Ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),MW={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!0},MM=Ct.define({combine:function(t){return Ms(t,MW,{highlightWordAroundCursor:function(e,n){return e||n},minSelectionLength:Math.min,maxMatches:Math.min})}});function IW(t){var e=[DW,RW];return t&&e.push(MM.of(t)),e}var NW=Pt.mark({class:"cm-selectionMatch"}),LW=Pt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jC(t,e,n,r){return!(n!=0&&t(e.sliceDoc(n-1,n))==ao.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==ao.Word)}var RW=Fr.fromClass(function(){function t(e){se(this,t),this.decorations=this.getDeco(e)}return ae(t,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n=e.state.facet(MM),r=e.state,o=r.selection;if(o.ranges.length>1)return Pt.none;var i,s=o.main,a=null;if(s.empty){if(!n.highlightWordAroundCursor)return Pt.none;var u=r.wordAt(s.head);if(!u)return Pt.none;a=r.charCategorizer(s.head),i=r.sliceDoc(u.from,u.to)}else{var l=s.to-s.from;if(l<n.minSelectionLength||l>200)return Pt.none;if(n.wholeWords){if(i=r.sliceDoc(s.from,s.to),!jC(a=r.charCategorizer(s.head),r,s.from,s.to)||!function(y,b,w,k){return y(b.sliceDoc(w,w+1))==ao.Word&&y(b.sliceDoc(k-1,k))==ao.Word}(a,r,s.from,s.to))return Pt.none}else if(!(i=r.sliceDoc(s.from,s.to).trim()))return Pt.none}var f,c=[],d=he(e.visibleRanges);try{for(d.s();!(f=d.n()).done;)for(var h=f.value,p=new qu(r.doc,i,h.from,h.to);!p.next().done;){var v=p.value,g=v.from,m=v.to;if((!a||jC(a,r,g,m))&&(s.empty&&g<=s.from&&m>=s.to?c.push(LW.range(g,m)):(g>=s.to||m<=s.from)&&c.push(NW.range(g,m)),c.length>n.maxMatches))return Pt.none}}catch(y){d.e(y)}finally{d.f()}return Pt.set(c)}}]),t}(),{decorations:function(t){return t.decorations}}),DW=Ot.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Rp=Ct.define({combine:function(t){var e;return{top:t.reduce(function(n,r){return n!=null?n:r.top},void 0)||!1,caseSensitive:t.reduce(function(n,r){return n!=null?n:r.caseSensitive||r.matchCase},void 0)||!1,createPanel:((e=t.find(function(n){return n.createPanel}))===null||e===void 0?void 0:e.createPanel)||function(n){return new KW(n)}}}});function BW(t){return t?[Rp.of(t),Bg]:Bg}var IM=function(){function t(e){se(this,t),this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(n){try{return new RegExp(n,c1),!0}catch{return!1}}(this.search)),this.unquoted=this.search.replace(/\\([nrt\\])/g,function(n,r){return r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\"})}return ae(t,[{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}},{key:"create",value:function(){return this.regexp?new FW(this):new zW(this)}},{key:"getCursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length;return this.regexp?Cu(this,e,n,r):Su(this,e,n,r)}}]),t}(),NM=ae(function t(e){se(this,t),this.spec=e});function Su(t,e,n,r){return new qu(e,t.unquoted,n,r,t.caseSensitive?void 0:function(o){return o.toLowerCase()})}var zW=function(t){De(n,NM);var e=Be(n);function n(r){return se(this,n),e.call(this,r)}return ae(n,[{key:"nextMatch",value:function(r,o,i){var s=Su(this.spec,r,i,r.length).nextOverlapping();return s.done&&(s=Su(this.spec,r,0,o).nextOverlapping()),s.done?null:s.value}},{key:"prevMatchInRange",value:function(r,o,i){for(var s=i;;){for(var a=Math.max(o,s-1e4-this.spec.unquoted.length),u=Su(this.spec,r,a,s),l=null;!u.nextOverlapping().done;)l=u.value;if(l)return l;if(a==o)return null;s-=1e4}}},{key:"prevMatch",value:function(r,o,i){return this.prevMatchInRange(r,0,o)||this.prevMatchInRange(r,i,r.length)}},{key:"getReplacement",value:function(r){return this.spec.replace}},{key:"matchAll",value:function(r,o){for(var i=Su(this.spec,r,0,r.length),s=[];!i.next().done;){if(s.length>=o)return null;s.push(i.value)}return s}},{key:"highlight",value:function(r,o,i,s){for(var a=Su(this.spec,r,Math.max(0,o-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,r.length));!a.next().done;)s(a.value.from,a.value.to)}}]),n}();function Cu(t,e,n,r){return new PM(e,t.search,t.caseSensitive?void 0:{ignoreCase:!0},n,r)}var FW=function(t){De(n,NM);var e=Be(n);function n(){return se(this,n),e.apply(this,arguments)}return ae(n,[{key:"nextMatch",value:function(r,o,i){var s=Cu(this.spec,r,i,r.length).next();return s.done&&(s=Cu(this.spec,r,0,o).next()),s.done?null:s.value}},{key:"prevMatchInRange",value:function(r,o,i){for(var s=1;;s++){for(var a=Math.max(o,i-1e4*s),u=Cu(this.spec,r,a,i),l=null;!u.next().done;)l=u.value;if(l&&(a==o||l.from>a+10))return l;if(a==o)return null}}},{key:"prevMatch",value:function(r,o,i){return this.prevMatchInRange(r,0,o)||this.prevMatchInRange(r,i,r.length)}},{key:"getReplacement",value:function(r){return this.spec.replace.replace(/\$([$&\d+])/g,function(o,i){return i=="$"?"$":i=="&"?r.match[0]:i!="0"&&+i<r.match.length?r.match[i]:o})}},{key:"matchAll",value:function(r,o){for(var i=Cu(this.spec,r,0,r.length),s=[];!i.next().done;){if(s.length>=o)return null;s.push(i.value)}return s}},{key:"highlight",value:function(r,o,i,s){for(var a=Cu(this.spec,r,Math.max(0,o-250),Math.min(i+250,r.length));!a.next().done;)s(a.value.from,a.value.to)}}]),n}(),Fc=Zt.define(),f1=Zt.define(),oa=Xr.define({create:function(t){return new Lv(Dg(t).create(),null)},update:function(t,e){var n,r=he(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(Fc)?t=new Lv(o.value.create(),t.panel):o.is(f1)&&(t=new Lv(t.query,o.value?d1:null))}}catch(i){r.e(i)}finally{r.f()}return t},provide:function(t){return zc.from(t,function(e){return e.panel})}}),Lv=ae(function t(e,n){se(this,t),this.query=e,this.panel=n}),qW=Pt.mark({class:"cm-searchMatch"}),VW=Pt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),HW=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.decorations=this.highlight(e.state.field(oa))}return ae(t,[{key:"update",value:function(e){var n=e.state.field(oa);(n!=e.startState.field(oa)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(n))}},{key:"highlight",value:function(e){var n=e.query;if(!e.panel||!n.spec.valid)return Pt.none;for(var r=this.view,o=new Yu,i=0,s=r.visibleRanges,a=s.length;i<a;i++){for(var u=s[i],l=u.from,f=u.to;i<a-1&&f>s[i+1].from-500;)f=s[++i].to;n.highlight(r.state.doc,l,f,function(c,d){var h=r.state.selection.ranges.some(function(p){return p.from==c&&p.to==d});o.add(c,d,h?VW:qW)})}return o.finish()}}]),t}(),{decorations:function(t){return t.decorations}});function hf(t){return function(e){var n=e.state.field(oa,!1);return n&&n.query.spec.valid?t(e,n):h1(e)}}var kh=hf(function(t,e){var n=e.query,r=t.state.selection.main,o=r.from,i=r.to,s=n.nextMatch(t.state.doc,o,i);return!(!s||s.from==o&&s.to==i)&&(t.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:v1(t,s),userEvent:"select.search"}),!0)}),xh=hf(function(t,e){var n=e.query,r=t.state,o=r.selection.main,i=o.from,s=o.to,a=n.prevMatch(r.doc,i,s);return!!a&&(t.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:v1(t,a),userEvent:"select.search"}),!0)}),WW=hf(function(t,e){var n=e.query.matchAll(t.state.doc,1e3);return!(!n||!n.length)&&(t.dispatch({selection:Ke.create(n.map(function(r){return Ke.range(r.from,r.to)})),userEvent:"select.search.matches"}),!0)}),_C=hf(function(t,e){var n=e.query,r=t.state,o=r.selection.main,i=o.from,s=o.to;if(r.readOnly)return!1;var a=n.nextMatch(r.doc,i,i);if(!a)return!1;var u,l,f=[];if(a.from==i&&a.to==s&&(l=r.toText(n.getReplacement(a)),f.push({from:a.from,to:a.to,insert:l}),a=n.nextMatch(r.doc,a.from,a.to)),a){var c=f.length==0||f[0].from>=a.to?0:a.to-a.from-l.length;u={anchor:a.from-c,head:a.to-c}}return t.dispatch({changes:f,selection:u,scrollIntoView:!!u,effects:a?v1(t,a):void 0,userEvent:"input.replace"}),!0}),UW=hf(function(t,e){var n=e.query;if(t.state.readOnly)return!1;var r=n.matchAll(t.state.doc,1e9).map(function(o){return{from:o.from,to:o.to,insert:n.getReplacement(o)}});return!!r.length&&(t.dispatch({changes:r,userEvent:"input.replace.all"}),!0)});function d1(t){return t.state.facet(Rp).createPanel(t)}function Dg(t,e){var n,r=t.selection.main,o=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),i=(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:t.facet(Rp).caseSensitive;return e&&!o?e:new IM({search:o.replace(/\n/g,"\\n"),caseSensitive:i})}var h1=function(t){var e=t.state.field(oa,!1);if(e&&e.panel){var n=Bc(t,d1);if(!n)return!1;var r=n.dom.querySelector("[name=search]");if(r!=t.root.activeElement){var o=Dg(t.state,e.query.spec);o.valid&&t.dispatch({effects:Fc.of(o)}),r.focus(),r.select()}}else t.dispatch({effects:[f1.of(!0),e?Fc.of(Dg(t.state,e.query.spec)):Zt.appendConfig.of(Bg)]});return!0},p1=function(t){var e=t.state.field(oa,!1);if(!e||!e.panel)return!1;var n=Bc(t,d1);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:f1.of(!1)}),!0},JW=[{key:"Mod-f",run:h1,scope:"editor search-panel"},{key:"F3",run:kh,shift:xh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:kh,shift:xh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:p1,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(t){var e=t.state,n=t.dispatch,r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var o=r.main,i=o.from,s=o.to,a=[],u=0,l=new qu(e.doc,e.sliceDoc(i,s));!l.next().done;){if(a.length>1e3)return!1;l.value.from==i&&(u=a.length),a.push(Ke.range(l.value.from,l.value.to))}return n(e.update({selection:Ke.create(a,u),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(t){var e=Bc(t,Rg);if(!e){var n=[wh.of(!0)];t.state.field(xC,!1)==null&&n.push(Zt.appendConfig.of([xC,TW])),t.dispatch({effects:n}),e=Bc(t,Rg)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(t){var e=t.state,n=t.dispatch,r=e.selection.ranges;if(r.some(function(s){return s.from===s.to}))return function(s){var a=s.state,u=s.dispatch,l=a.selection,f=Ke.create(l.ranges.map(function(c){return a.wordAt(c.head)||Ke.cursor(c.head)}),l.mainIndex);return!f.eq(l)&&(u(a.update({selection:f})),!0)}({state:e,dispatch:n});var o=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some(function(s){return e.sliceDoc(s.from,s.to)!=o}))return!1;var i=function(s,a){for(var u=s.selection,l=u.main,f=u.ranges,c=s.wordAt(l.head),d=c&&c.from==l.from&&c.to==l.to,h=function(m,y){if(y.next(),!y.done){if(m&&f.some(function(w){return w.from==y.value.from}))return v=y,p=m,"continue";if(d){var b=s.wordAt(y.value.from);if(!b||b.from!=y.value.from||b.to!=y.value.to)return v=y,p=m,"continue"}return p=m,v=y,{v:y.value}}if(m)return v=y,p=m,{v:null};y=new qu(s.doc,a,0,Math.max(0,f[f.length-1].from-1)),p=m=!0,v=y},p=!1,v=new qu(s.doc,a,f[f.length-1].to);;){var g=h(p,v);if(g!=="continue"&&ut(g)==="object")return g.v}}(e,o);return!!i&&(n(e.update({selection:e.selection.addRange(Ke.range(i.from,i.to),!1),effects:Ot.scrollIntoView(i.to)})),!0)},preventDefault:!0}],KW=function(){function t(e){var n=this;se(this,t),this.view=e;var r=this.query=e.state.field(oa).query.spec;function o(i,s,a){return Gn("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.commit=this.commit.bind(this),this.searchField=Gn("input",{value:r.search,placeholder:Wo(e,"Find"),"aria-label":Wo(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Gn("input",{value:r.replace,placeholder:Wo(e,"Replace"),"aria-label":Wo(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=Gn("input",{type:"checkbox",name:"case",checked:r.caseSensitive,onchange:this.commit}),this.reField=Gn("input",{type:"checkbox",name:"re",checked:r.regexp,onchange:this.commit}),this.dom=Gn("div",{onkeydown:function(i){return n.keydown(i)},class:"cm-search"},[this.searchField,o("next",function(){return kh(e)},[Wo(e,"next")]),o("prev",function(){return xh(e)},[Wo(e,"previous")]),o("select",function(){return WW(e)},[Wo(e,"all")]),Gn("label",null,[this.caseField,Wo(e,"match case")]),Gn("label",null,[this.reField,Wo(e,"regexp")])].concat(Qt(e.state.readOnly?[]:[Gn("br"),this.replaceField,o("replace",function(){return _C(e)},[Wo(e,"replace")]),o("replaceAll",function(){return UW(e)},[Wo(e,"replace all")]),Gn("button",{name:"close",onclick:function(){return p1(e)},"aria-label":Wo(e,"close"),type:"button"},["\xD7"])])))}return ae(t,[{key:"commit",value:function(){var e=new IM({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Fc.of(e)}))}},{key:"keydown",value:function(e){var n,r,o;n=this.view,r=e,o="search-panel",qT(FT(n.state),r,n,o)?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?xh:kh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),_C(this.view))}},{key:"update",value:function(e){var n,r=he(e.transactions);try{for(r.s();!(n=r.n()).done;){var o,i=he(n.value.effects);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.is(Fc)&&!s.value.eq(this.query)&&this.setQuery(s.value)}}catch(a){i.e(a)}finally{i.f()}}}catch(a){r.e(a)}finally{r.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Rp).top}}]),t}();function Wo(t,e){return t.state.phrase(e)}var td=/[\s\.,:;?!]/;function v1(t,e){var n=e.from,r=e.to,o=t.state.doc.lineAt(n).from,i=t.state.doc.lineAt(r).to,s=Math.max(o,n-30),a=Math.min(i,r+30),u=t.state.sliceDoc(s,a);if(s!=o){for(var l=0;l<30;l++)if(!td.test(u[l+1])&&td.test(u[l])){u=u.slice(l);break}}if(a!=i){for(var f=u.length-1;f>u.length-30;f--)if(!td.test(u[f-1])&&td.test(u[f])){u=u.slice(0,f);break}}return Ot.announce.of("".concat(t.state.phrase("current match"),". ").concat(u," ").concat(t.state.phrase("on line")," ").concat(t.state.doc.lineAt(n).number))}var GW=Ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Bg=[oa,cf.lowest(HW),GW],QW=typeof navigator<"u"&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),LM=function(){function t(e,n,r){se(this,t),this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(function(o){return o}),this.tooltipViews=this.tooltips.map(r)}return ae(t,[{key:"update",value:function(e){var n=e.state.facet(this.facet),r=n.filter(function(m){return m});if(n===this.input){var o,i=he(this.tooltipViews);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.update&&s.update(e)}}catch(m){i.e(m)}finally{i.f()}return!1}for(var a=[],u=0;u<r.length;u++){var l=r[u],f=-1;if(l){for(var c=0;c<this.tooltips.length;c++){var d=this.tooltips[c];d&&d.create==l.create&&(f=c)}if(f<0)a[u]=this.createTooltipView(l);else{var h=a[u]=this.tooltipViews[f];h.update&&h.update(e)}}}var p,v=he(this.tooltipViews);try{for(v.s();!(p=v.n()).done;){var g=p.value;a.indexOf(g)<0&&g.dom.remove()}}catch(m){v.e(m)}finally{v.f()}return this.input=n,this.tooltips=r,this.tooltipViews=a,!0}}]),t}();function YW(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}var Rv=Ct.define({combine:function(t){var e,n,r;return{position:QW?"absolute":((e=t.find(function(o){return o.position}))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(function(o){return o.parent}))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(function(o){return o.tooltipSpace}))===null||r===void 0?void 0:r.tooltipSpace)||YW}}}),RM=Fr.fromClass(function(){function t(e){var n,r=this;se(this,t),this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var o=e.state.facet(Rv);this.position=o.position,this.parent=o.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new LM(e,Dp,function(i){return r.createTooltip(i)}),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(function(i){Date.now()>r.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&r.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(n=e.dom.ownerDocument.defaultView)===null||n===void 0||n.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return ae(t,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,n=he(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.intersectionObserver.observe(r.dom)}}catch(o){n.e(o)}finally{n.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout(function(){e.measureTimeout=-1,e.maybeMeasure()},50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var n=this.manager.update(e);n&&this.observeIntersection();var r=n||e.geometryChanged,o=e.state.facet(Rv);if(o.position!=this.position){this.position=o.position;var i,s=he(this.manager.tooltipViews);try{for(s.s();!(i=s.n()).done;)i.value.dom.style.position=this.position}catch(f){s.e(f)}finally{s.f()}r=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();var a,u=he(this.manager.tooltipViews);try{for(u.s();!(a=u.n()).done;){var l=a.value;this.container.appendChild(l.dom)}}catch(f){u.e(f)}finally{u.f()}r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var n=e.create(this.view);if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top="-10000px",this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}},{key:"destroy",value:function(){var e,n;(e=this.view.dom.ownerDocument.defaultView)===null||e===void 0||e.removeEventListener("resize",this.measureSoon);var r,o=he(this.manager.tooltipViews);try{for(o.s();!(r=o.n()).done;)r.value.dom.remove()}catch(i){o.e(i)}finally{o.f()}(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map(function(r,o){var i=e.manager.tooltipViews[o];return i.getCoords?i.getCoords(r.pos):e.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(function(r){return r.dom.getBoundingClientRect()}),space:this.view.state.facet(Rv).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var n=e.editor,r=e.space,o=[],i=0;i<this.manager.tooltips.length;i++){var s=this.manager.tooltips[i],a=this.manager.tooltipViews[i],u=a.dom,l=e.pos[i],f=e.size[i];if(!l||l.bottom<=Math.max(n.top,r.top)||l.top>=Math.min(n.bottom,r.bottom)||l.right<Math.max(n.left,r.left)-.1||l.left>Math.min(n.right,r.right)+.1)u.style.top="-10000px";else{var c=s.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,d=c?7:0,h=f.right-f.left,p=f.bottom-f.top,v=a.offset||ZW,g=this.view.textDirection==jn.LTR,m=f.width>r.right-r.left?g?r.left:r.right-f.width:g?Math.min(l.left-(c?14:0)+v.x,r.right-h):Math.max(r.left,l.left-h+(c?14:0)-v.x),y=!!s.above;!s.strictSide&&(y?l.top-(f.bottom-f.top)-v.y<r.top:l.bottom+(f.bottom-f.top)+v.y>r.bottom)&&y==r.bottom-l.bottom>l.top-r.top&&(y=!y);var b=y?l.top-p-d-v.y:l.bottom+d+v.y,w=m+h;if(a.overlap!==!0){var k,$=he(o);try{for($.s();!(k=$.n()).done;){var A=k.value;A.left<w&&A.right>m&&A.top<b+p&&A.bottom>b&&(b=y?A.top-p-2-d:A.bottom+d+2)}}catch(P){$.e(P)}finally{$.f()}}this.position=="absolute"?(u.style.top=b-e.parent.top+"px",u.style.left=m-e.parent.left+"px"):(u.style.top=b+"px",u.style.left=m+"px"),c&&(c.style.left="".concat(l.left+(g?v.x:-v.x)-(m+14-7),"px")),a.overlap!==!0&&o.push({left:m,top:b,right:w,bottom:b+p}),u.classList.toggle("cm-tooltip-above",y),u.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned()}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,n=he(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;)e.value.dom.style.top="-10000px"}catch(r){n.e(r)}finally{n.f()}}}}]),t}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),XW=Ot.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ZW={x:0,y:0},Dp=Ct.define({enables:[RM,XW]}),jh=Ct.define(),eU=function(){function t(e){var n=this;se(this,t),this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new LM(e,jh,function(r){return n.createHostedView(r)})}return ae(t,[{key:"createHostedView",value:function(e){var n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}},{key:"mount",value:function(e){var n,r=he(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.mount&&o.mount(e)}}catch(i){r.e(i)}finally{r.f()}this.mounted=!0}},{key:"positioned",value:function(){var e,n=he(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.positioned&&r.positioned()}}catch(o){n.e(o)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(e){return new t(e)}}]),t}(),tU=Dp.compute([jh],function(t){var e=t.facet(jh).filter(function(n){return n});return e.length===0?null:{pos:Math.min.apply(Math,Qt(e.map(function(n){return n.pos}))),end:Math.max.apply(Math,Qt(e.filter(function(n){return n.end!=null}).map(function(n){return n.end}))),create:eU.create,above:e[0].above,arrow:e.some(function(n){return n.arrow})}}),nU=function(){function t(e,n,r,o,i){se(this,t),this.view=e,this.source=n,this.field=r,this.setHover=o,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return ae(t,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(function(){return e.startHover()},20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e,n=this;clearTimeout(this.restartTimeout);var r=this.lastMove,o=this.view.contentDOM.contains(r.target)?this.view.posAtCoords(r):null;if(o!=null){var i=this.view.coordsAtPos(o);if(!(i==null||r.y<i.top||r.y>i.bottom||r.x<i.left-this.view.defaultCharacterWidth||r.x>i.right+this.view.defaultCharacterWidth)){var s=this.view.bidiSpans(this.view.state.doc.lineAt(o)).find(function(f){return f.from<=o&&f.to>=o}),a=s&&s.dir==jn.RTL?-1:1,u=this.source(this.view,o,r.x<i.left?-a:a);if(!((e=u)===null||e===void 0)&&e.then){var l=this.pending={pos:o};u.then(function(f){n.pending==l&&(n.pending=null,f&&n.view.dispatch({effects:n.setHover.of(f)}))},function(f){return No(n.view.state,f,"hover tooltip")})}else u&&this.view.dispatch({effects:this.setHover.of(u)})}}}},{key:"mousemove",value:function(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var r=this.active;if(r&&!function(s){for(var a=s;a;a=a.parentNode)if(a.nodeType==1&&a.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){var o=(r||this.pending).pos,i=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:o;(o==i?this.view.posAtCoords(this.lastMove)==o:function(s,a,u,l,f,c){var d=document.createRange(),h=s.domAtPos(a),p=s.domAtPos(u);d.setEnd(p.node,p.offset),d.setStart(h.node,h.offset);var v=d.getClientRects();d.detach();for(var g=0;g<v.length;g++){var m=v[g];if(Math.max(m.top-f,f-m.bottom,m.left-l,l-m.right)<=c)return!0}return!1}(this.view,o,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),t}();function rU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Zt.define(),r=Xr.define({create:function(){return null},update:function(o,i){if(o&&e.hideOnChange&&(i.docChanged||i.selection))return null;var s,a=he(i.effects);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(u.is(n))return u.value;if(u.is(iU))return null}}catch(c){a.e(c)}finally{a.f()}if(o&&i.docChanged){var l=i.changes.mapPos(o.pos,-1,so.TrackDel);if(l==null)return null;var f=Object.assign(Object.create(null),o);return f.pos=l,o.end!=null&&(f.end=i.changes.mapPos(o.end)),f}return o},provide:function(o){return jh.from(o)}});return[r,Fr.define(function(o){return new nU(o,t,r,n,e.hoverTime||300)}),tU]}function oU(t,e){var n=t.plugin(RM);if(!n)return null;var r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}var iU=Zt.define(),sU=function(){function t(e,n,r){se(this,t),this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}return ae(t,[{key:"tokenBefore",value:function(e){for(var n=Zr(this.state).resolveInner(this.pos,-1);n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}},{key:"matchBefore",value:function(e){var n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),o=n.text.slice(r-n.from,this.pos-n.from),i=o.search(DM(e,!1));return i<0?null:{from:r+i,to:this.pos,text:o.slice(i)}}},{key:"aborted",get:function(){return this.abortListeners==null}},{key:"addEventListener",value:function(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}]),t}();function SC(t){var e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function aU(t){var e=t.map(function(i){return typeof i=="string"?{label:i}:i}),n=At(e.every(function(i){return/^\w+$/.test(i.label)})?[/\w*$/,/\w+$/]:function(i){var s,a=Object.create(null),u=Object.create(null),l=he(i);try{for(l.s();!(s=l.n()).done;){var f=s.value.label;a[f[0]]=!0;for(var c=1;c<f.length;c++)u[f[c]]=!0}}catch(h){l.e(h)}finally{l.f()}var d=SC(a)+SC(u)+"*$";return[new RegExp("^"+d),new RegExp(d)]}(e),2),r=n[0],o=n[1];return function(i){var s=i.matchBefore(o);return s||i.explicit?{from:s?s.from:i.pos,options:e,span:r}:null}}var CC=ae(function t(e,n,r){se(this,t),this.completion=e,this.source=n,this.match=r});function ru(t){return t.selection.main.head}function DM(t,e){var n,r=t.source,o=e&&r[0]!="^",i=r[r.length-1]!="$";return o||i?new RegExp("".concat(o?"^":"","(?:").concat(r,")").concat(i?"$":""),(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":""):t}var uU=Xs.define();function BM(t,e){var n=e.completion.apply||e.completion.label,r=e.source;typeof n=="string"?t.dispatch({changes:{from:r.from,to:r.to,insert:n},selection:{anchor:r.from+n.length},userEvent:"input.complete",annotations:uU.of(e.completion)}):n(t,e.completion,r.from,r.to)}var $C=new WeakMap;function lU(t){if(!Array.isArray(t))return t;var e=$C.get(t);return e||$C.set(t,e=aU(t)),e}var cU=function(){function t(e){se(this,t),this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<e.length;){var r=Hr(e,n),o=Ko(r);this.chars.push(r);var i=e.slice(n,n+o),s=i.toUpperCase();this.folded.push(Hr(s==i?i.toLowerCase():s,0)),n+=o}this.astral=e.length!=this.chars.length}return ae(t,[{key:"match",value:function(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;var n=this.chars,r=this.folded,o=this.any,i=this.precise,s=this.byWord;if(n.length==1){var a=Hr(e,0);return a==n[0]?[0,0,Ko(a)]:a==r[0]?[-200,0,Ko(a)]:null}var u=e.indexOf(this.pattern);if(u==0)return[0,0,this.pattern.length];var l=n.length,f=0;if(u<0){for(var c=0,d=Math.min(e.length,200);c<d&&f<l;){var h=Hr(e,c);h!=n[f]&&h!=r[f]||(o[f++]=c),c+=Ko(h)}if(f<l)return null}for(var p=0,v=0,g=!1,m=0,y=-1,b=-1,w=/[a-z]/.test(e),k=!0,$=0,A=Math.min(e.length,200),P=0;$<A&&v<l;){var _=Hr(e,$);u<0&&(p<l&&_==n[p]&&(i[p++]=$),m<l&&(_==n[m]||_==r[m]?(m==0&&(y=$),b=$+1,m++):m=0));var T=void 0,C=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(T=Yy(_))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!$||C==1&&w||P==0&&C!=0)&&(n[v]==_||r[v]==_&&(g=!0)?s[v++]=$:s.length&&(k=!1)),P=C,$+=Ko(_)}return v==l&&s[0]==0&&k?this.result((g?-200:0)-100,s,e):m==l&&y==0?[-200-e.length,0,b]:u>-1?[-700-e.length,u,u+this.pattern.length]:m==l?[-900-e.length,y,b]:v==l?this.result((g?-200:0)-100-700+(k?0:-1100),s,e):n.length==2?null:this.result((o[0]?-700:0)-200-1100,o,e)}},{key:"result",value:function(e,n,r){var o,i=[e-r.length],s=1,a=he(n);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=u+(this.astral?Ko(Hr(r,u)):1);s>1&&i[s-1]==u?i[s-1]=l:(i[s++]=u,i[s++]=l)}}catch(f){a.e(f)}finally{a.f()}return i}}]),t}(),ou=Ct.define({combine:function(t){return Ms(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:function(e,n){return e&&n},icons:function(e,n){return e&&n},optionClass:function(e,n){return function(r){return function(o,i){return o?i?o+" "+i:o:i}(e(r),n(r))}},addToOptions:function(e,n){return e.concat(n)}})}});function OC(t,e,n){if(t<=n)return{from:0,to:t};if(e<=t>>1){var r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}var o=Math.floor((t-e)/n);return{from:t-(o+1)*n,to:t-o*n}}var fU=function(){function t(e,n){var r=this;se(this,t),this.view=e,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(l){return r.positionInfo(l)},key:this};var o=e.state.field(n),i=o.open,s=i.options,a=i.selected,u=e.state.facet(ou);this.optionContent=function(l){var f=l.addToOptions.slice();return l.icons&&f.push({render:function(c){var d,h=document.createElement("div");return h.classList.add("cm-completionIcon"),c.type&&(d=h.classList).add.apply(d,Qt(c.type.split(/\s+/g).map(function(p){return"cm-completionIcon-"+p}))),h.setAttribute("aria-hidden","true"),h},position:20}),f.push({render:function(c,d,h){var p=document.createElement("span");p.className="cm-completionLabel";for(var v=c.label,g=0,m=1;m<h.length;){var y=h[m++],b=h[m++];y>g&&p.appendChild(document.createTextNode(v.slice(g,y)));var w=p.appendChild(document.createElement("span"));w.appendChild(document.createTextNode(v.slice(y,b))),w.className="cm-completionMatchedText",g=b}return g<v.length&&p.appendChild(document.createTextNode(v.slice(g))),p},position:50},{render:function(c){if(!c.detail)return null;var d=document.createElement("span");return d.className="cm-completionDetail",d.textContent=c.detail,d},position:80}),f.sort(function(c,d){return c.position-d.position}).map(function(c){return c.render})}(u),this.optionClass=u.optionClass,this.range=OC(s.length,a,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",function(l){for(var f,c=l.target;c&&c!=r.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<s.length)return BM(e,s[+f[1]]),void l.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(s,o.id,this.range)),this.list.addEventListener("scroll",function(){r.info&&r.view.requestMeasure(r.placeInfo)})}return ae(t,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}},{key:"positioned",value:function(){this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,n=this.view.state.field(this.stateField),r=n.open;if((r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=OC(r.options.length,r.selected,this.view.state.facet(ou).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,n.id,this.range)),this.list.addEventListener("scroll",function(){e.info&&e.view.requestMeasure(e.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);var o=r.options[r.selected].completion,i=o.info;if(!i)return;var s=typeof i=="string"?document.createTextNode(i):i(o);if(!s)return;"then"in s?s.then(function(a){a&&e.view.state.field(e.stateField,!1)==n&&e.addInfoPane(a)}).catch(function(a){return No(e.view.state,a,"completion info")}):this.addInfoPane(s)}}},{key:"addInfoPane",value:function(e){var n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var n=null,r=this.list.firstChild,o=this.range.from;r;r=r.nextSibling,o++)o==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&function(i,s){var a=i.getBoundingClientRect(),u=s.getBoundingClientRect();u.top<a.top?i.scrollTop-=a.top-u.top:u.bottom>a.bottom&&(i.scrollTop+=u.bottom-a.bottom)}(this.list,n),n}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),o=e.getBoundingClientRect();if(o.top>Math.min(innerHeight,n.bottom)-10||o.bottom<Math.max(0,n.top)+10)return null;var i=Math.max(0,Math.min(o.top,innerHeight-r.height))-n.top,s=this.view.textDirection==jn.RTL,a=n.left,u=innerWidth-n.right;return s&&a<Math.min(r.width,u)?s=!1:!s&&u<Math.min(r.width,a)&&(s=!0),{top:i,left:s}}},{key:"positionInfo",value:function(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}},{key:"createListBox",value:function(e,n,r){var o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true");for(var i=r.from;i<r.to;i++){var s=e[i],a=s.completion,u=s.match,l=o.appendChild(document.createElement("li"));l.id=n+"-"+i,l.setAttribute("role","option");var f=this.optionClass(a);f&&(l.className=f);var c,d=he(this.optionContent);try{for(d.s();!(c=d.n()).done;){var h=(0,c.value)(a,this.view.state,u);h&&l.appendChild(h)}}catch(p){d.e(p)}finally{d.f()}}return r.from&&o.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}}]),t}();function AC(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}var dU=function(){function t(e,n,r,o,i){se(this,t),this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=o,this.selected=i}return ae(t,[{key:"setSelected",value:function(e,n){return e==this.selected||e>=this.options.length?this:new t(this.options,EC(n,e),this.tooltip,this.timestamp,e)}},{key:"map",value:function(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}],[{key:"build",value:function(e,n,r,o,i){var s=function(c,d){var h,p=[],v=0,g=he(c);try{for(g.s();!(h=g.n()).done;){var m=h.value;if(m.hasResult())if(m.result.filter===!1){var y,b=he(m.result.options);try{for(b.s();!(y=b.n()).done;){var w=y.value;p.push(new CC(w,m,[1e9-v++]))}}catch(q){b.e(q)}finally{b.f()}}else{var k,$=new cU(d.sliceDoc(m.from,m.to)),A=void 0,P=he(m.result.options);try{for(P.s();!(k=P.n()).done;){var _=k.value;(A=$.match(_.label))&&(_.boost!=null&&(A[0]+=_.boost),p.push(new CC(_,m,A)))}}catch(q){P.e(q)}finally{P.f()}}}}catch(q){g.e(q)}finally{g.f()}var T,C=[],R=null,S=he(p.sort(mU));try{for(S.s();!(T=S.n()).done;){var j=T.value;if(C.length==300)break;R&&R.label==j.completion.label&&R.detail==j.completion.detail&&R.type==j.completion.type&&R.apply==j.completion.apply?AC(j.completion)>AC(R)&&(C[C.length-1]=j):C.push(j),R=j.completion}}catch(q){S.e(q)}finally{S.f()}return C}(e,n);if(!s.length)return null;var a,u=0;if(o&&o.selected){for(var l=o.options[o.selected].completion,f=0;f<s.length;f++)if(s[f].completion==l){u=f;break}}return new t(s,EC(r,u),{pos:e.reduce(function(c,d){return d.hasResult()?Math.min(c,d.from):c},1e8),create:(a=mi,function(c){return new fU(c,a)}),above:i.aboveCursor},o?o.timestamp:Date.now(),u)}}]),t}(),hU=function(){function t(e,n,r){se(this,t),this.active=e,this.id=n,this.open=r}return ae(t,[{key:"update",value:function(e){var n=this,r=e.state,o=r.facet(ou),i=(o.override||r.languageDataAt("autocomplete",ru(r)).map(lU)).map(function(f){return(n.active.find(function(c){return c.source==f})||new Ka(f,n.active.some(function(c){return c.state!=0})?1:0)).update(e,o)});i.length==this.active.length&&i.every(function(f,c){return f==n.active[c]})&&(i=this.active);var s=e.selection||i.some(function(f){return f.hasResult()&&e.changes.touchesRange(f.from,f.to)})||!function(f,c){if(f==c)return!0;for(var d=0,h=0;;){for(;d<f.length&&!f[d].hasResult;)d++;for(;h<c.length&&!c[h].hasResult;)h++;var p=d==f.length,v=h==c.length;if(p||v)return p==v;if(f[d++].result!=c[h++].result)return!1}}(i,this.active)?dU.build(i,r,this.id,this.open,o):this.open&&e.docChanged?this.open.map(e.changes):this.open;!s&&i.every(function(f){return f.state!=1})&&i.some(function(f){return f.hasResult()})&&(i=i.map(function(f){return f.hasResult()?new Ka(f.source,0):f}));var a,u=he(e.effects);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.is(FM)&&(s=s&&s.setSelected(l.value,this.id))}}catch(f){u.e(f)}finally{u.f()}return i==this.active&&s==this.open?this:new t(i,this.id,s)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:pU}}],[{key:"start",value:function(){return new t(vU,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),t}(),pU={"aria-autocomplete":"list"};function EC(t,e){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":t+"-"+e,"aria-controls":t}}var vU=[];function mU(t,e){var n=e.match[0]-t.match[0];return n||t.completion.label.localeCompare(e.completion.label)}function zg(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}var Ka=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;se(this,t),this.source=e,this.state=n,this.explicitPos=r}return ae(t,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(e,n){var r=zg(e),o=this;r?o=o.handleUserEvent(e,r,n):e.docChanged?o=o.handleChange(e):e.selection&&o.state!=0&&(o=new t(o.source,0));var i,s=he(e.effects);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.is(m1))o=new t(o.source,1,a.value?ru(e.state):-1);else if(a.is(g1))o=new t(o.source,0);else if(a.is(zM)){var u,l=he(a.value);try{for(l.s();!(u=l.n()).done;){var f=u.value;f.source==o.source&&(o=f)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){s.e(c)}finally{s.f()}return o}},{key:"handleUserEvent",value:function(e,n,r){return n!="delete"&&r.activateOnTyping?new t(this.source,1):this.map(e.changes)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(ru(e.startState))?new t(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty||this.explicitPos<0?this:new t(this.source,this.state,e.mapPos(this.explicitPos))}}]),t}(),gU=function(t){De(n,Ka);var e=Be(n);function n(r,o,i,s,a,u){var l;return se(this,n),(l=e.call(this,r,2,o)).result=i,l.from=s,l.to=a,l.span=u,l}return ae(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(r,o,i){var s=r.changes.mapPos(this.from),a=r.changes.mapPos(this.to,1),u=ru(r.state);if((this.explicitPos<0?u<=s:u<this.from)||u>a||o=="delete"&&ru(r.startState)==this.from)return new Ka(this.source,o=="input"&&i.activateOnTyping?1:0);var l=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos);return this.span&&(s==a||this.span.test(r.state.sliceDoc(s,a)))?new n(this.source,l,this.result,s,a,this.span):new Ka(this.source,1,l)}},{key:"handleChange",value:function(r){return r.changes.touchesRange(this.from,this.to)?new Ka(this.source,0):this.map(r.changes)}},{key:"map",value:function(r){return r.empty?this:new n(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1),this.span)}}]),n}(),m1=Zt.define(),g1=Zt.define(),zM=Zt.define({map:function(t,e){return t.map(function(n){return n.map(e)})}}),FM=Zt.define(),mi=Xr.define({create:function(){return hU.start()},update:function(t,e){return t.update(e)},provide:function(t){return[Dp.from(t,function(e){return e.tooltip}),Ot.contentAttributes.from(t,function(e){return e.attrs})]}});function nd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"option";return function(n){var r=n.state.field(mi,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;var o,i=1;e=="page"&&(o=oU(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));var s=r.open.selected+i*(t?1:-1),a=r.open.options.length;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:FM.of(s)}),!0}}var yU=ae(function t(e,n){se(this,t),this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}),bU=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=he(e.state.field(mi).active);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.state==1&&this.startQuery(o)}}catch(i){r.e(i)}finally{r.f()}}return ae(t,[{key:"update",value:function(e){var n=this,r=e.state.field(mi);if(e.selectionSet||e.docChanged||e.startState.field(mi)!=r){for(var o=e.transactions.some(function(p){return(p.selection||p.docChanged)&&!zg(p)}),i=0;i<this.running.length;i++){var s=this.running[i];if(o||s.updates.length+e.transactions.length>50&&Date.now()-s.time>1e3){var a,u=he(s.context.abortListeners);try{for(u.s();!(a=u.n()).done;){var l=a.value;try{l()}catch(p){No(this.view.state,p)}}}catch(p){u.e(p)}finally{u.f()}s.context.abortListeners=null,this.running.splice(i--,1)}else{var f;(f=s.updates).push.apply(f,Qt(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=r.active.some(function(p){return p.state==1&&!n.running.some(function(v){return v.active.source==p.source})})?setTimeout(function(){return n.startUpdate()},50):-1,this.composing!=0){var c,d=he(e.transactions);try{for(d.s();!(c=d.n()).done;){var h=c.value;zg(h)=="input"?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}}catch(p){d.e(p)}finally{d.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var n,r=he(this.view.state.field(mi).active);try{var o=function(){var i=n.value;i.state!=1||e.running.some(function(s){return s.active.source==i.source})||e.startQuery(i)};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}}},{key:"startQuery",value:function(e){var n=this,r=this.view.state,o=ru(r),i=new sU(r,o,e.explicitPos==o),s=new yU(e,i);this.running.push(s),Promise.resolve(e.source(i)).then(function(a){s.context.aborted||(s.done=a||null,n.scheduleAccept())},function(a){n.view.dispatch({effects:g1.of(null)}),No(n.view.state,a)})}},{key:"scheduleAccept",value:function(){var e=this;this.running.every(function(n){return n.done!==void 0})?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(function(){return e.accept()},50))}},{key:"accept",value:function(){var e,n=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var r=[],o=this.view.state.facet(ou),i=function(a){var u=n.running[a];if(u.done===void 0)return s=a,"continue";if(n.running.splice(a--,1),u.done){var l,f=new gU(u.active.source,u.active.explicitPos,u.done,u.done.from,(e=u.done.to)!==null&&e!==void 0?e:ru(u.updates.length?u.updates[0].startState:n.view.state),u.done.span&&u.done.filter!==!1?DM(u.done.span,!0):null),c=he(u.updates);try{for(c.s();!(l=c.n()).done;){var d=l.value;f=f.update(d,o)}}catch(y){c.e(y)}finally{c.f()}if(f.hasResult())return r.push(f),s=a,"continue"}var h=n.view.state.field(mi).active.find(function(y){return y.source==u.active.source});if(h&&h.state==1)if(u.done==null){var p,v=new Ka(u.active.source,0),g=he(u.updates);try{for(g.s();!(p=g.n()).done;){var m=p.value;v=v.update(m,o)}}catch(y){g.e(y)}finally{g.f()}v.state!=1&&r.push(v)}else n.startQuery(h);s=a},s=0;s<this.running.length;s++)i(s);r.length&&this.view.dispatch({effects:zM.of(r)})}}]),t}(),{eventHandlers:{compositionstart:function(){this.composing=1},compositionend:function(){var t=this;this.composing==3&&setTimeout(function(){return t.view.dispatch({effects:m1.of(!1)})},20),this.composing=0}}}),wU=Ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function kU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[mi,ou.of(t),bU,xU,wU]}var qM=[{key:"Ctrl-Space",run:function(t){return!!t.state.field(mi,!1)&&(t.dispatch({effects:m1.of(!0)}),!0)}},{key:"Escape",run:function(t){var e=t.state.field(mi,!1);return!(!e||!e.active.some(function(n){return n.state!=0}))&&(t.dispatch({effects:g1.of(null)}),!0)}},{key:"ArrowDown",run:nd(!0)},{key:"ArrowUp",run:nd(!1)},{key:"PageDown",run:nd(!0,"page")},{key:"PageUp",run:nd(!1,"page")},{key:"Enter",run:function(t){var e=t.state.field(mi,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75)&&(BM(t,e.open.options[e.open.selected]),!0)}}],xU=cf.highest(Op.computeN([ou],function(t){return t.facet(ou).defaultKeymap?[qM]:[]}));function y1(t,e){return function(n){var r=n.state,o=n.dispatch;if(r.readOnly)return!1;var i=t(e,r);return!!i&&(o(r.update(i)),!0)}}var jU=y1(OU,0),_U=y1(VM,0),SU=y1(function(t,e){return VM(t,e,function(n){var r,o=[],i=he(n.selection.ranges);try{for(i.s();!(r=i.n()).done;){var s=r.value,a=n.doc.lineAt(s.from),u=s.to<=a.to?a:n.doc.lineAt(s.to),l=o.length-1;l>=0&&o[l].to>a.from?o[l].to=u.to:o.push({from:a.from,to:u.to})}}catch(f){i.e(f)}finally{i.f()}return o}(e))},0),CU=[{key:"Mod-/",run:function(t){var e=b1(t.state);return e.line?jU(t):!!e.block&&SU(t)}},{key:"Alt-A",run:_U}];function b1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.selection.main.head,n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function $U(t,e,n,r){var o,i,s=e.open,a=e.close,u=t.sliceDoc(n-50,n),l=t.sliceDoc(r,r+50),f=/\s*$/.exec(u)[0].length,c=/^\s*/.exec(l)[0].length,d=u.length-f;if(u.slice(d-s.length,d)==s&&l.slice(c,c+a.length)==a)return{open:{pos:n-f,margin:f&&1},close:{pos:r+c,margin:c&&1}};r-n<=100?o=i=t.sliceDoc(n,r):(o=t.sliceDoc(n,n+50),i=t.sliceDoc(r-50,r));var h=/^\s*/.exec(o)[0].length,p=/\s*$/.exec(i)[0].length,v=i.length-p-a.length;return o.slice(h,h+s.length)==s&&i.slice(v,v+a.length)==a?{open:{pos:n+h+s.length,margin:/\s/.test(o.charAt(h+s.length))?1:0},close:{pos:r-p-a.length,margin:/\s/.test(i.charAt(v-1))?1:0}}:null}function VM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,r=n.map(function(d){return b1(e,d.from).block});if(!r.every(function(d){return d}))return null;var o=n.map(function(d,h){return $U(e,r[h],d.from,d.to)});if(t!=2&&!o.every(function(d){return d}))return{changes:e.changes(n.map(function(d,h){return o[h]?[]:[{from:d.from,insert:r[h].open+" "},{from:d.to,insert:" "+r[h].close}]}))};if(t!=1&&o.some(function(d){return d})){for(var i,s=[],a=0;a<o.length;a++)if(i=o[a]){var u=r[a],l=i,f=l.open,c=l.close;s.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:c.pos-c.margin,to:c.pos+u.close.length})}return{changes:s}}return null}function OU(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,o=[],i=-1,s=he(r);try{for(s.s();!(n=s.n()).done;){for(var a=n.value,u=a.from,l=a.to,f=o.length,c=1e9,d=u;d<=l;){var h=e.doc.lineAt(d);if(h.from>i&&(u==l||l>h.from)){i=h.from;var p=b1(e,d).line;if(!p)continue;var v=/^\s*/.exec(h.text)[0].length,g=v==h.length,m=h.text.slice(v,v+p.length)==p?v:-1;v<h.text.length&&v<c&&(c=v),o.push({line:h,comment:m,token:p,indent:v,empty:g,single:!1})}d=h.to+1}if(c<1e9)for(var y=f;y<o.length;y++)o[y].indent<o[y].line.text.length&&(o[y].indent=c);o.length==f+1&&(o[f].single=!0)}}catch(H){s.e(H)}finally{s.f()}if(t!=2&&o.some(function(H){return H.comment<0&&(!H.empty||H.single)})){var b,w=[],k=he(o);try{for(k.s();!(b=k.n()).done;){var $=b.value,A=$.line,P=$.token,_=$.indent,T=$.empty,C=$.single;!C&&T||w.push({from:A.from+_,insert:P+" "})}}catch(H){k.e(H)}finally{k.f()}var R=e.changes(w);return{changes:R,selection:e.selection.map(R,1)}}if(t!=1&&o.some(function(H){return H.comment>=0})){var S,j=[],q=he(o);try{for(q.s();!(S=q.n()).done;){var Y=S.value,F=Y.line,K=Y.comment,D=Y.token;if(K>=0){var I=F.from+K,W=I+D.length;F.text[W-F.from]==" "&&W++,j.push({from:I,to:W})}}}catch(H){q.e(H)}finally{q.f()}return{changes:j}}return null}function PC(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),o=n-r.from,i=o>2e3?-1:o==r.length?function(s,a){var u=s.coordsAtPos(s.viewport.from);return u?Math.round(Math.abs((u.left-a)/s.defaultCharacterWidth)):-1}(t,e.clientX):lf(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function AU(t,e){var n=PC(t,e),r=t.state.selection;return n?{update:function(o){if(o.docChanged){var i=o.changes.mapPos(o.startState.doc.line(n.line).from),s=o.state.doc.lineAt(i);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(o.changes)}},get:function(o,i,s){var a=PC(t,o);if(!a)return r;var u=function(l,f,c){var d=Math.min(f.line,c.line),h=Math.max(f.line,c.line),p=[];if(f.off>2e3||c.off>2e3||f.col<0||c.col<0)for(var v=Math.min(f.off,c.off),g=Math.max(f.off,c.off),m=d;m<=h;m++){var y=l.doc.line(m);y.length<=g&&p.push(Ke.range(y.from+v,y.to+g))}else for(var b=Math.min(f.col,c.col),w=Math.max(f.col,c.col),k=d;k<=h;k++){var $=l.doc.line(k),A=Gm($.text,b,l.tabSize,!0);if(A>-1){var P=Gm($.text,w,l.tabSize);p.push(Ke.range($.from+A,$.from+P))}}return p}(t.state,n,a);return u.length?s?Ke.create(u.concat(r.ranges)):Ke.create(u):r}}:null}function EU(t){var e=(t==null?void 0:t.eventFilter)||function(n){return n.altKey&&n.button==0};return Ot.mouseSelectionStyle.of(function(n,r){return e(r)?AU(n,r):null})}var PU={Alt:[18,function(t){return t.altKey}],Control:[17,function(t){return t.ctrlKey}],Shift:[16,function(t){return t.shiftKey}],Meta:[91,function(t){return t.metaKey}]},TU={style:"cursor: crosshair"};function MU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=At(PU[t.key||"Alt"],2),n=e[0],r=e[1],o=Fr.fromClass(function(){function i(s){se(this,i),this.view=s,this.isDown=!1}return ae(i,[{key:"set",value:function(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}}]),i}(),{eventHandlers:{keydown:function(i){this.set(i.keyCode==n||r(i))},keyup:function(i){i.keyCode!=n&&r(i)||this.set(!1)}}});return[o,Ot.contentAttributes.of(function(i){var s;return!((s=i.plugin(o))===null||s===void 0)&&s.isDown?TU:null})]}var IU=0,Us=function(){function t(e,n,r){se(this,t),this.set=e,this.base=n,this.modified=r,this.id=IU++}return ae(t,null,[{key:"define",value:function(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");var n=new t([],null,[]);if(n.set.push(n),e){var r,o=he(e.set);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.set.push(i)}}catch(s){o.e(s)}finally{o.f()}}return n}},{key:"defineModifier",value:function(){var e=new TC;return function(n){return n.modified.indexOf(e)>-1?n:TC.get(n.base||n,n.modified.concat(e).sort(function(r,o){return r.id-o.id}))}}}]),t}(),NU=0,TC=function(){function t(){se(this,t),this.instances=[],this.id=NU++}return ae(t,null,[{key:"get",value:function(e,n){if(!n.length)return e;var r=n[0].instances.find(function(v){return v.base==e&&(g=n,m=v.modified,g.length==m.length&&g.every(function(y,b){return y==m[b]}));var g,m});if(r)return r;var o,i=[],s=new Us(i,e,n),a=he(n);try{for(a.s();!(o=a.n()).done;)o.value.instances.push(s)}catch(v){a.e(v)}finally{a.f()}var u,l=HM(n),f=he(e.set);try{for(f.s();!(u=f.n()).done;){var c,d=u.value,h=he(l);try{for(h.s();!(c=h.n()).done;){var p=c.value;i.push(t.get(d,p))}}catch(v){h.e(v)}finally{h.f()}}}catch(v){f.e(v)}finally{f.f()}return s}}]),t}();function HM(t){for(var e=[t],n=0;n<t.length;n++){var r,o=he(HM(t.slice(0,n).concat(t.slice(n+1))));try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(i)}}catch(s){o.e(s)}finally{o.f()}}return e}function LU(t){var e=Object.create(null);for(var n in t){var r=t[n];Array.isArray(r)||(r=[r]);var o,i=he(n.split(" "));try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s){for(var a=[],u=2,l=s,f=0;;){if(l=="..."&&f>0&&f+3==s.length){u=1;break}var c=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!c)throw new RangeError("Invalid path: "+s);if(a.push(c[0]=="*"?null:c[0][0]=='"'?JSON.parse(c[0]):c[0]),(f+=c[0].length)==s.length)break;var d=s[f++];if(f==s.length&&d=="!"){u=0;break}if(d!="/")throw new RangeError("Invalid path: "+s);l=s.slice(f)}var h=a.length-1,p=a[h];if(!p)throw new RangeError("Invalid path: "+s);var v=new RU(r,u,h>0?a.slice(0,h):null);e[p]=v.sort(e[p])}}}catch(g){i.e(g)}finally{i.f()}}return WM.add(e)}var WM=new un,_h=Ct.define({combine:function(t){return t.length?w1.combinedMatch(t):null}}),UM=Ct.define({combine:function(t){return t.length?t[0].match:null}});function Fg(t){return t.facet(_h)||t.facet(UM)}var RU=function(){function t(e,n,r,o){se(this,t),this.tags=e,this.mode=n,this.context=r,this.next=o}return ae(t,[{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),t}(),w1=function(){function t(e,n){var r,o=this;function i(v){var g=ha.newName();return(r||(r=Object.create(null)))["."+g]=v,g}se(this,t),this.map=Object.create(null),this.all=typeof n.all=="string"?n.all:n.all?i(n.all):null;var s,a=he(e);try{for(a.s();!(s=a.n()).done;){var u=s.value,l=(u.class||i(Object.assign({},u,{tag:null})))+(this.all?" "+this.all:""),f=u.tag;if(Array.isArray(f)){var c,d=he(f);try{for(d.s();!(c=d.n()).done;){var h=c.value;this.map[h.id]=l}}catch(v){d.e(v)}finally{d.f()}}else this.map[f.id]=l}}catch(v){a.e(v)}finally{a.f()}this.module=r?new ha(r):null,this.scope=n.scope||null,this.match=this.match.bind(this);var p=[BU];this.module&&p.push(Ot.styleModule.of(this.module)),this.extension=p.concat(n.themeType==null?_h.of(this):_h.computeN([Ot.darkTheme],function(v){return v.facet(Ot.darkTheme)==(n.themeType=="dark")?[o]:[]})),this.fallback=p.concat(UM.of(this))}return ae(t,[{key:"match",value:function(e,n){if(this.scope&&n!=this.scope)return null;var r,o=he(e.set);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=this.map[i.id];if(s!==void 0)return i!=e&&(this.map[e.id]=s),s}}catch(a){o.e(a)}finally{o.f()}return this.map[e.id]=this.all}}],[{key:"combinedMatch",value:function(e){if(e.length==1)return e[0].match;var n=e.some(function(r){return r.scope})?void 0:Object.create(null);return function(r,o){var i=n&&n[r.id];if(i!==void 0)return i;var s,a=null,u=he(e);try{for(u.s();!(s=u.n()).done;){var l=s.value.match(r,o);l&&(a=a?a+" "+l:l)}}catch(f){u.e(f)}finally{u.f()}return n&&(n[r.id]=a),a}}},{key:"define",value:function(e,n){return new t(e,n||{})}},{key:"get",value:function(e,n,r){var o=Fg(e);return o&&o(n,r||Ei.none)}}]),t}(),DU=function(){function t(e){se(this,t),this.markCache=Object.create(null),this.tree=Zr(e.state),this.decorations=this.buildDeco(e,Fg(e.state))}return ae(t,[{key:"update",value:function(e){var n=Zr(e.state),r=Fg(e.state),o=r!=e.startState.facet(_h);n.length<e.view.viewport.to&&!o&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}},{key:"buildDeco",value:function(e,n){var r=this;if(!n||!this.tree.length)return Pt.none;var o,i=new Yu,s=he(e.visibleRanges);try{for(s.s();!(o=s.n()).done;){var a=o.value,u=a.from,l=a.to;FU(this.tree,u,l,n,function(f,c,d){i.add(f,c,r.markCache[d]||(r.markCache[d]=Pt.mark({class:d})))})}}catch(f){s.e(f)}finally{s.f()}return i.finish()}}]),t}(),BU=cf.high(Fr.fromClass(DU,{decorations:function(t){return t.decorations}})),MC=[""],zU=function(){function t(e,n,r){se(this,t),this.at=e,this.style=n,this.span=r,this.class=""}return ae(t,[{key:"startSpan",value:function(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,n,r,o,i,s){var a=e.type,u=e.from,l=e.to;if(!(u>=r||l<=n)){MC[i]=a.name,a.isTop&&(s=a);for(var f=o,c=a.prop(WM),d=!1;c;){if(!c.context||qU(c.context,MC,i)){var h,p=he(c.tags);try{for(p.s();!(h=p.n()).done;){var v=h.value,g=this.style(v,s);g&&(f&&(f+=" "),f+=g,c.mode==1?o+=(o?" ":"")+g:c.mode==0&&(d=!0))}}catch(T){p.e(T)}finally{p.f()}break}c=c.next}if(this.startSpan(e.from,f),!d){var m=e.tree&&e.tree.prop(un.mounted);if(m&&m.overlay){for(var y=e.node.enter(m.overlay[0].from+u,1),b=e.firstChild(),w=0,k=u;;w++){var $=w<m.overlay.length?m.overlay[w]:null,A=$?$.from+u:l,P=Math.max(n,k),_=Math.min(r,A);if(P<_&&b)for(;e.from<_&&(this.highlightRange(e,P,_,o,i+1,s),this.startSpan(Math.min(r,e.to),f),!(e.to>=A)&&e.nextSibling()););if(!$||A>r)break;(k=$.to+u)>n&&(this.highlightRange(y.cursor,Math.max(n,$.from+u),Math.min(r,k),o,i,m.tree.type),this.startSpan(k,f))}b&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,o,i+1,s),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}}}]),t}();function FU(t,e,n,r,o){var i=new zU(e,r,o);i.highlightRange(t.cursor(),e,n,"",0,t.type),i.flush(n)}function qU(t,e,n){if(t.length>n-1)return!1;for(var r=n-1,o=t.length-1;o>=0;o--,r--){var i=t[o];if(i&&i!=e[r])return!1}return!0}var st=Us.define,rd=st(),Js=st(),IC=st(Js),NC=st(Js),Ks=st(),od=st(Ks),Dv=st(Ks),Bi=st(),Ma=st(Bi),Ni=st(),Li=st(),qg=st(),Dl=st(qg),id=st(),Dt={comment:rd,lineComment:st(rd),blockComment:st(rd),docComment:st(rd),name:Js,variableName:st(Js),typeName:IC,tagName:st(IC),propertyName:NC,attributeName:st(NC),className:st(Js),labelName:st(Js),namespace:st(Js),macroName:st(Js),literal:Ks,string:od,docString:st(od),character:st(od),attributeValue:st(od),number:Dv,integer:st(Dv),float:st(Dv),bool:st(Ks),regexp:st(Ks),escape:st(Ks),color:st(Ks),url:st(Ks),keyword:Ni,self:st(Ni),null:st(Ni),atom:st(Ni),unit:st(Ni),modifier:st(Ni),operatorKeyword:st(Ni),controlKeyword:st(Ni),definitionKeyword:st(Ni),moduleKeyword:st(Ni),operator:Li,derefOperator:st(Li),arithmeticOperator:st(Li),logicOperator:st(Li),bitwiseOperator:st(Li),compareOperator:st(Li),updateOperator:st(Li),definitionOperator:st(Li),typeOperator:st(Li),controlOperator:st(Li),punctuation:qg,separator:st(qg),bracket:Dl,angleBracket:st(Dl),squareBracket:st(Dl),paren:st(Dl),brace:st(Dl),content:Bi,heading:Ma,heading1:st(Ma),heading2:st(Ma),heading3:st(Ma),heading4:st(Ma),heading5:st(Ma),heading6:st(Ma),contentSeparator:st(Bi),list:st(Bi),quote:st(Bi),emphasis:st(Bi),strong:st(Bi),link:st(Bi),monospace:st(Bi),strikethrough:st(Bi),inserted:st(),deleted:st(),changed:st(),invalid:st(),meta:id,documentMeta:st(id),annotation:st(id),processingInstruction:st(id),definition:Us.defineModifier(),constant:Us.defineModifier(),function:Us.defineModifier(),standard:Us.defineModifier(),local:Us.defineModifier(),special:Us.defineModifier()},VU=w1.define([{tag:Dt.link,textDecoration:"underline"},{tag:Dt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Dt.emphasis,fontStyle:"italic"},{tag:Dt.strong,fontWeight:"bold"},{tag:Dt.strikethrough,textDecoration:"line-through"},{tag:Dt.keyword,color:"#708"},{tag:[Dt.atom,Dt.bool,Dt.url,Dt.contentSeparator,Dt.labelName],color:"#219"},{tag:[Dt.literal,Dt.inserted],color:"#164"},{tag:[Dt.string,Dt.deleted],color:"#a11"},{tag:[Dt.regexp,Dt.escape,Dt.special(Dt.string)],color:"#e40"},{tag:Dt.definition(Dt.variableName),color:"#00f"},{tag:Dt.local(Dt.variableName),color:"#30a"},{tag:[Dt.typeName,Dt.namespace],color:"#085"},{tag:Dt.className,color:"#167"},{tag:[Dt.special(Dt.variableName),Dt.macroName],color:"#256"},{tag:Dt.definition(Dt.propertyName),color:"#00c"},{tag:Dt.comment,color:"#940"},{tag:Dt.meta,color:"#7a757a"},{tag:Dt.invalid,color:"#f00"}]),HU=ae(function t(e,n,r){se(this,t),this.from=e,this.to=n,this.diagnostic=r}),Bl=function(){function t(e,n,r){se(this,t),this.diagnostics=e,this.panel=n,this.selected=r}return ae(t,null,[{key:"init",value:function(e,n,r){var o=Pt.set(e.map(function(i){return i.from==i.to||i.from==i.to-1&&r.doc.lineAt(i.from).to==i.from?Pt.widget({widget:new QU(i),diagnostic:i}).range(i.from):Pt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+i.severity},diagnostic:i}).range(i.from,i.to)}),!0);return new t(o,n,el(o))}}]),t}();function el(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=null;return t.between(n,1e9,function(o,i,s){var a=s.spec;if(!e||a.diagnostic==e)return r=new HU(o,i,a.diagnostic),!1}),r}function JM(t,e){return t.field(Mo,!1)?e:e.concat(Zt.appendConfig.of([Mo,Ot.decorations.compute([Mo],function(n){var r=n.field(Mo),o=r.selected,i=r.panel;return o&&i&&o.from!=o.to?Pt.set([WU.range(o.from,o.to)]):Pt.none}),rU(UU),YU]))}var k1=Zt.define(),x1=Zt.define(),KM=Zt.define(),Mo=Xr.define({create:function(){return new Bl(Pt.none,null,null)},update:function(t,e){if(e.docChanged){var n=t.diagnostics.map(e.changes),r=null;if(t.selected){var o=e.changes.mapPos(t.selected.from,1);r=el(n,t.selected.diagnostic,o)||el(n,null,o)}t=new Bl(n,t.panel,r)}var i,s=he(e.effects);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.is(k1)?t=Bl.init(a.value,t.panel,e.state):a.is(x1)?t=new Bl(t.diagnostics,a.value?XM.open:null,t.selected):a.is(KM)&&(t=new Bl(t.diagnostics,t.panel,a.value))}}catch(u){s.e(u)}finally{s.f()}return t},provide:function(t){return[zc.from(t,function(e){return e.panel}),Ot.decorations.from(t,function(e){return e.diagnostics})]}}),WU=Pt.mark({class:"cm-lintRange cm-lintRange-active"});function UU(t,e,n){var r=t.state.field(Mo).diagnostics,o=[],i=2e8,s=0;return r.between(e-(n<0?1:0),e+(n>0?1:0),function(a,u,l){var f=l.spec;e>=a&&e<=u&&(a==u||(e>a||n>0)&&(e<u||n<0))&&(o.push(f.diagnostic),i=Math.min(a,i),s=Math.max(u,s))}),o.length?{pos:i,end:s,above:t.state.doc.lineAt(i).to<s,create:function(){return{dom:GM(t,o)}}}:null}function GM(t,e){return Gn("ul",{class:"cm-tooltip-lint"},e.map(function(n){return YM(t,n,!1)}))}var LC=function(t){var e=t.state.field(Mo,!1);return!(!e||!e.panel)&&(t.dispatch({effects:x1.of(!1)}),!0)},JU=[{key:"Mod-Shift-m",run:function(t){var e=t.state.field(Mo,!1);e&&e.panel||t.dispatch({effects:JM(t.state,[x1.of(!0)])});var n=Bc(t,XM.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:function(t){var e=t.state.field(Mo,!1);if(!e)return!1;var n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=e.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],KU=Fr.fromClass(function(){function t(e){se(this,t),this.view=e,this.timeout=-1,this.set=!0;var n=e.state.facet(Ql).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return ae(t,[{key:"run",value:function(){var e=this,n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;var r=this.view.state,o=r.facet(Ql).sources;Promise.all(o.map(function(i){return Promise.resolve(i(e.view))})).then(function(i){var s=i.reduce(function(a,u){return a.concat(u)});e.view.state.doc==r.doc&&e.view.dispatch(function(a,u){return{effects:JM(a,[k1.of(u)])}}(e.view.state,s))},function(i){No(e.view.state,i)})}}},{key:"update",value:function(e){var n=e.state.facet(Ql);(e.docChanged||n!=e.startState.facet(Ql))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),t}()),Ql=Ct.define({combine:function(t){return{sources:t.map(function(e){return e.source}),delay:t.length?Math.max.apply(Math,Qt(t.map(function(e){return e.delay}))):750}},enables:KU});function GU(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ql.of({source:t,delay:(e=n.delay)!==null&&e!==void 0?e:750})}function QM(t){var e=[];if(t){var n,r=he(t);try{e:for(r.s();!(n=r.n()).done;){for(var o=n.value.name,i=function(a){var u=o[a];if(/[a-zA-Z]/.test(u)&&!e.some(function(l){return l.toLowerCase()==u.toLowerCase()}))return e.push(u),"continue|actions"},s=0;s<o.length;s++)if(i(s)==="continue|actions")continue e;e.push("")}}catch(a){r.e(a)}finally{r.f()}}return e}function YM(t,e,n){var r,o=n?QM(e.actions):[];return Gn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Gn("span",{class:"cm-diagnosticText"},e.message),(r=e.actions)===null||r===void 0?void 0:r.map(function(i,s){var a=function(c){c.preventDefault();var d=el(t.state.field(Mo).diagnostics,e);d&&i.apply(t,d.from,d.to)},u=i.name,l=o[s]?u.indexOf(o[s]):-1,f=l<0?u:[u.slice(0,l),Gn("u",u.slice(l,l+1)),u.slice(l+1)];return Gn("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":" Action: ".concat(u).concat(l<0?"":' (access key "'.concat(o[s],')"'),".")},f)}),e.source&&Gn("div",{class:"cm-diagnosticSource"},e.source))}var QU=function(t){De(n,ja);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).diagnostic=r,o}return ae(n,[{key:"eq",value:function(r){return r.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return Gn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(),RC=ae(function t(e,n){se(this,t),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=YM(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}),XM=function(){function t(e){var n=this;se(this,t),this.view=e,this.items=[],this.list=Gn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(r){if(r.keyCode==27)LC(n.view),n.view.focus();else if(r.keyCode==38||r.keyCode==33)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(r.keyCode==40||r.keyCode==34)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(r.keyCode==36)n.moveSelection(0);else if(r.keyCode==35)n.moveSelection(n.items.length-1);else if(r.keyCode==13)n.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&n.selectedIndex>=0))return;for(var o=n.items[n.selectedIndex].diagnostic,i=QM(o.actions),s=0;s<i.length;s++)if(i[s].toUpperCase().charCodeAt(0)==r.keyCode){var a=el(n.view.state.field(Mo).diagnostics,o);a&&o.actions[s].apply(e,a.from,a.to)}}r.preventDefault()},onclick:function(r){for(var o=0;o<n.items.length;o++)n.items[o].dom.contains(r.target)&&n.moveSelection(o)}}),this.dom=Gn("div",{class:"cm-panel-lint"},this.list,Gn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return LC(n.view)}},"\xD7")),this.update()}return ae(t,[{key:"selectedIndex",get:function(){var e=this.view.state.field(Mo).selected;if(!e)return-1;for(var n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}},{key:"update",value:function(){var e=this,n=this.view.state.field(Mo),r=n.diagnostics,o=n.selected,i=0,s=!1,a=null;for(r.between(0,this.view.state.doc.length,function(u,l,f){for(var c,d=f.spec,h=-1,p=i;p<e.items.length;p++)if(e.items[p].diagnostic==d.diagnostic){h=p;break}h<0?(c=new RC(e.view,d.diagnostic),e.items.splice(i,0,c),s=!0):(c=e.items[h],h>i&&(e.items.splice(i,h-i),s=!0)),o&&c.diagnostic==o.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),a=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new RC(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:function(){return{sel:a.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(u){var l=u.sel,f=u.panel;l.top<f.top?e.list.scrollTop-=f.top-l.top:l.bottom>f.bottom&&(e.list.scrollTop+=l.bottom-f.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function n(){var s=e;e=s.nextSibling,s.remove()}var r,o=he(this.items);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(s){o.e(s)}finally{o.f()}for(;e;)n()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var n=el(this.view.state.field(Mo).diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:KM.of(n)})}}}],[{key:"open",value:function(e){return new t(e)}}]),t}();function Od(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'viewBox="0 0 40 40"';return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" `.concat(e,">").concat(encodeURIComponent(t),"</svg>')")}function Bv(t){return Od('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(t,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var YU=Ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Bv("#d11")},".cm-lintRange-warning":{backgroundImage:Bv("orange")},".cm-lintRange-info":{backgroundImage:Bv("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),XU=function(t){De(n,Vi);var e=Be(n);function n(r){var o;return se(this,n),(o=e.call(this)).diagnostics=r,o.severity=r.reduce(function(i,s){var a=s.severity;return a=="error"||a=="warning"&&i=="info"?a:i},"info"),o}return ae(n,[{key:"toDOM",value:function(r){var o=this,i=document.createElement("div");return i.className="cm-lint-marker cm-lint-marker-"+this.severity,i.onmouseover=function(){return function(s,a,u){function l(){var d=s.elementAtHeight(a.getBoundingClientRect().top+5-s.documentTop);s.coordsAtPos(d.from)&&s.dispatch({effects:Vg.of({pos:d.from,above:!1,create:function(){return{dom:GM(s,u),getCoords:function(){return a.getBoundingClientRect()}}}})}),a.onmouseout=a.onmousemove=null,function(h,p){var v=function g(m){var y=p.getBoundingClientRect();if(!(m.clientX>y.left-10&&m.clientX<y.right+10&&m.clientY>y.top-10&&m.clientY<y.bottom+10)){for(var b=m.target;b;b=b.parentNode)if(b.nodeType==1&&b.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",g),h.state.field(eI)&&h.dispatch({effects:Vg.of(null)})}};window.addEventListener("mousemove",v)}(s,a)}var f=s.state.facet(tI).hoverTime,c=setTimeout(l,f);a.onmouseout=function(){clearTimeout(c),a.onmouseout=a.onmousemove=null},a.onmousemove=function(){clearTimeout(c),c=setTimeout(l,f)}}(r,i,o.diagnostics)},i}}]),n}();function ZU(t,e){var n,r=Object.create(null),o=he(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=t.lineAt(i.from);(r[s.from]||(r[s.from]=[])).push(i)}}catch(l){o.e(l)}finally{o.f()}var a=[];for(var u in r)a.push(new XU(r[u]).range(+u));return Un.of(a,!0)}var eJ=iM({class:"cm-gutter-lint",markers:function(t){return t.state.field(ZM)}}),ZM=Xr.define({create:function(){return Un.empty},update:function(t,e){t=t.map(e.changes);var n,r=he(e.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(k1)&&(t=ZU(e.state.doc,o.value))}}catch(i){r.e(i)}finally{r.f()}return t}}),Vg=Zt.define(),eI=Xr.define({create:function(){return null},update:function(t,e){return t&&e.docChanged&&(t=Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce(function(n,r){return r.is(Vg)?r.value:n},t)},provide:function(t){return Dp.from(t)}}),tJ=Ot.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Od('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Od('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:Od('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),tI=Ct.define({combine:function(t){return Ms(t,{hoverTime:300})}});function nJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[tI.of(t),ZM,eJ,tJ,eI]}var DC,rJ=[rW(),sW(),pH(),jH(),fW(),iH(),cH(),tr.allowMultipleSelections.of(!0),GH(),VU.fallback,gW(),_W(),kU(),EU(),MU(),yH(),IW(),Op.of([].concat($W,Qt(xW),JW,PH,aW,CU,qM,JU))],oJ=function(){function t(e,n,r,o,i,s,a,u,l){var f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,c=arguments.length>10?arguments[10]:void 0;se(this,t),this.p=e,this.stack=n,this.state=r,this.reducePos=o,this.pos=i,this.score=s,this.buffer=a,this.bufferBase=u,this.curContext=l,this.lookAhead=f,this.parent=c}return ae(t,[{key:"toString",value:function(){return"[".concat(this.stack.filter(function(e,n){return n%3==0}).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var n=e>>19,r=65535&e,o=this.p.parser,i=o.dynamicPrecedence(r);if(i&&(this.score+=i),n==0)return this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);var s=this.stack.length-3*(n-1)-(262144&e?6:0),a=this.stack[s-2],u=this.stack[s-1],l=this.bufferBase+this.buffer.length-u;if(r<o.minRepeatTerm||131072&e){var f=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,f,l+4,!0)}if(262144&e)this.state=this.stack[s];else{var c=this.stack[s-3];this.state=o.getGoto(c,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,a)}},{key:"storeNode",value:function(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4,i=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(e==0){var s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n)return void(s.buffer[a-2]=r)}}if(i&&this.pos!=r){var u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0)for(;u>0&&this.buffer[u-2]>r;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,o>4&&(o-=4);this.buffer[u]=e,this.buffer[u+1]=n,this.buffer[u+2]=r,this.buffer[u+3]=o}else this.buffer.push(e,n,r,o)}},{key:"shift",value:function(e,n,r){var o=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if((262144&e)==0){var i=e,s=this.p.parser;(r>this.pos||n<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,o),this.shiftContext(n,o),n<=s.maxNode&&this.buffer.push(n,o,r,4)}else this.pos=r,this.shiftContext(n,o),n<=this.p.parser.maxNode&&this.buffer.push(n,o,r,4)}},{key:"apply",value:function(e,n,r){65536&e?this.reduce(e):this.shift(e,n,r)}},{key:"useNode",value:function(e,n){var r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);var o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(n,o),this.buffer.push(r,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var e=this,n=e.buffer.length;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;for(var r=e.buffer.slice(n),o=e.bufferBase+n;e&&o==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,o,this.curContext,this.lookAhead,e)}},{key:"recoverByDelete",value:function(e,n){var r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}},{key:"canShift",value:function(e){for(var n=new iJ(this);;){var r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if((65536&r)==0)return!0;if(r==0)return!1;n.reduce(r)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){for(var r,o=[],i=0;i<n.length;i+=2)(r=n[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&o.push(n[i],r);if(this.stack.length<120)for(var s=function(d){var h=n[d+1];o.some(function(p,v){return 1&v&&p==h})||o.push(n[d],h)},a=0;o.length<8&&a<n.length;a+=2)s(a);n=o}for(var u=[],l=0;l<n.length&&u.length<4;l+=2){var f=n[l+1];if(f!=this.state){var c=this.split();c.storeNode(0,c.pos,c.pos,4,!0),c.pushState(f,this.pos),c.shiftContext(n[l],this.pos),c.score-=200,u.push(c)}}return u}},{key:"forceReduce",value:function(){var e=this.p.parser.stateSlot(this.state,5);if((65536&e)==0)return!1;var n=this.p.parser;if(!n.validAction(this.state,e)){var r=e>>19,o=65535&e,i=this.stack.length-3*r;if(i<0||n.getGoto(this.stack[i],o,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(this.stack.length!=3)return!1;var e=this.p.parser;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"reduceContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var n=new BC(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=e.parser.context;return new t(e,[],n,r,r,0,[],0,o?new BC(o,o.start):null,0,null)}}]),t}(),BC=ae(function t(e,n){se(this,t),this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0});(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(DC||(DC={}));var iJ=function(){function t(e){se(this,t),this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}return ae(t,[{key:"reduce",value:function(e){var n=65535&e,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);var o=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=o}}]),t}(),sJ=function(){function t(e,n,r){se(this,t),this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}return ae(t,[{key:"maybeNext",value:function(){var e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}},{key:"fork",value:function(){return new t(this.stack,this.pos,this.index)}}],[{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.bufferBase+e.buffer.length;return new t(e,n,n-e.bufferBase)}}]),t}(),Ad=ae(function t(){se(this,t),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}),zC=new Ad,aJ=function(){function t(e,n){se(this,t),this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=zC,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return ae(t,[{key:"resolveOffset",value:function(e,n){for(var r=this.range,o=this.rangeIndex,i=this.pos+e;i<r.from;){if(!o)return null;var s=this.ranges[--o];i-=r.from-s.to,r=s}for(;n<0?i>r.to:i>=r.to;){if(o==this.ranges.length-1)return null;var a=this.ranges[++o];i+=a.from-r.to,r=a}return i}},{key:"peek",value:function(e){var n,r,o=this.chunkOff+e;if(o>=0&&o<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(o);else{var i=this.resolveOffset(e,1);if(i==null)return-1;if((n=i)>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{for(var s=this.rangeIndex,a=this.range;a.to<=n;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}},{key:"acceptToken",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,n=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var r=this.input.chunk(this.pos),o=this.pos+r.length;this.chunk=o>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=zC,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);var r,o="",i=he(this.ranges);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.from>=n)break;s.to>e&&(o+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}}catch(a){i.e(a)}finally{i.f()}return o}}]),t}(),Ed=function(){function t(e,n){se(this,t),this.data=e,this.id=n}return ae(t,[{key:"token",value:function(e,n){(function(r,o,i,s){var a=0,u=1<<s,l=i.p.parser,f=l.dialect;e:for(;(u&r[a])!=0;){for(var c=r[a+1],d=a+3;d<c;d+=2)if((r[d+1]&u)>0){var h=r[d];if(f.allows(h)&&(o.token.value==-1||o.token.value==h||l.overrides(h,o.token.value))){o.acceptToken(h);break}}for(var p=o.next,v=0,g=r[a+2];v<g;){var m=v+g>>1,y=c+m+(m<<1),b=r[y],w=r[y+1];if(p<b)g=m;else{if(!(p>=w)){a=r[y+2],o.advance();continue e}v=m+1}}break}})(this.data,e,n,this.id)}}]),t}();function sd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uint16Array;if(typeof t!="string")return t;for(var n=null,r=0,o=0;r<t.length;){for(var i=0;;){var s=t.charCodeAt(r++),a=!1;if(s==126){i=65535;break}s>=92&&s--,s>=34&&s--;var u=s-32;if(u>=46&&(u-=46,a=!0),i+=u,a)break;i*=46}n?n[o++]=i:n=new e(i)}return n}Ed.prototype.contextual=Ed.prototype.fallback=Ed.prototype.extend=!1;var FC,di=typeof process<"u"&&/\bparse\b/.test(process.env.LOG),zv=null;function qC(t,e,n){var r=t.fullCursor();for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}(function(t){t[t.Margin=25]="Margin"})(FC||(FC={}));var VC,uJ=function(){function t(e,n){se(this,t),this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return ae(t,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?qC(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?qC(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var n=this.trees.length-1;if(n<0)return this.nextFragment(),null;var r=this.trees[n],o=this.index[n];if(o!=r.children.length){var i=r.children[o],s=this.start[n]+r.positions[o];if(s>e)return this.nextStart=s,null;if(i instanceof Dr){if(s==e){if(s<this.safeFrom)return null;var a=s+i.length;if(a<=this.safeTo){var u=i.prop(un.lookAhead);if(!u||a+u<this.fragment.to)return i}}this.index[n]++,s+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),t}(),lJ=function(){function t(e,n){se(this,t),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(function(r){return new Ad})}return ae(t,[{key:"getActions",value:function(e){for(var n=0,r=null,o=e.p.parser,i=o.tokenizers,s=o.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,u=0,l=0;l<i.length;l++)if((1<<l&s)!=0){var f=i[l],c=this.tokens[l];if((!r||f.fallback)&&((f.contextual||c.start!=e.pos||c.mask!=s||c.context!=a)&&(this.updateCachedToken(c,f,e),c.mask=s,c.context=a),c.lookAhead>c.end+25&&(u=Math.max(c.lookAhead,u)),c.value!=0)){var d=n;if(c.extended>-1&&(n=this.addActions(e,c.extended,c.end,n)),n=this.addActions(e,c.value,c.end,n),!f.extend&&(r=c,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),r||e.pos!=this.stream.end||((r=new Ad).value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var n=new Ad,r=e.pos,o=e.p;return n.start=r,n.end=Math.min(r+1,o.stream.end),n.value=r==o.stream.end?o.parser.eofTerm:0,n}},{key:"updateCachedToken",value:function(e,n,r){if(n.token(this.stream.reset(r.pos,e),r),e.value>-1){for(var o=r.p.parser,i=0;i<o.specialized.length;i++)if(o.specialized[i]==e.value){var s=o.specializers[i](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){(1&s)==0?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}},{key:"putAction",value:function(e,n,r,o){for(var i=0;i<o;i+=3)if(this.actions[i]==e)return o;return this.actions[o++]=e,this.actions[o++]=n,this.actions[o++]=r,o}},{key:"addActions",value:function(e,n,r,o){for(var i=e.state,s=e.p.parser,a=s.data,u=0;u<2;u++)for(var l=s.stateSlot(i,u?2:1);;l+=3){if(a[l]==65535){if(a[l+1]!=1){o==0&&a[l+1]==2&&(o=this.putAction(ds(a,l+2),n,r,o));break}l=ds(a,l+2)}a[l]==n&&(o=this.putAction(ds(a,l+1),n,r,o))}return o}}]),t}();(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo"})(VC||(VC={}));var cJ=function(){function t(e,n,r,o){se(this,t),this.parser=e,this.input=n,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new aJ(n,o),this.tokens=new lJ(e,this.stream),this.topTerm=e.top[1];var i=o[0].from;this.stacks=[oJ.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*e.bufferLength?new uJ(r,e.nodeSet):null}return ae(t,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){for(var e,n,r=this.stacks,o=this.minStackPos,i=this.stacks=[],s=0;s<r.length;s++)for(var a=r[s];;){if(this.tokens.mainToken=null,a.pos>o)i.push(a);else{if(this.advanceStack(a,i,r))continue;e||(e=[],n=[]),e.push(a);var u=this.tokens.getMainToken(a);n.push(u.value,u.end)}break}if(!i.length){var l=e&&function(m){var y,b=null,w=he(m);try{for(w.s();!(y=w.n()).done;){var k=y.value,$=k.p.stoppedAt;(k.pos==k.p.stream.end||$!=null&&k.pos>$)&&k.p.parser.stateFlag(k.state,2)&&(!b||b.score<k.score)&&(b=k)}}catch(A){w.e(A)}finally{w.f()}return b}(e);if(l)return this.stackToTree(l);if(this.parser.strict)throw di&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+o);this.recovering||(this.recovering=5)}if(this.recovering&&e){var f=this.stoppedAt!=null&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,n,i);if(f)return this.stackToTree(f.forceAll())}if(this.recovering){var c=this.recovering==1?1:3*this.recovering;if(i.length>c)for(i.sort(function(m,y){return y.score-m.score});i.length>c;)i.pop();i.some(function(m){return m.reducePos>o})&&this.recovering--}else if(i.length>1)e:for(var d=0;d<i.length-1;d++)for(var h=i[d],p=d+1;p<i.length;p++){var v=i[p];if(h.sameState(v)||h.buffer.length>500&&v.buffer.length>500){if(!((h.score-v.score||h.buffer.length-v.buffer.length)>0)){i.splice(d--,1);continue e}i.splice(p--,1)}}this.minStackPos=i[0].pos;for(var g=1;g<i.length;g++)i[g].pos<this.minStackPos&&(this.minStackPos=i[g].pos);return null}},{key:"stopAt",value:function(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,n,r){var o=e.pos,i=this.parser,s=di?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var a=e.curContext&&e.curContext.tracker.strict,u=a?e.curContext.hash:0,l=this.fragments.nodeAt(o);l;){var f=this.parser.nodeSet.types[l.type.id]==l.type?i.getGoto(e.state,l.type.id):-1;if(f>-1&&l.length&&(!a||(l.prop(un.contextHash)||0)==u))return e.useNode(l,f),di&&console.log(s+this.stackID(e)+" (via reuse of ".concat(i.getName(l.type.id),")")),!0;if(!(l instanceof Dr)||l.children.length==0||l.positions[0]>0)break;var c=l.children[0];if(!(c instanceof Dr&&l.positions[0]==0))break;l=c}var d=i.stateSlot(e.state,4);if(d>0)return e.reduce(d),di&&console.log(s+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&d),")")),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););for(var h=this.tokens.getActions(e),p=0;p<h.length;){var v=h[p++],g=h[p++],m=h[p++],y=p==h.length||!r,b=y?e:e.split();if(b.apply(v,g,m),di&&console.log(s+this.stackID(b)+" (via ".concat((65536&v)==0?"shift":"reduce of ".concat(i.getName(65535&v))," for ").concat(i.getName(g)," @ ").concat(o).concat(b==e?"":", split",")")),y)return!0;b.pos>o?n.push(b):r.push(b)}return!1}},{key:"advanceFully",value:function(e,n){for(var r=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return HC(e,n),!0}}},{key:"runRecovery",value:function(e,n,r){for(var o=null,i=!1,s=0;s<e.length;s++){var a=e[s],u=n[s<<1],l=n[1+(s<<1)],f=di?this.stackID(a)+" -> ":"";if(!(a.deadEnd&&(i||(i=!0,a.restart(),di&&console.log(f+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))){for(var c=a.split(),d=f,h=0;c.forceReduce()&&h<10&&(di&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));h++)di&&(d=this.stackID(c)+" -> ");var p,v=he(a.recoverByInsert(u));try{for(v.s();!(p=v.n()).done;){var g=p.value;di&&console.log(f+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,r)}}catch(m){v.e(m)}finally{v.f()}this.stream.end>a.pos?(l==a.pos&&(l++,u=0),a.recoverByDelete(u,l),di&&console.log(f+this.stackID(a)+" (via recover-delete ".concat(this.parser.getName(u),")")),HC(a,r)):(!o||o.score<a.score)&&(o=a)}}return o}},{key:"stackToTree",value:function(e){return e.close(),Dr.build({buffer:sJ.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var n=(zv||(zv=new WeakMap)).get(e);return n||zv.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}]),t}();function HC(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}var fJ=function(){function t(e,n,r){se(this,t),this.source=e,this.flags=n,this.disabled=r}return ae(t,[{key:"allows",value:function(e){return!this.disabled||this.disabled[e]==0}}]),t}();function ds(t,e){return t[e]|t[e+1]<<16}function WC(t,e,n){for(var r,o=e;(r=t[o])!=65535;o++)if(r==n)return o-e;return-1}var dJ=function(t){De(n,eM);var e=Be(n);function n(r){var o;if(se(this,n),(o=e.call(this)).wrappers=[],r.version!=13)throw new RangeError("Parser version (".concat(r.version,") doesn't match runtime version (",13,")"));var i=r.nodeNames.split(" ");o.minRepeatTerm=i.length;for(var s=0;s<r.repeatNodeCount;s++)i.push("");for(var a=Object.keys(r.topRules).map(function(k){return r.topRules[k][1]}),u=[],l=0;l<i.length;l++)u.push([]);function f(k,$,A){u[k].push([$,$.deserialize(String(A))])}if(r.nodeProps){var c,d=he(r.nodeProps);try{for(d.s();!(c=d.n()).done;)for(var h=c.value,p=h[0],v=1;v<h.length;){var g=h[v++];if(g>=0)f(g,p,h[v++]);else{for(var m=h[v+-g],y=-g;y>0;y--)f(h[v++],p,m);v++}}}catch(k){d.e(k)}finally{d.f()}}o.nodeSet=new IH(i.map(function(k,$){return Ei.define({name:$>=o.minRepeatTerm?void 0:k,id:$,props:u[$],top:a.indexOf($)>-1,error:$==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf($)>-1})})),o.strict=!1,o.bufferLength=1024;var b=sd(r.tokenData);if(o.context=r.context,o.specialized=new Uint16Array(r.specialized?r.specialized.length:0),o.specializers=[],r.specialized)for(var w=0;w<r.specialized.length;w++)o.specialized[w]=r.specialized[w].term,o.specializers[w]=r.specialized[w].get;return o.states=sd(r.states,Uint32Array),o.data=sd(r.stateData),o.goto=sd(r.goto),o.maxTerm=r.maxTerm,o.tokenizers=r.tokenizers.map(function(k){return typeof k=="number"?new Ed(b,k):k}),o.topRules=r.topRules,o.dialects=r.dialects||{},o.dynamicPrecedences=r.dynamicPrecedences||null,o.tokenPrecTable=r.tokenPrec,o.termNames=r.termNames||null,o.maxNode=o.nodeSet.types.length-1,o.dialect=o.parseDialect(),o.top=o.topRules[Object.keys(o.topRules)[0]],o}return ae(n,[{key:"createParse",value:function(r,o,i){var s,a=new cJ(this,r,o,i),u=he(this.wrappers);try{for(u.s();!(s=u.n()).done;)a=(0,s.value)(a,r,o,i)}catch(l){u.e(l)}finally{u.f()}return a}},{key:"getGoto",value:function(r,o){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=this.goto;if(o>=s[0])return-1;for(var a=s[o+1];;){var u=s[a++],l=1&u,f=s[a++];if(l&&i)return f;for(var c=a+(u>>1);a<c;a++)if(s[a]==r)return f;if(l)return-1}}},{key:"hasAction",value:function(r,o){for(var i=this.data,s=0;s<2;s++)for(var a,u=this.stateSlot(r,s?2:1);;u+=3){if((a=i[u])==65535){if(i[u+1]!=1){if(i[u+1]==2)return ds(i,u+2);break}a=i[u=ds(i,u+2)]}if(a==o||a==0)return ds(i,u+1)}return 0}},{key:"stateSlot",value:function(r,o){return this.states[6*r+o]}},{key:"stateFlag",value:function(r,o){return(this.stateSlot(r,0)&o)>0}},{key:"validAction",value:function(r,o){if(o==this.stateSlot(r,4))return!0;for(var i=this.stateSlot(r,1);;i+=3){if(this.data[i]==65535){if(this.data[i+1]!=1)return!1;i=ds(this.data,i+2)}if(o==ds(this.data,i+1))return!0}}},{key:"nextStates",value:function(r){for(var o=this,i=[],s=this.stateSlot(r,1);;s+=3){if(this.data[s]==65535){if(this.data[s+1]!=1)break;s=ds(this.data,s+2)}(1&this.data[s+2])==0&&function(){var a=o.data[s+1];i.some(function(u,l){return 1&l&&u==a})||i.push(o.data[s],a)}()}return i}},{key:"overrides",value:function(r,o){var i=WC(this.data,this.tokenPrecTable,o);return i<0||WC(this.data,this.tokenPrecTable,r)<i}},{key:"configure",value:function(r){var o,i=Object.assign(Object.create(n.prototype),this);if(r.props&&(i.nodeSet=(o=this.nodeSet).extend.apply(o,Qt(r.props))),r.top){var s=this.topRules[r.top];if(!s)throw new RangeError("Invalid top rule name ".concat(r.top));i.top=s}return r.tokenizers&&(i.tokenizers=this.tokenizers.map(function(a){var u=r.tokenizers.find(function(l){return l.from==a});return u?u.to:a})),r.contextTracker&&(i.context=r.contextTracker),r.dialect&&(i.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(i.strict=r.strict),r.wrap&&(i.wrappers=i.wrappers.concat(r.wrap)),r.bufferLength!=null&&(i.bufferLength=r.bufferLength),i}},{key:"getName",value:function(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(r){var o=this.dynamicPrecedences;return o==null?0:o[r]||0}},{key:"parseDialect",value:function(r){var o=Object.keys(this.dialects),i=o.map(function(){return!1});if(r){var s,a=he(r.split(" "));try{for(a.s();!(s=a.n()).done;){var u=s.value,l=o.indexOf(u);l>=0&&(i[l]=!0)}}catch(p){a.e(p)}finally{a.f()}}for(var f=null,c=0;c<o.length;c++)if(!i[c])for(var d,h=this.dialects[o[c]];(d=this.data[h++])!=65535;)(f||(f=new Uint8Array(this.maxTerm+1)))[d]=1;return new fJ(r,i,f)}}],[{key:"deserialize",value:function(r){return new n(r)}}]),n}().deserialize({version:13,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[[un.openedBy,7,"{",12,"["],[un.closedBy,8,"}",13,"]"]],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),hJ=BH.define({parser:dJ.configure({props:[nM.add({Object:DS({except:/^\s*\}/}),Array:DS({except:/^\s*\]/})}),oM.add({"Object Array":function(t){var e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}}),LU({String:Dt.string,Number:Dt.number,"True False":Dt.bool,PropertyName:Dt.propertyName,Null:Dt.null,",":Dt.separator,"[ ]":Dt.squareBracket,"{ }":Dt.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}}),pJ=w1.define([{tag:Dt.propertyName,color:"var(--jse-key-color)"},{tag:Dt.number,color:"var(--jse-value-color-number)"},{tag:Dt.bool,color:"var(--jse-value-color-boolean)"},{tag:Dt.string,color:"var(--jse-value-color-string)"},{tag:Dt.keyword,color:"var(--jse-value-color-null)"}]);function Fv(t,e){var n=Date.now(),r=t();return e(Date.now()-n),r}function vJ(t){zt(t,"svelte-1oo7hnc",".jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);margin:0;border-top:var(--jse-panel-border);border-left:var(--jse-main-border);border-right:var(--jse-main-border);display:flex;gap:var(--jse-padding)}.jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc:last-child{border-bottom:var(--jse-main-border)}.jse-status-bar.svelte-1oo7hnc .jse-status-bar-info.svelte-1oo7hnc{padding:2px}")}function UC(t){var e,n,r;return{c:function(){e=re("div"),n=nt("Line: "),r=nt(t[0]),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,i){ye(o,e,i),U(e,n),U(e,r)},p:function(o,i){1&i&&en(r,o[0])},d:function(o){o&&me(e)}}}function JC(t){var e,n,r;return{c:function(){e=re("div"),n=nt("Column: "),r=nt(t[1]),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,i){ye(o,e,i),U(e,n),U(e,r)},p:function(o,i){2&i&&en(r,o[1])},d:function(o){o&&me(e)}}}function KC(t){var e,n,r,o;return{c:function(){e=re("div"),n=nt("Selection: "),r=nt(t[2]),o=nt(" characters"),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,s){ye(i,e,s),U(e,n),U(e,r),U(e,o)},p:function(i,s){4&s&&en(r,i[2])},d:function(i){i&&me(e)}}}function mJ(t){var e,n,r,o=t[0]!==void 0&&UC(t),i=t[1]!==void 0&&JC(t),s=t[2]!==void 0&&t[2]>0&&KC(t);return{c:function(){e=re("div"),o&&o.c(),n=Ae(),i&&i.c(),r=Ae(),s&&s.c(),E(e,"class","jse-status-bar svelte-1oo7hnc")},m:function(a,u){ye(a,e,u),o&&o.m(e,null),U(e,n),i&&i.m(e,null),U(e,r),s&&s.m(e,null)},p:function(a,u){var l=At(u,1)[0];a[0]!==void 0?o?o.p(a,l):((o=UC(a)).c(),o.m(e,n)):o&&(o.d(1),o=null),a[1]!==void 0?i?i.p(a,l):((i=JC(a)).c(),i.m(e,r)):i&&(i.d(1),i=null),a[2]!==void 0&&a[2]>0?s?s.p(a,l):((s=KC(a)).c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Ge,o:Ge,d:function(a){a&&me(e),o&&o.d(),i&&i.d(),s&&s.d()}}}function gJ(t,e,n){var r,o,i,s,a,u,l,f,c,d,h=e.editorState;return t.$$set=function(p){"editorState"in p&&n(3,h=p.editorState)},t.$$.update=function(){56&t.$$.dirty&&n(9,u=n(5,o=n(4,r=h==null?void 0:h.selection)===null||r===void 0?void 0:r.main)===null||o===void 0?void 0:o.head),584&t.$$.dirty&&n(10,l=n(6,i=h==null?void 0:h.doc)===null||i===void 0?void 0:i.lineAt(u)),1024&t.$$.dirty&&n(0,f=l?l.number:void 0),1536&t.$$.dirty&&n(1,c=l?u-l.from+1:void 0),392&t.$$.dirty&&n(2,d=n(8,a=n(7,s=h==null?void 0:h.selection)===null||s===void 0?void 0:s.ranges)===null||a===void 0?void 0:a.reduce(function(p,v){return p+v.to-v.from},0))},[f,c,d,h,r,o,i,s,a,u,l]}var yJ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,gJ,mJ,xr,{editorState:3},vJ),o}return ae(n)}();function bJ(t){zt(t,"svelte-1ol5grl",'.jse-code-mode.svelte-1ol5grl.svelte-1ol5grl{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color)}.jse-code-mode.no-main-menu.svelte-1ol5grl.svelte-1ol5grl{border-top:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl:last-child{border-bottom:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.jse-hidden.svelte-1ol5grl{visibility:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor{flex:1;overflow:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);color:var(--jse-delimiter-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-gutters{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);border-right:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLine,.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLineGutter{background:var(--jse-hover-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background);color:var(--jse-tag-color);border:none;padding:0 var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-diagnostic{font-size:var(--jse-font-size);font-family:var(--jse-font-family)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-panels{border-bottom:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search{background:var(--jse-panel-background);color:var(--jse-panel-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search input{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-input-color);border:var(--jse-input-border);background:var(--jse-input-background);margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-panel-button-color);background:var(--jse-panel-button-background);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);margin:0}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);padding-left:var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label input{margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color)}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading-space.svelte-1ol5grl{flex:1}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading.svelte-1ol5grl{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}')}function GC(t){var e,n;return e=new Gq({props:{readOnly:t[1],onFormat:t[17],onCompact:t[18],onSort:t[19],onTransform:t[20],onToggleSearch:t[21],onUndo:t[22],onRedo:t[23],canFormat:!t[15],canCompact:!t[15],canSort:!t[15],canTransform:!t[15],canUndo:t[10],canRedo:t[11],onRenderMenu:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};2&o[0]&&(i.readOnly=r[1]),32768&o[0]&&(i.canFormat=!r[15]),32768&o[0]&&(i.canCompact=!r[15]),32768&o[0]&&(i.canSort=!r[15]),32768&o[0]&&(i.canTransform=!r[15]),1024&o[0]&&(i.canUndo=r[10]),2048&o[0]&&(i.canRedo=r[11]),32&o[0]&&(i.onRenderMenu=r[5]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function wJ(t){var e;return{c:function(){(e=re("div")).innerHTML=`<div class="jse-loading-space svelte-1ol5grl"></div> 
      <div class="jse-loading svelte-1ol5grl">loading...</div>`,E(e,"class","jse-contents svelte-1ol5grl")},m:function(n,r){ye(n,e,r)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e)}}}function kJ(t){var e,n,r,o,i,s,a,u,l=t[14]&&QC(t),f=t[12]&&YC(t);i=new zP({props:{validationErrors:t[9],selectError:t[26]}});var c=t[3]&&XC(t);return{c:function(){l&&l.c(),e=Ae(),n=re("div"),r=Ae(),f&&f.c(),o=Ae(),Le(i.$$.fragment),s=Ae(),c&&c.c(),a=dn(),E(n,"class","jse-contents svelte-1ol5grl"),Ze(n,"jse-hidden",t[14])},m:function(d,h){l&&l.m(d,h),ye(d,e,h),ye(d,n,h),t[45](n),ye(d,r,h),f&&f.m(d,h),ye(d,o,h),Me(i,d,h),ye(d,s,h),c&&c.m(d,h),ye(d,a,h),u=!0},p:function(d,h){d[14]?l?(l.p(d,h),16384&h[0]&&J(l,1)):((l=QC(d)).c(),J(l,1),l.m(e.parentNode,e)):l&&(Ue(),te(l,1,1,function(){l=null}),Je()),16384&h[0]&&Ze(n,"jse-hidden",d[14]),d[12]?f?(f.p(d,h),4096&h[0]&&J(f,1)):((f=YC(d)).c(),J(f,1),f.m(o.parentNode,o)):f&&(Ue(),te(f,1,1,function(){f=null}),Je());var p={};512&h[0]&&(p.validationErrors=d[9]),i.$set(p),d[3]?c?(c.p(d,h),8&h[0]&&J(c,1)):((c=XC(d)).c(),J(c,1),c.m(a.parentNode,a)):c&&(Ue(),te(c,1,1,function(){c=null}),Je())},i:function(d){u||(J(l),J(f),J(i.$$.fragment,d),J(c),u=!0)},o:function(d){te(l),te(f),te(i.$$.fragment,d),te(c),u=!1},d:function(d){l&&l.d(d),d&&me(e),d&&me(n),t[45](null),d&&me(r),f&&f.d(d),d&&me(o),Ie(i,d),d&&me(s),c&&c.d(d),d&&me(a)}}}function QC(t){var e,n;return e=new pu({props:{icon:Cl,type:"error",message:"The JSON document is larger than ".concat(zf(10485760,1024),", ")+"and may crash your browser when loading it in code mode. Actual size: ".concat(zf(t[0].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:t[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:t[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:t[25]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.message="The JSON document is larger than ".concat(zf(10485760,1024),", ")+"and may crash your browser when loading it in code mode. Actual size: ".concat(zf(r[0].length,1024),".")),16&o[0]&&(i.actions=[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:r[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:r[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:r[25]}]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function YC(t){var e,n;return e=new pu({props:{type:"error",icon:Cl,message:t[12].message,actions:t[13],onClick:t[46]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};4096&o[0]&&(i.message=r[12].message),8192&o[0]&&(i.actions=r[13]),4096&o[0]&&(i.onClick=r[46]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function XC(t){var e,n;return e=new yJ({props:{editorState:t[8]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};256&o[0]&&(i.editorState=r[8]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function xJ(t){var e,n,r,o,i,s=t[2]&&GC(t),a=[kJ,wJ],u=[];return r=function(l,f){return l[16]?1:0}(t),o=u[r]=a[r](t),{c:function(){e=re("div"),s&&s.c(),n=Ae(),o.c(),E(e,"class","jse-code-mode svelte-1ol5grl"),Ze(e,"no-main-menu",!t[2])},m:function(l,f){ye(l,e,f),s&&s.m(e,null),U(e,n),u[r].m(e,null),t[47](e),i=!0},p:function(l,f){l[2]?s?(s.p(l,f),4&f[0]&&J(s,1)):((s=GC(l)).c(),J(s,1),s.m(e,n)):s&&(Ue(),te(s,1,1,function(){s=null}),Je()),o.p(l,f),4&f[0]&&Ze(e,"no-main-menu",!l[2])},i:function(l){i||(J(s),J(o),i=!0)},o:function(l){te(s),te(o),i=!1},d:function(l){l&&me(e),s&&s.d(),u[r].d(),t[47](null)}}}function jJ(t,e,n){var r,o,i,s,a,u,l,f,c,d,h=e.readOnly,p=h!==void 0&&h,v=e.mainMenuBar,g=v===void 0||v,m=e.statusBar,y=m===void 0||m,b=e.text,w=b===void 0?"":b,k=e.indentation,$=k===void 0?2:k,A=e.escapeUnicodeCharacters,P=A!==void 0&&A,_=e.validator,T=_===void 0?null:_,C=e.onChange,R=C===void 0?null:C,S=e.onSwitchToTreeMode,j=S===void 0?sn:S,q=e.onError,Y=e.onFocus,F=Y===void 0?sn:Y,K=e.onBlur,D=K===void 0?sn:K,I=e.onRenderMenu,W=I===void 0?sn:I,H=e.onSortModal,z=e.onTransformModal,O=zo("jsoneditor:CodeMode"),x={key:"Mod-i",run:Ee,shift:Ce,preventDefault:!0},N=typeof window>"u";O("isSSR:",N);var G=!1,ue=[],xe=new oh,$e=new oh,L=P;ri(In(bt().mark(function we(){return bt().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(!N){We.next=2;break}return We.abrupt("return");case 2:try{l=fe({target:u,initialText:i?"":w,readOnly:p,indentation:$}),le()}catch(tt){console.error(tt)}case 3:case"end":return We.stop()}},we)}))),la(function(){l&&(O("Destroy CodeMirror editor"),l.destroy())});var Q=!1,M=!1,B=ji(),Z=ji();function le(){l&&(O("focus"),l.focus())}var ee=!1;function V(we){O("patch",we);var We=w,tt=JSON.parse(w),Xe=Se.exports.immutableJSONPatch(tt,we),dt=Se.exports.revertJSONPatch(tt,we);return n(0,w=JSON.stringify(Xe,null,$)),w!==We&&ve(w,We),{json:Xe,previousJson:tt,undo:dt,redo:we}}function Ee(){if(O("format"),!p)try{var we=w,We=JSON.parse(w);n(0,w=JSON.stringify(We,null,$)),w!==we&&ve(w,we)}catch(tt){q(tt)}}function Ce(){if(O("compact"),!p)try{var we=w,We=JSON.parse(w);n(0,w=JSON.stringify(We)),w!==we&&ve(w,we)}catch(tt){q(tt)}}function _e(){if(O("repair"),!p)try{var we=w;n(0,w=na(w)),n(43,be="valid"),n(12,Te=void 0),w!==we&&ve(w,we)}catch(We){q(We)}}function pe(we){var We=we.id,tt=we.selectedPath,Xe=we.onTransform,dt=we.onClose;try{var Tt=JSON.parse(w);ee=!0,z({id:We||Z,json:Tt,selectedPath:tt,onTransform:Xe?function(ot){Xe({operations:ot,json:Tt,transformedJson:Se.exports.immutableJSONPatch(Tt,ot)})}:function(ot){O("onTransform",ot),V(ot)},onClose:function(){ee=!1,le(),dt&&dt()}})}catch(ot){q(ot)}}function ce(we){O("select parse error",we);var We=Ve(we);ke(We.from,We.to),le()}function ke(we,We){O("setSelection",{anchor:we,head:We}),l&&l.dispatch(l.state.update({selection:{anchor:we,head:We},scrollIntoView:!0}))}function Oe(we,We){if(We.state.selection.ranges.length===1){var tt=We.state.selection.ranges[0],Xe=w.slice(tt.from,tt.to);if(Xe==="{"||Xe==="["){var dt=qd.parse(w),Tt=Object.keys(dt.pointers).find(function(Rt){var _t;return((_t=dt.pointers[Rt].value)===null||_t===void 0?void 0:_t.pos)===tt.from}),ot=dt.pointers[Tt];Tt&&ot&&ot.value&&ot.valueEnd&&(O("pointer found, selecting inner contents of path:",Tt,ot),ke(ot.value.pos+1,ot.valueEnd.pos-1))}}}function fe(we){var We=we.target,tt=we.initialText,Xe=we.readOnly,dt=we.indentation;O("Create CodeMirror editor",{readOnly:Xe,indentation:dt});var Tt=tr.create({doc:tt,extensions:[Op.of([jW,x]),GU(function(){return de.flush(),function(){if(O("validate"),n(43,be="valid"),n(12,Te=null),n(9,ue=[]),w.length>104857600)return[{from:0,to:0,message:"Validation turned off: the document is too large",severity:"info"}];if(w.length===0)return[];try{var ot=Fv(function(){return JSON.parse(w)},function(_t){return O("validate: parsed json in ".concat(_t," ms"))});return T?(n(9,ue=Fv(function(){return T(ot)},function(_t){return O("validate: validated json in ".concat(_t," ms"))})),ue.map(Pe)):[]}catch(_t){var Rt=Fv(function(){return function(gt){if(gt.length>1048576)return!1;try{return JSON.parse(na(gt)),!0}catch{return!1}}(w)},function(gt){return O("validate: checked whether repairable in ".concat(gt," ms"))});return n(12,Te=JO(w,_t.message||_t.toString())),n(43,be=Rt?"repairable":"invalid"),[Ve(Te,Rt)]}}()},{delay:300}),nJ(),rJ,pJ,Ot.domEventHandlers({dblclick:Oe}),Ot.updateListener.of(function(ot){n(8,d=ot.state),ot.docChanged&&de()}),new VH(hJ),BW({top:!0}),xe.of(tr.readOnly.of(Xe)),$e.of(wn(dt)),Ot.lineWrapping]});return l=new Ot({state:Tt,parent:We})}function Pe(we){var We=we.path,tt=we.message,Xe=we.isChildError,dt=function(Tt,ot){try{var Rt=qd.parse(Tt),_t=Se.exports.compileJSONPointer(ot),gt=Rt.pointers[_t];if(gt)return{path:ot,line:gt.key?gt.key.line:gt.value?gt.value.line:0,column:gt.key?gt.key.column:gt.value?gt.value.column:0,from:gt.key?gt.key.pos:gt.value?gt.value.pos:0,to:gt.keyEnd?gt.keyEnd.pos:gt.valueEnd?gt.valueEnd.pos:0}}catch(It){console.error(It)}return null}(w,We);return{path:We,isChildError:Xe,line:dt.line,column:dt.column,from:dt.from,to:dt.to,message:tt,severity:"warning",actions:[]}}function Ve(we,We){var tt=we.line,Xe=we.column,dt=we.position;return{path:null,line:tt,column:Xe,from:dt||0,to:dt||0,severity:"error",message:we.message,actions:We&&!p?[{name:"Auto repair",apply:function(){return _e()}}]:null}}function et(we){var We=arguments.length>1&&arguments[1]!==void 0&&arguments[1];!i||We?l&&we!==f&&(O("setCodeMirrorValue length=",we.length),f=we,l.dispatch({changes:{from:0,to:l.state.doc.length,insert:s.escapeValue(we)}}),ne()):O("not applying text: editor is disabled")}function vt(){O("forceUpdateText",{escapeUnicodeCharacters:P}),l&&l.dispatch({changes:{from:0,to:l.state.doc.length,insert:s.escapeValue(w)}})}function Lt(){if(l&&(f=l?s.unescapeValue(l.state.doc.toString()):"")!==w){var we=f;O("text changed"),n(0,w=f),ne(),ve(w,we)}}function wn(we){return Ep.of(" ".repeat(we))}function ne(){n(10,Q=CH(l.state)>0),n(11,M=$H(l.state)>0),O({canUndo:Q,canRedo:M})}Gy({onMount:ri,onDestroy:la,getWindow:function(){return Qu(c)},hasFocus:function(){return ee&&document.hasFocus()||th(c)},onFocus:F,onBlur:D});var de=xl(Lt,300);function ve(we,We){R&&R(we,We)}var be="valid",Te=null;return t.$$set=function(we){"readOnly"in we&&n(1,p=we.readOnly),"mainMenuBar"in we&&n(2,g=we.mainMenuBar),"statusBar"in we&&n(3,y=we.statusBar),"text"in we&&n(0,w=we.text),"indentation"in we&&n(28,$=we.indentation),"escapeUnicodeCharacters"in we&&n(29,P=we.escapeUnicodeCharacters),"validator"in we&&n(30,T=we.validator),"onChange"in we&&n(31,R=we.onChange),"onSwitchToTreeMode"in we&&n(4,j=we.onSwitchToTreeMode),"onError"in we&&n(32,q=we.onError),"onFocus"in we&&n(33,F=we.onFocus),"onBlur"in we&&n(34,D=we.onBlur),"onRenderMenu"in we&&n(5,W=we.onRenderMenu),"onSortModal"in we&&n(35,H=we.onSortModal),"onTransformModal"in we&&n(36,z=we.onTransformModal)},t.$$.update=function(){1&t.$$.dirty[0]&&n(15,r=w.length===0),1&t.$$.dirty[0]&&n(44,o=w&&w.length>10485760),9216&t.$$.dirty[1]&&n(14,i=o&&!G),536870912&t.$$.dirty[0]&&(s=OP({escapeControlCharacters:!1,escapeUnicodeCharacters:P})),1&t.$$.dirty[0]&&et(w),268435456&t.$$.dirty[0]&&function(we){l&&(O("updateIndentation",we),l.dispatch({effects:$e.reconfigure(wn(we))}))}($),2&t.$$.dirty[0]&&function(we){l&&(O("updateReadOnly",we),l.dispatch({effects:xe.reconfigure(tr.readOnly.of(we))}))}(p),536870912&t.$$.dirty[0]|2048&t.$$.dirty[1]&&L!==P&&(n(42,L=P),vt()),1073741826&t.$$.dirty[0]&&vt(),2&t.$$.dirty[0]|4096&t.$$.dirty[1]&&n(13,a=be!=="repairable"||p?[]:[{icon:Ky,text:"Auto repair",title:"Automatically repair JSON",onClick:_e}])},[w,p,g,y,j,W,u,c,d,ue,Q,M,Te,a,i,r,N,Ee,Ce,function(){var we;if(!p)try{var We=JSON.parse(w);ee=!0,H({id:B,json:We,selectedPath:[],onSort:(we=In(bt().mark(function tt(Xe){return bt().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:O("onSort",Xe),V(Xe);case 2:case"end":return dt.stop()}},tt)})),function(tt){return we.apply(this,arguments)}),onClose:function(){ee=!1,le()}})}catch(tt){q(tt)}},function(){p||pe({selectedPath:[]})},function(){l&&(u&&u.querySelector(".cm-search")?p1(l):h1(l))},function(){p||l&&(r1(l),le())},function(){p||l&&(o1(l),le())},function(){n(41,G=!0),et(w,!0)},function(){Lt()},function(we){O("select validation error",we);var We=Pe(we);ke(We.from,We.to),le()},ce,$,P,T,R,q,F,D,H,z,le,V,pe,function(){O("refresh");var we=l.state.doc.length;l.dispatch({changes:{from:we,to:we,insert:" "}}),l.dispatch({changes:{from:we,to:we+1,insert:""}})},G,L,be,o,function(we){Yt[we?"unshift":"push"](function(){n(6,u=we)})},function(){return ce(Te)},function(we){Yt[we?"unshift":"push"](function(){n(7,c=we)})}]}var _J=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,jJ,xJ,an,{readOnly:1,mainMenuBar:2,statusBar:3,text:0,indentation:28,escapeUnicodeCharacters:29,validator:30,onChange:31,onSwitchToTreeMode:4,onError:32,onFocus:33,onBlur:34,onRenderMenu:5,onSortModal:35,onTransformModal:36,focus:37,patch:38,openTransformModal:39,refresh:40},bJ,[-1,-1,-1]),o}return ae(n,[{key:"focus",get:function(){return this.$$.ctx[37]}},{key:"patch",get:function(){return this.$$.ctx[38]}},{key:"openTransformModal",get:function(){return this.$$.ctx[39]}},{key:"refresh",get:function(){return this.$$.ctx[40]}}]),n}(),qv=zo("jsoneditor:AutoScrollHandler");function SJ(t){var e,n;function r(a){return a<20?200:a<50?400:1200}function o(){if(t){var a=.05*e;t.scrollTop+=a}}function i(a){n&&a===e||(s(),qv("startAutoScroll",a),e=a,n=setInterval(o,50))}function s(){n&&(qv("stopAutoScroll"),clearInterval(n),n=void 0,e=void 0)}return qv("createAutoScrollHandler",t),{onDrag:function(a){if(t){var u=a.clientY,l=t.getBoundingClientRect(),f=l.top,c=l.bottom;u<f?i(-r(f-u)):u>c?i(r(u-c)):s()}},onDragEnd:function(){s()}}}var CJ=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},$J=function(){var t,e,n,r,o,i,s,a,u,l,f,c,d;function h(){return t.scrollY||t.pageYOffset||t.scrollTop}function p(m){return m.getBoundingClientRect().top-(t.getBoundingClientRect?t.getBoundingClientRect().top:0)+n}function v(m){t.scrollTo?t.scrollTo(0,m):t.scrollTop=m}function g(m){l||(l=m),v(i(f=m-l,n,a,u)),d=!0,f<u?requestAnimationFrame(g):function(){v(n+a),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof c=="function"&&c(),l=!1,d=!1}()}return function(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(u=y.duration||1e3,o=y.offset||0,c=y.callback,i=y.easing||CJ,s=y.a11y||!1,ut(y.container)){case"object":t=y.container;break;case"string":t=document.querySelector(y.container);break;default:t=window}switch(n=h(),ut(m)){case"number":e=void 0,s=!1,r=n+m;break;case"object":r=p(e=m);break;case"string":e=document.querySelector(m),r=p(e)}switch(a=r-n+o,ut(y.duration)){case"number":u=y.duration;break;case"function":u=y.duration(a)}d?l=!1:requestAnimationFrame(g)}};function pf(t,e){for(var n=new Set(e),r=t.replace(/ \(copy( \d+)?\)$/,""),o=t,i=1;n.has(o);){var s="copy"+(i>1?" "+i:"");o="".concat(r," (").concat(s,")"),i++}return o}function ZC(t,e){var n=e-3;return t.length>e?t.substr(0,n)+"...":t}function OJ(t){if(t==="")return"";var e=t.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var n=Number(t),r=parseFloat(t);return isNaN(n)||isNaN(r)?t:n}}function ad(t,e,n,r){var o=Gt(n),i=Se.exports.getIn(t,o);if(Array.isArray(i)){var s=parseInt(ht(n),10);return r.map(function(f,c){return{op:"add",path:Se.exports.compileJSONPointer(o.concat(s+c)),value:f.value}})}var a=ht(n),u=Wr(e,o),l=Sp(u,a,!0);return[].concat(Qt(r.map(function(f){var c=pf(f.key,u);return{op:"add",path:Se.exports.compileJSONPointer(o.concat(c)),value:f.value}})),Qt(l.map(function(f){return tl(o,f)})))}function e3(t,e,n){var r=Se.exports.getIn(t,e);if(Array.isArray(r)){var o=r.length;return n.map(function(i,s){return{op:"add",path:Se.exports.compileJSONPointer(e.concat(o+s)),value:i.value}})}return n.map(function(i){var s=pf(i.key,Object.keys(r));return{op:"add",path:Se.exports.compileJSONPointer(e.concat(s)),value:i.value}})}function vf(t,e,n,r){var o=pf(r,e.filter(function(s){return s!==n})),i=Sp(e,n,!1);return[{op:"move",from:Se.exports.compileJSONPointer(t.concat(n)),path:Se.exports.compileJSONPointer(t.concat(o))}].concat(Qt(i.map(function(s){return tl(t,s)})))}function t3(t,e,n,r){if(n.type===pn){var o=WO(r),i=Gt(n.focusPath);return vf(i,Wr(e,i),ht(n.focusPath),typeof o=="string"?o:r)}if(n.type===mt||n.type===Et&&zn(n.focusPath))try{return[{op:"replace",path:Se.exports.compileJSONPointer(n.focusPath),value:I0(r,M0)}]}catch{return[{op:"replace",path:Se.exports.compileJSONPointer(n.focusPath),value:r}]}if(n.type===Et){var s=Vv(r);return function(k,$,A,P){var _=Gt(hr(A)),T=Se.exports.getIn(k,_);if(Array.isArray(T)){var C=hr(A),R=C?parseInt(ht(C),10):0;return[].concat(Qt(Hg(A)),Qt(P.map(function(I,W){return{op:"add",path:Se.exports.compileJSONPointer(_.concat(W+R)),value:I.value}})))}var S=ht(A),j=Gt(S),q=ht(S),Y=Wr($,j),F=Sp(Y,q,!1),K=new Set(A.map(function(I){return ht(I)})),D=Y.filter(function(I){return!K.has(I)});return[].concat(Qt(Hg(A)),Qt(P.map(function(I){var W=pf(I.key,D);return{op:"add",path:Se.exports.compileJSONPointer(j.concat(W)),value:I.value}})),Qt(F.map(function(I){return tl(j,I)})))}(t,e,n.paths,s)}if(n.type===Gr){var a=Vv(r),u=n.focusPath,l=Gt(u),f=Se.exports.getIn(t,l);if(Array.isArray(f)){var c=ht(u);return ad(t,e,l.concat([c+1]),a)}var d=ht(u),h=Wr(e,l);if(zn(h)||ht(h)===d)return e3(t,l,a);var p=h.indexOf(d),v=h[p+1];return ad(t,e,l.concat([v]),a)}if(n.type===br){var g=Vv(r),m=n.focusPath,y=Se.exports.getIn(t,m);if(Array.isArray(y))return ad(t,e,m.concat([0]),g);var b=Wr(e,m);if(zn(b))return e3(t,m,g);var w=hr(b);return ad(t,e,m.concat([w]),g)}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(n))}function Hg(t){return t.map(function(e){return{op:"remove",path:Se.exports.compileJSONPointer(e)}}).reverse()}function tl(t,e){return{op:"move",from:Se.exports.compileJSONPointer(t.concat(e)),path:Se.exports.compileJSONPointer(t.concat(e))}}function Vv(t){var e=/^\s*{/.test(t),n=/^\s*\[/.test(t),r=WO(t),o=r!==void 0?r:I0(t,M0);return e&&yr(o)||n&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map(function(i,s){return{key:"New item "+s,value:i}}):yr(o)?Object.keys(o).map(function(i){return{key:i,value:o[i]}}):[{key:"New item",value:o}]}function n3(t,e,n){if(n.type===pn){var r=Gt(n.focusPath),o=vf(r,Wr(e,r),ht(n.focusPath),"");return{operations:o,newSelection:Gu(t,0,o)}}if(n.type===mt)return{operations:[{op:"replace",path:Se.exports.compileJSONPointer(n.focusPath),value:""}],newSelection:n};if(n.type===Et){var i=Hg(n.paths),s=ht(n.paths);if(zn(s))return{operations:[{op:"replace",path:"",value:""}],newSelection:nn(t,e,{type:mt,path:[]})};var a=Gt(s),u=Se.exports.getIn(t,a);if(Array.isArray(u)){var l=ht(hr(n.paths));return{operations:i,newSelection:nn(t,e,l===0?{type:br,path:a}:{type:Gr,path:a.concat([l-1])})}}var f=Wr(e,a),c=ht(hr(n.paths)),d=f.indexOf(c),h=f[d-1];return{operations:i,newSelection:nn(t,e,d===0?{type:br,path:a}:{type:Gr,path:a.concat([h])})}}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(n))}function AJ(t,e,n){var r=e,o=function(u,l){var f={};return l.forEach(function(c){var d=c.path;if(!Se.exports.existsIn(f,d)){var h=Se.exports.getIn(u,d);f=Se.exports.setIn(f,d,Array.isArray(h)?[]:{},!0)}f=Se.exports.setIn(f,i3(c),c,!0)}),f}(t,r),i=n&&n.activeItem?i3(n.activeItem):void 0,s=i&&Se.exports.existsIn(o,i)?Se.exports.getIn(o,i):r[0],a=r.findIndex(function(u){return f=s,(l=u).start===f.start&&l.field===f.field&&Sn(l.path,f.path);var l,f});return{items:o,itemsWithActive:o&&s&&a!==-1?Se.exports.setIn(o,j1(s),!0):o,flatItems:r,count:r.length,activeItem:s,activeIndex:a}}function EJ(t){var e=t.activeIndex<t.flatItems.length-1?t.activeIndex+1:t.flatItems.length>0?0:-1,n=t.flatItems[e],r=n?Se.exports.setIn(t.items,j1(n),!0,!0):t.items;return lt(lt({},t),{},{itemsWithActive:r,activeItem:n,activeIndex:e})}function PJ(t){var e=t.activeIndex>0?t.activeIndex-1:t.flatItems.length-1,n=t.flatItems[e],r=n?Se.exports.setIn(t.items,j1(n),!0,!0):t.items;return lt(lt({},t),{},{itemsWithActive:r,activeItem:n,activeIndex:e})}function nI(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,o=[],i=[];function s(l){o.length<r&&o.push(l)}function a(l,f,c){if(Array.isArray(f)){var d=i.length;i.push(0);for(var h=0;h<f.length;h++)if(i[d]=h,a(l,f[h],c?c[h]:void 0),o.length>=r)return;i.pop()}else if(f!==null&&ut(f)==="object"){var p=i.length;i.push(0);var v,g=he(c?c[oi]:Object.keys(f));try{for(g.s();!(v=g.n()).done;){var m=v.value;if(i[p]=m,r3(m,l,i,Wu,s),a(l,f[m],c?c[m]:void 0),o.length>=r)return}}catch(y){g.e(y)}finally{g.f()}i.pop()}else r3(f,l,i,jc,s)}if(typeof t=="string"&&t!==""){var u=t.toLowerCase();a(u,e,n)}return o}function r3(t,e,n,r,o){var i=String(t).toLowerCase(),s=0,a=-1,u=-1;do(u=i.indexOf(e,a))!==-1&&(a=u+e.length,o({path:n.slice(0),field:r,fieldIndex:s,start:u,end:a,active:!1}),s++);while(u!==-1)}function Wg(t,e,n,r){return t.substring(0,n)+e+t.substring(r)}function o3(t,e,n){var r=t;return Oc(n,function(o){r=Wg(r,e,o.start,o.end)}),r}function TJ(t,e,n,r){var o=r.field,i=r.path,s=r.start,a=r.end;if(o===Wu){var u=Gt(i),l=ht(i),f=vf(u,Wr(e,u),l,Wg(l,n,s,a));return{newSelection:Gu(t,0,f),operations:f}}if(o===jc){var c=Se.exports.getIn(t,i);if(c===void 0)throw new Error("Cannot replace: path not found ".concat(Se.exports.compileJSONPointer(i)));var d=typeof c=="string"?c:String(c),h=Se.exports.getIn(e,i.concat([Po]))||!1,p=Wg(d,n,s,a),v=[{op:"replace",path:Se.exports.compileJSONPointer(i),value:h?p:Gc(p)}];return{newSelection:Gu(t,0,v),operations:v}}throw new Error("Cannot replace: unknown type of search result field ".concat(o))}function MJ(t,e,n,r){for(var o=nI(n,t,e,1/0),i=[],s=0;s<o.length;s++){var a=o[s-1],u=o[s];s!==0&&u.field===a.field&&Sn(u.path,a.path)?ht(i).items.push(u):i.push({path:u.path,field:u.field,items:[u]})}i.sort(function(c,d){return c.field!==d.field?c.field===Wu?1:-1:d.path.length-c.path.length});var l=[],f=void 0;return i.forEach(function(c){var d=c.field,h=c.path,p=c.items;if(d===Wu){var v=Gt(h),g=ht(h),m=vf(v,Wr(e,v),g,o3(g,r,p));l=l.concat(m),f=Gu(t,0,m)}else{if(d!==jc)throw new Error("Cannot replace: unknown type of search result field ".concat(d));var y=Se.exports.getIn(t,h);if(y===void 0)throw new Error("Cannot replace: path not found ".concat(Se.exports.compileJSONPointer(h)));var b=typeof y=="string"?y:String(y),w=Se.exports.getIn(e,h.concat([Po]))||!1,k=o3(b,r,p),$=[{op:"replace",path:Se.exports.compileJSONPointer(h),value:w?k:Gc(k)}];l=l.concat($),f=Gu(t,0,$)}}),{operations:l,newSelection:f}}function j1(t){return t.path.concat(t.field,t.fieldIndex,"active")}function i3(t){return t.path.concat(t.field,t.fieldIndex)}function IJ(t){zt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function NJ(t){var e,n,r,o,i,s,a,u,l;return s=new Ut({props:{data:uf}}),{c:function(){e=re("div"),n=re("div"),r=nt(t[0]),o=Ae(),i=re("button"),Le(s.$$.fragment),E(n,"class","jse-title svelte-d01h2s"),E(i,"type","button"),E(i,"class","jse-close svelte-d01h2s"),E(e,"class","jse-header svelte-d01h2s")},m:function(f,c){ye(f,e,c),U(e,n),U(n,r),U(e,o),U(e,i),Me(s,i,null),a=!0,u||(l=Fe(i,"click",t[1]),u=!0)},p:function(f,c){var d=At(c,1)[0];(!a||1&d)&&en(r,f[0])},i:function(f){a||(J(s.$$.fragment,f),a=!0)},o:function(f){te(s.$$.fragment,f),a=!1},d:function(f){f&&me(e),Ie(s),u=!1,l()}}}function LJ(t,e,n){var r=e.title,o=r===void 0?"Modal":r,i=wo("simple-modal").close;return t.$$set=function(s){"title"in s&&n(0,o=s.title)},[o,i]}var rI=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,LJ,NJ,an,{title:0},IJ),o}return ae(n)}();function RJ(t){zt(t,"svelte-t45ah0",".jse-modal.svelte-t45ah0.svelte-t45ah0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-t45ah0 .jse-contents.svelte-t45ah0{padding:20px;overflow:auto}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions.svelte-t45ah0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts.svelte-t45ah0{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding)) 0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts .jse-shortcut .jse-key.svelte-t45ah0{font-size:200%;color:var(--jse-theme-color)}")}function DJ(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P;return n=new rI({props:{title:"Copying and pasting"}}),{c:function(){e=re("div"),Le(n.$$.fragment),r=Ae(),o=re("div"),(i=re("div")).textContent="These actions are unavailable via the menu. Please use:",s=Ae(),a=re("div"),u=re("div"),(l=re("div")).textContent="".concat(t[1],"+C"),f=nt(`
        for copy`),c=Ae(),d=re("div"),(h=re("div")).textContent="".concat(t[1],"+X"),p=nt(`
        for cut`),v=Ae(),g=re("div"),(m=re("div")).textContent="".concat(t[1],"+V"),y=nt(`
        for paste`),b=Ae(),w=re("div"),(k=re("button")).textContent="Close",E(l,"class","jse-key svelte-t45ah0"),E(u,"class","jse-shortcut"),E(h,"class","jse-key svelte-t45ah0"),E(d,"class","jse-shortcut"),E(m,"class","jse-key svelte-t45ah0"),E(g,"class","jse-shortcut"),E(a,"class","jse-shortcuts svelte-t45ah0"),E(k,"type","button"),E(k,"class","jse-primary svelte-t45ah0"),E(w,"class","jse-actions svelte-t45ah0"),E(o,"class","jse-contents svelte-t45ah0"),E(e,"class","jse-modal jse-copy-paste svelte-t45ah0")},m:function(_,T){ye(_,e,T),Me(n,e,null),U(e,r),U(e,o),U(o,i),U(o,s),U(o,a),U(a,u),U(u,l),U(u,f),U(a,c),U(a,d),U(d,h),U(d,p),U(a,v),U(a,g),U(g,m),U(g,y),U(o,b),U(o,w),U(w,k),$=!0,A||(P=Fe(k,"click",t[0]),A=!0)},p:Ge,i:function(_){$||(J(n.$$.fragment,_),$=!0)},o:function(_){te(n.$$.fragment,_),$=!1},d:function(_){_&&me(e),Ie(n),A=!1,P()}}}function BJ(t){return[wo("simple-modal").close,NP?"\u2318":"Ctrl"]}var zJ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,BJ,DJ,an,{},RJ),o}return ae(n)}();function FJ(t){zt(t,"svelte-gz09vf",".jse-json-repair-component.svelte-gz09vf.svelte-gz09vf{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color);color:var(--jse-text-color)}.jse-json-repair-component.svelte-gz09vf .jse-menu .jse-info.svelte-gz09vf{padding:0 var(--jse-padding)}.jse-json-repair-component.svelte-gz09vf .jse-json-text.svelte-gz09vf{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-background-color);color:var(--jse-text-color);resize:none;outline:none}")}function qJ(t){var e;return{c:function(){(e=re("div")).textContent="Repair invalid JSON, then click apply",E(e,"slot","left"),E(e,"class","jse-info svelte-gz09vf")},m:function(n,r){ye(n,e,r)},p:Ge,d:function(n){n&&me(e)}}}function VJ(t){var e,n;return e=new pu({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};32&o&&(i.actions=r[5]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function HJ(t){var e,n;return e=new pu({props:{type:"error",icon:Cl,message:"Cannot parse JSON: ".concat(t[2].message),actions:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};4&o&&(i.message="Cannot parse JSON: ".concat(r[2].message)),64&o&&(i.actions=r[6]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function WJ(t){var e,n,r,o,i,s,a,u,l,f;n=new Qy({props:{items:t[7],$$slots:{left:[qJ]},$$scope:{ctx:t}}});var c=[HJ,VJ],d=[];function h(p,v){return p[2]?0:1}return o=h(t),i=d[o]=c[o](t),{c:function(){e=re("div"),Le(n.$$.fragment),r=Ae(),i.c(),s=Ae(),(a=re("textarea")).value=t[0],a.readOnly=t[1],E(a,"class","jse-json-text svelte-gz09vf"),E(a,"autocomplete","off"),E(a,"autocapitalize","off"),E(a,"spellcheck","false"),E(e,"class","jse-json-repair-component svelte-gz09vf")},m:function(p,v){ye(p,e,v),Me(n,e,null),U(e,r),d[o].m(e,null),U(e,s),U(e,a),t[21](a),t[22](e),u=!0,l||(f=Fe(a,"input",t[8]),l=!0)},p:function(p,v){var g=At(v,1)[0],m={};128&g&&(m.items=p[7]),536870912&g&&(m.$$scope={dirty:g,ctx:p}),n.$set(m);var y=o;(o=h(p))===y?d[o].p(p,g):(Ue(),te(d[y],1,1,function(){d[y]=null}),Je(),(i=d[o])?i.p(p,g):(i=d[o]=c[o](p)).c(),J(i,1),i.m(e,s)),(!u||1&g)&&(a.value=p[0]),(!u||2&g)&&(a.readOnly=p[1])},i:function(p){u||(J(n.$$.fragment,p),J(i),u=!0)},o:function(p){te(n.$$.fragment,p),te(i),u=!1},d:function(p){p&&me(e),Ie(n),d[o].d(),t[21](null),t[22](null),l=!1,f()}}}function UJ(t,e,n){var r,o,i,s,a,u,l,f,c,d,h=e.text,p=h===void 0?"":h,v=e.readOnly,g=v!==void 0&&v,m=e.onParse,y=e.onRepair,b=e.onChange,w=b===void 0?null:b,k=e.onApply,$=e.onCancel,A=e.onFocus,P=e.onBlur,_=e.onRenderMenu,T=_===void 0?sn:_,C=zo("jsoneditor:JSONRepair");function R(){k(p)}return Gy({onMount:ri,onDestroy:la,getWindow:function(){return Qu(c)},hasFocus:function(){return th(c)},onFocus:function(){A&&A()},onBlur:function(){P&&P()}}),t.$$set=function(S){"text"in S&&n(0,p=S.text),"readOnly"in S&&n(1,g=S.readOnly),"onParse"in S&&n(9,m=S.onParse),"onRepair"in S&&n(10,y=S.onRepair),"onChange"in S&&n(11,w=S.onChange),"onApply"in S&&n(12,k=S.onApply),"onCancel"in S&&n(13,$=S.onCancel),"onFocus"in S&&n(14,A=S.onFocus),"onBlur"in S&&n(15,P=S.onBlur),"onRenderMenu"in S&&n(16,T=S.onRenderMenu)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=function(S){try{return m(S),null}catch(j){return JO(S,j.message)}}(p)),1&t.$$.dirty&&n(19,o=function(S){try{return y(S),!0}catch{return!1}}(p)),4&t.$$.dirty&&C("error",r),8192&t.$$.dirty&&n(20,i=[{space:!0},{icon:uf,title:"Cancel repair",className:"jse-cancel",onClick:$}]),1114112&t.$$.dirty&&n(7,s=T("repair",i)||i),917504&t.$$.dirty&&n(6,l=o?[a,u]:[a]),2&t.$$.dirty&&n(5,f=[{icon:Jm,text:"Apply",title:"Apply fixed JSON",disabled:g,onClick:R}])},n(17,a={icon:YF,text:"Show me",title:"Scroll to the error location",onClick:function(){d&&r&&r.position!=null&&(d.setSelectionRange(r.position,r.position),setTimeout(function(){d.focus()}))}}),n(18,u={icon:Ky,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,p=y(p)),w&&w(p)}catch{}}}),[p,g,r,c,d,f,l,s,function(S){C("handleChange");var j=S.target.value;p!==j&&(n(0,p=j),w&&w(p))},m,y,w,k,$,A,P,T,a,u,o,i,function(S){Yt[S?"unshift":"push"](function(){n(4,d=S)})},function(S){Yt[S?"unshift":"push"](function(){n(3,c=S)})}]}var JJ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,UJ,WJ,an,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onFocus:14,onBlur:15,onRenderMenu:16},FJ),o}return ae(n)}();function KJ(t){zt(t,"svelte-1ffm3pm",".jse-modal.jse-repair.svelte-1ffm3pm{flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-background-color);color:var(--jse-text-color)}")}function GJ(t){var e,n,r,o;function i(a){t[9](a)}var s={onParse:t[1],onRepair:t[2],onApply:t[6],onCancel:t[7],onFocus:t[3],onBlur:t[4],onRenderMenu:t[5]};return t[0]!==void 0&&(s.text=t[0]),n=new JJ({props:s}),Yt.push(function(){return Oo(n,"text",i)}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-modal jse-repair svelte-1ffm3pm")},m:function(a,u){ye(a,e,u),Me(n,e,null),o=!0},p:function(a,u){var l=At(u,1)[0],f={};2&l&&(f.onParse=a[1]),4&l&&(f.onRepair=a[2]),8&l&&(f.onFocus=a[3]),16&l&&(f.onBlur=a[4]),32&l&&(f.onRenderMenu=a[5]),!r&&1&l&&(r=!0,f.text=a[0],Go(function(){return r=!1})),n.$set(f)},i:function(a){o||(J(n.$$.fragment,a),o=!0)},o:function(a){te(n.$$.fragment,a),o=!1},d:function(a){a&&me(e),Ie(n)}}}function QJ(t,e,n){var r=e.text,o=e.onParse,i=e.onRepair,s=e.onApply,a=e.onFocus,u=e.onBlur,l=e.onRenderMenu,f=wo("simple-modal").close;return t.$$set=function(c){"text"in c&&n(0,r=c.text),"onParse"in c&&n(1,o=c.onParse),"onRepair"in c&&n(2,i=c.onRepair),"onApply"in c&&n(8,s=c.onApply),"onFocus"in c&&n(3,a=c.onFocus),"onBlur"in c&&n(4,u=c.onBlur),"onRenderMenu"in c&&n(5,l=c.onRenderMenu)},[r,o,i,a,u,l,function(c){f(),s(c)},function(){f()},s,function(c){n(0,r=c)}]}var YJ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,QJ,GJ,an,{text:0,onParse:1,onRepair:2,onApply:8,onFocus:3,onBlur:4,onRenderMenu:5},KJ),o}return ae(n)}();function XJ(t){zt(t,"svelte-mojfmz",".jse-dropdown-button.svelte-mojfmz.svelte-mojfmz{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-mojfmz ul.svelte-mojfmz{margin:0;padding:0}.jse-dropdown-button.svelte-mojfmz ul li.svelte-mojfmz{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);border-radius:0}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.jse-visible.svelte-mojfmz{background:var(--jse-context-menu-background)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.svelte-mojfmz{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);box-shadow:var(--jse-controls-box-shadow)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.jse-visible.svelte-mojfmz{display:block}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding);margin:0}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}")}function s3(t,e,n){var r=t.slice();return r[10]=e[n],r}var ZJ=function(t){return{}},a3=function(t){return{}};function u3(t){var e,n;return e=new Ut({props:{data:t[10].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};1&o&&(i.data=r[10].icon),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function l3(t){var e,n,r,o,i,s,a,u,l,f,c=t[10].text+"",d=t[10].icon&&u3(t);function h(){return t[8](t[10])}return{c:function(){e=re("li"),n=re("button"),d&&d.c(),r=Ae(),o=nt(c),a=Ae(),E(n,"type","button"),E(n,"title",i=t[10].title),n.disabled=s=t[10].disabled,E(n,"class","svelte-mojfmz"),E(e,"class","svelte-mojfmz")},m:function(p,v){ye(p,e,v),U(e,n),d&&d.m(n,null),U(n,r),U(n,o),U(e,a),u=!0,l||(f=Fe(n,"click",h),l=!0)},p:function(p,v){(t=p)[10].icon?d?(d.p(t,v),1&v&&J(d,1)):((d=u3(t)).c(),J(d,1),d.m(n,r)):d&&(Ue(),te(d,1,1,function(){d=null}),Je()),(!u||1&v)&&c!==(c=t[10].text+"")&&en(o,c),(!u||1&v&&i!==(i=t[10].title))&&E(n,"title",i),(!u||1&v&&s!==(s=t[10].disabled))&&(n.disabled=s)},i:function(p){u||(J(d),u=!0)},o:function(p){te(d),u=!1},d:function(p){p&&me(e),d&&d.d(),l=!1,f()}}}function eK(t){var e,n,r,o,i,s,a,u,l,f,c=t[7].defaultItem,d=_i(c,t,t[6],a3);o=new Ut({props:{data:Wi}});for(var h=t[0],p=[],v=0;v<h.length;v+=1)p[v]=l3(s3(t,h,v));var g=function(m){return te(p[m],1,1,function(){p[m]=null})};return{c:function(){e=re("div"),d&&d.c(),n=Ae(),r=re("button"),Le(o.$$.fragment),i=Ae(),s=re("div"),a=re("ul");for(var m=0;m<p.length;m+=1)p[m].c();E(r,"type","button"),E(r,"class","jse-open-dropdown svelte-mojfmz"),E(r,"data-type","jse-open-dropdown"),Ze(r,"jse-visible",t[3]),E(a,"class","svelte-mojfmz"),E(s,"class","jse-dropdown-items svelte-mojfmz"),qi(s,"width",t[2]),Ze(s,"jse-visible",t[3]),E(e,"class","jse-dropdown-button svelte-mojfmz"),E(e,"title",t[1])},m:function(m,y){ye(m,e,y),d&&d.m(e,null),U(e,n),U(e,r),Me(o,r,null),U(e,i),U(e,s),U(s,a);for(var b=0;b<p.length;b+=1)p[b].m(a,null);u=!0,l||(f=[Fe(r,"click",t[4]),Fe(e,"click",t[5])],l=!0)},p:function(m,y){var b=At(y,1)[0];if(d&&d.p&&(!u||64&b)&&Ci(d,c,m,m[6],u?Si(c,m[6],b,ZJ):$i(m[6]),a3),8&b&&Ze(r,"jse-visible",m[3]),1&b){var w;for(h=m[0],w=0;w<h.length;w+=1){var k=s3(m,h,w);p[w]?(p[w].p(k,b),J(p[w],1)):(p[w]=l3(k),p[w].c(),J(p[w],1),p[w].m(a,null))}for(Ue(),w=h.length;w<p.length;w+=1)g(w);Je()}(!u||4&b)&&qi(s,"width",m[2]),8&b&&Ze(s,"jse-visible",m[3]),(!u||2&b)&&E(e,"title",m[1])},i:function(m){if(!u){J(d,m),J(o.$$.fragment,m);for(var y=0;y<h.length;y+=1)J(p[y]);u=!0}},o:function(m){te(d,m),te(o.$$.fragment,m),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)te(p[y]);u=!1},d:function(m){m&&me(e),d&&d.d(m),Ie(o),jo(p,m),l=!1,Kn(f)}}}function tK(t,e,n){var r=e.$$slots,o=r===void 0?{}:r,i=e.$$scope,s=e.items,a=s===void 0?[]:s,u=e.title,l=u===void 0?void 0:u,f=e.width,c=f===void 0?"120px":f,d=!1;function h(){n(3,d=!1)}function p(v){Sl(v)==="Escape"&&(v.preventDefault(),n(3,d=!1))}return ri(function(){document.addEventListener("click",h),document.addEventListener("keydown",p)}),la(function(){document.removeEventListener("click",h),document.removeEventListener("keydown",p)}),t.$$set=function(v){"items"in v&&n(0,a=v.items),"title"in v&&n(1,l=v.title),"width"in v&&n(2,c=v.width),"$$scope"in v&&n(6,i=v.$$scope)},[a,l,c,d,function(){var v=d;setTimeout(function(){return n(3,d=!v)})},h,i,o,function(v){return v.onClick()}]}var Hv=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,tK,eK,an,{items:0,title:1,width:2},XJ),o}return ae(n)}(),nK={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]},rK={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},Sh={prefix:"far",iconName:"square",icon:[448,512,[9723,9724,61590,9632],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},Ch={prefix:"far",iconName:"square-check",icon:[448,512,[9989,61510,9745,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function oK(t){zt(t,"svelte-1yai37q",".jse-contextmenu.svelte-1yai37q.svelte-1yai37q{box-shadow:var(--jse-controls-box-shadow);font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-context-menu-background);color:var(--jse-context-menu-color)}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q:focus{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row.svelte-1yai37q{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-label.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:var(--jse-context-menu-color-disabled);line-height:normal}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip.svelte-1yai37q{flex:1;background:var(--jse-context-menu-tip-background);color:var(--jse-context-menu-tip-color);margin:calc(0.5 * var(--jse-padding));padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:center;gap:var(--jse-padding);border-radius:3px}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip div.svelte-1yai37q{vertical-align:middle}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:hover{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert.svelte-1yai37q{display:inline-block;position:relative;width:18px;height:18px;font-family:var(--jse-font-family-mono);font-weight:bold;font-size:16px}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-quote.svelte-1yai37q,.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-plus.svelte-1yai37q{position:absolute;top:-4px;left:2px;font-size:24px}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color)}.jse-contextmenu.svelte-1yai37q .jse-column button.svelte-1yai37q{text-align:left;min-width:130px}.jse-contextmenu.svelte-1yai37q .jse-separator.svelte-1yai37q{width:100%;height:1px;background:var(--jse-context-menu-separator-color)}")}function iK(t){var e,n,r,o,i,s,a;return n=new Ut({props:{data:Jy}}),{c:function(){e=re("button"),Le(n.$$.fragment),r=nt(" Edit value"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Edit the value (Double-click on the value)"),e.disabled=o=!t[2],E(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Me(n,e,null),U(e,r),i=!0,s||(a=Fe(e,"click",t[18]),s=!0)},p:function(u,l){(!i||4&l[0]&&o!==(o=!u[2]))&&(e.disabled=o)},i:function(u){i||(J(n.$$.fragment,u),i=!0)},o:function(u){te(n.$$.fragment,u),i=!1},d:function(u){u&&me(e),Ie(n),s=!1,a()}}}function sK(t){var e,n,r,o,i,s,a;return n=new Ut({props:{data:Km}}),{c:function(){e=re("button"),Le(n.$$.fragment),r=nt(" Cut"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),e.disabled=o=!t[1],E(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Me(n,e,null),U(e,r),i=!0,s||(a=Fe(e,"click",t[19]),s=!0)},p:function(u,l){(!i||2&l[0]&&o!==(o=!u[1]))&&(e.disabled=o)},i:function(u){i||(J(n.$$.fragment,u),i=!0)},o:function(u){te(n.$$.fragment,u),i=!1},d:function(u){u&&me(e),Ie(n),s=!1,a()}}}function aK(t){var e,n,r,o,i,s,a;return n=new Ut({props:{data:rh}}),{c:function(){e=re("button"),Le(n.$$.fragment),r=nt(" Copy"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),e.disabled=o=!t[1],E(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Me(n,e,null),U(e,r),i=!0,s||(a=Fe(e,"click",t[20]),s=!0)},p:function(u,l){(!i||2&l[0]&&o!==(o=!u[1]))&&(e.disabled=o)},i:function(u){i||(J(n.$$.fragment,u),i=!0)},o:function(u){te(n.$$.fragment,u),i=!1},d:function(u){u&&me(e),Ie(n),s=!1,a()}}}function c3(t){var e,n,r,o,i,s,a;return o=new Ut({props:{data:rK}}),{c:function(){e=re("div"),n=re("div"),r=re("div"),Le(o.$$.fragment),i=Ae(),(s=re("div")).textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",E(r,"class","svelte-1yai37q"),E(s,"class","svelte-1yai37q"),E(n,"class","jse-tip svelte-1yai37q"),E(e,"class","jse-row svelte-1yai37q")},m:function(u,l){ye(u,e,l),U(e,n),U(n,r),Me(o,r,null),U(n,i),U(n,s),a=!0},p:Ge,i:function(u){a||(J(o.$$.fragment,u),a=!0)},o:function(u){te(o.$$.fragment,u),a=!1},d:function(u){u&&me(e),Ie(o)}}}function uK(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P,_,T,C,R,S,j,q,Y,F,K,D,I,W,H,z,O,x,N,G,ue,xe,$e,L,Q,M,B,Z,le,ee,V,Ee,Ce,_e,pe,ce,ke,Oe,fe,Pe,Ve,et,vt,Lt,wn,ne,de,ve,be,Te,we,We,tt,Xe,dt,Tt,ot,Rt,_t,gt,It,kn,Xn,He,ir,hn,tn,vn,Pr,Tr,Pn,Fo,_o;o=new Ut({props:{data:Jy}}),u=new Hv({props:{width:"11em",items:t[8],$$slots:{defaultItem:[iK]},$$scope:{ctx:t}}}),h=new Hv({props:{width:"10em",items:t[7],$$slots:{defaultItem:[sK]},$$scope:{ctx:t}}}),v=new Hv({props:{width:"12em",items:t[6],$$slots:{defaultItem:[aK]},$$scope:{ctx:t}}}),y=new Ut({props:{data:iq}}),C=new Ut({props:{data:uf}}),Y=new Ut({props:{data:tq}}),W=new Ut({props:{data:nq}}),N=new Ut({props:{data:Hy}}),L=new Ut({props:{data:Wy}}),kn=new Ut({props:{data:aq}}),tn=new Ut({props:{data:sq}});var Nn=t[0]&&c3();return{c:function(){e=re("div"),n=re("div"),r=re("button"),Le(o.$$.fragment),i=nt(" Edit key"),a=Ae(),Le(u.$$.fragment),l=Ae(),f=re("div"),c=Ae(),d=re("div"),Le(h.$$.fragment),p=Ae(),Le(v.$$.fragment),g=Ae(),m=re("button"),Le(y.$$.fragment),b=nt(" Paste"),k=Ae(),$=re("div"),A=Ae(),P=re("div"),_=re("div"),T=re("button"),Le(C.$$.fragment),R=nt(" Remove"),j=Ae(),q=re("button"),Le(Y.$$.fragment),F=nt(" Duplicate"),D=Ae(),I=re("button"),Le(W.$$.fragment),H=nt(" Extract"),O=Ae(),x=re("button"),Le(N.$$.fragment),G=nt(" Sort"),xe=Ae(),$e=re("button"),Le(L.$$.fragment),Q=nt(" Transform"),B=Ae(),Z=re("div"),le=re("div"),ee=nt(t[13]),V=nt(":"),Ee=Ae(),Ce=re("button"),_e=re("span"),(pe=re("span")).textContent="+",ce=nt(" Structure"),fe=Ae(),Pe=re("button"),(Ve=re("span")).textContent="{}",et=nt(" Object"),wn=Ae(),ne=re("button"),(de=re("span")).textContent="[]",ve=nt(" Array"),we=Ae(),We=re("button"),(tt=re("span")).innerHTML='<span class="jse-quote svelte-1yai37q">&quot;</span>',Xe=nt(" Value"),ot=Ae(),Rt=re("div"),_t=Ae(),gt=re("div"),It=re("button"),Le(kn.$$.fragment),Xn=nt(" Insert before"),ir=Ae(),hn=re("button"),Le(tn.$$.fragment),vn=nt(" Insert after"),Tr=Ae(),Nn&&Nn.c(),E(r,"type","button"),E(r,"title","Edit the key (Double-click on the key)"),r.disabled=s=!t[14],E(r,"class","svelte-1yai37q"),E(n,"class","jse-row svelte-1yai37q"),E(f,"class","jse-separator svelte-1yai37q"),E(m,"type","button"),E(m,"title","Paste clipboard contents (Ctrl+V)"),m.disabled=w=!t[3],E(m,"class","svelte-1yai37q"),E(d,"class","jse-row svelte-1yai37q"),E($,"class","jse-separator svelte-1yai37q"),E(T,"type","button"),E(T,"title","Remove selected contents (Delete)"),T.disabled=S=!t[1],E(T,"class","svelte-1yai37q"),E(q,"type","button"),E(q,"title","Duplicate selected contents (Ctrl+D)"),q.disabled=K=!t[16],E(q,"class","svelte-1yai37q"),E(I,"type","button"),E(I,"title","Extract selected contents"),I.disabled=z=!t[15],E(I,"class","svelte-1yai37q"),E(x,"type","button"),E(x,"title","Sort array or object contents"),x.disabled=ue=!t[1],E(x,"class","svelte-1yai37q"),E($e,"type","button"),E($e,"title","Transform array or object contents (filter, sort, project)"),$e.disabled=M=!t[1],E($e,"class","svelte-1yai37q"),E(_,"class","jse-column svelte-1yai37q"),E(le,"class","jse-label svelte-1yai37q"),E(pe,"class","jse-plus svelte-1yai37q"),E(_e,"class","jse-insert svelte-1yai37q"),E(Ce,"type","button"),E(Ce,"title",ke=t[13]+" structure"),Ce.disabled=Oe=!t[12],E(Ce,"class","svelte-1yai37q"),E(Ve,"class","jse-insert svelte-1yai37q"),E(Pe,"type","button"),E(Pe,"title",vt=t[13]+" object"),Pe.disabled=Lt=!t[11],E(Pe,"class","svelte-1yai37q"),E(de,"class","jse-insert svelte-1yai37q"),E(ne,"type","button"),E(ne,"title",be=t[13]+" array"),ne.disabled=Te=!t[10],E(ne,"class","svelte-1yai37q"),E(tt,"class","jse-insert svelte-1yai37q"),E(We,"type","button"),E(We,"title",dt=t[13]+" value"),We.disabled=Tt=!t[9],E(We,"class","svelte-1yai37q"),E(Z,"class","jse-column svelte-1yai37q"),E(P,"class","jse-row svelte-1yai37q"),E(Rt,"class","jse-separator svelte-1yai37q"),E(It,"type","button"),E(It,"title","Select area before current entry to insert or paste contents"),It.disabled=He=!t[1]||t[4],E(It,"class","svelte-1yai37q"),E(hn,"type","button"),E(hn,"title","Select area after current entry to insert or paste contents"),hn.disabled=Pr=!t[1]||t[4],E(hn,"class","svelte-1yai37q"),E(gt,"class","jse-row svelte-1yai37q"),E(e,"class","jse-contextmenu svelte-1yai37q")},m:function(ct,Wt){ye(ct,e,Wt),U(e,n),U(n,r),Me(o,r,null),U(r,i),U(n,a),Me(u,n,null),U(e,l),U(e,f),U(e,c),U(e,d),Me(h,d,null),U(d,p),Me(v,d,null),U(d,g),U(d,m),Me(y,m,null),U(m,b),U(e,k),U(e,$),U(e,A),U(e,P),U(P,_),U(_,T),Me(C,T,null),U(T,R),U(_,j),U(_,q),Me(Y,q,null),U(q,F),U(_,D),U(_,I),Me(W,I,null),U(I,H),U(_,O),U(_,x),Me(N,x,null),U(x,G),U(_,xe),U(_,$e),Me(L,$e,null),U($e,Q),U(P,B),U(P,Z),U(Z,le),U(le,ee),U(le,V),U(Z,Ee),U(Z,Ce),U(Ce,_e),U(_e,pe),U(Ce,ce),U(Z,fe),U(Z,Pe),U(Pe,Ve),U(Pe,et),U(Z,wn),U(Z,ne),U(ne,de),U(ne,ve),U(Z,we),U(Z,We),U(We,tt),U(We,Xe),U(e,ot),U(e,Rt),U(e,_t),U(e,gt),U(gt,It),Me(kn,It,null),U(It,Xn),U(gt,ir),U(gt,hn),Me(tn,hn,null),U(hn,vn),U(e,Tr),Nn&&Nn.m(e,null),t[58](e),Pn=!0,Fo||(_o=[Fe(r,"click",t[17]),Fe(m,"click",t[21]),Fe(T,"click",t[22]),Fe(q,"click",t[23]),Fe(I,"click",t[24]),Fe(x,"click",t[26]),Fe($e,"click",t[27]),Fe(Ce,"click",t[54]),Fe(Pe,"click",t[55]),Fe(ne,"click",t[56]),Fe(We,"click",t[57]),Fe(It,"click",t[28]),Fe(hn,"click",t[29]),Fe(e,"keydown",t[30])],Fo=!0)},p:function(ct,Wt){(!Pn||16384&Wt[0]&&s!==(s=!ct[14]))&&(r.disabled=s);var qo={};256&Wt[0]&&(qo.items=ct[8]),4&Wt[0]|1&Wt[2]&&(qo.$$scope={dirty:Wt,ctx:ct}),u.$set(qo);var So={};128&Wt[0]&&(So.items=ct[7]),2&Wt[0]|1&Wt[2]&&(So.$$scope={dirty:Wt,ctx:ct}),h.$set(So);var qr={};64&Wt[0]&&(qr.items=ct[6]),2&Wt[0]|1&Wt[2]&&(qr.$$scope={dirty:Wt,ctx:ct}),v.$set(qr),(!Pn||8&Wt[0]&&w!==(w=!ct[3]))&&(m.disabled=w),(!Pn||2&Wt[0]&&S!==(S=!ct[1]))&&(T.disabled=S),(!Pn||65536&Wt[0]&&K!==(K=!ct[16]))&&(q.disabled=K),(!Pn||32768&Wt[0]&&z!==(z=!ct[15]))&&(I.disabled=z),(!Pn||2&Wt[0]&&ue!==(ue=!ct[1]))&&(x.disabled=ue),(!Pn||2&Wt[0]&&M!==(M=!ct[1]))&&($e.disabled=M),(!Pn||8192&Wt[0])&&en(ee,ct[13]),(!Pn||8192&Wt[0]&&ke!==(ke=ct[13]+" structure"))&&E(Ce,"title",ke),(!Pn||4096&Wt[0]&&Oe!==(Oe=!ct[12]))&&(Ce.disabled=Oe),(!Pn||8192&Wt[0]&&vt!==(vt=ct[13]+" object"))&&E(Pe,"title",vt),(!Pn||2048&Wt[0]&&Lt!==(Lt=!ct[11]))&&(Pe.disabled=Lt),(!Pn||8192&Wt[0]&&be!==(be=ct[13]+" array"))&&E(ne,"title",be),(!Pn||1024&Wt[0]&&Te!==(Te=!ct[10]))&&(ne.disabled=Te),(!Pn||8192&Wt[0]&&dt!==(dt=ct[13]+" value"))&&E(We,"title",dt),(!Pn||512&Wt[0]&&Tt!==(Tt=!ct[9]))&&(We.disabled=Tt),(!Pn||18&Wt[0]&&He!==(He=!ct[1]||ct[4]))&&(It.disabled=He),(!Pn||18&Wt[0]&&Pr!==(Pr=!ct[1]||ct[4]))&&(hn.disabled=Pr),ct[0]?Nn?(Nn.p(ct,Wt),1&Wt[0]&&J(Nn,1)):((Nn=c3()).c(),J(Nn,1),Nn.m(e,null)):Nn&&(Ue(),te(Nn,1,1,function(){Nn=null}),Je())},i:function(ct){Pn||(J(o.$$.fragment,ct),J(u.$$.fragment,ct),J(h.$$.fragment,ct),J(v.$$.fragment,ct),J(y.$$.fragment,ct),J(C.$$.fragment,ct),J(Y.$$.fragment,ct),J(W.$$.fragment,ct),J(N.$$.fragment,ct),J(L.$$.fragment,ct),J(kn.$$.fragment,ct),J(tn.$$.fragment,ct),J(Nn),Pn=!0)},o:function(ct){te(o.$$.fragment,ct),te(u.$$.fragment,ct),te(h.$$.fragment,ct),te(v.$$.fragment,ct),te(y.$$.fragment,ct),te(C.$$.fragment,ct),te(Y.$$.fragment,ct),te(W.$$.fragment,ct),te(N.$$.fragment,ct),te(L.$$.fragment,ct),te(kn.$$.fragment,ct),te(tn.$$.fragment,ct),te(Nn),Pn=!1},d:function(ct){ct&&me(e),Ie(o),Ie(u),Ie(h),Ie(v),Ie(y),Ie(C),Ie(Y),Ie(W),Ie(N),Ie(L),Ie(kn),Ie(tn),Nn&&Nn.d(),t[58](null),Fo=!1,Kn(_o)}}}function lK(t,e,n){var r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A=e.json,P=e.state,_=e.selection,T=e.showTip,C=e.onCloseContextMenu,R=e.onEditKey,S=e.onEditValue,j=e.onToggleEnforceString,q=e.onCut,Y=e.onCopy,F=e.onPaste,K=e.onRemove,D=e.onDuplicate,I=e.onExtract,W=e.onInsertBefore,H=e.onInsert,z=e.onConvert,O=e.onInsertAfter,x=e.onSort,N=e.onTransform;function G(){C(),S()}function ue(){C(),j()}function xe(){C(),q(!0)}function $e(){C(),q(!1)}function L(){C(),Y(!0)}function Q(){C(),Y(!1)}function M(B){C(),a?z(B):H(B)}return ri(function(){setTimeout(function(){var B=Qt($.querySelectorAll("button")).find(function(Z){return!Z.disabled});B&&B.focus()})}),t.$$set=function(B){"json"in B&&n(31,A=B.json),"state"in B&&n(32,P=B.state),"selection"in B&&n(33,_=B.selection),"showTip"in B&&n(0,T=B.showTip),"onCloseContextMenu"in B&&n(34,C=B.onCloseContextMenu),"onEditKey"in B&&n(35,R=B.onEditKey),"onEditValue"in B&&n(36,S=B.onEditValue),"onToggleEnforceString"in B&&n(37,j=B.onToggleEnforceString),"onCut"in B&&n(38,q=B.onCut),"onCopy"in B&&n(39,Y=B.onCopy),"onPaste"in B&&n(40,F=B.onPaste),"onRemove"in B&&n(41,K=B.onRemove),"onDuplicate"in B&&n(42,D=B.onDuplicate),"onExtract"in B&&n(43,I=B.onExtract),"onInsertBefore"in B&&n(44,W=B.onInsertBefore),"onInsert"in B&&n(45,H=B.onInsert),"onConvert"in B&&n(46,z=B.onConvert),"onInsertAfter"in B&&n(47,O=B.onInsertAfter),"onSort"in B&&n(48,x=B.onSort),"onTransform"in B&&n(49,N=B.onTransform)},t.$$.update=function(){1&t.$$.dirty[1]&&n(53,r=A!==void 0),4&t.$$.dirty[1]&&n(3,o=_!=null),8&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(4,i=o&&zn(_.focusPath)),8&t.$$.dirty[0]|5&t.$$.dirty[1]&&n(51,s=o?Se.exports.getIn(A,_.focusPath):void 0),4194308&t.$$.dirty[1]&&n(1,a=r&&_!=null&&(_.type===Et||_.type===pn||_.type===mt)),18&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(16,u=r&&a&&!i),16&t.$$.dirty[0]|4194308&t.$$.dirty[1]&&n(15,l=r&&_!=null&&(_.type===Et||_.type===mt)&&!i),16&t.$$.dirty[0]|4194309&t.$$.dirty[1]&&n(14,f=r&&_!=null&&Wm(_)&&!i&&!Array.isArray(Se.exports.getIn(A,Gt(_.focusPath)))),5242884&t.$$.dirty[1]&&n(2,c=r&&_!=null&&Wm(_)&&!Sr(s)),2&t.$$.dirty[0]&&n(52,d=a),2097152&t.$$.dirty[1]&&n(13,h=d?"Convert to":"Insert"),8&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&n(12,p=!d&&o),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(11,v=d?wd(_)&&!yr(s):o),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(10,g=d?wd(_)&&!Array.isArray(s):o),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(9,m=d?wd(_)&&Sr(s):o),6&t.$$.dirty[1]&&n(50,y=_!=null&&Se.exports.getIn(P,_.focusPath.concat(Po))===!0),4&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(8,b=[{icon:Jy,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:G,disabled:!c},{icon:y?Ch:Sh,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:ue,disabled:!c}]),2&t.$$.dirty[0]&&n(7,w=[{icon:Km,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:xe,disabled:!a},{icon:Km,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:$e,disabled:!a}]),2&t.$$.dirty[0]&&n(6,k=[{icon:rh,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:L,disabled:!a},{icon:rh,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:Q,disabled:!a}])},[T,a,c,o,i,$,k,w,b,m,g,v,p,h,f,l,u,function(){C(),R()},G,xe,L,function(){C(),F()},function(){C(),K()},function(){C(),D()},function(){C(),I()},M,function(){C(),x()},function(){C(),N()},function(){C(),W()},function(){C(),O()},function(B){var Z=Sl(B).replace(/^Command\+/,"Ctrl+");if(Z==="Up"||Z==="Down"||Z==="Left"||Z==="Right"){B.preventDefault();var le=VF({allElements:Array.from($.querySelectorAll("button:not([disabled])")),currentElement:B.target,direction:Z,hasPrio:function(ee){return ee.getAttribute("data-type")!=="jse-open-dropdown"}});le&&le.focus()}},A,P,_,C,R,S,j,q,Y,F,K,D,I,W,H,z,O,x,N,y,s,d,r,function(){return M("structure")},function(){return M("object")},function(){return M("array")},function(){return M("value")},function(B){Yt[B?"unshift":"push"](function(){n(5,$=B)})}]}var cK=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,lK,uK,an,{json:31,state:32,selection:33,showTip:0,onCloseContextMenu:34,onEditKey:35,onEditValue:36,onToggleEnforceString:37,onCut:38,onCopy:39,onPaste:40,onRemove:41,onDuplicate:42,onExtract:43,onInsertBefore:44,onInsert:45,onConvert:46,onInsertAfter:47,onSort:48,onTransform:49},oK,[-1,-1,-1]),o}return ae(n)}(),oI={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=ut(i);if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object")if(i.toString===Object.prototype.toString)for(var u in i)e.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oI);var nl=oI.exports;function fK(t){zt(t,"svelte-1knbf5w","div.jse-collapsed-items.svelte-1knbf5w.svelte-1knbf5w{font-family:var(--jse-font-family);font-size:var(--jse-font-size);color:var(--jse-collapsed-items-link-color);padding:calc(0.5 * var(--jse-padding));border:8px solid transparent;border-width:8px 0;background-color:transparent;background-image:linear-gradient(var(--jse-collapsed-items-background-color), var(--jse-collapsed-items-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{margin:0 calc(0.5 * var(--jse-padding))}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w{display:inline}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:hover,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:focus{color:var(--jse-collapsed-items-link-color-highlight)}")}function f3(t,e,n){var r=t.slice();return r[12]=e[n],r}function d3(t){var e,n,r,o,i,s,a,u,l=t[12].start+"",f=t[12].end+"";function c(){return t[11](t[12])}return{c:function(){e=re("button"),n=nt("show "),r=nt(l),o=nt("-"),i=nt(f),s=Ae(),E(e,"type","button"),E(e,"class","jse-expand-items svelte-1knbf5w")},m:function(d,h){ye(d,e,h),U(e,n),U(e,r),U(e,o),U(e,i),U(e,s),a||(u=Fe(e,"click",c),a=!0)},p:function(d,h){t=d,16&h&&l!==(l=t[12].start+"")&&en(r,l),16&h&&f!==(f=t[12].end+"")&&en(i,f)},d:function(d){d&&me(e),a=!1,u()}}}function dK(t){for(var e,n,r,o,i,s,a,u,l,f,c,d=t[4],h=[],p=0;p<d.length;p+=1)h[p]=d3(f3(t,d,p));return{c:function(){e=re("div"),n=re("div"),r=re("div"),o=nt("Items "),i=nt(t[3]),s=nt("-"),a=nt(t[2]),u=Ae();for(var v=0;v<h.length;v+=1)h[v].c();E(r,"class","jse-text svelte-1knbf5w"),E(e,"class","jse-collapsed-items svelte-1knbf5w"),E(e,"style",l=h3(t[0].length+2)),Ze(e,"jse-selected",t[5])},m:function(v,g){ye(v,e,g),U(e,n),U(n,r),U(r,o),U(r,i),U(r,s),U(r,a),U(n,u);for(var m=0;m<h.length;m+=1)h[m].m(n,null);f||(c=Fe(e,"mousemove",hK),f=!0)},p:function(v,g){var m=At(g,1)[0];if(8&m&&en(i,v[3]),4&m&&en(a,v[2]),19&m){var y;for(d=v[4],y=0;y<d.length;y+=1){var b=f3(v,d,y);h[y]?h[y].p(b,m):(h[y]=d3(b),h[y].c(),h[y].m(n,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}1&m&&l!==(l=h3(v[0].length+2))&&E(e,"style",l),32&m&&Ze(e,"jse-selected",v[5])},i:Ge,o:Ge,d:function(v){v&&me(e),jo(h,v),f=!1,c()}}}function h3(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function hK(t){t.stopPropagation()}function pK(t,e,n){var r,o,i,s,a,u=e.visibleSections,l=e.sectionIndex,f=e.total,c=e.path,d=e.selection,h=e.onExpandSection;return t.$$set=function(p){"visibleSections"in p&&n(6,u=p.visibleSections),"sectionIndex"in p&&n(7,l=p.sectionIndex),"total"in p&&n(8,f=p.total),"path"in p&&n(0,c=p.path),"selection"in p&&n(9,d=p.selection),"onExpandSection"in p&&n(1,h=p.onExpandSection)},t.$$.update=function(){192&t.$$.dirty&&n(10,r=u[l]),1024&t.$$.dirty&&n(3,o=r.end),448&t.$$.dirty&&n(2,i=u[l+1]?u[l+1].start:f),521&t.$$.dirty&&n(5,s=!(!d||!d.pathsMap)&&d.pathsMap[Se.exports.compileJSONPointer(c.concat(o))]===!0),12&t.$$.dirty&&n(4,a=function(p,v){var g={start:p,end:Math.min(Fm(p),v)},m=Math.max(eh((p+v)/2),p),y={start:m,end:Math.min(Fm(m),v)},b=eh(v),w=b===v?b-100:b,k={start:Math.max(w,p),end:v},$=[g],A=y.start>=g.end&&y.end<=k.start;return A&&$.push(y),k.start>=(A?y.end:g.end)&&$.push(k),$}(o,i))},[c,h,i,o,a,s,u,l,f,d,r,function(p){return h(c,p)}]}var vK=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,pK,dK,an,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1},fK),o}return ae(n)}();function mK(t){zt(t,"svelte-dol684",".jse-context-menu-button.svelte-dol684{position:absolute;top:calc(-0.5 * var(--jse-context-menu-button-size));right:calc(-0.5 * var(--jse-context-menu-button-size));width:var(--jse-context-menu-button-size);height:var(--jse-context-menu-button-size);padding:0;margin:0;z-index:2;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-button-background);color:var(--jse-context-menu-button-color);border:none;box-shadow:var(--jse-controls-box-shadow)}.jse-context-menu-button.svelte-dol684:hover{background:var(--jse-context-menu-button-background-highlight)}")}function gK(t){var e,n,r,o,i;return n=new Ut({props:{data:Wi}}),{c:function(){e=re("button"),Le(n.$$.fragment),E(e,"type","button"),E(e,"class","jse-context-menu-button svelte-dol684"),E(e,"title",qO),Ze(e,"jse-selected",t[0])},m:function(s,a){ye(s,e,a),Me(n,e,null),r=!0,o||(i=Fe(e,"click",t[1]),o=!0)},p:function(s,a){1&At(a,1)[0]&&Ze(e,"jse-selected",s[0])},i:function(s){r||(J(n.$$.fragment,s),r=!0)},o:function(s){te(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Ie(n),o=!1,i()}}}function yK(t,e,n){var r=e.selected,o=e.onContextMenu;return t.$$set=function(i){"selected"in i&&n(0,r=i.selected),"onContextMenu"in i&&n(2,o=i.onContextMenu)},[r,function(i){for(var s=i.target;s&&s.nodeName!=="BUTTON";)s=s.parentNode;s&&o({anchor:s,left:0,top:0,width:260,height:336,offsetTop:2,offsetLeft:0,showTip:!0})},o]}var vu=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,yK,gK,an,{selected:0,onContextMenu:2},mK),o}return ae(n)}();function bK(t){zt(t,"svelte-s6kbew",".jse-highlight.svelte-s6kbew{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-highlight.jse-active.svelte-s6kbew{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}")}function p3(t,e,n){var r=t.slice();return r[3]=e[n],r}function wK(t){var e,n,r=eu(t[3].text)+"";return{c:function(){e=re("span"),n=nt(r),E(e,"class","jse-highlight svelte-s6kbew"),Ze(e,"jse-active",t[3].active)},m:function(o,i){ye(o,e,i),U(e,n)},p:function(o,i){1&i&&r!==(r=eu(o[3].text)+"")&&en(n,r),1&i&&Ze(e,"jse-active",o[3].active)},d:function(o){o&&me(e)}}}function kK(t){var e,n=t[3].text+"";return{c:function(){e=nt(n)},m:function(r,o){ye(r,e,o)},p:function(r,o){1&o&&n!==(n=r[3].text+"")&&en(e,n)},d:function(r){r&&me(e)}}}function v3(t){var e;function n(i,s){return i[3].type==="normal"?kK:wK}var r=n(t),o=r(t);return{c:function(){o.c(),e=dn()},m:function(i,s){o.m(i,s),ye(i,e,s)},p:function(i,s){r===(r=n(i))&&o?o.p(i,s):(o.d(1),(o=r(i))&&(o.c(),o.m(e.parentNode,e)))},d:function(i){o.d(i),i&&me(e)}}}function xK(t){for(var e,n=t[0],r=[],o=0;o<n.length;o+=1)r[o]=v3(p3(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=dn()},m:function(i,s){for(var a=0;a<r.length;a+=1)r[a].m(i,s);ye(i,e,s)},p:function(i,s){var a=At(s,1)[0];if(1&a){var u;for(n=i[0],u=0;u<n.length;u+=1){var l=p3(i,n,u);r[u]?r[u].p(l,a):(r[u]=v3(l),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},i:Ge,o:Ge,d:function(i){jo(r,i),i&&me(e)}}}function jK(t,e,n){var r,o=e.text,i=e.searchResult;return t.$$set=function(s){"text"in s&&n(1,o=s.text),"searchResult"in s&&n(2,i=s.searchResult)},t.$$.update=function(){6&t.$$.dirty&&n(0,r=function(s,a){var u,l=[],f=0,c=he(a);try{for(c.s();!(u=c.n()).done;){var d=u.value,h=s.slice(f,d.start);h!==""&&l.push({type:"normal",text:h,active:!1});var p=s.slice(d.start,d.end);l.push({type:"highlight",text:p,active:d.active}),f=d.end}}catch(g){c.e(g)}finally{c.f()}var v=ht(a);return v.end<s.length&&l.push({type:"normal",text:s.slice(v.end),active:!1}),l}(String(o),i))},[r,o,i]}var iI=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,jK,xK,xr,{text:1,searchResult:2},bK),o}return ae(n)}();function _K(t){zt(t,"svelte-rw77oa",".jse-value.jse-string.svelte-rw77oa{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rw77oa,.jse-value.jse-array.svelte-rw77oa{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rw77oa{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rw77oa{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rw77oa{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rw77oa{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rw77oa{color:var(--jse-value-color-url);text-decoration:underline}div.jse-editable-div.svelte-rw77oa{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-rw77oa{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-rw77oa{outline:var(--jse-edit-outline);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-rw77oa:not(:focus){outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-rw77oa::after{pointer-events:none;color:var(--jse-tag-background)}")}function SK(t){var e,n,r,o;return{c:function(){E(e=re("div"),"class",n=vr(nl("jse-editable-div",t[2],{"jse-short-text":t[0]}))+" svelte-rw77oa"),E(e,"contenteditable","true"),E(e,"spellcheck","false")},m:function(i,s){ye(i,e,s),t[13](e),r||(o=[Fe(e,"input",t[3]),Fe(e,"keydown",t[4]),Fe(e,"paste",t[5]),Fe(e,"blur",t[6])],r=!0)},p:function(i,s){5&At(s,1)[0]&&n!==(n=vr(nl("jse-editable-div",i[2],{"jse-short-text":i[0]}))+" svelte-rw77oa")&&E(e,"class",n)},i:Ge,o:Ge,d:function(i){i&&me(e),t[13](null),r=!1,Kn(o)}}}function CK(t,e,n){var r,o=zo("jsoneditor:EditableDiv"),i=e.value,s=e.shortText,a=s!==void 0&&s,u=e.onChange,l=e.onCancel,f=e.onFind,c=e.onPaste,d=c===void 0?sn:c,h=e.onValueClass,p=h===void 0?function(){return""}:h,v=p(i),g=!1;function m(){return function(b){return b.replace(/\n$/,"")}(r.innerText)}function y(b){n(1,r.innerText=eu(b),r)}return ri(function(){o("onMount",{value:i}),y(i),setTimeout(function(){return IP(r)})}),la(function(){var b=m();o("onDestroy",{closed:g,value:i,newValue:b}),g||b===i||u(b,GR)}),t.$$set=function(b){"value"in b&&n(7,i=b.value),"shortText"in b&&n(0,a=b.shortText),"onChange"in b&&n(8,u=b.onChange),"onCancel"in b&&n(9,l=b.onCancel),"onFind"in b&&n(10,f=b.onFind),"onPaste"in b&&n(11,d=b.onPaste),"onValueClass"in b&&n(12,p=b.onValueClass)},[a,r,v,function(){var b=m();b===""&&y(""),n(2,v=p(b))},function(b){b.stopPropagation();var w=Sl(b).replace(/^Command\+/,"Ctrl+");if(w==="Escape"&&(g=!0,l()),w==="Enter"||w==="Tab"){g=!0;var k=m();u(k,A0)}w==="Ctrl+F"&&(b.preventDefault(),f(!1)),w==="Ctrl+H"&&(b.preventDefault(),f(!0))},function(b){if(d){var w=b.clipboardData.getData("text/plain");d(w)}},function(){var b=document.hasFocus(),w=m();o("handleBlur",{hasFocus:b,closed:g,value:i,newValue:w}),document.hasFocus()&&!g&&(g=!0,w!==i?u(w,O0):l())},i,u,l,f,d,p,function(b){Yt[b?"unshift":"push"](function(){n(1,r=b)})}]}var sI=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,CK,SK,an,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},_K),o}return ae(n)}();function $K(t){zt(t,"svelte-566egb",'.jse-key.svelte-566egb{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.jse-empty.svelte-566egb{min-width:3em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-key.jse-empty.svelte-566egb::after{pointer-events:none;color:var(--jse-tag-background);content:"key"}')}function OK(t){var e,n,r,o,i,s,a,u=[PK,EK],l=[];function f(c,d){return c[1]?0:1}return n=f(t),r=l[n]=u[n](t),{c:function(){e=re("div"),r.c(),E(e,"data-type","selectable-key"),E(e,"class",o=vr(t[5](t[0]))+" svelte-566egb")},m:function(c,d){ye(c,e,d),l[n].m(e,null),i=!0,s||(a=Fe(e,"dblclick",t[4]),s=!0)},p:function(c,d){var h=n;(n=f(c))===h?l[n].p(c,d):(Ue(),te(l[h],1,1,function(){l[h]=null}),Je(),(r=l[n])?r.p(c,d):(r=l[n]=u[n](c)).c(),J(r,1),r.m(e,null)),(!i||1&d&&o!==(o=vr(c[5](c[0]))+" svelte-566egb"))&&E(e,"class",o)},i:function(c){i||(J(r),i=!0)},o:function(c){te(r),i=!1},d:function(c){c&&me(e),l[n].d(),s=!1,a()}}}function AK(t){var e,n;return e=new sI({props:{value:t[2].normalization.escapeValue(t[0]),shortText:!0,onChange:t[6],onCancel:t[7],onFind:t[2].onFind}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};5&o&&(i.value=r[2].normalization.escapeValue(r[0])),4&o&&(i.onFind=r[2].onFind),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function EK(t){var e,n=eu(t[2].normalization.escapeValue(t[0]))+"";return{c:function(){e=nt(n)},m:function(r,o){ye(r,e,o)},p:function(r,o){5&o&&n!==(n=eu(r[2].normalization.escapeValue(r[0]))+"")&&en(e,n)},i:Ge,o:Ge,d:function(r){r&&me(e)}}}function PK(t){var e,n;return e=new iI({props:{text:t[2].normalization.escapeValue(t[0]),searchResult:t[1]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};5&o&&(i.text=r[2].normalization.escapeValue(r[0])),2&o&&(i.searchResult=r[1]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function TK(t){var e,n,r,o,i=[AK,OK],s=[];function a(u,l){return u[3]?0:1}return e=a(t),n=s[e]=i[e](t),{c:function(){n.c(),r=dn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),o=!0},p:function(u,l){var f=At(l,1)[0],c=e;(e=a(u))===c?s[e].p(u,f):(Ue(),te(s[c],1,1,function(){s[c]=null}),Je(),(n=s[e])?n.p(u,f):(n=s[e]=i[e](u)).c(),J(n,1),n.m(r.parentNode,r))},i:function(u){o||(J(n),o=!0)},o:function(u){te(n),o=!1},d:function(u){s[e].d(u),u&&me(r)}}}function MK(t,e,n){var r,o,i=e.path,s=e.key,a=e.onUpdateKey,u=e.selection,l=e.searchResult,f=e.context;return t.$$set=function(c){"path"in c&&n(8,i=c.path),"key"in c&&n(0,s=c.key),"onUpdateKey"in c&&n(9,a=c.onUpdateKey),"selection"in c&&n(10,u=c.selection),"searchResult"in c&&n(1,l=c.searchResult),"context"in c&&n(2,f=c.context)},t.$$.update=function(){1024&t.$$.dirty&&n(11,r=u&&u.type===pn),3076&t.$$.dirty&&n(3,o=!f.readOnly&&r&&u&&u.edit===!0)},[s,l,f,o,function(c){o||f.readOnly||(c.preventDefault(),f.onSelect({type:pn,path:i,edit:!0}))},function(c){return nl("jse-key",{"jse-empty":c===""})},function(c,d){var h=a(s,f.normalization.unescapeValue(c)),p=Gt(i).concat(h);d===A0&&f.onSelect({type:pn,path:p,next:!0}),d===O0&&f.onSelect({type:pn,path:p},{ensureFocus:!1})},function(){f.onSelect({type:pn,path:i})},i,a,u,r]}var IK=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,MK,TK,an,{path:8,key:0,onUpdateKey:9,selection:10,searchResult:1,context:2},$K),o}return ae(n)}();function m3(t,e,n){var r=t.slice();return r[9]=e[n],r}function g3(t){var e,n,r,o=[t[9].props],i=t[9].component;function s(a){for(var u={},l=0;l<o.length;l+=1)u=ga(u,o[l]);return{props:u}}return i&&(e=new i(s())),{c:function(){e&&Le(e.$$.fragment),n=dn()},m:function(a,u){e&&Me(e,a,u),ye(a,n,u),r=!0},p:function(a,u){var l=1&u?au(o,[Yh(a[9].props)]):{};if(i!==(i=a[9].component)){if(e){Ue();var f=e;te(f.$$.fragment,1,0,function(){Ie(f,1)}),Je()}i?(Le((e=new i(s())).$$.fragment),J(e.$$.fragment,1),Me(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i:function(a){r||(e&&J(e.$$.fragment,a),r=!0)},o:function(a){e&&te(e.$$.fragment,a),r=!1},d:function(a){a&&me(n),e&&Ie(e,a)}}}function NK(t){for(var e,n,r=t[0],o=[],i=0;i<r.length;i+=1)o[i]=g3(m3(t,r,i));var s=function(a){return te(o[a],1,1,function(){o[a]=null})};return{c:function(){for(var a=0;a<o.length;a+=1)o[a].c();e=dn()},m:function(a,u){for(var l=0;l<o.length;l+=1)o[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){var l=At(u,1)[0];if(1&l){var f;for(r=a[0],f=0;f<r.length;f+=1){var c=m3(a,r,f);o[f]?(o[f].p(c,l),J(o[f],1)):(o[f]=g3(c),o[f].c(),J(o[f],1),o[f].m(e.parentNode,e))}for(Ue(),f=r.length;f<o.length;f+=1)s(f);Je()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)J(o[u]);n=!0}},o:function(a){o=o.filter(Boolean);for(var u=0;u<o.length;u+=1)te(o[u]);n=!1},d:function(a){jo(o,a),a&&me(e)}}}function LK(t,e,n){var r,o,i,s=e.path,a=e.value,u=e.context,l=e.enforceString,f=e.selection,c=e.searchResult;return t.$$set=function(d){"path"in d&&n(1,s=d.path),"value"in d&&n(2,a=d.value),"context"in d&&n(3,u=d.context),"enforceString"in d&&n(4,l=d.enforceString),"selection"in d&&n(5,f=d.selection),"searchResult"in d&&n(6,c=d.searchResult)},t.$$.update=function(){34&t.$$.dirty&&n(8,r=!(!f||f.type!==mt)&&Sn(f.focusPath,s)),296&t.$$.dirty&&n(7,o=!u.readOnly&&r&&f&&f.edit===!0),510&t.$$.dirty&&n(0,i=u.onRenderValue({path:s,value:a,readOnly:u.readOnly,enforceString:l,isSelected:r,isEditing:o,normalization:u.normalization,selection:f,searchResult:c,onPatch:u.onPatch,onPasteJson:u.onPasteJson,onSelect:u.onSelect,onFind:u.onFind}))},[i,s,a,u,l,f,c,o,r]}var RK=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,LK,NK,an,{path:1,value:2,context:3,enforceString:4,selection:5,searchResult:6}),o}return ae(n)}(),Ir={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function DK(t){zt(t,"svelte-r4omvg",".jse-tooltip.svelte-r4omvg{font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);border-radius:3px;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);white-space:nowrap;box-shadow:var(--jse-controls-box-shadow)}")}function BK(t){var e,n;return{c:function(){e=re("div"),n=nt(t[0]),E(e,"class","jse-tooltip svelte-r4omvg")},m:function(r,o){ye(r,e,o),U(e,n)},p:function(r,o){1&At(o,1)[0]&&en(n,r[0])},i:Ge,o:Ge,d:function(r){r&&me(e)}}}function zK(t,e,n){var r=e.text;return t.$$set=function(o){"text"in o&&n(0,r=o.text)},[r]}var FK=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,zK,BK,xr,{text:0},DK),o}return ae(n)}();function aI(t,e){var n=e.text,r=e.openAbsolutePopup,o=e.closeAbsolutePopup;function i(){r(FK,{text:n},{position:"top",width:10*n.length,offsetTop:3,anchor:t,closeOnOuterClick:!0})}function s(){o()}return t.addEventListener("mouseover",i),t.addEventListener("mouseout",s),{destroy:function(){t.removeEventListener("mouseover",i),t.removeEventListener("mouseout",s)}}}function qK(t){zt(t,"svelte-1ki5r8b","button.jse-validation-error.svelte-1ki5r8b{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;color:var(--jse-message-warning-background);padding:0 5px;margin:0;font-size:var(--jse-font-size-mono);height:var(--jse-line-height);overflow:hidden}")}function VK(t){var e,n,r,o,i,s;return n=new Ut({props:{data:Cl}}),{c:function(){e=re("button"),Le(n.$$.fragment),E(e,"type","button"),E(e,"class","jse-validation-error svelte-1ki5r8b")},m:function(a,u){ye(a,e,u),Me(n,e,null),o=!0,i||(s=[Fe(e,"click",function(){yi(t[0])&&t[0].apply(this,arguments)}),Jc(r=aI.call(null,e,lt({text:t[1]},t[2])))],i=!0)},p:function(a,u){var l=At(u,1)[0];t=a,r&&yi(r.update)&&2&l&&r.update.call(null,lt({text:t[1]},t[2]))},i:function(a){o||(J(n.$$.fragment,a),o=!0)},o:function(a){te(n.$$.fragment,a),o=!1},d:function(a){a&&me(e),Ie(n),i=!1,Kn(s)}}}function HK(t,e,n){var r,o=wo("absolute-popup"),i=e.validationError,s=e.onExpand;return t.$$set=function(a){"validationError"in a&&n(3,i=a.validationError),"onExpand"in a&&n(0,s=a.onExpand)},t.$$.update=function(){8&t.$$.dirty&&n(1,r=i.isChildError?"Contains invalid data":i.message)},[s,r,o,i]}var _1=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,HK,VK,xr,{validationError:3,onExpand:0},qK),o}return ae(n)}();function y3(t){var e=t.fullJson,n=t.fullState,r=t.fullSelection,o=t.deltaY,i=t.items,s=o<0?function(p){for(var v=p.items,g=p.fullSelection,m=p.deltaY,y=cv(g),b=v.findIndex(function(_){return Sn(_.path,y)}),w=function(){var _;return(_=v[k-1])===null||_===void 0?void 0:_.height},k=b,$=0;w()!==void 0&&Math.abs(m)>$+w()/2;)$+=w(),k-=1;var A=v[k].path,P=k-b;return k!==b&&v[k]!==void 0?{beforePath:A,indexOffset:P}:void 0}({fullSelection:r,deltaY:o,items:i}):function(p){for(var v,g=p.items,m=p.fullSelection,y=p.deltaY,b=U_(m),w=g.findIndex(function(C){return Sn(C.path,b)}),k=function(){var C;return(C=g[A+1])===null||C===void 0?void 0:C.height},$=0,A=w;k()!==void 0&&Math.abs(y)>$+k()/2;)$+=k(),A+=1;var P=typeof ht(b)=="number",_=(v=g[P?A:A+1])===null||v===void 0?void 0:v.path,T=A-w;return _?{beforePath:_,indexOffset:T}:{append:!0,indexOffset:T}}({fullSelection:r,deltaY:o,items:i});if(!s||s.indexOffset===0)return{operations:void 0,updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:0};var a=function(p,v,g,m){var y=m.beforePath,b=m.append,w=Gt(g.focusPath),k=Se.exports.getIn(p,w);if(b||y&&Ac(y,w)&&y.length>w.length){var $=g.paths?hr(g.paths):g.focusPath,A=g.paths?ht(g.paths):g.focusPath,P=ht($),_=ht(A),T=y?y[w.length]:void 0;if(!yr(k)){var C=P,R=T;return Dy(_-C+1,R<C?function(F){return{op:"move",from:Se.exports.compileJSONPointer(w.concat(C+F)),path:Se.exports.compileJSONPointer(w.concat(R+F))}}:function(){return{op:"move",from:Se.exports.compileJSONPointer(w.concat(C)),path:Se.exports.compileJSONPointer(w.concat(R))}})}var S=Se.exports.getIn(v,w.concat(oi)),j=S.indexOf(P),q=S.indexOf(_),Y=b?S.length:S.indexOf(T);if(j!==-1&&q!==-1&&Y!==-1)return Y>j?[].concat(Qt(S.slice(j,q+1)),Qt(S.slice(Y,S.length))).map(function(F){return tl(w,F)}):[].concat(Qt(S.slice(Y,j)),Qt(S.slice(q+1,S.length))).map(function(F){return tl(w,F)})}}(e,n,r,s),u=jP(e,n,a),l=Gt(cv(r)),f=Se.exports.getIn(e,l);if(Array.isArray(f)){var c=function(p){var v,g,m=p.items,y=p.fullJson,b=p.fullState,w=p.fullSelection,k=p.indexOffset,$=cv(w),A=U_(w),P=m.findIndex(function(R){return Sn(R.path,$)}),_=m.findIndex(function(R){return Sn(R.path,A)}),T=(v=m[P+k])===null||v===void 0?void 0:v.path,C=(g=m[_+k])===null||g===void 0?void 0:g.path;return nn(y,b,{type:Et,anchorPath:T,focusPath:C})}({items:i,fullJson:e,fullState:n,fullSelection:r,indexOffset:s.indexOffset}),d=$P(e,c),h=Se.exports.getIn(d,l);return{operations:a,updatedValue:Se.exports.getIn(u.json,l),updatedState:Se.exports.getIn(u.state,l),updatedSelection:h,updatedFullSelection:c,indexOffset:s.indexOffset}}return{operations:a,updatedValue:Se.exports.getIn(u.json,l),updatedState:Se.exports.getIn(u.state,l),updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:s.indexOffset}}function WK(t){zt(t,"svelte-uj4yd7",".jse-json-node.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative;color:var(--jse-text-color)}.jse-json-node.jse-root.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7 .jse-context-menu-button,.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7 .jse-context-menu-button{top:0;right:calc(-2px - var(--jse-context-menu-button-size))}.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7.svelte-uj4yd7{padding-left:0}.jse-json-node.jse-hovered.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-hover-background-color)}.jse-json-node.svelte-uj4yd7 .jse-props.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-items.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-footer-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header .jse-meta.svelte-uj4yd7>.jse-meta-inner.svelte-uj4yd7.svelte-uj4yd7{display:flex;justify-content:center}.jse-json-node.svelte-uj4yd7 .jse-contents-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;flex-direction:row}.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-left:var(--jse-indent-size)}.jse-json-node.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;padding-left:calc(var(--jse-indent-size) + 5px)}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding));flex:1}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-inside.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;align-items:center}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-after.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;align-items:flex-end}.jse-json-node.svelte-uj4yd7:hover>.jse-contents-outer .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7:hover>.jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-footer-outer:hover .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected){visibility:visible;z-index:1}.jse-json-node.svelte-uj4yd7 .jse-context-menu-button-anchor.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;position:relative;max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding));outline:1px solid}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7 .jse-context-menu-button{right:-1px;background:var(--jse-selection-background-color)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-hovered.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{outline-color:var(--jse-selection-background-color)}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color) !important;cursor:grab}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-color) !important}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-context-menu-button-background-highlight)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color) !important;cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-light-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-light-color) !important}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-selection-background-color)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{width:var(--jse-indent-size);padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color);font-size:var(--jse-font-size-mono);height:var(--jse-line-height)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-separator.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;color:var(--jse-delimiter-color)}.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 calc(0.5 * var(--jse-padding))}.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 2px}.jse-bracket.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-right:var(--jse-padding)}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{border:none;font-size:80%;font-family:var(--jse-font-family);color:var(--jse-tag-color);background:var(--jse-tag-background);border-radius:2px;cursor:pointer;position:relative;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{opacity:0.7;cursor:inherit}.jse-identifier.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;position:relative}")}var UK=function(t){return{}},b3=function(t){return{}};function w3(t,e,n){var r=t.slice();return r[57]=e[n],r}var JK=function(t){return{}},k3=function(t){return{}};function x3(t,e,n){var r=t.slice();return r[51]=e[n],r[53]=n,r}function j3(t,e,n){var r=t.slice();return r[54]=e[n],r[56]=n,r}var KK=function(t){return{}},_3=function(t){return{}};function GK(t){var e,n,r,o,i,s,a,u,l,f=!t[4].readOnly&&t[7]&&(t[7].type===mt||t[7].type===Et)&&!t[7].edit&&Sn(t[7].focusPath,t[1]),c=t[39].identifier,d=_i(c,t,t[40],b3),h=!t[10]&&S3();i=new RK({props:{path:t[1],value:t[0],enforceString:t[5]?t[5][Po]:void 0,selection:t[7],searchResult:t[2]?t[2][jc]:void 0,context:t[4]}});var p=f&&C3(t),v=t[15]&&$3(t),g=!t[10]&&O3(t);return{c:function(){e=re("div"),n=re("div"),d&&d.c(),r=Ae(),h&&h.c(),o=Ae(),Le(i.$$.fragment),s=Ae(),p&&p.c(),a=Ae(),v&&v.c(),u=Ae(),g&&g.c(),E(n,"class","jse-contents svelte-uj4yd7"),E(e,"class","jse-contents-outer svelte-uj4yd7"),E(e,"style",t[13])},m:function(m,y){ye(m,e,y),U(e,n),d&&d.m(n,null),U(n,r),h&&h.m(n,null),U(n,o),Me(i,n,null),U(n,s),p&&p.m(n,null),U(e,a),v&&v.m(e,null),U(e,u),g&&g.m(e,null),l=!0},p:function(m,y){d&&d.p&&(!l||512&y[1])&&Ci(d,c,m,m[40],l?Si(c,m[40],y,UK):$i(m[40]),b3),m[10]?h&&(h.d(1),h=null):h||((h=S3()).c(),h.m(n,o));var b={};2&y[0]&&(b.path=m[1]),1&y[0]&&(b.value=m[0]),32&y[0]&&(b.enforceString=m[5]?m[5][Po]:void 0),128&y[0]&&(b.selection=m[7]),4&y[0]&&(b.searchResult=m[2]?m[2][jc]:void 0),16&y[0]&&(b.context=m[4]),i.$set(b),146&y[0]&&(f=!m[4].readOnly&&m[7]&&(m[7].type===mt||m[7].type===Et)&&!m[7].edit&&Sn(m[7].focusPath,m[1])),f?p?(p.p(m,y),146&y[0]&&J(p,1)):((p=C3(m)).c(),J(p,1),p.m(n,null)):p&&(Ue(),te(p,1,1,function(){p=null}),Je()),m[15]?v?(v.p(m,y),32768&y[0]&&J(v,1)):((v=$3(m)).c(),J(v,1),v.m(e,u)):v&&(Ue(),te(v,1,1,function(){v=null}),Je()),m[10]?g&&(g.d(1),g=null):g?g.p(m,y):((g=O3(m)).c(),g.m(e,null)),(!l||8192&y[0])&&E(e,"style",m[13])},i:function(m){l||(J(d,m),J(i.$$.fragment,m),J(p),J(v),l=!0)},o:function(m){te(d,m),te(i.$$.fragment,m),te(p),te(v),l=!1},d:function(m){m&&me(e),d&&d.d(m),h&&h.d(),Ie(i),p&&p.d(),v&&v.d(),g&&g.d()}}}function QK(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b=!t[4].readOnly&&t[7]&&(t[7].type===mt||t[7].type===Et)&&!t[7].edit&&Sn(t[7].focusPath,t[1]),w=[ZK,XK],k=[];function $(D,I){return D[12]?0:1}o=$(t),i=k[o]=w[o](t);var A=t[39].identifier,P=_i(A,t,t[40],k3),_=!t[10]&&A3();function T(D,I){return D[12]?tG:eG}var C=T(t),R=C(t),S=b&&E3(t),j=t[15]&&(!t[12]||!t[15].isChildError)&&P3(t);function q(D,I){return D[12]?rG:D[10]?void 0:nG}var Y=q(t),F=Y&&Y(t),K=t[12]&&T3(t);return{c:function(){e=re("div"),n=re("div"),r=re("button"),i.c(),s=Ae(),P&&P.c(),a=Ae(),_&&_.c(),u=Ae(),l=re("div"),f=re("div"),R.c(),c=Ae(),S&&S.c(),d=Ae(),j&&j.c(),h=Ae(),F&&F.c(),p=Ae(),K&&K.c(),v=dn(),E(r,"type","button"),E(r,"class","jse-expand svelte-uj4yd7"),E(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),E(f,"class","jse-meta-inner svelte-uj4yd7"),E(l,"class","jse-meta svelte-uj4yd7"),E(l,"data-type","selectable-value"),E(n,"class","jse-header svelte-uj4yd7"),E(e,"class","jse-header-outer svelte-uj4yd7"),E(e,"style",t[13])},m:function(D,I){ye(D,e,I),U(e,n),U(n,r),k[o].m(r,null),U(n,s),P&&P.m(n,null),U(n,a),_&&_.m(n,null),U(n,u),U(n,l),U(l,f),R.m(f,null),U(n,c),S&&S.m(n,null),U(e,d),j&&j.m(e,null),U(e,h),F&&F.m(e,null),ye(D,p,I),K&&K.m(D,I),ye(D,v,I),g=!0,m||(y=Fe(r,"click",t[23]),m=!0)},p:function(D,I){var W=o;(o=$(D))===W?k[o].p(D,I):(Ue(),te(k[W],1,1,function(){k[W]=null}),Je(),(i=k[o])?i.p(D,I):(i=k[o]=w[o](D)).c(),J(i,1),i.m(r,null)),P&&P.p&&(!g||512&I[1])&&Ci(P,A,D,D[40],g?Si(A,D[40],I,JK):$i(D[40]),k3),D[10]?_&&(_.d(1),_=null):_||((_=A3()).c(),_.m(n,u)),C===(C=T(D))&&R?R.p(D,I):(R.d(1),(R=C(D))&&(R.c(),R.m(f,null))),146&I[0]&&(b=!D[4].readOnly&&D[7]&&(D[7].type===mt||D[7].type===Et)&&!D[7].edit&&Sn(D[7].focusPath,D[1])),b?S?(S.p(D,I),146&I[0]&&J(S,1)):((S=E3(D)).c(),J(S,1),S.m(n,null)):S&&(Ue(),te(S,1,1,function(){S=null}),Je()),!D[15]||D[12]&&D[15].isChildError?j&&(Ue(),te(j,1,1,function(){j=null}),Je()):j?(j.p(D,I),36864&I[0]&&J(j,1)):((j=P3(D)).c(),J(j,1),j.m(e,h)),Y===(Y=q(D))&&F?F.p(D,I):(F&&F.d(1),(F=Y&&Y(D))&&(F.c(),F.m(e,null))),(!g||8192&I[0])&&E(e,"style",D[13]),D[12]?K?(K.p(D,I),4096&I[0]&&J(K,1)):((K=T3(D)).c(),J(K,1),K.m(v.parentNode,v)):K&&(Ue(),te(K,1,1,function(){K=null}),Je())},i:function(D){g||(J(i),J(P,D),J(S),J(j),J(K),g=!0)},o:function(D){te(i),te(P,D),te(S),te(j),te(K),g=!1},d:function(D){D&&me(e),k[o].d(),P&&P.d(D),_&&_.d(),R.d(),S&&S.d(),j&&j.d(),F&&F.d(),D&&me(p),K&&K.d(D),D&&me(v),m=!1,y()}}}function YK(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b=!t[4].readOnly&&t[7]&&(t[7].type===mt||t[7].type===Et)&&!t[7].edit&&Sn(t[7].focusPath,t[1]),w=[sG,iG],k=[];function $(D,I){return D[12]?0:1}o=$(t),i=k[o]=w[o](t);var A=t[39].identifier,P=_i(A,t,t[40],_3),_=!t[10]&&R3();function T(D,I){return D[12]?uG:aG}var C=T(t),R=C(t),S=b&&D3(t),j=t[15]&&(!t[12]||!t[15].isChildError)&&B3(t);function q(D,I){return D[12]?cG:lG}var Y=q(t),F=Y(t),K=t[12]&&z3(t);return{c:function(){e=re("div"),n=re("div"),r=re("button"),i.c(),s=Ae(),P&&P.c(),a=Ae(),_&&_.c(),u=Ae(),l=re("div"),f=re("div"),R.c(),c=Ae(),S&&S.c(),d=Ae(),j&&j.c(),h=Ae(),F.c(),p=Ae(),K&&K.c(),v=dn(),E(r,"type","button"),E(r,"class","jse-expand svelte-uj4yd7"),E(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),E(f,"class","jse-meta-inner svelte-uj4yd7"),E(f,"data-type","selectable-value"),E(l,"class","jse-meta svelte-uj4yd7"),E(n,"class","jse-header svelte-uj4yd7"),E(e,"class","jse-header-outer svelte-uj4yd7"),E(e,"style",t[13])},m:function(D,I){ye(D,e,I),U(e,n),U(n,r),k[o].m(r,null),U(n,s),P&&P.m(n,null),U(n,a),_&&_.m(n,null),U(n,u),U(n,l),U(l,f),R.m(f,null),U(n,c),S&&S.m(n,null),U(e,d),j&&j.m(e,null),U(e,h),F.m(e,null),ye(D,p,I),K&&K.m(D,I),ye(D,v,I),g=!0,m||(y=Fe(r,"click",t[23]),m=!0)},p:function(D,I){var W=o;(o=$(D))===W?k[o].p(D,I):(Ue(),te(k[W],1,1,function(){k[W]=null}),Je(),(i=k[o])?i.p(D,I):(i=k[o]=w[o](D)).c(),J(i,1),i.m(r,null)),P&&P.p&&(!g||512&I[1])&&Ci(P,A,D,D[40],g?Si(A,D[40],I,KK):$i(D[40]),_3),D[10]?_&&(_.d(1),_=null):_||((_=R3()).c(),_.m(n,u)),C===(C=T(D))&&R?R.p(D,I):(R.d(1),(R=C(D))&&(R.c(),R.m(f,null))),146&I[0]&&(b=!D[4].readOnly&&D[7]&&(D[7].type===mt||D[7].type===Et)&&!D[7].edit&&Sn(D[7].focusPath,D[1])),b?S?(S.p(D,I),146&I[0]&&J(S,1)):((S=D3(D)).c(),J(S,1),S.m(n,null)):S&&(Ue(),te(S,1,1,function(){S=null}),Je()),!D[15]||D[12]&&D[15].isChildError?j&&(Ue(),te(j,1,1,function(){j=null}),Je()):j?(j.p(D,I),36864&I[0]&&J(j,1)):((j=B3(D)).c(),J(j,1),j.m(e,h)),Y===(Y=q(D))&&F?F.p(D,I):(F.d(1),(F=Y(D))&&(F.c(),F.m(e,null))),(!g||8192&I[0])&&E(e,"style",D[13]),D[12]?K?(K.p(D,I),4096&I[0]&&J(K,1)):((K=z3(D)).c(),J(K,1),K.m(v.parentNode,v)):K&&(Ue(),te(K,1,1,function(){K=null}),Je())},i:function(D){g||(J(i),J(P,D),J(S),J(j),J(K),g=!0)},o:function(D){te(i),te(P,D),te(S),te(j),te(K),g=!1},d:function(D){D&&me(e),k[o].d(),P&&P.d(D),_&&_.d(),R.d(),S&&S.d(),j&&j.d(),F.d(),D&&me(p),K&&K.d(D),D&&me(v),m=!1,y()}}}function S3(t){var e;return{c:function(){(e=re("div")).textContent=":",E(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function C3(t){var e,n,r;return n=new vu({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(o,i){ye(o,e,i),Me(n,e,null),r=!0},p:function(o,i){var s={};16&i[0]&&(s.onContextMenu=o[4].onContextMenu),n.$set(s)},i:function(o){r||(J(n.$$.fragment,o),r=!0)},o:function(o){te(n.$$.fragment,o),r=!1},d:function(o){o&&me(e),Ie(n)}}}function $3(t){var e,n;return e=new _1({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function O3(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[32]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function XK(t){var e,n;return e=new Ut({props:{data:Ys}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function ZK(t){var e,n;return e=new Ut({props:{data:Wi}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function A3(t){var e;return{c:function(){(e=re("div")).textContent=":",E(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function eG(t){var e,n,r,o,i,s,a,u,l,f,c=Object.keys(t[6]).length+"",d=Object.keys(t[6]).length===1?"prop":"props";return{c:function(){(e=re("div")).textContent="{",n=Ae(),r=re("button"),o=nt(c),i=Ae(),s=nt(d),a=Ae(),(u=re("div")).textContent="}",E(e,"class","jse-bracket svelte-uj4yd7"),E(r,"type","button"),E(r,"class","jse-tag svelte-uj4yd7"),E(u,"class","jse-bracket svelte-uj4yd7")},m:function(h,p){ye(h,e,p),ye(h,n,p),ye(h,r,p),U(r,o),U(r,i),U(r,s),ye(h,a,p),ye(h,u,p),l||(f=Fe(r,"click",t[24]),l=!0)},p:function(h,p){64&p[0]&&c!==(c=Object.keys(h[6]).length+"")&&en(o,c),64&p[0]&&d!==(d=Object.keys(h[6]).length===1?"prop":"props")&&en(s,d)},d:function(h){h&&me(e),h&&me(n),h&&me(r),h&&me(a),h&&me(u),l=!1,f()}}}function tG(t){var e;return{c:function(){(e=re("div")).textContent="{",E(e,"class","jse-bracket jse-expanded svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},p:Ge,d:function(n){n&&me(e)}}}function E3(t){var e,n,r;return n=new vu({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(o,i){ye(o,e,i),Me(n,e,null),r=!0},p:function(o,i){var s={};16&i[0]&&(s.onContextMenu=o[4].onContextMenu),n.$set(s)},i:function(o){r||(J(n.$$.fragment,o),r=!0)},o:function(o){te(n.$$.fragment,o),r=!1},d:function(o){o&&me(e),Ie(n)}}}function P3(t){var e,n;return e=new _1({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function nG(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[32]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function rG(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),E(e,"data-type","insert-selection-area-inside")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[31]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function T3(t){for(var e,n,r,o,i,s,a,u=[],l=new Map,f=!t[4].readOnly&&(t[9]==="hover-insert-inside"||t[19])&&M3(t),c=t[11],d=function(m){return m[5][m[57]][ks]},h=0;h<c.length;h+=1){var p=w3(t,c,h),v=d(p);l.set(v,u[h]=N3(v,p))}var g=!t[10]&&L3(t);return{c:function(){e=re("div"),f&&f.c(),n=Ae();for(var m=0;m<u.length;m+=1)u[m].c();r=Ae(),o=re("div"),(i=re("div")).innerHTML='<div class="jse-bracket svelte-uj4yd7">}</div>',s=Ae(),g&&g.c(),E(e,"class","jse-props svelte-uj4yd7"),E(i,"data-type","selectable-value"),E(i,"class","jse-footer svelte-uj4yd7"),E(o,"class","jse-footer-outer svelte-uj4yd7"),E(o,"style",t[13])},m:function(m,y){ye(m,e,y),f&&f.m(e,null),U(e,n);for(var b=0;b<u.length;b+=1)u[b].m(e,null);ye(m,r,y),ye(m,o,y),U(o,i),U(o,s),g&&g.m(o,null),a=!0},p:function(m,y){m[4].readOnly||m[9]!=="hover-insert-inside"&&!m[19]?f&&(Ue(),te(f,1,1,function(){f=null}),Je()):f?(f.p(m,y),524816&y[0]&&J(f,1)):((f=M3(m)).c(),J(f,1),f.m(e,n)),306186622&y[0]&&(c=m[11],Ue(),u=hl(u,y,d,1,m,c,l,e,Kc,N3,null,w3),Je()),m[10]?g&&(g.d(1),g=null):g?g.p(m,y):((g=L3(m)).c(),g.m(o,null)),(!a||8192&y[0])&&E(o,"style",m[13])},i:function(m){if(!a){J(f);for(var y=0;y<c.length;y+=1)J(u[y]);a=!0}},o:function(m){te(f);for(var y=0;y<u.length;y+=1)te(u[y]);a=!1},d:function(m){m&&me(e),f&&f.d();for(var y=0;y<u.length;y+=1)u[y].d();m&&me(r),m&&me(o),g&&g.d()}}}function M3(t){var e,n,r,o;return n=new vu({props:{selected:t[19],onContextMenu:t[33]}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-insert-area jse-inside svelte-uj4yd7"),E(e,"data-type","insert-selection-area-inside"),E(e,"style",r=qc(t[1].length+1)),E(e,"title",$0),Ze(e,"jse-hovered",t[9]==="hover-insert-inside"),Ze(e,"jse-selected",t[19])},m:function(i,s){ye(i,e,s),Me(n,e,null),o=!0},p:function(i,s){var a={};524288&s[0]&&(a.selected=i[19]),n.$set(a),(!o||2&s[0]&&r!==(r=qc(i[1].length+1)))&&E(e,"style",r),512&s[0]&&Ze(e,"jse-hovered",i[9]==="hover-insert-inside"),524288&s[0]&&Ze(e,"jse-selected",i[19])},i:function(i){o||(J(n.$$.fragment,i),o=!0)},o:function(i){te(n.$$.fragment,i),o=!1},d:function(i){i&&me(e),Ie(n)}}}function I3(t){var e,n;return e=new vu({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};16&o[0]&&(i.onContextMenu=r[4].onContextMenu),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function oG(t){var e,n,r,o,i,s,a,u,l,f=!t[4].readOnly&&Y_(t[1],t[57],t[8]);s=new IK({props:{path:t[22](t[1].concat(t[57])),key:t[57],context:t[4],selection:(e=t[8])===null||e===void 0||(n=e[t[57]])===null||n===void 0?void 0:n[_c],searchResult:(r=t[2])===null||r===void 0||(o=r[t[57]])===null||o===void 0?void 0:o[Wu],onUpdateKey:t[25]}});var c=f&&I3(t);return{c:function(){i=re("div"),Le(s.$$.fragment),a=Ae(),c&&c.c(),u=Ae(),E(i,"slot","identifier"),E(i,"class","jse-identifier svelte-uj4yd7")},m:function(d,h){ye(d,i,h),Me(s,i,null),U(i,a),c&&c.m(i,null),U(i,u),l=!0},p:function(d,h){var p,v,g,m,y={};2050&h[0]&&(y.path=d[22](d[1].concat(d[57]))),2048&h[0]&&(y.key=d[57]),16&h[0]&&(y.context=d[4]),2304&h[0]&&(y.selection=(p=d[8])===null||p===void 0||(v=p[d[57]])===null||v===void 0?void 0:v[_c]),2052&h[0]&&(y.searchResult=(g=d[2])===null||g===void 0||(m=g[d[57]])===null||m===void 0?void 0:m[Wu]),s.$set(y),2322&h[0]&&(f=!d[4].readOnly&&Y_(d[1],d[57],d[8])),f?c?(c.p(d,h),2322&h[0]&&J(c,1)):((c=I3(d)).c(),J(c,1),c.m(i,u)):c&&(Ue(),te(c,1,1,function(){c=null}),Je())},i:function(d){l||(J(s.$$.fragment,d),J(c),l=!0)},o:function(d){te(s.$$.fragment,d),te(c),l=!1},d:function(d){d&&me(i),Ie(s),c&&c.d()}}}function N3(t,e){var n,r,o;return r=new S1({props:{value:e[6][e[57]],path:e[22](e[1].concat(e[57])),state:e[5][e[57]],selection:e[8]?e[8][e[57]]:void 0,searchResult:e[2]?e[2][e[57]]:void 0,validationErrors:e[3]?e[3][e[57]]:void 0,context:e[4],onDragSelectionStart:e[28],$$slots:{identifier:[oG]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=dn(),Le(r.$$.fragment),this.first=n},m:function(i,s){ye(i,n,s),Me(r,i,s),o=!0},p:function(i,s){e=i;var a={};2112&s[0]&&(a.value=e[6][e[57]]),2050&s[0]&&(a.path=e[22](e[1].concat(e[57]))),2080&s[0]&&(a.state=e[5][e[57]]),2304&s[0]&&(a.selection=e[8]?e[8][e[57]]:void 0),2052&s[0]&&(a.searchResult=e[2]?e[2][e[57]]:void 0),2056&s[0]&&(a.validationErrors=e[3]?e[3][e[57]]:void 0),16&s[0]&&(a.context=e[4]),2326&s[0]|512&s[1]&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i:function(i){o||(J(r.$$.fragment,i),o=!0)},o:function(i){te(r.$$.fragment,i),o=!1},d:function(i){i&&me(n),Ie(r,i)}}}function L3(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[32]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function iG(t){var e,n;return e=new Ut({props:{data:Ys}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function sG(t){var e,n;return e=new Ut({props:{data:Wi}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function R3(t){var e;return{c:function(){(e=re("div")).textContent=":",E(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function aG(t){var e,n,r,o,i,s,a,u,l,f,c=t[6].length+"",d=t[6].length===1?"item":"items";return{c:function(){(e=re("div")).textContent="[",n=Ae(),r=re("button"),o=nt(c),i=Ae(),s=nt(d),a=Ae(),(u=re("div")).textContent="]",E(e,"class","jse-bracket svelte-uj4yd7"),E(r,"type","button"),E(r,"class","jse-tag svelte-uj4yd7"),E(u,"class","jse-bracket svelte-uj4yd7")},m:function(h,p){ye(h,e,p),ye(h,n,p),ye(h,r,p),U(r,o),U(r,i),U(r,s),ye(h,a,p),ye(h,u,p),l||(f=Fe(r,"click",t[24]),l=!0)},p:function(h,p){64&p[0]&&c!==(c=h[6].length+"")&&en(o,c),64&p[0]&&d!==(d=h[6].length===1?"item":"items")&&en(s,d)},d:function(h){h&&me(e),h&&me(n),h&&me(r),h&&me(a),h&&me(u),l=!1,f()}}}function uG(t){var e,n,r,o,i,s,a=t[6].length+"",u=t[6].length===1?"item":"items";return{c:function(){(e=re("div")).textContent="[",n=Ae(),r=re("span"),o=nt(a),i=Ae(),s=nt(u),E(e,"class","jse-bracket svelte-uj4yd7"),E(r,"class","jse-tag jse-expanded svelte-uj4yd7")},m:function(l,f){ye(l,e,f),ye(l,n,f),ye(l,r,f),U(r,o),U(r,i),U(r,s)},p:function(l,f){64&f[0]&&a!==(a=l[6].length+"")&&en(o,a),64&f[0]&&u!==(u=l[6].length===1?"item":"items")&&en(s,u)},d:function(l){l&&me(e),l&&me(n),l&&me(r)}}}function D3(t){var e,n,r;return n=new vu({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(o,i){ye(o,e,i),Me(n,e,null),r=!0},p:function(o,i){var s={};16&i[0]&&(s.onContextMenu=o[4].onContextMenu),n.$set(s)},i:function(o){r||(J(n.$$.fragment,o),r=!0)},o:function(o){te(n.$$.fragment,o),r=!1},d:function(o){o&&me(e),Ie(n)}}}function B3(t){var e,n;return e=new _1({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.validationError=r[15]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function lG(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[32]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function cG(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),E(e,"data-type","insert-selection-area-inside")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[31]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function z3(t){for(var e,n,r,o,i,s,a,u=[],l=new Map,f=!t[4].readOnly&&(t[9]==="hover-insert-inside"||t[19])&&F3(t),c=t[16],d=function(m){return m[53]},h=0;h<c.length;h+=1){var p=x3(t,c,h),v=d(p);l.set(v,u[h]=H3(v,p))}var g=!t[10]&&W3(t);return{c:function(){e=re("div"),f&&f.c(),n=Ae();for(var m=0;m<u.length;m+=1)u[m].c();r=Ae(),o=re("div"),(i=re("div")).innerHTML='<span class="jse-bracket svelte-uj4yd7">]</span>',s=Ae(),g&&g.c(),E(e,"class","jse-items svelte-uj4yd7"),E(i,"data-type","selectable-value"),E(i,"class","jse-footer svelte-uj4yd7"),E(o,"class","jse-footer-outer svelte-uj4yd7"),E(o,"style",t[13])},m:function(m,y){ye(m,e,y),f&&f.m(e,null),U(e,n);for(var b=0;b<u.length;b+=1)u[b].m(e,null);ye(m,r,y),ye(m,o,y),U(o,i),U(o,s),g&&g.m(o,null),a=!0},p:function(m,y){m[4].readOnly||m[9]!=="hover-insert-inside"&&!m[19]?f&&(Ue(),te(f,1,1,function(){f=null}),Je()):f?(f.p(m,y),524816&y[0]&&J(f,1)):((f=F3(m)).c(),J(f,1),f.m(e,n)),272695806&y[0]&&(c=m[16],Ue(),u=hl(u,y,d,1,m,c,l,e,Kc,H3,null,x3),Je()),m[10]?g&&(g.d(1),g=null):g?g.p(m,y):((g=W3(m)).c(),g.m(o,null)),(!a||8192&y[0])&&E(o,"style",m[13])},i:function(m){if(!a){J(f);for(var y=0;y<c.length;y+=1)J(u[y]);a=!0}},o:function(m){te(f);for(var y=0;y<u.length;y+=1)te(u[y]);a=!1},d:function(m){m&&me(e),f&&f.d();for(var y=0;y<u.length;y+=1)u[y].d();m&&me(r),m&&me(o),g&&g.d()}}}function F3(t){var e,n,r,o;return n=new vu({props:{selected:t[19],onContextMenu:t[33]}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-insert-area jse-inside svelte-uj4yd7"),E(e,"data-type","insert-selection-area-inside"),E(e,"style",r=qc(t[1].length+1)),E(e,"title",$0),Ze(e,"jse-hovered",t[9]==="hover-insert-inside"),Ze(e,"jse-selected",t[19])},m:function(i,s){ye(i,e,s),Me(n,e,null),o=!0},p:function(i,s){var a={};524288&s[0]&&(a.selected=i[19]),n.$set(a),(!o||2&s[0]&&r!==(r=qc(i[1].length+1)))&&E(e,"style",r),512&s[0]&&Ze(e,"jse-hovered",i[9]==="hover-insert-inside"),524288&s[0]&&Ze(e,"jse-selected",i[19])},i:function(i){o||(J(n.$$.fragment,i),o=!0)},o:function(i){te(n.$$.fragment,i),o=!1},d:function(i){i&&me(e),Ie(n)}}}function fG(t){var e,n,r,o=t[51].start+t[56]+"";return{c:function(){e=re("div"),n=re("div"),r=nt(o),E(n,"class","jse-index svelte-uj4yd7"),E(e,"slot","identifier"),E(e,"class","jse-identifier svelte-uj4yd7")},m:function(i,s){ye(i,e,s),U(e,n),U(n,r)},p:function(i,s){65600&s[0]&&o!==(o=i[51].start+i[56]+"")&&en(r,o)},d:function(i){i&&me(e)}}}function q3(t,e){var n,r,o;return r=new S1({props:{value:e[54],path:e[22](e[1].concat(e[51].start+e[56])),state:e[5][e[51].start+e[56]],selection:e[8]?e[8][e[51].start+e[56]]:void 0,searchResult:e[2]?e[2][e[51].start+e[56]]:void 0,validationErrors:e[3]?e[3][e[51].start+e[56]]:void 0,context:e[4],onDragSelectionStart:e[28],$$slots:{identifier:[fG]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=dn(),Le(r.$$.fragment),this.first=n},m:function(i,s){ye(i,n,s),Me(r,i,s),o=!0},p:function(i,s){e=i;var a={};65600&s[0]&&(a.value=e[54]),65602&s[0]&&(a.path=e[22](e[1].concat(e[51].start+e[56]))),65632&s[0]&&(a.state=e[5][e[51].start+e[56]]),65856&s[0]&&(a.selection=e[8]?e[8][e[51].start+e[56]]:void 0),65604&s[0]&&(a.searchResult=e[2]?e[2][e[51].start+e[56]]:void 0),65608&s[0]&&(a.validationErrors=e[3]?e[3][e[51].start+e[56]]:void 0),16&s[0]&&(a.context=e[4]),65600&s[0]|512&s[1]&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i:function(i){o||(J(r.$$.fragment,i),o=!0)},o:function(i){te(r.$$.fragment,i),o=!1},d:function(i){i&&me(n),Ie(r,i)}}}function V3(t){var e,n;return e=new vK({props:{visibleSections:t[16],sectionIndex:t[53],total:t[6].length,path:t[1],onExpandSection:t[4].onExpandSection,selection:t[7]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};65536&o[0]&&(i.visibleSections=r[16]),65536&o[0]&&(i.sectionIndex=r[53]),64&o[0]&&(i.total=r[6].length),2&o[0]&&(i.path=r[1]),16&o[0]&&(i.onExpandSection=r[4].onExpandSection),128&o[0]&&(i.selection=r[7]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function H3(t,e){for(var n,r,o,i,s=[],a=new Map,u=e[6].slice(e[51].start,Math.min(e[51].end,e[6].length)),l=function(p){return p[56]},f=0;f<u.length;f+=1){var c=j3(e,u,f),d=l(c);a.set(d,s[f]=q3(d,c))}var h=e[51].end<e[6].length&&V3(e);return{key:t,first:null,c:function(){n=dn();for(var p=0;p<s.length;p+=1)s[p].c();r=Ae(),h&&h.c(),o=dn(),this.first=n},m:function(p,v){ye(p,n,v);for(var g=0;g<s.length;g+=1)s[g].m(p,v);ye(p,r,v),h&&h.m(p,v),ye(p,o,v),i=!0},p:function(p,v){e=p,272695678&v[0]&&(u=e[6].slice(e[51].start,Math.min(e[51].end,e[6].length)),Ue(),s=hl(s,v,l,1,e,u,a,r.parentNode,Kc,q3,r,j3),Je()),e[51].end<e[6].length?h?(h.p(e,v),65600&v[0]&&J(h,1)):((h=V3(e)).c(),J(h,1),h.m(o.parentNode,o)):h&&(Ue(),te(h,1,1,function(){h=null}),Je())},i:function(p){if(!i){for(var v=0;v<u.length;v+=1)J(s[v]);J(h),i=!0}},o:function(p){for(var v=0;v<s.length;v+=1)te(s[v]);te(h),i=!1},d:function(p){p&&me(n);for(var v=0;v<s.length;v+=1)s[v].d(p);p&&me(r),h&&h.d(p),p&&me(o)}}}function W3(t){var e,n,r;return{c:function(){E(e=re("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after")},m:function(o,i){ye(o,e,i),n||(r=Fe(e,"click",t[32]),n=!0)},p:Ge,d:function(o){o&&me(e),n=!1,r()}}}function U3(t){var e,n,r;return n=new vu({props:{selected:t[20],onContextMenu:t[34]}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-insert-area jse-after svelte-uj4yd7"),E(e,"data-type","insert-selection-area-after"),E(e,"style",t[13]),E(e,"title",$0),Ze(e,"jse-hovered",t[9]==="hover-insert-after"),Ze(e,"jse-selected",t[20])},m:function(o,i){ye(o,e,i),Me(n,e,null),r=!0},p:function(o,i){var s={};1048576&i[0]&&(s.selected=o[20]),n.$set(s),(!r||8192&i[0])&&E(e,"style",o[13]),512&i[0]&&Ze(e,"jse-hovered",o[9]==="hover-insert-after"),1048576&i[0]&&Ze(e,"jse-selected",o[20])},i:function(o){r||(J(n.$$.fragment,o),r=!0)},o:function(o){te(n.$$.fragment,o),r=!1},d:function(o){o&&me(e),Ie(n)}}}function dG(t){var e,n,r,o,i,s,a,u,l,f=[YK,QK,GK],c=[];function d(p,v){return p[14]==="array"?0:p[14]==="object"?1:2}n=d(t),r=c[n]=f[n](t);var h=!t[4].readOnly&&(t[9]==="hover-insert-after"||t[20])&&U3(t);return{c:function(){e=re("div"),r.c(),o=Ae(),h&&h.c(),E(e,"class",i=vr(nl("jse-json-node",{"jse-expanded":t[12]},t[4].onClassName(t[1],t[6])))+" svelte-uj4yd7"),E(e,"data-path",s=Um(t[1])),Ze(e,"jse-root",t[10]),Ze(e,"jse-selected",t[21]),Ze(e,"jse-selected-key",t[18]),Ze(e,"jse-selected-value",t[17]),Ze(e,"jse-hovered",t[9]==="hover-collection")},m:function(p,v){ye(p,e,v),c[n].m(e,null),U(e,o),h&&h.m(e,null),a=!0,u||(l=[Fe(e,"mousedown",t[26]),Fe(e,"mousemove",t[27]),Fe(e,"mouseover",t[29]),Fe(e,"mouseout",t[30]),Fe(e,"focus",void 0),Fe(e,"blur",void 0)],u=!0)},p:function(p,v){var g=n;(n=d(p))===g?c[n].p(p,v):(Ue(),te(c[g],1,1,function(){c[g]=null}),Je(),(r=c[n])?r.p(p,v):(r=c[n]=f[n](p)).c(),J(r,1),r.m(e,o)),p[4].readOnly||p[9]!=="hover-insert-after"&&!p[20]?h&&(Ue(),te(h,1,1,function(){h=null}),Je()):h?(h.p(p,v),1049104&v[0]&&J(h,1)):((h=U3(p)).c(),J(h,1),h.m(e,null)),(!a||4178&v[0]&&i!==(i=vr(nl("jse-json-node",{"jse-expanded":p[12]},p[4].onClassName(p[1],p[6])))+" svelte-uj4yd7"))&&E(e,"class",i),(!a||2&v[0]&&s!==(s=Um(p[1])))&&E(e,"data-path",s),5202&v[0]&&Ze(e,"jse-root",p[10]),2101330&v[0]&&Ze(e,"jse-selected",p[21]),266322&v[0]&&Ze(e,"jse-selected-key",p[18]),135250&v[0]&&Ze(e,"jse-selected-value",p[17]),4690&v[0]&&Ze(e,"jse-hovered",p[9]==="hover-collection")},i:function(p){a||(J(r),J(h),a=!0)},o:function(p){te(r),te(h),a=!1},d:function(p){p&&me(e),c[n].d(),h&&h.d(),u=!1,Kn(l)}}}function qc(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function hG(t,e,n){var r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b=e.$$slots,w=b===void 0?{}:b,k=e.$$scope,$=e.value,A=e.path,P=e.state,_=e.selection,T=e.searchResult,C=e.validationErrors,R=e.context,S=e.onDragSelectionStart,j=zo("jsoneditor:JSONNode"),q=void 0,Y=void 0,F=void 0,K=yl(function(x){return x},$s);function D(x){R.onDrag(x)}function I(x){Ir.selecting&&(Ir.selecting=!1,x.stopPropagation()),R.onDragEnd(),document.removeEventListener("mousemove",D,!0),document.removeEventListener("mouseup",I)}function W(){var x,N;return((N=(x=R.findElement([]))===null||x===void 0?void 0:x.getBoundingClientRect())===null||N===void 0?void 0:N.top)||0}function H(x,N){var G=W()-x.initialContentTop;return N.clientY-x.initialClientY-G}function z(x){if(F){var N=H(F,x),G=y3({fullJson:R.getFullJson(),fullState:R.getFullState(),fullSelection:R.getFullSelection(),deltaY:N,items:F.items}),ue=G.updatedValue,xe=G.updatedState,$e=G.updatedSelection,L=G.indexOffset;L!==F.indexOffset&&(j("drag selection",L,N,$e),n(38,F=lt(lt({},F),{},{updatedValue:ue,updatedState:xe,updatedSelection:$e,indexOffset:L,didMoveItems:!0})))}}function O(x){if(F){var N=H(F,x),G=y3({fullJson:R.getFullJson(),fullState:R.getFullState(),fullSelection:R.getFullSelection(),deltaY:N,items:F.items}),ue=G.operations,xe=G.updatedFullSelection;ue?R.onPatch(ue,function(){return{selection:xe||R.getFullSelection()}}):x.target!==F.initialTarget||F.didMoveItems||R.onSelect({type:fv(x.target),path:qF(x.target)}),n(38,F=void 0),Ir.dragging=!1,document.removeEventListener("mousemove",z,!0),document.removeEventListener("mouseup",O)}}return t.$$set=function(x){"value"in x&&n(0,$=x.value),"path"in x&&n(1,A=x.path),"state"in x&&n(35,P=x.state),"selection"in x&&n(36,_=x.selection),"searchResult"in x&&n(2,T=x.searchResult),"validationErrors"in x&&n(3,C=x.validationErrors),"context"in x&&n(4,R=x.context),"onDragSelectionStart"in x&&n(37,S=x.onDragSelectionStart),"$$scope"in x&&n(40,k=x.$$scope)},t.$$.update=function(){1&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(6,r=(F==null?void 0:F.updatedValue)!==void 0?F.updatedValue:$),144&t.$$.dirty[1]&&n(5,o=(F==null?void 0:F.updatedState)!==void 0?F.updatedState:P),160&t.$$.dirty[1]&&n(8,i=(F==null?void 0:F.updatedSelection)!=null?F.updatedSelection:_),256&t.$$.dirty[0]&&n(7,s=i&&i[_c]),128&t.$$.dirty[0]&&n(21,a=!(!s||!s.pathsMap)),128&t.$$.dirty[0]&&n(20,u=!(!s||s.type!==Gr)),128&t.$$.dirty[0]&&n(19,l=!(!s||s.type!==br)),128&t.$$.dirty[0]&&n(18,f=!(!s||s.type!==pn)),128&t.$$.dirty[0]&&n(17,c=!(!s||s.type!==mt)),32&t.$$.dirty[0]&&n(12,d=o[ro]),32&t.$$.dirty[0]&&n(16,h=o[Qi]),32&t.$$.dirty[0]&&n(11,p=o[oi]),8&t.$$.dirty[0]&&n(15,v=C&&C[jm]),2&t.$$.dirty[0]&&n(10,g=A.length===0),64&t.$$.dirty[0]&&n(14,m=E0(r)),2&t.$$.dirty[0]&&n(13,y=qc(A.length))},[$,A,T,C,R,o,r,s,i,q,g,p,d,y,m,v,h,c,f,l,u,a,K,function(x){x.stopPropagation();var N=x.ctrlKey;R.onExpand(A,!d,N)},function(x){x.stopPropagation(),R.onExpand(A,!0)},function(x,N){var G=vf(A,p,x,N);return R.onPatch(G),ht(Se.exports.parseJSONPointer(G[0].path))},function(x){if(!(function(xe){return xe.nodeName==="DIV"&&xe.contentEditable==="true"}(x.target)||x.which===1&&MP(x.target,"BUTTON"))){x.stopPropagation(),x.preventDefault(),document.addEventListener("mousemove",D,!0),document.addEventListener("mouseup",I);var N=fv(x.target);if(function(xe,$e,L){if(!xe)return!1;var Q=$e.slice(0);if(xe.type===Et)for(;Q.length>0;){if(xe.pathsMap[Se.exports.compileJSONPointer(Q)]===!0)return!0;Q.pop()}return xe.type===pn?L===pn&&Sn(xe.focusPath,$e):!!(xe.type===mt&&(L===mt&&Sn(xe.focusPath,$e)||Ac($e,xe.focusPath)&&$e.length>xe.focusPath.length&&(L===pn||L===mt||L===Et)))}(R.getFullSelection(),A,N))x.button===0&&(R.focus(),S(x));else if(Ir.selecting=!0,Ir.selectionAnchor=A,Ir.selectionAnchorType=N,Ir.selectionFocus=A,x.shiftKey){var G=R.getFullSelection();G&&R.onSelect({type:Et,anchorPath:G.anchorPath,focusPath:A})}else switch(N){case pn:case mt:case Gr:case br:R.onSelect({type:N,path:A});break;case Et:if(g&&x.target.hasAttribute("data-path")){var ue=ht(_P(r,o));R.onSelect(ue)}else R.onSelect({type:Et,anchorPath:A,focusPath:A})}}},function(x){if(Ir.selecting){x.preventDefault(),x.stopPropagation(),Ir.selectionFocus==null&&window.getSelection&&window.getSelection().empty();var N=fv(x.target);Sn(A,Ir.selectionFocus)&&N===Ir.selectionAnchorType||(Ir.selectionFocus=A,R.onSelect({anchorPath:Ir.selectionAnchor,focusPath:Ir.selectionFocus}))}},function(x){if(!R.readOnly){var N=R.getFullSelection(),G=Gt(N.focusPath);if(Sn(A,G)){var ue=function(xe){var $e=[];function L(Ee){var Ce=A.concat(Ee),_e=R.findElement(Ce);_e!=null&&$e.push({path:Ce,height:_e.clientHeight})}if(Array.isArray($)){var Q=hr(xe.paths)||xe.focusPath,M=ht(xe.paths)||xe.focusPath,B=ht(Q),Z=ht(M),le=P[Qi].find(function(Ee){return B>=Ee.start&&Z<=Ee.end});if(!le)return null;var ee=le.start,V=le.end;T0(ee,Math.min($.length,V),L)}else Fy(P,L);return $e}(N);j("dragSelectionStart",{fullSelection:N,items:ue}),ue?(n(38,F={initialTarget:x.target,initialClientY:x.clientY,initialContentTop:W(),updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,items:ue,indexOffset:0,didMoveItems:!1}),Ir.dragging=!0,document.addEventListener("mousemove",z,!0),document.addEventListener("mouseup",O)):j("Cannot drag the current selection (probably spread over multiple sections)")}else S(x)}},function(x){Ir.selecting||Ir.dragging||(x.stopPropagation(),Ha(x.target,"data-type","selectable-value")?n(9,q="hover-collection"):Ha(x.target,"data-type","insert-selection-area-inside")?n(9,q="hover-insert-inside"):Ha(x.target,"data-type","insert-selection-area-after")&&n(9,q="hover-insert-after"),clearTimeout(Y))},function(x){x.stopPropagation(),Y=setTimeout(function(){return n(9,q=void 0)})},function(x){x.shiftKey||(x.stopPropagation(),x.preventDefault(),R.onSelect({type:br,path:A}))},function(x){x.shiftKey||(x.stopPropagation(),x.preventDefault(),R.onSelect({type:Gr,path:A}))},function(x){R.onSelect({type:br,path:A}),R.onContextMenu(x)},function(x){R.onSelect({type:Gr,path:A}),R.onContextMenu(x)},P,_,S,F,w,k]}var S1=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,hG,dG,an,{value:0,path:1,state:35,selection:36,searchResult:2,validationErrors:3,context:4,onDragSelectionStart:37},WK,[-1,-1]),o}return ae(n)}();function pG(t){var e,n;return e=new Qy({props:{items:t[0]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};1&At(o,1)[0]&&(i.items=r[0]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function vG(t,e,n){var r,o,i,s,a,u,l,f=e.json,c=e.selection,d=e.readOnly,h=e.showSearch,p=h!==void 0&&h,v=e.historyState,g=e.onExpandAll,m=e.onCollapseAll,y=e.onUndo,b=e.onRedo,w=e.onSort,k=e.onTransform,$=e.onContextMenu,A=e.onCopy,P=e.onRenderMenu,_=P===void 0?sn:P;function T(){n(1,p=!p)}return t.$$set=function(C){"json"in C&&n(2,f=C.json),"selection"in C&&n(3,c=C.selection),"readOnly"in C&&n(4,d=C.readOnly),"showSearch"in C&&n(1,p=C.showSearch),"historyState"in C&&n(5,v=C.historyState),"onExpandAll"in C&&n(6,g=C.onExpandAll),"onCollapseAll"in C&&n(7,m=C.onCollapseAll),"onUndo"in C&&n(8,y=C.onUndo),"onRedo"in C&&n(9,b=C.onRedo),"onSort"in C&&n(10,w=C.onSort),"onTransform"in C&&n(11,k=C.onTransform),"onContextMenu"in C&&n(12,$=C.onContextMenu),"onCopy"in C&&n(13,A=C.onCopy),"onRenderMenu"in C&&n(14,_=C.onRenderMenu)},t.$$.update=function(){4&t.$$.dirty&&n(20,r=f!==void 0),t.$$.dirty,1048584&t.$$.dirty&&n(17,o=r&&c!=null&&(c.type===Et||c.type===pn||c.type===mt)),68&t.$$.dirty&&n(19,i={icon:Mq,title:"Expand all",className:"jse-expand-all",onClick:g,disabled:!Sr(f)}),132&t.$$.dirty&&n(18,s={icon:Iq,title:"Collapse all",className:"jse-collapse-all",onClick:m,disabled:!Sr(f)}),4&t.$$.dirty&&n(16,a={icon:Uy,title:"Search (Ctrl+F)",className:"jse-search",onClick:T,disabled:f===void 0}),999220&t.$$.dirty&&n(15,u=d?[i,s,{separator:!0},{icon:rh,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:A,disabled:!o},{separator:!0},a,{space:!0}]:[i,s,{separator:!0},{icon:Hy,title:"Sort",className:"jse-sort",onClick:w,disabled:d||f===void 0},{icon:Wy,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:k,disabled:d||f===void 0},a,{icon:rq,title:qO,className:"jse-contextmenu",onClick:$},{separator:!0},{icon:DP,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:y,disabled:!v.canUndo},{icon:BP,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:b,disabled:!v.canRedo},{space:!0}]),49152&t.$$.dirty&&n(0,l=_("tree",u)||u)},[l,p,f,c,d,v,g,m,y,b,w,k,$,A,_,u,a,o,s,i,r]}var mG=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,vG,pG,an,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14}),o}return ae(n)}();function gG(t){zt(t,"svelte-1q2qkk2",'@charset "UTF-8";.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2{flex:1;overflow:auto;font-family:var(--jse-font-family);font-size:var(--jse-font-size);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2:last-child{border-bottom:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-before.svelte-1q2qkk2{flex:1}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-after.svelte-1q2qkk2{flex:2}.jse-welcome.svelte-1q2qkk2 .jse-contents.svelte-1q2qkk2{margin:2em var(--jse-padding) 0;color:var(--jse-panel-color-readonly)}.jse-welcome.svelte-1q2qkk2 .jse-contents ul.svelte-1q2qkk2{list-style:"\u25CF";list-style-position:outside;padding-left:20px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li.svelte-1q2qkk2{padding-left:10px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li span.jse-bold.svelte-1q2qkk2{font-family:var(--jse-font-family-mono);font-weight:bold}')}function J3(t){var e;return{c:function(){(e=re("ul")).innerHTML=`<li class="svelte-1q2qkk2">Click inside the editor</li> 
        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> 
        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> 
        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>`,E(e,"class","svelte-1q2qkk2")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function yG(t){var e,n,r,o,i,s,a,u=!t[0]&&J3();return{c:function(){e=re("div"),n=re("div"),r=Ae(),o=re("div"),i=nt(`Empty document
    `),u&&u.c(),s=Ae(),a=re("div"),E(n,"class","jse-space jse-before svelte-1q2qkk2"),E(o,"class","jse-contents svelte-1q2qkk2"),E(a,"class","jse-space jse-after svelte-1q2qkk2"),E(e,"class","jse-welcome svelte-1q2qkk2")},m:function(l,f){ye(l,e,f),U(e,n),U(e,r),U(e,o),U(o,i),u&&u.m(o,null),U(e,s),U(e,a)},p:function(l,f){At(f,1)[0],l[0]?u&&(u.d(1),u=null):u||((u=J3()).c(),u.m(o,null))},i:Ge,o:Ge,d:function(l){l&&me(e),u&&u.d()}}}function bG(t,e,n){var r=e.readOnly;return t.$$set=function(o){"readOnly"in o&&n(0,r=o.readOnly)},[r]}var wG=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,bG,yG,an,{readOnly:0},gG),o}return ae(n)}();function kG(t){zt(t,"svelte-6hb2gf",".jse-navigation-bar-dropdown.svelte-6hb2gf.svelte-6hb2gf{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color);box-shadow:var(--jse-controls-box-shadow);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding)) 36px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:focus,.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:hover{background:var(--jse-navigation-bar-background-highlight)}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.jse-selected.svelte-6hb2gf{background:var(--jse-navigation-bar-dropdown-color);color:var(--jse-navigation-bar-background)}")}function K3(t,e,n){var r=t.slice();return r[4]=e[n],r}function G3(t,e){var n,r,o,i,s,a=ZC(e[4],Y3)+"";function u(){return e[3](e[4])}return{key:t,first:null,c:function(){n=re("button"),r=nt(a),E(n,"type","button"),E(n,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),E(n,"title",o=e[4]),Ze(n,"jse-selected",e[4]===e[1]),this.first=n},m:function(l,f){ye(l,n,f),U(n,r),i||(s=Fe(n,"click",NO(u)),i=!0)},p:function(l,f){e=l,1&f&&a!==(a=ZC(e[4],Y3)+"")&&en(r,a),1&f&&o!==(o=e[4])&&E(n,"title",o),3&f&&Ze(n,"jse-selected",e[4]===e[1])},d:function(l){l&&me(n),i=!1,s()}}}function Q3(t){var e,n;return{c:function(){e=re("button"),n=nt("..."),E(e,"type","button"),E(e,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),E(e,"title","Limited to "+Yl+" items")},m:function(r,o){ye(r,e,o),U(e,n)},p:Ge,d:function(r){r&&me(e)}}}function xG(t){for(var e,n,r=[],o=new Map,i=Zj(t[0],Yl),s=function(c){return c[4]},a=0;a<i.length;a+=1){var u=K3(t,i,a),l=s(u);o.set(l,r[a]=G3(l,u))}var f=t[0].length>Yl&&Q3();return{c:function(){e=re("div");for(var c=0;c<r.length;c+=1)r[c].c();n=Ae(),f&&f.c(),E(e,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m:function(c,d){ye(c,e,d);for(var h=0;h<r.length;h+=1)r[h].m(e,null);U(e,n),f&&f.m(e,null)},p:function(c,d){var h=At(d,1)[0];7&h&&(i=Zj(c[0],Yl),r=hl(r,h,s,1,c,i,o,e,MR,G3,n,K3)),c[0].length>Yl?f?f.p(c,h):((f=Q3()).c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Ge,o:Ge,d:function(c){c&&me(e);for(var d=0;d<r.length;d+=1)r[d].d();f&&f.d()}}}var Yl=100,Y3=30;function jG(t,e,n){var r=e.items,o=e.selectedItem,i=e.onSelect;return t.$$set=function(s){"items"in s&&n(0,r=s.items),"selectedItem"in s&&n(1,o=s.selectedItem),"onSelect"in s&&n(2,i=s.onSelect)},[r,o,i,function(s){return i(s)}]}var _G=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,jG,xG,an,{items:0,selectedItem:1,onSelect:2},kG),o}return ae(n)}();function SG(t){zt(t,"svelte-1r1k9th",".jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th{position:relative;display:flex}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:focus,.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:hover{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight)}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1r1k9th{padding:2px var(--jse-padding) 0}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-1r1k9th{background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color)}.jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th:last-child{padding-right:var(--jse-padding)}")}function X3(t){var e,n,r,o;return{c:function(){e=re("button"),n=nt(t[2]),E(e,"type","button"),E(e,"class","jse-navigation-bar-button svelte-1r1k9th")},m:function(i,s){ye(i,e,s),U(e,n),r||(o=Fe(e,"click",t[9]),r=!0)},p:function(i,s){4&s&&en(n,i[2])},d:function(i){i&&me(e),r=!1,o()}}}function CG(t){var e,n,r,o,i,s,a;r=new Ut({props:{data:RP}});var u=t[2]!==void 0&&X3(t);return{c:function(){e=re("div"),n=re("button"),Le(r.$$.fragment),o=Ae(),u&&u.c(),E(n,"type","button"),E(n,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),Ze(n,"jse-open",t[1]),E(e,"class","jse-navigation-bar-item svelte-1r1k9th")},m:function(l,f){ye(l,e,f),U(e,n),Me(r,n,null),U(e,o),u&&u.m(e,null),t[10](e),i=!0,s||(a=Fe(n,"click",t[4]),s=!0)},p:function(l,f){var c=At(f,1)[0];2&c&&Ze(n,"jse-open",l[1]),l[2]!==void 0?u?u.p(l,c):((u=X3(l)).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:function(l){i||(J(r.$$.fragment,l),i=!0)},o:function(l){te(r.$$.fragment,l),i=!1},d:function(l){l&&me(e),Ie(r),u&&u.d(),t[10](null),s=!1,a()}}}function $G(t,e,n){var r,o,i,s=wo("absolute-popup"),a=s.openAbsolutePopup,u=s.closeAbsolutePopup,l=e.path,f=e.index,c=e.onSelect,d=e.getItems,h=!1;function p(v){u(),c(r.concat(v))}return t.$$set=function(v){"path"in v&&n(5,l=v.path),"index"in v&&n(6,f=v.index),"onSelect"in v&&n(7,c=v.onSelect),"getItems"in v&&n(8,d=v.getItems)},t.$$.update=function(){96&t.$$.dirty&&(r=l.slice(0,f)),96&t.$$.dirty&&n(2,o=l[f])},[i,h,o,p,function(){if(i){n(1,h=!0);var v={items:d(r),selectedItem:o,onSelect:p};a(_G,v,{anchor:i,closeOnOuterClick:!0,onClose:function(){n(1,h=!1)}})}},l,f,c,d,function(){return p(o)},function(v){Yt[v?"unshift":"push"](function(){n(0,i=v)})}]}var uI=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,$G,CG,an,{path:5,index:6,onSelect:7,getItems:8},SG),o}return ae(n)}(),lI={exports:{}},Z3=function(t,e){var n,r,o=1,i=0,s=0,a=String.alphabet;function u(l,f,c){if(c){for(n=f;(c=u(l,n))<76&&c>65;)++n;return+l.slice(f-1,n)}return(c=a&&a.indexOf(l.charAt(f)))>-1?c+76:(c=l.charCodeAt(f)||0)<45||c>127?c:c<46?65:c<48?c-1:c<58?c+18:c<65?c-11:c<91?c+11:c<97?c-37:c<123?c+5:c-63}if((t+="")!=(e+="")){for(;o;)if(r=u(t,i++),o=u(e,s++),r<76&&o<76&&r>66&&o>66&&(r=u(t,i,i),o=u(e,s,i=n),s=n),r!=o)return r<o?-1:1}return 0};try{lI.exports=Z3}catch{String.naturalCompare=Z3}function C1(t,e){var n=typeof t=="string"?t.toLowerCase():t,r=typeof e=="string"?e.toLowerCase():e;return lI.exports(n,r)}function OG(t,e){return function(n,r){var o=Se.exports.getIn(n,t),i=Se.exports.getIn(r,t);return o===void 0?e:i===void 0?-e:typeof o!="string"&&typeof i!="string"?o>i?e:o<i?-e:0:e*C1(o,i)}}function AG(t){zt(t,"svelte-5lwyke",".jse-navigation-bar.svelte-5lwyke.svelte-5lwyke{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-panel-background);color:var(--jse-panel-button-color);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-navigation-bar.svelte-5lwyke .jse-navigation-bar-space.svelte-5lwyke{padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);color:var(--jse-navigation-bar-color)}")}function e5(t,e,n){var r=t.slice();return r[12]=e[n],r[14]=n,r}function t5(t,e){var n,r,o;return r=new uI({props:{getItems:e[4],path:e[1],index:e[14],onSelect:e[5]}}),{key:t,first:null,c:function(){n=dn(),Le(r.$$.fragment),this.first=n},m:function(i,s){ye(i,n,s),Me(r,i,s),o=!0},p:function(i,s){e=i;var a={};2&s&&(a.path=e[1]),2&s&&(a.index=e[14]),r.$set(a)},i:function(i){o||(J(r.$$.fragment,i),o=!0)},o:function(i){te(r.$$.fragment,i),o=!1},d:function(i){i&&me(n),Ie(r,i)}}}function n5(t){var e,n;return e=new uI({props:{getItems:t[4],path:t[1],index:void 0,onSelect:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};2&o&&(i.path=r[1]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function EG(t){for(var e,n,r,o,i,s,a=[],u=new Map,l=Sr(t[0])?"\xA0":"Navigation bar",f=t[1],c=function(g){return g[14]},d=0;d<f.length;d+=1){var h=e5(t,f,d),p=c(h);u.set(p,a[d]=t5(p,h))}var v=t[3]&&n5(t);return{c:function(){e=re("div");for(var g=0;g<a.length;g+=1)a[g].c();n=Ae(),v&&v.c(),r=Ae(),o=re("div"),i=nt(l),E(o,"class","jse-navigation-bar-space svelte-5lwyke"),E(e,"class","jse-navigation-bar svelte-5lwyke")},m:function(g,m){ye(g,e,m);for(var y=0;y<a.length;y+=1)a[y].m(e,null);U(e,n),v&&v.m(e,null),U(e,r),U(e,o),U(o,i),t[9](e),s=!0},p:function(g,m){var y=At(m,1)[0];50&y&&(f=g[1],Ue(),a=hl(a,y,c,1,g,f,u,e,Kc,t5,n,e5),Je()),g[3]?v?(v.p(g,y),8&y&&J(v,1)):((v=n5(g)).c(),J(v,1),v.m(e,r)):v&&(Ue(),te(v,1,1,function(){v=null}),Je()),(!s||1&y)&&l!==(l=Sr(g[0])?"\xA0":"Navigation bar")&&en(i,l)},i:function(g){if(!s){for(var m=0;m<f.length;m+=1)J(a[m]);J(v),s=!0}},o:function(g){for(var m=0;m<a.length;m+=1)te(a[m]);te(v),s=!1},d:function(g){g&&me(e);for(var m=0;m<a.length;m+=1)a[m].d();v&&v.d(),t[9](null)}}}function PG(t,e,n){var r,o,i,s=zo("jsoneditor:NavigationBar"),a=e.json,u=e.state,l=e.selection,f=e.onSelect;return t.$$set=function(c){"json"in c&&n(0,a=c.json),"state"in c&&n(6,u=c.state),"selection"in c&&n(7,l=c.selection),"onSelect"in c&&n(8,f=c.onSelect)},t.$$.update=function(){128&t.$$.dirty&&n(1,r=l?l.focusPath:[]),3&t.$$.dirty&&n(3,o=Sr(Se.exports.getIn(a,r))),2&t.$$.dirty&&setTimeout(function(){if(i&&i.scrollTo){var c=i.scrollWidth-i.clientWidth;c>0&&(s("scrollTo ",c),i.scrollTo({left:c,behavior:"smooth"}))}})},[a,r,i,o,function(c){s("get items for path",c);var d=Se.exports.getIn(a,c);if(Array.isArray(d))return Iy(0,d.length);if(yr(d)){var h=(Se.exports.getIn(u,c.concat(oi))||Object.keys(d)).slice(0);return h.sort(C1),h}return[]},function(c){s("select path",JSON.stringify(c));var d=nn(a,u,{type:Et,anchorPath:c,focusPath:c});f(d)},u,l,f,function(c){Yt[c?"unshift":"push"](function(){n(2,i=c)})}]}var TG=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,PG,EG,an,{json:0,state:6,selection:7,onSelect:8},AG),o}return ae(n)}();function MG(t){zt(t,"svelte-18vllqh",".jse-search-box.svelte-18vllqh.svelte-18vllqh{border:var(--jse-panel-border);border-radius:3px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);box-shadow:var(--jse-controls-box-shadow);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-18vllqh .jse-search-form.svelte-18vllqh{display:flex;align-items:stretch}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh,.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{font-family:inherit;font-size:inherit}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color);background:var(--jse-panel-button-background)}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{color:var(--jse-panel-color);border:var(--jse-input-border);border-radius:3px;background:var(--jse-input-background);height:28px;padding:0 5px;margin:0;flex:1;outline:none}.jse-search-box.svelte-18vllqh .jse-search-form .jse-replace-toggle.svelte-18vllqh{padding:var(--jse-padding) calc(0.5 * var(--jse-padding));min-width:20px;background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents.svelte-18vllqh{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding));gap:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section.svelte-18vllqh{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-18vllqh{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding));left:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-18vllqh{flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-18vllqh{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-18vllqh{visibility:visible}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section.svelte-18vllqh{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section button.svelte-18vllqh{width:auto}")}function r5(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P,_,T,C,R,S=(t[3]!==-1?"".concat(t[3]+1,"/"):"")+"",j=!t[4]&&o5(t),q=[NG,IG],Y=[];function F(D,I){return D[2]?0:1}a=F(t),u=Y[a]=q[a](t),y=new Ut({props:{data:XF}}),k=new Ut({props:{data:ZF}}),P=new Ut({props:{data:uf}});var K=t[0]&&!t[4]&&i5(t);return{c:function(){e=re("div"),n=re("form"),j&&j.c(),r=Ae(),o=re("div"),i=re("div"),s=re("div"),u.c(),l=Ae(),f=re("label"),c=re("input"),d=Ae(),h=re("div"),p=nt(S),v=nt(t[10]),g=Ae(),m=re("button"),Le(y.$$.fragment),b=Ae(),w=re("button"),Le(k.$$.fragment),$=Ae(),A=re("button"),Le(P.$$.fragment),_=Ae(),K&&K.c(),E(s,"class","jse-search-icon svelte-18vllqh"),E(c,"class","jse-search-input svelte-18vllqh"),E(c,"title","Enter text to search"),E(c,"type","text"),E(c,"placeholder","Find"),E(f,"class","jse-search-input-label svelte-18vllqh"),E(f,"about","jse-search input"),E(h,"class","jse-search-count svelte-18vllqh"),Ze(h,"jse-visible",t[8]!==""),E(m,"type","button"),E(m,"class","jse-search-next svelte-18vllqh"),E(m,"title","Go to next search result (Enter)"),E(w,"type","button"),E(w,"class","jse-search-previous svelte-18vllqh"),E(w,"title","Go to previous search result (Shift+Enter)"),E(A,"type","button"),E(A,"class","jse-search-clear svelte-18vllqh"),E(A,"title","Close search box (Esc)"),E(i,"class","jse-search-section svelte-18vllqh"),E(o,"class","jse-search-contents svelte-18vllqh"),E(n,"class","jse-search-form svelte-18vllqh"),E(e,"class","jse-search-box svelte-18vllqh")},m:function(D,I){ye(D,e,I),U(e,n),j&&j.m(n,null),U(n,r),U(n,o),U(o,i),U(i,s),Y[a].m(s,null),U(i,l),U(i,f),U(f,c),ua(c,t[8]),U(i,d),U(i,h),U(h,p),U(h,v),U(i,g),U(i,m),Me(y,m,null),U(i,b),U(i,w),Me(k,w,null),U(i,$),U(i,A),Me(P,A,null),U(o,_),K&&K.m(o,null),T=!0,C||(R=[Fe(c,"input",t[21]),Jc(RG.call(null,c)),Fe(m,"click",t[22]),Fe(w,"click",t[23]),Fe(A,"click",t[24]),Fe(n,"submit",t[12]),Fe(n,"keydown",t[13])],C=!0)},p:function(D,I){D[4]?j&&(Ue(),te(j,1,1,function(){j=null}),Je()):j?(j.p(D,I),16&I&&J(j,1)):((j=o5(D)).c(),J(j,1),j.m(n,r));var W=a;(a=F(D))===W?Y[a].p(D,I):(Ue(),te(Y[W],1,1,function(){Y[W]=null}),Je(),(u=Y[a])?u.p(D,I):(u=Y[a]=q[a](D)).c(),J(u,1),u.m(s,null)),256&I&&c.value!==D[8]&&ua(c,D[8]),(!T||8&I)&&S!==(S=(D[3]!==-1?"".concat(D[3]+1,"/"):"")+"")&&en(p,S),(!T||1024&I)&&en(v,D[10]),256&I&&Ze(h,"jse-visible",D[8]!==""),D[0]&&!D[4]?K?K.p(D,I):((K=i5(D)).c(),K.m(o,null)):K&&(K.d(1),K=null)},i:function(D){T||(J(j),J(u),J(y.$$.fragment,D),J(k.$$.fragment,D),J(P.$$.fragment,D),T=!0)},o:function(D){te(j),te(u),te(y.$$.fragment,D),te(k.$$.fragment,D),te(P.$$.fragment,D),T=!1},d:function(D){D&&me(e),j&&j.d(),Y[a].d(),Ie(y),Ie(k),Ie(P),K&&K.d(),C=!1,Kn(R)}}}function o5(t){var e,n,r,o,i;return n=new Ut({props:{data:t[0]?Wi:Ys}}),{c:function(){e=re("button"),Le(n.$$.fragment),E(e,"type","button"),E(e,"class","jse-replace-toggle svelte-18vllqh"),E(e,"title","Toggle visibility of replace options (Ctrl+H)")},m:function(s,a){ye(s,e,a),Me(n,e,null),r=!0,o||(i=Fe(e,"click",t[11]),o=!0)},p:function(s,a){var u={};1&a&&(u.data=s[0]?Wi:Ys),n.$set(u)},i:function(s){r||(J(n.$$.fragment,s),r=!0)},o:function(s){te(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Ie(n),o=!1,i()}}}function IG(t){var e,n;return e=new Ut({props:{data:Uy}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function NG(t){var e,n;return e=new Ut({props:{data:eq,spin:!0}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function i5(t){var e,n,r,o,i,s,a,u;return{c:function(){e=re("div"),n=re("input"),r=Ae(),(o=re("button")).textContent="Replace",i=Ae(),(s=re("button")).textContent="All",E(n,"class","jse-replace-input svelte-18vllqh"),E(n,"title","Enter replacement text"),E(n,"type","text"),E(n,"placeholder","Replace"),E(o,"type","button"),E(o,"title","Replace current occurrence (Ctrl+Enter)"),E(o,"class","svelte-18vllqh"),E(s,"type","button"),E(s,"title","Replace all occurrences"),E(s,"class","svelte-18vllqh"),E(e,"class","jse-replace-section svelte-18vllqh")},m:function(l,f){ye(l,e,f),U(e,n),ua(n,t[9]),U(e,r),U(e,o),U(e,i),U(e,s),a||(u=[Fe(n,"input",t[25]),Fe(o,"click",t[14]),Fe(s,"click",t[15])],a=!0)},p:function(l,f){512&f&&n.value!==l[9]&&ua(n,l[9])},d:function(l){l&&me(e),a=!1,Kn(u)}}}function LG(t){var e,n,r=t[1]&&r5(t);return{c:function(){r&&r.c(),e=dn()},m:function(o,i){r&&r.m(o,i),ye(o,e,i),n=!0},p:function(o,i){var s=At(i,1)[0];o[1]?r?(r.p(o,s),2&s&&J(r,1)):((r=r5(o)).c(),J(r,1),r.m(e.parentNode,e)):r&&(Ue(),te(r,1,1,function(){r=null}),Je())},i:function(o){n||(J(r),n=!0)},o:function(o){te(r),n=!1},d:function(o){r&&r.d(o),o&&me(e)}}}function RG(t){t.select()}function DG(t,e,n){var r,o,i=e.show,s=i!==void 0&&i,a=e.searching,u=e.resultCount,l=u===void 0?0:u,f=e.activeIndex,c=f===void 0?0:f,d=e.showReplace,h=d!==void 0&&d,p=e.readOnly,v=p!==void 0&&p,g=e.onChange,m=g===void 0?sn:g,y=e.onPrevious,b=y===void 0?sn:y,w=e.onNext,k=w===void 0?sn:w,$=e.onReplace,A=$===void 0?sn:$,P=e.onReplaceAll,_=P===void 0?sn:P,T=e.onClose,C=T===void 0?sn:T,R="",S="",j="";function q(){n(0,h=!h&&!v)}function Y(){v||A(R,j)}return t.$$set=function(F){"show"in F&&n(1,s=F.show),"searching"in F&&n(2,a=F.searching),"resultCount"in F&&n(16,l=F.resultCount),"activeIndex"in F&&n(3,c=F.activeIndex),"showReplace"in F&&n(0,h=F.showReplace),"readOnly"in F&&n(4,v=F.readOnly),"onChange"in F&&n(17,m=F.onChange),"onPrevious"in F&&n(5,b=F.onPrevious),"onNext"in F&&n(6,k=F.onNext),"onReplace"in F&&n(18,A=F.onReplace),"onReplaceAll"in F&&n(19,_=F.onReplaceAll),"onClose"in F&&n(7,C=F.onClose)},t.$$.update=function(){65536&t.$$.dirty&&n(10,r=l>=1e3?"".concat(999,"+"):String(l)),131072&t.$$.dirty&&n(20,o=xl(m,300)),1048832&t.$$.dirty&&o(R),2&t.$$.dirty&&s&&R!==""&&m(R)},[h,s,a,c,v,b,k,C,R,j,r,q,function(F){F.preventDefault(),R!==S?(S=R,o.cancel(),m(R)):k()},function(F){F.stopPropagation();var K=Sl(F);K==="Enter"&&(F.preventDefault(),k()),K==="Shift+Enter"&&(F.preventDefault(),b()),K!=="Ctrl+Enter"&&K!=="Command+Enter"||(F.preventDefault(),h?Y():k()),K==="Ctrl+H"&&(F.preventDefault(),q()),K==="Escape"&&(F.preventDefault(),C())},Y,function(){v||_(R,j)},l,m,A,_,o,function(){R=this.value,n(8,R)},function(){return k()},function(){return b()},function(){return C()},function(){j=this.value,n(9,j)}]}var BG=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,DG,LG,an,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},MG),o}return ae(n)}(),zG=S0.window;function FG(t){zt(t,"svelte-1wno2xw",".jse-tree-mode.svelte-1wno2xw.svelte-1wno2xw{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label.svelte-1wno2xw{position:absolute;right:0;top:0;width:0;height:0}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label .jse-hidden-input.svelte-1wno2xw{width:0;height:0;padding:0;border:0;outline:none}.jse-tree-mode.svelte-1wno2xw .jse-search-box-container.svelte-1wno2xw{position:relative;height:0;top:var(--jse-padding);margin-right:calc(var(--jse-padding) + 20px);margin-left:var(--jse-padding);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-1wno2xw.svelte-1wno2xw{border-top:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw{border-left:var(--jse-main-border);border-right:var(--jse-main-border);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw:last-child{border-bottom:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading-space.svelte-1wno2xw{flex:1}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading.svelte-1wno2xw{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-tree-mode.svelte-1wno2xw .jse-preview.svelte-1wno2xw{flex:1;color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;padding:2px}")}function s5(t){var e,n,r;function o(s){t[72](s)}var i={json:t[7],selection:t[9],readOnly:t[0],historyState:t[20],onExpandAll:t[39],onCollapseAll:t[40],onUndo:t[35],onRedo:t[36],onSort:t[37],onTransform:t[38],onContextMenu:t[44],onCopy:t[33],onRenderMenu:t[4]};return t[16]!==void 0&&(i.showSearch=t[16]),e=new mG({props:i}),Yt.push(function(){return Oo(e,"showSearch",o)}),{c:function(){Le(e.$$.fragment)},m:function(s,a){Me(e,s,a),r=!0},p:function(s,a){var u={};128&a[0]&&(u.json=s[7]),512&a[0]&&(u.selection=s[9]),1&a[0]&&(u.readOnly=s[0]),1048576&a[0]&&(u.historyState=s[20]),16&a[0]&&(u.onRenderMenu=s[4]),!n&&65536&a[0]&&(n=!0,u.showSearch=s[16],Go(function(){return n=!1})),e.$set(u)},i:function(s){r||(J(e.$$.fragment,s),r=!0)},o:function(s){te(e.$$.fragment,s),r=!1},d:function(s){Ie(e,s)}}}function a5(t){var e,n;return e=new TG({props:{json:t[7],state:t[14],selection:t[9],onSelect:t[47]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};128&o[0]&&(i.json=r[7]),16384&o[0]&&(i.state=r[14]),512&o[0]&&(i.selection=r[9]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function qG(t){var e;return{c:function(){(e=re("div")).innerHTML=`<div class="jse-loading-space svelte-1wno2xw"></div> 
      <div class="jse-loading svelte-1wno2xw">loading...</div>`,E(e,"class","jse-contents svelte-1wno2xw")},m:function(n,r){ye(n,e,r)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e)}}}function VG(t){var e,n,r,o,i,s,a,u,l,f=[WG,HG],c=[];function d(h,p){return h[7]===void 0?0:1}return o=d(t),i=c[o]=f[o](t),{c:function(){e=re("label"),n=re("input"),r=Ae(),i.c(),s=dn(),E(n,"class","jse-hidden-input svelte-1wno2xw"),E(n,"tabindex","-1"),E(e,"class","jse-hidden-input-label svelte-1wno2xw")},m:function(h,p){ye(h,e,p),U(e,n),t[73](n),ye(h,r,p),c[o].m(h,p),ye(h,s,p),a=!0,u||(l=Fe(n,"paste",t[34]),u=!0)},p:function(h,p){var v=o;(o=d(h))===v?c[o].p(h,p):(Ue(),te(c[v],1,1,function(){c[v]=null}),Je(),(i=c[o])?i.p(h,p):(i=c[o]=f[o](h)).c(),J(i,1),i.m(s.parentNode,s))},i:function(h){a||(J(i),a=!0)},o:function(h){te(i),a=!1},d:function(h){h&&me(e),t[73](null),h&&me(r),c[o].d(h),h&&me(s),u=!1,l()}}}function HG(t){var e,n,r,o,i,s,a,u,l,f;n=new BG({props:{show:t[16],resultCount:t[19]?t[19].count:0,activeIndex:t[19]?t[19].activeIndex:0,showReplace:t[17],searching:t[18],readOnly:t[0],onChange:t[26],onNext:t[27],onPrevious:t[28],onReplace:t[29],onReplaceAll:t[30],onClose:t[31]}}),i=new S1({props:{value:t[7],path:t[25],state:t[14],selection:t[23],searchResult:t[19]&&t[19].itemsWithActive,validationErrors:t[22],context:t[10],onDragSelectionStart:sn}});var c=t[15]&&u5(t),d=t[21]&&l5(t);return l=new zP({props:{validationErrors:t[11],selectError:t[32]}}),{c:function(){e=re("div"),Le(n.$$.fragment),r=Ae(),o=re("div"),Le(i.$$.fragment),s=Ae(),c&&c.c(),a=Ae(),d&&d.c(),u=Ae(),Le(l.$$.fragment),E(e,"class","jse-search-box-container svelte-1wno2xw"),E(o,"class","jse-contents svelte-1wno2xw"),E(o,"data-jsoneditor-scrollable-contents",!0)},m:function(h,p){ye(h,e,p),Me(n,e,null),ye(h,r,p),ye(h,o,p),Me(i,o,null),t[74](o),ye(h,s,p),c&&c.m(h,p),ye(h,a,p),d&&d.m(h,p),ye(h,u,p),Me(l,h,p),f=!0},p:function(h,p){var v={};65536&p[0]&&(v.show=h[16]),524288&p[0]&&(v.resultCount=h[19]?h[19].count:0),524288&p[0]&&(v.activeIndex=h[19]?h[19].activeIndex:0),131072&p[0]&&(v.showReplace=h[17]),262144&p[0]&&(v.searching=h[18]),1&p[0]&&(v.readOnly=h[0]),n.$set(v);var g={};128&p[0]&&(g.value=h[7]),16384&p[0]&&(g.state=h[14]),8388608&p[0]&&(g.selection=h[23]),524288&p[0]&&(g.searchResult=h[19]&&h[19].itemsWithActive),4194304&p[0]&&(g.validationErrors=h[22]),1024&p[0]&&(g.context=h[10]),i.$set(g),h[15]?c?(c.p(h,p),32768&p[0]&&J(c,1)):((c=u5(h)).c(),J(c,1),c.m(a.parentNode,a)):c&&(Ue(),te(c,1,1,function(){c=null}),Je()),h[21]?d?(d.p(h,p),2097152&p[0]&&J(d,1)):((d=l5(h)).c(),J(d,1),d.m(u.parentNode,u)):d&&(Ue(),te(d,1,1,function(){d=null}),Je());var m={};2048&p[0]&&(m.validationErrors=h[11]),l.$set(m)},i:function(h){f||(J(n.$$.fragment,h),J(i.$$.fragment,h),J(c),J(d),J(l.$$.fragment,h),f=!0)},o:function(h){te(n.$$.fragment,h),te(i.$$.fragment,h),te(c),te(d),te(l.$$.fragment,h),f=!1},d:function(h){h&&me(e),Ie(n),h&&me(r),h&&me(o),Ie(i),t[74](null),h&&me(s),c&&c.d(h),h&&me(a),d&&d.d(h),h&&me(u),Ie(l,h)}}}function WG(t){var e,n,r,o,i=[JG,UG],s=[];function a(u,l){return u[8]===""||u[8]===void 0?0:1}return e=a(t),n=s[e]=i[e](t),{c:function(){n.c(),r=dn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),o=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ue(),te(s[f],1,1,function(){s[f]=null}),Je(),(n=s[e])?n.p(u,l):(n=s[e]=i[e](u)).c(),J(n,1),n.m(r.parentNode,r))},i:function(u){o||(J(n),o=!0)},o:function(u){te(n),o=!1},d:function(u){s[e].d(u),u&&me(r)}}}function u5(t){var e,n;return e=new pu({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(t[15].contents)?"array":"object"," as text"),actions:[{icon:Ky,text:"Paste as JSON instead",onMouseDown:t[45]},{text:"Leave as is",onClick:t[46]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};32768&o[0]&&(i.message="You pasted a JSON ".concat(Array.isArray(r[15].contents)?"array":"object"," as text")),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function l5(t){var e,n;return e=new pu({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:t[0]?[]:[{icon:Jm,text:"Ok",onClick:t[5]},{icon:nh,text:"Repair manually instead",onClick:t[3]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};9&o[0]&&(i.actions=r[0]?[]:[{icon:Jm,text:"Ok",onClick:r[5]},{icon:nh,text:"Repair manually instead",onClick:r[3]}]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function UG(t){var e,n,r,o,i;return e=new pu({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:t[0]?[]:[{icon:nh,text:"Repair manually",onClick:t[3]}]}}),{c:function(){Le(e.$$.fragment),n=Ae(),r=re("div"),o=nt(t[8]),E(r,"class","jse-preview svelte-1wno2xw")},m:function(s,a){Me(e,s,a),ye(s,n,a),ye(s,r,a),U(r,o),i=!0},p:function(s,a){var u={};9&a[0]&&(u.actions=s[0]?[]:[{icon:nh,text:"Repair manually",onClick:s[3]}]),e.$set(u),(!i||256&a[0])&&en(o,s[8])},i:function(s){i||(J(e.$$.fragment,s),i=!0)},o:function(s){te(e.$$.fragment,s),i=!1},d:function(s){Ie(e,s),s&&me(n),s&&me(r)}}}function JG(t){var e,n;return e=new wG({props:{readOnly:t[0]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};1&o[0]&&(i.readOnly=r[0]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function KG(t){var e,n,r,o,i,s,a,u,l=t[1]&&s5(t),f=t[2]&&a5(t),c=[VG,qG],d=[];return o=function(h,p){return h[24]?1:0}(t),i=d[o]=c[o](t),{c:function(){e=re("div"),l&&l.c(),n=Ae(),f&&f.c(),r=Ae(),i.c(),E(e,"class","jse-tree-mode svelte-1wno2xw"),Ze(e,"no-main-menu",!t[1])},m:function(h,p){ye(h,e,p),l&&l.m(e,null),U(e,n),f&&f.m(e,null),U(e,r),d[o].m(e,null),t[75](e),s=!0,a||(u=[Fe(zG,"mousedown",t[48]),Fe(e,"keydown",t[41]),Fe(e,"mousedown",t[42]),Fe(e,"contextmenu",t[43])],a=!0)},p:function(h,p){h[1]?l?(l.p(h,p),2&p[0]&&J(l,1)):((l=s5(h)).c(),J(l,1),l.m(e,n)):l&&(Ue(),te(l,1,1,function(){l=null}),Je()),h[2]?f?(f.p(h,p),4&p[0]&&J(f,1)):((f=a5(h)).c(),J(f,1),f.m(e,r)):f&&(Ue(),te(f,1,1,function(){f=null}),Je()),i.p(h,p),2&p[0]&&Ze(e,"no-main-menu",!h[1])},i:function(h){s||(J(l),J(f),J(i),s=!0)},o:function(h){te(l),te(f),te(i),s=!1},d:function(h){h&&me(e),l&&l.d(),f&&f.d(),d[o].d(),t[75](null),a=!1,Kn(u)}}}function Fs(t){return t.length<1||t.length===1&&t[0]===0}function ud(){return!0}function GG(t,e,n){var r,o,i,s,a,u,l=zo("jsoneditor:TreeMode"),f=typeof window>"u";l("isSSR:",f);var c,d,h,p,v,g=wo("simple-modal").open,m=ji(),y=ji(),b=wo("absolute-popup"),w=b.openAbsolutePopup,k=b.closeAbsolutePopup,$=!1,A=$J(),P=e.readOnly,_=P!==void 0&&P,T=e.externalContent,C=e.mainMenuBar,R=C===void 0||C,S=e.navigationBar,j=S===void 0||S,q=e.escapeControlCharacters,Y=q!==void 0&&q,F=e.escapeUnicodeCharacters,K=F!==void 0&&F,D=e.validator,I=D===void 0?null:D,W=e.indentation,H=W===void 0?2:W,z=e.onError,O=e.onChange,x=e.onRenderValue,N=e.onRequestRepair,G=N===void 0?sn:N,ue=e.onRenderMenu,xe=ue===void 0?sn:ue,$e=e.onClassName,L=e.onFocus,Q=e.onBlur,M=e.onSortModal,B=e.onTransformModal,Z=!1;Gy({onMount:ri,onDestroy:la,getWindow:function(){return Qu(h)},hasFocus:function(){return Z&&document.hasFocus()||th(h)},onFocus:function(){$=!0,L&&L()},onBlur:function(){$=!1,Q&&Q()}});var le,ee=no({},void 0,[],Fs),V=null;function Ee(oe){return n_({json:oe},10240)?Fs:ud}var Ce,_e=!1,pe=!1,ce=!1,ke="";function Oe(oe){return fe.apply(this,arguments)}function fe(){return(fe=In(bt().mark(function oe(je){return bt().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return l("search text updated",je),n(69,ke=je),Ne.next=4,ar();case 4:return Ne.next=6,Lt(Ce&&Ce.activeItem);case 6:case"end":return Ne.stop()}},oe)}))).apply(this,arguments)}function Pe(){return(Pe=In(bt().mark(function oe(){return bt().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return n(19,Ce=Ce&&EJ(Ce)),je.next=3,Lt(Ce&&Ce.activeItem);case 3:case"end":return je.stop()}},oe)}))).apply(this,arguments)}function Ve(){return(Ve=In(bt().mark(function oe(){return bt().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return n(19,Ce=Ce&&PJ(Ce)),je.next=3,Lt(Ce&&Ce.activeItem);case 3:case"end":return je.stop()}},oe)}))).apply(this,arguments)}function et(){return(et=In(bt().mark(function oe(je,Ne){var Re,qe,Qe,it;return bt().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(Re=Ce.activeItem,l("handleReplace",{replacementText:Ne,activeItem:Re}),Ce&&Re){at.next=4;break}return at.abrupt("return");case 4:return qe=TJ(p,ee,Ne,Re),Qe=qe.operations,it=qe.newSelection,Mr(Qe,function(){return{selection:it}}),at.next=8,ar();case 8:return at.next=10,Lt(Ce&&Ce.activeItem);case 10:case"end":return at.stop()}},oe)}))).apply(this,arguments)}function vt(){return(vt=In(bt().mark(function oe(je,Ne){var Re,qe,Qe;return bt().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return l("handleReplaceAll",{text:je,replacementText:Ne}),Re=MJ(p,ee,je,Ne),qe=Re.operations,Qe=Re.newSelection,Mr(qe,function(){return{selection:Qe}}),it.next=5,ar();case 5:return it.next=7,Lt(Ce&&Ce.activeItem);case 7:case"end":return it.stop()}},oe)}))).apply(this,arguments)}function Lt(oe){return wn.apply(this,arguments)}function wn(){return(wn=In(bt().mark(function oe(je){var Ne;return bt().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(!je){Re.next=8;break}return Ne=je.path,n(14,ee=H_(p,ee,Ne)),n(9,V=null),Re.next=6,ar();case 6:return Re.next=8,ls(Ne);case 8:case"end":return Re.stop()}},oe)}))).apply(this,arguments)}var ne=Ry(function(){ke!==""?(n(18,ce=!0),setTimeout(function(){l("searching...",ke);var oe=nI(ke,p,ee,1e3);n(19,Ce=AJ(p,oe,Ce)),n(18,ce=!1)})):n(19,Ce=void 0)},300),de=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},je=oe.maxItems||1e3,Ne=[],Re=0;function qe(){return Re<Ne.length}function Qe(){return Re>0}function it(){return{canUndo:qe(),canRedo:Qe(),length:Ne.length}}function at(){oe.onChange&&oe.onChange(it())}function Mt(lr){Ne=[lr].concat(Ne.slice(Re)).slice(0,je),Re=0,at()}function Kt(){Ne=[],Re=0,at()}function Cn(){if(qe()){var lr=Ne[Re];return Re+=1,at(),lr}}function Ln(){if(Qe())return Re-=1,at(),Ne[Re]}return{add:Mt,clear:Kt,getState:it,undo:Cn,redo:Ln}}({onChange:function(oe){n(20,ve=oe)}}),ve=de.getState(),be=!1;function Te(oe){oe.json!==void 0&&function(je){if(je!==void 0){var Ne=!Sn(p,je),Re=p===void 0;if(l("update external json",{isChanged:Ne,isText:Re}),!!Ne){var qe=ee,Qe=p,it=v,at=be,Mt=V;n(7,p=je),n(14,ee=no(p,qe,[],Ee(p),!1)),n(8,v=void 0),n(21,be=!1),n(9,V=we(V,p)),We({previousJson:Qe,previousState:qe,previousText:it,previousTextIsRepaired:at,previousSelection:Mt}),ne()}}}(oe.json),oe.text!==void 0&&function(je){if(!(je===void 0||T.json!==void 0)&&je!==v){l("update external text");var Ne=p,Re=ee,qe=v,Qe=be,it=V;try{n(7,p=JSON.parse(je)),n(14,ee=no(p,Re,[],Ee(p),!1)),n(8,v=je),n(21,be=!1),n(9,V=we(V,p))}catch{try{n(7,p=JSON.parse(na(je))),n(14,ee=no(p,Re,[],Ee(p),!1)),n(8,v=je),n(21,be=!0),n(9,V=we(V,p))}catch{n(7,p=void 0),n(14,ee=void 0),n(8,v=T.text),n(21,be=!1),n(9,V=we(V,p))}}V||p!==void 0||v!==""&&v!==void 0||n(9,V=tt()),We({previousJson:Ne,previousState:Re,previousText:qe,previousTextIsRepaired:Qe,previousSelection:it}),ne()}}(oe.text)}function we(oe,je){return oe&&Se.exports.existsIn(je,oe.anchorPath)&&Se.exports.existsIn(je,oe.focusPath)?oe:(l("clearing selection: path does not exist anymore"),null)}function We(oe){var je=oe.previousJson,Ne=oe.previousState,Re=oe.previousText,qe=oe.previousTextIsRepaired,Qe=oe.previousSelection;je===void 0&&Re===void 0||(p!==void 0?je!==void 0?de.add({undo:{patch:[{op:"replace",path:"",value:je}],state:Ne,text:Re,textIsRepaired:qe,selection:Bs(Qe)},redo:{patch:[{op:"replace",path:"",value:p}],state:ee,text:v,textIsRepaired:be,selection:Bs(V)}}):de.add({undo:{state:Ne,text:Re,textIsRepaired:qe,selection:Bs(Qe)},redo:{json:p,state:ee,text:v,textIsRepaired:be,selection:Bs(V)}}):je!==void 0&&de.add({undo:{json:je,state:Ne,text:Re,textIsRepaired:qe,selection:Bs(Qe)},redo:{text:v,textIsRepaired:be,state:ee,selection:Bs(V)}}))}function tt(){return nn(p||{},ee,{type:Et,anchorPath:[],focusPath:[]})}function Xe(oe,je){if(p===void 0)throw new Error("Cannot apply patch: no JSON");var Ne=p,Re=ee,qe=v,Qe=be,it=V;l("patch",oe,je);var at=Se.exports.revertJSONPatch(p,oe),Mt=jP(p,ee,oe),Kt=typeof je=="function"?je(Mt.json,Mt.state,V):void 0;return n(7,p=Kt&&Kt.json!==void 0?Kt.json:Mt.json),n(14,ee=Kt&&Kt.state!==void 0?Kt.state:Mt.state),n(8,v=void 0),n(21,be=!1),n(9,V=Kt&&Kt.selection?Kt.selection:Gu(Ne,0,oe)),n(9,V=we(V,p)),de.add({undo:{patch:at,state:Re,text:qe,textIsRepaired:Qe,selection:Bs(it)},redo:{patch:oe,state:ee,text:v,textIsRepaired:be,selection:Bs(V)}}),{json:p,previousJson:Ne,undo:at,redo:oe}}function dt(){return V&&(V.type===Et||V.type===pn||V.type===mt)}function Tt(){!_&&V&&n(9,V=nn(p,ee,{type:pn,path:V.focusPath,edit:!0}))}function ot(){!_&&V&&n(9,V=nn(p,ee,{type:mt,path:V.focusPath,edit:!0}))}function Rt(){if(!_&&V&&V.type===mt){var oe=V.focusPath,je=oe.concat(Po),Ne=!Se.exports.getIn(ee,je);n(14,ee=Se.exports.setIn(ee,je,Ne,!0));var Re=Se.exports.getIn(p,oe),qe=Ne?String(Re):Gc(Re);qe!==Re&&Mr([{op:"replace",path:Se.exports.compileJSONPointer(oe),value:qe}])}}function _t(){return gt.apply(this,arguments)}function gt(){return(gt=In(bt().mark(function oe(){var je,Ne,Re,qe,Qe,it=arguments;return bt().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(je=!(it.length>0&&it[0]!==void 0)||it[0],!_&&dt()){at.next=3;break}return at.abrupt("return");case 3:if((Ne=Q_(p,V,je?H:null))!=null){at.next=7;break}return at.abrupt("return");case 7:return l("cut",{selection:V,clipboard:Ne,indent:je}),at.prev=8,at.next=11,navigator.clipboard.writeText(Ne);case 11:at.next=16;break;case 13:at.prev=13,at.t0=at.catch(8),z(at.t0);case 16:Re=n3(p,ee,V),qe=Re.operations,Qe=Re.newSelection,Mr(qe,function(){return{selection:Qe}});case 18:case"end":return at.stop()}},oe,null,[[8,13]])}))).apply(this,arguments)}function It(){return kn.apply(this,arguments)}function kn(){return(kn=In(bt().mark(function oe(){var je,Ne,Re=arguments;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(je=!(Re.length>0&&Re[0]!==void 0)||Re[0],(Ne=Q_(p,V,je?H:null))!=null){qe.next=5;break}return qe.abrupt("return");case 5:return l("copy",{clipboard:Ne,indent:je}),qe.prev=6,qe.next=9,navigator.clipboard.writeText(Ne);case 9:qe.next=14;break;case 11:qe.prev=11,qe.t0=qe.catch(6),z(qe.t0);case 14:case"end":return qe.stop()}},oe,null,[[6,11]])}))).apply(this,arguments)}function Xn(){g(zJ,{},lt(lt({},Ou),{},{styleWindow:lt(lt({},Ou.styleWindow),{},{width:"450px"})}),{onClose:function(){return setTimeout(L)}})}function He(oe){if(p!==void 0){var je=V||tt(),Ne=t3(p,ee,je,oe);l("paste",{clipboardText:oe,operations:Ne,selectionOrDefault:je}),Mr(Ne,function(Re,qe){var Qe=qe;return Ne.filter(function(it){return Sr(it.value)}).forEach(function(it){var at=Xa(p,it.path);Qe=ui(Re,Qe,at)}),{state:Qe}})}else l("paste text",{clipboardText:oe}),function(Re,qe){var Qe=ee,it=p,at=v,Mt={json:p,text:v},Kt=be,Cn=V;try{n(7,p=JSON.parse(Re)),n(14,ee=no(p,Qe,[],Fs)),n(8,v=void 0),n(21,be=!1)}catch{try{n(7,p=JSON.parse(na(Re))),n(14,ee=no(p,Qe,[],Fs)),n(8,v=Re),n(21,be=!0)}catch{n(7,p=void 0),n(14,ee=no(p,qm(p),[],Fs)),n(8,v=Re),n(21,be=!1)}}if(typeof qe=="function"){var Ln=qe(p,ee,V);n(7,p=Ln&&Ln.json?Ln.json:p),n(14,ee=Ln&&Ln.state?Ln.state:ee),n(9,V=Ln&&Ln.selection?Ln.selection:V)}n(9,V=we(V,p)),We({previousJson:it,previousState:Qe,previousText:at,previousTextIsRepaired:Kt,previousSelection:Cn}),Ns(Mt,null)}(oe,function(Re,qe){if(Re)return{state:ui(Re,qe,[])}})}function ir(){if(!_&&V){var oe=V.type===pn||V.type===mt?nn(p,ee,{type:Et,anchorPath:V.anchorPath,focusPath:V.focusPath}):V;if(zn(V.focusPath))l("remove root",{selection:V}),O({text:"",json:void 0},{text:v,json:p},null);else{var je=n3(p,ee,oe),Ne=je.operations,Re=je.newSelection;l("remove",{operations:Ne,selection:V,newSelection:Re}),Mr(Ne,function(){return{selection:Re}})}}}function hn(){_||!dt()||zn(V.focusPath)||(l("duplicate",{selection:V}),Mr(function(oe,je,Ne){var Re=ht(Ne);if(zn(Re))throw new Error("Cannot duplicate root object");var qe=Gt(Re),Qe=ht(Re),it=Se.exports.getIn(oe,qe);if(Array.isArray(it)){var at=ht(Ne),Mt=at?parseInt(ht(at),10)+1:0;return Qt(Ne.map(function(Ln,lr){return{op:"copy",from:Se.exports.compileJSONPointer(Ln),path:Se.exports.compileJSONPointer(qe.concat(lr+Mt))}}))}var Kt=Wr(je,qe),Cn=Sp(Kt,Qe,!1);return[].concat(Qt(Ne.map(function(Ln){var lr=pf(ht(Ln),Kt);return{op:"copy",from:Se.exports.compileJSONPointer(Ln),path:Se.exports.compileJSONPointer(qe.concat(lr))}})),Qt(Cn.map(function(Ln){return tl(qe,Ln)})))}(p,ee,V.paths||[V.focusPath])))}function tn(){_||!V||V.type!==Et&&V.type!==mt||zn(V.focusPath)||(l("extract",{selection:V}),Mr(function(oe,je,Ne){if(Ne.type===mt)return[{op:"move",from:Se.exports.compileJSONPointer(Ne.focusPath),path:""}];if(Ne.type===Et){var Re=Gt(Ne.focusPath),qe=Se.exports.getIn(oe,Re);if(Array.isArray(qe))return[{op:"replace",path:"",value:Ne.paths.map(function(it){var at=ht(it);return qe[at]})}];var Qe={};return Ne.paths.forEach(function(it){var at=ht(it);Qe[at]=qe[at]}),[{op:"replace",path:"",value:Qe}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(Ne))}(p,0,V),function(oe,je){if(Sr(oe))return{state:ui(oe,je,[])}}),Zn())}function vn(oe){if(!_&&V){var je=function(it,at,Mt){if(Mt==="object")return{};if(Mt==="array")return[];if(Mt==="structure"){var Kt=SP(at),Cn=Se.exports.getIn(it,Kt);if(Array.isArray(Cn)&&!zn(Cn)){var Ln=hr(Cn);return Sr(Ln)?ny(Ln,function(lr){return Array.isArray(lr)?[]:yr(lr)?void 0:""}):""}}return""}(p,V,oe);if(p!==void 0){var Ne=JSON.stringify(je),Re=t3(p,ee,V,Ne);l("handleInsert",{type:oe,operations:Re,newValue:je,data:Ne});var qe=ht(Re.filter(function(it){return it.op==="add"||it.op==="replace"}));Mr(Re,function(it,at){if(qe){var Mt=Xa(it,qe.path);return Sr(je)?{state:lv(it,at,Mt,ud),selection:nn(it||{},at,{type:br,path:Mt})}:je===""?{selection:nn(it,at,{type:yr(zn(Mt)?null:Se.exports.getIn(it,Gt(Mt)))?pn:mt,path:Mt,edit:!0})}:void 0}}),qe&&(Zn(),je===""&&ar().then(function(){setTimeout(function(){return _o("",!0)})}))}else{l("handleInsert",{type:oe,newValue:je});var Qe=[];Al(je,function(it,at){return{state:ui(it,at,Qe),selection:nn(it,at,{type:br,path:Qe})}}),Zn()}}}function Pr(oe){V.type===pn&&n(9,V=nn(p,ee,{type:mt,path:V.focusPath})),vn(oe)}function Tr(oe){if(!_&&V)if(wd(V))try{var je=V.anchorPath,Ne=Se.exports.getIn(p,je),Re=function(Qe,it){if(it==="array"){if(Array.isArray(Qe))return Qe;if(yr(Qe))return t_(Qe);if(typeof Qe=="string"){var at=JSON.parse(Qe);if(Array.isArray(at))return at;if(yr(at))return t_(at)}}if(it==="object"){if(Array.isArray(Qe))return e_(Qe);if(yr(Qe))return Qe;if(typeof Qe=="string"){var Mt=JSON.parse(Qe);if(yr(Mt))return Mt;if(Array.isArray(Mt))return e_(Mt)}}if(it==="value")return Sr(Qe)?JSON.stringify(Qe):Qe;throw new Error("Cannot convert ".concat(E0(Qe)," to ").concat(it))}(Ne,oe);if(Re===Ne)return;var qe=[{op:"replace",path:Se.exports.compileJSONPointer(je),value:Re}];l("handleConvert",{selection:V,path:je,type:oe,operations:qe}),Mr(qe,function(Qe,it){return{state:ui(Qe,it,V.focusPath)}}),Zn()}catch(Qe){z(Qe)}else z(new Error("Cannot convert current selection to ".concat(oe)))}function Pn(){var oe=J_(p,ee,V,!1),je=Gt(V.focusPath);!zn(oe.focusPath)&&Sn(je,Gt(oe.focusPath))?n(9,V=nn(p,ee,{type:Gr,path:oe.focusPath})):n(9,V=nn(p,ee,{type:br,path:je})),l("insert before",{selection:V,selectionBefore:oe,parentPath:je}),ar().then(li)}function Fo(){var oe=V.paths?ht(V.paths):V.focusPath;l("insert after",oe),n(9,V=nn(p,ee,{type:Gr,path:oe})),ar().then(li)}function _o(oe,je){var Ne=Qu(h).document.activeElement;Ne.isContentEditable&&(Ne.textContent=je?oe:Ne.textContent+oe,IP(Ne))}function Nn(oe){return ct.apply(this,arguments)}function ct(){return(ct=In(bt().mark(function oe(je){var Ne,Re;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!_&&V){qe.next=2;break}return qe.abrupt("return");case 2:if(V.type!==pn){qe.next=9;break}return Ne=!V.edit,n(9,V=lt(lt({},V),{},{edit:!0})),qe.next=7,ar();case 7:return setTimeout(function(){return _o(je,Ne)}),qe.abrupt("return");case 9:if(je!=="{"){qe.next=13;break}vn("object"),qe.next=28;break;case 13:if(je!=="["){qe.next=17;break}vn("array"),qe.next=28;break;case 17:if(V.type!==mt){qe.next=26;break}if(Sr(Se.exports.getIn(p,V.focusPath))){qe.next=24;break}return Re=!V.edit,n(9,V=lt(lt({},V),{},{edit:!0})),qe.next=23,ar();case 23:setTimeout(function(){return _o(je,Re)});case 24:qe.next=28;break;case 26:return qe.next=28,Wt(je);case 28:case"end":return qe.stop()}},oe)}))).apply(this,arguments)}function Wt(oe){return qo.apply(this,arguments)}function qo(){return(qo=In(bt().mark(function oe(je){var Ne,Re,qe;return bt().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(!_&&V){Qe.next=2;break}return Qe.abrupt("return");case 2:return vn("value"),Ne=!V.edit,Re=V.focusPath,qe=Se.exports.getIn(p,Gt(Re)),n(9,V=nn(p,ee,{type:Array.isArray(qe)||!qe||V.type===mt?mt:pn,path:Re,edit:!0})),Qe.next=9,ar();case 9:setTimeout(function(){return _o(je,Ne)});case 10:case"end":return Qe.stop()}},oe)}))).apply(this,arguments)}function So(){if(!_&&de.getState().canUndo){var oe=de.undo();if(oe){var je={json:p,text:v};n(9,V=oe.undo.selection),n(7,p=oe.undo.patch?Se.exports.immutableJSONPatch(p,oe.undo.patch):oe.undo.json),n(14,ee=oe.undo.state),n(8,v=oe.undo.text),n(21,be=oe.undo.textIsRepaired),l("undo",{item:oe,json:p,state:ee,selection:V}),Ns(je,{json:p,previousJson:je.json,redo:oe.undo.patch,undo:oe.redo.patch}),Zn(),V&&ls(V.focusPath)}}}function qr(){if(!_&&de.getState().canRedo){var oe=de.redo();if(oe){var je={json:p,text:v};n(9,V=oe.redo.selection),n(7,p=oe.redo.patch?Se.exports.immutableJSONPatch(p,oe.redo.patch):oe.redo.json),n(14,ee=oe.redo.state),n(8,v=oe.redo.text),n(21,be=oe.redo.textIsRepaired),l("redo",{item:oe,json:p,state:ee,selection:V}),Ns(je,{json:p,previousJson:je.json,redo:oe.redo.patch,undo:oe.undo.patch}),Zn(),V&&ls(V.focusPath)}}}function $l(oe){var je;_||(Z=!0,M({id:m,json:p,selectedPath:oe,onSort:(je=In(bt().mark(function Ne(Re){return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:l("onSort",oe,Re),Mr(Re,function(Qe,it){return{state:ui(Qe,it,oe),selection:nn(Qe,it,{type:mt,path:oe})}});case 2:case"end":return qe.stop()}},Ne)})),function(Ne){return je.apply(this,arguments)}),onClose:function(){Z=!1,Zn()}}))}function mf(){V&&$l(G_(p,V))}function _a(oe){var je=oe.id,Ne=oe.selectedPath,Re=oe.onTransform,qe=oe.onClose;Z=!0,B({id:je||y,json:p,selectedPath:Ne,onTransform:Re?function(Qe){Re({operations:Qe,json:p,transformedJson:Se.exports.immutableJSONPatch(p,Qe)})}:function(Qe){l("onTransform",Ne,Qe),Mr(Qe,function(it,at){return{state:ui(it,at,Ne),selection:nn(it,at,{type:mt,path:Ne})}})},onClose:function(){Z=!1,Zn(),qe&&qe()}})}function gf(){V&&_a({selectedPath:G_(p,V)})}function ls(oe){return Ol.apply(this,arguments)}function Ol(){return(Ol=In(bt().mark(function oe(je){var Ne,Re;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return n(14,ee=H_(p,ee,je)),qe.next=3,ar();case 3:(Ne=Is(je))&&(l("scrollTo",{path:je,elem:Ne,refContents:c}),Re=-c.getBoundingClientRect().height/4,A(Ne,{container:c,offset:Re,duration:300}));case 5:case"end":return qe.stop()}},oe)}))).apply(this,arguments)}function Is(oe){return c?c.querySelector('div[data-path="'.concat(Um(oe),'"]')):null}function Sa(oe){var je=Is(oe);if(je&&c){var Ne=c.getBoundingClientRect(),Re=je.getBoundingClientRect(),qe=Sr(Se.exports.getIn(p,oe))?20:Re.height;Re.top<Ne.top+20?A(je,{container:c,offset:-20,duration:0}):Re.top+qe>Ne.bottom-20&&A(je,{container:c,offset:-(Ne.height-qe-20),duration:0})}}function Ns(oe,je){v!==void 0?O({text:v,json:void 0},oe,je):p!==void 0&&O({text:void 0,json:p},oe,je)}function Mr(oe,je){if(!_){l("handlePatch",oe,je);var Ne={json:p,text:v},Re=Xe(oe,je);return n(15,le=void 0),Ns(Ne,Re),Re}}function Al(oe,je){var Ne=ee,Re=p,qe=v,Qe={json:p,text:v},it=be,at=V,Mt=no(oe,Ne,[],Fs),Kt=typeof je=="function"?je(oe,Mt,V):void 0;n(7,p=Kt&&Kt.json!==void 0?Kt.json:oe),n(14,ee=Kt&&Kt.state!==void 0?Kt.state:Mt),n(8,v=void 0),n(21,be=!1),n(9,V=Kt&&Kt.selection?Kt.selection:V),n(9,V=we(V,p)),We({previousJson:Re,previousState:Ne,previousText:qe,previousTextIsRepaired:it,previousSelection:at}),Ns(Qe,null)}function ui(oe,je,Ne){return lv(oe,je,Ne,n_({json:Se.exports.getIn(oe,Ne)},10240)?Fs:ud)}function Ca(oe,je){var Ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2];n(14,ee=je?lv(p,ee,oe,Ne?ud:Fs):OF(p,ee,oe)),V&&!je&&IF(V,oe)&&n(9,V=null),setTimeout(function(){th(h)||Zn()})}function yf(oe,je){n(9,V=oe?nn(p,ee,oe):null),(je==null?void 0:je.ensureFocus)!==!1&&setTimeout(function(){return Zn()})}function $a(oe){l("openFind",{findAndReplace:oe}),n(16,_e=!1),n(17,pe=!1),ar().then(function(){n(16,_e=!0),n(17,pe=oe)})}function Fp(oe,je){l("handleExpandSection",oe,je),n(14,ee=function(Ne,Re,qe,Qe){return no(Ne,Se.exports.updateIn(Re,qe.concat(Qi),function(it){return kP(it.concat(Qe))}),qe,function(){return!1})}(p,ee,oe,je))}function bf(oe){l("pasted json as text",oe),n(15,le=oe)}function Mn(oe){var je=oe.anchor,Ne=oe.left,Re=oe.top,qe=oe.width,Qe=oe.height,it=oe.offsetTop,at=oe.offsetLeft,Mt=oe.showTip;Z=!0,w(cK,{json:p,state:ee,selection:V,showTip:Mt,onEditKey:Tt,onEditValue:ot,onToggleEnforceString:Rt,onCut:_t,onCopy:It,onPaste:Xn,onRemove:ir,onDuplicate:hn,onExtract:tn,onInsertBefore:Pn,onInsert:Pr,onConvert:Tr,onInsertAfter:Fo,onSort:mf,onTransform:gf,onCloseContextMenu:function(){k(),Zn()}},{left:Ne,top:Re,offsetTop:it,offsetLeft:at,width:qe,height:Qe,anchor:je,closeOnOuterClick:!0,onClose:function(){Z=!1,Zn()}})}function li(oe){if(!_&&!(V!=null&&V.edit)){if(oe&&(oe.stopPropagation(),oe.preventDefault()),oe&&oe.type==="contextmenu"&&oe.target!==d)Mn({left:oe.clientX,top:oe.clientY,width:260,height:336,showTip:!1});else{var je=c==null?void 0:c.querySelector(".jse-context-menu-button.jse-selected");if(je)Mn({anchor:je,offsetTop:2,width:260,height:336,showTip:!1});else{var Ne=c==null?void 0:c.getBoundingClientRect();Ne&&Mn({top:Ne.top+2,left:Ne.left+2,width:260,height:336,showTip:!1})}}return!1}}function mu(){return(mu=In(bt().mark(function oe(){var je,Ne,Re;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return l("apply pasted json",le),Ne=(je=le).path,Re=je.contents,n(9,V=nn(p,ee,{type:mt,path:Ne})),qe.next=5,ar();case 5:Mr([{op:"replace",path:Se.exports.compileJSONPointer(Ne),value:Re}],function(Qe,it){return{state:ui(Qe,it,Ne)}});case 7:case"end":return qe.stop()}},oe)}))).apply(this,arguments)}function Zn(){d&&(d.focus(),d.select())}function El(){return p}function Pl(){return ee}function Ls(){return V}return t.$$set=function(oe){"readOnly"in oe&&n(0,_=oe.readOnly),"externalContent"in oe&&n(49,T=oe.externalContent),"mainMenuBar"in oe&&n(1,R=oe.mainMenuBar),"navigationBar"in oe&&n(2,j=oe.navigationBar),"escapeControlCharacters"in oe&&n(50,Y=oe.escapeControlCharacters),"escapeUnicodeCharacters"in oe&&n(51,K=oe.escapeUnicodeCharacters),"validator"in oe&&n(52,I=oe.validator),"indentation"in oe&&n(53,H=oe.indentation),"onError"in oe&&n(54,z=oe.onError),"onChange"in oe&&n(55,O=oe.onChange),"onRenderValue"in oe&&n(56,x=oe.onRenderValue),"onRequestRepair"in oe&&n(3,G=oe.onRequestRepair),"onRenderMenu"in oe&&n(4,xe=oe.onRenderMenu),"onClassName"in oe&&n(57,$e=oe.onClassName),"onFocus"in oe&&n(58,L=oe.onFocus),"onBlur"in oe&&n(59,Q=oe.onBlur),"onSortModal"in oe&&n(60,M=oe.onSortModal),"onTransformModal"in oe&&n(61,B=oe.onTransformModal)},t.$$.update=function(){1572864&t.$$.dirty[1]&&n(71,r=OP({escapeControlCharacters:Y,escapeUnicodeCharacters:K})),640&t.$$.dirty[0]&&n(23,o=$P(p,V)),128&t.$$.dirty[0]|128&t.$$.dirty[2]&&ne(ke,p),262144&t.$$.dirty[1]&&Te(T),t.$$.dirty[0],128&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&n(11,i=I?I(p):[]),2048&t.$$.dirty[0]&&n(22,s=function(oe){var je;return oe.forEach(function(Ne){var Re=Ne.path.concat([jm]);je=Se.exports.setIn(je,Re,Ne,!0)}),oe.forEach(function(Ne){for(var Re=Ne.path;Re.length>0;){var qe=(Re=Gt(Re)).concat([jm]);if(!Se.exports.existsIn(je,qe)){var Qe={isChildError:!0,path:Re,message:"Contains invalid data"};je=Se.exports.setIn(je,qe,Qe,!0)}}}),je}(i)),64&t.$$.dirty[0]&&n(70,u=SJ(c)),1&t.$$.dirty[0]|100663296&t.$$.dirty[1]|768&t.$$.dirty[2]&&n(10,a={readOnly:_,normalization:r,getFullJson:El,getFullState:Pl,getFullSelection:Ls,findElement:Is,focus:Zn,onPatch:Mr,onInsert:vn,onExpand:Ca,onSelect:yf,onFind:$a,onPasteJson:bf,onExpandSection:Fp,onRenderValue:x,onContextMenu:Mn,onClassName:$e||sn,onDrag:u.onDrag,onDragEnd:u.onDragEnd}),1024&t.$$.dirty[0]&&l("context changed",a)},[_,R,j,G,xe,function(){return be&&p!==void 0&&Al(p),{json:p,text:v}},c,p,v,V,a,i,d,h,ee,le,_e,pe,ce,Ce,ve,be,s,o,f,[],Oe,function(){return Pe.apply(this,arguments)},function(){return Ve.apply(this,arguments)},function(oe,je){return et.apply(this,arguments)},function(oe,je){return vt.apply(this,arguments)},function(){n(16,_e=!1),n(17,pe=!1),Oe(""),Zn()},function(oe){l("select validation error",oe),n(9,V=nn(p,ee,{type:mt,path:oe.path})),ls(oe.path),Zn()},It,function(oe){if(oe.preventDefault(),!_){var je=oe.clipboardData.getData("text/plain");try{He(je)}catch{(function(Re,qe){g(YJ,{text:Re,onParse:I0,onRepair:cD,onApply:qe,onRenderMenu:xe,onFocus:L,onBlur:Q},lt(lt({},Ou),{},{styleWindow:lt(lt({},Ou.styleWindow),{},{width:"600px",height:"500px"}),styleContent:{padding:0,height:"100%"}}),{onClose:function(){return Zn()}})})(je,function(Re){l("repaired pasted text: ",Re),He(Re)})}}},So,qr,function(){$l([])},function(){_a({selectedPath:[]})},function(){Ca([],!0,!0)},function(){Ca([],!1,!0)},function(oe){var je=Sl(oe).replace(/^Command\+/,"Ctrl+"),Ne=oe.shiftKey;if(je==="Ctrl+X"&&(oe.preventDefault(),_t(!0)),je==="Ctrl+Shift+X"&&(oe.preventDefault(),_t(!1)),je==="Ctrl+C"&&(oe.preventDefault(),It(!0)),je==="Ctrl+Shift+C"&&(oe.preventDefault(),It(!1)),je==="Ctrl+D"&&(oe.preventDefault(),hn()),je!=="Delete"&&je!=="Backspace"||(oe.preventDefault(),ir()),je==="Insert"&&(oe.preventDefault(),vn("structure")),je==="Ctrl+A"&&(oe.preventDefault(),n(9,V={type:mt,anchorPath:[],focusPath:[]})),je==="Ctrl+Q"&&li(oe),je!=="Up"&&je!=="Shift+Up"||(oe.preventDefault(),n(9,V=V?J_(p,ee,V,Ne,!0)||V:Bf(p,ee)),Sa(V.focusPath)),je!=="Down"&&je!=="Shift+Down"||(oe.preventDefault(),n(9,V=V?CP(p,ee,V,Ne,!0)||V:Bf(p,ee)),Sa(V.focusPath)),je!=="Left"&&je!=="Shift+Left"||(oe.preventDefault(),n(9,V=V?function(Mt,Kt,Cn){var Ln=arguments.length>3&&arguments[3]!==void 0&&arguments[3],lr=K_(Mt,Kt,Cn,!(arguments.length>4&&arguments[4]!==void 0)||arguments[4]),ge=lr.caret,yt=lr.previous;if(Ln)return Cn.type!==Et?nn(Mt,Kt,{type:Et,anchorPath:Cn.anchorPath,focusPath:Cn.focusPath}):null;if(ge&&yt)return nn(Mt,Kt,{type:yt.type,path:yt.path});var Nt=Gt(Cn.focusPath),mn=Se.exports.getIn(Mt,Nt);return Cn.type===mt&&Array.isArray(mn)?nn(Mt,Kt,{type:Et,anchorPath:Cn.focusPath,focusPath:Cn.focusPath}):Cn.type!==Et||Array.isArray(mn)?null:nn(Mt,Kt,{type:pn,path:Cn.focusPath})}(p,ee,V,Ne,!_)||V:Bf(p,ee)),Sa(V.focusPath)),je!=="Right"&&je!=="Shift+Right"||(oe.preventDefault(),n(9,V=V?function(Mt,Kt,Cn){var Ln=arguments.length>3&&arguments[3]!==void 0&&arguments[3],lr=K_(Mt,Kt,Cn,!(arguments.length>4&&arguments[4]!==void 0)||arguments[4]),ge=lr.caret,yt=lr.next;return Ln?Cn.type!==Et?nn(Mt,Kt,{type:Et,anchorPath:Cn.anchorPath,focusPath:Cn.focusPath}):null:ge&&yt?nn(Mt,Kt,{type:yt.type,path:yt.path}):Cn.type===Et?nn(Mt,Kt,{type:mt,path:Cn.focusPath}):null}(p,ee,V,Ne,!_)||V:Bf(p,ee)),Sa(V.focusPath)),je==="Enter"&&V){if(!_&&V.type===Et&&V.paths.length===1){var Re=V.focusPath,qe=Se.exports.getIn(p,Gt(Re));Array.isArray(qe)&&n(9,V=nn(p,ee,{type:mt,path:Re}))}_||V.type!==pn||(oe.preventDefault(),n(9,V=lt(lt({},V),{},{edit:!0}))),V.type===mt&&(oe.preventDefault(),Sr(Se.exports.getIn(p,V.focusPath))?Ca(V.focusPath,!0):_||n(9,V=lt(lt({},V),{},{edit:!0})))}if(je.length===(je.startsWith("Shift+")?7:1)&&V)return oe.preventDefault(),void Nn(oe.key);if(je==="Enter"&&(V.type===Gr||V.type===br))return oe.preventDefault(),void Nn("");if(je==="Ctrl+Enter"&&V&&V.type===mt){var Qe=Se.exports.getIn(p,V.focusPath);P0(Qe)&&window.open(Qe,"_blank")}if(je==="Escape"&&V&&(oe.preventDefault(),n(9,V=null)),je==="Ctrl+F"&&(oe.preventDefault(),$a(!1)),je==="Ctrl+H"&&(oe.preventDefault(),$a(!0)),je==="Ctrl+Z"){oe.preventDefault();var it=document.activeElement;it&&it.blur&&it.focus?(it.blur(),setTimeout(function(){So(),setTimeout(function(){return it.select()})})):So()}if(je==="Ctrl+Shift+Z"){oe.preventDefault();var at=document.activeElement;at&&at.blur&&at.focus?(at.blur(),setTimeout(function(){qr(),setTimeout(function(){return at.select()})})):qr()}},function(oe){l("handleMouseDown",oe),setTimeout(function(){setTimeout(function(){$||MP(oe.target,"BUTTON")||(Zn(),V||p!==void 0||v!==""&&v!==void 0||n(9,V=tt()))})})},li,function(oe){_||Mn({anchor:FF(oe.target,"BUTTON"),offsetTop:0,width:260,height:336,showTip:!0})},function(){return mu.apply(this,arguments)},function(){l("clear pasted json"),n(15,le=void 0)},function(oe){n(9,V=oe),Zn(),ls(oe.focusPath)},function(oe){!af(oe.target,function(je){return je===h})&&V&&V.edit&&(l("click outside the editor, stop edit mode"),n(9,V=lt(lt({},V),{},{edit:!1})),$&&d&&(d.focus(),d.blur()),ar().then(function(){setTimeout(function(){d&&d.blur()})}))},T,Y,K,I,H,z,O,x,$e,L,Q,M,B,function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!0};n(14,ee=no(p,ee,[],oe,!0))},function(){return p},Xe,_a,ls,Is,Zn,ke,u,r,function(oe){n(16,_e=oe)},function(oe){Yt[oe?"unshift":"push"](function(){n(12,d=oe)})},function(oe){Yt[oe?"unshift":"push"](function(){n(6,c=oe)})},function(oe){Yt[oe?"unshift":"push"](function(){n(13,h=oe)})}]}var $1=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,GG,KG,an,{readOnly:0,externalContent:49,mainMenuBar:1,navigationBar:2,escapeControlCharacters:50,escapeUnicodeCharacters:51,validator:52,indentation:53,onError:54,onChange:55,onRenderValue:56,onRequestRepair:3,onRenderMenu:4,onClassName:57,onFocus:58,onBlur:59,onSortModal:60,onTransformModal:61,expand:62,get:63,patch:64,acceptAutoRepair:5,openTransformModal:65,scrollTo:66,findElement:67,focus:68},FG,[-1,-1,-1,-1,-1]),o}return ae(n,[{key:"expand",get:function(){return this.$$.ctx[62]}},{key:"get",get:function(){return this.$$.ctx[63]}},{key:"patch",get:function(){return this.$$.ctx[64]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[5]}},{key:"openTransformModal",get:function(){return this.$$.ctx[65]}},{key:"scrollTo",get:function(){return this.$$.ctx[66]}},{key:"findElement",get:function(){return this.$$.ctx[67]}},{key:"focus",get:function(){return this.$$.ctx[68]}}]),n}(),QG={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(t,e){var n=e.filter,r=e.sort,o=e.projection,i=[];if(n&&n.path&&n.relation&&n.value){var s="item => item".concat(Ta(n.path)),a=typeof OJ(n.value)=="string"?"'".concat(n.value,"'"):n.value;i.push("  data = data.filter(".concat(s," ").concat(n.relation," ").concat(a,`)
`))}if(r&&r.path&&r.direction&&(r.direction==="desc"?i.push(`  data = data.slice().sort((a, b) => {
    // sort descending
`+"    const valueA = a".concat(Ta(r.path),`
`)+"    const valueB = b".concat(Ta(r.path),`
`)+`    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
  })
`):i.push(`  data = data.slice().sort((a, b) => {
    // sort ascending
`+"    const valueA = a".concat(Ta(r.path),`
`)+"    const valueB = b".concat(Ta(r.path),`
`)+`    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
  })
`)),o&&o.paths)if(o.paths.length>1){var u=o.paths.map(function(f){var c=f[f.length-1]||"item",d="item".concat(Ta(f));return"    ".concat(JSON.stringify(c),": ").concat(d)});i.push(`  data = data.map(item => ({
`.concat(u.join(`,
`),`})
  )
`))}else{var l="item".concat(Ta(o.paths[0]));i.push("  data = data.map(item => ".concat(l,`)
`))}return i.push(`  return data
`),`function query (data) {
`.concat(i.join(""),"}")},executeQuery:function(t,e){var n=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(t);return n!==void 0?n:null}};function YG(t){zt(t,"svelte-zs5o25",".jse-boolean-toggle.svelte-zs5o25{color:var(--jse-value-color-boolean);position:relative;padding-left:calc(0.5 * var(--jse-padding));padding-top:1px;height:var(--jse-line-height)}")}function XG(t){var e,n,r,o,i,s;return n=new Ut({props:{data:t[0]===!0?Ch:Sh}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-boolean-toggle svelte-zs5o25"),E(e,"title",r=t[1]?"Boolean value ".concat(t[0]):"Click to toggle this boolean value")},m:function(a,u){ye(a,e,u),Me(n,e,null),o=!0,i||(s=Fe(e,"mousedown",t[2]),i=!0)},p:function(a,u){var l=At(u,1)[0],f={};1&l&&(f.data=a[0]===!0?Ch:Sh),n.$set(f),(!o||3&l&&r!==(r=a[1]?"Boolean value ".concat(a[0]):"Click to toggle this boolean value"))&&E(e,"title",r)},i:function(a){o||(J(n.$$.fragment,a),o=!0)},o:function(a){te(n.$$.fragment,a),o=!1},d:function(a){a&&me(e),Ie(n),i=!1,s()}}}function ZG(t,e,n){var r=e.path,o=e.value,i=e.readOnly,s=e.onPatch,a=e.onSelect;return t.$$set=function(u){"path"in u&&n(3,r=u.path),"value"in u&&n(0,o=u.value),"readOnly"in u&&n(1,i=u.readOnly),"onPatch"in u&&n(4,s=u.onPatch),"onSelect"in u&&n(5,a=u.onSelect)},[o,i,function(u){u.stopPropagation(),i||(s([{op:"replace",path:Se.exports.compileJSONPointer(r),value:!o}]),a({type:mt,path:r}))},r,s,a]}var eQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,ZG,XG,an,{path:3,value:0,readOnly:1,onPatch:4,onSelect:5},YG),o}return ae(n)}();function tQ(t){zt(t,"svelte-1gn8yt9",".jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background);line-height:normal}.jse-color-picker-popup.svelte-1gn8yt9 .picker_slider,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sl,.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sample,.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input{background:var(--jse-background-color);color:var(--jse-text-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{background:var(--jse-button-background);color:var(--jse-button-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button:hover{background:var(--jse-button-background-highlight)}")}function nQ(t){var e;return{c:function(){E(e=re("div"),"class","jse-color-picker-popup svelte-1gn8yt9")},m:function(n,r){ye(n,e,r),t[4](e)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e),t[4](null)}}}function rQ(t,e,n){var r,o,i=e.color,s=e.onChange,a=e.showOnTop;return ri(In(bt().mark(function u(){var l;return bt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.resolve().then(function(){return KY});case 2:l=f.sent.default,(o=new l({parent:r,color:i,popup:a?"top":"bottom",onDone:function(c){var d=c.rgba[3]===1?c.hex.substring(0,7):c.hex;s(d)}})).show();case 5:case"end":return f.stop()}},u)}))),la(function(){o&&o.destroy()}),t.$$set=function(u){"color"in u&&n(1,i=u.color),"onChange"in u&&n(2,s=u.onChange),"showOnTop"in u&&n(3,a=u.showOnTop)},[r,i,s,a,function(u){Yt[u?"unshift":"push"](function(){n(0,r=u)})}]}var oQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,rQ,nQ,xr,{color:1,onChange:2,showOnTop:3},tQ),o}return ae(n)}();function iQ(t){zt(t,"svelte-fk1u9y",".jse-color-picker-button.svelte-fk1u9y{font-size:var(--jse-font-size-mono);width:var(--jse-color-picker-button-size);height:var(--jse-color-picker-button-size);box-sizing:border-box;padding:0;margin:2px;border:1px solid var(--jse-text-color);border-radius:2px;background:inherit;outline:none;cursor:pointer}")}function sQ(t){var e,n,r,o;return{c:function(){E(e=re("button"),"class","jse-color-picker-button svelte-fk1u9y"),qi(e,"background",t[2]),E(e,"title",n=t[1]?"Color ".concat(t[0]):"Click to open a color picker")},m:function(i,s){ye(i,e,s),r||(o=Fe(e,"click",t[3]),r=!0)},p:function(i,s){var a=At(s,1)[0];4&a&&qi(e,"background",i[2]),3&a&&n!==(n=i[1]?"Color ".concat(i[0]):"Click to open a color picker")&&E(e,"title",n)},i:Ge,o:Ge,d:function(i){i&&me(e),r=!1,o()}}}function aQ(t,e,n){var r,o=wo("absolute-popup").openAbsolutePopup,i=e.path,s=e.value,a=e.readOnly,u=e.onPatch,l=e.onSelect;function f(d){u([{op:"replace",path:Se.exports.compileJSONPointer(i),value:d}]),c()}function c(){l({type:mt,path:i})}return t.$$set=function(d){"path"in d&&n(4,i=d.path),"value"in d&&n(0,s=d.value),"readOnly"in d&&n(1,a=d.readOnly),"onPatch"in d&&n(5,u=d.onPatch),"onSelect"in d&&n(6,l=d.onSelect)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=VO(s))},[s,a,r,function(d){if(!a){var h=d.target.getBoundingClientRect().top,p=Qu(d.target).innerHeight;o(oQ,{color:s,onChange:f,showOnTop:p-h<300&&h>300},{anchor:d.target,closeOnOuterClick:!0,onClose:c,offsetTop:18,offsetLeft:-8,height:300})}},i,u,l]}var uQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,aQ,sQ,an,{path:4,value:0,readOnly:1,onPatch:5,onSelect:6},iQ),o}return ae(n)}();function Vc(t){var e=E0(t);return nl("jse-value","jse-"+e,{"jse-url":P0(t),"jse-empty":typeof t=="string"&&t.length===0})}function lQ(t){var e,n;return e=new sI({props:{value:t[1].escapeValue(t[0]),onChange:t[3],onCancel:t[4],onPaste:t[5],onFind:t[2],onValueClass:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i=At(o,1)[0],s={};3&i&&(s.value=r[1].escapeValue(r[0])),4&i&&(s.onFind=r[2]),e.$set(s)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function cQ(t,e,n){var r=e.path,o=e.value,i=e.normalization,s=e.enforceString,a=e.onPatch,u=e.onPasteJson,l=e.onSelect,f=e.onFind;function c(d){return s?d:Gc(d)}return t.$$set=function(d){"path"in d&&n(7,r=d.path),"value"in d&&n(0,o=d.value),"normalization"in d&&n(1,i=d.normalization),"enforceString"in d&&n(8,s=d.enforceString),"onPatch"in d&&n(9,a=d.onPatch),"onPasteJson"in d&&n(10,u=d.onPasteJson),"onSelect"in d&&n(11,l=d.onSelect),"onFind"in d&&n(2,f=d.onFind)},[o,i,f,function(d,h){a([{op:"replace",path:Se.exports.compileJSONPointer(r),value:c(i.unescapeValue(d))}]),h===A0&&l({type:mt,path:r,nextInside:!0}),h===O0&&l({type:mt,path:r},{ensureFocus:!1})},function(){l({type:mt,path:r})},function(d){try{var h=JSON.parse(d);Sr(h)&&u({path:r,contents:h})}catch{}},function(d){return Vc(c(i.unescapeValue(d)))},r,s,a,u,l]}var fQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,cQ,lQ,an,{path:7,value:0,normalization:1,enforceString:8,onPatch:9,onPasteJson:10,onSelect:11,onFind:2}),o}return ae(n)}();function dQ(t){zt(t,"svelte-6ci2p7",'.jse-value.jse-string.svelte-6ci2p7{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-6ci2p7,.jse-value.jse-array.svelte-6ci2p7{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-6ci2p7{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-6ci2p7{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-6ci2p7{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-6ci2p7{color:var(--jse-text-color)}.jse-value.jse-url.svelte-6ci2p7{color:var(--jse-value-color-url);text-decoration:underline}.jse-value.svelte-6ci2p7{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-6ci2p7:hover{background:var(--jse-hover-background-color)}.jse-value.jse-empty.svelte-6ci2p7{min-width:4em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-value.jse-empty.svelte-6ci2p7::after{pointer-events:none;color:var(--jse-tag-background);content:"value"}')}function hQ(t){var e,n=eu(t[1].escapeValue(t[0]))+"";return{c:function(){e=nt(n)},m:function(r,o){ye(r,e,o)},p:function(r,o){3&o&&n!==(n=eu(r[1].escapeValue(r[0]))+"")&&en(e,n)},i:Ge,o:Ge,d:function(r){r&&me(e)}}}function pQ(t){var e,n;return e=new iI({props:{text:t[1].escapeValue(t[0]),searchResult:t[2]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};3&o&&(i.text=r[1].escapeValue(r[0])),4&o&&(i.searchResult=r[2]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function vQ(t){var e,n,r,o,i,s,a,u,l=[pQ,hQ],f=[];function c(d,h){return d[2]?0:1}return n=c(t),r=f[n]=l[n](t),{c:function(){e=re("div"),r.c(),E(e,"data-type","selectable-value"),E(e,"class",o=vr(Vc(t[0]))+" svelte-6ci2p7"),E(e,"title",i=t[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m:function(d,h){ye(d,e,h),f[n].m(e,null),s=!0,a||(u=[Fe(e,"click",t[4]),Fe(e,"dblclick",t[5])],a=!0)},p:function(d,h){var p=At(h,1)[0],v=n;(n=c(d))===v?f[n].p(d,p):(Ue(),te(f[v],1,1,function(){f[v]=null}),Je(),(r=f[n])?r.p(d,p):(r=f[n]=l[n](d)).c(),J(r,1),r.m(e,null)),(!s||1&p&&o!==(o=vr(Vc(d[0]))+" svelte-6ci2p7"))&&E(e,"class",o),(!s||8&p&&i!==(i=d[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&E(e,"title",i)},i:function(d){s||(J(r),s=!0)},o:function(d){te(r),s=!1},d:function(d){d&&me(e),f[n].d(),a=!1,Kn(u)}}}function mQ(t,e,n){var r,o=e.path,i=e.value,s=e.readOnly,a=e.normalization,u=e.onSelect,l=e.searchResult;return t.$$set=function(f){"path"in f&&n(6,o=f.path),"value"in f&&n(0,i=f.value),"readOnly"in f&&n(7,s=f.readOnly),"normalization"in f&&n(1,a=f.normalization),"onSelect"in f&&n(8,u=f.onSelect),"searchResult"in f&&n(2,l=f.searchResult)},t.$$.update=function(){1&t.$$.dirty&&n(3,r=P0(i))},[i,a,l,r,function(f){typeof i=="string"&&r&&f.ctrlKey&&(f.preventDefault(),f.stopPropagation(),window.open(i,"_blank"))},function(f){s||(f.preventDefault(),u({type:mt,path:o,edit:!0}))},o,s,u]}var gQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,mQ,vQ,an,{path:6,value:0,readOnly:7,normalization:1,onSelect:8,searchResult:2},dQ),o}return ae(n)}();function yQ(t){zt(t,"svelte-1u00zub",".jse-timestamp.svelte-1u00zub{padding:0;margin:0;height:var(--jse-line-height);color:var(--jse-value-color-number);border-radius:3px}")}function bQ(t){var e,n,r,o,i,s;return n=new Ut({props:{data:nK}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-timestamp svelte-1u00zub")},m:function(a,u){ye(a,e,u),Me(n,e,null),o=!0,i||(s=Jc(r=aI.call(null,e,lt({text:t[0]},t[1]))),i=!0)},p:function(a,u){var l=At(u,1)[0];r&&yi(r.update)&&1&l&&r.update.call(null,lt({text:a[0]},a[1]))},i:function(a){o||(J(n.$$.fragment,a),o=!0)},o:function(a){te(n.$$.fragment,a),o=!1},d:function(a){a&&me(e),Ie(n),i=!1,s()}}}function wQ(t,e,n){var r,o=wo("absolute-popup"),i=e.value;return t.$$set=function(s){"value"in s&&n(2,i=s.value)},t.$$.update=function(){4&t.$$.dirty&&n(0,r="Time: ".concat(new Date(i).toString()))},[r,o,i]}var kQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,wQ,bQ,an,{value:2},yQ),o}return ae(n)}();function xQ(t){var e=t.path,n=t.value,r=t.readOnly,o=t.enforceString,i=t.searchResult,s=t.isEditing,a=t.normalization,u=t.onPatch,l=t.onPasteJson,f=t.onSelect,c=t.onFind,d=[];return!s&&function(h){return h===!0||h===!1}(n)&&d.push({component:eQ,props:{path:e,value:n,readOnly:r,onPatch:u,onSelect:f}}),!s&&function(h){return typeof h=="string"&&!!VO(h)}(n)&&d.push({component:uQ,props:{path:e,value:n,readOnly:r,onPatch:u,onSelect:f}}),s&&d.push({component:fQ,props:{path:e,value:n,enforceString:o,normalization:a,onPatch:u,onPasteJson:l,onSelect:f,onFind:c}}),s||d.push({component:gQ,props:{path:e,value:n,readOnly:r,normalization:a,searchResult:i,onSelect:f}}),!s&&function(h){return typeof h=="number"&&h>9466848e5&&isFinite(h)&&Math.floor(h)===h&&!isNaN(new Date(h).valueOf())}(n)&&d.push({component:kQ,props:{value:n}}),d}var hi={};function jQ(t){zt(t,"svelte-3e0qet",".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")}function _Q(t){var e,n,r=t[0](t[1],t[2])+"";return{c:function(){E(e=re("div"),"class",n="item "+t[3]+" svelte-3e0qet")},m:function(o,i){ye(o,e,i),e.innerHTML=r},p:function(o,i){var s=At(i,1)[0];7&s&&r!==(r=o[0](o[1],o[2])+"")&&(e.innerHTML=r),8&s&&n!==(n="item "+o[3]+" svelte-3e0qet")&&E(e,"class",n)},i:Ge,o:Ge,d:function(o){o&&me(e)}}}function SQ(t,e,n){var r=e.isActive,o=r!==void 0&&r,i=e.isFirst,s=i!==void 0&&i,a=e.isHover,u=a!==void 0&&a,l=e.isSelectable,f=l!==void 0&&l,c=e.getOptionLabel,d=c===void 0?void 0:c,h=e.item,p=h===void 0?void 0:h,v=e.filterText,g=v===void 0?"":v,m="";return t.$$set=function(y){"isActive"in y&&n(4,o=y.isActive),"isFirst"in y&&n(5,s=y.isFirst),"isHover"in y&&n(6,u=y.isHover),"isSelectable"in y&&n(7,f=y.isSelectable),"getOptionLabel"in y&&n(0,d=y.getOptionLabel),"item"in y&&n(1,p=y.item),"filterText"in y&&n(2,g=y.filterText)},t.$$.update=function(){if(242&t.$$.dirty){var y=[];o&&y.push("active"),s&&y.push("first"),u&&y.push("hover"),p.isGroupHeader&&y.push("groupHeader"),p.isGroupItem&&y.push("groupItem"),f||y.push("notSelectable"),n(3,m=y.join(" "))}},[d,p,g,m,o,s,u,f]}var cI=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,SQ,_Q,xr,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2},jQ),o}return ae(n)}();function CQ(t){zt(t,"svelte-1uyqfml",".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}")}function c5(t,e,n){var r=t.slice();return r[41]=e[n],r[42]=n,r}function $Q(t){for(var e,n,r=t[1],o=[],i=0;i<r.length;i+=1)o[i]=h5(c5(t,r,i));var s=function(u){return te(o[u],1,1,function(){o[u]=null})},a=null;return r.length||(a=f5(t)),{c:function(){for(var u=0;u<o.length;u+=1)o[u].c();e=dn(),a&&a.c()},m:function(u,l){for(var f=0;f<o.length;f+=1)o[f].m(u,l);ye(u,e,l),a&&a.m(u,l),n=!0},p:function(u,l){if(114390&l[0]){var f;for(r=u[1],f=0;f<r.length;f+=1){var c=c5(u,r,f);o[f]?(o[f].p(c,l),J(o[f],1)):(o[f]=h5(c),o[f].c(),J(o[f],1),o[f].m(e.parentNode,e))}for(Ue(),f=r.length;f<o.length;f+=1)s(f);Je(),!r.length&&a?a.p(u,l):r.length?a&&(a.d(1),a=null):((a=f5(u)).c(),a.m(e.parentNode,e))}},i:function(u){if(!n){for(var l=0;l<r.length;l+=1)J(o[l]);n=!0}},o:function(u){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)te(o[l]);n=!1},d:function(u){jo(o,u),u&&me(e),a&&a.d(u)}}}function OQ(t){var e,n,r,o=t[3];function i(s){return{props:{items:s[1],itemHeight:s[8],$$slots:{default:[PQ,function(a){return{41:a.item,42:a.i}},function(a){return[0,(a.item?1024:0)|(a.i?2048:0)]}]},$$scope:{ctx:s}}}}return o&&(e=new o(i(t))),{c:function(){e&&Le(e.$$.fragment),n=dn()},m:function(s,a){e&&Me(e,s,a),ye(s,n,a),r=!0},p:function(s,a){var u={};if(2&a[0]&&(u.items=s[1]),256&a[0]&&(u.itemHeight=s[8]),9814&a[0]|11264&a[1]&&(u.$$scope={dirty:a,ctx:s}),o!==(o=s[3])){if(e){Ue();var l=e;te(l.$$.fragment,1,0,function(){Ie(l,1)}),Je()}o?(Le((e=new o(i(s))).$$.fragment),J(e.$$.fragment,1),Me(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i:function(s){r||(e&&J(e.$$.fragment,s),r=!0)},o:function(s){e&&te(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Ie(e,s)}}}function f5(t){var e,n=!t[11]&&d5(t);return{c:function(){n&&n.c(),e=dn()},m:function(r,o){n&&n.m(r,o),ye(r,e,o)},p:function(r,o){r[11]?n&&(n.d(1),n=null):n?n.p(r,o):((n=d5(r)).c(),n.m(e.parentNode,e))},d:function(r){n&&n.d(r),r&&me(e)}}}function d5(t){var e,n;return{c:function(){e=re("div"),n=nt(t[12]),E(e,"class","empty svelte-1uyqfml")},m:function(r,o){ye(r,e,o),U(e,n)},p:function(r,o){4096&o[0]&&en(n,r[12])},d:function(r){r&&me(e)}}}function AQ(t){var e,n,r,o,i,s,a=t[4];function u(d){return{props:{item:d[41],filterText:d[13],getOptionLabel:d[6],isFirst:Ug(d[42]),isActive:$h(d[41],d[9],d[10]),isHover:Oh(d[2],d[41],d[42],d[1]),isSelectable:iu(d[41])}}}function l(){return t[29](t[42])}function f(){return t[30](t[42])}function c(){for(var d,h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];return(d=t)[31].apply(d,[t[41],t[42]].concat(p))}return a&&(n=new a(u(t))),{c:function(){e=re("div"),n&&Le(n.$$.fragment),r=Ae(),E(e,"class","listItem"),E(e,"tabindex","-1")},m:function(d,h){ye(d,e,h),n&&Me(n,e,null),U(e,r),o=!0,i||(s=[Fe(e,"mouseover",l),Fe(e,"focus",f),Fe(e,"click",c)],i=!0)},p:function(d,h){t=d;var p={};if(2&h[0]&&(p.item=t[41]),8192&h[0]&&(p.filterText=t[13]),64&h[0]&&(p.getOptionLabel=t[6]),1538&h[0]&&(p.isActive=$h(t[41],t[9],t[10])),6&h[0]&&(p.isHover=Oh(t[2],t[41],t[42],t[1])),2&h[0]&&(p.isSelectable=iu(t[41])),a!==(a=t[4])){if(n){Ue();var v=n;te(v.$$.fragment,1,0,function(){Ie(v,1)}),Je()}a?(Le((n=new a(u(t))).$$.fragment),J(n.$$.fragment,1),Me(n,e,r)):n=null}else a&&n.$set(p)},i:function(d){o||(n&&J(n.$$.fragment,d),o=!0)},o:function(d){n&&te(n.$$.fragment,d),o=!1},d:function(d){d&&me(e),n&&Ie(n),i=!1,Kn(s)}}}function EQ(t){var e,n,r=t[7](t[41])+"";return{c:function(){e=re("div"),n=nt(r),E(e,"class","listGroupTitle svelte-1uyqfml")},m:function(o,i){ye(o,e,i),U(e,n)},p:function(o,i){130&i[0]&&r!==(r=o[7](o[41])+"")&&en(n,r)},i:Ge,o:Ge,d:function(o){o&&me(e)}}}function h5(t){var e,n,r,o,i=[EQ,AQ],s=[];function a(u,l){return u[41].isGroupHeader&&!u[41].isSelectable?0:1}return e=a(t),n=s[e]=i[e](t),{c:function(){n.c(),r=dn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),o=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ue(),te(s[f],1,1,function(){s[f]=null}),Je(),(n=s[e])?n.p(u,l):(n=s[e]=i[e](u)).c(),J(n,1),n.m(r.parentNode,r))},i:function(u){o||(J(n),o=!0)},o:function(u){te(n),o=!1},d:function(u){s[e].d(u),u&&me(r)}}}function PQ(t){var e,n,r,o,i,s=t[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:Ug(c[42]),isActive:$h(c[41],c[9],c[10]),isHover:Oh(c[2],c[41],c[42],c[1]),isSelectable:iu(c[41])}}}function u(){return t[26](t[42])}function l(){return t[27](t[42])}function f(){for(var c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return(c=t)[28].apply(c,[t[41],t[42]].concat(h))}return s&&(n=new s(a(t))),{c:function(){e=re("div"),n&&Le(n.$$.fragment),E(e,"class","listItem")},m:function(c,d){ye(c,e,d),n&&Me(n,e,null),r=!0,o||(i=[Fe(e,"mouseover",u),Fe(e,"focus",l),Fe(e,"click",f)],o=!0)},p:function(c,d){t=c;var h={};if(1024&d[1]&&(h.item=t[41]),8192&d[0]&&(h.filterText=t[13]),64&d[0]&&(h.getOptionLabel=t[6]),2048&d[1]&&(h.isFirst=Ug(t[42])),1536&d[0]|1024&d[1]&&(h.isActive=$h(t[41],t[9],t[10])),6&d[0]|3072&d[1]&&(h.isHover=Oh(t[2],t[41],t[42],t[1])),1024&d[1]&&(h.isSelectable=iu(t[41])),s!==(s=t[4])){if(n){Ue();var p=n;te(p.$$.fragment,1,0,function(){Ie(p,1)}),Je()}s?(Le((n=new s(a(t))).$$.fragment),J(n.$$.fragment,1),Me(n,e,null)):n=null}else s&&n.$set(h)},i:function(c){r||(n&&J(n.$$.fragment,c),r=!0)},o:function(c){n&&te(n.$$.fragment,c),r=!1},d:function(c){c&&me(e),n&&Ie(n),o=!1,Kn(i)}}}function TQ(t){var e,n,r,o,i,s,a=[OQ,$Q],u=[];function l(f,c){return f[5]?0:1}return n=l(t),r=u[n]=a[n](t),{c:function(){e=re("div"),r.c(),E(e,"class","listContainer svelte-1uyqfml"),E(e,"style",t[14]),Ze(e,"virtualList",t[5])},m:function(f,c){ye(f,e,c),u[n].m(e,null),t[32](e),o=!0,i||(s=[Fe(window,"keydown",t[17]),Fe(window,"resize",t[18])],i=!0)},p:function(f,c){var d=n;(n=l(f))===d?u[n].p(f,c):(Ue(),te(u[d],1,1,function(){u[d]=null}),Je(),(r=u[n])?r.p(f,c):(r=u[n]=a[n](f)).c(),J(r,1),r.m(e,null)),(!o||16384&c[0])&&E(e,"style",f[14]),32&c[0]&&Ze(e,"virtualList",f[5])},i:function(f){o||(J(r),o=!0)},o:function(f){te(r),o=!1},d:function(f){f&&me(e),u[n].d(),t[32](null),i=!1,Kn(s)}}}function $h(t,e,n){return e&&e[n]===t[n]}function Ug(t){return t===0}function Oh(t,e,n,r){return iu(e)&&(t===n||r.length===1)}function iu(t){return t.isGroupHeader&&t.isSelectable||t.selectable||!t.hasOwnProperty("selectable")}function MQ(t,e,n){var r,o,i=Qh(),s=e.container,a=s===void 0?void 0:s,u=e.VirtualList,l=u===void 0?null:u,f=e.Item,c=f===void 0?cI:f,d=e.isVirtualList,h=d!==void 0&&d,p=e.items,v=p===void 0?[]:p,g=e.labelIdentifier,m=g===void 0?"label":g,y=e.getOptionLabel,b=y===void 0?function(pe,ce){if(pe)return pe.isCreator?'Create "'.concat(ce,'"'):pe[m]}:y,w=e.getGroupHeaderLabel,k=w===void 0?null:w,$=e.itemHeight,A=$===void 0?40:$,P=e.hoverItemIndex,_=P===void 0?0:P,T=e.value,C=T===void 0?void 0:T,R=e.optionIdentifier,S=R===void 0?"value":R,j=e.hideEmptyState,q=j!==void 0&&j,Y=e.noOptionsMessage,F=Y===void 0?"No options":Y,K=e.isMulti,D=K!==void 0&&K,I=e.activeItemIndex,W=I===void 0?0:I,H=e.filterText,z=H===void 0?"":H,O=e.parent,x=O===void 0?null:O,N=e.listPlacement,G=N===void 0?null:N,ue=e.listAutoWidth,xe=ue===void 0?null:ue,$e=e.listOffset,L=$e===void 0?5:$e,Q=0,M=!1;function B(pe){pe.isCreator||i("itemSelected",pe)}function Z(pe){M||n(2,_=pe)}function le(pe){var ce=pe.item,ke=pe.i;if(pe.event.stopPropagation(),C&&!D&&C[S]===ce[S])return ee();ce.isCreator?i("itemCreated",z):iu(ce)&&(n(19,W=ke),n(2,_=ke),B(ce))}function ee(){i("closeList")}function V(pe){return Ee.apply(this,arguments)}function Ee(){return(Ee=In(bt().mark(function pe(ce){var ke;return bt().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!h){Oe.next=2;break}return Oe.abrupt("return");case 2:for(ke=!0;ke;)ce>0&&_===v.length-1?n(2,_=0):n(2,ce<0&&_===0?_=v.length-1:_+=ce),ke=!iu(v[_]);return Oe.next=6,ar();case 6:Ce("hover");case 7:case"end":return Oe.stop()}},pe)}))).apply(this,arguments)}function Ce(pe){if(!h&&a){var ce,ke=a.querySelector(".listItem .".concat(pe));ke&&(ce=a.getBoundingClientRect().bottom-ke.getBoundingClientRect().bottom),n(0,a.scrollTop-=ce,a)}}function _e(){var pe=x.getBoundingClientRect(),ce=pe.height,ke=pe.width;n(14,o=""),n(14,o+="min-width:".concat(ke,"px;width:").concat(xe?"auto":"100%",";")),G==="top"||G==="auto"&&function(Oe,fe){var Pe=Oe.getBoundingClientRect(),Ve=fe.getBoundingClientRect(),et={};return et.top=Pe.top<0,et.left=Pe.left<0,et.bottom=Pe.bottom+Ve.height>(window.innerHeight||document.documentElement.clientHeight),et.right=Pe.right>(window.innerWidth||document.documentElement.clientWidth),et.any=et.top||et.left||et.bottom||et.right,et}(x,a).bottom?n(14,o+="bottom:".concat(ce+L,"px;")):n(14,o+="top:".concat(ce+L,"px;"))}return ri(function(){if(v.length>0&&!D&&C){var pe=v.findIndex(function(ce){return ce[S]===C[S]});pe&&n(2,_=pe)}Ce("active"),a.addEventListener("scroll",function(){clearTimeout(Q),Q=setTimeout(function(){M=!1},100)},!1)}),RO(function(){v||n(1,v=[]),v!==r&&v.length>0&&n(2,_=0),r=v}),t.$$set=function(pe){"container"in pe&&n(0,a=pe.container),"VirtualList"in pe&&n(3,l=pe.VirtualList),"Item"in pe&&n(4,c=pe.Item),"isVirtualList"in pe&&n(5,h=pe.isVirtualList),"items"in pe&&n(1,v=pe.items),"labelIdentifier"in pe&&n(20,m=pe.labelIdentifier),"getOptionLabel"in pe&&n(6,b=pe.getOptionLabel),"getGroupHeaderLabel"in pe&&n(7,k=pe.getGroupHeaderLabel),"itemHeight"in pe&&n(8,A=pe.itemHeight),"hoverItemIndex"in pe&&n(2,_=pe.hoverItemIndex),"value"in pe&&n(9,C=pe.value),"optionIdentifier"in pe&&n(10,S=pe.optionIdentifier),"hideEmptyState"in pe&&n(11,q=pe.hideEmptyState),"noOptionsMessage"in pe&&n(12,F=pe.noOptionsMessage),"isMulti"in pe&&n(21,D=pe.isMulti),"activeItemIndex"in pe&&n(19,W=pe.activeItemIndex),"filterText"in pe&&n(13,z=pe.filterText),"parent"in pe&&n(22,x=pe.parent),"listPlacement"in pe&&n(23,G=pe.listPlacement),"listAutoWidth"in pe&&n(24,xe=pe.listAutoWidth),"listOffset"in pe&&n(25,L=pe.listOffset)},t.$$.update=function(){4194305&t.$$.dirty[0]&&x&&a&&_e()},[a,v,_,l,c,h,b,k,A,C,S,q,F,z,o,Z,le,function(pe){switch(pe.key){case"Escape":pe.preventDefault(),ee();break;case"ArrowDown":pe.preventDefault(),v.length&&V(1);break;case"ArrowUp":pe.preventDefault(),v.length&&V(-1);break;case"Enter":if(pe.preventDefault(),v.length===0)break;var ce=v[_];if(C&&!D&&C[S]===ce[S]){ee();break}ce.isCreator?i("itemCreated",z):(n(19,W=_),B(v[_]));break;case"Tab":if(pe.preventDefault(),v.length===0||C&&C[S]===v[_][S])return ee();n(19,W=_),B(v[_])}},_e,W,m,D,x,G,xe,L,function(pe){return Z(pe)},function(pe){return Z(pe)},function(pe,ce,ke){return le({item:pe,i:ce,event:ke})},function(pe){return Z(pe)},function(pe){return Z(pe)},function(pe,ce,ke){return le({item:pe,i:ce,event:ke})},function(pe){Yt[pe?"unshift":"push"](function(){n(0,a=pe)})}]}var IQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,MQ,TQ,xr,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},CQ,[-1,-1]),o}return ae(n)}();function NQ(t){zt(t,"svelte-pu1q1n",".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}")}function LQ(t){var e,n=t[0](t[1])+"";return{c:function(){E(e=re("div"),"class","selection svelte-pu1q1n")},m:function(r,o){ye(r,e,o),e.innerHTML=n},p:function(r,o){3&At(o,1)[0]&&n!==(n=r[0](r[1])+"")&&(e.innerHTML=n)},i:Ge,o:Ge,d:function(r){r&&me(e)}}}function RQ(t,e,n){var r=e.getSelectionLabel,o=r===void 0?void 0:r,i=e.item,s=i===void 0?void 0:i;return t.$$set=function(a){"getSelectionLabel"in a&&n(0,o=a.getSelectionLabel),"item"in a&&n(1,s=a.item)},[o,s]}var DQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,RQ,LQ,xr,{getSelectionLabel:0,item:1},NQ),o}return ae(n)}();function BQ(t){zt(t,"svelte-liu9pa",".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}")}function p5(t,e,n){var r=t.slice();return r[9]=e[n],r[11]=n,r}function v5(t){var e,n,r;function o(){for(var i,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(i=t)[6].apply(i,[t[11]].concat(a))}return{c:function(){(e=re("div")).innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',E(e,"class","multiSelectItem_clear svelte-liu9pa")},m:function(i,s){ye(i,e,s),n||(r=Fe(e,"click",o),n=!0)},p:function(i,s){t=i},d:function(i){i&&me(e),n=!1,r()}}}function m5(t){var e,n,r,o,i,s,a,u=t[4](t[9])+"",l=!t[2]&&!t[3]&&v5(t);function f(){for(var c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return(c=t)[7].apply(c,[t[11]].concat(h))}return{c:function(){e=re("div"),n=re("div"),r=Ae(),l&&l.c(),o=Ae(),E(n,"class","multiSelectItem_label svelte-liu9pa"),E(e,"class",i="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-liu9pa")},m:function(c,d){ye(c,e,d),U(e,n),n.innerHTML=u,U(e,r),l&&l.m(e,null),U(e,o),s||(a=Fe(e,"click",f),s=!0)},p:function(c,d){t=c,17&d&&u!==(u=t[4](t[9])+"")&&(n.innerHTML=u),t[2]||t[3]?l&&(l.d(1),l=null):l?l.p(t,d):((l=v5(t)).c(),l.m(e,o)),6&d&&i!==(i="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-liu9pa")&&E(e,"class",i)},d:function(c){c&&me(e),l&&l.d(),s=!1,a()}}}function zQ(t){for(var e,n=t[0],r=[],o=0;o<n.length;o+=1)r[o]=m5(p5(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=dn()},m:function(i,s){for(var a=0;a<r.length;a+=1)r[a].m(i,s);ye(i,e,s)},p:function(i,s){var a=At(s,1)[0];if(63&a){var u;for(n=i[0],u=0;u<n.length;u+=1){var l=p5(i,n,u);r[u]?r[u].p(l,a):(r[u]=m5(l),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},i:Ge,o:Ge,d:function(i){jo(r,i),i&&me(e)}}}function FQ(t,e,n){var r=Qh(),o=e.value,i=o===void 0?[]:o,s=e.activeValue,a=s===void 0?void 0:s,u=e.isDisabled,l=u!==void 0&&u,f=e.multiFullItemClearable,c=f!==void 0&&f,d=e.getSelectionLabel,h=d===void 0?void 0:d;function p(v,g){g.stopPropagation(),r("multiItemClear",{i:v})}return t.$$set=function(v){"value"in v&&n(0,i=v.value),"activeValue"in v&&n(1,a=v.activeValue),"isDisabled"in v&&n(2,l=v.isDisabled),"multiFullItemClearable"in v&&n(3,c=v.multiFullItemClearable),"getSelectionLabel"in v&&n(4,h=v.getSelectionLabel)},[i,a,l,c,h,p,function(v,g){return p(v,g)},function(v,g){return c?p(v,g):{}}]}var qQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,FQ,zQ,xr,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4},BQ),o}return ae(n)}();function VQ(t){zt(t,"svelte-g2cagw","svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}")}function g5(t,e,n){var r=t.slice();return r[23]=e[n],r}var HQ=function(t){return{item:32&t,i:32&t,hoverItemIndex:2&t}},y5=function(t){return{item:t[23].data,i:t[23].index,hoverItemIndex:t[1]}};function b5(t,e){var n,r,o,i=e[15].default,s=_i(i,e,e[14],y5),a=s||function(u){var l;return{c:function(){l=nt("Missing template")},m:function(f,c){ye(f,l,c)},d:function(f){f&&me(l)}}}();return{key:t,first:null,c:function(){n=re("svelte-virtual-list-row"),a&&a.c(),r=Ae(),bm(n,"class","svelte-g2cagw"),this.first=n},m:function(u,l){ye(u,n,l),a&&a.m(n,null),U(n,r),o=!0},p:function(u,l){e=u,s&&s.p&&(!o||16418&l)&&Ci(s,i,e,e[14],o?Si(i,e[14],l,HQ):$i(e[14]),y5)},i:function(u){o||(J(a,u),o=!0)},o:function(u){te(a,u),o=!1},d:function(u){u&&me(n),a&&a.d(u)}}}function WQ(t){for(var e,n,r,o,i,s,a=[],u=new Map,l=t[5],f=function(p){return p[23].index},c=0;c<l.length;c+=1){var d=g5(t,l,c),h=f(d);u.set(h,a[c]=b5(h,d))}return{c:function(){e=re("svelte-virtual-list-viewport"),n=re("svelte-virtual-list-contents");for(var p=0;p<a.length;p+=1)a[p].c();qi(n,"padding-top",t[6]+"px"),qi(n,"padding-bottom",t[7]+"px"),bm(n,"class","svelte-g2cagw"),qi(e,"height",t[0]),bm(e,"class","svelte-g2cagw"),ca(function(){return t[18].call(e)})},m:function(p,v){ye(p,e,v),U(e,n);for(var g=0;g<a.length;g+=1)a[g].m(n,null);t[16](n),t[17](e),r=function(m,y){getComputedStyle(m).position==="static"&&(m.style.position="relative");var b=re("iframe");b.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),b.setAttribute("aria-hidden","true"),b.tabIndex=-1;var w,k=CR();return k?(b.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",w=Fe(window,"message",function($){$.source===b.contentWindow&&y()})):(b.src="about:blank",b.onload=function(){w=Fe(b.contentWindow,"resize",y)}),U(m,b),function(){(k||w&&b.contentWindow)&&w(),me(b)}}(e,t[18].bind(e)),o=!0,i||(s=Fe(e,"scroll",t[8]),i=!0)},p:function(p,v){var g=At(v,1)[0];16418&g&&(l=p[5],Ue(),a=hl(a,g,f,1,p,l,u,n,Kc,b5,null,g5),Je()),(!o||64&g)&&qi(n,"padding-top",p[6]+"px"),(!o||128&g)&&qi(n,"padding-bottom",p[7]+"px"),(!o||1&g)&&qi(e,"height",p[0])},i:function(p){if(!o){for(var v=0;v<l.length;v+=1)J(a[v]);o=!0}},o:function(p){for(var v=0;v<a.length;v+=1)te(a[v]);o=!1},d:function(p){p&&me(e);for(var v=0;v<a.length;v+=1)a[v].d();t[16](null),t[17](null),r(),i=!1,s()}}}function UQ(t,e,n){var r,o,i,s,a,u,l=e.$$slots,f=l===void 0?{}:l,c=e.$$scope,d=e.items,h=d===void 0?void 0:d,p=e.height,v=p===void 0?"100%":p,g=e.itemHeight,m=g===void 0?40:g,y=e.hoverItemIndex,b=y===void 0?0:y,w=e.start,k=w===void 0?0:w,$=e.end,A=$===void 0?0:$,P=[],_=0,T=0,C=0;function R(){return(R=In(bt().mark(function j(q,Y,F){var K,D,I,W,H,z;return bt().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return K=o.scrollTop,O.next=3,ar();case 3:D=T-K,I=k;case 5:if(!(D<Y&&I<q.length)){O.next=17;break}if(W=r[I-k]){O.next=12;break}return n(10,A=I+1),O.next=11,ar();case 11:W=r[I-k];case 12:H=P[I]=F||W.offsetHeight,D+=H,I+=1,O.next=5;break;case 17:n(10,A=I),z=q.length-A,n(7,C=z*(u=(T+D)/A)),P.length=q.length,o&&n(3,o.scrollTop=0,o);case 23:case"end":return O.stop()}},j)}))).apply(this,arguments)}function S(){return(S=In(bt().mark(function j(){var q,Y,F,K,D,I,W,H,z,O,x;return bt().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:for(q=o.scrollTop,Y=k,F=0;F<r.length;F+=1)P[k+F]=m||r[F].offsetHeight;K=0,D=0;case 5:if(!(K<h.length)){N.next=15;break}if(I=P[K]||u,!(D+I>q)){N.next=11;break}return n(9,k=K),n(6,T=D),N.abrupt("break",15);case 11:D+=I,K+=1,N.next=5;break;case 15:if(!(K<h.length)){N.next=22;break}if(D+=P[K]||u,K+=1,!(D>q+_)){N.next=20;break}return N.abrupt("break",22);case 20:N.next=15;break;case 22:for(n(10,A=K),W=h.length-A,u=D/A;K<h.length;)P[K++]=u;if(n(7,C=W*u),!(k<Y)){N.next=35;break}return N.next=30,ar();case 30:for(H=0,z=0,O=k;O<Y;O+=1)r[O-k]&&(H+=P[O],z+=m||r[O-k].offsetHeight);x=z-H,o.scrollTo(0,q+x);case 35:case"end":return N.stop()}},j)}))).apply(this,arguments)}return ri(function(){r=i.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)}),t.$$set=function(j){"items"in j&&n(11,h=j.items),"height"in j&&n(0,v=j.height),"itemHeight"in j&&n(12,m=j.itemHeight),"hoverItemIndex"in j&&n(1,b=j.hoverItemIndex),"start"in j&&n(9,k=j.start),"end"in j&&n(10,A=j.end),"$$scope"in j&&n(14,c=j.$$scope)},t.$$.update=function(){3584&t.$$.dirty&&n(5,s=h.slice(k,A).map(function(j,q){return{index:q+k,data:j}})),14340&t.$$.dirty&&a&&function(j,q,Y){R.apply(this,arguments)}(h,_,m)},[v,b,_,o,i,s,T,C,function(){return S.apply(this,arguments)},k,A,h,m,a,c,f,function(j){Yt[j?"unshift":"push"](function(){n(4,i=j)})},function(j){Yt[j?"unshift":"push"](function(){n(3,o=j)})},function(){_=this.offsetHeight,n(2,_)}]}var JQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,UQ,WQ,xr,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10},VQ),o}return ae(n)}();function KQ(t){var e,n;return{c:function(){e=Ss("svg"),E(n=Ss("path"),"fill","currentColor"),E(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","-2 -2 50 50"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"role","presentation")},m:function(r,o){ye(r,e,o),U(e,n)},p:Ge,i:Ge,o:Ge,d:function(r){r&&me(e)}}}var GQ=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,null,KQ,xr,{}),o}return ae(n)}();function QQ(t){zt(t,"svelte-17l1npl",".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}")}function w5(t,e,n){var r=t.slice();return r[103]=e[n],r}function k5(t){var e,n,r,o,i;return{c:function(){e=re("span"),n=nt(t[33]),r=Ae(),o=re("span"),i=nt(t[32]),E(e,"id","aria-selection"),E(o,"id","aria-context")},m:function(s,a){ye(s,e,a),U(e,n),ye(s,r,a),ye(s,o,a),U(o,i)},p:function(s,a){4&a[1]&&en(n,s[33]),2&a[1]&&en(i,s[32])},d:function(s){s&&me(e),s&&me(r),s&&me(o)}}}function x5(t){var e,n,r,o=[t[18]],i=t[17];function s(a){for(var u={},l=0;l<o.length;l+=1)u=ga(u,o[l]);return{props:u}}return i&&(e=new i(s())),{c:function(){e&&Le(e.$$.fragment),n=dn()},m:function(a,u){e&&Me(e,a,u),ye(a,n,u),r=!0},p:function(a,u){var l=262144&u[0]?au(o,[Yh(a[18])]):{};if(i!==(i=a[17])){if(e){Ue();var f=e;te(f.$$.fragment,1,0,function(){Ie(f,1)}),Je()}i?(Le((e=new i(s())).$$.fragment),J(e.$$.fragment,1),Me(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i:function(a){r||(e&&J(e.$$.fragment,a),r=!0)},o:function(a){e&&te(e.$$.fragment,a),r=!1},d:function(a){a&&me(n),e&&Ie(e,a)}}}function j5(t){var e,n,r,o=t[26];function i(s){return{props:{value:s[2],getSelectionLabel:s[12],activeValue:s[30],isDisabled:s[9],multiFullItemClearable:s[8]}}}return o&&((e=new o(i(t))).$on("multiItemClear",t[38]),e.$on("focus",t[40])),{c:function(){e&&Le(e.$$.fragment),n=dn()},m:function(s,a){e&&Me(e,s,a),ye(s,n,a),r=!0},p:function(s,a){var u={};if(4&a[0]&&(u.value=s[2]),4096&a[0]&&(u.getSelectionLabel=s[12]),1073741824&a[0]&&(u.activeValue=s[30]),512&a[0]&&(u.isDisabled=s[9]),256&a[0]&&(u.multiFullItemClearable=s[8]),o!==(o=s[26])){if(e){Ue();var l=e;te(l.$$.fragment,1,0,function(){Ie(l,1)}),Je()}o?((e=new o(i(s))).$on("multiItemClear",s[38]),e.$on("focus",s[40]),Le(e.$$.fragment),J(e.$$.fragment,1),Me(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i:function(s){r||(e&&J(e.$$.fragment,s),r=!0)},o:function(s){e&&te(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Ie(e,s)}}}function _5(t){var e,n,r,o,i,s=t[25];function a(u){return{props:{item:u[2],getSelectionLabel:u[12]}}}return s&&(n=new s(a(t))),{c:function(){e=re("div"),n&&Le(n.$$.fragment),E(e,"class","selectedItem svelte-17l1npl")},m:function(u,l){ye(u,e,l),n&&Me(n,e,null),r=!0,o||(i=Fe(e,"focus",t[40]),o=!0)},p:function(u,l){var f={};if(4&l[0]&&(f.item=u[2]),4096&l[0]&&(f.getSelectionLabel=u[12]),s!==(s=u[25])){if(n){Ue();var c=n;te(c.$$.fragment,1,0,function(){Ie(c,1)}),Je()}s?(Le((n=new s(a(u))).$$.fragment),J(n.$$.fragment,1),Me(n,e,null)):n=null}else s&&n.$set(f)},i:function(u){r||(n&&J(n.$$.fragment,u),r=!0)},o:function(u){n&&te(n.$$.fragment,u),r=!1},d:function(u){u&&me(e),n&&Ie(n),o=!1,i()}}}function S5(t){var e,n,r,o,i,s=t[23];return s&&(n=new s({})),{c:function(){e=re("div"),n&&Le(n.$$.fragment),E(e,"class","clearSelect svelte-17l1npl"),E(e,"aria-hidden","true")},m:function(a,u){var l;ye(a,e,u),n&&Me(n,e,null),r=!0,o||(i=Fe(e,"click",(l=t[27],function(f){return f.preventDefault(),l.call(this,f)})),o=!0)},p:function(a,u){if(s!==(s=a[23])){if(n){Ue();var l=n;te(l.$$.fragment,1,0,function(){Ie(l,1)}),Je()}s?(Le((n=new s({})).$$.fragment),J(n.$$.fragment,1),Me(n,e,null)):n=null}},i:function(a){r||(n&&J(n.$$.fragment,a),r=!0)},o:function(a){n&&te(n.$$.fragment,a),r=!1},d:function(a){a&&me(e),n&&Ie(n),o=!1,i()}}}function C5(t){var e;function n(i,s){return i[22]?XQ:YQ}var r=n(t),o=r(t);return{c:function(){e=re("div"),o.c(),E(e,"class","indicator svelte-17l1npl"),E(e,"aria-hidden","true")},m:function(i,s){ye(i,e,s),o.m(e,null)},p:function(i,s){r===(r=n(i))&&o?o.p(i,s):(o.d(1),(o=r(i))&&(o.c(),o.m(e,null)))},d:function(i){i&&me(e),o.d()}}}function YQ(t){var e,n;return{c:function(){e=Ss("svg"),E(n=Ss("path"),"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","0 0 20 20"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"class","svelte-17l1npl")},m:function(r,o){ye(r,e,o),U(e,n)},p:Ge,d:function(r){r&&me(e)}}}function XQ(t){var e,n;return{c:function(){e=new $R(!1),n=dn(),e.a=n},m:function(r,o){e.m(t[22],r,o),ye(r,n,o)},p:function(r,o){4194304&o[0]&&e.p(r[22])},d:function(r){r&&me(n),r&&e.d()}}}function $5(t){var e;return{c:function(){(e=re("div")).innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',E(e,"class","spinner svelte-17l1npl")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function O5(t){var e,n,r,o,i=[t[34]];function s(l){t[84](l)}var a=t[24];function u(l){for(var f={},c=0;c<i.length;c+=1)f=ga(f,i[c]);return l[28]!==void 0&&(f.hoverItemIndex=l[28]),{props:f}}return a&&(e=new a(u(t)),Yt.push(function(){return Oo(e,"hoverItemIndex",s)}),e.$on("itemSelected",t[43]),e.$on("itemCreated",t[44]),e.$on("closeList",t[45])),{c:function(){e&&Le(e.$$.fragment),r=dn()},m:function(l,f){e&&Me(e,l,f),ye(l,r,f),o=!0},p:function(l,f){var c=8&f[1]?au(i,[Yh(l[34])]):{};if(!n&&268435456&f[0]&&(n=!0,c.hoverItemIndex=l[28],Go(function(){return n=!1})),a!==(a=l[24])){if(e){Ue();var d=e;te(d.$$.fragment,1,0,function(){Ie(d,1)}),Je()}a?(e=new a(u(l)),Yt.push(function(){return Oo(e,"hoverItemIndex",s)}),e.$on("itemSelected",l[43]),e.$on("itemCreated",l[44]),e.$on("closeList",l[45]),Le(e.$$.fragment),J(e.$$.fragment,1),Me(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i:function(l){o||(e&&J(e.$$.fragment,l),o=!0)},o:function(l){e&&te(e.$$.fragment,l),o=!1},d:function(l){l&&me(r),e&&Ie(e,l)}}}function A5(t){var e,n,r;return{c:function(){E(e=re("input"),"name",n=t[16].name),E(e,"type","hidden"),e.value=r=t[2]?t[12](t[2]):null,E(e,"class","svelte-17l1npl")},m:function(o,i){ye(o,e,i)},p:function(o,i){65536&i[0]&&n!==(n=o[16].name)&&E(e,"name",n),4100&i[0]&&r!==(r=o[2]?o[12](o[2]):null)&&(e.value=r)},d:function(o){o&&me(e)}}}function E5(t){for(var e,n=t[2],r=[],o=0;o<n.length;o+=1)r[o]=P5(w5(t,n,o));return{c:function(){for(var i=0;i<r.length;i+=1)r[i].c();e=dn()},m:function(i,s){for(var a=0;a<r.length;a+=1)r[a].m(i,s);ye(i,e,s)},p:function(i,s){if(69636&s[0]){var a;for(n=i[2],a=0;a<n.length;a+=1){var u=w5(i,n,a);r[a]?r[a].p(u,s):(r[a]=P5(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d:function(i){jo(r,i),i&&me(e)}}}function P5(t){var e,n,r;return{c:function(){E(e=re("input"),"name",n=t[16].name),E(e,"type","hidden"),e.value=r=t[103]?t[12](t[103]):null,E(e,"class","svelte-17l1npl")},m:function(o,i){ye(o,e,i)},p:function(o,i){65536&i[0]&&n!==(n=o[16].name)&&E(e,"name",n),4100&i[0]&&r!==(r=o[103]?o[12](o[103]):null)&&(e.value=r)},d:function(o){o&&me(e)}}}function ZQ(t){for(var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b=t[1]&&k5(t),w=t[17]&&x5(t),k=t[35]&&j5(t),$=[{readOnly:a=!t[13]},t[31],{placeholder:t[36]},{style:t[14]},{disabled:t[9]}],A={},P=0;P<$.length;P+=1)A=ga(A,$[P]);var _=!t[7]&&t[29]&&_5(t),T=t[37]&&S5(t),C=!t[37]&&(t[20]||t[19]&&!t[2]||!t[13]&&!t[9]&&!t[4]&&(t[29]&&!t[15]||!t[29]))&&C5(t),R=t[4]&&$5(),S=t[5]&&O5(t),j=(!t[7]||t[7]&&!t[35])&&A5(t),q=t[7]&&t[35]&&E5(t);return{c:function(){e=re("div"),n=re("span"),b&&b.c(),r=Ae(),w&&w.c(),o=Ae(),k&&k.c(),i=Ae(),s=re("input"),u=Ae(),_&&_.c(),l=Ae(),T&&T.c(),f=Ae(),C&&C.c(),c=Ae(),R&&R.c(),d=Ae(),S&&S.c(),h=Ae(),j&&j.c(),p=Ae(),q&&q.c(),E(n,"aria-live","polite"),E(n,"aria-atomic","false"),E(n,"aria-relevant","additions text"),E(n,"class","a11yText svelte-17l1npl"),Uj(s,A),Ze(s,"svelte-17l1npl",!0),E(e,"class",v="selectContainer "+t[21]+" svelte-17l1npl"),E(e,"style",t[11]),Ze(e,"hasError",t[10]),Ze(e,"multiSelect",t[7]),Ze(e,"disabled",t[9]),Ze(e,"focused",t[1])},m:function(Y,F){ye(Y,e,F),U(e,n),b&&b.m(n,null),U(e,r),w&&w.m(e,null),U(e,o),k&&k.m(e,null),U(e,i),U(e,s),s.autofocus&&s.focus(),t[82](s),ua(s,t[3]),U(e,u),_&&_.m(e,null),U(e,l),T&&T.m(e,null),U(e,f),C&&C.m(e,null),U(e,c),R&&R.m(e,null),U(e,d),S&&S.m(e,null),U(e,h),j&&j.m(e,null),U(e,p),q&&q.m(e,null),t[85](e),g=!0,m||(y=[Fe(window,"click",t[41]),Fe(window,"focusin",t[41]),Fe(window,"keydown",t[39]),Fe(s,"focus",t[40]),Fe(s,"input",t[83]),Fe(e,"click",t[42])],m=!0)},p:function(Y,F){Y[1]?b?b.p(Y,F):((b=k5(Y)).c(),b.m(n,null)):b&&(b.d(1),b=null),Y[17]?w?(w.p(Y,F),131072&F[0]&&J(w,1)):((w=x5(Y)).c(),J(w,1),w.m(e,o)):w&&(Ue(),te(w,1,1,function(){w=null}),Je()),Y[35]?k?(k.p(Y,F),16&F[1]&&J(k,1)):((k=j5(Y)).c(),J(k,1),k.m(e,i)):k&&(Ue(),te(k,1,1,function(){k=null}),Je()),Uj(s,A=au($,[(!g||8192&F[0]&&a!==(a=!Y[13]))&&{readOnly:a},1&F[1]&&Y[31],(!g||32&F[1])&&{placeholder:Y[36]},(!g||16384&F[0])&&{style:Y[14]},(!g||512&F[0])&&{disabled:Y[9]}])),8&F[0]&&s.value!==Y[3]&&ua(s,Y[3]),Ze(s,"svelte-17l1npl",!0),!Y[7]&&Y[29]?_?(_.p(Y,F),536871040&F[0]&&J(_,1)):((_=_5(Y)).c(),J(_,1),_.m(e,l)):_&&(Ue(),te(_,1,1,function(){_=null}),Je()),Y[37]?T?(T.p(Y,F),64&F[1]&&J(T,1)):((T=S5(Y)).c(),J(T,1),T.m(e,f)):T&&(Ue(),te(T,1,1,function(){T=null}),Je()),Y[37]||!(Y[20]||Y[19]&&!Y[2])&&(Y[13]||Y[9]||Y[4]||(!Y[29]||Y[15])&&Y[29])?C&&(C.d(1),C=null):C?C.p(Y,F):((C=C5(Y)).c(),C.m(e,c)),Y[4]?R||((R=$5()).c(),R.m(e,d)):R&&(R.d(1),R=null),Y[5]?S?(S.p(Y,F),32&F[0]&&J(S,1)):((S=O5(Y)).c(),J(S,1),S.m(e,h)):S&&(Ue(),te(S,1,1,function(){S=null}),Je()),!Y[7]||Y[7]&&!Y[35]?j?j.p(Y,F):((j=A5(Y)).c(),j.m(e,p)):j&&(j.d(1),j=null),Y[7]&&Y[35]?q?q.p(Y,F):((q=E5(Y)).c(),q.m(e,null)):q&&(q.d(1),q=null),(!g||2097152&F[0]&&v!==(v="selectContainer "+Y[21]+" svelte-17l1npl"))&&E(e,"class",v),(!g||2048&F[0])&&E(e,"style",Y[11]),2098176&F[0]&&Ze(e,"hasError",Y[10]),2097280&F[0]&&Ze(e,"multiSelect",Y[7]),2097664&F[0]&&Ze(e,"disabled",Y[9]),2097154&F[0]&&Ze(e,"focused",Y[1])},i:function(Y){g||(J(w),J(k),J(_),J(T),J(S),g=!0)},o:function(Y){te(w),te(k),te(_),te(T),te(S),g=!1},d:function(Y){Y&&me(e),b&&b.d(),w&&w.d(),k&&k.d(),t[82](null),_&&_.d(),T&&T.d(),C&&C.d(),R&&R.d(),S&&S.d(),j&&j.d(),q&&q.d(),t[85](null),m=!1,Kn(y)}}}function T5(t){return t.map(function(e,n){return{index:n,value:e,label:"".concat(e)}})}function eY(t,e,n){var r,o,i,s,a,u,l,f,c=Qh(),d=e.id,h=d===void 0?null:d,p=e.container,v=p===void 0?void 0:p,g=e.input,m=g===void 0?void 0:g,y=e.isMulti,b=y!==void 0&&y,w=e.multiFullItemClearable,k=w!==void 0&&w,$=e.isDisabled,A=$!==void 0&&$,P=e.isCreatable,_=P!==void 0&&P,T=e.isFocused,C=T!==void 0&&T,R=e.value,S=R===void 0?null:R,j=e.filterText,q=j===void 0?"":j,Y=e.placeholder,F=Y===void 0?"Select...":Y,K=e.placeholderAlwaysShow,D=K!==void 0&&K,I=e.items,W=I===void 0?null:I,H=e.itemFilter,z=H===void 0?function(ge,yt,Nt){return"".concat(ge).toLowerCase().includes(yt.toLowerCase())}:H,O=e.groupBy,x=O===void 0?void 0:O,N=e.groupFilter,G=N===void 0?function(ge){return ge}:N,ue=e.isGroupHeaderSelectable,xe=ue!==void 0&&ue,$e=e.getGroupHeaderLabel,L=$e===void 0?function(ge){return ge[M]||ge.id}:$e,Q=e.labelIdentifier,M=Q===void 0?"label":Q,B=e.getOptionLabel,Z=B===void 0?function(ge,yt){return ge.isCreator?'Create "'.concat(yt,'"'):ge[M]}:B,le=e.optionIdentifier,ee=le===void 0?"value":le,V=e.loadOptions,Ee=V===void 0?void 0:V,Ce=e.hasError,_e=Ce!==void 0&&Ce,pe=e.containerStyles,ce=pe===void 0?"":pe,ke=e.getSelectionLabel,Oe=ke===void 0?function(ge){return ge?ge[M]:null}:ke,fe=e.createGroupHeaderItem,Pe=fe===void 0?function(ge){return{value:ge,label:ge}}:fe,Ve=e.createItem,et=Ve===void 0?function(ge){return{value:ge,label:ge}}:Ve,vt=e.isSearchable,Lt=vt===void 0||vt,wn=e.inputStyles,ne=wn===void 0?"":wn,de=e.isClearable,ve=de===void 0||de,be=e.isWaiting,Te=be!==void 0&&be,we=e.listPlacement,We=we===void 0?"auto":we,tt=e.listOpen,Xe=tt!==void 0&&tt,dt=e.isVirtualList,Tt=dt!==void 0&&dt,ot=e.loadOptionsInterval,Rt=ot===void 0?300:ot,_t=e.noOptionsMessage,gt=_t===void 0?"No options":_t,It=e.hideEmptyState,kn=It!==void 0&&It,Xn=e.inputAttributes,He=Xn===void 0?{}:Xn,ir=e.listAutoWidth,hn=ir===void 0||ir,tn=e.itemHeight,vn=tn===void 0?40:tn,Pr=e.Icon,Tr=Pr===void 0?void 0:Pr,Pn=e.iconProps,Fo=Pn===void 0?{}:Pn,_o=e.showChevron,Nn=_o!==void 0&&_o,ct=e.showIndicator,Wt=ct!==void 0&&ct,qo=e.containerClasses,So=qo===void 0?"":qo,qr=e.indicatorSvg,$l=qr===void 0?void 0:qr,mf=e.listOffset,_a=mf===void 0?5:mf,gf=e.ClearIcon,ls=gf===void 0?GQ:gf,Ol=e.Item,Is=Ol===void 0?cI:Ol,Sa=e.List,Ns=Sa===void 0?IQ:Sa,Mr=e.Selection,Al=Mr===void 0?DQ:Mr,ui=e.MultiSelection,Ca=ui===void 0?qQ:ui,yf=e.VirtualList,$a=yf===void 0?JQ:yf;function Fp(ge){if(!(ge.loadOptions&&ge.filterText.length>0)){if(!ge.items)return[];ge.items&&ge.items.length>0&&ut(ge.items[0])!=="object"&&(ge.items=T5(ge.items));var yt=ge.items.filter(function(Nt){var mn=z(Z(Nt,ge.filterText),ge.filterText,Nt);return mn&&ge.isMulti&&ge.value&&Array.isArray(ge.value)&&(mn=!ge.value.some(function(ci){return ci[ge.optionIdentifier]===Nt[ge.optionIdentifier]})),mn});return ge.groupBy&&(yt=function(Nt){var mn=[],ci={};Nt.forEach(function(Oa){var fi=x(Oa);mn.includes(fi)||(mn.push(fi),ci[fi]=[],fi&&ci[fi].push(Object.assign(Pe(fi,Oa),{id:fi,isGroupHeader:!0,isSelectable:xe}))),ci[fi].push(Object.assign({isGroupItem:!!fi},Oa))});var gu=[];return G(mn).forEach(function(Oa){gu.push.apply(gu,Qt(ci[Oa]))}),gu}(yt)),ge.isCreatable&&(yt=bf(yt,ge.filterText)),yt}}function bf(ge,yt){if(yt.length===0)return ge;var Nt=et(yt);return ge[0]&&yt===ge[0][M]?ge:(Nt.isCreator=!0,[].concat(Qt(ge),[Nt]))}var Mn,li,mu,Zn,El,Pl,Ls,oe=e.selectedValue,je=oe===void 0?null:oe,Ne=function(ge,yt,Nt){var mn;return function(){var ci=this,gu=arguments,Oa=function(){mn=null,Nt||ge.apply(ci,gu)},fi=Nt&&!mn;clearTimeout(mn),mn=setTimeout(Oa,yt),fi&&ge.apply(ci,gu)}}(In(bt().mark(function ge(){var yt;return bt().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return n(4,Te=!0),Nt.next=3,Ee(q).catch(function(mn){console.warn("svelte-select loadOptions error :>> ",mn),c("error",{type:"loadOptions",details:mn})});case 3:(yt=Nt.sent)&&!yt.cancelled&&(yt?(yt&&yt.length>0&&ut(yt[0])!=="object"&&(yt=T5(yt)),n(81,r=Qt(yt)),c("loaded",{items:r})):n(81,r=[]),_&&n(81,r=bf(r,q)),n(4,Te=!1),n(1,C=!0),n(5,Xe=!0));case 5:case"end":return Nt.stop()}},ge)})),Rt);function Re(){var ge=!0;if(S){var yt=[],Nt=[];S.forEach(function(mn){yt.includes(mn[ee])?ge=!1:(yt.push(mn[ee]),Nt.push(mn))}),ge||n(2,S=Nt)}return ge}function qe(ge){var yt=ge?ge[ee]:S[ee];return W.find(function(Nt){return Nt[ee]===yt})}function Qe(ge){var yt=ge.detail,Nt=S[yt?yt.i:S.length-1];S.length===1?n(2,S=void 0):n(2,S=S.filter(function(mn){return mn!==Nt})),c("clear",Nt)}function it(){n(1,C=!0),m&&m.focus()}RO(In(bt().mark(function ge(){return bt().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:n(77,li=S),n(78,mu=q),n(79,Zn=C),n(80,El=b);case 4:case"end":return yt.stop()}},ge)}))),ri(function(){C&&m&&m.focus()});var at=e.ariaValues,Mt=at===void 0?function(ge){return"Option ".concat(ge,", selected.")}:at,Kt=e.ariaListOpen,Cn=Kt===void 0?function(ge,yt){return"You are currently focused on option ".concat(ge,". There are ").concat(yt," results available.")}:Kt,Ln=e.ariaFocused,lr=Ln===void 0?function(){return"Select is focused, type to refine list, press down to open the menu."}:Ln;return t.$$set=function(ge){"id"in ge&&n(46,h=ge.id),"container"in ge&&n(0,v=ge.container),"input"in ge&&n(6,m=ge.input),"isMulti"in ge&&n(7,b=ge.isMulti),"multiFullItemClearable"in ge&&n(8,k=ge.multiFullItemClearable),"isDisabled"in ge&&n(9,A=ge.isDisabled),"isCreatable"in ge&&n(47,_=ge.isCreatable),"isFocused"in ge&&n(1,C=ge.isFocused),"value"in ge&&n(2,S=ge.value),"filterText"in ge&&n(3,q=ge.filterText),"placeholder"in ge&&n(48,F=ge.placeholder),"placeholderAlwaysShow"in ge&&n(49,D=ge.placeholderAlwaysShow),"items"in ge&&n(50,W=ge.items),"itemFilter"in ge&&n(51,z=ge.itemFilter),"groupBy"in ge&&n(52,x=ge.groupBy),"groupFilter"in ge&&n(53,G=ge.groupFilter),"isGroupHeaderSelectable"in ge&&n(54,xe=ge.isGroupHeaderSelectable),"getGroupHeaderLabel"in ge&&n(55,L=ge.getGroupHeaderLabel),"labelIdentifier"in ge&&n(56,M=ge.labelIdentifier),"getOptionLabel"in ge&&n(57,Z=ge.getOptionLabel),"optionIdentifier"in ge&&n(58,ee=ge.optionIdentifier),"loadOptions"in ge&&n(59,Ee=ge.loadOptions),"hasError"in ge&&n(10,_e=ge.hasError),"containerStyles"in ge&&n(11,ce=ge.containerStyles),"getSelectionLabel"in ge&&n(12,Oe=ge.getSelectionLabel),"createGroupHeaderItem"in ge&&n(60,Pe=ge.createGroupHeaderItem),"createItem"in ge&&n(61,et=ge.createItem),"isSearchable"in ge&&n(13,Lt=ge.isSearchable),"inputStyles"in ge&&n(14,ne=ge.inputStyles),"isClearable"in ge&&n(15,ve=ge.isClearable),"isWaiting"in ge&&n(4,Te=ge.isWaiting),"listPlacement"in ge&&n(63,We=ge.listPlacement),"listOpen"in ge&&n(5,Xe=ge.listOpen),"isVirtualList"in ge&&n(64,Tt=ge.isVirtualList),"loadOptionsInterval"in ge&&n(65,Rt=ge.loadOptionsInterval),"noOptionsMessage"in ge&&n(66,gt=ge.noOptionsMessage),"hideEmptyState"in ge&&n(67,kn=ge.hideEmptyState),"inputAttributes"in ge&&n(16,He=ge.inputAttributes),"listAutoWidth"in ge&&n(68,hn=ge.listAutoWidth),"itemHeight"in ge&&n(69,vn=ge.itemHeight),"Icon"in ge&&n(17,Tr=ge.Icon),"iconProps"in ge&&n(18,Fo=ge.iconProps),"showChevron"in ge&&n(19,Nn=ge.showChevron),"showIndicator"in ge&&n(20,Wt=ge.showIndicator),"containerClasses"in ge&&n(21,So=ge.containerClasses),"indicatorSvg"in ge&&n(22,$l=ge.indicatorSvg),"listOffset"in ge&&n(70,_a=ge.listOffset),"ClearIcon"in ge&&n(23,ls=ge.ClearIcon),"Item"in ge&&n(71,Is=ge.Item),"List"in ge&&n(24,Ns=ge.List),"Selection"in ge&&n(25,Al=ge.Selection),"MultiSelection"in ge&&n(26,Ca=ge.MultiSelection),"VirtualList"in ge&&n(72,$a=ge.VirtualList),"selectedValue"in ge&&n(73,je=ge.selectedValue),"ariaValues"in ge&&n(74,Mt=ge.ariaValues),"ariaListOpen"in ge&&n(75,Cn=ge.ariaListOpen),"ariaFocused"in ge&&n(76,lr=ge.ariaFocused)},t.$$.update=function(){var ge,yt;140&t.$$.dirty[0]|405340160&t.$$.dirty[1]&&n(81,r=Fp({loadOptions:Ee,filterText:q,items:W,value:S,isMulti:b,optionIdentifier:ee,groupBy:x,isCreatable:_})),2048&t.$$.dirty[2]&&je&&console.warn("selectedValue is no longer used. Please use value instead."),524288&t.$$.dirty[1]&&function(Nt){Nt&&Nt.length!==0&&!Nt.some(function(mn){return ut(mn)!=="object"})&&S&&(b?!S.some(function(mn){return!mn||!mn[ee]}):S[ee])&&(Array.isArray(S)?n(2,S=S.map(function(mn){return qe(mn)||mn})):n(2,S=qe()||S))}(W),4&t.$$.dirty[0]&&S&&(typeof S=="string"?n(2,(kc(ge={},ee,S),kc(ge,"label",S),S=ge)):b&&Array.isArray(S)&&S.length>0&&n(2,S=S.map(function(Nt){return typeof Nt=="string"?{value:Nt,label:Nt}:Nt}))),73728&t.$$.dirty[0]&&(!He&&Lt||(n(31,Ls=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},He)),h&&n(31,Ls.id=h,Ls),Lt||n(31,Ls.readonly=!0,Ls))),128&t.$$.dirty[0]|262144&t.$$.dirty[2]&&(b&&S&&(Array.isArray(S)?n(2,S=Qt(S)):n(2,S=[S])),El&&!b&&S&&n(2,S=null)),132&t.$$.dirty[0]&&b&&S&&S.length>1&&Re(),4&t.$$.dirty[0]&&S&&(b?JSON.stringify(S)!==JSON.stringify(li)&&Re()&&c("select",S):li&&JSON.stringify(S[ee])===JSON.stringify(li[ee])||c("select",S)),132&t.$$.dirty[0]|32768&t.$$.dirty[2]&&!S&&b&&li&&c("select",S),2&t.$$.dirty[0]|131072&t.$$.dirty[2]&&C!==Zn&&(C||Xe?it():m&&m.blur()),8&t.$$.dirty[0]|65536&t.$$.dirty[2]&&q!==mu&&q.length!==0&&(n(1,C=!0),n(5,Xe=!0),Ee?Ne():(n(5,Xe=!0),b&&n(30,Mn=void 0))),12&t.$$.dirty[0]&&n(29,o=S&&q.length===0),536904208&t.$$.dirty[0]&&n(37,i=o&&ve&&!A&&!Te),132&t.$$.dirty[0]|393216&t.$$.dirty[1]&&n(36,s=D&&b?F:S?"":F),132&t.$$.dirty[0]&&n(35,a=b&&S&&S.length>0),141&t.$$.dirty[0]|218103808&t.$$.dirty[1]|526326&t.$$.dirty[2]&&n(34,u={Item:Is,filterText:q,optionIdentifier:ee,noOptionsMessage:gt,hideEmptyState:kn,isVirtualList:Tt,VirtualList:$a,value:S,isMulti:b,getGroupHeaderLabel:L,items:r,itemHeight:vn,getOptionLabel:Z,listPlacement:We,parent:v,listAutoWidth:hn,listOffset:_a}),132&t.$$.dirty[0]&&n(33,l=S?(yt=void 0,yt=b&&S.length>0?S.map(function(Nt){return Oe(Nt)}).join(", "):Oe(S),Mt(yt)):""),268435490&t.$$.dirty[0]|524288&t.$$.dirty[2]&&n(32,f=function(){if(!C||!r||r.length===0)return"";var Nt=r[Pl];if(Xe&&Nt){var mn=Oe(Nt),ci=r?r.length:0;return Cn(mn,ci)}return lr()}())},[v,C,S,q,Te,Xe,m,b,k,A,_e,ce,Oe,Lt,ne,ve,He,Tr,Fo,Nn,Wt,So,$l,ls,Ns,Al,Ca,function(){n(2,S=void 0),n(5,Xe=!1),c("clear",S),it()},Pl,o,Mn,Ls,f,l,u,a,s,i,Qe,function(ge){if(C)switch(ge.key){case"ArrowDown":case"ArrowUp":ge.preventDefault(),n(5,Xe=!0),n(30,Mn=void 0);break;case"Tab":Xe||n(1,C=!1);break;case"Backspace":if(!b||q.length>0)return;if(b&&S&&S.length>0){if(Qe(Mn!==void 0?Mn:S.length-1),Mn===0||Mn===void 0)break;n(30,Mn=S.length>Mn?Mn-1:void 0)}break;case"ArrowLeft":if(!b||q.length>0)return;Mn===void 0?n(30,Mn=S.length-1):S.length>Mn&&Mn!==0&&n(30,Mn-=1);break;case"ArrowRight":if(!b||q.length>0||Mn===void 0)return;Mn===S.length-1?n(30,Mn=void 0):Mn<S.length-1&&n(30,Mn+=1)}},it,function(ge){if(v){var yt=ge.path&&ge.path.length>0?ge.path[0]:ge.target;v.contains(yt)||v.contains(ge.relatedTarget)||(n(1,C=!1),n(5,Xe=!1),n(30,Mn=void 0),m&&m.blur())}},function(){A||(n(1,C=!0),n(5,Xe=!Xe))},function(ge){var yt=ge.detail;if(yt){n(3,q="");var Nt=Object.assign({},yt);Nt.isGroupHeader&&!Nt.isSelectable||(n(2,S=b?S?S.concat([Nt]):[Nt]:Nt),n(2,S),setTimeout(function(){n(5,Xe=!1),n(30,Mn=void 0)}))}},function(ge){var yt=ge.detail;b?(n(2,S=S||[]),n(2,S=[].concat(Qt(S),[et(yt)]))):n(2,S=et(yt)),c("itemCreated",yt),n(3,q=""),n(5,Xe=!1),n(30,Mn=void 0)},function(){n(3,q=""),n(5,Xe=!1)},h,_,F,D,W,z,x,G,xe,L,M,Z,ee,Ee,Pe,et,function(){return r},We,Tt,Rt,gt,kn,hn,vn,_a,Is,$a,je,Mt,Cn,lr,li,mu,Zn,El,r,function(ge){Yt[ge?"unshift":"push"](function(){n(6,m=ge)})},function(){q=this.value,n(3,q)},function(ge){n(28,Pl=ge)},function(ge){Yt[ge?"unshift":"push"](function(){n(0,v=ge)})}]}var Fa=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,eY,ZQ,xr,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},QQ,[-1,-1,-1,-1]),o}return ae(n,[{key:"getFilteredItems",get:function(){return this.$$.ctx[62]}},{key:"handleClear",get:function(){return this.$$.ctx[27]}}]),n}();function tY(t){zt(t,"svelte-13taczd","table.jse-transform-wizard.svelte-13taczd.svelte-13taczd{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-13taczd input.svelte-13taczd{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-13taczd tr th.svelte-13taczd{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer input{box-sizing:border-box}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd{flex:4;padding:4px 8px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);outline:none;background:var(--jse-input-background);color:inherit}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd:focus{border:var(--jse-input-border-focus)}")}function nY(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P,_,T,C,R,S,j,q,Y,F,K,D;function I($e){t[18]($e)}var W={containerClasses:"jse-filter-path",showIndicator:!0,items:t[6]};function H($e){t[19]($e)}t[0]!==void 0&&(W.value=t[0]),a=new Fa({props:W}),Yt.push(function(){return Oo(a,"value",I)});var z={containerClasses:"jse-filter-relation",showIndicator:!0,items:t[8]};function O($e){t[21]($e)}t[1]!==void 0&&(z.value=t[1]),f=new Fa({props:z}),Yt.push(function(){return Oo(f,"value",H)});var x={containerClasses:"jse-sort-path",showIndicator:!0,items:t[6]};function N($e){t[22]($e)}t[3]!==void 0&&(x.value=t[3]),w=new Fa({props:x}),Yt.push(function(){return Oo(w,"value",O)});var G={containerClasses:"jse-sort-direction",showIndicator:!0,items:t[9]};function ue($e){t[23]($e)}t[4]!==void 0&&(G.value=t[4]),A=new Fa({props:G}),Yt.push(function(){return Oo(A,"value",N)});var xe={containerClasses:"jse-projection-paths",isMulti:!0,showIndicator:!0,items:t[7]};return t[5]!==void 0&&(xe.value=t[5]),q=new Fa({props:xe}),Yt.push(function(){return Oo(q,"value",ue)}),{c:function(){e=re("table"),n=re("tr"),(r=re("th")).textContent="Filter",o=Ae(),i=re("td"),s=re("div"),Le(a.$$.fragment),l=Ae(),Le(f.$$.fragment),d=Ae(),h=re("input"),p=Ae(),v=re("tr"),(g=re("th")).textContent="Sort",m=Ae(),y=re("td"),b=re("div"),Le(w.$$.fragment),$=Ae(),Le(A.$$.fragment),_=Ae(),T=re("tr"),(C=re("th")).textContent="Pick",R=Ae(),S=re("td"),j=re("div"),Le(q.$$.fragment),E(r,"class","svelte-13taczd"),E(h,"class","jse-filter-value svelte-13taczd"),E(s,"class","jse-horizontal svelte-13taczd"),E(g,"class","svelte-13taczd"),E(b,"class","jse-horizontal svelte-13taczd"),E(C,"class","svelte-13taczd"),E(j,"class","jse-horizontal svelte-13taczd"),E(e,"class","jse-transform-wizard svelte-13taczd")},m:function($e,L){ye($e,e,L),U(e,n),U(n,r),U(n,o),U(n,i),U(i,s),Me(a,s,null),U(s,l),Me(f,s,null),U(s,d),U(s,h),ua(h,t[2]),U(e,p),U(e,v),U(v,g),U(v,m),U(v,y),U(y,b),Me(w,b,null),U(b,$),Me(A,b,null),U(e,_),U(e,T),U(T,C),U(T,R),U(T,S),U(S,j),Me(q,j,null),F=!0,K||(D=Fe(h,"input",t[20]),K=!0)},p:function($e,L){var Q={};64&L[0]&&(Q.items=$e[6]),!u&&1&L[0]&&(u=!0,Q.value=$e[0],Go(function(){return u=!1})),a.$set(Q);var M={};!c&&2&L[0]&&(c=!0,M.value=$e[1],Go(function(){return c=!1})),f.$set(M),4&L[0]&&h.value!==$e[2]&&ua(h,$e[2]);var B={};64&L[0]&&(B.items=$e[6]),!k&&8&L[0]&&(k=!0,B.value=$e[3],Go(function(){return k=!1})),w.$set(B);var Z={};!P&&16&L[0]&&(P=!0,Z.value=$e[4],Go(function(){return P=!1})),A.$set(Z);var le={};128&L[0]&&(le.items=$e[7]),!Y&&32&L[0]&&(Y=!0,le.value=$e[5],Go(function(){return Y=!1})),q.$set(le)},i:function($e){F||(J(a.$$.fragment,$e),J(f.$$.fragment,$e),J(w.$$.fragment,$e),J(A.$$.fragment,$e),J(q.$$.fragment,$e),F=!0)},o:function($e){te(a.$$.fragment,$e),te(f.$$.fragment,$e),te(w.$$.fragment,$e),te(A.$$.fragment,$e),te(q.$$.fragment,$e),F=!1},d:function($e){$e&&me(e),Ie(a),Ie(f),Ie(w),Ie(A),Ie(q),K=!1,D()}}}function rY(t,e,n){var r,o,i,s,a,u,l,f,c,d,h,p,v=zo("jsoneditor:TransformWizard"),g=e.json,m=e.queryOptions,y=m===void 0?{}:m,b=e.onChange,w=["==","!=","<","<=",">",">="].map(function(S){return{value:S,label:S}}),k=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],$=!((u=y==null?void 0:y.filter)===null||u===void 0)&&u.path?R(y.filter.path):null,A=!((l=y==null?void 0:y.filter)===null||l===void 0)&&l.relation?w.find(function(S){return S.value===y.filter.relation}):null,P=((f=y==null?void 0:y.filter)===null||f===void 0?void 0:f.value)||"",_=!((c=y==null?void 0:y.sort)===null||c===void 0)&&c.path?R(y.sort.path):null,T=!((d=y==null?void 0:y.sort)===null||d===void 0)&&d.direction?k.find(function(S){return S.value===y.sort.direction}):null,C=!((h=y==null?void 0:y.projection)===null||h===void 0)&&h.paths?y.projection.paths.map(R):null;function R(S){return{value:S,label:zn(S)?"(whole item)":$s(S)}}return t.$$set=function(S){"json"in S&&n(11,g=S.json),"queryOptions"in S&&n(10,y=S.queryOptions),"onChange"in S&&n(12,b=S.onChange)},t.$$.update=function(){2048&t.$$.dirty[0]&&n(17,r=Array.isArray(g)),133120&t.$$.dirty[0]&&n(16,o=r?Sm(g):[]),133120&t.$$.dirty[0]&&n(15,i=r?Sm(g,!0):[]),65536&t.$$.dirty[0]&&n(6,s=o.map(R)),32768&t.$$.dirty[0]&&n(7,a=i?i.map(R):[]),17472&t.$$.dirty[0]&&(n(14,p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.path)&&s.find(function(S){var j;return Sn(S.value,(j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.path)}),1&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.path,S)||(v("changeFilterPath",S),n(10,y=Se.exports.setIn(y,["filter","path"],S,!0)),b(y))}(($==null?void 0:$.value)||null),2&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.relation,S)||(v("changeFilterRelation",S),n(10,y=Se.exports.setIn(y,["filter","relation"],S,!0)),b(y))}((A==null?void 0:A.value)||null),4&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.value,S)||(v("changeFilterValue",S),n(10,y=Se.exports.setIn(y,["filter","value"],S,!0)),b(y))}(P||null),8&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.sort)===null||j===void 0?void 0:j.path,S)||(v("changeSortPath",S),n(10,y=Se.exports.setIn(y,["sort","path"],S,!0)),b(y))}((_==null?void 0:_.value)||null),16&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.sort)===null||j===void 0?void 0:j.direction,S)||(v("changeSortDirection",S),n(10,y=Se.exports.setIn(y,["sort","direction"],S,!0)),b(y))}((T==null?void 0:T.value)||null),32&t.$$.dirty[0]&&function(S){var j;Sn((j=y==null?void 0:y.projection)===null||j===void 0?void 0:j.paths,S)||(v("changeProjectionPaths",S),n(10,y=Se.exports.setIn(y,["projection","paths"],S,!0)),b(y))}(C?C.map(function(S){return S.value}):null)},[$,A,P,_,T,C,s,a,w,k,y,g,b,u,p,i,o,r,function(S){n(0,$=S)},function(S){n(1,A=S)},function(){P=this.value,n(2,P)},function(S){n(3,_=S)},function(S){n(4,T=S)},function(S){n(5,C=S)}]}var oY=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,rY,nY,an,{json:11,queryOptions:10,onChange:12},tY,[-1,-1]),o}return ae(n)}();function iY(t){zt(t,"svelte-19cxesy",".jse-select-query-language.svelte-19cxesy.svelte-19cxesy{position:relative;width:32px}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container.svelte-19cxesy{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;text-align:left;padding:var(--jse-padding) calc(2 * var(--jse-padding));white-space:nowrap;color:var(--jse-context-menu-color);background:var(--jse-context-menu-background)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy:hover{background:var(--jse-context-menu-background-highlight)}")}function M5(t,e,n){var r=t.slice();return r[5]=e[n],r}function sY(t){var e,n;return e=new Ut({props:{data:Sh}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function aY(t){var e,n;return e=new Ut({props:{data:Ch}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:Ge,i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function I5(t){var e,n,r,o,i,s,a,u,l,f,c=t[5].name+"",d=[aY,sY],h=[];function p(g,m){return g[5].id===g[0]?0:1}function v(){return t[4](t[5])}return n=p(t),r=h[n]=d[n](t),{c:function(){e=re("button"),r.c(),o=Ae(),i=nt(c),s=Ae(),E(e,"type","button"),E(e,"class","jse-query-language svelte-19cxesy"),E(e,"title",a="Select ".concat(t[5].name," as query language")),Ze(e,"selected",t[5].id===t[0])},m:function(g,m){ye(g,e,m),h[n].m(e,null),U(e,o),U(e,i),U(e,s),u=!0,l||(f=Fe(e,"click",v),l=!0)},p:function(g,m){var y=n;(n=p(t=g))===y?h[n].p(t,m):(Ue(),te(h[y],1,1,function(){h[y]=null}),Je(),(r=h[n])?r.p(t,m):(r=h[n]=d[n](t)).c(),J(r,1),r.m(e,o)),(!u||2&m)&&c!==(c=t[5].name+"")&&en(i,c),(!u||2&m&&a!==(a="Select ".concat(t[5].name," as query language")))&&E(e,"title",a),3&m&&Ze(e,"selected",t[5].id===t[0])},i:function(g){u||(J(r),u=!0)},o:function(g){te(r),u=!1},d:function(g){g&&me(e),h[n].d(),l=!1,f()}}}function uY(t){for(var e,n,r,o=t[1],i=[],s=0;s<o.length;s+=1)i[s]=I5(M5(t,o,s));var a=function(u){return te(i[u],1,1,function(){i[u]=null})};return{c:function(){e=re("div"),n=re("div");for(var u=0;u<i.length;u+=1)i[u].c();E(n,"class","jse-select-query-language-container svelte-19cxesy"),E(e,"class","jse-select-query-language svelte-19cxesy")},m:function(u,l){ye(u,e,l),U(e,n);for(var f=0;f<i.length;f+=1)i[f].m(n,null);r=!0},p:function(u,l){var f=At(l,1)[0];if(7&f){var c;for(o=u[1],c=0;c<o.length;c+=1){var d=M5(u,o,c);i[c]?(i[c].p(d,f),J(i[c],1)):(i[c]=I5(d),i[c].c(),J(i[c],1),i[c].m(n,null))}for(Ue(),c=o.length;c<i.length;c+=1)a(c);Je()}},i:function(u){if(!r){for(var l=0;l<o.length;l+=1)J(i[l]);r=!0}},o:function(u){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)te(i[l]);r=!1},d:function(u){u&&me(e),jo(i,u)}}}function lY(t,e,n){var r=e.queryLanguages,o=e.queryLanguageId,i=e.onChangeQueryLanguage;function s(a){n(0,o=a),i(a)}return t.$$set=function(a){"queryLanguages"in a&&n(1,r=a.queryLanguages),"queryLanguageId"in a&&n(0,o=a.queryLanguageId),"onChangeQueryLanguage"in a&&n(3,i=a.onChangeQueryLanguage)},[o,r,s,i,function(a){return s(a.id)}]}var cY=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,lY,uY,xr,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},iY),o}return ae(n)}();function fY(t){zt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function N5(t){var e,n,r,o,i;return n=new Ut({props:{data:oq}}),{c:function(){e=re("button"),Le(n.$$.fragment),E(e,"type","button"),E(e,"class","jse-config svelte-d01h2s"),E(e,"title","Select a query language")},m:function(s,a){ye(s,e,a),Me(n,e,null),t[6](e),r=!0,o||(i=Fe(e,"click",t[3]),o=!0)},p:Ge,i:function(s){r||(J(n.$$.fragment,s),r=!0)},o:function(s){te(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Ie(n),t[6](null),o=!1,i()}}}function dY(t){var e,n,r,o,i,s,a,u,l,f=t[0].length>1&&N5(t);return s=new Ut({props:{data:uf}}),{c:function(){e=re("div"),(n=re("div")).textContent="Transform",r=Ae(),f&&f.c(),o=Ae(),i=re("button"),Le(s.$$.fragment),E(n,"class","jse-title svelte-d01h2s"),E(i,"type","button"),E(i,"class","jse-close svelte-d01h2s"),E(e,"class","jse-header svelte-d01h2s")},m:function(c,d){ye(c,e,d),U(e,n),U(e,r),f&&f.m(e,null),U(e,o),U(e,i),Me(s,i,null),a=!0,u||(l=Fe(i,"click",t[2]),u=!0)},p:function(c,d){var h=At(d,1)[0];c[0].length>1?f?(f.p(c,h),1&h&&J(f,1)):((f=N5(c)).c(),J(f,1),f.m(e,o)):f&&(Ue(),te(f,1,1,function(){f=null}),Je())},i:function(c){a||(J(f),J(s.$$.fragment,c),a=!0)},o:function(c){te(f),te(s.$$.fragment,c),a=!1},d:function(c){c&&me(e),f&&f.d(),Ie(s),u=!1,l()}}}function hY(t,e,n){var r,o=e.queryLanguages,i=e.queryLanguageId,s=e.onChangeQueryLanguage,a=wo("simple-modal").close,u=wo("absolute-popup"),l=u.openAbsolutePopup,f=u.closeAbsolutePopup;return t.$$set=function(c){"queryLanguages"in c&&n(0,o=c.queryLanguages),"queryLanguageId"in c&&n(4,i=c.queryLanguageId),"onChangeQueryLanguage"in c&&n(5,s=c.onChangeQueryLanguage)},[o,r,a,function(){l(cY,{queryLanguages:o,queryLanguageId:i,onChangeQueryLanguage:function(c){f(),s(c)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},i,s,function(c){Yt[c?"unshift":"push"](function(){n(1,r=c)})}]}var pY=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,hY,dY,an,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},fY),o}return ae(n)}();function vY(t){zt(t,"svelte-15uz9w0",".jse-modal.svelte-15uz9w0.svelte-15uz9w0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{padding:20px;overflow:auto}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex:1;display:flex;gap:calc(2 * var(--jse-padding));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding)) var(--jse-padding)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p{margin:var(--jse-padding) 0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 code{background:var(--jse-modal-code-background);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-15uz9w0{flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-15uz9w0{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{padding:var(--jse-padding) calc(2 * var(--jse-padding)) calc(2 * var(--jse-padding))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0 .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label.svelte-15uz9w0{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner.svelte-15uz9w0{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:focus,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:read-only,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-preview.jse-error.svelte-15uz9w0{flex:1;background:var(--jse-input-background-readonly);border:var(--jse-input-border);color:var(--jse-error-color);padding:calc(0.5 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 a{color:var(--jse-a-color)}.jse-modal.jse-transform.svelte-15uz9w0 a:hover{color:var(--jse-a-color-highlight)}")}function L5(t){var e,n,r,o,i,s=[gY,mY],a=[];function u(l,f){return 512&f[0]&&(e=null),e==null&&(e=!!Array.isArray(l[9])),e?0:1}return n=u(t,[-1,-1]),r=a[n]=s[n](t),{c:function(){r.c(),o=dn()},m:function(l,f){a[n].m(l,f),ye(l,o,f),i=!0},p:function(l,f){var c=n;(n=u(l,f))===c?a[n].p(l,f):(Ue(),te(a[c],1,1,function(){a[c]=null}),Je(),(r=a[n])?r.p(l,f):(r=a[n]=s[n](l)).c(),J(r,1),r.m(o.parentNode,o))},i:function(l){i||(J(r),i=!0)},o:function(l){te(r),i=!1},d:function(l){a[n].d(l),l&&me(o)}}}function mY(t){var e;return{c:function(){e=nt("(Only available for arrays, not for objects)")},m:function(n,r){ye(n,e,r)},p:Ge,i:Ge,o:Ge,d:function(n){n&&me(e)}}}function gY(t){var e,n;return e=new oY({props:{queryOptions:t[7],json:t[9],onChange:t[16]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};128&o[0]&&(i.queryOptions=r[7]),512&o[0]&&(i.json=r[9]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function R5(t){var e,n;return e=new $1({props:{externalContent:t[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:t[2],escapeUnicodeCharacters:t[3],onRenderValue:t[5],onError:console.error,onChange:sn,onFocus:sn,onBlur:sn,onSortModal:sn,onTransformModal:sn,onClassName:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};16384&o[0]&&(i.externalContent=r[14]),4&o[0]&&(i.escapeControlCharacters=r[2]),8&o[0]&&(i.escapeUnicodeCharacters=r[3]),32&o[0]&&(i.onRenderValue=r[5]),64&o[0]&&(i.onClassName=r[6]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function yY(t){var e,n,r=t[12].toString()+"";return{c:function(){e=re("div"),n=nt(r),E(e,"class","jse-preview jse-error svelte-15uz9w0")},m:function(o,i){ye(o,e,i),U(e,n)},p:function(o,i){4096&i[0]&&r!==(r=o[12].toString()+"")&&en(n,r)},i:Ge,o:Ge,d:function(o){o&&me(e)}}}function bY(t){var e,n;return e=new $1({props:{externalContent:t[13],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:t[2],escapeUnicodeCharacters:t[3],onRenderValue:t[5],onError:console.error,onChange:sn,onFocus:sn,onBlur:sn,onSortModal:sn,onTransformModal:sn,onClassName:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};8192&o[0]&&(i.externalContent=r[13]),4&o[0]&&(i.escapeControlCharacters=r[2]),8&o[0]&&(i.escapeUnicodeCharacters=r[3]),32&o[0]&&(i.onRenderValue=r[5]),64&o[0]&&(i.onClassName=r[6]),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function wY(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P,_,T,C,R,S,j,q,Y,F,K,D,I,W,H,z,O,x,N,G,ue,xe,$e,L,Q=t[15](t[0]).description+"";e=new pY({props:{queryLanguages:t[4],queryLanguageId:t[0],onChangeQueryLanguage:t[21]}}),y=new Ut({props:{data:t[10]?Wi:Ys}});var M=t[10]&&L5(t);q=new Ut({props:{data:t[11]?Wi:Ys}});var B=t[11]&&R5(t),Z=[bY,yY],le=[];function ee(V,Ee){return V[12]?1:0}return H=ee(t),z=le[H]=Z[H](t),{c:function(){Le(e.$$.fragment),n=Ae(),r=re("div"),o=re("div"),i=re("div"),(s=re("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Language</div>',a=Ae(),u=re("div"),l=Ae(),(f=re("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Path</div>',c=Ae(),d=re("input"),p=Ae(),v=re("div"),g=re("div"),m=re("button"),Le(y.$$.fragment),b=nt(`
                Wizard`),w=Ae(),M&&M.c(),k=Ae(),($=re("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Query</div>',A=Ae(),P=re("textarea"),_=Ae(),T=re("div"),C=re("div"),R=re("div"),S=re("div"),j=re("button"),Le(q.$$.fragment),Y=nt(`
                  Original`),F=Ae(),B&&B.c(),K=Ae(),D=re("div"),(I=re("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Preview</div>',W=Ae(),z.c(),O=Ae(),x=re("div"),N=re("button"),G=nt("Transform"),E(s,"class","jse-label svelte-15uz9w0"),E(u,"class","jse-description svelte-15uz9w0"),E(f,"class","jse-label svelte-15uz9w0"),E(d,"class","jse-path svelte-15uz9w0"),E(d,"type","text"),d.readOnly=!0,E(d,"title","Selected path"),d.value=h=zn(t[1])?"(whole document)":$s(t[1]),E(m,"type","button"),E(m,"class","svelte-15uz9w0"),E(g,"class","jse-label-inner svelte-15uz9w0"),E(v,"class","jse-label svelte-15uz9w0"),E($,"class","jse-label svelte-15uz9w0"),E(P,"class","jse-query svelte-15uz9w0"),E(P,"spellcheck","false"),P.value=t[8],E(i,"class","jse-query-contents svelte-15uz9w0"),E(j,"type","button"),E(j,"class","svelte-15uz9w0"),E(S,"class","jse-label-inner svelte-15uz9w0"),E(R,"class","jse-label svelte-15uz9w0"),E(C,"class","jse-original-data svelte-15uz9w0"),Ze(C,"jse-hide",!t[11]),E(I,"class","jse-label svelte-15uz9w0"),E(D,"class","jse-preview-data svelte-15uz9w0"),E(T,"class","jse-data-contents svelte-15uz9w0"),Ze(T,"jse-hide-original-data",!t[11]),E(o,"class","jse-main-contents svelte-15uz9w0"),E(N,"type","button"),E(N,"class","jse-primary svelte-15uz9w0"),N.disabled=ue=!!t[12],E(x,"class","jse-actions svelte-15uz9w0"),E(r,"class","jse-contents svelte-15uz9w0")},m:function(V,Ee){Me(e,V,Ee),ye(V,n,Ee),ye(V,r,Ee),U(r,o),U(o,i),U(i,s),U(i,a),U(i,u),u.innerHTML=Q,U(i,l),U(i,f),U(i,c),U(i,d),U(i,p),U(i,v),U(v,g),U(g,m),Me(y,m,null),U(m,b),U(i,w),M&&M.m(i,null),U(i,k),U(i,$),U(i,A),U(i,P),U(o,_),U(o,T),U(T,C),U(C,R),U(R,S),U(S,j),Me(q,j,null),U(j,Y),U(C,F),B&&B.m(C,null),U(T,K),U(T,D),U(D,I),U(D,W),le[H].m(D,null),U(r,O),U(r,x),U(x,N),U(N,G),xe=!0,$e||(L=[Fe(m,"click",t[19]),Fe(P,"input",t[17]),Fe(j,"click",t[20]),Fe(N,"click",t[18]),Jc(xY.call(null,N))],$e=!0)},p:function(V,Ee){var Ce={};16&Ee[0]&&(Ce.queryLanguages=V[4]),1&Ee[0]&&(Ce.queryLanguageId=V[0]),e.$set(Ce),(!xe||1&Ee[0])&&Q!==(Q=V[15](V[0]).description+"")&&(u.innerHTML=Q),(!xe||2&Ee[0]&&h!==(h=zn(V[1])?"(whole document)":$s(V[1]))&&d.value!==h)&&(d.value=h);var _e={};1024&Ee[0]&&(_e.data=V[10]?Wi:Ys),y.$set(_e),V[10]?M?(M.p(V,Ee),1024&Ee[0]&&J(M,1)):((M=L5(V)).c(),J(M,1),M.m(i,k)):M&&(Ue(),te(M,1,1,function(){M=null}),Je()),(!xe||256&Ee[0])&&(P.value=V[8]);var pe={};2048&Ee[0]&&(pe.data=V[11]?Wi:Ys),q.$set(pe),V[11]?B?(B.p(V,Ee),2048&Ee[0]&&J(B,1)):((B=R5(V)).c(),J(B,1),B.m(C,null)):B&&(Ue(),te(B,1,1,function(){B=null}),Je()),2048&Ee[0]&&Ze(C,"jse-hide",!V[11]);var ce=H;(H=ee(V))===ce?le[H].p(V,Ee):(Ue(),te(le[ce],1,1,function(){le[ce]=null}),Je(),(z=le[H])?z.p(V,Ee):(z=le[H]=Z[H](V)).c(),J(z,1),z.m(D,null)),2048&Ee[0]&&Ze(T,"jse-hide-original-data",!V[11]),(!xe||4096&Ee[0]&&ue!==(ue=!!V[12]))&&(N.disabled=ue)},i:function(V){xe||(J(e.$$.fragment,V),J(y.$$.fragment,V),J(M),J(q.$$.fragment,V),J(B),J(z),xe=!0)},o:function(V){te(e.$$.fragment,V),te(y.$$.fragment,V),te(M),te(q.$$.fragment,V),te(B),te(z),xe=!1},d:function(V){Ie(e,V),V&&me(n),V&&me(r),Ie(y),M&&M.d(),Ie(q),B&&B.d(),le[H].d(),$e=!1,Kn(L)}}}function kY(t){var e,n,r;return n=new LP({props:{$$slots:{default:[wY]},$$scope:{ctx:t}}}),{c:function(){e=re("div"),Le(n.$$.fragment),E(e,"class","jse-modal jse-transform svelte-15uz9w0")},m:function(o,i){ye(o,e,i),Me(n,e,null),r=!0},p:function(o,i){var s={};32767&i[0]|8&i[1]&&(s.$$scope={dirty:i,ctx:o}),n.$set(s)},i:function(o){r||(J(n.$$.fragment,o),r=!0)},o:function(o){te(n.$$.fragment,o),r=!1},d:function(o){o&&me(e),Ie(n)}}}function xY(t){t.focus()}function jY(t,e,n){var r,o,i=zo("jsoneditor:TransformModal"),s=e.id,a=s===void 0?"transform-modal-"+_m():s,u=e.json,l=e.selectedPath,f=l===void 0?[]:l,c=e.escapeControlCharacters,d=e.escapeUnicodeCharacters,h=e.queryLanguages,p=e.queryLanguageId,v=e.onChangeQueryLanguage,g=e.onRenderValue,m=e.onClassName,y=e.onTransform,b=wo("simple-modal").close,w="".concat(a,":").concat(Se.exports.compileJSONPointer(f)),k=hi[w]||{},$=hi.showWizard!==!1,A=hi.showOriginal!==!1,P=k.queryOptions||{},_=p===k.queryLanguageId&&k.query?k.query:S(p).createQuery(u,k.queryOptions||{}),T=k.isManual||!1,C=void 0,R={text:""};function S(q){return h.find(function(Y){return Y.id===q})||h[0]}var j=xl(function(q,Y){try{i("previewTransform",{query:Y});var F=S(p).executeQuery(q,Y);n(13,R={json:F}),n(12,C=void 0)}catch(K){n(13,R={text:""}),n(12,C=K)}},300);return t.$$set=function(q){"id"in q&&n(22,a=q.id),"json"in q&&n(23,u=q.json),"selectedPath"in q&&n(1,f=q.selectedPath),"escapeControlCharacters"in q&&n(2,c=q.escapeControlCharacters),"escapeUnicodeCharacters"in q&&n(3,d=q.escapeUnicodeCharacters),"queryLanguages"in q&&n(4,h=q.queryLanguages),"queryLanguageId"in q&&n(0,p=q.queryLanguageId),"onChangeQueryLanguage"in q&&n(24,v=q.onChangeQueryLanguage),"onRenderValue"in q&&n(5,g=q.onRenderValue),"onClassName"in q&&n(6,m=q.onClassName),"onTransform"in q&&n(25,y=q.onTransform)},t.$$.update=function(){8388610&t.$$.dirty[0]&&n(9,r=Se.exports.getIn(u,f)),512&t.$$.dirty[0]&&n(14,o={json:r}),768&t.$$.dirty[0]&&j(r,_),201326977&t.$$.dirty[0]&&(n(26,hi[w]={queryOptions:P,query:_,queryLanguageId:p,isManual:T},hi),i("store state in memory",w,hi[w]))},[p,f,c,d,h,g,m,P,_,r,$,A,C,R,o,S,function(q){n(7,P=q),n(8,_=S(p).createQuery(u,q)),n(27,T=!1),i("updateQueryByWizard",{queryOptions:P,query:_,isManual:T})},function(q){n(8,_=q.target.value),n(27,T=!0),i("handleChangeQuery",{query:_,isManual:T})},function(){try{i("handleTransform",{query:_});var q=S(p).executeQuery(r,_);y([{op:"replace",path:Se.exports.compileJSONPointer(f),value:q}]),b()}catch(Y){console.error(Y),n(13,R={text:""}),n(12,C=Y.toString())}},function(){n(10,$=!$),n(26,hi.showWizard=$,hi)},function(){n(11,A=!A),n(26,hi.showOriginal=A,hi)},function(q){i("handleChangeQueryLanguage",q),n(0,p=q),v(q);var Y=S(p);n(8,_=Y.createQuery(u,P)),n(27,T=!1)},a,u,v,y,hi,T]}var _Y=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,jY,kY,an,{id:22,json:23,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,queryLanguages:4,queryLanguageId:0,onChangeQueryLanguage:24,onRenderValue:5,onClassName:6,onTransform:25},vY,[-1,-1]),o}return ae(n)}(),qs={};function SY(t){zt(t,"svelte-ery7bx",".jse-modal.svelte-ery7bx.svelte-ery7bx{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-ery7bx .jse-contents.svelte-ery7bx{padding:20px;overflow:auto}.jse-modal.svelte-ery7bx .jse-contents .jse-actions.svelte-ery7bx{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-sort.svelte-ery7bx table.svelte-ery7bx{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding)}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx:read-only,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx .selectContainer input,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx .selectContainer input{box-sizing:border-box}.jse-modal.jse-sort.svelte-ery7bx .jse-space.svelte-ery7bx{height:200px}")}function D5(t){var e,n,r,o,i,s,a;function u(f){t[12](f)}var l={showIndicator:!0,items:t[4]};return t[1]!==void 0&&(l.value=t[1]),i=new Fa({props:l}),Yt.push(function(){return Oo(i,"value",u)}),{c:function(){e=re("tr"),(n=re("th")).textContent="Property",r=Ae(),o=re("td"),Le(i.$$.fragment),E(n,"class","svelte-ery7bx"),E(o,"class","svelte-ery7bx")},m:function(f,c){ye(f,e,c),U(e,n),U(e,r),U(e,o),Me(i,o,null),a=!0},p:function(f,c){var d={};16&c&&(d.items=f[4]),!s&&2&c&&(s=!0,d.value=f[1],Go(function(){return s=!1})),i.$set(d)},i:function(f){a||(J(i.$$.fragment,f),a=!0)},o:function(f){te(i.$$.fragment,f),a=!1},d:function(f){f&&me(e),Ie(i)}}}function CY(t){var e,n,r,o,i,s,a,u,l,f,c,d,h,p,v,g,m,y,b,w,k,$,A,P,_,T,C,R,S,j,q,Y;n=new rI({props:{title:t[3]?"Sort array items":"Sort object keys"}});var F=t[3]&&(t[4].length>1||t[1]===void 0)&&D5(t);function K(I){t[13](I)}var D={showIndicator:!0,items:t[5],isClearable:!1};return t[2]!==void 0&&(D.value=t[2]),k=new Fa({props:D}),Yt.push(function(){return Oo(k,"value",K)}),{c:function(){e=re("div"),Le(n.$$.fragment),r=Ae(),o=re("div"),i=re("table"),(s=re("colgroup")).innerHTML=`<col width="25%"/> 
        <col width="75%"/>`,a=Ae(),u=re("tbody"),l=re("tr"),(f=re("th")).textContent="Path",c=Ae(),d=re("td"),h=re("input"),v=Ae(),F&&F.c(),g=Ae(),m=re("tr"),(y=re("th")).textContent="Direction",b=Ae(),w=re("td"),Le(k.$$.fragment),A=Ae(),P=re("div"),_=Ae(),T=re("div"),C=re("button"),R=nt("Sort"),E(f,"class","svelte-ery7bx"),E(h,"class","jse-path svelte-ery7bx"),E(h,"type","text"),h.readOnly=!0,E(h,"title","Selected path"),h.value=p=zn(t[0])?"(whole document)":$s(t[0]),E(d,"class","svelte-ery7bx"),E(y,"class","svelte-ery7bx"),E(w,"class","svelte-ery7bx"),E(i,"class","svelte-ery7bx"),E(P,"class","jse-space svelte-ery7bx"),E(C,"type","button"),E(C,"class","jse-primary svelte-ery7bx"),C.disabled=S=!!t[3]&&!t[1],E(T,"class","jse-actions svelte-ery7bx"),E(o,"class","jse-contents svelte-ery7bx"),E(e,"class","jse-modal jse-sort svelte-ery7bx")},m:function(I,W){ye(I,e,W),Me(n,e,null),U(e,r),U(e,o),U(o,i),U(i,s),U(i,a),U(i,u),U(u,l),U(l,f),U(l,c),U(l,d),U(d,h),U(u,v),F&&F.m(u,null),U(u,g),U(u,m),U(m,y),U(m,b),U(m,w),Me(k,w,null),U(o,A),U(o,P),U(o,_),U(o,T),U(T,C),U(C,R),j=!0,q||(Y=[Fe(C,"click",t[6]),Jc($Y.call(null,C))],q=!0)},p:function(I,W){var H=At(W,1)[0],z={};8&H&&(z.title=I[3]?"Sort array items":"Sort object keys"),n.$set(z),(!j||1&H&&p!==(p=zn(I[0])?"(whole document)":$s(I[0]))&&h.value!==p)&&(h.value=p),I[3]&&(I[4].length>1||I[1]===void 0)?F?(F.p(I,H),26&H&&J(F,1)):((F=D5(I)).c(),J(F,1),F.m(u,g)):F&&(Ue(),te(F,1,1,function(){F=null}),Je());var O={};!$&&4&H&&($=!0,O.value=I[2],Go(function(){return $=!1})),k.$set(O),(!j||10&H&&S!==(S=!!I[3]&&!I[1]))&&(C.disabled=S)},i:function(I){j||(J(n.$$.fragment,I),J(F),J(k.$$.fragment,I),j=!0)},o:function(I){te(n.$$.fragment,I),te(F),te(k.$$.fragment,I),j=!1},d:function(I){I&&me(e),Ie(n),F&&F.d(),Ie(k),q=!1,Kn(Y)}}}function $Y(t){t.focus()}function OY(t,e,n){var r,o,i,s=zo("jsoneditor:SortModal"),a=e.id,u=e.json,l=e.selectedPath,f=e.onSort,c=wo("simple-modal").close,d="".concat(a,":").concat(Se.exports.compileJSONPointer(l)),h=Se.exports.getIn(u,l),p={value:1,label:"ascending"},v=[p,{value:-1,label:"descending"}],g=qs[d]&&qs[d].selectedProperty||void 0,m=qs[d]&&qs[d].selectedDirection||p;function y(b){return{value:b,label:zn(b)?"(whole item)":$s(b)}}return t.$$set=function(b){"id"in b&&n(7,a=b.id),"json"in b&&n(8,u=b.json),"selectedPath"in b&&n(0,l=b.selectedPath),"onSort"in b&&n(9,f=b.onSort)},t.$$.update=function(){8&t.$$.dirty&&n(11,o=r?Sm(h):void 0),2048&t.$$.dirty&&n(4,i=o?o.map(y):void 0),18&t.$$.dirty&&g===void 0&&i&&i.length===1&&n(1,g=i[0]),1030&t.$$.dirty&&(n(10,qs[d]={selectedProperty:g,selectedDirection:m},qs),s("store state in memory",d,qs[d]))},n(3,r=Array.isArray(h)),[l,g,m,r,i,v,function(){if(r){if(!g)return;var b=g.value,w=m.value,k=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=OG(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],arguments.length>3&&arguments[3]!==void 0?arguments[3]:1),C=Se.exports.getIn(P,_);return[{op:"replace",path:Se.exports.compileJSONPointer(_),value:C.slice(0).sort(T)}]}(u,l,b,w);f(k)}else if(yr(h)){var $=m.value,A=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=Se.exports.getIn(P,_),R=Object.keys(C).slice();R.sort(function(F,K){return T*C1(F,K)});for(var S=[],j=0;j<R.length;j++){var q=R[j],Y=Se.exports.compileJSONPointer(_.concat(q));S.push({op:"move",from:Y,path:Y})}return S}(u,l,$);f(A)}else console.error("Cannot sort: no array or object");c()},a,u,f,qs,o,function(b){n(1,g=b),n(4,i),n(11,o),n(3,r)},function(b){n(2,m=b)}]}var AY=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,OY,CY,an,{id:7,json:8,selectedPath:0,onSort:9},SY),o}return ae(n)}();function EY(t,e,n){var r=wo("simple-modal");return[r.open,r.close]}var PY=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,EY,null,an,{open:0,close:1}),o}return ae(n,[{key:"open",get:function(){return this.$$.ctx[0]}},{key:"close",get:function(){return this.$$.ctx[1]}}]),n}();function TY(t){return t&&t.space===!0&&Object.keys(t).length===1}function MY(t){zt(t,"svelte-hjajm5",`:root{--jse-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
    Cantarell, "Helvetica Neue", sans-serif;--jse-font-family-mono:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;--jse-font-size-mono:14px;--jse-font-size:16px;--jse-font-size-code-mode-search:80%;--jse-line-height:calc(1em + 4px);--jse-indent-size:calc(1em + 4px);--jse-color-picker-button-size:1em;--jse-padding:10px;--jse-theme-color:#3883fa;--jse-theme-color-highlight:#5f9dff;--jse-background-color:#fff;--jse-text-color:#4d4d4d;--jse-text-color-inverse:#fff;--jse-error-color:#ee5341;--jse-main-border:1px solid #d7d7d7;--jse-menu-color:var(--jse-text-color-inverse);--jse-menu-button-size:32px;--jse-modal-background:#f5f5f5;--jse-modal-overlay-background:rgba(0, 0, 0, 0.3);--jse-modal-code-background:rgba(0, 0, 0, 0.05);--jse-panel-background:#ebebeb;--jse-panel-color:var(--jse-text-color);--jse-panel-color-readonly:#b2b2b2;--jse-panel-border:var(--jse-main-border);--jse-panel-button-color:inherit;--jse-panel-button-background:transparent;--jse-panel-button-color-highlight:var(--jse-text-color);--jse-panel-button-background-highlight:#e0e0e0;--jse-navigation-bar-color:#656565;--jse-navigation-bar-background:var(--jse-background-color);--jse-navigation-bar-background-highlight:#e5e5e5;--jse-navigation-bar-dropdown-color:#656565;--jse-context-menu-background:#656565;--jse-context-menu-background-highlight:#7a7a7a;--jse-context-menu-color:var(--jse-text-color-inverse);--jse-context-menu-color-disabled:#9d9d9d;--jse-context-menu-separator-color:#7a7a7a;--jse-context-menu-button-background:var(--jse-context-menu-background);--jse-context-menu-button-background-highlight:var(--jse-context-menu-background-highlight);--jse-context-menu-button-color:var(--jse-context-menu-color);--jse-context-menu-button-size:calc(1em + 4px);--jse-context-menu-tip-background:rgba(255, 255, 255, 0.2);--jse-context-menu-tip-color:inherit;--jse-key-color:#1a1a1a;--jse-value-color:#1a1a1a;--jse-value-color-number:#ee422e;--jse-value-color-boolean:#ff8c00;--jse-value-color-null:#004ed0;--jse-value-color-string:#008000;--jse-value-color-url:#008000;--jse-delimiter-color:rgba(0, 0, 0, 0.38);--jse-edit-outline:2px solid #656565;--jse-hover-background-color:rgba(0, 0, 0, 0.06);--jse-selection-background-color:#d3d3d3;--jse-selection-background-light-color:#e8e8e8;--jse-collapsed-items-background-color:#f5f5f5;--jse-collapsed-items-selected-background-color:#c2c2c2;--jse-collapsed-items-link-color:rgba(0, 0, 0, 0.38);--jse-collapsed-items-link-color-highlight:#ee5341;--jse-search-match-color:#ffe665;--jse-search-match-outline:1px solid #ffd700;--jse-search-match-active-color:#ffd700;--jse-search-match-active-outline:1px solid #e1be00;--jse-tag-background:rgba(0, 0, 0, 0.2);--jse-tag-color:var(--jse-text-color-inverse);--jse-controls-box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);--jse-input-background:var(--jse-background-color);--jse-input-background-readonly:transparent;--jse-input-border:1px solid #d8dbdf;--jse-input-border-focus:1px solid var(--jse-theme-color);--jse-input-radius:3px;--jse-button-background:#e0e0e0;--jse-button-background-highlight:#e7e7e7;--jse-button-color:var(--jse-text-color);--jse-button-primary-background:var(--jse-theme-color);--jse-button-primary-background-highlight:var(--jse-theme-color-highlight);--jse-button-primary-background-disabled:#9d9d9d;--jse-button-primary-color:var(--jse-text-color-inverse);--jse-a-color:#156fc5;--jse-a-color-highlight:#0f508d;--jse-message-error-background:var(--jse-error-color);--jse-message-error-color:var(--jse-text-color-inverse);--jse-message-warning-background:#fdc539;--jse-message-warning-color:var(--jse-text-color-inverse);--jse-message-success-background:#9ac45d;--jse-message-success-color:var(--jse-text-color-inverse);--jse-message-info-background:#9d9d9d;--jse-message-info-color:var(--jse-text-color-inverse);--jse-message-action-background:rgba(255, 255, 255, 0.2);--jse-message-action-background-highlight:rgba(255, 255, 255, 0.3);--itemIsActiveBG:#3883fa;--border:1px solid #d8dbdf;--borderRadius:3px;--background:#fff;--jse-color-picker-background:var(--jse-panel-background);--jse-color-picker-border-box-shadow:#cbcbcb 0 0 0 1px}.jse-main.svelte-hjajm5{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;position:relative;display:flex;flex-direction:row}`)}function IY(t){var e,n,r={readOnly:t[2],indentation:t[3],externalContent:t[0],mainMenuBar:t[4],navigationBar:t[5],escapeControlCharacters:t[7],escapeUnicodeCharacters:t[8],validator:t[9],onError:t[12],onChange:t[20],onRequestRepair:t[22],onRenderValue:t[10],onClassName:t[11],onFocus:t[24],onBlur:t[25],onRenderMenu:t[26],onSortModal:t[28],onTransformModal:t[27]};return e=new $1({props:r}),t[53](e),{c:function(){Le(e.$$.fragment)},m:function(o,i){Me(e,o,i),n=!0},p:function(o,i){var s={};4&i[0]&&(s.readOnly=o[2]),8&i[0]&&(s.indentation=o[3]),1&i[0]&&(s.externalContent=o[0]),16&i[0]&&(s.mainMenuBar=o[4]),32&i[0]&&(s.navigationBar=o[5]),128&i[0]&&(s.escapeControlCharacters=o[7]),256&i[0]&&(s.escapeUnicodeCharacters=o[8]),512&i[0]&&(s.validator=o[9]),4096&i[0]&&(s.onError=o[12]),1024&i[0]&&(s.onRenderValue=o[10]),2048&i[0]&&(s.onClassName=o[11]),e.$set(s)},i:function(o){n||(J(e.$$.fragment,o),n=!0)},o:function(o){te(e.$$.fragment,o),n=!1},d:function(o){t[53](null),Ie(e,o)}}}function NY(t){var e,n,r={text:t[19](t[0]),readOnly:t[2],indentation:t[3],mainMenuBar:t[4],statusBar:t[6],escapeUnicodeCharacters:t[8],validator:t[9],onChange:t[21],onSwitchToTreeMode:t[23],onError:t[12],onFocus:t[24],onBlur:t[25],onRenderMenu:t[26],onSortModal:t[28],onTransformModal:t[27]};return e=new _J({props:r}),t[52](e),{c:function(){Le(e.$$.fragment)},m:function(o,i){Me(e,o,i),n=!0},p:function(o,i){var s={};1&i[0]&&(s.text=o[19](o[0])),4&i[0]&&(s.readOnly=o[2]),8&i[0]&&(s.indentation=o[3]),16&i[0]&&(s.mainMenuBar=o[4]),64&i[0]&&(s.statusBar=o[6]),256&i[0]&&(s.escapeUnicodeCharacters=o[8]),512&i[0]&&(s.validator=o[9]),4096&i[0]&&(s.onError=o[12]),e.$set(s)},i:function(o){n||(J(e.$$.fragment,o),n=!0)},o:function(o){te(e.$$.fragment,o),n=!1},d:function(o){t[52](null),Ie(e,o)}}}function B5(t){var e,n,r,o,i=[NY,IY],s=[];function a(u,l){return u[1]===ju?0:1}return e=a(t),n=s[e]=i[e](t),{c:function(){n.c(),r=dn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),o=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ue(),te(s[f],1,1,function(){s[f]=null}),Je(),(n=s[e])?n.p(u,l):(n=s[e]=i[e](u)).c(),J(n,1),n.m(r.parentNode,r))},i:function(u){o||(J(n),o=!0)},o:function(u){te(n),o=!1},d:function(u){s[e].d(u),u&&me(r)}}}function LY(t){var e,n,r=t[13],o=B5(t);return{c:function(){e=re("div"),o.c(),E(e,"class","jse-main svelte-hjajm5"),Ze(e,"jse-focus",t[14])},m:function(i,s){ye(i,e,s),o.m(e,null),t[54](e),n=!0},p:function(i,s){8192&s[0]&&an(r,r=i[13])?(Ue(),te(o,1,1,Ge),Je(),(o=B5(i)).c(),J(o,1),o.m(e,null)):o.p(i,s),16384&s[0]&&Ze(e,"jse-focus",i[14])},i:function(i){n||(J(o),n=!0)},o:function(i){te(o),n=!1},d:function(i){i&&me(e),o.d(i),t[54](null)}}}function RY(t){var e,n,r,o,i;function s(u){t[51](u)}var a={};return t[18]!==void 0&&(a.open=t[18]),e=new PY({props:a}),Yt.push(function(){return Oo(e,"open",s)}),o=new LP({props:{$$slots:{default:[LY]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment),r=Ae(),Le(o.$$.fragment)},m:function(u,l){Me(e,u,l),ye(u,r,l),Me(o,u,l),i=!0},p:function(u,l){var f={};!n&&262144&l[0]&&(n=!0,f.open=u[18],Go(function(){return n=!1})),e.$set(f);var c={};262143&l[0]|536870912&l[1]&&(c.$$scope={dirty:l,ctx:u}),o.$set(c)},i:function(u){i||(J(e.$$.fragment,u),J(o.$$.fragment,u),i=!0)},o:function(u){te(e.$$.fragment,u),te(o.$$.fragment,u),i=!1},d:function(u){Ie(e,u),u&&me(r),Ie(o,u)}}}function DY(t){var e,n;return e=new UR({props:{$$slots:{default:[RY]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,o){Me(e,r,o),n=!0},p:function(r,o){var i={};524287&o[0]|536870912&o[1]&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i:function(r){n||(J(e.$$.fragment,r),n=!0)},o:function(r){te(e.$$.fragment,r),n=!1},d:function(r){Ie(e,r)}}}function fI(t){this.$set(t)}function dI(){this.$destroy()}function BY(t,e,n){var r,o,i,s,a,u,l=zo("jsoneditor:Main"),f=e.content,c=f===void 0?{text:""}:f,d=e.readOnly,h=d!==void 0&&d,p=e.indentation,v=p===void 0?2:p,g=e.mode,m=g===void 0?Ml:g,y=e.mainMenuBar,b=y===void 0||y,w=e.navigationBar,k=w===void 0||w,$=e.statusBar,A=$===void 0||$,P=e.escapeControlCharacters,_=P!==void 0&&P,T=e.escapeUnicodeCharacters,C=T!==void 0&&T,R=e.validator,S=R===void 0?null:R,j=e.queryLanguages,q=j===void 0?[QG]:j,Y=e.queryLanguageId,F=Y===void 0?q[0].id:Y,K=e.onChangeQueryLanguage,D=K===void 0?sn:K,I=e.onChange,W=I===void 0?null:I,H=e.onRenderValue,z=H===void 0?xQ:H,O=e.onClassName,x=O===void 0?sn:O,N=e.onRenderMenu,G=N===void 0?sn:N,ue=e.onChangeMode,xe=ue===void 0?sn:ue,$e=e.onError,L=$e===void 0?function(fe){console.error(fe),alert(fe.toString())}:$e,Q=e.onFocus,M=Q===void 0?sn:Q,B=e.onBlur,Z=B===void 0?sn:B,le=_m(),ee=!1;function V(){s?s.focus():i&&i.focus()}function Ee(fe,Pe,Ve){n(0,c=fe),W&&W(fe,Pe,Ve)}function Ce(){return(Ce=In(bt().mark(function fe(){return bt().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return n(1,m=ju),Pe.next=3,ar();case 3:xe(ju);case 4:case"end":return Pe.stop()}},fe)}))).apply(this,arguments)}function _e(){return(_e=In(bt().mark(function fe(){return bt().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return n(1,m=Ml),Pe.next=3,ar();case 3:xe(Ml);case 4:case"end":return Pe.stop()}},fe)}))).apply(this,arguments)}function pe(fe){return ce.apply(this,arguments)}function ce(){return(ce=In(bt().mark(function fe(Pe){return bt().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(m!==Pe){Ve.next=2;break}return Ve.abrupt("return");case 2:return n(1,m=Pe),Ve.next=5,ar();case 5:V(),xe(Pe);case 7:case"end":return Ve.stop()}},fe)}))).apply(this,arguments)}var ke={separator:!0};function Oe(fe){l("handleChangeQueryLanguage",fe),n(29,F=fe),D(fe)}return t.$$set=function(fe){"content"in fe&&n(0,c=fe.content),"readOnly"in fe&&n(2,h=fe.readOnly),"indentation"in fe&&n(3,v=fe.indentation),"mode"in fe&&n(1,m=fe.mode),"mainMenuBar"in fe&&n(4,b=fe.mainMenuBar),"navigationBar"in fe&&n(5,k=fe.navigationBar),"statusBar"in fe&&n(6,A=fe.statusBar),"escapeControlCharacters"in fe&&n(7,_=fe.escapeControlCharacters),"escapeUnicodeCharacters"in fe&&n(8,C=fe.escapeUnicodeCharacters),"validator"in fe&&n(9,S=fe.validator),"queryLanguages"in fe&&n(30,q=fe.queryLanguages),"queryLanguageId"in fe&&n(29,F=fe.queryLanguageId),"onChangeQueryLanguage"in fe&&n(31,D=fe.onChangeQueryLanguage),"onChange"in fe&&n(32,W=fe.onChange),"onRenderValue"in fe&&n(10,z=fe.onRenderValue),"onClassName"in fe&&n(11,x=fe.onClassName),"onRenderMenu"in fe&&n(33,G=fe.onRenderMenu),"onChangeMode"in fe&&n(34,xe=fe.onChangeMode),"onError"in fe&&n(12,L=fe.onError),"onFocus"in fe&&n(35,M=fe.onFocus),"onBlur"in fe&&n(36,Z=fe.onBlur)},t.$$.update=function(){if(1&t.$$.dirty[0]){var fe=tv(c);fe&&console.error("Error: "+fe)}2&t.$$.dirty[0]&&n(50,r=m===ju),2&t.$$.dirty[0]|524288&t.$$.dirty[1]&&(u=[{text:"code",title:"Switch to code mode (current mode: ".concat(m,")"),className:"jse-group-button jse-first"+(r?" jse-selected":""),onClick:function(){return pe(ju)}},{text:"tree",title:"Switch to tree mode (current mode: ".concat(m,")"),className:"jse-group-button jse-last"+(r?"":" jse-selected"),onClick:function(){return pe(Ml)}}])},[c,m,h,v,b,k,A,_,C,S,z,x,L,le,ee,o,i,s,a,function(fe){return Cm(fe)?fe.text:JSON.stringify(fe.json,null,v)},Ee,function(fe,Pe){Ee({text:fe,json:void 0},{text:Pe,json:void 0},null)},function(){return Ce.apply(this,arguments)},function(){return _e.apply(this,arguments)},function(){n(14,ee=!0),M&&M()},function(){n(14,ee=!1),Z&&Z()},function(fe,Pe){var Ve=fe===Ml||fe===ju?TY(Pe[0])?u.concat(Pe):u.concat([ke],Pe):Pe;return G(fe,Ve)||Ve},function(fe){var Pe=fe.id,Ve=fe.json,et=fe.selectedPath,vt=fe.onTransform,Lt=fe.onClose;console.log("json",Ve),h||a(_Y,{id:Pe,json:Ve,selectedPath:et,escapeControlCharacters:_,escapeUnicodeCharacters:C,queryLanguages:q,queryLanguageId:F,onChangeQueryLanguage:Oe,onRenderValue:z,onClassName:x,onTransform:vt},KR,{onClose:Lt})},function(fe){var Pe=fe.id,Ve=fe.json,et=fe.selectedPath,vt=fe.onSort,Lt=fe.onClose;h||a(AY,{id:Pe,json:Ve,selectedPath:et,onSort:vt},JR,{onClose:Lt})},F,q,D,W,G,xe,M,Z,function(){return c},function(fe){l("set");var Pe=tv(fe);if(Pe)throw new Error(Pe);n(13,le=_m()),n(0,c=fe)},function(fe){l("update");var Pe=tv(fe);if(Pe)throw new Error(Pe);n(0,c=fe)},function(fe){if(Cm(c))try{n(0,c={json:JSON.parse(c.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}return i?i.patch(fe):s?s.patch(fe):void 0},function(fe){if(i)return i.expand(fe);throw new Error('Method expand is not available in mode "'.concat(m,'"'))},function(fe){if(s)s.openTransformModal(fe);else{if(!i)throw new Error('Method transform is not available in mode "'.concat(m,'"'));i.openTransformModal(fe)}},function(){return i?i.acceptAutoRepair():c},function(fe){if(i)return i.scrollTo(fe);throw new Error('Method scrollTo is not available in mode "'.concat(m,'"'))},function(fe){if(i)return i.findElement(fe);throw new Error('Method findElement is not available in mode "'.concat(m,'"'))},V,function(){s&&s.refresh()},fI,dI,r,function(fe){n(18,a=fe)},function(fe){Yt[fe?"unshift":"push"](function(){n(17,s=fe)})},function(fe){Yt[fe?"unshift":"push"](function(){n(16,i=fe)})},function(fe){Yt[fe?"unshift":"push"](function(){n(15,o=fe)})}]}var z5=function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,BY,DY,an,{content:0,readOnly:2,indentation:3,mode:1,mainMenuBar:4,navigationBar:5,statusBar:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,validator:9,queryLanguages:30,queryLanguageId:29,onChangeQueryLanguage:31,onChange:32,onRenderValue:10,onClassName:11,onRenderMenu:33,onChangeMode:34,onError:12,onFocus:35,onBlur:36,get:37,set:38,update:39,patch:40,expand:41,transform:42,acceptAutoRepair:43,scrollTo:44,findElement:45,focus:46,refresh:47,updateProps:48,destroy:49},MY,[-1,-1]),o}return ae(n,[{key:"get",get:function(){return this.$$.ctx[37]}},{key:"set",get:function(){return this.$$.ctx[38]}},{key:"update",get:function(){return this.$$.ctx[39]}},{key:"patch",get:function(){return this.$$.ctx[40]}},{key:"expand",get:function(){return this.$$.ctx[41]}},{key:"transform",get:function(){return this.$$.ctx[42]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[43]}},{key:"scrollTo",get:function(){return this.$$.ctx[44]}},{key:"findElement",get:function(){return this.$$.ctx[45]}},{key:"focus",get:function(){return this.$$.ctx[46]}},{key:"refresh",get:function(){return this.$$.ctx[47]}},{key:"updateProps",get:function(){return fI}},{key:"destroy",get:function(){return dI}}]),n}();function zY(t){zt(t,"svelte-rc6e9m",".jse-value.jse-string.svelte-rc6e9m{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rc6e9m,.jse-value.jse-array.svelte-rc6e9m{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rc6e9m{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rc6e9m{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rc6e9m{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rc6e9m{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rc6e9m{color:var(--jse-value-color-url);text-decoration:underline}.jse-enum-value.svelte-rc6e9m{background:var(--jse-hover-background-color);border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-rc6e9m{background:var(--jse-selection-background-color);color:inherit}.jse-enum-value.jse-value.svelte-rc6e9m:focus{color:var(--jse-text-color)}.jse-json-node.jse-selected .jse-enum-value.svelte-rc6e9m{background:transparent}")}function F5(t,e,n){var r=t.slice();return r[13]=e[n],r}function q5(t){var e,n,r,o=t[13].text+"";return{c:function(){e=re("option"),n=nt(o),e.__value=r=t[13].value,e.value=e.__value},m:function(i,s){ye(i,e,s),U(e,n)},p:function(i,s){2&s&&o!==(o=i[13].text+"")&&en(n,o),2&s&&r!==(r=i[13].value)&&(e.__value=r,e.value=e.__value)},d:function(i){i&&me(e)}}}function FY(t){for(var e,n,r,o,i=t[1],s=[],a=0;a<i.length;a+=1)s[a]=q5(F5(t,i,a));return{c:function(){e=re("select");for(var u=0;u<s.length;u+=1)s[u].c();E(e,"class",n=vr("jse-enum-value ".concat(Vc(t[3])))+" svelte-rc6e9m"),t[3]===void 0&&ca(function(){return t[10].call(e)}),Ze(e,"jse-selected",t[0])},m:function(u,l){ye(u,e,l);for(var f=0;f<s.length;f+=1)s[f].m(e,null);Jj(e,t[3]),t[11](e),r||(o=[Fe(e,"change",t[10]),Fe(e,"change",t[4]),Fe(e,"mousedown",qY)],r=!0)},p:function(u,l){var f=At(l,1)[0];if(2&f){var c;for(i=u[1],c=0;c<i.length;c+=1){var d=F5(u,i,c);s[c]?s[c].p(d,f):(s[c]=q5(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}8&f&&n!==(n=vr("jse-enum-value ".concat(Vc(u[3])))+" svelte-rc6e9m")&&E(e,"class",n),8&f&&Jj(e,u[3]),9&f&&Ze(e,"jse-selected",u[0])},i:Ge,o:Ge,d:function(u){u&&me(e),jo(s,u),t[11](null),r=!1,Kn(o)}}}function qY(t){t.stopPropagation()}function VY(t,e,n){var r,o=e.path,i=e.value,s=e.readOnly,a=e.isSelected,u=e.onPatch,l=e.onSelect,f=e.options,c=i;return t.$$set=function(d){"path"in d&&n(5,o=d.path),"value"in d&&n(6,i=d.value),"readOnly"in d&&n(7,s=d.readOnly),"isSelected"in d&&n(0,a=d.isSelected),"onPatch"in d&&n(8,u=d.onPatch),"onSelect"in d&&n(9,l=d.onSelect),"options"in d&&n(1,f=d.options)},t.$$.update=function(){64&t.$$.dirty&&n(3,c=i),1&t.$$.dirty&&function(d){d&&r&&r.focus()}(a)},[a,f,r,c,function(d){d.stopPropagation(),s||(u([{op:"replace",path:Se.exports.compileJSONPointer(o),value:c}]),l({type:mt,path:o}))},o,i,s,u,l,function(){var d,h;h=(d=this).querySelector(":checked")||d.options[0],c=h&&h.__value,n(3,c),n(6,i)},function(d){Yt[d?"unshift":"push"](function(){n(2,r=d),n(1,f)})}]}(function(t){De(n,xt);var e=Be(n);function n(r){var o;return se(this,n),kt(wt(o=e.call(this)),r,VY,FY,an,{path:5,value:6,readOnly:7,isSelected:0,onPatch:8,onSelect:9,options:1},zY),o}return ae(n)})();function Wv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}YR(function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){if(!u&&Wv)return Wv(a);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(c){return o(e[a][1][c]||c)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i=Wv,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.regexpCode=n.getEsmExportName=n.getProperty=n.safeStringify=n.stringify=n.strConcat=n.addCodeArg=n.str=n._=n.nil=n._Code=n.Name=n.IDENTIFIER=n._CodeOrName=void 0;var r=ae(function d(){se(this,d)});n._CodeOrName=r,n.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var o=function(d){De(p,d);var h=Be(p);function p(v){var g;if(se(this,p),g=h.call(this),!n.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");return g.str=v,$O(g)}return ae(p,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return kc({},this.str,1)}}]),p}(r);n.Name=o;var i=function(d){De(p,d);var h=Be(p);function p(v){var g;return se(this,p),(g=h.call(this))._items=typeof v=="string"?[v]:v,g}return ae(p,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var v=this._items[0];return v===""||v==='""'}},{key:"str",get:function(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce(function(g,m){return"".concat(g).concat(m)},"")}},{key:"names",get:function(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce(function(g,m){return m instanceof o&&(g[m.str]=(g[m.str]||0)+1),g},{})}}]),p}(r);function s(d){for(var h=[d[0]],p=0,v=arguments.length,g=new Array(v>1?v-1:0),m=1;m<v;m++)g[m-1]=arguments[m];for(;p<g.length;)l(h,g[p]),h.push(d[++p]);return new i(h)}n._Code=i,n.nil=new i(""),n._=s;var a=new i("+");function u(d){for(var h=[c(d[0])],p=0,v=arguments.length,g=new Array(v>1?v-1:0),m=1;m<v;m++)g[m-1]=arguments[m];for(;p<g.length;)h.push(a),l(h,g[p]),h.push(a,c(d[++p]));return function(y){for(var b=1;b<y.length-1;){if(y[b]===a){var w=f(y[b-1],y[b+1]);if(w!==void 0){y.splice(b-1,3,w);continue}y[b++]="+"}b++}}(h),new i(h)}function l(d,h){var p;h instanceof i?d.push.apply(d,Qt(h._items)):d.push(h instanceof o?h:typeof(p=h)=="number"||typeof p=="boolean"||p===null?p:c(Array.isArray(p)?p.join(","):p))}function f(d,h){return h==='""'?d:d==='""'?h:typeof d=="string"?h instanceof o||d[d.length-1]!=='"'?void 0:typeof h!="string"?"".concat(d.slice(0,-1)).concat(h,'"'):h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0:typeof h!="string"||h[0]!=='"'||d instanceof o?void 0:'"'.concat(d).concat(h.slice(1))}function c(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}n.str=u,n.addCodeArg=l,n.strConcat=function(d,h){return h.emptyStr()?d:d.emptyStr()?h:u(Eb||(Eb=ie(["","",""])),d,h)},n.stringify=function(d){return new i(c(d))},n.safeStringify=c,n.getProperty=function(d){return typeof d=="string"&&n.IDENTIFIER.test(d)?new i(".".concat(d)):s(Pb||(Pb=ie(["[","]"])),d)},n.getEsmExportName=function(d){if(typeof d=="string"&&n.IDENTIFIER.test(d))return new i("".concat(d));throw new Error("CodeGen: invalid export name: ".concat(d,", use explicit $id name mapping"))},n.regexpCode=function(d){return new i(d.toString())}},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=n.and=n.not=n.CodeGen=n.operators=n.varKinds=n.ValueScopeName=n.ValueScope=n.Scope=n.Name=n.regexpCode=n.stringify=n.getProperty=n.nil=n.strConcat=n.str=n._=void 0;var r=t("./code"),o=t("./scope"),i=t("./code");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(n,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(n,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(n,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return i.Name}});var s=t("./scope");Object.defineProperty(n,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(n,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(n,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(n,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),n.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};var a=function(){function H(){se(this,H)}return ae(H,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(z,O){return this}}]),H}(),u=function(H){De(O,H);var z=Be(O);function O(x,N,G){var ue;return se(this,O),(ue=z.call(this)).varKind=x,ue.name=N,ue.rhs=G,ue}return ae(O,[{key:"render",value:function(x){var N=x.es5,G=x._n;return"".concat(N?o.varKinds.var:this.varKind," ").concat(this.name).concat(this.rhs===void 0?"":" = ".concat(this.rhs),";")+G}},{key:"optimizeNames",value:function(x,N){if(x[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,x,N)),this}},{key:"names",get:function(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}]),O}(a),l=function(H){De(O,H);var z=Be(O);function O(x,N,G){var ue;return se(this,O),(ue=z.call(this)).lhs=x,ue.rhs=N,ue.sideEffects=G,ue}return ae(O,[{key:"render",value:function(x){var N=x._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+N}},{key:"optimizeNames",value:function(x,N){if(!(this.lhs instanceof r.Name)||x[this.lhs.str]||this.sideEffects)return this.rhs=q(this.rhs,x,N),this}},{key:"names",get:function(){return j(this.lhs instanceof r.Name?{}:lt({},this.lhs.names),this.rhs)}}]),O}(a),f=function(H){De(O,H);var z=Be(O);function O(x,N,G,ue){var xe;return se(this,O),(xe=z.call(this,x,G,ue)).op=N,xe}return ae(O,[{key:"render",value:function(x){var N=x._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+N}}]),O}(l),c=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).label=x,N.names={},N}return ae(O,[{key:"render",value:function(x){var N=x._n;return"".concat(this.label,":")+N}}]),O}(a),d=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).label=x,N.names={},N}return ae(O,[{key:"render",value:function(x){var N=x._n;return"break".concat(this.label?" ".concat(this.label):"",";")+N}}]),O}(a),h=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).error=x,N}return ae(O,[{key:"render",value:function(x){var N=x._n;return"throw ".concat(this.error,";")+N}},{key:"names",get:function(){return this.error.names}}]),O}(a),p=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).code=x,N}return ae(O,[{key:"render",value:function(x){var N=x._n;return"".concat(this.code,";")+N}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(x,N){return this.code=q(this.code,x,N),this}},{key:"names",get:function(){return this.code instanceof r._CodeOrName?this.code.names:{}}}]),O}(a),v=function(H){De(O,H);var z=Be(O);function O(){var x,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return se(this,O),(x=z.call(this)).nodes=N,x}return ae(O,[{key:"render",value:function(x){return this.nodes.reduce(function(N,G){return N+G.render(x)},"")}},{key:"optimizeNodes",value:function(){for(var x=this.nodes,N=x.length;N--;){var G=x[N].optimizeNodes();Array.isArray(G)?x.splice.apply(x,[N,1].concat(Qt(G))):G?x[N]=G:x.splice(N,1)}return x.length>0?this:void 0}},{key:"optimizeNames",value:function(x,N){for(var G=this.nodes,ue=G.length;ue--;){var xe=G[ue];xe.optimizeNames(x,N)||(Y(x,xe.names),G.splice(ue,1))}return G.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce(function(x,N){return S(x,N.names)},{})}}]),O}(a),g=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O,[{key:"render",value:function(x){return"{"+x._n+cn(rn(O.prototype),"render",this).call(this,x)+"}"+x._n}}]),O}(v),m=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O)}(v),y=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O)}(g);y.kind="else";var b=function(H){De(O,H);var z=Be(O);function O(x,N){var G;return se(this,O),(G=z.call(this,N)).condition=x,G}return ae(O,[{key:"render",value:function(x){var N="if(".concat(this.condition,")")+cn(rn(O.prototype),"render",this).call(this,x);return this.else&&(N+="else "+this.else.render(x)),N}},{key:"optimizeNodes",value:function(){cn(rn(O.prototype),"optimizeNodes",this).call(this);var x=this.condition;if(x===!0)return this.nodes;var N=this.else;if(N){var G=N.optimizeNodes();N=this.else=Array.isArray(G)?new y(G):G}return N?x===!1?N instanceof O?N:N.nodes:this.nodes.length?this:new O(F(x),N instanceof O?[N]:N.nodes):x!==!1&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(x,N){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(x,N),cn(rn(O.prototype),"optimizeNames",this).call(this,x,N)||this.else)return this.condition=q(this.condition,x,N),this}},{key:"names",get:function(){var x=cn(rn(O.prototype),"names",this);return j(x,this.condition),this.else&&S(x,this.else.names),x}}]),O}(g);b.kind="if";var w=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O)}(g);w.kind="for";var k=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).iteration=x,N}return ae(O,[{key:"render",value:function(x){return"for(".concat(this.iteration,")")+cn(rn(O.prototype),"render",this).call(this,x)}},{key:"optimizeNames",value:function(x,N){if(cn(rn(O.prototype),"optimizeNames",this).call(this,x,N))return this.iteration=q(this.iteration,x,N),this}},{key:"names",get:function(){return S(cn(rn(O.prototype),"names",this),this.iteration.names)}}]),O}(w),$=function(H){De(O,H);var z=Be(O);function O(x,N,G,ue){var xe;return se(this,O),(xe=z.call(this)).varKind=x,xe.name=N,xe.from=G,xe.to=ue,xe}return ae(O,[{key:"render",value:function(x){var N=x.es5?o.varKinds.var:this.varKind,G=this.name,ue=this.from,xe=this.to;return"for(".concat(N," ").concat(G,"=").concat(ue,"; ").concat(G,"<").concat(xe,"; ").concat(G,"++)")+cn(rn(O.prototype),"render",this).call(this,x)}},{key:"names",get:function(){var x=j(cn(rn(O.prototype),"names",this),this.from);return j(x,this.to)}}]),O}(w),A=function(H){De(O,H);var z=Be(O);function O(x,N,G,ue){var xe;return se(this,O),(xe=z.call(this)).loop=x,xe.varKind=N,xe.name=G,xe.iterable=ue,xe}return ae(O,[{key:"render",value:function(x){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+cn(rn(O.prototype),"render",this).call(this,x)}},{key:"optimizeNames",value:function(x,N){if(cn(rn(O.prototype),"optimizeNames",this).call(this,x,N))return this.iterable=q(this.iterable,x,N),this}},{key:"names",get:function(){return S(cn(rn(O.prototype),"names",this),this.iterable.names)}}]),O}(w),P=function(H){De(O,H);var z=Be(O);function O(x,N,G){var ue;return se(this,O),(ue=z.call(this)).name=x,ue.args=N,ue.async=G,ue}return ae(O,[{key:"render",value:function(x){return"".concat(this.async?"async ":"","function ").concat(this.name,"(").concat(this.args,")")+cn(rn(O.prototype),"render",this).call(this,x)}}]),O}(g);P.kind="func";var _=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O,[{key:"render",value:function(x){return"return "+cn(rn(O.prototype),"render",this).call(this,x)}}]),O}(v);_.kind="return";var T=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O,[{key:"render",value:function(x){var N="try"+cn(rn(O.prototype),"render",this).call(this,x);return this.catch&&(N+=this.catch.render(x)),this.finally&&(N+=this.finally.render(x)),N}},{key:"optimizeNodes",value:function(){var x,N;return cn(rn(O.prototype),"optimizeNodes",this).call(this),(x=this.catch)===null||x===void 0||x.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}},{key:"optimizeNames",value:function(x,N){var G,ue;return cn(rn(O.prototype),"optimizeNames",this).call(this,x,N),(G=this.catch)===null||G===void 0||G.optimizeNames(x,N),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(x,N),this}},{key:"names",get:function(){var x=cn(rn(O.prototype),"names",this);return this.catch&&S(x,this.catch.names),this.finally&&S(x,this.finally.names),x}}]),O}(g),C=function(H){De(O,H);var z=Be(O);function O(x){var N;return se(this,O),(N=z.call(this)).error=x,N}return ae(O,[{key:"render",value:function(x){return"catch(".concat(this.error,")")+cn(rn(O.prototype),"render",this).call(this,x)}}]),O}(g);C.kind="catch";var R=function(H){De(O,H);var z=Be(O);function O(){return se(this,O),z.apply(this,arguments)}return ae(O,[{key:"render",value:function(x){return"finally"+cn(rn(O.prototype),"render",this).call(this,x)}}]),O}(g);function S(H,z){for(var O in z)H[O]=(H[O]||0)+(z[O]||0);return H}function j(H,z){return z instanceof r._CodeOrName?S(H,z.names):H}function q(H,z,O){return H instanceof r.Name?N(H):(x=H)instanceof r._Code&&x._items.some(function(G){return G instanceof r.Name&&z[G.str]===1&&O[G.str]!==void 0})?new r._Code(H._items.reduce(function(G,ue){return ue instanceof r.Name&&(ue=N(ue)),ue instanceof r._Code?G.push.apply(G,Qt(ue._items)):G.push(ue),G},[])):H;var x;function N(G){var ue=O[G.str];return ue===void 0||z[G.str]!==1?G:(delete z[G.str],ue)}}function Y(H,z){for(var O in z)H[O]=(H[O]||0)-(z[O]||0)}function F(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:r._(Tb||(Tb=ie(["!",""])),W(H))}R.kind="finally",n.CodeGen=function(){function H(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se(this,H),this._values={},this._blockStarts=[],this._constants={},this.opts=lt(lt({},O),{},{_n:O.lines?`
`:""}),this._extScope=z,this._scope=new o.Scope({parent:z}),this._nodes=[new m]}return ae(H,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(z){return this._scope.name(z)}},{key:"scopeName",value:function(z){return this._extScope.name(z)}},{key:"scopeValue",value:function(z,O){var x=this._extScope.value(z,O);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}},{key:"getScopeValue",value:function(z,O){return this._extScope.getValue(z,O)}},{key:"scopeRefs",value:function(z){return this._extScope.scopeRefs(z,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(z,O,x,N){var G=this._scope.toName(O);return x!==void 0&&N&&(this._constants[G.str]=x),this._leafNode(new u(z,G,x)),G}},{key:"const",value:function(z,O,x){return this._def(o.varKinds.const,z,O,x)}},{key:"let",value:function(z,O,x){return this._def(o.varKinds.let,z,O,x)}},{key:"var",value:function(z,O,x){return this._def(o.varKinds.var,z,O,x)}},{key:"assign",value:function(z,O,x){return this._leafNode(new l(z,O,x))}},{key:"add",value:function(z,O){return this._leafNode(new f(z,n.operators.ADD,O))}},{key:"code",value:function(z){return typeof z=="function"?z():z!==r.nil&&this._leafNode(new p(z)),this}},{key:"object",value:function(){for(var z=["{"],O=arguments.length,x=new Array(O),N=0;N<O;N++)x[N]=arguments[N];for(var G=0,ue=x;G<ue.length;G++){var xe=At(ue[G],2),$e=xe[0],L=xe[1];z.length>1&&z.push(","),z.push($e),($e!==L||this.opts.es5)&&(z.push(":"),(0,r.addCodeArg)(z,L))}return z.push("}"),new r._Code(z)}},{key:"if",value:function(z,O,x){if(this._blockNode(new b(z)),O&&x)this.code(O).else().code(x).endIf();else if(O)this.code(O).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(z){return this._elseNode(new b(z))}},{key:"else",value:function(){return this._elseNode(new y)}},{key:"endIf",value:function(){return this._endBlockNode(b,y)}},{key:"_for",value:function(z,O){return this._blockNode(z),O&&this.code(O).endFor(),this}},{key:"for",value:function(z,O){return this._for(new k(z),O)}},{key:"forRange",value:function(z,O,x,N){var G=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.es5?o.varKinds.var:o.varKinds.let,ue=this._scope.toName(z);return this._for(new $(G,ue,O,x),function(){return N(ue)})}},{key:"forOf",value:function(z,O,x){var N=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o.varKinds.const,ue=this._scope.toName(z);if(this.opts.es5){var xe=O instanceof r.Name?O:this.var("_arr",O);return this.forRange("_i",0,r._(Mb||(Mb=ie(["",".length"])),xe),function($e){N.var(ue,r._(Ib||(Ib=ie(["","[","]"])),xe,$e)),x(ue)})}return this._for(new A("of",G,ue,O),function(){return x(ue)})}},{key:"forIn",value:function(z,O,x){var N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.es5?o.varKinds.var:o.varKinds.const;if(this.opts.ownProperties)return this.forOf(z,r._(Nb||(Nb=ie(["Object.keys(",")"])),O),x);var G=this._scope.toName(z);return this._for(new A("in",N,G,O),function(){return x(G)})}},{key:"endFor",value:function(){return this._endBlockNode(w)}},{key:"label",value:function(z){return this._leafNode(new c(z))}},{key:"break",value:function(z){return this._leafNode(new d(z))}},{key:"return",value:function(z){var O=new _;if(this._blockNode(O),this.code(z),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}},{key:"try",value:function(z,O,x){if(!O&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');var N=new T;if(this._blockNode(N),this.code(z),O){var G=this.name("e");this._currNode=N.catch=new C(G),O(G)}return x&&(this._currNode=N.finally=new R,this.code(x)),this._endBlockNode(C,R)}},{key:"throw",value:function(z){return this._leafNode(new h(z))}},{key:"block",value:function(z,O){return this._blockStarts.push(this._nodes.length),z&&this.code(z).endBlock(O),this}},{key:"endBlock",value:function(z){var O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");var x=this._nodes.length-O;if(x<0||z!==void 0&&x!==z)throw new Error("CodeGen: wrong number of nodes: ".concat(x," vs ").concat(z," expected"));return this._nodes.length=O,this}},{key:"func",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.nil,x=arguments.length>2?arguments[2]:void 0,N=arguments.length>3?arguments[3]:void 0;return this._blockNode(new P(z,O,x)),N&&this.code(N).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(P)}},{key:"optimize",value:function(){for(var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;z-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(z){return this._currNode.nodes.push(z),this}},{key:"_blockNode",value:function(z){this._currNode.nodes.push(z),this._nodes.push(z)}},{key:"_endBlockNode",value:function(z,O){var x=this._currNode;if(x instanceof z||O&&x instanceof O)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(O?"".concat(z.kind,"/").concat(O.kind):z.kind,'"'))}},{key:"_elseNode",value:function(z){var O=this._currNode;if(!(O instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=z,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var z=this._nodes;return z[z.length-1]},set:function(z){var O=this._nodes;O[O.length-1]=z}}]),H}(),n.not=F;var K=I(n.operators.AND);n.and=function(){for(var H=arguments.length,z=new Array(H),O=0;O<H;O++)z[O]=arguments[O];return z.reduce(K)};var D=I(n.operators.OR);function I(H){return function(z,O){return z===r.nil?O:O===r.nil?z:r._(Lb||(Lb=ie([""," "," ",""])),W(z),H,W(O))}}function W(H){return H instanceof r.Name?H:r._(Rb||(Rb=ie(["(",")"])),H)}n.or=function(){for(var H=arguments.length,z=new Array(H),O=0;O<H;O++)z[O]=arguments[O];return z.reduce(D)}},{"./code":1,"./scope":3}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueScope=n.ValueScopeName=n.Scope=n.varKinds=n.UsedValueState=void 0;var r,o=t("./code"),i=function(l){De(c,vd(Error));var f=Be(c);function c(d){var h;return se(this,c),(h=f.call(this,'CodeGen: "code" for '.concat(d," not defined"))).value=d.value,h}return ae(c)}();(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=n.UsedValueState||(n.UsedValueState={})),n.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};var s=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=f.prefixes,d=f.parent;se(this,l),this._names={},this._prefixes=c,this._parent=d}return ae(l,[{key:"toName",value:function(f){return f instanceof o.Name?f:this.name(f)}},{key:"name",value:function(f){return new o.Name(this._newName(f))}},{key:"_newName",value:function(f){return"".concat(f).concat((this._names[f]||this._nameGroup(f)).index++)}},{key:"_nameGroup",value:function(f){var c,d;if(((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0?void 0:d.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error('CodeGen: prefix "'.concat(f,'" is not allowed in this scope'));return this._names[f]={prefix:f,index:0}}}]),l}();n.Scope=s;var a=function(l){De(c,l);var f=Be(c);function c(d,h){var p;return se(this,c),(p=f.call(this,h)).prefix=d,p}return ae(c,[{key:"setValue",value:function(d,h){var p=h.property,v=h.itemIndex;this.value=d,this.scopePath=o._(Db||(Db=ie([".","[","]"])),new o.Name(p),v)}}]),c}(o.Name);n.ValueScopeName=a;var u=o._(Bb||(Bb=ie([`
`],["\\n"])));n.ValueScope=function(l){De(c,l);var f=Be(c);function c(d){var h;return se(this,c),(h=f.call(this,d))._values={},h._scope=d.scope,h.opts=lt(lt({},d),{},{_n:d.lines?u:o.nil}),h}return ae(c,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(d){return new a(d,this._newName(d))}},{key:"value",value:function(d,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var v=this.toName(d),g=v.prefix,m=(p=h.key)!==null&&p!==void 0?p:h.ref,y=this._values[g];if(y){var b=y.get(m);if(b)return b}else y=this._values[g]=new Map;y.set(m,v);var w=this._scope[g]||(this._scope[g]=[]),k=w.length;return w[k]=h.ref,v.setValue(h,{property:g,itemIndex:k}),v}},{key:"getValue",value:function(d,h){var p=this._values[d];if(p)return p.get(h)}},{key:"scopeRefs",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._values;return this._reduceValues(h,function(p){if(p.scopePath===void 0)throw new Error('CodeGen: name "'.concat(p,'" has no value'));return o._(zb||(zb=ie(["","",""])),d,p.scopePath)})}},{key:"scopeCode",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._values,h=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0;return this._reduceValues(d,function(v){if(v.value===void 0)throw new Error('CodeGen: name "'.concat(v,'" has no value'));return v.value.code},h,p)}},{key:"_reduceValues",value:function(d,h){var p=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,m=o.nil,y=function(w){var k=d[w];if(!k)return"continue";var $=v[w]=v[w]||new Map;k.forEach(function(A){if(!$.has(A)){$.set(A,r.Started);var P=h(A);if(P)m=o._(Fb||(Fb=ie(["",""," "," = ",";",""])),m,p.opts.es5?n.varKinds.var:n.varKinds.const,A,P,p.opts._n);else{if(!(P=g==null?void 0:g(A)))throw new i(A);m=o._(qb||(qb=ie(["","","",""])),m,P,p.opts._n)}$.set(A,r.Completed)}})};for(var b in d)y(b);return m}}]),c}(s)},{"./code":1}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendErrors=n.resetErrorsCount=n.reportExtraError=n.reportError=n.keyword$DataError=n.keywordError=void 0;var r=t("./codegen"),o=t("./util"),i=t("./names");function s(d,h){var p=d.const("err",h);d.if(r._(Vb||(Vb=ie([""," === null"])),i.default.vErrors),function(){return d.assign(i.default.vErrors,r._(Hb||(Hb=ie(["[","]"])),p))},r._(Wb||(Wb=ie(["",".push(",")"])),i.default.vErrors,p)),d.code(r._(Ub||(Ub=ie(["","++"])),i.default.errors))}function a(d,h){var p=d.gen,v=d.validateName;d.schemaEnv.$async?p.throw(r._(Jb||(Jb=ie(["new ","(",")"])),d.ValidationError,h)):(p.assign(r._(Kb||(Kb=ie(["",".errors"])),v),h),p.return(!1))}n.keywordError={message:function(d){var h=d.keyword;return r.str(Gb||(Gb=ie(['must pass "','" keyword validation'])),h)}},n.keyword$DataError={message:function(d){var h=d.keyword,p=d.schemaType;return p?r.str(Qb||(Qb=ie(['"','" keyword must be '," ($data)"])),h,p):r.str(Yb||(Yb=ie(['"','" keyword is invalid ($data)'])),h)}},n.reportError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.keywordError,p=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,g=d.it,m=g.gen,y=g.compositeRule,b=g.allErrors,w=l(d,h,p);(v!=null?v:y||b)?s(m,w):a(g,r._(Xb||(Xb=ie(["[","]"])),w))},n.reportExtraError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.keywordError,p=arguments.length>2?arguments[2]:void 0,v=d.it,g=v.gen,m=v.compositeRule,y=v.allErrors;s(g,l(d,h,p)),m||y||a(v,i.default.vErrors)},n.resetErrorsCount=function(d,h){d.assign(i.default.errors,h),d.if(r._(Zb||(Zb=ie([""," !== null"])),i.default.vErrors),function(){return d.if(h,function(){return d.assign(r._(ew||(ew=ie(["",".length"])),i.default.vErrors),h)},function(){return d.assign(i.default.vErrors,null)})})},n.extendErrors=function(d){var h=d.gen,p=d.keyword,v=d.schemaValue,g=d.data,m=d.errsCount,y=d.it;if(m===void 0)throw new Error("ajv implementation error");var b=h.name("err");h.forRange("i",m,i.default.errors,function(w){h.const(b,r._(tw||(tw=ie(["","[","]"])),i.default.vErrors,w)),h.if(r._(nw||(nw=ie(["",".instancePath === undefined"])),b),function(){return h.assign(r._(rw||(rw=ie(["",".instancePath"])),b),(0,r.strConcat)(i.default.instancePath,y.errorPath))}),h.assign(r._(ow||(ow=ie(["",".schemaPath"])),b),r.str(iw||(iw=ie(["","/",""])),y.errSchemaPath,p)),y.opts.verbose&&(h.assign(r._(sw||(sw=ie(["",".schema"])),b),v),h.assign(r._(aw||(aw=ie(["",".data"])),b),g))})};var u={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function l(d,h,p){return d.it.createErrors===!1?r._(uw||(uw=ie(["{}"]))):function(v,g){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=v.gen,b=[f(v.it,m),c(v,m)];return function(w,k,$){var A=k.params,P=k.message,_=w.keyword,T=w.data,C=w.schemaValue,R=w.it,S=R.opts,j=R.propertyName,q=R.topSchemaRef,Y=R.schemaPath;$.push([u.keyword,_],[u.params,typeof A=="function"?A(w):A||r._(lw||(lw=ie(["{}"])))]),S.messages&&$.push([u.message,typeof P=="function"?P(w):P]),S.verbose&&$.push([u.schema,C],[u.parentSchema,r._(cw||(cw=ie(["","",""])),q,Y)],[i.default.data,T]),j&&$.push([u.propertyName,j])}(v,g,b),y.object.apply(y,b)}(d,h,p)}function f(d,h){var p=d.errorPath,v=h.instancePath,g=v?r.str(fw||(fw=ie(["","",""])),p,(0,o.getErrorPath)(v,o.Type.Str)):p;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,g)]}function c(d,h){var p=d.keyword,v=d.it.errSchemaPath,g=h.schemaPath,m=h.parentSchema?v:r.str(dw||(dw=ie(["","/",""])),v,p);return g&&(m=r.str(hw||(hw=ie(["","",""])),m,(0,o.getErrorPath)(g,o.Type.Str))),[u.schemaPath,m]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveSchema=n.getCompilingSchema=n.resolveRef=n.compileSchema=n.SchemaEnv=void 0;var r=t("./codegen"),o=t("../runtime/validation_error"),i=t("./names"),s=t("./resolve"),a=t("./util"),u=t("./validate"),l=ae(function m(y){var b,w;se(this,m),this.refs={},this.dynamicAnchors={},ut(y.schema)=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(b=y.baseId)!==null&&b!==void 0?b:(0,s.normalizeId)(w==null?void 0:w[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w==null?void 0:w.$async,this.refs={}});function f(m){var y=d.call(this,m);if(y)return y;var b,w=(0,s.getFullPath)(this.opts.uriResolver,m.root.baseId),k=this.opts.code,$=k.es5,A=k.lines,P=this.opts.ownProperties,_=new r.CodeGen(this.scope,{es5:$,lines:A,ownProperties:P});m.$async&&(b=_.scopeValue("Error",{ref:o.default,code:r._(pw||(pw=ie(['require("ajv/dist/runtime/validation_error").default'])))}));var T=_.scopeName("validate");m.validateName=T;var C,R={gen:_,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:m.schema,code:(0,r.stringify)(m.schema)}:{ref:m.schema}),validateName:T,ValidationError:b,schema:m.schema,schemaEnv:m,rootId:w,baseId:m.baseId||w,schemaPath:r.nil,errSchemaPath:m.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._(vw||(vw=ie(['""']))),opts:this.opts,self:this};try{this._compilations.add(m),(0,u.validateFunctionCode)(R),_.optimize(this.opts.code.optimize);var S=_.toString();C="".concat(_.scopeRefs(i.default.scope),"return ").concat(S),this.opts.code.process&&(C=this.opts.code.process(C,m));var j=new Function("".concat(i.default.self),"".concat(i.default.scope),C)(this,this.scope.get());if(this.scope.value(T,{ref:j}),j.errors=null,j.schema=m.schema,j.schemaEnv=m,m.$async&&(j.$async=!0),this.opts.code.source===!0&&(j.source={validateName:T,validateCode:S,scopeValues:_._values}),this.opts.unevaluated){var q=R.props,Y=R.items;j.evaluated={props:q instanceof r.Name?void 0:q,items:Y instanceof r.Name?void 0:Y,dynamicProps:q instanceof r.Name,dynamicItems:Y instanceof r.Name},j.source&&(j.source.evaluated=(0,r.stringify)(j.evaluated))}return m.validate=j,m}catch(F){throw delete m.validate,delete m.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(m)}}function c(m){return(0,s.inlineRef)(m.schema,this.opts.inlineRefs)?m.schema:m.validate?m:f.call(this,m)}function d(m){var y,b,w,k=he(this._compilations);try{for(k.s();!(y=k.n()).done;){var $=y.value;if((b=$).schema===(w=m).schema&&b.root===w.root&&b.baseId===w.baseId)return $}}catch(A){k.e(A)}finally{k.f()}}function h(m,y){for(var b;typeof(b=this.refs[y])=="string";)y=b;return b||this.schemas[y]||p.call(this,m,y)}function p(m,y){var b=this.opts.uriResolver.parse(y),w=(0,s._getFullPath)(this.opts.uriResolver,b),k=(0,s.getFullPath)(this.opts.uriResolver,m.baseId,void 0);if(Object.keys(m.schema).length>0&&w===k)return g.call(this,b,m);var $=(0,s.normalizeId)(w),A=this.refs[$]||this.schemas[$];if(typeof A=="string"){var P=p.call(this,m,A);return ut(P==null?void 0:P.schema)!="object"?void 0:g.call(this,b,P)}if(ut(A==null?void 0:A.schema)=="object"){if(A.validate||f.call(this,A),$===(0,s.normalizeId)(y)){var _=A.schema,T=this.opts.schemaId,C=_[T];return C&&(k=(0,s.resolveUrl)(this.opts.uriResolver,k,C)),new l({schema:_,schemaId:T,root:m,baseId:k})}return g.call(this,b,A)}}n.SchemaEnv=l,n.compileSchema=f,n.resolveRef=function(m,y,b){var w;b=(0,s.resolveUrl)(this.opts.uriResolver,y,b);var k=m.refs[b];if(k)return k;var $=h.call(this,m,b);if($===void 0){var A=(w=m.localRefs)===null||w===void 0?void 0:w[b],P=this.opts.schemaId;A&&($=new l({schema:A,schemaId:P,root:m,baseId:y}))}return $!==void 0?m.refs[b]=c.call(this,$):void 0},n.getCompilingSchema=d,n.resolveSchema=p;var v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(m,y){var b,w=y.baseId,k=y.schema,$=y.root;if(((b=m.fragment)===null||b===void 0?void 0:b[0])==="/"){var A,P,_=he(m.fragment.slice(1).split("/"));try{for(_.s();!(A=_.n()).done;){var T=A.value;if(typeof k=="boolean")return;var C=k[(0,a.unescapeFragment)(T)];if(C===void 0)return;var R=ut(k=C)=="object"&&k[this.opts.schemaId];!v.has(T)&&R&&(w=(0,s.resolveUrl)(this.opts.uriResolver,w,R))}}catch(q){_.e(q)}finally{_.f()}if(typeof k!="boolean"&&k.$ref&&!(0,a.schemaHasRulesButRef)(k,this.RULES)){var S=(0,s.resolveUrl)(this.opts.uriResolver,w,k.$ref);P=p.call(this,$,S)}var j=this.opts.schemaId;return(P=P||new l({schema:k,schemaId:j,root:$,baseId:w})).schema!==P.root.schema?P:void 0}}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./codegen"),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};n.default=o},{"./codegen":2}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./resolve"),o=function(i){De(a,vd(Error));var s=Be(a);function a(u,l,f,c){var d;return se(this,a),(d=s.call(this,c||"can't resolve reference ".concat(f," from id ").concat(l))).missingRef=(0,r.resolveUrl)(u,l,f),d.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(u,d.missingRef)),d}return ae(a)}();n.default=o},{"./resolve":8}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSchemaRefs=n.resolveUrl=n.normalizeId=n._getFullPath=n.getFullPath=n.inlineRef=void 0;var r=t("./util"),o=t("fast-deep-equal"),i=t("json-schema-traverse"),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);n.inlineRef=function(v){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return typeof v=="boolean"||(g===!0?!u(v):!!g&&l(v)<=g)};var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(v){for(var g in v){if(a.has(g))return!0;var m=v[g];if(Array.isArray(m)&&m.some(u)||ut(m)=="object"&&u(m))return!0}return!1}function l(v){var g=0;for(var m in v)if(m==="$ref"||(g++,!s.has(m)&&(ut(v[m])=="object"&&(0,r.eachItem)(v[m],function(y){return g+=l(y)}),1/0===g)))return 1/0;return g}function f(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(arguments.length>2?arguments[2]:void 0)!==!1&&(g=h(g));var m=v.parse(g);return c(v,m)}function c(v,g){return v.serialize(g).split("#")[0]+"#"}n.getFullPath=f,n._getFullPath=c;var d=/#\/?$/;function h(v){return v?v.replace(d,""):""}n.normalizeId=h,n.resolveUrl=function(v,g,m){return m=h(m),v.resolve(g,m)};var p=/^[a-z_][-a-z0-9._]*$/i;n.getSchemaRefs=function(v,g){var m=this;if(typeof v=="boolean")return{};var y=this.opts,b=y.schemaId,w=y.uriResolver,k=h(v[b]||g),$={"":k},A=f(w,k,!1),P={},_=new Set;return i(v,{allKeys:!0},function(R,S,j,q){if(q!==void 0){var Y=A+S,F=$[q];typeof R[b]=="string"&&(F=K.call(m,R[b])),D.call(m,R.$anchor),D.call(m,R.$dynamicAnchor),$[S]=F}function K(I){if(I=h(F?(0,this.opts.uriResolver.resolve)(F,I):I),_.has(I))throw C(I);_.add(I);var W=this.refs[I];return typeof W=="string"&&(W=this.refs[W]),ut(W)=="object"?T(R,W.schema,I):I!==h(Y)&&(I[0]==="#"?(T(R,P[I],I),P[I]=R):this.refs[I]=Y),I}function D(I){if(typeof I=="string"){if(!p.test(I))throw new Error('invalid anchor "'.concat(I,'"'));K.call(this,"#".concat(I))}}}),P;function T(R,S,j){if(S!==void 0&&!o(R,S))throw C(j)}function C(R){return new Error('reference "'.concat(R,'" resolves to more than one schema'))}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRules=n.isJSONType=void 0;var r=new Set(["string","number","integer","boolean","null","object","array"]);n.isJSONType=function(o){return typeof o=="string"&&r.has(o)},n.getRules=function(){var o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:lt(lt({},o),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkStrictMode=n.getErrorPath=n.Type=n.useFunc=n.setEvaluated=n.evaluatedPropsToName=n.mergeEvaluated=n.eachItem=n.unescapeJsonPointer=n.escapeJsonPointer=n.escapeFragment=n.unescapeFragment=n.schemaRefOrVal=n.schemaHasRulesButRef=n.schemaHasRules=n.checkUnknownRules=n.alwaysValidSchema=n.toHash=void 0;var r=t("./codegen"),o=t("./codegen/code");function i(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.schema,m=v.opts,y=v.self;if(m.strictSchema&&typeof g!="boolean"){var b=y.RULES.keywords;for(var w in g)b[w]||p(v,'unknown keyword: "'.concat(w,'"'))}}function s(v,g){if(typeof v=="boolean")return!v;for(var m in v)if(g[m])return!0;return!1}function a(v){return typeof v=="number"?"".concat(v):v.replace(/~/g,"~0").replace(/\//g,"~1")}function u(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}function l(v){var g=v.mergeNames,m=v.mergeToName,y=v.mergeValues,b=v.resultToName;return function(w,k,$,A){var P=$===void 0?k:$ instanceof r.Name?(k instanceof r.Name?g(w,k,$):m(w,k,$),$):k instanceof r.Name?(m(w,$,k),k):y(k,$);return A!==r.Name||P instanceof r.Name?P:b(w,P)}}function f(v,g){if(g===!0)return v.var("props",!0);var m=v.var("props",r._(mw||(mw=ie(["{}"]))));return g!==void 0&&c(v,m,g),m}function c(v,g,m){Object.keys(m).forEach(function(y){return v.assign(r._(gw||(gw=ie(["","",""])),g,(0,r.getProperty)(y)),!0)})}n.toHash=function(v){var g,m={},y=he(v);try{for(y.s();!(g=y.n()).done;)m[g.value]=!0}catch(b){y.e(b)}finally{y.f()}return m},n.alwaysValidSchema=function(v,g){return typeof g=="boolean"?g:Object.keys(g).length===0||(i(v,g),!s(g,v.self.RULES.all))},n.checkUnknownRules=i,n.schemaHasRules=s,n.schemaHasRulesButRef=function(v,g){if(typeof v=="boolean")return!v;for(var m in v)if(m!=="$ref"&&g.all[m])return!0;return!1},n.schemaRefOrVal=function(v,g,m,y){var b=v.topSchemaRef,w=v.schemaPath;if(!y){if(typeof g=="number"||typeof g=="boolean")return g;if(typeof g=="string")return r._(yw||(yw=ie(["",""])),g)}return r._(bw||(bw=ie(["","","",""])),b,w,(0,r.getProperty)(m))},n.unescapeFragment=function(v){return u(decodeURIComponent(v))},n.escapeFragment=function(v){return encodeURIComponent(a(v))},n.escapeJsonPointer=a,n.unescapeJsonPointer=u,n.eachItem=function(v,g){if(Array.isArray(v)){var m,y=he(v);try{for(y.s();!(m=y.n()).done;)g(m.value)}catch(b){y.e(b)}finally{y.f()}}else g(v)},n.mergeEvaluated={props:l({mergeNames:function(v,g,m){return v.if(r._(ww||(ww=ie([""," !== true && "," !== undefined"])),m,g),function(){v.if(r._(kw||(kw=ie([""," === true"])),g),function(){return v.assign(m,!0)},function(){return v.assign(m,r._(xw||(xw=ie([""," || {}"])),m)).code(r._(jw||(jw=ie(["Object.assign(",", ",")"])),m,g))})})},mergeToName:function(v,g,m){return v.if(r._(_w||(_w=ie([""," !== true"])),m),function(){g===!0?v.assign(m,!0):(v.assign(m,r._(Sw||(Sw=ie([""," || {}"])),m)),c(v,m,g))})},mergeValues:function(v,g){return v===!0||lt(lt({},v),g)},resultToName:f}),items:l({mergeNames:function(v,g,m){return v.if(r._(Cw||(Cw=ie([""," !== true && "," !== undefined"])),m,g),function(){return v.assign(m,r._($w||($w=ie([""," === true ? true : "," > "," ? "," : ",""])),g,m,g,m,g))})},mergeToName:function(v,g,m){return v.if(r._(Ow||(Ow=ie([""," !== true"])),m),function(){return v.assign(m,g===!0||r._(Aw||(Aw=ie([""," > "," ? "," : ",""])),m,g,m,g))})},mergeValues:function(v,g){return v===!0||Math.max(v,g)},resultToName:function(v,g){return v.var("items",g)}})},n.evaluatedPropsToName=f,n.setEvaluated=c;var d,h={};function p(v,g){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.opts.strictSchema;if(m){if(g="strict mode: ".concat(g),m===!0)throw new Error(g);v.self.logger.warn(g)}}n.useFunc=function(v,g){return v.scopeValue("func",{ref:g,code:h[g.code]||(h[g.code]=new o._Code(g.code))})},function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"}(d=n.Type||(n.Type={})),n.getErrorPath=function(v,g,m){if(v instanceof r.Name){var y=g===d.Num;return m?y?r._(Ew||(Ew=ie(['"[" + ',' + "]"'])),v):r._(Pw||(Pw=ie([`"['" + `,` + "']"`])),v):y?r._(Tw||(Tw=ie(['"/" + ',""])),v):r._(Mw||(Mw=ie(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),v)}return m?(0,r.getProperty)(v).toString():"/"+a(v)},n.checkStrictMode=p},{"./codegen":2,"./codegen/code":1}],11:[function(t,e,n){function r(i,s){return s.rules.some(function(a){return o(i,a)})}function o(i,s){var a;return i[s.keyword]!==void 0||((a=s.definition.implements)===null||a===void 0?void 0:a.some(function(u){return i[u]!==void 0}))}Object.defineProperty(n,"__esModule",{value:!0}),n.shouldUseRule=n.shouldUseGroup=n.schemaHasRulesForType=void 0,n.schemaHasRulesForType=function(i,s){var a=i.schema,u=i.self.RULES.types[s];return u&&u!==!0&&r(a,u)},n.shouldUseGroup=r,n.shouldUseRule=o},{}],12:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.boolOrEmptySchema=n.topBoolOrEmptySchema=void 0;var r=t("../errors"),o=t("../codegen"),i=t("../names"),s={message:"boolean schema is false"};function a(u,l){var f=u.gen,c=u.data;(0,r.reportError)({gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u},s,void 0,l)}n.topBoolOrEmptySchema=function(u){var l=u.gen,f=u.schema,c=u.validateName;f===!1?a(u,!1):ut(f)=="object"&&f.$async===!0?l.return(i.default.data):(l.assign(o._(Iw||(Iw=ie(["",".errors"])),c),null),l.return(!0))},n.boolOrEmptySchema=function(u,l){var f=u.gen;u.schema===!1?(f.var(l,!1),a(u)):f.var(l,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reportTypeError=n.checkDataTypes=n.checkDataType=n.coerceAndCheckDataType=n.getJSONTypes=n.getSchemaTypes=n.DataType=void 0;var r,o=t("../rules"),i=t("./applicability"),s=t("../errors"),a=t("../codegen"),u=t("../util");function l(v){var g=Array.isArray(v)?v:v?[v]:[];if(g.every(o.isJSONType))return g;throw new Error("type must be JSONType or JSONType[]: "+g.join(","))}(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(r=n.DataType||(n.DataType={})),n.getSchemaTypes=function(v){var g=l(v.type);if(g.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!g.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&g.push("null")}return g},n.getJSONTypes=l,n.coerceAndCheckDataType=function(v,g){var m=v.gen,y=v.data,b=v.opts,w=function(A,P){return P?A.filter(function(_){return f.has(_)||P==="array"&&_==="array"}):[]}(g,b.coerceTypes),k=g.length>0&&!(w.length===0&&g.length===1&&(0,i.schemaHasRulesForType)(v,g[0]));if(k){var $=d(g,y,b.strictNumbers,r.Wrong);m.if($,function(){w.length?function(A,P,_){var T=A.gen,C=A.data,R=A.opts,S=T.let("dataType",a._(Nw||(Nw=ie(["typeof ",""])),C)),j=T.let("coerced",a._(Lw||(Lw=ie(["undefined"]))));R.coerceTypes==="array"&&T.if(a._(Rw||(Rw=ie([""," == 'object' && Array.isArray(",") && ",".length == 1"])),S,C,C),function(){return T.assign(C,a._(Dw||(Dw=ie(["","[0]"])),C)).assign(S,a._(Bw||(Bw=ie(["typeof ",""])),C)).if(d(P,C,R.strictNumbers),function(){return T.assign(j,C)})}),T.if(a._(zw||(zw=ie([""," !== undefined"])),j));var q,Y=he(_);try{for(Y.s();!(q=Y.n()).done;){var F=q.value;(f.has(F)||F==="array"&&R.coerceTypes==="array")&&K(F)}}catch(D){Y.e(D)}finally{Y.f()}function K(D){switch(D){case"string":return void T.elseIf(a._(Fw||(Fw=ie(["",' == "number" || ',' == "boolean"'])),S,S)).assign(j,a._(qw||(qw=ie(['"" + ',""])),C)).elseIf(a._(Vw||(Vw=ie([""," === null"])),C)).assign(j,a._(Hw||(Hw=ie(['""']))));case"number":return void T.elseIf(a._(Ww||(Ww=ie(["",' == "boolean" || ',` === null
	              || (`,' == "string" && '," && "," == +",")"])),S,C,S,C,C,C)).assign(j,a._(Uw||(Uw=ie(["+",""])),C));case"integer":return void T.elseIf(a._(Jw||(Jw=ie(["",' === "boolean" || ',` === null
	              || (`,' === "string" && '," && "," == +"," && !("," % 1))"])),S,C,S,C,C,C,C)).assign(j,a._(Kw||(Kw=ie(["+",""])),C));case"boolean":return void T.elseIf(a._(Gw||(Gw=ie(["",' === "false" || '," === 0 || "," === null"])),C,C,C)).assign(j,!1).elseIf(a._(Qw||(Qw=ie(["",' === "true" || '," === 1"])),C,C)).assign(j,!0);case"null":return T.elseIf(a._(Yw||(Yw=ie(["",' === "" || '," === 0 || "," === false"])),C,C,C)),void T.assign(j,null);case"array":T.elseIf(a._(Xw||(Xw=ie(["",' === "string" || ',` === "number"
	              || `,' === "boolean" || '," === null"])),S,S,S,C)).assign(j,a._(Zw||(Zw=ie(["[","]"])),C))}}T.else(),p(A),T.endIf(),T.if(a._(ek||(ek=ie([""," !== undefined"])),j),function(){T.assign(C,j),function(D,I){var W=D.gen,H=D.parentData,z=D.parentDataProperty;W.if(a._(tk||(tk=ie([""," !== undefined"])),H),function(){return W.assign(a._(nk||(nk=ie(["","[","]"])),H,z),I)})}(A,j)})}(v,g,w):p(v)})}return k};var f=new Set(["string","number","integer","boolean","null"]);function c(v,g,m){var y,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.Correct,w=b===r.Correct?a.operators.EQ:a.operators.NEQ;switch(v){case"null":return a._(rk||(rk=ie([""," "," null"])),g,w);case"array":y=a._(ok||(ok=ie(["Array.isArray(",")"])),g);break;case"object":y=a._(ik||(ik=ie([""," && typeof ",' == "object" && !Array.isArray(',")"])),g,g,g);break;case"integer":y=k(a._(sk||(sk=ie(["!("," % 1) && !isNaN(",")"])),g,g));break;case"number":y=k();break;default:return a._(ak||(ak=ie(["typeof "," "," ",""])),g,w,v)}return b===r.Correct?y:(0,a.not)(y);function k(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.nil;return(0,a.and)(a._(uk||(uk=ie(["typeof ",' == "number"'])),g),$,m?a._(lk||(lk=ie(["isFinite(",")"])),g):a.nil)}}function d(v,g,m,y){if(v.length===1)return c(v[0],g,m,y);var b,w=(0,u.toHash)(v);if(w.array&&w.object){var k=a._(ck||(ck=ie(["typeof ",' != "object"'])),g);b=w.null?k:a._(fk||(fk=ie(["!"," || ",""])),g,k),delete w.null,delete w.array,delete w.object}else b=a.nil;for(var $ in w.number&&delete w.integer,w)b=(0,a.and)(b,c($,g,m,y));return b}n.checkDataType=c,n.checkDataTypes=d;var h={message:function(v){var g=v.schema;return"must be ".concat(g)},params:function(v){var g=v.schema,m=v.schemaValue;return typeof g=="string"?a._(dk||(dk=ie(["{type: ","}"])),g):a._(hk||(hk=ie(["{type: ","}"])),m)}};function p(v){var g=function(m){var y=m.gen,b=m.data,w=m.schema,k=(0,u.schemaRefOrVal)(m,w,"type");return{gen:y,keyword:"type",data:b,schema:w.type,schemaCode:k,schemaValue:k,parentSchema:w,params:{},it:m}}(v);(0,s.reportError)(g,h)}n.reportTypeError=p},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assignDefaults=void 0;var r=t("../codegen"),o=t("../util");function i(s,a,u){var l=s.gen,f=s.compositeRule,c=s.data,d=s.opts;if(u!==void 0){var h=r._(pk||(pk=ie(["","",""])),c,(0,r.getProperty)(a));if(f)(0,o.checkStrictMode)(s,"default is ignored for: ".concat(h));else{var p=r._(vk||(vk=ie([""," === undefined"])),h);d.useDefaults==="empty"&&(p=r._(mk||(mk=ie([""," || "," === null || ",' === ""'])),p,h,h)),l.if(p,r._(gk||(gk=ie([""," = ",""])),h,(0,r.stringify)(u)))}}}n.assignDefaults=function(s,a){var u=s.schema,l=u.properties,f=u.items;if(a==="object"&&l)for(var c in l)i(s,c,l[c].default);else a==="array"&&Array.isArray(f)&&f.forEach(function(d,h){return i(s,h,d.default)})}},{"../codegen":2,"../util":10}],15:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getData=n.KeywordCxt=n.validateFunctionCode=void 0;var r=t("./boolSchema"),o=t("./dataType"),i=t("./applicability"),s=t("./dataType"),a=t("./defaults"),u=t("./keyword"),l=t("./subschema"),f=t("../codegen"),c=t("../names"),d=t("../resolve"),h=t("../util"),p=t("../errors");function v(F,K){var D=F.gen,I=F.validateName,W=F.schema,H=F.schemaEnv,z=F.opts;z.code.es5?D.func(I,f._(yk||(yk=ie(["",", ",""])),c.default.data,c.default.valCxt),H.$async,function(){D.code(f._(bk||(bk=ie(['"use strict"; ',""])),g(W,z))),function(O,x){O.if(c.default.valCxt,function(){O.var(c.default.instancePath,f._(wk||(wk=ie(["",".",""])),c.default.valCxt,c.default.instancePath)),O.var(c.default.parentData,f._(kk||(kk=ie(["",".",""])),c.default.valCxt,c.default.parentData)),O.var(c.default.parentDataProperty,f._(xk||(xk=ie(["",".",""])),c.default.valCxt,c.default.parentDataProperty)),O.var(c.default.rootData,f._(jk||(jk=ie(["",".",""])),c.default.valCxt,c.default.rootData)),x.dynamicRef&&O.var(c.default.dynamicAnchors,f._(_k||(_k=ie(["",".",""])),c.default.valCxt,c.default.dynamicAnchors))},function(){O.var(c.default.instancePath,f._(Sk||(Sk=ie(['""'])))),O.var(c.default.parentData,f._(Ck||(Ck=ie(["undefined"])))),O.var(c.default.parentDataProperty,f._($k||($k=ie(["undefined"])))),O.var(c.default.rootData,c.default.data),x.dynamicRef&&O.var(c.default.dynamicAnchors,f._(Ok||(Ok=ie(["{}"]))))})}(D,z),D.code(K)}):D.func(I,f._(Ak||(Ak=ie(["",", ",""])),c.default.data,function(O){return f._(Ek||(Ek=ie(["{",'="", ',", ",", ","=","","}={}"])),c.default.instancePath,c.default.parentData,c.default.parentDataProperty,c.default.rootData,c.default.data,O.dynamicRef?f._(Pk||(Pk=ie([", ","={}"])),c.default.dynamicAnchors):f.nil)}(z)),H.$async,function(){return D.code(g(W,z)).code(K)})}function g(F,K){var D=ut(F)=="object"&&F[K.schemaId];return D&&(K.code.source||K.code.process)?f._(Tk||(Tk=ie(["/*# sourceURL="," */"])),D):f.nil}function m(F,K){b(F)&&(w(F),y(F))?function(D,I){var W=D.schema,H=D.gen;D.opts.$comment&&W.$comment&&$(D),function(O){var x=O.schema[O.opts.schemaId];x&&(O.baseId=(0,d.resolveUrl)(O.opts.uriResolver,O.baseId,x))}(D),function(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}(D);var z=H.const("_errs",c.default.errors);k(D,z),H.var(I,f._(Mk||(Mk=ie([""," === ",""])),z,c.default.errors))}(F,K):(0,r.boolOrEmptySchema)(F,K)}function y(F){var K=F.schema,D=F.self;if(typeof K=="boolean")return!K;for(var I in K)if(D.RULES.all[I])return!0;return!1}function b(F){return typeof F.schema!="boolean"}function w(F){(0,h.checkUnknownRules)(F),function(K){var D=K.schema,I=K.errSchemaPath,W=K.opts,H=K.self;D.$ref&&W.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(D,H.RULES)&&H.logger.warn('$ref: keywords ignored in schema at path "'.concat(I,'"'))}(F)}function k(F,K){if(F.opts.jtd)return A(F,[],!1,K);var D=(0,o.getSchemaTypes)(F.schema);A(F,D,!(0,o.coerceAndCheckDataType)(F,D),K)}function $(F){var K=F.gen,D=F.schemaEnv,I=F.schema,W=F.errSchemaPath,H=F.opts,z=I.$comment;if(H.$comment===!0)K.code(f._(Ik||(Ik=ie(["",".logger.log(",")"])),c.default.self,z));else if(typeof H.$comment=="function"){var O=f.str(Nk||(Nk=ie(["","/$comment"])),W),x=K.scopeValue("root",{ref:D.root});K.code(f._(Lk||(Lk=ie(["",".opts.$comment(",", ",", ",".schema)"])),c.default.self,z,O,x))}}function A(F,K,D,I){var W=F.gen,H=F.schema,z=F.data,O=F.allErrors,x=F.opts,N=F.self.RULES;function G(ue){(0,i.shouldUseGroup)(H,ue)&&(ue.type?(W.if((0,s.checkDataType)(ue.type,z,x.strictNumbers)),P(F,ue),K.length===1&&K[0]===ue.type&&D&&(W.else(),(0,s.reportTypeError)(F)),W.endIf()):P(F,ue),O||W.if(f._(Rk||(Rk=ie([""," === ",""])),c.default.errors,I||0)))}!H.$ref||!x.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(H,N)?(x.jtd||function(ue,xe){!ue.schemaEnv.meta&&ue.opts.strictTypes&&(function($e,L){L.length&&($e.dataTypes.length?(L.forEach(function(Q){T($e.dataTypes,Q)||C($e,'type "'.concat(Q,'" not allowed by context "').concat($e.dataTypes.join(","),'"'))}),$e.dataTypes=$e.dataTypes.filter(function(Q){return T(L,Q)})):$e.dataTypes=L)}(ue,xe),ue.opts.allowUnionTypes||function($e,L){L.length>1&&(L.length!==2||!L.includes("null"))&&C($e,"use allowUnionTypes to allow union type keyword")}(ue,xe),function($e,L){var Q=$e.self.RULES.all;for(var M in Q){var B=Q[M];if(ut(B)=="object"&&(0,i.shouldUseRule)($e.schema,B)){var Z=B.definition.type;Z.length&&!Z.some(function(le){return _(L,le)})&&C($e,'missing type "'.concat(Z.join(","),'" for keyword "').concat(M,'"'))}}}(ue,ue.dataTypes))}(F,K),W.block(function(){var ue,xe=he(N.rules);try{for(xe.s();!(ue=xe.n()).done;)G(ue.value)}catch($e){xe.e($e)}finally{xe.f()}G(N.post)})):W.block(function(){return S(F,"$ref",N.all.$ref.definition)})}function P(F,K){var D=F.gen,I=F.schema;F.opts.useDefaults&&(0,a.assignDefaults)(F,K.type),D.block(function(){var W,H=he(K.rules);try{for(H.s();!(W=H.n()).done;){var z=W.value;(0,i.shouldUseRule)(I,z)&&S(F,z.keyword,z.definition,K.type)}}catch(O){H.e(O)}finally{H.f()}})}function _(F,K){return F.includes(K)||K==="number"&&F.includes("integer")}function T(F,K){return F.includes(K)||K==="integer"&&F.includes("number")}function C(F,K){(0,h.checkStrictMode)(F,K+=' at "'.concat(F.schemaEnv.baseId+F.errSchemaPath,'" (strictTypes)'),F.opts.strictTypes)}n.validateFunctionCode=function(F){b(F)&&(w(F),y(F))?function(K){var D=K.schema,I=K.opts,W=K.gen;v(K,function(){I.$comment&&D.$comment&&$(K),function(H){var z=H.schema,O=H.opts;z.default!==void 0&&O.useDefaults&&O.strictSchema&&(0,h.checkStrictMode)(H,"default is ignored in the schema root")}(K),W.let(c.default.vErrors,null),W.let(c.default.errors,0),I.unevaluated&&function(H){var z=H.gen,O=H.validateName;H.evaluated=z.const("evaluated",f._(Dk||(Dk=ie(["",".evaluated"])),O)),z.if(f._(Bk||(Bk=ie(["",".dynamicProps"])),H.evaluated),function(){return z.assign(f._(zk||(zk=ie(["",".props"])),H.evaluated),f._(Fk||(Fk=ie(["undefined"]))))}),z.if(f._(qk||(qk=ie(["",".dynamicItems"])),H.evaluated),function(){return z.assign(f._(Vk||(Vk=ie(["",".items"])),H.evaluated),f._(Hk||(Hk=ie(["undefined"]))))})}(K),k(K),function(H){var z=H.gen,O=H.schemaEnv,x=H.validateName,N=H.ValidationError,G=H.opts;O.$async?z.if(f._(Wk||(Wk=ie([""," === 0"])),c.default.errors),function(){return z.return(c.default.data)},function(){return z.throw(f._(Uk||(Uk=ie(["new ","(",")"])),N,c.default.vErrors))}):(z.assign(f._(Jk||(Jk=ie(["",".errors"])),x),c.default.vErrors),G.unevaluated&&function(ue){var xe=ue.gen,$e=ue.evaluated,L=ue.props,Q=ue.items;L instanceof f.Name&&xe.assign(f._(Kk||(Kk=ie(["",".props"])),$e),L),Q instanceof f.Name&&xe.assign(f._(Gk||(Gk=ie(["",".items"])),$e),Q)}(H),z.return(f._(Qk||(Qk=ie([""," === 0"])),c.default.errors)))}(K)})}(F):v(F,function(){return(0,r.topBoolOrEmptySchema)(F)})};var R=function(){function F(K,D,I){if(se(this,F),(0,u.validateKeywordUsage)(K,D,I),this.gen=K.gen,this.allErrors=K.allErrors,this.keyword=I,this.data=K.data,this.schema=K.schema[I],this.$data=D.$data&&K.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(K,this.schema,I,this.$data),this.schemaType=D.schemaType,this.parentSchema=K.schema,this.params={},this.it=K,this.def=D,this.$data)this.schemaCode=K.gen.const("vSchema",Y(this.$data,K));else if(this.schemaCode=this.schemaValue,!(0,u.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error("".concat(I," value must be ").concat(JSON.stringify(D.schemaType)));("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=K.gen.const("_errs",c.default.errors))}return ae(F,[{key:"result",value:function(K,D,I){this.failResult((0,f.not)(K),D,I)}},{key:"failResult",value:function(K,D,I){this.gen.if(K),I?I():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(K,D){this.failResult((0,f.not)(K),void 0,D)}},{key:"fail",value:function(K){if(K===void 0)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(K),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(K){if(!this.$data)return this.fail(K);var D=this.schemaCode;this.fail(f._(Yk||(Yk=ie([""," !== undefined && (",")"])),D,(0,f.or)(this.invalid$data(),K)))}},{key:"error",value:function(K,D,I){if(D)return this.setParams(D),this._error(K,I),void this.setParams({});this._error(K,I)}},{key:"_error",value:function(K,D){(K?p.reportExtraError:p.reportError)(this,this.def.error,D)}},{key:"$dataError",value:function(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}},{key:"reset",value:function(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(K){this.allErrors||this.gen.if(K)}},{key:"setParams",value:function(K,D){D?Object.assign(this.params,K):this.params=K}},{key:"block$data",value:function(K,D){var I=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.nil;this.gen.block(function(){I.check$data(K,W),D()})}},{key:"check$data",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.nil,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.nil;if(this.$data){var I=this.gen,W=this.schemaCode,H=this.schemaType,z=this.def;I.if((0,f.or)(f._(Xk||(Xk=ie([""," === undefined"])),W),D)),K!==f.nil&&I.assign(K,!0),(H.length||z.validateSchema)&&(I.elseIf(this.invalid$data()),this.$dataError(),K!==f.nil&&I.assign(K,!1)),I.else()}}},{key:"invalid$data",value:function(){var K=this.gen,D=this.schemaCode,I=this.schemaType,W=this.def,H=this.it;return(0,f.or)(function(){if(I.length){if(!(D instanceof f.Name))throw new Error("ajv implementation error");var z=Array.isArray(I)?I:[I];return f._(Zk||(Zk=ie(["",""])),(0,s.checkDataTypes)(z,D,H.opts.strictNumbers,s.DataType.Wrong))}return f.nil}(),function(){if(W.validateSchema){var z=K.scopeValue("validate$data",{ref:W.validateSchema});return f._(e2||(e2=ie(["!","(",")"])),z,D)}return f.nil}())}},{key:"subschema",value:function(K,D){var I=(0,l.getSubschema)(this.it,K);(0,l.extendSubschemaData)(I,this.it,K),(0,l.extendSubschemaMode)(I,K);var W=lt(lt(lt({},this.it),I),{},{items:void 0,props:void 0});return m(W,D),W}},{key:"mergeEvaluated",value:function(K,D){var I=this.it,W=this.gen;I.opts.unevaluated&&(I.props!==!0&&K.props!==void 0&&(I.props=h.mergeEvaluated.props(W,K.props,I.props,D)),I.items!==!0&&K.items!==void 0&&(I.items=h.mergeEvaluated.items(W,K.items,I.items,D)))}},{key:"mergeValidEvaluated",value:function(K,D){var I=this,W=this.it,H=this.gen;if(W.opts.unevaluated&&(W.props!==!0||W.items!==!0))return H.if(D,function(){return I.mergeEvaluated(K,f.Name)}),!0}}]),F}();function S(F,K,D,I){var W=new R(F,D,K);"code"in D?D.code(W,I):W.$data&&D.validate?(0,u.funcKeywordCode)(W,D):"macro"in D?(0,u.macroKeywordCode)(W,D):(D.compile||D.validate)&&(0,u.funcKeywordCode)(W,D)}n.KeywordCxt=R;var j=/^\/(?:[^~]|~0|~1)*$/,q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(F,K){var D,I,W=K.dataLevel,H=K.dataNames,z=K.dataPathArr;if(F==="")return c.default.rootData;if(F[0]==="/"){if(!j.test(F))throw new Error("Invalid JSON-pointer: ".concat(F));D=F,I=c.default.rootData}else{var O=q.exec(F);if(!O)throw new Error("Invalid JSON-pointer: ".concat(F));var x=+O[1];if((D=O[2])==="#"){if(x>=W)throw new Error($e("property/index",x));return z[W-x]}if(x>W)throw new Error($e("data",x));if(I=H[W-x],!D)return I}var N,G=I,ue=he(D.split("/"));try{for(ue.s();!(N=ue.n()).done;){var xe=N.value;xe&&(I=f._(t2||(t2=ie(["","",""])),I,(0,f.getProperty)((0,h.unescapeJsonPointer)(xe))),G=f._(n2||(n2=ie([""," && ",""])),G,I))}}catch(L){ue.e(L)}finally{ue.f()}return G;function $e(L,Q){return"Cannot access ".concat(L," ").concat(Q," levels up, current level is ").concat(W)}}n.getData=Y},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateKeywordUsage=n.validSchemaType=n.funcKeywordCode=n.macroKeywordCode=void 0;var r=t("../codegen"),o=t("../names"),i=t("../../vocabularies/code"),s=t("../errors");function a(l){var f=l.gen,c=l.data,d=l.it;f.if(d.parentData,function(){return f.assign(c,r._(r2||(r2=ie(["","[","]"])),d.parentData,d.parentDataProperty))})}function u(l,f,c){if(c===void 0)throw new Error('keyword "'.concat(f,'" failed to compile'));return l.scopeValue("keyword",typeof c=="function"?{ref:c}:{ref:c,code:(0,r.stringify)(c)})}n.macroKeywordCode=function(l,f){var c=l.gen,d=l.keyword,h=l.schema,p=l.parentSchema,v=l.it,g=f.macro.call(v.self,h,p,v),m=u(c,d,g);v.opts.validateSchema!==!1&&v.self.validateSchema(g,!0);var y=c.name("valid");l.subschema({schema:g,schemaPath:r.nil,errSchemaPath:"".concat(v.errSchemaPath,"/").concat(d),topSchemaRef:m,compositeRule:!0},y),l.pass(y,function(){return l.error(!0)})},n.funcKeywordCode=function(l,f){var c,d=l.gen,h=l.keyword,p=l.schema,v=l.parentSchema,g=l.$data,m=l.it;(function(A,P){var _=A.schemaEnv;if(P.async&&!_.$async)throw new Error("async keyword in sync schema")})(m,f);var y=!g&&f.compile?f.compile.call(m.self,p,v,m):f.validate,b=u(d,h,y),w=d.let("valid");function k(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.async?r._(o2||(o2=ie(["await "]))):r.nil;d.assign(w,r._(i2||(i2=ie(["","",""])),A,(0,i.callValidateCode)(l,b,m.opts.passContext?o.default.this:o.default.self,!("compile"in f&&!g||f.schema===!1))),f.modifying)}function $(A){var P;d.if((0,r.not)((P=f.valid)!==null&&P!==void 0?P:w),A)}l.block$data(w,function(){if(f.errors===!1)k(),f.modifying&&a(l),$(function(){return l.error()});else{var A=f.async?function(){var P=d.let("ruleErrs",null);return d.try(function(){return k(r._(s2||(s2=ie(["await "]))))},function(_){return d.assign(w,!1).if(r._(a2||(a2=ie([""," instanceof ",""])),_,m.ValidationError),function(){return d.assign(P,r._(u2||(u2=ie(["",".errors"])),_))},function(){return d.throw(_)})}),P}():function(){var P=r._(l2||(l2=ie(["",".errors"])),b);return d.assign(P,null),k(r.nil),P}();f.modifying&&a(l),$(function(){return function(P,_){var T=P.gen;T.if(r._(c2||(c2=ie(["Array.isArray(",")"])),_),function(){T.assign(o.default.vErrors,r._(f2||(f2=ie([""," === null ? "," : ",".concat(",")"])),o.default.vErrors,_,o.default.vErrors,_)).assign(o.default.errors,r._(d2||(d2=ie(["",".length"])),o.default.vErrors)),(0,s.extendErrors)(P)},function(){return P.error()})}(l,A)})}}),l.ok((c=f.valid)!==null&&c!==void 0?c:w)},n.validSchemaType=function(l,f){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return!f.length||f.some(function(d){return d==="array"?Array.isArray(l):d==="object"?l&&ut(l)=="object"&&!Array.isArray(l):ut(l)==d||c&&l===void 0})},n.validateKeywordUsage=function(l,f,c){var d=l.schema,h=l.opts,p=l.self,v=l.errSchemaPath;if(Array.isArray(f.keyword)?!f.keyword.includes(c):f.keyword!==c)throw new Error("ajv implementation error");var g=f.dependencies;if(g!=null&&g.some(function(y){return!Object.prototype.hasOwnProperty.call(d,y)}))throw new Error("parent schema must have dependencies of ".concat(c,": ").concat(g.join(",")));if(f.validateSchema&&!f.validateSchema(d[c])){var m='keyword "'.concat(c,'" value is invalid at path "').concat(v,'": ')+p.errorsText(f.validateSchema.errors);if(h.validateSchema!=="log")throw new Error(m);p.logger.error(m)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendSubschemaMode=n.extendSubschemaData=n.getSubschema=void 0;var r=t("../codegen"),o=t("../util");n.getSubschema=function(i,s){var a=s.keyword,u=s.schemaProp,l=s.schema,f=s.schemaPath,c=s.errSchemaPath,d=s.topSchemaRef;if(a!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){var h=i.schema[a];return u===void 0?{schema:h,schemaPath:r._(h2||(h2=ie(["","",""])),i.schemaPath,(0,r.getProperty)(a)),errSchemaPath:"".concat(i.errSchemaPath,"/").concat(a)}:{schema:h[u],schemaPath:r._(p2||(p2=ie(["","","",""])),i.schemaPath,(0,r.getProperty)(a),(0,r.getProperty)(u)),errSchemaPath:"".concat(i.errSchemaPath,"/").concat(a,"/").concat((0,o.escapeFragment)(u))}}if(l!==void 0){if(f===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')},n.extendSubschemaData=function(i,s,a){var u=a.dataProp,l=a.dataPropType,f=a.data,c=a.dataTypes,d=a.propertyName;if(f!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var h=s.gen;if(u!==void 0){var p=s.errorPath,v=s.dataPathArr,g=s.opts;m(h.let("data",r._(v2||(v2=ie(["","",""])),s.data,(0,r.getProperty)(u)),!0)),i.errorPath=r.str(m2||(m2=ie(["","",""])),p,(0,o.getErrorPath)(u,l,g.jsPropertySyntax)),i.parentDataProperty=r._(g2||(g2=ie(["",""])),u),i.dataPathArr=[].concat(Qt(v),[i.parentDataProperty])}function m(y){i.data=y,i.dataLevel=s.dataLevel+1,i.dataTypes=[],s.definedProperties=new Set,i.parentData=s.data,i.dataNames=[].concat(Qt(s.dataNames),[y])}f!==void 0&&(m(f instanceof r.Name?f:h.let("data",f,!0)),d!==void 0&&(i.propertyName=d)),c&&(i.dataTypes=c)},n.extendSubschemaMode=function(i,s){var a=s.jtdDiscriminator,u=s.jtdMetadata,l=s.compositeRule,f=s.createErrors,c=s.allErrors;l!==void 0&&(i.compositeRule=l),f!==void 0&&(i.createErrors=f),c!==void 0&&(i.allErrors=c),i.jtdDiscriminator=a,i.jtdMetadata=u}},{"../codegen":2,"../util":10}],18:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=t("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=t("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});var i=t("./runtime/validation_error"),s=t("./compile/ref_error"),a=t("./compile/rules"),u=t("./compile"),l=t("./compile/codegen"),f=t("./compile/resolve"),c=t("./compile/validate/dataType"),d=t("./compile/util"),h=t("./refs/data.json"),p=t("./runtime/uri"),v=function(I,W){return new RegExp(I,W)};v.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(I){var W,H,z,O,x,N,G,ue,xe,$e,L,Q,M,B,Z,le,ee,V,Ee,Ce,_e,pe,ce,ke,Oe,fe=I.strict,Pe=(W=I.code)===null||W===void 0?void 0:W.optimize,Ve=Pe===!0||Pe===void 0?1:Pe||0,et=(z=(H=I.code)===null||H===void 0?void 0:H.regExp)!==null&&z!==void 0?z:v,vt=(O=I.uriResolver)!==null&&O!==void 0?O:p.default;return{strictSchema:(N=(x=I.strictSchema)!==null&&x!==void 0?x:fe)===null||N===void 0||N,strictNumbers:(ue=(G=I.strictNumbers)!==null&&G!==void 0?G:fe)===null||ue===void 0||ue,strictTypes:($e=(xe=I.strictTypes)!==null&&xe!==void 0?xe:fe)!==null&&$e!==void 0?$e:"log",strictTuples:(Q=(L=I.strictTuples)!==null&&L!==void 0?L:fe)!==null&&Q!==void 0?Q:"log",strictRequired:(B=(M=I.strictRequired)!==null&&M!==void 0?M:fe)!==null&&B!==void 0&&B,code:I.code?lt(lt({},I.code),{},{optimize:Ve,regExp:et}):{optimize:Ve,regExp:et},loopRequired:(Z=I.loopRequired)!==null&&Z!==void 0?Z:200,loopEnum:(le=I.loopEnum)!==null&&le!==void 0?le:200,meta:(ee=I.meta)===null||ee===void 0||ee,messages:(V=I.messages)===null||V===void 0||V,inlineRefs:(Ee=I.inlineRefs)===null||Ee===void 0||Ee,schemaId:(Ce=I.schemaId)!==null&&Ce!==void 0?Ce:"$id",addUsedSchema:(_e=I.addUsedSchema)===null||_e===void 0||_e,validateSchema:(pe=I.validateSchema)===null||pe===void 0||pe,validateFormats:(ce=I.validateFormats)===null||ce===void 0||ce,unicodeRegExp:(ke=I.unicodeRegExp)===null||ke===void 0||ke,int32range:(Oe=I.int32range)===null||Oe===void 0||Oe,uriResolver:vt}}var k=function(){function I(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(this,I),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts=lt(lt({},W),w(W));var H=this.opts.code,z=H.es5,O=H.lines;this.scope=new l.ValueScope({scope:{},prefixes:m,es5:z,lines:O}),this.logger=function(N){if(N===!1)return R;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}(W.logger);var x=W.validateFormats;W.validateFormats=!1,this.RULES=(0,a.getRules)(),$.call(this,y,W,"NOT SUPPORTED"),$.call(this,b,W,"DEPRECATED","warn"),this._metaOpts=C.call(this),W.formats&&_.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&T.call(this,W.keywords),ut(W.meta)=="object"&&this.addMetaSchema(W.meta),P.call(this),W.validateFormats=x}return ae(I,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var W=this.opts,H=W.$data,z=W.meta,O=W.schemaId,x=h;O==="id"&&((x=lt({},h)).id=x.$id,delete x.$id),z&&H&&this.addMetaSchema(x,x[O],!1)}},{key:"defaultMeta",value:function(){var W=this.opts,H=W.meta,z=W.schemaId;return this.opts.defaultMeta=ut(H)=="object"?H[z]||H:void 0}},{key:"validate",value:function(W,H){var z;if(typeof W=="string"){if(!(z=this.getSchema(W)))throw new Error('no schema with key or ref "'.concat(W,'"'))}else z=this.compile(W);var O=z(H);return"$async"in z||(this.errors=z.errors),O}},{key:"compile",value:function(W,H){var z=this._addSchema(W,H);return z.validate||this._compileSchemaEnv(z)}},{key:"compileAsync",value:function(W,H){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");var z=this.opts.loadSchema;return O.call(this,W,H);function O(Z,le){return x.apply(this,arguments)}function x(){return(x=In(bt().mark(function Z(le,ee){var V;return bt().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,N.call(this,le.$schema);case 2:return V=this._addSchema(le,ee),Ee.abrupt("return",V.validate||ue.call(this,V));case 4:case"end":return Ee.stop()}},Z,this)}))).apply(this,arguments)}function N(Z){return G.apply(this,arguments)}function G(){return(G=In(bt().mark(function Z(le){return bt().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ee.t0=le&&!this.getSchema(le),!ee.t0){ee.next=4;break}return ee.next=4,O.call(this,{$ref:le},!0);case 4:case"end":return ee.stop()}},Z,this)}))).apply(this,arguments)}function ue(Z){return xe.apply(this,arguments)}function xe(){return(xe=In(bt().mark(function Z(le){return bt().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.prev=0,ee.abrupt("return",this._compileSchemaEnv(le));case 4:if(ee.prev=4,ee.t0=ee.catch(0),ee.t0 instanceof s.default){ee.next=8;break}throw ee.t0;case 8:return $e.call(this,ee.t0),ee.next=11,L.call(this,ee.t0.missingSchema);case 11:return ee.abrupt("return",ue.call(this,le));case 12:case"end":return ee.stop()}},Z,this,[[0,4]])}))).apply(this,arguments)}function $e(Z){var le=Z.missingSchema,ee=Z.missingRef;if(this.refs[le])throw new Error("AnySchema ".concat(le," is loaded but ").concat(ee," cannot be resolved"))}function L(Z){return Q.apply(this,arguments)}function Q(){return(Q=In(bt().mark(function Z(le){var ee;return bt().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,M.call(this,le);case 2:if(ee=V.sent,V.t0=this.refs[le],V.t0){V.next=7;break}return V.next=7,N.call(this,ee.$schema);case 7:this.refs[le]||this.addSchema(ee,le,H);case 8:case"end":return V.stop()}},Z,this)}))).apply(this,arguments)}function M(Z){return B.apply(this,arguments)}function B(){return(B=In(bt().mark(function Z(le){var ee;return bt().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(ee=this._loading[le])){V.next=3;break}return V.abrupt("return",ee);case 3:return V.prev=3,V.next=6,this._loading[le]=z(le);case 6:return V.abrupt("return",V.sent);case 7:return V.prev=7,delete this._loading[le],V.finish(7);case 10:case"end":return V.stop()}},Z,this,[[3,,7,10]])}))).apply(this,arguments)}}},{key:"addSchema",value:function(W,H,z){var O,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema;if(Array.isArray(W)){var N,G=he(W);try{for(G.s();!(N=G.n()).done;){var ue=N.value;this.addSchema(ue,void 0,z,x)}}catch($e){G.e($e)}finally{G.f()}return this}if(ut(W)=="object"){var xe=this.opts.schemaId;if((O=W[xe])!==void 0&&typeof O!="string")throw new Error("schema ".concat(xe," must be string"))}return H=(0,f.normalizeId)(H||O),this._checkUnique(H),this.schemas[H]=this._addSchema(W,z,H,x,!0),this}},{key:"addMetaSchema",value:function(W,H){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.validateSchema;return this.addSchema(W,H,!0,z),this}},{key:"validateSchema",value:function(W,H){if(typeof W=="boolean")return!0;var z;if((z=W.$schema)!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(!(z=z||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var O=this.validate(z,W);if(!O&&H){var x="schema is invalid: "+this.errorsText();if(this.opts.validateSchema!=="log")throw new Error(x);this.logger.error(x)}return O}},{key:"getSchema",value:function(W){for(var H;typeof(H=A.call(this,W))=="string";)W=H;if(H===void 0){var z=this.opts.schemaId,O=new u.SchemaEnv({schema:{},schemaId:z});if(!(H=u.resolveSchema.call(this,O,W)))return;this.refs[W]=H}return H.validate||this._compileSchemaEnv(H)}},{key:"removeSchema",value:function(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(ut(W)){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var H=A.call(this,W);return ut(H)=="object"&&this._cache.delete(H.schema),delete this.schemas[W],delete this.refs[W],this;case"object":this._cache.delete(W);var z=W[this.opts.schemaId];return z&&(z=(0,f.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(W){var H,z=he(W);try{for(z.s();!(H=z.n()).done;){var O=H.value;this.addKeyword(O)}}catch(x){z.e(x)}finally{z.f()}return this}},{key:"addKeyword",value:function(W,H){var z,O=this;if(typeof W=="string")z=W,ut(H)=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=z);else{if(ut(W)!="object"||H!==void 0)throw new Error("invalid addKeywords parameters");if(z=(H=W).keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(j.call(this,z,H),!H)return(0,d.eachItem)(z,function(N){return q.call(O,N)}),this;F.call(this,H);var x=lt(lt({},H),{},{type:(0,c.getJSONTypes)(H.type),schemaType:(0,c.getJSONTypes)(H.schemaType)});return(0,d.eachItem)(z,x.type.length===0?function(N){return q.call(O,N,x)}:function(N){return x.type.forEach(function(G){return q.call(O,N,x,G)})}),this}},{key:"getKeyword",value:function(W){var H=this.RULES.all[W];return ut(H)=="object"?H.definition:!!H}},{key:"removeKeyword",value:function(W){var H=this.RULES;delete H.keywords[W],delete H.all[W];var z,O=he(H.rules);try{for(O.s();!(z=O.n()).done;){var x=z.value,N=x.rules.findIndex(function(G){return G.keyword===W});N>=0&&x.rules.splice(N,1)}}catch(G){O.e(G)}finally{O.f()}return this}},{key:"addFormat",value:function(W,H){return typeof H=="string"&&(H=new RegExp(H)),this.formats[W]=H,this}},{key:"errorsText",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.errors,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=H.separator,O=z===void 0?", ":z,x=H.dataVar,N=x===void 0?"data":x;return W&&W.length!==0?W.map(function(G){return"".concat(N).concat(G.instancePath," ").concat(G.message)}).reduce(function(G,ue){return G+O+ue}):"No errors"}},{key:"$dataMetaSchema",value:function(W,H){var z=this.RULES.all;W=JSON.parse(JSON.stringify(W));var O,x=he(H);try{for(x.s();!(O=x.n()).done;){var N,G=O.value.split("/").slice(1),ue=W,xe=he(G);try{for(xe.s();!(N=xe.n()).done;)ue=ue[N.value]}catch(B){xe.e(B)}finally{xe.f()}for(var $e in z){var L=z[$e];if(ut(L)=="object"){var Q=L.definition.$data,M=ue[$e];Q&&M&&(ue[$e]=D(M))}}}}catch(B){x.e(B)}finally{x.f()}return W}},{key:"_removeAllSchemas",value:function(W,H){for(var z in W){var O=W[z];H&&!H.test(z)||(typeof O=="string"?delete W[z]:O&&!O.meta&&(this._cache.delete(O.schema),delete W[z]))}}},{key:"_addSchema",value:function(W,H,z){var O,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.addUsedSchema,G=this.opts.schemaId;if(ut(W)=="object")O=W[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof W!="boolean")throw new Error("schema must be object or boolean")}var ue=this._cache.get(W);if(ue!==void 0)return ue;z=(0,f.normalizeId)(O||z);var xe=f.getSchemaRefs.call(this,W,z);return ue=new u.SchemaEnv({schema:W,schemaId:G,meta:H,baseId:z,localRefs:xe}),this._cache.set(ue.schema,ue),N&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=ue),x&&this.validateSchema(W,!0),ue}},{key:"_checkUnique",value:function(W){if(this.schemas[W]||this.refs[W])throw new Error('schema with key or id "'.concat(W,'" already exists'))}},{key:"_compileSchemaEnv",value:function(W){if(W.meta?this._compileMetaSchema(W):u.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}},{key:"_compileMetaSchema",value:function(W){var H=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,W)}finally{this.opts=H}}}]),I}();function $(I,W,H){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"error";for(var O in I){var x=O;x in W&&this.logger[z]("".concat(H,": option ").concat(O,". ").concat(I[x]))}}function A(I){return I=(0,f.normalizeId)(I),this.schemas[I]||this.refs[I]}function P(){var I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(var W in I)this.addSchema(I[W],W)}function _(){for(var I in this.opts.formats){var W=this.opts.formats[I];W&&this.addFormat(I,W)}}function T(I){if(Array.isArray(I))this.addVocabulary(I);else for(var W in this.logger.warn("keywords option as map is deprecated, pass array"),I){var H=I[W];H.keyword||(H.keyword=W),this.addKeyword(H)}}function C(){var I,W=lt({},this.opts),H=he(g);try{for(H.s();!(I=H.n()).done;)delete W[I.value]}catch(z){H.e(z)}finally{H.f()}return W}n.default=k,k.ValidationError=i.default,k.MissingRefError=s.default;var R={log:function(){},warn:function(){},error:function(){}},S=/^[a-z_$][a-z0-9_$:-]*$/i;function j(I,W){var H=this.RULES;if((0,d.eachItem)(I,function(z){if(H.keywords[z])throw new Error("Keyword ".concat(z," is already defined"));if(!S.test(z))throw new Error("Keyword ".concat(z," has invalid name"))}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function q(I,W,H){var z,O=this,x=W==null?void 0:W.post;if(H&&x)throw new Error('keyword with "post" flag cannot have "type"');var N=this.RULES,G=x?N.post:N.rules.find(function(xe){return xe.type===H});if(G||(G={type:H,rules:[]},N.rules.push(G)),N.keywords[I]=!0,W){var ue={keyword:I,definition:lt(lt({},W),{},{type:(0,c.getJSONTypes)(W.type),schemaType:(0,c.getJSONTypes)(W.schemaType)})};W.before?Y.call(this,G,ue,W.before):G.rules.push(ue),N.all[I]=ue,(z=W.implements)===null||z===void 0||z.forEach(function(xe){return O.addKeyword(xe)})}}function Y(I,W,H){var z=I.rules.findIndex(function(O){return O.keyword===H});z>=0?I.rules.splice(z,0,W):(I.rules.push(W),this.logger.warn("rule ".concat(H," is not defined")))}function F(I){var W=I.metaSchema;W!==void 0&&(I.$data&&this.opts.$data&&(W=D(W)),I.validateSchema=this.compile(W,!0))}var K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function D(I){return{anyOf:[I,K]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(t,e,n){e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(t,e,n){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("fast-deep-equal");r.code='require("ajv/dist/runtime/equal").default',n.default=r},{"fast-deep-equal":63}],22:[function(t,e,n){function r(o){for(var i,s=o.length,a=0,u=0;u<s;)a++,(i=o.charCodeAt(u++))>=55296&&i<=56319&&u<s&&(64512&(i=o.charCodeAt(u)))==56320&&u++;return a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("uri-js");r.code='require("ajv/dist/runtime/uri").default',n.default=r},{"uri-js":65}],24:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(o){De(s,vd(Error));var i=Be(s);function s(a){var u;return se(this,s),(u=i.call(this,"validation failed")).errors=a,u.ajv=u.validation=!0,u}return ae(s)}();n.default=r},{}],25:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAdditionalItems=void 0;var r=t("../../compile/codegen"),o=t("../../compile/util"),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(a){var u=a.params.len;return r.str(y2||(y2=ie(["must NOT have more than "," items"])),u)},params:function(a){var u=a.params.len;return r._(b2||(b2=ie(["{limit: ","}"])),u)}},code:function(a){var u=a.parentSchema,l=a.it,f=u.items;Array.isArray(f)?s(a,f):(0,o.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(a,u){var l=a.gen,f=a.schema,c=a.data,d=a.keyword,h=a.it;h.items=!0;var p=l.const("len",r._(w2||(w2=ie(["",".length"])),c));if(f===!1)a.setParams({len:u.length}),a.pass(r._(k2||(k2=ie([""," <= ",""])),p,u.length));else if(ut(f)=="object"&&!(0,o.alwaysValidSchema)(h,f)){var v=l.var("valid",r._(x2||(x2=ie([""," <= ",""])),p,u.length));l.if((0,r.not)(v),function(){return function(g){l.forRange("i",u.length,p,function(m){a.subschema({keyword:d,dataProp:m,dataPropType:o.Type.Num},g),h.allErrors||l.if((0,r.not)(g),function(){return l.break()})})}(v)}),a.ok(v)}}n.validateAdditionalItems=s,n.default=i},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),o=t("../../compile/codegen"),i=t("../../compile/names"),s=t("../../compile/util");n.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(a){var u=a.params;return o._(j2||(j2=ie(["{additionalProperty: ","}"])),u.additionalProperty)}},code:function(a){var u=a.gen,l=a.schema,f=a.parentSchema,c=a.data,d=a.errsCount,h=a.it;if(!d)throw new Error("ajv implementation error");var p=h.allErrors,v=h.opts;if(h.props=!0,v.removeAdditional==="all"||!(0,s.alwaysValidSchema)(h,l)){var g=(0,r.allSchemaProperties)(f.properties),m=(0,r.allSchemaProperties)(f.patternProperties);u.forIn("key",c,function(k){g.length||m.length?u.if(function($){var A;if(g.length>8){var P=(0,s.schemaRefOrVal)(h,f.properties,"properties");A=(0,r.isOwnProperty)(u,P,$)}else A=g.length?o.or.apply(void 0,Qt(g.map(function(_){return o._(S2||(S2=ie([""," === ",""])),$,_)}))):o.nil;return m.length&&(A=o.or.apply(void 0,[A].concat(Qt(m.map(function(_){return o._(C2||(C2=ie(["",".test(",")"])),(0,r.usePattern)(a,_),$)}))))),(0,o.not)(A)}(k),function(){return b(k)}):b(k)}),a.ok(o._($2||($2=ie([""," === ",""])),d,i.default.errors))}function y(k){u.code(o._(_2||(_2=ie(["delete ","[","]"])),c,k))}function b(k){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1)y(k);else{if(l===!1)return a.setParams({additionalProperty:k}),a.error(),void(p||u.break());if(ut(l)=="object"&&!(0,s.alwaysValidSchema)(h,l)){var $=u.name("valid");v.removeAdditional==="failing"?(w(k,$,!1),u.if((0,o.not)($),function(){a.reset(),y(k)})):(w(k,$),p||u.if((0,o.not)($),function(){return u.break()}))}}}function w(k,$,A){var P={keyword:"additionalProperties",dataProp:k,dataPropType:s.Type.Str};A===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,$)}}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:"allOf",schemaType:"array",code:function(o){var i=o.gen,s=o.schema,a=o.it;if(!Array.isArray(s))throw new Error("ajv implementation error");var u=i.name("valid");s.forEach(function(l,f){if(!(0,r.alwaysValidSchema)(a,l)){var c=o.subschema({keyword:"allOf",schemaProp:f},u);o.ok(u),o.mergeEvaluated(c)}})}}},{"../../compile/util":10}],28:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code");n.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util");n.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(i){var s=i.params,a=s.min,u=s.max;return u===void 0?r.str(O2||(O2=ie(["must contain at least "," valid item(s)"])),a):r.str(A2||(A2=ie(["must contain at least "," and no more than "," valid item(s)"])),a,u)},params:function(i){var s=i.params,a=s.min,u=s.max;return u===void 0?r._(E2||(E2=ie(["{minContains: ","}"])),a):r._(P2||(P2=ie(["{minContains: ",", maxContains: ","}"])),a,u)}},code:function(i){var s,a,u=i.gen,l=i.schema,f=i.parentSchema,c=i.data,d=i.it,h=f.minContains,p=f.maxContains;d.opts.next?(s=h===void 0?1:h,a=p):s=1;var v=u.const("len",r._(T2||(T2=ie(["",".length"])),c));if(i.setParams({min:s,max:a}),a!==void 0||s!==0){if(a!==void 0&&s>a)return(0,o.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),void i.fail();if((0,o.alwaysValidSchema)(d,l)){var g=r._(M2||(M2=ie([""," >= ",""])),v,s);return a!==void 0&&(g=r._(I2||(I2=ie([""," && "," <= ",""])),g,v,a)),void i.pass(g)}d.items=!0;var m=u.name("valid");a===void 0&&s===1?b(m,function(){return u.if(m,function(){return u.break()})}):s===0?(u.let(m,!0),a!==void 0&&u.if(r._(B2||(B2=ie(["",".length > 0"])),c),y)):(u.let(m,!1),y()),i.result(m,function(){return i.reset()})}else(0,o.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function y(){var w=u.name("_valid"),k=u.let("count",0);b(w,function(){return u.if(w,function(){return function($){u.code(r._(N2||(N2=ie(["","++"])),$)),a===void 0?u.if(r._(L2||(L2=ie([""," >= ",""])),$,s),function(){return u.assign(m,!0).break()}):(u.if(r._(R2||(R2=ie([""," > ",""])),$,a),function(){return u.assign(m,!1).break()}),s===1?u.assign(m,!0):u.if(r._(D2||(D2=ie([""," >= ",""])),$,s),function(){return u.assign(m,!0)}))}(k)})})}function b(w,k){u.forRange("i",0,v,function($){i.subschema({keyword:"contains",dataProp:$,dataPropType:o.Type.Num,compositeRule:!0},w),k()})}}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../code");n.error={message:function(l){var f=l.params,c=f.property,d=f.depsCount,h=f.deps;return r.str(z2||(z2=ie(["must have "," "," when property "," is present"])),d===1?"property":"properties",h,c)},params:function(l){var f=l.params,c=f.property,d=f.depsCount,h=f.deps,p=f.missingProperty;return r._(F2||(F2=ie(["{property: ",`,
	    missingProperty: `,`,
	    depsCount: `,`,
	    deps: `,"}"])),c,p,d,h)}};var s={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code:function(l){var f=At(function(h){var p=h.schema,v={},g={};for(var m in p)m!=="__proto__"&&((Array.isArray(p[m])?v:g)[m]=p[m]);return[v,g]}(l),2),c=f[0],d=f[1];a(l,c),u(l,d)}};function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.schema,c=l.gen,d=l.data,h=l.it;if(Object.keys(f).length!==0){var p=c.let("missing"),v=function(m){var y=f[m];if(y.length===0)return"continue";var b=(0,i.propertyInData)(c,d,m,h.opts.ownProperties);l.setParams({property:m,depsCount:y.length,deps:y.join(", ")}),h.allErrors?c.if(b,function(){var w,k=he(y);try{for(k.s();!(w=k.n()).done;){var $=w.value;(0,i.checkReportMissingProp)(l,$)}}catch(A){k.e(A)}finally{k.f()}}):(c.if(r._(q2||(q2=ie([""," && (",")"])),b,(0,i.checkMissingProp)(l,y,p))),(0,i.reportMissingProp)(l,p),c.else())};for(var g in f)v(g)}}function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.schema,c=l.gen,d=l.data,h=l.keyword,p=l.it,v=c.name("valid"),g=function(y){(0,o.alwaysValidSchema)(p,f[y])||(c.if((0,i.propertyInData)(c,d,y,p.opts.ownProperties),function(){var b=l.subschema({keyword:h,schemaProp:y},v);l.mergeValidEvaluated(b,v)},function(){return c.var(v,!0)}),l.ok(v))};for(var m in f)g(m)}n.validatePropertyDeps=a,n.validateSchemaDeps=u,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util");function i(s,a){var u=s.schema[a];return u!==void 0&&!(0,o.alwaysValidSchema)(s,u)}n.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(s){var a=s.params;return r.str(V2||(V2=ie(['must match "','" schema'])),a.ifClause)},params:function(s){var a=s.params;return r._(H2||(H2=ie(["{failingKeyword: ","}"])),a.ifClause)}},code:function(s){var a=s.gen,u=s.parentSchema,l=s.it;u.then===void 0&&u.else===void 0&&(0,o.checkStrictMode)(l,'"if" without "then" and "else" is ignored');var f=i(l,"then"),c=i(l,"else");if(f||c){var d=a.let("valid",!0),h=a.name("_valid");if(function(){var g=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);s.mergeEvaluated(g)}(),s.reset(),f&&c){var p=a.let("ifClause");s.setParams({ifClause:p}),a.if(h,v("then",p),v("else",p))}else f?a.if(h,v("then")):a.if((0,r.not)(h),v("else"));s.pass(d,function(){return s.error(!0)})}function v(g,m){return function(){var y=s.subschema({keyword:g},h);a.assign(d,h),s.mergeValidEvaluated(y,d),m?a.assign(m,r._(W2||(W2=ie(["",""])),g)):s.setParams({ifClause:g})}}}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./additionalItems"),o=t("./prefixItems"),i=t("./items"),s=t("./items2020"),a=t("./contains"),u=t("./dependencies"),l=t("./propertyNames"),f=t("./additionalProperties"),c=t("./properties"),d=t("./patternProperties"),h=t("./not"),p=t("./anyOf"),v=t("./oneOf"),g=t("./allOf"),m=t("./if"),y=t("./thenElse");n.default=function(){var b=arguments.length>0&&arguments[0]!==void 0&&arguments[0],w=[h.default,p.default,v.default,g.default,m.default,y.default,l.default,f.default,u.default,c.default,d.default];return b?w.push(o.default,s.default):w.push(r.default,i.default),w.push(a.default),w}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTuple=void 0;var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../code"),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(u){var l=u.schema,f=u.it;if(Array.isArray(l))return a(u,"additionalItems",l);f.items=!0,(0,o.alwaysValidSchema)(f,l)||u.ok((0,i.validateArray)(u))}};function a(u,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.schema,c=u.gen,d=u.parentSchema,h=u.data,p=u.keyword,v=u.it;(function(y){var b=v.opts,w=v.errSchemaPath,k=f.length,$=k===y.minItems&&(k===y.maxItems||y[l]===!1);b.strictTuples&&!$&&(0,o.checkStrictMode)(v,'"'.concat(p,'" is ').concat(k,"-tuple, but minItems or maxItems/").concat(l,' are not specified or different at path "').concat(w,'"'),b.strictTuples)})(d),v.opts.unevaluated&&f.length&&v.items!==!0&&(v.items=o.mergeEvaluated.items(c,f.length,v.items));var g=c.name("valid"),m=c.const("len",r._(U2||(U2=ie(["",".length"])),h));f.forEach(function(y,b){(0,o.alwaysValidSchema)(v,y)||(c.if(r._(J2||(J2=ie([""," > ",""])),m,b),function(){return u.subschema({keyword:p,schemaProp:b,dataProp:b},g)}),u.ok(g))})}n.validateTuple=a,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../code"),s=t("./additionalItems");n.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(a){var u=a.params.len;return r.str(K2||(K2=ie(["must NOT have more than "," items"])),u)},params:function(a){var u=a.params.len;return r._(G2||(G2=ie(["{limit: ","}"])),u)}},code:function(a){var u=a.schema,l=a.parentSchema,f=a.it,c=l.prefixItems;f.items=!0,(0,o.alwaysValidSchema)(f,u)||(c?(0,s.validateAdditionalItems)(a,c):a.ok((0,i.validateArray)(a)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(o){var i=o.gen,s=o.schema,a=o.it;if((0,r.alwaysValidSchema)(a,s))o.fail();else{var u=i.name("valid");o.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),o.failResult(u,function(){return o.reset()},function(){return o.error()})}},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util");n.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(i){var s=i.params;return r._(Q2||(Q2=ie(["{passingSchemas: ","}"])),s.passing)}},code:function(i){var s=i.gen,a=i.schema,u=i.parentSchema,l=i.it;if(!Array.isArray(a))throw new Error("ajv implementation error");if(!l.opts.discriminator||!u.discriminator){var f=a,c=s.let("valid",!1),d=s.let("passing",null),h=s.name("_valid");i.setParams({passing:d}),s.block(function(){f.forEach(function(p,v){var g;(0,o.alwaysValidSchema)(l,p)?s.var(h,!0):g=i.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},h),v>0&&s.if(r._(Y2||(Y2=ie([""," && ",""])),h,c)).assign(c,!1).assign(d,r._(X2||(X2=ie(["[",", ","]"])),d,v)).else(),s.if(h,function(){s.assign(c,!0),s.assign(d,v),g&&i.mergeEvaluated(g,r.Name)})})}),i.result(c,function(){return i.reset()},function(){return i.error(!0)})}}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),o=t("../../compile/codegen"),i=t("../../compile/util"),s=t("../../compile/util");n.default={keyword:"patternProperties",type:"object",schemaType:"object",code:function(a){var u=a.gen,l=a.schema,f=a.data,c=a.parentSchema,d=a.it,h=d.opts,p=(0,r.allSchemaProperties)(l),v=p.filter(function(k){return(0,i.alwaysValidSchema)(d,l[k])});if(p.length!==0&&(v.length!==p.length||d.opts.unevaluated&&d.props!==!0)){var g=h.strictSchema&&!h.allowMatchingProperties&&c.properties,m=u.name("valid");d.props===!0||d.props instanceof o.Name||(d.props=(0,s.evaluatedPropsToName)(u,d.props));var y=d.props;(function(){var k,$=he(p);try{for($.s();!(k=$.n()).done;){var A=k.value;g&&b(A),d.allErrors?w(A):(u.var(m,!0),w(A),u.if(m))}}catch(P){$.e(P)}finally{$.f()}})()}function b(k){for(var $ in g)new RegExp(k).test($)&&(0,i.checkStrictMode)(d,"property ".concat($," matches pattern ").concat(k," (use allowMatchingProperties)"))}function w(k){u.forIn("key",f,function($){u.if(o._(Z2||(Z2=ie(["",".test(",")"])),(0,r.usePattern)(a,k),$),function(){var A=v.includes(k);A||a.subschema({keyword:"patternProperties",schemaProp:k,dataProp:$,dataPropType:s.Type.Str},m),d.opts.unevaluated&&y!==!0?u.assign(o._(ex||(ex=ie(["","[","]"])),y,$),!0):A||d.allErrors||u.if((0,o.not)(m),function(){return u.break()})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./items");n.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(o){return(0,r.validateTuple)(o,"items")}}},{"./items":33}],39:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/validate"),o=t("../code"),i=t("../../compile/util"),s=t("./additionalProperties");n.default={keyword:"properties",type:"object",schemaType:"object",code:function(a){var u=a.gen,l=a.schema,f=a.parentSchema,c=a.data,d=a.it;d.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&s.default.code(new r.KeywordCxt(d,s.default,"additionalProperties"));var h,p=(0,o.allSchemaProperties)(l),v=he(p);try{for(v.s();!(h=v.n()).done;){var g=h.value;d.definedProperties.add(g)}}catch(P){v.e(P)}finally{v.f()}d.opts.unevaluated&&p.length&&d.props!==!0&&(d.props=i.mergeEvaluated.props(u,(0,i.toHash)(p),d.props));var m=p.filter(function(P){return!(0,i.alwaysValidSchema)(d,l[P])});if(m.length!==0){var y,b=u.name("valid"),w=he(m);try{for(w.s();!(y=w.n()).done;){var k=y.value;$(k)?A(k):(u.if((0,o.propertyInData)(u,c,k,d.opts.ownProperties)),A(k),d.allErrors||u.else().var(b,!0),u.endIf()),a.it.definedProperties.add(k),a.ok(b)}}catch(P){w.e(P)}finally{w.f()}}function $(P){return d.opts.useDefaults&&!d.compositeRule&&l[P].default!==void 0}function A(P){a.subschema({keyword:"properties",schemaProp:P,dataProp:P},b)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util");n.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(i){var s=i.params;return r._(tx||(tx=ie(["{propertyName: ","}"])),s.propertyName)}},code:function(i){var s=i.gen,a=i.schema,u=i.data,l=i.it;if(!(0,o.alwaysValidSchema)(l,a)){var f=s.name("valid");s.forIn("key",u,function(c){i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,r.not)(f),function(){i.error(!0),l.allErrors||s.break()})}),i.ok(f)}}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:["then","else"],schemaType:["object","boolean"],code:function(o){var i=o.keyword,s=o.parentSchema,a=o.it;s.if===void 0&&(0,r.checkStrictMode)(a,'"'.concat(i,'" without "if" is ignored'))}}},{"../../compile/util":10}],42:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateUnion=n.validateArray=n.usePattern=n.callValidateCode=n.schemaProperties=n.allSchemaProperties=n.noPropertyInData=n.propertyInData=n.isOwnProperty=n.hasPropFunc=n.reportMissingProp=n.checkMissingProp=n.checkReportMissingProp=void 0;var r=t("../compile/codegen"),o=t("../compile/util"),i=t("../compile/names"),s=t("../compile/util");function a(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._(nx||(nx=ie(["Object.prototype.hasOwnProperty"])))})}function u(d,h,p){return r._(rx||(rx=ie(["",".call(",", ",")"])),a(d),h,p)}function l(d,h,p,v){var g=r._(ox||(ox=ie(["",""," === undefined"])),h,(0,r.getProperty)(p));return v?(0,r.or)(g,(0,r.not)(u(d,h,p))):g}function f(d){return d?Object.keys(d).filter(function(h){return h!=="__proto__"}):[]}n.checkReportMissingProp=function(d,h){var p=d.gen,v=d.data,g=d.it;p.if(l(p,v,h,g.opts.ownProperties),function(){d.setParams({missingProperty:r._(ix||(ix=ie(["",""])),h)},!0),d.error()})},n.checkMissingProp=function(d,h,p){var v=d.gen,g=d.data,m=d.it.opts;return r.or.apply(void 0,Qt(h.map(function(y){return(0,r.and)(l(v,g,y,m.ownProperties),r._(sx||(sx=ie([""," = ",""])),p,y))})))},n.reportMissingProp=function(d,h){d.setParams({missingProperty:h},!0),d.error()},n.hasPropFunc=a,n.isOwnProperty=u,n.propertyInData=function(d,h,p,v){var g=r._(ax||(ax=ie(["",""," !== undefined"])),h,(0,r.getProperty)(p));return v?r._(ux||(ux=ie([""," && ",""])),g,u(d,h,p)):g},n.noPropertyInData=l,n.allSchemaProperties=f,n.schemaProperties=function(d,h){return f(h).filter(function(p){return!(0,o.alwaysValidSchema)(d,h[p])})},n.callValidateCode=function(d,h,p,v){var g=d.schemaCode,m=d.data,y=d.it,b=y.gen,w=y.topSchemaRef,k=y.schemaPath,$=y.errorPath,A=d.it,P=v?r._(lx||(lx=ie(["",", ",", ","",""])),g,m,w,k):m,_=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,$)],[i.default.parentData,A.parentData],[i.default.parentDataProperty,A.parentDataProperty],[i.default.rootData,i.default.rootData]];A.opts.dynamicRef&&_.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);var T=r._(cx||(cx=ie(["",", ",""])),P,b.object.apply(b,_));return p!==r.nil?r._(fx||(fx=ie(["",".call(",", ",")"])),h,p,T):r._(dx||(dx=ie(["","(",")"])),h,T)};var c=r._(hx||(hx=ie(["new RegExp"])));n.usePattern=function(d,h){var p=d.gen,v=d.it.opts,g=v.unicodeRegExp?"u":"",m=v.code.regExp,y=m(h,g);return p.scopeValue("pattern",{key:y.toString(),ref:y,code:r._(px||(px=ie(["","(",", ",")"])),m.code==="new RegExp"?c:(0,s.useFunc)(p,m),h,g)})},n.validateArray=function(d){var h=d.gen,p=d.data,v=d.keyword,g=d.it,m=h.name("valid");if(g.allErrors){var y=h.let("valid",!0);return b(function(){return h.assign(y,!1)}),y}return h.var(m,!0),b(function(){return h.break()}),m;function b(w){var k=h.const("len",r._(vx||(vx=ie(["",".length"])),p));h.forRange("i",0,k,function($){d.subschema({keyword:v,dataProp:$,dataPropType:o.Type.Num},m),h.if((0,r.not)(m),w)})}},n.validateUnion=function(d){var h=d.gen,p=d.schema,v=d.keyword,g=d.it;if(!Array.isArray(p))throw new Error("ajv implementation error");if(!p.some(function(b){return(0,o.alwaysValidSchema)(g,b)})||g.opts.unevaluated){var m=h.let("valid",!1),y=h.name("_valid");h.block(function(){return p.forEach(function(b,w){var k=d.subschema({keyword:v,schemaProp:w,compositeRule:!0},y);h.assign(m,r._(mx||(mx=ie([""," || ",""])),m,y)),d.mergeValidEvaluated(k,y)||h.if((0,r.not)(m))})}),d.result(m,function(){return d.reset()},function(){return d.error(!0)})}}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./id"),o=t("./ref");n.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default]},{"./id":43,"./ref":45}],45:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.callRef=n.getValidate=void 0;var r=t("../../compile/ref_error"),o=t("../code"),i=t("../../compile/codegen"),s=t("../../compile/names"),a=t("../../compile"),u=t("../../compile/util"),l={keyword:"$ref",schemaType:"string",code:function(d){var h=d.gen,p=d.schema,v=d.it,g=v.baseId,m=v.schemaEnv,y=v.validateName,b=v.opts,w=v.self,k=m.root;if((p==="#"||p==="#/")&&g===k.baseId)return function(){if(m===k)return c(d,y,m,m.$async);var A=h.scopeValue("root",{ref:k});return c(d,i._(gx||(gx=ie(["",".validate"])),A),k,k.$async)}();var $=a.resolveRef.call(w,k,g,p);if($===void 0)throw new r.default(v.opts.uriResolver,g,p);return $ instanceof a.SchemaEnv?function(A){var P=f(d,A);c(d,P,A,A.$async)}($):function(A){var P=h.scopeValue("schema",b.code.source===!0?{ref:A,code:(0,i.stringify)(A)}:{ref:A}),_=h.name("valid"),T=d.subschema({schema:A,dataTypes:[],schemaPath:i.nil,topSchemaRef:P,errSchemaPath:p},_);d.mergeEvaluated(T),d.ok(_)}($)}};function f(d,h){var p=d.gen;return h.validate?p.scopeValue("validate",{ref:h.validate}):i._(yx||(yx=ie(["",".validate"])),p.scopeValue("wrapper",{ref:h}))}function c(d,h,p,v){var g=d.gen,m=d.it,y=m.allErrors,b=m.schemaEnv,w=m.opts.passContext?s.default.this:i.nil;function k(A){var P=i._(bx||(bx=ie(["",".errors"])),A);g.assign(s.default.vErrors,i._(wx||(wx=ie([""," === null ? "," : ",".concat(",")"])),s.default.vErrors,P,s.default.vErrors,P)),g.assign(s.default.errors,i._(kx||(kx=ie(["",".length"])),s.default.vErrors))}function $(A){var P;if(m.opts.unevaluated){var _=(P=p==null?void 0:p.validate)===null||P===void 0?void 0:P.evaluated;if(m.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(m.props=u.mergeEvaluated.props(g,_.props,m.props));else{var T=g.var("props",i._(xx||(xx=ie(["",".evaluated.props"])),A));m.props=u.mergeEvaluated.props(g,T,m.props,i.Name)}if(m.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(m.items=u.mergeEvaluated.items(g,_.items,m.items));else{var C=g.var("items",i._(jx||(jx=ie(["",".evaluated.items"])),A));m.items=u.mergeEvaluated.items(g,C,m.items,i.Name)}}}v?function(){if(!b.$async)throw new Error("async schema referenced by sync schema");var A=g.let("valid");g.try(function(){g.code(i._(_x||(_x=ie(["await ",""])),(0,o.callValidateCode)(d,h,w))),$(h),y||g.assign(A,!0)},function(P){g.if(i._(Sx||(Sx=ie(["!("," instanceof ",")"])),P,m.ValidationError),function(){return g.throw(P)}),k(P),y||g.assign(A,!1)}),d.ok(A)}():d.result((0,o.callValidateCode)(d,h,w),function(){return $(h)},function(){return k(h)})}n.getValidate=f,n.callRef=c,n.default=l},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../discriminator/types"),i=t("../../compile"),s=t("../../compile/util");n.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(a){var u=a.params,l=u.discrError,f=u.tagName;return l===o.DiscrError.Tag?'tag "'.concat(f,'" must be string'):'value of tag "'.concat(f,'" must be in oneOf')},params:function(a){var u=a.params,l=u.discrError,f=u.tag,c=u.tagName;return r._(Cx||(Cx=ie(["{error: ",", tag: ",", tagValue: ","}"])),l,c,f)}},code:function(a){var u=a.gen,l=a.data,f=a.schema,c=a.parentSchema,d=a.it,h=c.oneOf;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");var p=f.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");var v=u.let("valid",!1),g=u.const("tag",r._($x||($x=ie(["","",""])),l,(0,r.getProperty)(p)));function m(y){var b=u.name("valid"),w=a.subschema({keyword:"oneOf",schemaProp:y},b);return a.mergeEvaluated(w,r.Name),b}u.if(r._(Ox||(Ox=ie(["typeof ",' == "string"'])),g),function(){return function(){var y=function(){for(var w,k={},$=C(c),A=!0,P=0;P<h.length;P++){var _=h[P];(_==null?void 0:_.$ref)&&!(0,s.schemaHasRulesButRef)(_,d.self.RULES)&&(_=i.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,_==null?void 0:_.$ref))instanceof i.SchemaEnv&&(_=_.schema);var T=(w=_==null?void 0:_.properties)===null||w===void 0?void 0:w[p];if(ut(T)!="object")throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(p,'"'));A=A&&($||C(_)),R(T,P)}if(!A)throw new Error('discriminator: "'.concat(p,'" must be required'));return k;function C(j){var q=j.required;return Array.isArray(q)&&q.includes(p)}function R(j,q){if(j.const)S(j.const,q);else{if(!j.enum)throw new Error('discriminator: "properties/'.concat(p,'" must have "const" or "enum"'));var Y,F=he(j.enum);try{for(F.s();!(Y=F.n()).done;)S(Y.value,q)}catch(K){F.e(K)}finally{F.f()}}}function S(j,q){if(typeof j!="string"||j in k)throw new Error('discriminator: "'.concat(p,'" values must be unique strings'));k[j]=q}}();for(var b in u.if(!1),y)u.elseIf(r._(Ax||(Ax=ie([""," === ",""])),g,b)),u.assign(v,m(y[b]));u.else(),a.error(!1,{discrError:o.DiscrError.Mapping,tag:g,tagName:p}),u.endIf()}()},function(){return a.error(!1,{discrError:o.DiscrError.Tag,tag:g,tagName:p})}),a.ok(v)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscrError=void 0,function(r){r.Tag="tag",r.Mapping="mapping"}(n.DiscrError||(n.DiscrError={}))},{}],48:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./core"),o=t("./validation"),i=t("./applicator"),s=t("./format"),a=t("./metadata"),u=[r.default,o.default,(0,i.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];n.default=u},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(o){var i=o.schemaCode;return r.str(Ex||(Ex=ie(['must match format "','"'])),i)},params:function(o){var i=o.schemaCode;return r._(Px||(Px=ie(["{format: ","}"])),i)}},code:function(o,i){var s=o.gen,a=o.data,u=o.$data,l=o.schema,f=o.schemaCode,c=o.it,d=c.opts,h=c.errSchemaPath,p=c.schemaEnv,v=c.self;d.validateFormats&&(u?function(){var g=s.scopeValue("formats",{ref:v.formats,code:d.code.formats}),m=s.const("fDef",r._(Tx||(Tx=ie(["","[","]"])),g,f)),y=s.let("fType"),b=s.let("format");s.if(r._(Mx||(Mx=ie(["typeof ",' == "object" && !('," instanceof RegExp)"])),m,m),function(){return s.assign(y,r._(Ix||(Ix=ie(["",'.type || "string"'])),m)).assign(b,r._(Nx||(Nx=ie(["",".validate"])),m))},function(){return s.assign(y,r._(Lx||(Lx=ie(['"string"'])))).assign(b,m)}),o.fail$data((0,r.or)(d.strictSchema===!1?r.nil:r._(Rx||(Rx=ie([""," && !",""])),f,b),function(){var w=p.$async?r._(Dx||(Dx=ie(["(",".async ? await ","(",") : ","(","))"])),m,b,a,b,a):r._(Bx||(Bx=ie(["","(",")"])),b,a),k=r._(zx||(zx=ie(["(typeof ",' == "function" ? '," : ",".test(","))"])),b,w,b,a);return r._(Fx||(Fx=ie([""," && "," !== true && "," === "," && !",""])),b,b,y,i,k)}()))}():function(){var g=v.formats[l];if(g){if(g!==!0){var m=At(function(k){var $=k instanceof RegExp?(0,r.regexpCode)(k):d.code.formats?r._(qx||(qx=ie(["","",""])),d.code.formats,(0,r.getProperty)(l)):void 0,A=s.scopeValue("formats",{key:l,ref:k,code:$});return ut(k)!="object"||k instanceof RegExp?["string",k,A]:[k.type||"string",k.validate,r._(Vx||(Vx=ie(["",".validate"])),A)]}(g),3),y=m[0],b=m[1],w=m[2];y===i&&o.pass(function(){if(ut(g)=="object"&&!(g instanceof RegExp)&&g.async){if(!p.$async)throw new Error("async format in sync schema");return r._(Hx||(Hx=ie(["await ","(",")"])),w,a)}return typeof b=="function"?r._(Wx||(Wx=ie(["","(",")"])),w,a):r._(Ux||(Ux=ie(["",".test(",")"])),w,a)}())}}else(function(){if(d.strictSchema!==!1)throw new Error(k());function k(){return'unknown format "'.concat(l,'" ignored in schema at path "').concat(h,'"')}v.logger.warn(k())})()}())}}},{"../../compile/codegen":2}],50:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./format");n.default=[r.default]},{"./format":49}],51:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.contentVocabulary=n.metadataVocabulary=void 0,n.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],n.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../../runtime/equal");n.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(s){var a=s.schemaCode;return r._(Jx||(Jx=ie(["{allowedValue: ","}"])),a)}},code:function(s){var a=s.gen,u=s.data,l=s.$data,f=s.schemaCode,c=s.schema;l||c&&ut(c)=="object"?s.fail$data(r._(Kx||(Kx=ie(["!","(",", ",")"])),(0,o.useFunc)(a,i.default),u,f)):s.fail(r._(Gx||(Gx=ie([""," !== ",""])),c,u))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../../runtime/equal");n.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(s){var a=s.schemaCode;return r._(Qx||(Qx=ie(["{allowedValues: ","}"])),a)}},code:function(s){var a,u=s.gen,l=s.data,f=s.$data,c=s.schema,d=s.schemaCode,h=s.it;if(!f&&c.length===0)throw new Error("enum must have non-empty array");var p,v=function(){return a!=null?a:a=(0,o.useFunc)(u,i.default)};if(c.length>=h.opts.loopEnum||f)p=u.let("valid"),s.block$data(p,function(){u.assign(p,!1),u.forOf("v",d,function(m){return u.if(r._(Yx||(Yx=ie(["","(",", ",")"])),v(),l,m),function(){return u.assign(p,!0).break()})})});else{if(!Array.isArray(c))throw new Error("ajv implementation error");var g=u.const("vSchema",d);p=r.or.apply(void 0,Qt(c.map(function(m,y){return function(b,w){var k=c[w];return ut(k)=="object"&&k!==null?r._(Xx||(Xx=ie(["","(",", ","[","])"])),v(),l,b,w):r._(Zx||(Zx=ie([""," === ",""])),l,k)}(g,y)})))}s.pass(p)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./limitNumber"),o=t("./multipleOf"),i=t("./limitLength"),s=t("./pattern"),a=t("./limitProperties"),u=t("./required"),l=t("./limitItems"),f=t("./uniqueItems"),c=t("./const"),d=t("./enum");n.default=[r.default,o.default,i.default,s.default,a.default,u.default,l.default,f.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,d.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(o){var i=o.keyword,s=o.schemaCode;return r.str(ej||(ej=ie(["must NOT have "," than "," items"])),i==="maxItems"?"more":"fewer",s)},params:function(o){var i=o.schemaCode;return r._(tj||(tj=ie(["{limit: ","}"])),i)}},code:function(o){var i=o.keyword,s=o.data,a=o.schemaCode;o.fail$data(r._(nj||(nj=ie(["",".length "," ",""])),s,i==="maxItems"?r.operators.GT:r.operators.LT,a))}}},{"../../compile/codegen":2}],56:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=t("../../compile/util"),i=t("../../runtime/ucs2length");n.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(s){var a=s.keyword,u=s.schemaCode;return r.str(rj||(rj=ie(["must NOT have "," than "," characters"])),a==="maxLength"?"more":"fewer",u)},params:function(s){var a=s.schemaCode;return r._(oj||(oj=ie(["{limit: ","}"])),a)}},code:function(s){var a=s.keyword,u=s.data,l=s.schemaCode,f=s.it,c=a==="maxLength"?r.operators.GT:r.operators.LT,d=f.opts.unicode===!1?r._(ij||(ij=ie(["",".length"])),u):r._(sj||(sj=ie(["","(",")"])),(0,o.useFunc)(s.gen,i.default),u);s.fail$data(r._(aj||(aj=ie([""," "," ",""])),d,c,l))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:function(u){var l=u.keyword,f=u.schemaCode;return r.str(uj||(uj=ie(["must be "," ",""])),i[l].okStr,f)},params:function(u){var l=u.keyword,f=u.schemaCode;return r._(lj||(lj=ie(["{comparison: ",", limit: ","}"])),i[l].okStr,f)}},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code:function(u){var l=u.keyword,f=u.data,c=u.schemaCode;u.fail$data(r._(cj||(cj=ie([""," "," "," || isNaN(",")"])),f,i[l].fail,c,f))}};n.default=a},{"../../compile/codegen":2}],58:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(o){var i=o.keyword,s=o.schemaCode;return r.str(fj||(fj=ie(["must NOT have "," than "," properties"])),i==="maxProperties"?"more":"fewer",s)},params:function(o){var i=o.schemaCode;return r._(dj||(dj=ie(["{limit: ","}"])),i)}},code:function(o){var i=o.keyword,s=o.data,a=o.schemaCode;o.fail$data(r._(hj||(hj=ie(["Object.keys(",").length "," ",""])),s,i==="maxProperties"?r.operators.GT:r.operators.LT,a))}}},{"../../compile/codegen":2}],59:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(o){var i=o.schemaCode;return r.str(pj||(pj=ie(["must be multiple of ",""])),i)},params:function(o){var i=o.schemaCode;return r._(vj||(vj=ie(["{multipleOf: ","}"])),i)}},code:function(o){var i=o.gen,s=o.data,a=o.schemaCode,u=o.it.opts.multipleOfPrecision,l=i.let("res"),f=u?r._(mj||(mj=ie(["Math.abs(Math.round(",") - ",") > 1e-",""])),l,l,u):r._(gj||(gj=ie([""," !== parseInt(",")"])),l,l);o.fail$data(r._(yj||(yj=ie(["("," === 0 || ("," = ","/",", ","))"])),a,l,s,a,f))}}},{"../../compile/codegen":2}],60:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),o=t("../../compile/codegen");n.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(i){var s=i.schemaCode;return o.str(bj||(bj=ie(['must match pattern "','"'])),s)},params:function(i){var s=i.schemaCode;return o._(wj||(wj=ie(["{pattern: ","}"])),s)}},code:function(i){var s=i.data,a=i.$data,u=i.schema,l=i.schemaCode,f=i.it,c=a?o._(kj||(kj=ie(["(new RegExp(",", ","))"])),l,f.opts.unicodeRegExp?"u":""):(0,r.usePattern)(i,u);i.fail$data(o._(xj||(xj=ie(["!",".test(",")"])),c,s))}}},{"../../compile/codegen":2,"../code":42}],61:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),o=t("../../compile/codegen"),i=t("../../compile/util");n.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(s){var a=s.params.missingProperty;return o.str(jj||(jj=ie(["must have required property '","'"])),a)},params:function(s){var a=s.params.missingProperty;return o._(_j||(_j=ie(["{missingProperty: ","}"])),a)}},code:function(s){var a=s.gen,u=s.schema,l=s.schemaCode,f=s.data,c=s.$data,d=s.it,h=d.opts;if(c||u.length!==0){var p=u.length>=h.loopRequired;if(d.allErrors?function(){if(p||c)s.block$data(o.nil,w);else{var k,$=he(u);try{for($.s();!(k=$.n()).done;){var A=k.value;(0,r.checkReportMissingProp)(s,A)}}catch(P){$.e(P)}finally{$.f()}}}():function(){var k=a.let("missing");if(p||c){var $=a.let("valid",!0);s.block$data($,function(){return function(A,P){s.setParams({missingProperty:A}),a.forOf(A,l,function(){a.assign(P,(0,r.propertyInData)(a,f,A,h.ownProperties)),a.if((0,o.not)(P),function(){s.error(),a.break()})},o.nil)}(k,$)}),s.ok($)}else a.if((0,r.checkMissingProp)(s,u,k)),(0,r.reportMissingProp)(s,k),a.else()}(),h.strictRequired){var v,g=s.parentSchema.properties,m=s.it.definedProperties,y=he(u);try{for(y.s();!(v=y.n()).done;){var b=v.value;(g==null?void 0:g[b])!==void 0||m.has(b)||(0,i.checkStrictMode)(d,'required property "'.concat(b,'" is not defined at "').concat(d.schemaEnv.baseId+d.errSchemaPath,'" (strictRequired)'),d.opts.strictRequired)}}catch(k){y.e(k)}finally{y.f()}}}function w(){a.forOf("prop",l,function(k){s.setParams({missingProperty:k}),a.if((0,r.noPropertyInData)(a,f,k,h.ownProperties),function(){return s.error()})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/validate/dataType"),o=t("../../compile/codegen"),i=t("../../compile/util"),s=t("../../runtime/equal");n.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(a){var u=a.params,l=u.i,f=u.j;return o.str(Sj||(Sj=ie(["must NOT have duplicate items (items ## "," and "," are identical)"])),f,l)},params:function(a){var u=a.params,l=u.i,f=u.j;return o._(Cj||(Cj=ie(["{i: ",", j: ","}"])),l,f)}},code:function(a){var u=a.gen,l=a.data,f=a.$data,c=a.schema,d=a.parentSchema,h=a.schemaCode,p=a.it;if(f||c){var v=u.let("valid"),g=d.items?(0,r.getSchemaTypes)(d.items):[];a.block$data(v,function(){var b=u.let("i",o._(Bj||(Bj=ie(["",".length"])),l)),w=u.let("j");a.setParams({i:b,j:w}),u.assign(v,!0),u.if(o._(zj||(zj=ie([""," > 1"])),b),function(){return(g.length>0&&!g.some(function(k){return k==="object"||k==="array"})?m:y)(b,w)})},o._(Fj||(Fj=ie([""," === false"])),h)),a.ok(v)}function m(b,w){var k=u.name("item"),$=(0,r.checkDataTypes)(g,k,p.opts.strictNumbers,r.DataType.Wrong),A=u.const("indices",o._($j||($j=ie(["{}"]))));u.for(o._(Oj||(Oj=ie([";","--;"])),b),function(){u.let(k,o._(Aj||(Aj=ie(["","[","]"])),l,b)),u.if($,o._(Ej||(Ej=ie(["continue"])))),g.length>1&&u.if(o._(Pj||(Pj=ie(["typeof ",' == "string"'])),k),o._(Tj||(Tj=ie(["",' += "_"'])),k)),u.if(o._(Mj||(Mj=ie(["typeof ","[",'] == "number"'])),A,k),function(){u.assign(w,o._(Ij||(Ij=ie(["","[","]"])),A,k)),a.error(),u.assign(v,!1).break()}).code(o._(Nj||(Nj=ie(["","[","] = ",""])),A,k,b))})}function y(b,w){var k=(0,i.useFunc)(u,s.default),$=u.name("outer");u.label($).for(o._(Lj||(Lj=ie([";","--;"])),b),function(){return u.for(o._(Rj||(Rj=ie([""," = ","; ","--;"])),w,b,w),function(){return u.if(o._(Dj||(Dj=ie(["","(","[","], ","[","])"])),k,l,b,l,w),function(){a.error(),u.assign(v,!1).break($)})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(t,e,n){e.exports=function r(o,i){if(o===i)return!0;if(o&&i&&ut(o)=="object"&&ut(i)=="object"){if(o.constructor!==i.constructor)return!1;var s,a,u;if(Array.isArray(o)){if((s=o.length)!=i.length)return!1;for(a=s;a--!=0;)if(!r(o[a],i[a]))return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===i.toString();if((s=(u=Object.keys(o)).length)!==Object.keys(i).length)return!1;for(a=s;a--!=0;)if(!Object.prototype.hasOwnProperty.call(i,u[a]))return!1;for(a=s;a--!=0;){var l=u[a];if(!r(o[l],i[l]))return!1}return!0}return o!=o&&i!=i}},{}],64:[function(t,e,n){var r=e.exports=function(i,s,a){typeof s=="function"&&(a=s,s={}),o(s,typeof(a=s.cb||a)=="function"?a:a.pre||function(){},a.post||function(){},i,"",i)};function o(i,s,a,u,l,f,c,d,h,p){if(u&&ut(u)=="object"&&!Array.isArray(u)){for(var v in s(u,l,f,c,d,h,p),u){var g=u[v];if(Array.isArray(g)){if(v in r.arrayKeywords)for(var m=0;m<g.length;m++)o(i,s,a,g[m],l+"/"+v+"/"+m,f,l,v,u,m)}else if(v in r.propsKeywords){if(g&&ut(g)=="object")for(var y in g)o(i,s,a,g[y],l+"/"+v+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),f,l,v,u,y)}else(v in r.keywords||i.allKeys&&!(v in r.skipKeywords))&&o(i,s,a,g,l+"/"+v,f,l,v,u)}a(u,l,f,c,d,h,p)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(t,e,n){/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(r,o){o(ut(n)=="object"&&e!==void 0?n:r.URI=r.URI||{})})(this,function(r){function o(){for(var ne=arguments.length,de=Array(ne),ve=0;ve<ne;ve++)de[ve]=arguments[ve];if(de.length>1){de[0]=de[0].slice(0,-1);for(var be=de.length-1,Te=1;Te<be;++Te)de[Te]=de[Te].slice(1,-1);return de[be]=de[be].slice(1),de.join("")}return de[0]}function i(ne){return"(?:"+ne+")"}function s(ne){return ne===void 0?"undefined":ne===null?"null":Object.prototype.toString.call(ne).split(" ").pop().split("]").shift().toLowerCase()}function a(ne){return ne.toUpperCase()}function u(ne){var de="[A-Za-z]",ve="[0-9]",be=o(ve,"[A-Fa-f]"),Te=i(i("%[EFef]"+be+"%"+be+be+"%"+be+be)+"|"+i("%[89A-Fa-f]"+be+"%"+be+be)+"|"+i("%"+be+be)),we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=o("[\\:\\/\\?\\#\\[\\]\\@]",we),tt=ne?"[\\uE000-\\uF8FF]":"[]",Xe=o(de,ve,"[\\-\\.\\_\\~]",ne?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");i(de+o(de,ve,"[\\+\\-\\.]")+"*"),i(i(Te+"|"+o(Xe,we,"[\\:]"))+"*");var dt=i(i("25[0-5]")+"|"+i("2[0-4][0-9]")+"|"+i("1[0-9][0-9]")+"|"+i("0?[1-9][0-9]")+"|0?0?"+ve),Tt=i(dt+"\\."+dt+"\\."+dt+"\\."+dt),ot=i(be+"{1,4}"),Rt=i(i(ot+"\\:"+ot)+"|"+Tt),_t=i(i(ot+"\\:")+"{6}"+Rt),gt=i("\\:\\:"+i(ot+"\\:")+"{5}"+Rt),It=i(i(ot)+"?\\:\\:"+i(ot+"\\:")+"{4}"+Rt),kn=i(i(i(ot+"\\:")+"{0,1}"+ot)+"?\\:\\:"+i(ot+"\\:")+"{3}"+Rt),Xn=i(i(i(ot+"\\:")+"{0,2}"+ot)+"?\\:\\:"+i(ot+"\\:")+"{2}"+Rt),He=i(i(i(ot+"\\:")+"{0,3}"+ot)+"?\\:\\:"+ot+"\\:"+Rt),ir=i(i(i(ot+"\\:")+"{0,4}"+ot)+"?\\:\\:"+Rt),hn=i(i(i(ot+"\\:")+"{0,5}"+ot)+"?\\:\\:"+ot),tn=i(i(i(ot+"\\:")+"{0,6}"+ot)+"?\\:\\:"),vn=i([_t,gt,It,kn,Xn,He,ir,hn,tn].join("|")),Pr=i(i(Xe+"|"+Te)+"+");i("[vV]"+be+"+\\."+o(Xe,we,"[\\:]")+"+"),i(i(Te+"|"+o(Xe,we))+"*");var Tr=i(Te+"|"+o(Xe,we,"[\\:\\@]"));return i(i(Te+"|"+o(Xe,we,"[\\@]"))+"+"),i(i(Tr+"|"+o("[\\/\\?]",tt))+"*"),{NOT_SCHEME:new RegExp(o("[^]",de,ve,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",Xe,we),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",Xe,we),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",Xe,we),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",Xe,we),"g"),NOT_QUERY:new RegExp(o("[^\\%]",Xe,we,"[\\:\\@\\/\\?]",tt),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",Xe,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",Xe,we),"g"),UNRESERVED:new RegExp(Xe,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",Xe,We),"g"),PCT_ENCODED:new RegExp(Te,"g"),IPV4ADDRESS:new RegExp("^("+Tt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+vn+")"+i(i("\\%25|\\%(?!"+be+"{2})")+"("+Pr+")")+"?\\]?$")}}var l=u(!1),f=u(!0),c=function(ne,de){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return function(ve,be){var Te=[],we=!0,We=!1,tt=void 0;try{for(var Xe,dt=ve[Symbol.iterator]();!(we=(Xe=dt.next()).done)&&(Te.push(Xe.value),!be||Te.length!==be);we=!0);}catch(Tt){We=!0,tt=Tt}finally{try{!we&&dt.return&&dt.return()}finally{if(We)throw tt}}return Te}(ne,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=2147483647,h=36,p=/^xn--/,v=/[^\0-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function w(ne){throw new RangeError(m[ne])}function k(ne,de){var ve=ne.split("@"),be="";ve.length>1&&(be=ve[0]+"@",ne=ve[1]);var Te=function(we,We){for(var tt=[],Xe=we.length;Xe--;)tt[Xe]=We(we[Xe]);return tt}((ne=ne.replace(g,".")).split("."),de).join(".");return be+Te}function $(ne){for(var de=[],ve=0,be=ne.length;ve<be;){var Te=ne.charCodeAt(ve++);if(Te>=55296&&Te<=56319&&ve<be){var we=ne.charCodeAt(ve++);(64512&we)==56320?de.push(((1023&Te)<<10)+(1023&we)+65536):(de.push(Te),ve--)}else de.push(Te)}return de}var A=function(ne,de){return ne+22+75*(ne<26)-((de!=0)<<5)},P=function(ne,de,ve){var be=0;for(ne=ve?y(ne/700):ne>>1,ne+=y(ne/de);ne>455;be+=h)ne=y(ne/35);return y(be+36*ne/(ne+38))},_=function(ne){var de,ve=[],be=ne.length,Te=0,we=128,We=72,tt=ne.lastIndexOf("-");tt<0&&(tt=0);for(var Xe=0;Xe<tt;++Xe)ne.charCodeAt(Xe)>=128&&w("not-basic"),ve.push(ne.charCodeAt(Xe));for(var dt=tt>0?tt+1:0;dt<be;){for(var Tt=Te,ot=1,Rt=h;;Rt+=h){dt>=be&&w("invalid-input");var _t=(de=ne.charCodeAt(dt++))-48<10?de-22:de-65<26?de-65:de-97<26?de-97:h;(_t>=h||_t>y((d-Te)/ot))&&w("overflow"),Te+=_t*ot;var gt=Rt<=We?1:Rt>=We+26?26:Rt-We;if(_t<gt)break;var It=h-gt;ot>y(d/It)&&w("overflow"),ot*=It}var kn=ve.length+1;We=P(Te-Tt,kn,Tt==0),y(Te/kn)>d-we&&w("overflow"),we+=y(Te/kn),Te%=kn,ve.splice(Te++,0,we)}return String.fromCodePoint.apply(String,ve)},T=function(ne){var de=[],ve=(ne=$(ne)).length,be=128,Te=0,we=72,We=!0,tt=!1,Xe=void 0;try{for(var dt,Tt=ne[Symbol.iterator]();!(We=(dt=Tt.next()).done);We=!0){var ot=dt.value;ot<128&&de.push(b(ot))}}catch(qr){tt=!0,Xe=qr}finally{try{!We&&Tt.return&&Tt.return()}finally{if(tt)throw Xe}}var Rt=de.length,_t=Rt;for(Rt&&de.push("-");_t<ve;){var gt=d,It=!0,kn=!1,Xn=void 0;try{for(var He,ir=ne[Symbol.iterator]();!(It=(He=ir.next()).done);It=!0){var hn=He.value;hn>=be&&hn<gt&&(gt=hn)}}catch(qr){kn=!0,Xn=qr}finally{try{!It&&ir.return&&ir.return()}finally{if(kn)throw Xn}}var tn=_t+1;gt-be>y((d-Te)/tn)&&w("overflow"),Te+=(gt-be)*tn,be=gt;var vn=!0,Pr=!1,Tr=void 0;try{for(var Pn,Fo=ne[Symbol.iterator]();!(vn=(Pn=Fo.next()).done);vn=!0){var _o=Pn.value;if(_o<be&&++Te>d&&w("overflow"),_o==be){for(var Nn=Te,ct=h;;ct+=h){var Wt=ct<=we?1:ct>=we+26?26:ct-we;if(Nn<Wt)break;var qo=Nn-Wt,So=h-Wt;de.push(b(A(Wt+qo%So,0))),Nn=y(qo/So)}de.push(b(A(Nn,0))),we=P(Te,tn,_t==Rt),Te=0,++_t}}}catch(qr){Pr=!0,Tr=qr}finally{try{!vn&&Fo.return&&Fo.return()}finally{if(Pr)throw Tr}}++Te,++be}return de.join("")},C=function(ne){return k(ne,function(de){return v.test(de)?"xn--"+T(de):de})},R=function(ne){return k(ne,function(de){return p.test(de)?_(de.slice(4).toLowerCase()):de})},S={};function j(ne){var de=ne.charCodeAt(0);return de<16?"%0"+de.toString(16).toUpperCase():de<128?"%"+de.toString(16).toUpperCase():de<2048?"%"+(de>>6|192).toString(16).toUpperCase()+"%"+(63&de|128).toString(16).toUpperCase():"%"+(de>>12|224).toString(16).toUpperCase()+"%"+(de>>6&63|128).toString(16).toUpperCase()+"%"+(63&de|128).toString(16).toUpperCase()}function q(ne){for(var de="",ve=0,be=ne.length;ve<be;){var Te=parseInt(ne.substr(ve+1,2),16);if(Te<128)de+=String.fromCharCode(Te),ve+=3;else if(Te>=194&&Te<224){if(be-ve>=6){var we=parseInt(ne.substr(ve+4,2),16);de+=String.fromCharCode((31&Te)<<6|63&we)}else de+=ne.substr(ve,6);ve+=6}else if(Te>=224){if(be-ve>=9){var We=parseInt(ne.substr(ve+4,2),16),tt=parseInt(ne.substr(ve+7,2),16);de+=String.fromCharCode((15&Te)<<12|(63&We)<<6|63&tt)}else de+=ne.substr(ve,9);ve+=9}else de+=ne.substr(ve,3),ve+=3}return de}function Y(ne,de){function ve(be){var Te=q(be);return Te.match(de.UNRESERVED)?Te:be}return ne.scheme&&(ne.scheme=String(ne.scheme).replace(de.PCT_ENCODED,ve).toLowerCase().replace(de.NOT_SCHEME,"")),ne.userinfo!==void 0&&(ne.userinfo=String(ne.userinfo).replace(de.PCT_ENCODED,ve).replace(de.NOT_USERINFO,j).replace(de.PCT_ENCODED,a)),ne.host!==void 0&&(ne.host=String(ne.host).replace(de.PCT_ENCODED,ve).toLowerCase().replace(de.NOT_HOST,j).replace(de.PCT_ENCODED,a)),ne.path!==void 0&&(ne.path=String(ne.path).replace(de.PCT_ENCODED,ve).replace(ne.scheme?de.NOT_PATH:de.NOT_PATH_NOSCHEME,j).replace(de.PCT_ENCODED,a)),ne.query!==void 0&&(ne.query=String(ne.query).replace(de.PCT_ENCODED,ve).replace(de.NOT_QUERY,j).replace(de.PCT_ENCODED,a)),ne.fragment!==void 0&&(ne.fragment=String(ne.fragment).replace(de.PCT_ENCODED,ve).replace(de.NOT_FRAGMENT,j).replace(de.PCT_ENCODED,a)),ne}function F(ne){return ne.replace(/^0*(.*)/,"$1")||"0"}function K(ne,de){var ve=ne.match(de.IPV4ADDRESS)||[],be=c(ve,2)[1];return be?be.split(".").map(F).join("."):ne}function D(ne,de){var ve=ne.match(de.IPV6ADDRESS)||[],be=c(ve,3),Te=be[1],we=be[2];if(Te){for(var We=Te.toLowerCase().split("::").reverse(),tt=c(We,2),Xe=tt[0],dt=tt[1],Tt=dt?dt.split(":").map(F):[],ot=Xe.split(":").map(F),Rt=de.IPV4ADDRESS.test(ot[ot.length-1]),_t=Rt?7:8,gt=ot.length-_t,It=Array(_t),kn=0;kn<_t;++kn)It[kn]=Tt[kn]||ot[gt+kn]||"";Rt&&(It[_t-1]=K(It[_t-1],de));var Xn=It.reduce(function(tn,vn,Pr){if(!vn||vn==="0"){var Tr=tn[tn.length-1];Tr&&Tr.index+Tr.length===Pr?Tr.length++:tn.push({index:Pr,length:1})}return tn},[]).sort(function(tn,vn){return vn.length-tn.length})[0],He=void 0;if(Xn&&Xn.length>1){var ir=It.slice(0,Xn.index),hn=It.slice(Xn.index+Xn.length);He=ir.join(":")+"::"+hn.join(":")}else He=It.join(":");return we&&(He+="%"+we),He}return ne}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function H(ne){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve={},be=de.iri!==!1?f:l;de.reference==="suffix"&&(ne=(de.scheme?de.scheme+":":"")+"//"+ne);var Te=ne.match(I);if(Te){W?(ve.scheme=Te[1],ve.userinfo=Te[3],ve.host=Te[4],ve.port=parseInt(Te[5],10),ve.path=Te[6]||"",ve.query=Te[7],ve.fragment=Te[8],isNaN(ve.port)&&(ve.port=Te[5])):(ve.scheme=Te[1]||void 0,ve.userinfo=ne.indexOf("@")!==-1?Te[3]:void 0,ve.host=ne.indexOf("//")!==-1?Te[4]:void 0,ve.port=parseInt(Te[5],10),ve.path=Te[6]||"",ve.query=ne.indexOf("?")!==-1?Te[7]:void 0,ve.fragment=ne.indexOf("#")!==-1?Te[8]:void 0,isNaN(ve.port)&&(ve.port=ne.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Te[4]:void 0)),ve.host&&(ve.host=D(K(ve.host,be),be)),ve.reference=ve.scheme!==void 0||ve.userinfo!==void 0||ve.host!==void 0||ve.port!==void 0||ve.path||ve.query!==void 0?ve.scheme===void 0?"relative":ve.fragment===void 0?"absolute":"uri":"same-document",de.reference&&de.reference!=="suffix"&&de.reference!==ve.reference&&(ve.error=ve.error||"URI is not a "+de.reference+" reference.");var we=S[(de.scheme||ve.scheme||"").toLowerCase()];if(de.unicodeSupport||we&&we.unicodeSupport)Y(ve,be);else{if(ve.host&&(de.domainHost||we&&we.domainHost))try{ve.host=C(ve.host.replace(be.PCT_ENCODED,q).toLowerCase())}catch(We){ve.error=ve.error||"Host's domain name can not be converted to ASCII via punycode: "+We}Y(ve,l)}we&&we.parse&&we.parse(ve,de)}else ve.error=ve.error||"URI can not be parsed.";return ve}function z(ne,de){var ve=de.iri!==!1?f:l,be=[];return ne.userinfo!==void 0&&(be.push(ne.userinfo),be.push("@")),ne.host!==void 0&&be.push(D(K(String(ne.host),ve),ve).replace(ve.IPV6ADDRESS,function(Te,we,We){return"["+we+(We?"%25"+We:"")+"]"})),typeof ne.port!="number"&&typeof ne.port!="string"||(be.push(":"),be.push(String(ne.port))),be.length?be.join(""):void 0}var O=/^\.\.?\//,x=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,G=/^\/?(?:.|\n)*?(?=\/|$)/;function ue(ne){for(var de=[];ne.length;)if(ne.match(O))ne=ne.replace(O,"");else if(ne.match(x))ne=ne.replace(x,"/");else if(ne.match(N))ne=ne.replace(N,"/"),de.pop();else if(ne==="."||ne==="..")ne="";else{var ve=ne.match(G);if(!ve)throw new Error("Unexpected dot segment condition");var be=ve[0];ne=ne.slice(be.length),de.push(be)}return de.join("")}function xe(ne){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=de.iri?f:l,be=[],Te=S[(de.scheme||ne.scheme||"").toLowerCase()];if(Te&&Te.serialize&&Te.serialize(ne,de),ne.host&&!ve.IPV6ADDRESS.test(ne.host)){if(de.domainHost||Te&&Te.domainHost)try{ne.host=de.iri?R(ne.host):C(ne.host.replace(ve.PCT_ENCODED,q).toLowerCase())}catch(tt){ne.error=ne.error||"Host's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+tt}}Y(ne,ve),de.reference!=="suffix"&&ne.scheme&&(be.push(ne.scheme),be.push(":"));var we=z(ne,de);if(we!==void 0&&(de.reference!=="suffix"&&be.push("//"),be.push(we),ne.path&&ne.path.charAt(0)!=="/"&&be.push("/")),ne.path!==void 0){var We=ne.path;de.absolutePath||Te&&Te.absolutePath||(We=ue(We)),we===void 0&&(We=We.replace(/^\/\//,"/%2F")),be.push(We)}return ne.query!==void 0&&(be.push("?"),be.push(ne.query)),ne.fragment!==void 0&&(be.push("#"),be.push(ne.fragment)),be.join("")}function $e(ne,de){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be={};return arguments[3]||(ne=H(xe(ne,ve),ve),de=H(xe(de,ve),ve)),!(ve=ve||{}).tolerant&&de.scheme?(be.scheme=de.scheme,be.userinfo=de.userinfo,be.host=de.host,be.port=de.port,be.path=ue(de.path||""),be.query=de.query):(de.userinfo!==void 0||de.host!==void 0||de.port!==void 0?(be.userinfo=de.userinfo,be.host=de.host,be.port=de.port,be.path=ue(de.path||""),be.query=de.query):(de.path?(de.path.charAt(0)==="/"?be.path=ue(de.path):(be.path=ne.userinfo===void 0&&ne.host===void 0&&ne.port===void 0||ne.path?ne.path?ne.path.slice(0,ne.path.lastIndexOf("/")+1)+de.path:de.path:"/"+de.path,be.path=ue(be.path)),be.query=de.query):(be.path=ne.path,be.query=de.query!==void 0?de.query:ne.query),be.userinfo=ne.userinfo,be.host=ne.host,be.port=ne.port),be.scheme=ne.scheme),be.fragment=de.fragment,be}function L(ne,de){return ne&&ne.toString().replace(de&&de.iri?f.PCT_ENCODED:l.PCT_ENCODED,q)}var Q={scheme:"http",domainHost:!0,parse:function(ne,de){return ne.host||(ne.error=ne.error||"HTTP URIs must have a host."),ne},serialize:function(ne,de){var ve=String(ne.scheme).toLowerCase()==="https";return ne.port!==(ve?443:80)&&ne.port!==""||(ne.port=void 0),ne.path||(ne.path="/"),ne}},M={scheme:"https",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize};function B(ne){return typeof ne.secure=="boolean"?ne.secure:String(ne.scheme).toLowerCase()==="wss"}var Z={scheme:"ws",domainHost:!0,parse:function(ne,de){var ve=ne;return ve.secure=B(ve),ve.resourceName=(ve.path||"/")+(ve.query?"?"+ve.query:""),ve.path=void 0,ve.query=void 0,ve},serialize:function(ne,de){if(ne.port!==(B(ne)?443:80)&&ne.port!==""||(ne.port=void 0),typeof ne.secure=="boolean"&&(ne.scheme=ne.secure?"wss":"ws",ne.secure=void 0),ne.resourceName){var ve=ne.resourceName.split("?"),be=c(ve,2),Te=be[0],we=be[1];ne.path=Te&&Te!=="/"?Te:void 0,ne.query=we,ne.resourceName=void 0}return ne.fragment=void 0,ne}},le={scheme:"wss",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize},ee={},V="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ee="[0-9A-Fa-f]",Ce=i(i("%[EFef][0-9A-Fa-f]%"+Ee+Ee+"%"+Ee+Ee)+"|"+i("%[89A-Fa-f][0-9A-Fa-f]%"+Ee+Ee)+"|"+i("%"+Ee+Ee)),_e=o("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),pe=new RegExp(V,"g"),ce=new RegExp(Ce,"g"),ke=new RegExp(o("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',_e),"g"),Oe=new RegExp(o("[^]",V,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),fe=Oe;function Pe(ne){var de=q(ne);return de.match(pe)?de:ne}var Ve={scheme:"mailto",parse:function(ne,de){var ve=ne,be=ve.to=ve.path?ve.path.split(","):[];if(ve.path=void 0,ve.query){for(var Te=!1,we={},We=ve.query.split("&"),tt=0,Xe=We.length;tt<Xe;++tt){var dt=We[tt].split("=");switch(dt[0]){case"to":for(var Tt=dt[1].split(","),ot=0,Rt=Tt.length;ot<Rt;++ot)be.push(Tt[ot]);break;case"subject":ve.subject=L(dt[1],de);break;case"body":ve.body=L(dt[1],de);break;default:Te=!0,we[L(dt[0],de)]=L(dt[1],de)}}Te&&(ve.headers=we)}ve.query=void 0;for(var _t=0,gt=be.length;_t<gt;++_t){var It=be[_t].split("@");if(It[0]=L(It[0]),de.unicodeSupport)It[1]=L(It[1],de).toLowerCase();else try{It[1]=C(L(It[1],de).toLowerCase())}catch(kn){ve.error=ve.error||"Email address's domain name can not be converted to ASCII via punycode: "+kn}be[_t]=It.join("@")}return ve},serialize:function(ne,de){var ve,be=ne,Te=(ve=ne.to)!=null?ve instanceof Array?ve:typeof ve.length!="number"||ve.split||ve.setInterval||ve.call?[ve]:Array.prototype.slice.call(ve):[];if(Te){for(var we=0,We=Te.length;we<We;++we){var tt=String(Te[we]),Xe=tt.lastIndexOf("@"),dt=tt.slice(0,Xe).replace(ce,Pe).replace(ce,a).replace(ke,j),Tt=tt.slice(Xe+1);try{Tt=de.iri?R(Tt):C(L(Tt,de).toLowerCase())}catch(gt){be.error=be.error||"Email address's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+gt}Te[we]=dt+"@"+Tt}be.path=Te.join(",")}var ot=ne.headers=ne.headers||{};ne.subject&&(ot.subject=ne.subject),ne.body&&(ot.body=ne.body);var Rt=[];for(var _t in ot)ot[_t]!==ee[_t]&&Rt.push(_t.replace(ce,Pe).replace(ce,a).replace(Oe,j)+"="+ot[_t].replace(ce,Pe).replace(ce,a).replace(fe,j));return Rt.length&&(be.query=Rt.join("&")),be}},et=/^([^\:]+)\:(.*)/,vt={scheme:"urn",parse:function(ne,de){var ve=ne.path&&ne.path.match(et),be=ne;if(ve){var Te=de.scheme||be.scheme||"urn",we=ve[1].toLowerCase(),We=ve[2],tt=S[Te+":"+(de.nid||we)];be.nid=we,be.nss=We,be.path=void 0,tt&&(be=tt.parse(be,de))}else be.error=be.error||"URN can not be parsed.";return be},serialize:function(ne,de){var ve=ne.nid,be=S[(de.scheme||ne.scheme||"urn")+":"+(de.nid||ve)];be&&(ne=be.serialize(ne,de));var Te=ne;return Te.path=(ve||de.nid)+":"+ne.nss,Te}},Lt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,wn={scheme:"urn:uuid",parse:function(ne,de){var ve=ne;return ve.uuid=ve.nss,ve.nss=void 0,de.tolerant||ve.uuid&&ve.uuid.match(Lt)||(ve.error=ve.error||"UUID is not valid."),ve},serialize:function(ne,de){var ve=ne;return ve.nss=(ne.uuid||"").toLowerCase(),ve}};S[Q.scheme]=Q,S[M.scheme]=M,S[Z.scheme]=Z,S[le.scheme]=le,S[Ve.scheme]=Ve,S[vt.scheme]=vt,S[wn.scheme]=wn,r.SCHEMES=S,r.pctEncChar=j,r.pctDecChars=q,r.parse=H,r.removeDotSegments=ue,r.serialize=xe,r.resolveComponents=$e,r.resolve=function(ne,de,ve){var be=function(Te,we){var We={scheme:"null"};if(we)for(var tt in we)We[tt]=we[tt];return We}(0,ve);return xe($e(H(ne,be),H(de,be),be,!0),be)},r.normalize=function(ne,de){return typeof ne=="string"?ne=xe(H(ne,de),de):s(ne)==="object"&&(ne=H(xe(ne,de),de)),ne},r.equal=function(ne,de,ve){return typeof ne=="string"?ne=xe(H(ne,ve),ve):s(ne)==="object"&&(ne=xe(ne,ve)),typeof de=="string"?de=xe(H(de,ve),ve):s(de)==="object"&&(de=xe(de,ve)),ne===de},r.escapeComponent=function(ne,de){return ne&&ne.toString().replace(de&&de.iri?f.ESCAPE:l.ESCAPE,j)},r.unescapeComponent=L,Object.defineProperty(r,"__esModule",{value:!0})})},{}],ajv:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=t("./core"),o=t("./vocabularies/draft7"),i=t("./vocabularies/discriminator"),s=t("./refs/json-schema-draft-07.json"),a=["/properties"],u="http://json-schema.org/draft-07/schema",l=function(d){De(p,d);var h=Be(p);function p(){return se(this,p),h.apply(this,arguments)}return ae(p,[{key:"_addVocabularies",value:function(){var v=this;cn(rn(p.prototype),"_addVocabularies",this).call(this),o.default.forEach(function(g){return v.addVocabulary(g)}),this.opts.discriminator&&this.addKeyword(i.default)}},{key:"_addDefaultMetaSchema",value:function(){if(cn(rn(p.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var v=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(v,u,!1),this.refs["http://json-schema.org/schema"]=u}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=cn(rn(p.prototype),"defaultMeta",this).call(this)||(this.getSchema(u)?u:void 0)}}]),p}(r.default);e.exports=n=l,Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var f=t("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var c=t("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}})},{"./compile/codegen":2,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv"));var HY={};(function(t){function e(L){return L!==null&&Object.prototype.toString.call(L)==="[object Array]"}function n(L){return L!==null&&Object.prototype.toString.call(L)==="[object Object]"}function r(L,Q){if(L===Q)return!0;if(Object.prototype.toString.call(L)!==Object.prototype.toString.call(Q))return!1;if(e(L)===!0){if(L.length!==Q.length)return!1;for(var M=0;M<L.length;M++)if(r(L[M],Q[M])===!1)return!1;return!0}if(n(L)===!0){var B={};for(var Z in L)if(hasOwnProperty.call(L,Z)){if(r(L[Z],Q[Z])===!1)return!1;B[Z]=!0}for(var le in Q)if(hasOwnProperty.call(Q,le)&&B[le]!==!0)return!1;return!0}return!1}function o(L){if(L===""||L===!1||L===null||e(L)&&L.length===0)return!0;if(n(L)){for(var Q in L)if(L.hasOwnProperty(Q))return!1;return!0}return!1}var i;i=typeof String.prototype.trimLeft=="function"?function(L){return L.trimLeft()}:function(L){return L.match(/^\s*(.*)/)[1]};var s=0,a=2,u={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},l="EOF",f="UnquotedIdentifier",c="QuotedIdentifier",d="Rbracket",h="Rparen",p="Comma",v="Colon",g="Rbrace",m="Number",y="Current",b="Expref",w="Pipe",k="Or",$="And",A="EQ",P="GT",_="LT",T="GTE",C="LTE",R="NE",S="Flatten",j="Star",q="Filter",Y="Dot",F="Not",K="Lbrace",D="Lbracket",I="Lparen",W="Literal",H={".":Y,"*":j,",":p,":":v,"{":K,"}":g,"]":d,"(":I,")":h,"@":y},z={"<":!0,">":!0,"=":!0,"!":!0},O={" ":!0,"	":!0,"\n":!0};function x(L){return L>="0"&&L<="9"||L==="-"}function N(){}N.prototype={tokenize:function(L){var Q,M,B,Z,le=[];for(this._current=0;this._current<L.length;)if((Z=L[this._current])>="a"&&Z<="z"||Z>="A"&&Z<="Z"||Z==="_")Q=this._current,M=this._consumeUnquotedIdentifier(L),le.push({type:f,value:M,start:Q});else if(H[L[this._current]]!==void 0)le.push({type:H[L[this._current]],value:L[this._current],start:this._current}),this._current++;else if(x(L[this._current]))B=this._consumeNumber(L),le.push(B);else if(L[this._current]==="[")B=this._consumeLBracket(L),le.push(B);else if(L[this._current]==='"')Q=this._current,M=this._consumeQuotedIdentifier(L),le.push({type:c,value:M,start:Q});else if(L[this._current]==="'")Q=this._current,M=this._consumeRawStringLiteral(L),le.push({type:W,value:M,start:Q});else if(L[this._current]==="`"){Q=this._current;var ee=this._consumeLiteral(L);le.push({type:W,value:ee,start:Q})}else if(z[L[this._current]]!==void 0)le.push(this._consumeOperator(L));else if(O[L[this._current]]!==void 0)this._current++;else if(L[this._current]==="&")Q=this._current,this._current++,L[this._current]==="&"?(this._current++,le.push({type:$,value:"&&",start:Q})):le.push({type:b,value:"&",start:Q});else{if(L[this._current]!=="|"){var V=new Error("Unknown character:"+L[this._current]);throw V.name="LexerError",V}Q=this._current,this._current++,L[this._current]==="|"?(this._current++,le.push({type:k,value:"||",start:Q})):le.push({type:w,value:"|",start:Q})}return le},_consumeUnquotedIdentifier:function(L){var Q,M=this._current;for(this._current++;this._current<L.length&&((Q=L[this._current])>="a"&&Q<="z"||Q>="A"&&Q<="Z"||Q>="0"&&Q<="9"||Q==="_");)this._current++;return L.slice(M,this._current)},_consumeQuotedIdentifier:function(L){var Q=this._current;this._current++;for(var M=L.length;L[this._current]!=='"'&&this._current<M;){var B=this._current;L[B]!=="\\"||L[B+1]!=="\\"&&L[B+1]!=='"'?B++:B+=2,this._current=B}return this._current++,JSON.parse(L.slice(Q,this._current))},_consumeRawStringLiteral:function(L){var Q=this._current;this._current++;for(var M=L.length;L[this._current]!=="'"&&this._current<M;){var B=this._current;L[B]!=="\\"||L[B+1]!=="\\"&&L[B+1]!=="'"?B++:B+=2,this._current=B}return this._current++,L.slice(Q+1,this._current-1).replace("\\'","'")},_consumeNumber:function(L){var Q=this._current;this._current++;for(var M=L.length;x(L[this._current])&&this._current<M;)this._current++;var B=parseInt(L.slice(Q,this._current));return{type:m,value:B,start:Q}},_consumeLBracket:function(L){var Q=this._current;return this._current++,L[this._current]==="?"?(this._current++,{type:q,value:"[?",start:Q}):L[this._current]==="]"?(this._current++,{type:S,value:"[]",start:Q}):{type:D,value:"[",start:Q}},_consumeOperator:function(L){var Q=this._current,M=L[Q];return this._current++,M==="!"?L[this._current]==="="?(this._current++,{type:R,value:"!=",start:Q}):{type:F,value:"!",start:Q}:M==="<"?L[this._current]==="="?(this._current++,{type:C,value:"<=",start:Q}):{type:_,value:"<",start:Q}:M===">"?L[this._current]==="="?(this._current++,{type:T,value:">=",start:Q}):{type:P,value:">",start:Q}:M==="="&&L[this._current]==="="?(this._current++,{type:A,value:"==",start:Q}):void 0},_consumeLiteral:function(L){this._current++;for(var Q,M=this._current,B=L.length;L[this._current]!=="`"&&this._current<B;){var Z=this._current;L[Z]!=="\\"||L[Z+1]!=="\\"&&L[Z+1]!=="`"?Z++:Z+=2,this._current=Z}var le=i(L.slice(M,this._current));return le=le.replace("\\`","`"),Q=this._looksLikeJSON(le)?JSON.parse(le):JSON.parse('"'+le+'"'),this._current++,Q},_looksLikeJSON:function(L){if(L==="")return!1;if('[{"'.indexOf(L[0])>=0||["true","false","null"].indexOf(L)>=0)return!0;if(!("-0123456789".indexOf(L[0])>=0))return!1;try{return JSON.parse(L),!0}catch{return!1}}};var G={};function ue(){}function xe(L){this.runtime=L}function $e(L){this._interpreter=L,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}G.EOF=0,G.UnquotedIdentifier=0,G.QuotedIdentifier=0,G.Rbracket=0,G.Rparen=0,G.Comma=0,G.Rbrace=0,G.Number=0,G.Current=0,G.Expref=0,G.Pipe=1,G.Or=2,G.And=3,G.EQ=5,G.GT=5,G.LT=5,G.GTE=5,G.LTE=5,G.NE=5,G.Flatten=9,G.Star=20,G.Filter=21,G.Dot=40,G.Not=45,G.Lbrace=50,G.Lbracket=55,G.Lparen=60,ue.prototype={parse:function(L){this._loadTokens(L),this.index=0;var Q=this.expression(0);if(this._lookahead(0)!==l){var M=this._lookaheadToken(0),B=new Error("Unexpected token type: "+M.type+", value: "+M.value);throw B.name="ParserError",B}return Q},_loadTokens:function(L){var Q=new N().tokenize(L);Q.push({type:l,value:"",start:L.length}),this.tokens=Q},expression:function(L){var Q=this._lookaheadToken(0);this._advance();for(var M=this.nud(Q),B=this._lookahead(0);L<G[B];)this._advance(),M=this.led(B,M),B=this._lookahead(0);return M},_lookahead:function(L){return this.tokens[this.index+L].type},_lookaheadToken:function(L){return this.tokens[this.index+L]},_advance:function(){this.index++},nud:function(L){var Q,M;switch(L.type){case W:return{type:"Literal",value:L.value};case f:return{type:"Field",name:L.value};case c:var B={type:"Field",name:L.value};if(this._lookahead(0)===I)throw new Error("Quoted identifier not allowed for function names.");return B;case F:return{type:"NotExpression",children:[Q=this.expression(G.Not)]};case j:return Q=null,{type:"ValueProjection",children:[{type:"Identity"},Q=this._lookahead(0)===d?{type:"Identity"}:this._parseProjectionRHS(G.Star)]};case q:return this.led(L.type,{type:"Identity"});case K:return this._parseMultiselectHash();case S:return{type:"Projection",children:[{type:S,children:[{type:"Identity"}]},Q=this._parseProjectionRHS(G.Flatten)]};case D:return this._lookahead(0)===m||this._lookahead(0)===v?(Q=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},Q)):this._lookahead(0)===j&&this._lookahead(1)===d?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},Q=this._parseProjectionRHS(G.Star)]}):this._parseMultiselectList();case y:return{type:y};case b:return{type:"ExpressionReference",children:[M=this.expression(G.Expref)]};case I:for(var Z=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(M={type:y},this._advance()):M=this.expression(0),Z.push(M);return this._match(h),Z[0];default:this._errorToken(L)}},led:function(L,Q){var M;switch(L){case Y:var B=G.Dot;return this._lookahead(0)!==j?{type:"Subexpression",children:[Q,M=this._parseDotRHS(B)]}:(this._advance(),{type:"ValueProjection",children:[Q,M=this._parseProjectionRHS(B)]});case w:return M=this.expression(G.Pipe),{type:w,children:[Q,M]};case k:return{type:"OrExpression",children:[Q,M=this.expression(G.Or)]};case $:return{type:"AndExpression",children:[Q,M=this.expression(G.And)]};case I:for(var Z,le=Q.name,ee=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(Z={type:y},this._advance()):Z=this.expression(0),this._lookahead(0)===p&&this._match(p),ee.push(Z);return this._match(h),{type:"Function",name:le,children:ee};case q:var V=this.expression(0);return this._match(d),{type:"FilterProjection",children:[Q,M=this._lookahead(0)===S?{type:"Identity"}:this._parseProjectionRHS(G.Filter),V]};case S:return{type:"Projection",children:[{type:S,children:[Q]},this._parseProjectionRHS(G.Flatten)]};case A:case R:case P:case T:case _:case C:return this._parseComparator(Q,L);case D:var Ee=this._lookaheadToken(0);return Ee.type===m||Ee.type===v?(M=this._parseIndexExpression(),this._projectIfSlice(Q,M)):(this._match(j),this._match(d),{type:"Projection",children:[Q,M=this._parseProjectionRHS(G.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(L){if(this._lookahead(0)!==L){var Q=this._lookaheadToken(0),M=new Error("Expected "+L+", got: "+Q.type);throw M.name="ParserError",M}this._advance()},_errorToken:function(L){var Q=new Error("Invalid token ("+L.type+'): "'+L.value+'"');throw Q.name="ParserError",Q},_parseIndexExpression:function(){if(this._lookahead(0)===v||this._lookahead(1)===v)return this._parseSliceExpression();var L={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(d),L},_projectIfSlice:function(L,Q){var M={type:"IndexExpression",children:[L,Q]};return Q.type==="Slice"?{type:"Projection",children:[M,this._parseProjectionRHS(G.Star)]}:M},_parseSliceExpression:function(){for(var L=[null,null,null],Q=0,M=this._lookahead(0);M!==d&&Q<3;){if(M===v)Q++,this._advance();else{if(M!==m){var B=this._lookahead(0),Z=new Error("Syntax error, unexpected token: "+B.value+"("+B.type+")");throw Z.name="Parsererror",Z}L[Q]=this._lookaheadToken(0).value,this._advance()}M=this._lookahead(0)}return this._match(d),{type:"Slice",children:L}},_parseComparator:function(L,Q){return{type:"Comparator",name:Q,children:[L,this.expression(G[Q])]}},_parseDotRHS:function(L){var Q=this._lookahead(0);return[f,c,j].indexOf(Q)>=0?this.expression(L):Q===D?(this._match(D),this._parseMultiselectList()):Q===K?(this._match(K),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(L){var Q;if(G[this._lookahead(0)]<10)Q={type:"Identity"};else if(this._lookahead(0)===D)Q=this.expression(L);else if(this._lookahead(0)===q)Q=this.expression(L);else{if(this._lookahead(0)!==Y){var M=this._lookaheadToken(0),B=new Error("Sytanx error, unexpected token: "+M.value+"("+M.type+")");throw B.name="ParserError",B}this._match(Y),Q=this._parseDotRHS(L)}return Q},_parseMultiselectList:function(){for(var L=[];this._lookahead(0)!==d;){var Q=this.expression(0);if(L.push(Q),this._lookahead(0)===p&&(this._match(p),this._lookahead(0)===d))throw new Error("Unexpected token Rbracket")}return this._match(d),{type:"MultiSelectList",children:L}},_parseMultiselectHash:function(){for(var L,Q,M,B=[],Z=[f,c];;){if(L=this._lookaheadToken(0),Z.indexOf(L.type)<0)throw new Error("Expecting an identifier token, got: "+L.type);if(Q=L.value,this._advance(),this._match(v),M={type:"KeyValuePair",name:Q,value:this.expression(0)},B.push(M),this._lookahead(0)===p)this._match(p);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:B}}},xe.prototype={search:function(L,Q){return this.visit(L,Q)},visit:function(L,Q){var M,B,Z,le,ee,V,Ee,Ce,_e;switch(L.type){case"Field":return Q!==null&&n(Q)?(V=Q[L.name])===void 0?null:V:null;case"Subexpression":for(Z=this.visit(L.children[0],Q),_e=1;_e<L.children.length;_e++)if((Z=this.visit(L.children[1],Z))===null)return null;return Z;case"IndexExpression":return Ee=this.visit(L.children[0],Q),this.visit(L.children[1],Ee);case"Index":if(!e(Q))return null;var pe=L.value;return pe<0&&(pe=Q.length+pe),(Z=Q[pe])===void 0&&(Z=null),Z;case"Slice":if(!e(Q))return null;var ce=L.children.slice(0),ke=this.computeSliceParams(Q.length,ce),Oe=ke[0],fe=ke[1],Pe=ke[2];if(Z=[],Pe>0)for(_e=Oe;_e<fe;_e+=Pe)Z.push(Q[_e]);else for(_e=Oe;_e>fe;_e+=Pe)Z.push(Q[_e]);return Z;case"Projection":var Ve=this.visit(L.children[0],Q);if(!e(Ve))return null;for(Ce=[],_e=0;_e<Ve.length;_e++)(B=this.visit(L.children[1],Ve[_e]))!==null&&Ce.push(B);return Ce;case"ValueProjection":if(!n(Ve=this.visit(L.children[0],Q)))return null;Ce=[];var et=function(we){for(var We=Object.keys(we),tt=[],Xe=0;Xe<We.length;Xe++)tt.push(we[We[Xe]]);return tt}(Ve);for(_e=0;_e<et.length;_e++)(B=this.visit(L.children[1],et[_e]))!==null&&Ce.push(B);return Ce;case"FilterProjection":if(!e(Ve=this.visit(L.children[0],Q)))return null;var vt=[],Lt=[];for(_e=0;_e<Ve.length;_e++)o(M=this.visit(L.children[2],Ve[_e]))||vt.push(Ve[_e]);for(var wn=0;wn<vt.length;wn++)(B=this.visit(L.children[1],vt[wn]))!==null&&Lt.push(B);return Lt;case"Comparator":switch(le=this.visit(L.children[0],Q),ee=this.visit(L.children[1],Q),L.name){case A:Z=r(le,ee);break;case R:Z=!r(le,ee);break;case P:Z=le>ee;break;case T:Z=le>=ee;break;case _:Z=le<ee;break;case C:Z=le<=ee;break;default:throw new Error("Unknown comparator: "+L.name)}return Z;case S:var ne=this.visit(L.children[0],Q);if(!e(ne))return null;var de=[];for(_e=0;_e<ne.length;_e++)e(B=ne[_e])?de.push.apply(de,B):de.push(B);return de;case"Identity":return Q;case"MultiSelectList":if(Q===null)return null;for(Ce=[],_e=0;_e<L.children.length;_e++)Ce.push(this.visit(L.children[_e],Q));return Ce;case"MultiSelectHash":if(Q===null)return null;var ve;for(Ce={},_e=0;_e<L.children.length;_e++)Ce[(ve=L.children[_e]).name]=this.visit(ve.value,Q);return Ce;case"OrExpression":return o(M=this.visit(L.children[0],Q))&&(M=this.visit(L.children[1],Q)),M;case"AndExpression":return o(le=this.visit(L.children[0],Q))===!0?le:this.visit(L.children[1],Q);case"NotExpression":return o(le=this.visit(L.children[0],Q));case"Literal":return L.value;case w:return Ee=this.visit(L.children[0],Q),this.visit(L.children[1],Ee);case y:return Q;case"Function":var be=[];for(_e=0;_e<L.children.length;_e++)be.push(this.visit(L.children[_e],Q));return this.runtime.callFunction(L.name,be);case"ExpressionReference":var Te=L.children[0];return Te.jmespathType=b,Te;default:throw new Error("Unknown node type: "+L.type)}},computeSliceParams:function(L,Q){var M=Q[0],B=Q[1],Z=Q[2],le=[null,null,null];if(Z===null)Z=1;else if(Z===0){var ee=new Error("Invalid slice, step cannot be 0");throw ee.name="RuntimeError",ee}var V=Z<0;return M=M===null?V?L-1:0:this.capSliceRange(L,M,Z),B=B===null?V?-1:L:this.capSliceRange(L,B,Z),le[0]=M,le[1]=B,le[2]=Z,le},capSliceRange:function(L,Q,M){return Q<0?(Q+=L)<0&&(Q=M<0?-1:0):Q>=L&&(Q=M<0?L-1:L),Q}},$e.prototype={callFunction:function(L,Q){var M=this.functionTable[L];if(M===void 0)throw new Error("Unknown function: "+L+"()");return this._validateArgs(L,Q,M._signature),M._func.call(this,Q)},_validateArgs:function(L,Q,M){var B,Z,le,ee;if(M[M.length-1].variadic){if(Q.length<M.length)throw B=M.length===1?" argument":" arguments",new Error("ArgumentError: "+L+"() takes at least"+M.length+B+" but received "+Q.length)}else if(Q.length!==M.length)throw B=M.length===1?" argument":" arguments",new Error("ArgumentError: "+L+"() takes "+M.length+B+" but received "+Q.length);for(var V=0;V<M.length;V++){ee=!1,Z=M[V].types,le=this._getTypeName(Q[V]);for(var Ee=0;Ee<Z.length;Ee++)if(this._typeMatches(le,Z[Ee],Q[V])){ee=!0;break}if(!ee){var Ce=Z.map(function(_e){return u[_e]}).join(",");throw new Error("TypeError: "+L+"() expected argument "+(V+1)+" to be type "+Ce+" but received type "+u[le]+" instead.")}}},_typeMatches:function(L,Q,M){if(Q===1)return!0;if(Q!==9&&Q!==8&&Q!==3)return L===Q;if(Q===3)return L===3;if(L===3){var B;Q===8?B=s:Q===9&&(B=a);for(var Z=0;Z<M.length;Z++)if(!this._typeMatches(this._getTypeName(M[Z]),B,M[Z]))return!1;return!0}},_getTypeName:function(L){switch(Object.prototype.toString.call(L)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return L.jmespathType===b?6:4}},_functionStartsWith:function(L){return L[0].lastIndexOf(L[1])===0},_functionEndsWith:function(L){var Q=L[0],M=L[1];return Q.indexOf(M,Q.length-M.length)!==-1},_functionReverse:function(L){if(this._getTypeName(L[0])===a){for(var Q=L[0],M="",B=Q.length-1;B>=0;B--)M+=Q[B];return M}var Z=L[0].slice(0);return Z.reverse(),Z},_functionAbs:function(L){return Math.abs(L[0])},_functionCeil:function(L){return Math.ceil(L[0])},_functionAvg:function(L){for(var Q=0,M=L[0],B=0;B<M.length;B++)Q+=M[B];return Q/M.length},_functionContains:function(L){return L[0].indexOf(L[1])>=0},_functionFloor:function(L){return Math.floor(L[0])},_functionLength:function(L){return n(L[0])?Object.keys(L[0]).length:L[0].length},_functionMap:function(L){for(var Q=[],M=this._interpreter,B=L[0],Z=L[1],le=0;le<Z.length;le++)Q.push(M.visit(B,Z[le]));return Q},_functionMerge:function(L){for(var Q={},M=0;M<L.length;M++){var B=L[M];for(var Z in B)Q[Z]=B[Z]}return Q},_functionMax:function(L){if(L[0].length>0){if(this._getTypeName(L[0][0])===s)return Math.max.apply(Math,L[0]);for(var Q=L[0],M=Q[0],B=1;B<Q.length;B++)M.localeCompare(Q[B])<0&&(M=Q[B]);return M}return null},_functionMin:function(L){if(L[0].length>0){if(this._getTypeName(L[0][0])===s)return Math.min.apply(Math,L[0]);for(var Q=L[0],M=Q[0],B=1;B<Q.length;B++)Q[B].localeCompare(M)<0&&(M=Q[B]);return M}return null},_functionSum:function(L){for(var Q=0,M=L[0],B=0;B<M.length;B++)Q+=M[B];return Q},_functionType:function(L){switch(this._getTypeName(L[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(L){return Object.keys(L[0])},_functionValues:function(L){for(var Q=L[0],M=Object.keys(Q),B=[],Z=0;Z<M.length;Z++)B.push(Q[M[Z]]);return B},_functionJoin:function(L){var Q=L[0];return L[1].join(Q)},_functionToArray:function(L){return this._getTypeName(L[0])===3?L[0]:[L[0]]},_functionToString:function(L){return this._getTypeName(L[0])===a?L[0]:JSON.stringify(L[0])},_functionToNumber:function(L){var Q,M=this._getTypeName(L[0]);return M===s?L[0]:M!==a||(Q=+L[0],isNaN(Q))?null:Q},_functionNotNull:function(L){for(var Q=0;Q<L.length;Q++)if(this._getTypeName(L[Q])!==7)return L[Q];return null},_functionSort:function(L){var Q=L[0].slice(0);return Q.sort(),Q},_functionSortBy:function(L){var Q=L[0].slice(0);if(Q.length===0)return Q;var M=this._interpreter,B=L[1],Z=this._getTypeName(M.visit(B,Q[0]));if([s,a].indexOf(Z)<0)throw new Error("TypeError");for(var le=this,ee=[],V=0;V<Q.length;V++)ee.push([V,Q[V]]);ee.sort(function(Ce,_e){var pe=M.visit(B,Ce[1]),ce=M.visit(B,_e[1]);if(le._getTypeName(pe)!==Z)throw new Error("TypeError: expected "+Z+", received "+le._getTypeName(pe));if(le._getTypeName(ce)!==Z)throw new Error("TypeError: expected "+Z+", received "+le._getTypeName(ce));return pe>ce?1:pe<ce?-1:Ce[0]-_e[0]});for(var Ee=0;Ee<ee.length;Ee++)Q[Ee]=ee[Ee][1];return Q},_functionMaxBy:function(L){for(var Q,M,B=L[1],Z=L[0],le=this.createKeyFunction(B,[s,a]),ee=-1/0,V=0;V<Z.length;V++)(M=le(Z[V]))>ee&&(ee=M,Q=Z[V]);return Q},_functionMinBy:function(L){for(var Q,M,B=L[1],Z=L[0],le=this.createKeyFunction(B,[s,a]),ee=1/0,V=0;V<Z.length;V++)(M=le(Z[V]))<ee&&(ee=M,Q=Z[V]);return Q},createKeyFunction:function(L,Q){var M=this,B=this._interpreter;return function(Z){var le=B.visit(L,Z);if(Q.indexOf(M._getTypeName(le))<0){var ee="TypeError: expected one of "+Q+", received "+M._getTypeName(le);throw new Error(ee)}return le}}},t.tokenize=function(L){return new N().tokenize(L)},t.compile=function(L){return new ue().parse(L)},t.search=function(L,Q){var M=new ue,B=new $e,Z=new xe(B);B._interpreter=Z;var le=M.parse(Q);return Z.search(le,L)},t.strictDeepEqual=r})(HY);/*!
* vanilla-picker v2.12.1
* https://vanilla-picker.js.org
*
* Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
* Released under the ISC license.
*/var O1=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},A1=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ld=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(n,r){var o=[],i=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done)&&(o.push(u.value),!r||o.length!==r);i=!0);}catch(f){s=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(s)throw a}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var WY={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function V5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var UY=function(){function t(e,n,r,o){O1(this,t);var i=this;if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var s=e&&""+e;s&&function(a){if(a.startsWith("hsl")){var u=a.match(/([\-\d\.e]+)/g).map(Number),l=ld(u,4),f=l[0],c=l[1],d=l[2],h=l[3];h===void 0&&(h=1),f/=360,c/=100,d/=100,i.hsla=[f,c,d,h]}else if(a.startsWith("rgb")){var p=a.match(/([\-\d\.e]+)/g).map(Number),v=ld(p,4),g=v[0],m=v[1],y=v[2],b=v[3];b===void 0&&(b=1),i.rgba=[g,m,y,b]}else a.startsWith("#")?i.rgba=t.hexToRgb(a):i.rgba=t.nameToRgb(a)||t.hexToRgb(a)}(s.toLowerCase())}else this.rgba=[e,n,r,o===void 0?1:o]}return A1(t,[{key:"printRGB",value:function(e){var n=(e?this.rgba:this.rgba.slice(0,3)).map(function(r,o){return V5(r,o===3?3:0)});return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var n=[360,100,100,1],r=["","%","%",""],o=(e?this.hsla:this.hsla.slice(0,3)).map(function(i,s){return V5(i*n[s],s===3?3:1)+r[s]});return e?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(e){var n=this.hex;return e?n:n.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(e,n){return n<3?e.toString(16):Math.round(255*e).toString(16)}).map(function(e){return e.padStart(2,"0")}).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var n=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!n.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var r=n.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(o){return parseInt(o,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(e){var n=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=WY[n];return r===void 0?r:t.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var n=ld(e,4),r=n[0],o=n[1],i=n[2],s=n[3];r/=255,o/=255,i/=255;var a=Math.max(r,o,i),u=Math.min(r,o,i),l=void 0,f=void 0,c=(a+u)/2;if(a===u)l=f=0;else{var d=a-u;switch(f=c>.5?d/(2-a-u):d/(a+u),a){case r:l=(o-i)/d+(o<i?6:0);break;case o:l=(i-r)/d+2;break;case i:l=(r-o)/d+4}l/=6}return[l,f,c,s]}},{key:"hslToRgb",value:function(e){var n=ld(e,4),r=n[0],o=n[1],i=n[2],s=n[3],a=void 0,u=void 0,l=void 0;if(o===0)a=u=l=i;else{var f=function(p,v,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?p+6*(v-p)*g:g<.5?v:g<.6666666666666666?p+(v-p)*(.6666666666666666-g)*6:p},c=i<.5?i*(1+o):i+o-i*o,d=2*i-c;a=f(d,c,r+1/3),u=f(d,c,r),l=f(d,c,r-1/3)}var h=[255*a,255*u,255*l].map(Math.round);return h[3]=s,h}}]),t}(),JY=function(){function t(){O1(this,t),this._events=[]}return A1(t,[{key:"add",value:function(e,n,r){e.addEventListener(n,r,!1),this._events.push({target:e,type:n,handler:r})}},{key:"remove",value:function(e,n,r){this._events=this._events.filter(function(o){var i=!0;return e&&e!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&t._doRemove(o.target,o.type,o.handler),!i})}},{key:"destroy",value:function(){this._events.forEach(function(e){return t._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,n,r){e.removeEventListener(n,r,!1)}}]),t}();function Uv(t,e,n){var r=!1;function o(u,l,f){return Math.max(l,Math.min(u,f))}function i(u,l,f){if(f&&(r=!0),r){u.preventDefault();var c=e.getBoundingClientRect(),d=c.width,h=c.height,p=l.clientX,v=l.clientY,g=o(p-c.left,0,d),m=o(v-c.top,0,h);n(g/d,m/h)}}function s(u,l){(u.buttons===void 0?u.which:u.buttons)===1?i(u,u,l):r=!1}function a(u,l){u.touches.length===1?i(u,u.touches[0],l):r=!1}t.add(e,"mousedown",function(u){s(u,!0)}),t.add(e,"touchstart",function(u){a(u,!0)}),t.add(window,"mousemove",s),t.add(e,"touchmove",a),t.add(window,"mouseup",function(u){r=!1}),t.add(e,"touchend",function(u){r=!1}),t.add(e,"touchcancel",function(u){r=!1})}function Ri(t,e){return(e||document).querySelector(t)}function hI(t){t.preventDefault(),t.stopPropagation()}function Jv(t,e,n,r,o){t.add(e,"keydown",function(i){n.indexOf(i.key)>=0&&(o&&hI(i),r(i))})}var pI=function(){function t(e){O1(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new JY,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return A1(t,[{key:"setOptions",value:function(e){var n=this;if(e){var r=this.settings;if(e instanceof HTMLElement)r.parent=e;else{r.parent&&e.parent&&r.parent!==e.parent&&(this._events.remove(r.parent),this._popupInited=!1),function(a,u,l){for(var f in a)l&&l.indexOf(f)>=0||(u[f]=a[f])}(e,r),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var o=e.color||e.colour;o&&this._setColor(o)}var i=r.parent;if(i&&r.popup&&!this._popupInited){var s=function(a){return n.openHandler(a)};this._events.add(i,"click",s),Jv(this._events,i,[" ","Spacebar","Enter"],s),this._popupInited=!0}else e.parent&&!r.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var n=e&&e.type==="keydown"?this._domEdit:this.domElement;setTimeout(function(){return n.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var n=e&&e.type,r=!1;if(e)if(n==="mousedown"||n==="focusin"){var o=(this.__containedEvent||0)+100;e.timeStamp>o&&(r=!0)}else hI(e),r=!0;else r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!=="mousedown"&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,n){this.closeHandler(),this.setOptions(e),n&&this.openHandler()}},{key:"setColor",value:function(e,n){this._setColor(e,{silent:n})}},{key:"_setColor",value:function(e,n){if(typeof e=="string"&&(e=e.trim()),e){n=n||{};var r=void 0;try{r=new UY(e)}catch(i){if(n.failSilently)return;throw i}if(!this.settings.alpha){var o=r.hsla;o[3]=1,r.hsla=o}this.colour=this.color=r,this._setHSLA(null,null,null,null,n)}}},{key:"setColour",value:function(e,n){this.setColor(e,n)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var n,r,o=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=(n=o,(r=document.createElement("div")).innerHTML=n,r.firstElementChild);return this.domElement=i,this._domH=Ri(".picker_hue",i),this._domSL=Ri(".picker_sl",i),this._domA=Ri(".picker_alpha",i),this._domEdit=Ri(".picker_editor input",i),this._domSample=Ri(".picker_sample",i),this._domOkay=Ri(".picker_done button",i),this._domCancel=Ri(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,n=this,r=this.domElement,o=this._events;function i(u,l,f){o.add(u,l,f)}i(r,"click",function(u){return u.preventDefault()}),Uv(o,this._domH,function(u,l){return n._setHSLA(u)}),Uv(o,this._domSL,function(u,l){return n._setHSLA(null,u,1-l)}),this.settings.alpha&&Uv(o,this._domA,function(u,l){return n._setHSLA(null,null,null,1-l)});var s=this._domEdit;i(s,"input",function(u){n._setColor(this.value,{fromEditor:!0,failSilently:!0})}),i(s,"focus",function(u){var l=this;l.selectionStart===l.selectionEnd&&l.select()}),this._ifPopup(function(){var u=function(f){return e.closeHandler(f)};i(window,"mousedown",u),i(window,"focusin",u),Jv(o,r,["Esc","Escape"],u);var l=function(f){e.__containedEvent=f.timeStamp};i(r,"mousedown",l),i(r,"focusin",l),i(e._domCancel,"click",u)});var a=function(u){e._ifPopup(function(){return e.closeHandler(u)}),e.onDone&&e.onDone(e.colour)};i(this._domOkay,"click",a),Jv(o,r,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this.settings.parent,n=this.domElement;e!==n.parentNode&&e.appendChild(n),this._ifPopup(function(r){getComputedStyle(e).position==="static"&&(e.style.position="relative");var o=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(i){i===o?n.classList.add(i):n.classList.remove(i)}),n.classList.add(o)})}},{key:"_setHSLA",value:function(e,n,r,o,i){i=i||{};var s=this.colour,a=s.hsla;[e,n,r,o].forEach(function(u,l){(u||u===0)&&(a[l]=u)}),s.hsla=a,this._updateUI(i),this.onChange&&!i.silent&&this.onChange(s)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var n=this.colour,r=n.hsla,o="hsl("+360*r[0]+", 100%, 50%)",i=n.hslString,s=n.hslaString,a=this._domH,u=this._domSL,l=this._domA,f=Ri(".picker_selector",a),c=Ri(".picker_selector",u),d=Ri(".picker_selector",l);b(0,f,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,b(0,c,r[1]),w(0,c,1-r[2]),u.style.color=i,w(0,d,1-r[3]);var h=i,p=h.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[h,p]+")";if(this._domA.style.background=v+`, linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,!e.fromEditor){var g=this.settings.editorFormat,m=this.settings.alpha,y=void 0;switch(g){case"rgb":y=n.printRGB(m);break;case"hsl":y=n.printHSL(m);break;default:y=n.printHex(m)}this._domEdit.value=y}this._domSample.style.color=s}function b(k,$,A){$.style.left=100*A+"%"}function w(k,$,A){$.style.top=100*A+"%"}}},{key:"_ifPopup",value:function(e,n){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):n&&n()}},{key:"_toggleDOM",value:function(e){var n=this.domElement;if(!n)return!1;var r=e?"":"none",o=n.style.display!==r;return o&&(n.style.display=r),o}}]),t}(),Kv=document.createElement("style");Kv.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Kv),pI.StyleElement=Kv;var KY=Object.freeze({__proto__:null,default:pI});Se.exports.compileJSONPointer;Se.exports.deleteIn;Se.exports.existsIn;Se.exports.getIn;Se.exports.immutableJSONPatch;Se.exports.insertAt;Se.exports.parseJSONPointer;Se.exports.revertJSONPatch;Se.exports.setIn;Se.exports.updateIn;const GY={gameTitle:"Narrat Game Example",images:{narrat:"img/backgrounds/narrat.png"},layout:{backgrounds:{width:880,height:720},dialogBottomPadding:70,minTextWidth:475,mobileDialogHeightPercentage:60,verticalLayoutThreshold:1e3,portraits:{width:100,height:100}},gameFlow:{},screens:{default:{background:"narrat",buttons:[]},map:{background:"map",buttons:["shopButton","parkButton"]}},buttons:{},skills:{},skillOptions:{xpPerLevel:10,notifyLevelUp:!0},skillChecks:{rollRange:100,skillMultiplier:10,failureChance:1,difficultyText:[[0,"Very Easy"],[10,"Easy"],[30,"Medium"],[50,"Hard"],[70,"Very Hard"],[80,"Extremely Hard"],[90,"Near Impossible"]]},scripts:["data/example.rpy"],audio:{},audioOptions:{volume:.5,musicFadeInTime:.5,musicFadeInDelay:.5,musicFadeOutTime:.5},notifications:{timeOnScreen:3,alsoPrintInDialogue:!1},hudStats:{},items:{},interactionTags:{default:{onlyInteractOutsideOfScripts:!0}},quests:{},audioTriggers:{},menuButtons:{},debugging:{showScriptFinishedMessage:!0}};let os;function QY(t){os={...GY,...t}}function jt(){return os}function vI(t){const e=os.skills[t];return e||Wn(`Skill config for skill ${t} doesn't exist`),e}function H5(t){return os.images[t]?Hc(os.images[t]):Hc(t)}function Hc(t){return os.baseAssetsPath?`${os.baseAssetsPath}${t}`:t}function zl(t){return os.buttons[t]}function W5(t){const e=os.items[t];return e||Wn(`Item config for skill ${t} doesn't exist`),e}function Ah(t){return os.quests[t]}function Jg(t,e){return Ah(t).objectives[e]}var ia={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var d=this||n;if(c=parseFloat(c),d.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(d._volume=c,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),v=0;v<p.length;v++){var g=d._howls[h]._soundById(p[v]);g&&g._node&&(g._node.volume=g._volume*c)}return d}return d._volume},mute:function(c){var d=this||n;d.ctx||f(),d._muted=c,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),v=0;v<p.length;v++){var g=d._howls[h]._soundById(p[v]);g&&g._node&&(g._node.muted=c?!0:g._muted)}return d},stop:function(){for(var c=this||n,d=0;d<c._howls.length;d++)c._howls[d].stop();return c},unload:function(){for(var c=this||n,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var d=new Audio;d.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return c}if(!d||typeof d.canPlayType!="function")return c;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),p=c._navigator?c._navigator.userAgent:"",v=p.match(/OPR\/([0-6].)/g),g=v&&parseInt(v[0].split("/")[1],10)<33,m=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,y=p.match(/Version\/(.*?) /),b=m&&y&&parseInt(y[1],10)<15;return c._codecs={mp3:!!(!g&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var d=function(h){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,c._releaseHtml5Audio(p)}catch{c.noAudio=!0;break}for(var v=0;v<c._howls.length;v++)if(!c._howls[v]._webAudio)for(var g=c._howls[v]._getSoundIds(),m=0;m<g.length;m++){var y=c._howls[v]._soundById(g[m]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}c._autoResume();var b=c.ctx.createBufferSource();b.buffer=c._scratchBuffer,b.connect(c.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),b.onended=function(){b.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var w=0;w<c._howls.length;w++)c._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var d=this||n;return c._unlocked&&d._html5AudioPool.push(c),d},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<c._howls.length;d++)if(c._howls[d]._webAudio){for(var h=0;h<c._howls[d]._sounds.length;h++)if(!c._howls[d]._sounds[h]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(!!c.autoSuspend){c._suspendTimer=null,c.state="suspending";var p=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(p,p)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var d=0;d<c._howls.length;d++)c._howls[d]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var d=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(c)};r.prototype={init:function(c){var d=this;return n.ctx||f(),d._autoplay=c.autoplay||!1,d._format=typeof c.format!="string"?c.format:[c.format],d._html5=c.html5||!1,d._muted=c.mute||!1,d._loop=c.loop||!1,d._pool=c.pool||5,d._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,d._rate=c.rate||1,d._sprite=c.sprite||{},d._src=typeof c.src!="string"?c.src:[c.src],d._volume=c.volume!==void 0?c.volume:1,d._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=c.onend?[{fn:c.onend}]:[],d._onfade=c.onfade?[{fn:c.onfade}]:[],d._onload=c.onload?[{fn:c.onload}]:[],d._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],d._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],d._onpause=c.onpause?[{fn:c.onpause}]:[],d._onplay=c.onplay?[{fn:c.onplay}]:[],d._onstop=c.onstop?[{fn:c.onstop}]:[],d._onmute=c.onmute?[{fn:c.onmute}]:[],d._onvolume=c.onvolume?[{fn:c.onvolume}]:[],d._onrate=c.onrate?[{fn:c.onrate}]:[],d._onseek=c.onseek?[{fn:c.onseek}]:[],d._onunlock=c.onunlock?[{fn:c.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var c=this,d=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var h=0;h<c._src.length;h++){var p,v;if(c._format&&c._format[h])p=c._format[h];else{if(v=c._src[h],typeof v!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(v),p||(p=/\.([^.]+)$/.exec(v.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){d=c._src[h];break}}if(!d){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=d,c._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new o(c),c._webAudio&&s(c),c},play:function(c,d){var h=this,p=null;if(typeof c=="number")p=c,c=null;else{if(typeof c=="string"&&h._state==="loaded"&&!h._sprite[c])return null;if(typeof c>"u"&&(c="__default",!h._playLock)){for(var v=0,g=0;g<h._sounds.length;g++)h._sounds[g]._paused&&!h._sounds[g]._ended&&(v++,p=h._sounds[g]._id);v===1?c=null:p=null}}var m=p?h._soundById(p):h._inactiveSound();if(!m)return null;if(p&&!c&&(c=m._sprite||"__default"),h._state!=="loaded"){m._sprite=c,m._ended=!1;var y=m._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(p&&!m._paused)return d||h._loadQueue("play"),m._id;h._webAudio&&n._autoResume();var b=Math.max(0,m._seek>0?m._seek:h._sprite[c][0]/1e3),w=Math.max(0,(h._sprite[c][0]+h._sprite[c][1])/1e3-b),k=w*1e3/Math.abs(m._rate),$=h._sprite[c][0]/1e3,A=(h._sprite[c][0]+h._sprite[c][1])/1e3;m._sprite=c,m._ended=!1;var P=function(){m._paused=!1,m._seek=b,m._start=$,m._stop=A,m._loop=!!(m._loop||h._sprite[c][2])};if(b>=A){h._ended(m);return}var _=m._node;if(h._webAudio){var T=function(){h._playLock=!1,P(),h._refreshBuffer(m);var j=m._muted||h._muted?0:m._volume;_.gain.setValueAtTime(j,n.ctx.currentTime),m._playStart=n.ctx.currentTime,typeof _.bufferSource.start>"u"?m._loop?_.bufferSource.noteGrainOn(0,b,86400):_.bufferSource.noteGrainOn(0,b,w):m._loop?_.bufferSource.start(0,b,86400):_.bufferSource.start(0,b,w),k!==1/0&&(h._endTimers[m._id]=setTimeout(h._ended.bind(h,m),k)),d||setTimeout(function(){h._emit("play",m._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?T():(h._playLock=!0,h.once("resume",T),h._clearTimer(m._id))}else{var C=function(){_.currentTime=b,_.muted=m._muted||h._muted||n._muted||_.muted,_.volume=m._volume*n.volume(),_.playbackRate=m._rate;try{var j=_.play();if(j&&typeof Promise<"u"&&(j instanceof Promise||typeof j.then=="function")?(h._playLock=!0,P(),j.then(function(){h._playLock=!1,_._unlocked=!0,d?h._loadQueue():h._emit("play",m._id)}).catch(function(){h._playLock=!1,h._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):d||(h._playLock=!1,P(),h._emit("play",m._id)),_.playbackRate=m._rate,_.paused){h._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||m._loop?h._endTimers[m._id]=setTimeout(h._ended.bind(h,m),k):(h._endTimers[m._id]=function(){h._ended(m),_.removeEventListener("ended",h._endTimers[m._id],!1)},_.addEventListener("ended",h._endTimers[m._id],!1))}catch(q){h._emit("playerror",m._id,q)}};_.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(_.src=h._src,_.load());var R=window&&window.ejecta||!_.readyState&&n._navigator.isCocoonJS;if(_.readyState>=3||R)C();else{h._playLock=!0,h._state="loading";var S=function(){h._state="loaded",C(),_.removeEventListener(n._canPlayEvent,S,!1)};_.addEventListener(n._canPlayEvent,S,!1),h._clearTimer(m._id)}}return m._id},pause:function(c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(c)}}),d;for(var h=d._getSoundIds(c),p=0;p<h.length;p++){d._clearTimer(h[p]);var v=d._soundById(h[p]);if(v&&!v._paused&&(v._seek=d.seek(h[p]),v._rateSeek=0,v._paused=!0,d._stopFade(h[p]),v._node))if(d._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||d._emit("pause",v?v._id:null)}return d},stop:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(c)}}),h;for(var p=h._getSoundIds(c),v=0;v<p.length;v++){h._clearTimer(p[v]);var g=h._soundById(p[v]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,h._stopFade(p[v]),g._node&&(h._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&h._clearSound(g._node))),d||h._emit("stop",g._id))}return h},mute:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(c,d)}}),h;if(typeof d>"u")if(typeof c=="boolean")h._muted=c;else return h._muted;for(var p=h._getSoundIds(d),v=0;v<p.length;v++){var g=h._soundById(p[v]);g&&(g._muted=c,g._interval&&h._stopFade(g._id),h._webAudio&&g._node?g._node.gain.setValueAtTime(c?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:c),h._emit("mute",g._id))}return h},volume:function(){var c=this,d=arguments,h,p;if(d.length===0)return c._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var v=c._getSoundIds(),g=v.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var m;if(typeof h<"u"&&h>=0&&h<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,d)}}),c;typeof p>"u"&&(c._volume=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)m=c._soundById(p[y]),m&&(m._volume=h,d[2]||c._stopFade(p[y]),c._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(h,n.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=h*n.volume()),c._emit("volume",m._id))}else return m=p?c._soundById(p):c._sounds[0],m?m._volume:0;return c},fade:function(c,d,h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(c,d,h,p)}}),v;c=Math.min(Math.max(0,parseFloat(c)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),v.volume(c,p);for(var g=v._getSoundIds(p),m=0;m<g.length;m++){var y=v._soundById(g[m]);if(y){if(p||v._stopFade(g[m]),v._webAudio&&!y._muted){var b=n.ctx.currentTime,w=b+h/1e3;y._volume=c,y._node.gain.setValueAtTime(c,b),y._node.gain.linearRampToValueAtTime(d,w)}v._startFadeInterval(y,c,d,h,g[m],typeof p>"u")}}return v},_startFadeInterval:function(c,d,h,p,v,g){var m=this,y=d,b=h-d,w=Math.abs(b/.01),k=Math.max(4,w>0?p/w:p),$=Date.now();c._fadeTo=h,c._interval=setInterval(function(){var A=(Date.now()-$)/p;$=Date.now(),y+=b*A,y=Math.round(y*100)/100,b<0?y=Math.max(h,y):y=Math.min(h,y),m._webAudio?c._volume=y:m.volume(y,c._id,!0),g&&(m._volume=y),(h<d&&y<=h||h>d&&y>=h)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,m.volume(h,c._id),m._emit("fade",c._id))},k)},_stopFade:function(c){var d=this,h=d._soundById(c);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,c),h._fadeTo=null,d._emit("fade",c)),d},loop:function(){var c=this,d=arguments,h,p,v;if(d.length===0)return c._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],c._loop=h;else return v=c._soundById(parseInt(d[0],10)),v?v._loop:!1;else d.length===2&&(h=d[0],p=parseInt(d[1],10));for(var g=c._getSoundIds(p),m=0;m<g.length;m++)v=c._soundById(g[m]),v&&(v._loop=h,c._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=h,h&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,c.playing(g[m])&&(c.pause(g[m],!0),c.play(g[m],!0)))));return c},rate:function(){var c=this,d=arguments,h,p;if(d.length===0)p=c._sounds[0]._id;else if(d.length===1){var v=c._getSoundIds(),g=v.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var m;if(typeof h=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,d)}}),c;typeof p>"u"&&(c._rate=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)if(m=c._soundById(p[y]),m){c.playing(p[y])&&(m._rateSeek=c.seek(p[y]),m._playStart=c._webAudio?n.ctx.currentTime:m._playStart),m._rate=h,c._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):m._node&&(m._node.playbackRate=h);var b=c.seek(p[y]),w=(c._sprite[m._sprite][0]+c._sprite[m._sprite][1])/1e3-b,k=w*1e3/Math.abs(m._rate);(c._endTimers[p[y]]||!m._paused)&&(c._clearTimer(p[y]),c._endTimers[p[y]]=setTimeout(c._ended.bind(c,m),k)),c._emit("rate",m._id)}}else return m=c._soundById(p),m?m._rate:c._rate;return c},seek:function(){var c=this,d=arguments,h,p;if(d.length===0)c._sounds.length&&(p=c._sounds[0]._id);else if(d.length===1){var v=c._getSoundIds(),g=v.indexOf(d[0]);g>=0?p=parseInt(d[0],10):c._sounds.length&&(p=c._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var m=c._soundById(p);if(m)if(typeof h=="number"&&h>=0){var y=c.playing(p);y&&c.pause(p,!0),m._seek=h,m._ended=!1,c._clearTimer(p),!c._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=h);var b=function(){y&&c.play(p,!0),c._emit("seek",p)};if(y&&!c._webAudio){var w=function(){c._playLock?setTimeout(w,0):b()};setTimeout(w,0)}else b()}else if(c._webAudio){var k=c.playing(p)?n.ctx.currentTime-m._playStart:0,$=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+($+k*Math.abs(m._rate))}else return m._node.currentTime;return c},playing:function(c){var d=this;if(typeof c=="number"){var h=d._soundById(c);return h?!h._paused:!1}for(var p=0;p<d._sounds.length;p++)if(!d._sounds[p]._paused)return!0;return!1},duration:function(c){var d=this,h=d._duration,p=d._soundById(c);return p&&(h=d._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var c=this,d=c._sounds,h=0;h<d.length;h++)d[h]._paused||c.stop(d[h]._id),c._webAudio||(c._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,c._clearTimer(d[h]._id);var p=n._howls.indexOf(c);p>=0&&n._howls.splice(p,1);var v=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===c._src||c._src.indexOf(n._howls[h]._src)>=0){v=!1;break}return i&&v&&delete i[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,d,h,p){var v=this,g=v["_on"+c];return typeof d=="function"&&g.push(p?{id:h,fn:d,once:p}:{id:h,fn:d}),v},off:function(c,d,h){var p=this,v=p["_on"+c],g=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(g=0;g<v.length;g++){var m=h===v[g].id;if(d===v[g].fn&&m||!d&&m){v.splice(g,1);break}}else if(c)p["_on"+c]=[];else{var y=Object.keys(p);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(p[y[g]])&&(p[y[g]]=[])}return p},once:function(c,d,h){var p=this;return p.on(c,d,h,1),p},_emit:function(c,d,h){for(var p=this,v=p["_on"+c],g=v.length-1;g>=0;g--)(!v[g].id||v[g].id===d||c==="load")&&(setTimeout(function(m){m.call(this,d,h)}.bind(p,v[g].fn),0),v[g].once&&p.off(c,v[g].fn,v[g].id));return p._loadQueue(c),p},_loadQueue:function(c){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===c&&(d._queue.shift(),d._loadQueue()),c||h.action()}return d},_ended:function(c){var d=this,h=c._sprite;if(!d._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(d._ended.bind(d,c),100),d;var p=!!(c._loop||d._sprite[h][2]);if(d._emit("end",c._id),!d._webAudio&&p&&d.stop(c._id,!0).play(c._id),d._webAudio&&p){d._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var v=(c._stop-c._start)*1e3/Math.abs(c._rate);d._endTimers[c._id]=setTimeout(d._ended.bind(d,c),v)}return d._webAudio&&!p&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,d._clearTimer(c._id),d._cleanBuffer(c._node),n._autoSuspend()),!d._webAudio&&!p&&d.stop(c._id,!0),d},_clearTimer:function(c){var d=this;if(d._endTimers[c]){if(typeof d._endTimers[c]!="function")clearTimeout(d._endTimers[c]);else{var h=d._soundById(c);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[c],!1)}delete d._endTimers[c]}return d},_soundById:function(c){for(var d=this,h=0;h<d._sounds.length;h++)if(c===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var c=this;c._drain();for(var d=0;d<c._sounds.length;d++)if(c._sounds[d]._ended)return c._sounds[d].reset();return new o(c)},_drain:function(){var c=this,d=c._pool,h=0,p=0;if(!(c._sounds.length<d)){for(p=0;p<c._sounds.length;p++)c._sounds[p]._ended&&h++;for(p=c._sounds.length-1;p>=0;p--){if(h<=d)return;c._sounds[p]._ended&&(c._webAudio&&c._sounds[p]._node&&c._sounds[p]._node.disconnect(0),c._sounds.splice(p,1),h--)}}},_getSoundIds:function(c){var d=this;if(typeof c>"u"){for(var h=[],p=0;p<d._sounds.length;p++)h.push(d._sounds[p]._id);return h}else return[c]},_refreshBuffer:function(c){var d=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=i[d._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),d},_cleanBuffer:function(c){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),h))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,d},_clearSound:function(c){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(c){this._parent=c,this.init()};o.prototype={init:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,d._sounds.push(c),c.create(),c},create:function(){var c=this,d=c._parent,h=n._muted||c._muted||c._parent._muted?0:c._volume;return d._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(h,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=d._src,c._node.preload=d._preload===!0?"auto":d._preload,c._node.volume=h*n.volume(),c._node.load()),c},reset:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,d=c._parent;d._duration=Math.ceil(c._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,d=c._parent;d._duration===1/0&&(d._duration=Math.ceil(c._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var i={},s=function(c){var d=c._src;if(i[d]){c._duration=i[d].duration,l(c);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),p=new Uint8Array(h.length),v=0;v<h.length;++v)p[v]=h.charCodeAt(v);u(p.buffer,c)}else{var g=new XMLHttpRequest;g.open(c._xhr.method,d,!0),g.withCredentials=c._xhr.withCredentials,g.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(m){g.setRequestHeader(m,c._xhr.headers[m])}),g.onload=function(){var m=(g.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}u(g.response,c)},g.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete i[d],c.load())},a(g)}},a=function(c){try{c.send()}catch{c.onerror()}},u=function(c,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},p=function(v){v&&d._sounds.length>0?(i[d._src]=v,l(d,v)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(p).catch(h):n.ctx.decodeAudioData(c,p,h)},l=function(c,d){d&&!c._duration&&(c._duration=d.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(c&&h&&h<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof Gs<"u"?(Gs.HowlerGlobal=e,Gs.Howler=n,Gs.Howl=r,Gs.Sound=o):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof n=="number")i._pos=[n,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(n,r,o,i,s,a){var u=this;if(!u.ctx||!u.ctx.listener)return u;var l=u._orientation;if(r=typeof r!="number"?l[1]:r,o=typeof o!="number"?l[2]:o,i=typeof i!="number"?l[3]:i,s=typeof s!="number"?l[4]:s,a=typeof a!="number"?l[5]:a,typeof n=="number")u._orientation=[n,r,o,i,s,a],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(n,r,o,i,s,a);else return l;return u},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u)if(typeof n=="number")u._stereo=n,u._pos=[n,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,i),i==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(n,0,0):u._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",u._id);else return u._stereo}return o},Howl.prototype.pos=function(n,r,o,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,o,i)}}),s;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof n=="number")s._pos=[n,r,o];else return s._pos;for(var a=s._getSoundIds(i),u=0;u<a.length;u++){var l=s._soundById(a[u]);if(l)if(typeof n=="number")l._pos=[n,r,o],l._node&&((!l._panner||l._panner.pan)&&e(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):l._panner.setPosition(n,r,o)),s._emit("pos",l._id);else return l._pos}return s},Howl.prototype.orientation=function(n,r,o,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,o,i)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,o=typeof o!="number"?s._orientation[2]:o,typeof i>"u")if(typeof n=="number")s._orientation=[n,r,o];else return s._orientation;for(var a=s._getSoundIds(i),u=0;u<a.length;u++){var l=s._soundById(a[u]);if(l)if(typeof n=="number")l._orientation=[n,r,o],l._node&&(l._panner||(l._pos||(l._pos=s._pos||[0,0,-.5]),e(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):l._panner.setOrientation(n,r,o)),s._emit("orientation",l._id);else return l._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,i,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var a=n._getSoundIds(i),u=0;u<a.length;u++)if(s=n._soundById(a[u]),s){var l=s._pannerAttr;l={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:l.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:l.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:l.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:l.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:l.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:l.panningModel};var f=s._panner;f?(f.coneInnerAngle=l.coneInnerAngle,f.coneOuterAngle=l.coneOuterAngle,f.coneOuterGain=l.coneOuterGain,f.distanceModel=l.distanceModel,f.maxDistance=l.maxDistance,f.refDistance=l.refDistance,f.rolloffFactor=l.rolloffFactor,f.panningModel=l.panningModel):(s._pos||(s._pos=n._pos||[0,0,-.5]),e(s,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(ia);function Eh(t){return new Promise((e,n)=>{setTimeout(e,t)})}const YY=t=>t.reduce((e,n)=>({...e,[n]:n}),{});var XY=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let mI;const Bp=t=>mI=t,gI=Symbol();function Kg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var dc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(dc||(dc={}));function ZY(){const t=c$(!0),e=t.run(()=>Qo({}));let n=[],r=[];const o=Vu({install(i){Bp(o),o._a=i,i.provide(gI,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return!this._a&&!XY?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const yI=()=>{};function U5(t,e,n,r=yI){t.push(e);const o=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Uh()&&h0(o),o}function bu(t,...e){t.slice().forEach(n=>{n(...e)})}function Gg(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];Kg(o)&&Kg(r)&&t.hasOwnProperty(n)&&!dr(r)&&!ea(r)?t[n]=Gg(o,r):t[n]=r}return t}const eX=Symbol();function tX(t){return!Kg(t)||!t.hasOwnProperty(eX)}const{assign:fs}=Object;function nX(t){return!!(dr(t)&&t.effect)}function rX(t,e,n,r){const{state:o,actions:i,getters:s}=e,a=n.state.value[t];let u;function l(){a||(n.state.value[t]=o?o():{});const f=L9(n.state.value[t]);return fs(f,i,Object.keys(s||{}).reduce((c,d)=>(c[d]=Vu(_n(()=>{Bp(n);const h=n._s.get(t);return s[d].call(h,h)})),c),{}))}return u=bI(t,l,e,n,r,!0),u.$reset=function(){const c=o?o():{};this.$patch(d=>{fs(d,c)})},u}function bI(t,e,n={},r,o,i){let s;const a=fs({actions:{}},n),u={deep:!0};let l,f,c=Vu([]),d=Vu([]),h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),Qo({});let v;function g(A){let P;l=f=!1,typeof A=="function"?(A(r.state.value[t]),P={type:dc.patchFunction,storeId:t,events:h}):(Gg(r.state.value[t],A),P={type:dc.patchObject,payload:A,storeId:t,events:h});const _=v=Symbol();C$().then(()=>{v===_&&(l=!0)}),f=!0,bu(c,P,r.state.value[t])}const m=yI;function y(){s.stop(),c=[],d=[],r._s.delete(t)}function b(A,P){return function(){Bp(r);const _=Array.from(arguments),T=[],C=[];function R(q){T.push(q)}function S(q){C.push(q)}bu(d,{args:_,name:A,store:k,after:R,onError:S});let j;try{j=P.apply(this&&this.$id===t?this:k,_)}catch(q){throw bu(C,q),q}return j instanceof Promise?j.then(q=>(bu(T,q),q)).catch(q=>(bu(C,q),Promise.reject(q))):(bu(T,j),j)}}const w={_p:r,$id:t,$onAction:U5.bind(null,d),$patch:g,$reset:m,$subscribe(A,P={}){const _=U5(c,A,P.detached,()=>T()),T=s.run(()=>ec(()=>r.state.value[t],C=>{(P.flush==="sync"?f:l)&&A({storeId:t,type:dc.direct,events:h},C)},fs({},u,P)));return _},$dispose:y},k=ll(fs({},w));r._s.set(t,k);const $=r._e.run(()=>(s=c$(),s.run(()=>e())));for(const A in $){const P=$[A];if(dr(P)&&!nX(P)||ea(P))i||(p&&tX(P)&&(dr(P)?P.value=p[A]:Gg(P,p[A])),r.state.value[t][A]=P);else if(typeof P=="function"){const _=b(A,P);$[A]=_,a.actions[A]=P}}return fs(k,$),fs(xn(k),$),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:A=>{g(P=>{fs(P,A)})}}),r._p.forEach(A=>{fs(k,s.run(()=>A({store:k,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(k.$state,p),l=!0,f=!0,k}function Pi(t,e,n){let r,o;const i=typeof e=="function";typeof t=="string"?(r=t,o=i?n:e):(o=t,r=t.id);function s(a,u){const l=Uh();return a=a||l&&hd(gI),a&&Bp(a),a=mI,a._s.has(r)||(i?bI(r,e,o,a):rX(r,o,a)),a._s.get(r)}return s.$id=r,s}function is(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const o=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,o):o[i]},n),{})}const wI=["music","ambiant","sound"],Qg=YY(wI),Vr=Pi("audio",{state:()=>{const t=new Map;for(const e in Qg)t.set(e,{channels:[],options:{volume:1}});return{modes:t,masterVolume:1}},actions:{stopAll(){this.modes.forEach(t=>{t.channels.forEach((e,n)=>{e&&(this.actuallyStopChannel(e),t.channels[n]=null)})})},async stopChannel(t,e){const n=this.getAudioChannel(t,e);if(!!n){if(this.setAudioChannel(t,e,null),jt().audioOptions.musicFadeOutTime){const r=$u(n.audio);r&&r.fade(r.volume(n.howlerId),0,jt().audioOptions.musicFadeOutTime*1e3,n.howlerId),await Eh(jt().audioOptions.musicFadeOutTime*1e3)}this.actuallyStopChannel(n)}},async pauseChannel(t,e){const n=this.getAudioChannel(t,e);if(!n)return;const r=$u(n.audio);if(!r){Wn(`Could not find audio ${n.audio}`);return}r.pause(n.howlerId)},async playChannel(t,e,n){const r=this.getAudioChannel(t,n);if(t==="sound")return this.actuallyPlayChannel(t,n,e);r&&r.audio!==e?await this.changeChannel(t,e,n):r&&r.audio===e||await this.actuallyPlayChannel(t,n,e)},async changeChannel(t,e,n){this.getAudioChannel(t,n)&&t!=="sound"&&await this.stopChannel(t,n),await this.actuallyPlayChannel(t,n,e)},actuallyStopChannel(t){sX(t.audio,t.howlerId)},getAudioChannel(t,e){return this.modes.get(t).channels[e]||null},setAudioChannel(t,e,n){this.modes.get(t).channels[e]=n},async actuallyPlayChannel(t,e,n){const r=$u(n);if(!r){Wn(`Could not find audio ${n}`);return}if(t!=="sound"){const o=r.play();r.volume(0,o),r.pause(o),this.setAudioChannel(t,e,{audio:n,howlerId:o}),await Eh(jt().audioOptions.musicFadeInDelay*1e3);const i=this.getAudioChannel(t,e);i!==null&&i.audio===n&&(r.play(o),r.fade(0,this.modeVolume(t),jt().audioOptions.musicFadeInTime*1e3,o))}else if(t==="sound"){const o=r.play();r.volume(this.modeVolume(t),o),this.setAudioChannel(t,e,{audio:n,howlerId:o})}},reloadAudio(t){for(const e in t.modes){if(e==="sound")continue;const n=e;this.modes.get(n).options=t.modes[n].options;for(const r in t.modes[n].channels){const o=t.modes[n].channels[r];o&&(this.actuallyPlayChannel(n,Number(r),o.audio),this.setAudioChannel(n,Number(r),o))}}},stopSound(t){const e=$u(t);e&&e.stop()},generateSaveData(){const t={};for(const e in Qg)t[e]=this.modes.get(e);return{modes:t,masterVolume:this.masterVolume}},loadSaveData(t){this.masterVolume=t.masterVolume},reset(){this.stopAll()},setModeVolume(t,e){const n=this.modes.get(t);n.options.volume=e;for(const r in n.channels){const o=n.channels[r];if(o){const i=$u(o.audio);i&&i.volume(this.modeVolume(t),o.howlerId)}}},setMasterVolume(t){this.masterVolume=t,ia.Howler.volume(t)},modeVolume(t){return this.masterVolume*this.modes.get(t).options.volume}}}),kI={};ia.Howler.volume(.5);let Yg={};async function oX(t){xi.log("Loading audio");const e=[];ia.Howler.volume(t.audioOptions.volume);for(const n in t.music){const r={loop:!0,...t.music[n]};t.audio[n]=r,console.warn("Music config is deprecated, instead you can now add musics to the `audio` config as they behave the same as other sounds!")}for(const n in t.sound)t.audio[n]=t.sound[n];for(const n in t.audio){const r=t.audio[n];r.src||(r.src=r.path,r.path||console.error(`Audio config for ${n} doesn't have any \`src\` value to find the file`),console.warn("Using `path` for audio and musics is deprecated. Please replace `path` with `src` in your config file!")),e.push(iX(n,t.audio[n]))}return t.audioTriggers&&(Yg=t.audioTriggers),Promise.all(e)}function Ph(t){Yg[t]&&Vr().playChannel("sound",Yg[t],0)}async function iX(t,e){return new Promise((n,r)=>{xi.log(`Loading audio ${e.src}`);const o=new ia.Howl({...e,src:Hc(e.src)});o.load(),kI[t]=o,n()})}function sX(t,e){const n=$u(t);if(!n){Wn(`Could not find music ${t}`);return}n.stop(e)}function $u(t){return kI[t]}const xI="gameSave",Th="###_--_~=:;_JUMP",E1="###_--_~=:;_RETURN",aX="###_--_~=:;_OK";function uX(t){return t===Th||t===E1||t===aX}function J5(t){if(typeof t=="object"){const e=t;if(e.version||!e.slots)return!0;if(e.slots)return!1}throw new Error("Invalid save file")}const lX=(t,e)=>{const n={};for(const r in t)n[r]=e(t[r]);return n},K5=(t,e)=>{const n={};for(const r in t)e(t[r])&&(n[r]=t[r]);return n},jI="1.2.0";let pr;function _I(){if(pr)return pr;if(pr)throw new Error("Invalid save file");{const t=localStorage.getItem(xI);if(t&&typeof JSON.parse(t)=="object"){const e=JSON.parse(t);try{if(J5(e))pr={slots:[e]};else if(e&&!J5(e))pr=e;else throw new Error("Invalid save file")}catch{pr={slots:[]}}}else pr={slots:[]}}return pr.slots.forEach(t=>vX(t)),pr}function cX(t,e=0){pr.slots[e]=t,SI()}function fX(t){pr.lastSaveSlot=t}function SI(){localStorage.setItem(xI,JSON.stringify(pr))}function dX(){for(let t=0;t<pr.slots.length;t++)if(!pr.slots[t])return t;return pr.slots.length}function hX(t=0){if(pr.slots.length>t)return pr.slots[t];for(let e=pr.slots.length;e<=t;e++)pr.slots.push(null)}function pX(t=0){pr.slots[t]=null,SI()}function vX(t){if(!!t&&(t.version==="1.0.0"&&(t.metadata={saveDate:new Date().toISOString()},t.version="1.1.0"),t.version==="1.1.0")){const e=t;if(e.audio.currentMusic){const n=G5();n.modes.music.channels[0]={audio:e.audio.currentMusic,howlerId:0},t.audio=n}else t.audio=G5();t.version=jI}}function G5(){var e;return{modes:lX(Qg,n=>({channels:[],options:{volume:1}})),masterVolume:(e=jt().audioOptions.volume)!=null?e:1}}function mX(){return`${Date.now()-Math.floor(Math.random()*99999999)}`}var gX=function(e){return yX(e)&&!bX(e)};function yX(t){return!!t&&typeof t=="object"}function bX(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||xX(t)}var wX=typeof Symbol=="function"&&Symbol.for,kX=wX?Symbol.for("react.element"):60103;function xX(t){return t.$$typeof===kX}function jX(t){return Array.isArray(t)?[]:{}}function Wc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?rl(jX(t),t,e):t}function _X(t,e,n){return t.concat(e).map(function(r){return Wc(r,n)})}function SX(t,e){if(!e.customMerge)return rl;var n=e.customMerge(t);return typeof n=="function"?n:rl}function CX(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function Q5(t){return Object.keys(t).concat(CX(t))}function CI(t,e){try{return e in t}catch{return!1}}function $X(t,e){return CI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function OX(t,e,n){var r={};return n.isMergeableObject(t)&&Q5(t).forEach(function(o){r[o]=Wc(t[o],n)}),Q5(e).forEach(function(o){$X(t,o)||(CI(t,o)&&n.isMergeableObject(e[o])?r[o]=SX(o,n)(t[o],e[o],n):r[o]=Wc(e[o],n))}),r}function rl(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||_X,n.isMergeableObject=n.isMergeableObject||gX,n.cloneUnlessOtherwiseSpecified=Wc;var r=Array.isArray(e),o=Array.isArray(t),i=r===o;return i?r?n.arrayMerge(t,e,n):OX(t,e,n):Wc(e,n)}rl.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,o){return rl(r,o,n)},{})};var AX=rl,Mh=AX;const bs=Pi("hud",{state:()=>({hudStats:{}}),actions:{setupHudStats(t){for(const e in t)this.hudStats[e]={value:t[e].startingValue}},setStat(t,e){this.hudStats[t].value=e},addStat(t,e){this.hudStats[t].value+=e},getStat(t){return this.hudStats[t]},getStatValue(t){return this.hudStats[t].value},generateSaveData(){return{hudStats:this.hudStats}},loadSaveData(t){this.hudStats=Mh(this.hudStats,t.hudStats)}}}),Xo=Pi("notifications",{state:()=>({notifications:{},enabled:!0}),actions:{async addNotification(t){if(!this.enabled)return;t=M1(t);const e=`${Date.now()}-${Math.random()*1e4}`;this.notifications[e]={text:t},jt().notifications.alsoPrintInDialogue&&DI(`[NOTIFICATION] ${t}`),await Eh(jt().notifications.timeOnScreen*1e3),this.deleteNotification(e)},deleteNotification(t){delete this.notifications[t]},disableNotifications(){this.enabled=!1;for(const t in this.notifications)this.deleteNotification(t)},enableNotifications(){this.enabled=!0}}}),Rr=Pi("inventory",{state:()=>({items:{},interactionTags:{}}),actions:{generateSaveData(){return{items:this.items,interactionTags:this.interactionTags}},loadSaveData(t){this.items={...this.items,...t.items},this.interactionTags={...t.interactionTags}},setupItems(t){Object.keys(t).forEach(e=>{this.items[e]={amount:0,id:e}})},hasItem(t,e){var n;return e||(e=1),((n=this.items[t])==null?void 0:n.amount)>=e},getExistingItem(t){return this.items[t]},getItemAmount(t){var e;return((e=this.getExistingItem(t))==null?void 0:e.amount)||0},add(t){const e=this.getExistingItem(t.id);e?e.amount+=t.amount:this.items[t.id]={...t},Xo().addNotification(`Received item: ${W5(t.id).name} x ${t.amount}`)},enableInteraction(t){t||(t="default"),this.interactionTags[t]={blockedInteraction:!1}},disableInteraction(t){t||(t="default"),this.interactionTags[t]={blockedInteraction:!0}},onScriptStart(){const t=jt().interactionTags;Object.keys(t).forEach(e=>{t[e].onlyInteractOutsideOfScripts&&this.disableInteraction(e)})},onScriptEnd(){const t=jt().interactionTags;Object.keys(t).forEach(e=>{t[e].onlyInteractOutsideOfScripts&&this.enableInteraction(e)})},isInteractionTagBlocked(t){return t||(t="default"),this.interactionTags[t]?this.interactionTags[t].blockedInteraction:!1},remove(t){const e=this.getExistingItem(t.id);e&&(e.amount-=t.amount,Xo().addNotification(`Lost item: ${W5(t.id).name} x ${t.amount}`),e.amount<=0&&this.deleteItem(t.id))},deleteItem(t){this.getExistingItem(t)&&(this.items[t].amount=0)}}}),uo=Pi("quests",{state:()=>({quests:{}}),actions:{getQuest(t){const e=this.quests[t];if(e)return e;{const n=`Quest ${t} doesn't exist!`;throw Wn(n),new Error(n)}},getObjective(t,e){const n=this.getQuest(t);if(!n){const i=`Quest ${t} doesn't exist!`;throw Wn(i),new Error(i)}const r=n.objectives[e];if(r)return r;const o=`Objective ${e} doesn't exist in quest ${t}!`;throw Wn(o),new Error(o)},setupQuests(t){for(const e of Object.keys(t)){const n=t[e];this.quests[e]={id:e,state:"hidden",objectives:{}};for(const r of Object.keys(n.objectives)){const o=n.objectives[r];this.quests[e].objectives[r]={id:r,state:o.hidden?"hidden":"unlocked"}}}},startQuest(t){const e=this.getQuest(t);e?(e.state="unlocked",Xo().addNotification(`Started quest: ${Ah(t).title}`)):Wn(`Quest ${t} doesn't exist!`)},startObjective(t,e){const n=this.getObjective(t,e);n?(n.state="unlocked",Xo().addNotification(`New quest objective: ${Jg(t,e).description}`)):Wn(`Objective ${e} doesn't exist in quest ${t}!`)},completeObjective(t,e){const n=this.getObjective(t,e);n?(n.state="completed",Xo().addNotification(`Completed quest objective: ${Jg(t,e).description}`)):Wn(`Objective ${e} doesn't exist in quest ${t}!`)},completeQuest(t,e){const n=this.getQuest(t);n?(n.state="completed",n.ending=e,Xo().addNotification(`Completed quest: ${Ah(t).title}`)):Wn(`Quest ${t} doesn't exist!`)},isQuestCompleted(t){const e=this.getQuest(t);return e?e.state==="completed":!1},isObjectiveCompleted(t,e){const n=this.getObjective(t,e);return n?n.state==="completed":!1},isQuestStarted(t){const e=this.getQuest(t);return e&&e.state==="unlocked"},isObjectiveStarted(t,e){return this.getObjective(t,e).state==="unlocked"},removeQuest(t){delete this.quests[t]},generateSaveData(){return{quests:{...this.quests}}},loadSaveData(t){this.quests=t.quests}}}),Gi=Pi("screens",{state:()=>({layers:["default"],buttons:{}}),actions:{setScreen(t,e){this.layers[e||0]=t},emptyLayer(t){delete this.layers[t]},setButtons(t){const{buttons:e,screens:n,images:r}=t;for(const o in e)this.buttons[o]={state:e[o].enabled};for(const o in n)if(n[o].buttons){const i=n[o];i.background&&r[i.background]&&(i.background=r[i.background]);for(const s in i.buttons){const a=i.buttons[s];typeof a=="object"&&(e[a.id]=a,i.buttons[s]=a.id,this.buttons[a.id]={state:a.enabled})}}},changeButton(t,e){this.buttons[t].state=e},generateSaveData(){return{layers:this.layers,buttons:this.buttons}},loadSaveData(t){this.layers=t.layers,this.buttons=Mh(this.buttons,t.buttons)}}});function P1(t){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=function(){r.status>=200&&r.status<300?e(r.responseText):n(r.status)},r.open("GET",t),r.send()})}const $I=new vO;$I.setupDebugger(!1);const Uo=$I.logger;function EX(t,e,n){const r={fileName:n,currentLine:0,error:(s,a)=>t(r,s,a),processCommandsFunction:Xg,indentSize:0};r.indentSize=BX(r,e);const o=LX(r,e);r.currentLine=0,Uo.log(o);const i={};for(const s of o){s.code.search(":")===-1&&r.error(s.line,"First indentation level should only be used to specify labels");const u=s.code.replace(":","").split(/ +/g),l=u[0],f=u.slice(1);s.branch||r.error(s.line,"This line should have a branch but doesn't"),i[l]={branch:Xg(r,s.branch,void 0),args:f}}return i}function Xg(t,e,n){const r=t.currentLine,o={processCommandsFunction:Xg,parserContext:t,lines:e,currentLine:0,line:e[0]},i=[];if(!e){let s=0;return n&&(s=n.line),t.error(s,"Processing of command failed because the current branch has no lines inside"),[]}for(;o.currentLine<e.length;){const s=e[o.currentLine];o.line=s;const a=OI(t,s,s.expression),u=Br.commands[a.command.operator];let l=u==null?void 0:u.parser;l||(l=Br.commands.text.parser),Uo.log(Br.commands.text);const{newLine:f}=l(o,a);o.currentLine=f,t.currentLine=r+f,i.push(a)}return i}function OI(t,e,n){Uo.log(n),typeof n[0]!="string"&&t.error(e.line,"Expression operator should be a string");const r={code:e.code,fileName:t.fileName,line:e.line,command:{staticOptions:{},commandType:n[0],operator:n[0],args:n.slice(1).map(s=>PX(t,e,s)),options:{}}},o=n[0];if(!Br.commands[o]){const s=["else","success","failure"];!FX(o)&&!s.includes(o)&&t.error(e.line,`Unknown command ${o}`)}return r}function PX(t,e,n){return Array.isArray(n)?OI(t,e,n):n}function TX(t){return t==="true"?!0:t==="false"?!1:t==="undefined"?void 0:t===null?null:isNaN(Number(t))?t:Number(t)}function MX(t,e){e.charAt(e.length-1)===":"&&(e=e.substr(0,e.length-1));const n=IX(e),[r]=AI(t,n);return r}function IX(t){const e=/(["'])(?:\\\1|.)*?\1/g,n=[];let r;for(;(r=e.exec(t))!=null;)n.push(r);let o=0,i=[];for(const s of n){const a=s.index;if(a>o){const l=t.substr(o,a-o),f=Y5(l);i=[...i,...f]}const u=s[0].replace(/\\/g,"");i.push(`$$"${u.substring(1,u.length-1)}`),o=a+s[0].length}return i=[...i,...Y5(t.substr(o))],i.push(")"),i}function Y5(t){t=t.replace(/: *$/g,"");let e=t.split(" ").filter(n=>n);return e=e.reduce((n,r)=>[...n,...r.split(/(\(|\))/g)].filter(o=>o&&o),[]),e.map(n=>TX(n))}function AI(t,e){Uo.log("===============");let n=[],r=0,o=X5(e)+r,i=Gv(e)+r;for(Uo.log(`Parsing expression: ${e}`),Uo.log(`Parenthesis start index: ${o} - end: ${i}`);o!==-1&&i>o;){n=[...n,...e.slice(r,o)];const u=e.slice(o+1);Uo.log(`Found a sub expression. Before: ${n} - After: ${u}`),r=o;const[l,f]=AI(t,u),c=r+f;n.push(l),r=c+1;const d=e.slice(r);Uo.log(`Sub expression came back: ${l} - rest of string: ${d}`),o=X5(d),o!==-1&&(o+=r),i=Gv(d),i!==-1&&(i+=r)}i!==-1&&Uo.log("Found parenthesis end before new opening parenthesis, close this expression");const s=Gv(e.slice(r))+r;if(s===-1)return t.error(t.currentLine,'Expression is not closed (missing ")" closing parenthesis)'),[n,s];const a=e.slice(r,s);return Uo.log(`End of expression: ${s} - ${a}`),Uo.log("==================="),n=[...n,...a],NX(t,n),[n,s+1]}function NX(t,e){e.length<1&&t.error(t.currentLine,"Expression is empty")}function X5(t){return t.findIndex(e=>e==="(")}function Gv(t){return t.findIndex(e=>e===")")}function LX(t,e){const n=e.split(/\r?\n|$/).map(o=>{const i=o.search(/ *\/\//g);return i!==-1?o.substr(0,i):o});return EI(t,n,0,0).lines}function EI(t,e,n,r){let o=!0,i=n;const s=[];for(;o&&!(i>=e.length);){let a=e[i];if(a.search(/^\s*$/)!==-1)i++;else{const u=DX(t,a);if(a=a.substring(u*t.indentSize),RX(t,u,i),u<r)o=!1;else if(u>r){(s.length===0||u-r!==1)&&t.error(i,"Wrong double indentation");const l=EI(t,e,i,u);s[s.length-1].branch=l.lines,i=l.endLine}else{const l=MX(t,a),f={code:a,indentation:u,line:i,expression:l};s.push(f),i++,t.currentLine=i}}}return{lines:s,endLine:i}}function RX(t,e,n){e%1!==0&&t.error(n,`Indentation level of ${e} incorrect. Expected indentation of ${t.indentSize} spaces for this file.`)}function DX(t,e){return e.search(/[^ ]/)/t.indentSize}function BX(t,e){const n=/\n( *)/,r=e.match(n);return!r||r.length<2?(t.error(0,"Can't detect indentation level. Make sure you indent with at least 2 spaces and consistently"),0):(Uo.log(r),r[1].length)}const yn=Pi("vm",{state:()=>({stack:[],data:{},lastLabel:"main",script:{},labelStack:["main"],commandsWaitingForPlayerAnswer:[]}),actions:{generateSaveData(){return{lastLabel:this.lastLabel,data:this.data}},loadSaveData(t){this.lastLabel=t.lastLabel,this.data=t.data},setReturnValue(t){this.currentFrame.returnValue=t},waitForPlayerAnswer(t){this.commandsWaitingForPlayerAnswer.push(t)},popAnswerQueue(){return this.commandsWaitingForPlayerAnswer.pop()},addScopedVariable(t,e){this.currentFrame&&(this.currentFrame.scope[t]=e)},async loadScripts(t){const e=[];for(const s of t)e.push(P1(Hc(s)));const n=await Promise.all(e),r=Date.now();let o={};for(const s in n){const a=n[s];o={...o,...EX((u,l,f)=>XX(u,l,f),a,t[s])}}const i=Date.now();xi.log(`script parsed in ${i-r} ms`),this.setScript(o)},start(){this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"}),this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"})},setLastLabel(t){this.lastLabel=t},reset(){this.stack=[],this.data={},this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"})},setScript(t){this.script=t},overrideData(t){this.data=t},setStack(t){this.stack=[];const e=this.frameOptionsToFrame(t);this.lastLabel=t.label,this.stack.push(e)},frameOptionsToFrame(t){const e=t.branchData,n={...t,blocks:[],scope:{},returnValue:null};if(this.addBlock(n,{branchData:e,currentIndex:t.currentIndex}),t.scope&&(n.scope=t.scope),t.args&&t.branchData.args)for(const[r,o]of t.branchData.args.entries())t.args.length>r&&(n.scope[o]=t.args[r]);return n},addBlock(t,e){t.blocks.push(e)},async addAndRunBlock(t){const e=this.currentFrame;if(!e)throw new Error("No frame to add block to");return this.addBlock(e,t),await this.runBlock()},setData(t,e){const n=ol();PI(n,t,e)},addInstruction(t,e){const n=ol();TI(n,t,e)},addFrame(t){if(!t.label)if(this.currentFrame)t.label=this.currentFrame.label;else throw new Error("Tried to add a new frame but no label was passed and there is no current frame label");const e=this.frameOptionsToFrame(t);this.stack.push(e)},async addAndRunFrame(t){return await this.addFrame(t),await this.runFrame()},async runFrame(){if(!this.currentFrame)throw new Error("Tried to run a frame but there is no current frame");let e;for(;this.currentBlock;){const n=await this.runBlock();if(n===Th)return this.cleanFrame(),n;if(n===E1)return this.cleanFrame()}return this.cleanFrame(),e},cleanFrame(){const t=this.currentFrame,{returnValue:e}=t;return this.stack.splice(this.stack.length-1,1),e},async runBlock(){const t=this.currentBlock;if(!t)throw new Error("Tried to run a block but there is no current block");let e;for(;this.currentLine;){if(e=await this.runLineOnly(),uX(e))return this.cleanBlock(),e;t.currentIndex++}return this.cleanBlock(),e},cleanBlock(){this.currentFrame.blocks.splice(this.currentFrame.blocks.length-1,1)},async runGame(){let t=await this.runFrame();for(;t===Th;){const e=this.jumpTarget;if(!e){Wn("Tried to jump but no target was set");return}this.setStack(e),await On().saveGame(),t=await this.runFrame()}this.stack.length===0&&this.reachedEndOfScript()},async nextLineOnly(){return this.stack.length===0||this.isBlockFinished()?!1:(this.currentBlock.currentIndex++,!0)},isBlockFinished(){return!this.currentBlock||this.currentBlock&&this.currentBlock.currentIndex>=this.currentBlock.branchData.branch.length},reachedEndOfScript(){if(jt().gameFlow.labelToJumpOnScriptEnd&&this.lastLabel!==jt().gameFlow.labelToJumpOnScriptEnd){this.jumpToLabel(jt().gameFlow.labelToJumpOnScriptEnd);return}if(Rr().onScriptEnd(),On().options.debug){const e=bo();jt().debugging.showScriptFinishedMessage&&e.addDialog({speaker:"game",text:"[DEBUG] Game Script is finished. This is the end of the game flow. This message only appears in debug mode."})}},async runLineOnly(){const t=this.currentLine;if(!t){Wn("There is no line of script to run.");return}return Rr().onScriptStart(),await BI(t)},async runLabelFunction(t,...e){const n=this.script[t];if(!n){Wn(`Tried to run a label that doesn't exist: ${t}`);return}const r={currentIndex:0,branchData:n,label:t,args:e};return this.addAndRunFrame(r)},runCustomFrame(t){this.addAndRunFrame(t)},jumpToLabel(t,...e){const n=this.script[t];if(!n){Wn(`Label ${t} doesn't exist. Is the file with this label added in the list of script files to load in the config?`);return}this.setLastLabel(t),this.setStack({currentIndex:0,branchData:n,args:e,label:t}),this.runGame()},async runThenGoBackToPreviousDialog(t,...e){const n=bo(),r=n.dialog[n.dialog.length-1],o=await this.runLabelFunction(t,...e);return n.dialog.push(r),o}},getters:{currentFrame(t){return t.stack[t.stack.length-1]},scope(){var t,e;return(e=(t=this.currentFrame)==null?void 0:t.scope)!=null?e:{}},currentBlock(){const t=this.currentFrame;return t?t.blocks[t.blocks.length-1]:void 0},currentLine(){const t=this.currentBlock;if(t&&t.branchData.branch.length>t.currentIndex)return t.branchData.branch[t.currentIndex]},commandWaitingForAnswer(){if(this.commandsWaitingForPlayerAnswer.length>0)return this.commandsWaitingForPlayerAnswer[0]}}});function T1(t,e){const n=e.split(".");let r=t;const o=n.length-1;let i=n[0],s=0;for(s=0;s<o;s++)i=n[s],r[i]||(r[i]={}),r=r[i];return i=n[s],[r,i]}function zX(t,e){const n=e.split(".");let r=t;const o=n.length-1;let i=n[0],s=0;for(s=0;s<o;s++)i=n[s],r[i]||(r[i]={}),r=r[i];return i=n[s],typeof r[i]>"u"&&(r[i]=null),[r,i]}function PI(t,e,n){const[r,o]=T1(t,e);r[o]=n}function TI(t,e,n){const[r,o]=T1(t,e),i=r[o]||0;r[o]=n+i}function ol(){const t=yn(),e=$r(),n=Gi(),r=Rr(),o=yn().scope,i={data:t.data,skills:e.skills,buttons:n.buttons,items:r.items,quests:uo().quests,stats:bs().hudStats,scope:o,config:jt(),gameOptions:On().options};return new Proxy(i,{get:(a,u,l)=>{const f=yn().scope,c=yn().data;return typeof f[u]<"u"?f[u]:typeof c[u]<"u"?c[u]:Reflect.get(a,u,l)},set:(a,u,l,f)=>{const c=yn().scope,d=yn().data;if(typeof c[u]<"u")c[u]=l;else{if(typeof a[u]<"u")return Reflect.set(a,u,l,f);typeof l=="object"?d[u]={}:d[u]=l}return!0}})}function M1(t){return t.replace(/%{[^}]*}/g,e=>{const n=e.substr(2,e.length-3),r=ol(),[o,i]=T1(r,n);return o[i]})}const MI=/\$\$"/,FX=t=>typeof t=="string"&&t.search(MI)===0,bo=Pi("dialog",{state:()=>({dialog:[]}),actions:{generateSaveData(){return{dialog:this.dialog}},loadSaveData(t){this.dialog=t.dialog},addDialog(t){var e;this.dialog.push({...t,interactive:(e=t.interactive)!=null?e:!1,id:mX(),text:M1(t.text)})},clearDialog(){this.dialog.splice(0,this.dialog.length)},reset(){this.dialog=[]}},getters:{currentDialog(){return this.dialog[this.dialog.length-1]}}});function qX(t,e){return t-e*jt().skillChecks.skillMultiplier}function II(t,e){const n=qX(t,e),r=jt().skillChecks;let o=!1,i=0,s=r.difficultyText[0][1];for(;!o;)r.difficultyText.length>i&&n>=r.difficultyText[i][0]?s=r.difficultyText[i][1]:o=!0,i++;return s}function VX({skill:t,skillCheckId:e,value:n}){const r=$r(),o=r.getSkillCheck(e),i=vI(t),s=r.skills[t].level,a=II(n,s);let u=!0,l=`<span class='skill-check'>[<span class='skill-check-name'>${i.name}</span> - `;return o.happened?o.succeeded?l="":(u=!1,l+=` <span class='skill-check-difficulty'>${a}</span> - <span class='skill-check-failed'>FAILED</span>]</span>`):l+=` <span class='skill-check-difficulty'>${a}</span>]</span>`,{difficultyText:l,allowed:u}}function HX(t,e){const n=$r(),r=vI(e.skill),o=II(e.value,n.skills[e.skill].level);return`<span class='passive-skill-check skill-check'>[<span class='skill-check-name'>${r.name}</span> - <span class='skill-check-difficulty'>${o}</span> - ${t?'<span class="skill-check-success">Success</span>':'<span class="skill-check-failed">Failure</span>'}]</span>`}function WX(t){const{skillChecks:e}=jt(),n=$r(),r=Math.floor(Math.random()*e.rollRange),o=n.skills[t].level*e.skillMultiplier,i=r+o;return xi.log(`[SKILL CHECK] Roll: ${i}. (Base roll: ${r}, modifier: ${o} - Skill level: ${n.skills[t].level})`),{roll:i,unmodifiedRoll:r}}function UX(t){const{skills:e,skillChecks:n}=jt();let r=!0;const{roll:o}=WX(t.skill);o<=n.failureChance-1&&(r=!1);const i=e[t.skill];return o<t.value&&(r=!1),xi.log(`[SKILL CHECK ${i.name}]: ${r?"\u2705":"\u274C"}`,`(${t.id}) - ${o}/${t.value}`),Ph(r?"onSkillCheckSuccess":"onSkillCheckFailure"),r}function NI(t){const e=$r(),n=e.getSkillCheck(t.id);if(n&&n.happened)return n;const r=UX(t);return DI(HX(r,t)),r?e.passSkillCheck(t.id,t.hideAfterRoll):e.failSkillCheck(t.id,t.hideAfterRoll),e.getSkillCheck(t.id)}function JX(t){const e=t.options,n=t.staticOptions,r=!!e.condition;if(xi.log(r),r)return n.success;if(!r&&n.failure)return n.failure}function LI(t){return typeof t=="object"}function RI(t){return typeof t=="string"&&t.search(/\$/)===0}function DI(t){const e={speaker:"game",text:t,interactive:!1};bo().addDialog(e)}async function I1(t){bo().addDialog(t)}function KX(t,e){if(e<t.length)return t[e]}class GX{constructor(){Vo(this,"plugins",[]);Vo(this,"commands",{})}addCommand(e){this.commands[e.keyword]=e}addPlugin(e){if(this.plugins.push(e),e.customCommands)for(const n of e.customCommands)this.addCommand(n)}callHook(e,...n){for(const r of this.plugins)typeof r[e]=="function"&&r[e](...n)}}const Br=new GX;async function BI(t,e){var r;const n=yn();try{return await N1(t,e)}catch(o){console.error(o),console.error(t),Wn(`Narrat script runtime error at  <span class="error-filename">${t.fileName}:${t.line+1}</span>
      <b>${o}</b>
      Script: ${t.code}
      Label: ${((r=n.currentFrame)==null?void 0:r.label)||"none"}`)}}async function QX(t,e){const n=t.command,r=Br.commands[n.commandType];if(r){const o={args:[],options:{},operator:n.operator,staticOptions:n.staticOptions,code:t.code,commandType:n.commandType,fileName:t.fileName,line:t.line},i=r.argTypes;o.options={};for(const[s,a]of n.args.entries()){let u;if(LI(a))u=await N1(a,e);else if(typeof a=="string")if(a.search(MI)===0)u=a.substring(3);else if(RI(a)){const l=ol(),f=zX(l,a.substring(1));if(f){const[c,d]=f;u=c[d]}else u=a}else u=a;else u=a;if(o.args.push(u),Array.isArray(i)&&i.length>s){const l=i[s];u!==null&&(o.options[l.name]=u)}}return o}else throw new Error(`${n.commandType} is not a valid command`)}async function N1(t,e){const n=await QX(t,e),r=Br.commands[n.commandType];if(r)return await r.run(n,e);throw new Error(`${n.commandType} is not a valid command`)}async function YX(t){Ph("onPlayerAnswered");const e=yn(),n=e.popAnswerQueue(),r=e.currentLine;try{if(n){const o=Br.commands[n.commandType];if(o)return await o.processPlayerAnswer(n,t)}}catch(o){console.error(o),Wn(`Error after player answer at ${r.fileName}:${r.line+1} (${r.code}<br /> - Error: ${o}`)}}const il=Pi("rendering",{state:()=>({screenHeight:window.innerHeight,screenWidth:window.innerWidth,canvasWidth:window.innerWidth,canvasHeight:window.innerHeight,renderRatio:1,topOffset:0,leftOffset:0,layoutMode:"horizontal"}),actions:{updateScreenSize(t,e,n){this.screenHeight=e,this.screenWidth=t,this.renderRatio=1,this.topOffset=0,this.leftOffset=0,t<jt().layout.verticalLayoutThreshold?this.layoutMode="vertical":this.layoutMode="horizontal"}}}),On=Pi("main",{state:()=>({ready:!1,playing:!1,errors:[],playTime:{start:0,previousPlaytime:0},saveSlot:0,options:{logging:!1,debug:!1},flowState:"menu",modal:!1,paused:!1}),actions:{async setup(t,e){var a;Vr().setMasterVolume((a=e.audioOptions.volume)!=null?a:1),e.audioOptions.defaultMusic&&Vr().playChannel("music",e.audioOptions.defaultMusic,0),await yn().loadScripts(t),Gi().setButtons(e),$r().setupSkills(e.skills),bs().setupHudStats(e.hudStats),Rr().setupItems(e.items),uo().setupQuests(e.quests)},startMachine(){Vr().stopAll(),Ph("onPressStart"),yn().start(),this.ready=!0,this.startPlaying(),Br.callHook("onGameStart"),this.setFlowState("playing")},setSaveSlot(t){this.saveSlot=t,fX(t)},async startGame(t){this.setSaveSlot(t),this.startMachine(),await this.saveGame(),yn().runGame()},async loadGame(t,e){this.setSaveSlot(e),this.startMachine(),t&&(this.setLoadedData(t),Vr().reloadAudio(t.audio),yn().jumpToLabel(t.vm.lastLabel))},playerAnswered(t){YX(t)},menuReturn(){this.reset(),this.setFlowState("menu"),jt().audioOptions.defaultMusic&&Vr().playChannel("music",jt().audioOptions.defaultMusic,0)},createError(t){this.errors.push({text:t})},clearErrors(){this.errors=[]},setFlowState(t){this.flowState=t},openModal(t){this.modal=t},closeModal(){this.modal=!1},toggleMenu(){this.modal?this.modal=!1:this.modal="menu"},pause(){this.paused=!0},unpause(){this.paused=!1},setOptions(t){this.options=t},startPlaying(){this.playing=!0,this.playTime.start=Date.now()},reset(){this.ready=!1,this.errors=[],this.modal=!1,this.paused=!1,yn().reset(),Vr().reset(),this.playing=!1,this.ready=!0},generateSaveData(){return{playTime:b0(this.playTime.start,this.playTime.previousPlaytime)}},loadSaveData(t){this.playTime.previousPlaytime=t.playTime},saveGame(){const t=Gi(),e=$r(),n=bo(),r=yn(),o=On(),i=bs(),s=Vr(),a=Rr(),u={version:jI,screen:t.generateSaveData(),skills:e.generateSaveData(),dialog:n.generateSaveData(),vm:r.generateSaveData(),main:o.generateSaveData(),hud:i.generateSaveData(),audio:s.generateSaveData(),inventory:a.generateSaveData(),quests:uo().generateSaveData(),metadata:{saveDate:new Date().toISOString()}};cX(u,this.saveSlot)},setLoadedData(t){const e=Gi(),n=$r(),r=bo(),o=yn(),i=On(),s=bs(),a=Vr(),u=Rr();e.loadSaveData(t.screen),n.loadSaveData(t.skills),r.loadSaveData(t.dialog),o.loadSaveData(t.vm),i.loadSaveData(t.main),s.loadSaveData(t.hud),a.loadSaveData(t.audio),u.loadSaveData(t.inventory),uo().loadSaveData(t.quests)},getAllStates(){return{main:this,screens:Gi(),skills:$r(),dialog:bo(),vm:yn(),hud:bs(),audio:Vr(),rendering:il(),notifications:Xo(),inventory:Rr(),quests:uo()}},overrideStates(t){const e=this.getAllStates();for(const n in t){const r=t[n];Object.assign(e[n],r)}}},getters:{isInGame(t){return t.flowState==="playing"}}});function XX(t,e,n){console.error(`Parser error: ${t.fileName}:${t.currentLine}`,n);const r=`[Parser Error] in <span class="error-filename">${t.fileName}:${e+1}</span> - <b>${n}</b>`;Wn(r)}function Wn(t,...e){const n=On();console.error(t,...e),t=t.replace(/[\r\n]/g,`
<br />`),n.createError(`\u274C ${t}`)}const $r=Pi("skills",{state:()=>({skillChecks:{},skills:{}}),actions:{setupSkillCheck(t,e){this.skillChecks[e]=t},passSkillCheck(t,e){this.skillChecks[t].happened=!0,this.skillChecks[t].succeeded=!0,e&&(this.skillChecks[t].hidden=!0)},failSkillCheck(t,e){this.skillChecks[t].happened=!0,this.skillChecks[t].succeeded=!1,e&&(this.skillChecks[t].hidden=!0)},generateSaveData(){return{skillChecks:this.skillChecks,skills:this.skills}},getSkillCheck(t){return this.skillChecks[t]||this.setupSkillCheck(this.createSkillCheckState(),t),this.skillChecks[t]},createSkillCheckState(){return{happened:!1,succeeded:!1,hidden:!1}},loadSaveData(t){this.skillChecks=Mh(this.skillChecks,t.skillChecks),this.skills=Mh(this.skills,t.skills)},setupSkills(t){for(const e in t)this.skills[e]={id:e,level:t[e].startingLevel||0,xp:0}},getSkill(t){return this.skills[t]},getSkillLevel(t){return this.getSkill(t).level},getSkillXp(t){return this.getSkill(t).xp},addXp(t,e){const n=this.getSkill(t);n||Wn(`Skill ${t} doesn't exist`),n.xp+=e,n.xp>=jt().skillOptions.xpPerLevel&&(n.xp=0,n.level++,this.levelledUp(t))},setSkillLevel(t,e){const n=this.getSkill(t);n||Wn(`Skill ${t} doesn't exist`),n.level=e,this.levelledUp(t)},incrementSkill(t,e){this.getSkill(t).level+=e,this.levelledUp(t)},levelledUp(t){const e=jt().skills[t].name,n=this.skills[t].level;jt().skillOptions.notifyLevelUp&&Xo().addNotification(`Your skill in ${e} is now level ${n}`)}}});let Z5;const ZX=kr({components:{Modal:cl},setup(){const t=$r(),e=_n(()=>t.skills),n=_n(()=>t.skillChecks);return{skills:e,skillChecks:n}},data(){return{showDebug:!1,jumping:!1,searchString:"",matches:[],matchCursor:0}},mounted(){window.addEventListener("keydown",t=>{if(this.jumping||(t.key==="d"&&this.toggle(),t.key==="j"&&this.jump()),t.key==="ArrowDown"&&(t.preventDefault(),this.matches.length>this.matchCursor+1?this.matchCursor+=1:this.matchCursor=0),t.key==="ArrowUp"&&(t.preventDefault(),this.matchCursor>0?this.matchCursor-=1:this.matchCursor=this.matches.length-1),t.key==="Escape"&&(this.finishJumping(),this.showDebug=!1),this.jumping&&t.key==="Enter"&&this.matchCursor<this.matches.length){const e=this.matches[this.matchCursor];yn().jumpToLabel(e),this.finishJumping()}})},methods:{finishJumping(){this.jumping=!1,this.matches=[],this.searchString=""},labelSelected(t){const e=t.target.value;yn().jumpToLabel(e),this.close()},close(){this.showDebug=!1},closeErrors(){On().clearErrors()},open(){this.showDebug=!0;const t=yn(),e=On(),n=uo(),r=Rr(),o=$r();this.$nextTick(()=>{new z5({target:this.$refs.variablesViewer,props:{content:{text:void 0,json:{data:this.variables,quests:n.quests,items:r.items,skills:o.skills,skillChecks:o.skillChecks}},onChange:i=>{t.overrideData(i.json.data),n.quests=i.json.quests,r.items=i.json.items,o.skills=i.json.skills,o.skillChecks=i.json.skillChecks}}}),new z5({target:this.$refs.stateViewer,props:{content:{text:void 0,json:e.getAllStates()},onChange:i=>{e.overrideStates(i.json)}}})})},toggle(){this.showDebug?this.showDebug=!1:this.jumping?this.finishJumping():this.open()},jump(){Z5=new fl(this.labels,{includeScore:!0}),this.jumping=!0,setTimeout(()=>{this.$nextTick(()=>{this.$refs.search.focus()})},10),this.matchCursor=0,this.matches=this.labels},getMatchResultStyle(t){if(t===this.matchCursor)return{background:"var(--light-background)"}},onSearchInput(){const t=this.searchString;console.log(t);const e=Z5.search(t);this.matches=e.map(n=>n.item),this.matches.length>0&&this.matchCursor>this.matches.length-1&&(this.matchCursor=this.matches.length-1)},save(){On().saveGame()},wordCount(){const e=Object.values(this.script).reduce((n,r)=>(xi.log(n),n+this.countWordsInScriptBranch(r.branch)),0);alert(`You have ${e} words`)},countWordsInScriptLine(t){if(t.command.commandType==="talk"&&typeof t.command.args[2]=="string")return this.countWordsInString(t.command.args[2]);if(t.command.commandType==="text")return this.countWordsInString(t.code);if(t.command.commandType==="choice"){const e=t.command.staticOptions;let n=this.countWordsInScriptLine(e.prompt);return n+=e.choices.reduce((o,i)=>o+this.countWordsInString(i.prompt.code),0),e.choices.reduce((o,i)=>i.branch?o+this.countWordsInScriptBranch(i.branch):o,n)}if(t.command.commandType==="if"){const e=t.command.staticOptions;return[e.success,e.failure].reduce((r,o)=>o?r+this.countWordsInScriptBranch(o):r,0)}return 0},countWordsInString(t){return t.split(" ").length},countWordsInScriptBranch(t){return t.reduce((e,n)=>n?e+this.countWordsInScriptLine(n):e,0)},getPlayTimeString(){const t=b0(this.playTime.start,this.playTime.previousPlaytime);return w0(t/1e3)}},computed:{...is(yn,["script","data"]),...is(On,["playTime","errors","playing","flowState"]),labels(){const t=this.script;return Object.keys(t).sort()},variables(){return this.data}}}),eZ={class:"debug-menu"},tZ={key:0,class:"debug-info"},nZ=ze("h3",null,"Debug mode is ON",-1),rZ=ze("ul",null,[ze("li",null,[ze("b",null,"j"),ws(": Quick Label Jump")]),ze("li",null,[ze("b",null,"d"),ws(": Debug Menu")]),ze("li",null,[ze("b",null,"Escape"),ws(": Toggle Menu")])],-1),oZ=[nZ,rZ],iZ=ze("h3",{class:"title"},"Jump to label",-1),sZ={key:0,class:"search-results"},aZ={key:1},uZ=ze("h3",null,"No matches found",-1),lZ=[uZ],cZ=ze("h3",{class:"title"},"Error(s)",-1),fZ=ws(" There are errors in your dialogue scripts. Open the developer console for more details. "),dZ=["innerHTML"],hZ=ze("h3",{class:"title"},"Debug Menu!",-1),pZ={class:"container"},vZ=ws(" Hello this is the debug menu. "),mZ=ze("option",{class:"option",selected:"",disabled:""},"Jump to a label",-1),gZ=["value"],yZ={class:"grid grid-cols-3 gap-4"},bZ=ze("h2",null,"Variables Editor",-1),wZ={ref:"variablesViewer"},kZ=ze("h2",null,"Skill Checks",-1),xZ={class:"table-auto"},jZ=ze("thead",null,[ze("tr",null,[ze("th",null,"Skill Check"),ze("th",null,"Happened"),ze("th",null,"Succeeded")])],-1),_Z=ze("h2",null,"App State editor (entire app and engine",-1),SZ=ze("h3",{style:{color:"pink"}}," Use for debugging, editing some of those things can cause issues ",-1),CZ={ref:"stateViewer"};function $Z(t,e,n,r,o,i){const s=jr("modal");return Ye(),ft("div",eZ,[ze("button",{onClick:e[0]||(e[0]=(...a)=>t.open&&t.open(...a)),class:"button debug-button"},"Debug Menu"),!t.playing&&t.flowState==="menu"?(Ye(),ft("div",tZ,oZ)):fr("",!0),t.jumping?(Ye(),nr(s,{key:1,onClose:t.finishJumping,containerCssClass:"jump-menu-container"},{header:cr(()=>[iZ]),body:cr(()=>[p0(ze("input",{type:"text",class:"label-input input",ref:"search","onUpdate:modelValue":e[1]||(e[1]=a=>t.searchString=a),onInput:e[2]||(e[2]=(...a)=>t.onSearchInput&&t.onSearchInput(...a))},null,544),[[y0,t.searchString]]),t.matches.length>0?(Ye(),ft("div",sZ,[(Ye(!0),ft(An,null,Lr(t.matches,(a,u)=>(Ye(),ft("div",{class:"search-result",style:Qn(t.getMatchResultStyle(u)),key:u},fn(a),5))),128))])):(Ye(),ft("div",aZ,lZ))]),_:1},8,["onClose"])):fr("",!0),t.errors.length>0?(Ye(),nr(s,{key:2,onClose:t.closeErrors,containerCssClass:"debug-menu-container"},{header:cr(()=>[cZ]),body:cr(()=>[fZ,ze("ul",null,[(Ye(!0),ft(An,null,Lr(t.errors,(a,u)=>(Ye(),ft("li",{key:u,class:"error-message list-disc",innerHTML:a.text},null,8,dZ))),128))])]),_:1},8,["onClose"])):fr("",!0),t.showDebug?(Ye(),nr(s,{key:3,onClose:t.close,containerCssClass:"debug-menu-container"},{header:cr(()=>[hZ]),body:cr(()=>[ze("div",pZ,[vZ,ze("select",{class:"select",name:"label-selector",onChange:e[3]||(e[3]=a=>t.labelSelected(a))},[mZ,(Ye(!0),ft(An,null,Lr(t.labels,a=>(Ye(),ft("option",{class:"option",value:a,key:a},fn(a),9,gZ))),128))],32),ze("div",yZ,[ze("button",{onClick:e[4]||(e[4]=(...a)=>t.wordCount&&t.wordCount(...a)),class:"button"},"Word Count"),ze("button",{onClick:e[5]||(e[5]=(...a)=>t.save&&t.save(...a)),class:"button"},"Save Game")]),ze("h3",null,"Play time: "+fn(t.getPlayTimeString()),1),bZ,ze("div",wZ,null,512),kZ,ze("table",xZ,[jZ,ze("tbody",null,[(Ye(!0),ft(An,null,Lr(t.skillChecks,(a,u)=>(Ye(),ft("tr",{key:u},[ze("td",null,fn(u),1),ze("td",null,fn(a.happened?"\u2705":"\u274C"),1),ze("td",null,fn(a.happened?a.succeeded?"\u2705":"\u274C":"NA"),1)]))),128))])]),_Z,SZ,ze("div",CZ,null,512)])]),_:1},8,["onClose"])):fr("",!0)])}const OZ=xo(ZX,[["render",$Z]]),AZ=kr({data(){return{}},methods:{getStatImage(t){return Hc(this.statsConfig[t].icon)}},computed:{...is(bs,["hudStats"]),...is(il,["layoutMode"]),statsConfig(){return jt().hudStats},stats(){return this.hudStats},hudStyle(){let t="0";return this.layoutMode==="horizontal"&&(t=`${jt().layout.minTextWidth}px`),{right:t}}}}),EZ=["src"],PZ={class:"bold hud-text"},TZ=ws(": ");function MZ(t,e,n,r,o,i){return Ye(),ft("div",{class:"hud",style:Qn(t.hudStyle)},[(Ye(!0),ft(An,null,Lr(t.stats,(s,a)=>(Ye(),ft("div",{key:a,class:"hud-stat"},[ze("img",{class:"hud-icon",src:t.getStatImage(a)},null,8,EZ),ze("span",PZ,fn(t.statsConfig[a].name),1),TZ,ze("span",null,fn(Math.floor(s.value*100)/100),1)]))),128))],4)}const IZ=xo(AZ,[["render",MZ]]),NZ=kr({props:{percentage:Number,step:String},methods:{loadingStyle(){return{width:`${this.percentage*40}vw`}}},computed:{}}),LZ={id:"loading-bar"},RZ={id:"loading-text"};function DZ(t,e,n,r,o,i){return Ye(),ft("div",LZ,[ze("div",{id:"inner-loading-bar",style:Qn(t.loadingStyle())},null,4),ze("div",RZ,[ze("h3",null,"Loading "+fn(Math.floor(t.percentage*100))+"% - "+fn(t.step),1)])])}const BZ=xo(NZ,[["render",DZ]]),zZ=kr({data(){},methods:{},computed:{...is(Xo,["notifications"])}}),FZ=["innerHTML"];function qZ(t,e,n,r,o,i){return Ye(),nr(cO,{name:"notification",tag:"div",class:"notifications-holder"},{default:cr(()=>[(Ye(!0),ft(An,null,Lr(t.notifications,(s,a)=>(Ye(),ft("div",{class:"notification",key:a},[ze("h3",{innerHTML:s.text},null,8,FZ)]))),128))]),_:1})}const VZ=xo(zZ,[["render",qZ]]);let L1;function HZ(t){L1=t}function R1(t){return L1.characters[t]}function WZ(t,e){const n=R1(t);if(e||(e="default"),n.sprites)return`${L1.config.imagesPath}${n.sprites[e]}`}function cd(t){return t?R1(t).style||{}:{}}function UZ(t,e,n,r){const o=t/n,i=e/r;return Math.min(o,i)}let e$=0,t$=0;function JZ(t){return xi.log("Loading images"),new Promise((e,n)=>{if(Object.keys(t.images).length<1){e();return}for(const r in t.images){const o=t.images[r];KZ(r,o,e,n)}})}function KZ(t,e,n,r){e$++,xi.log(`Loading image ${t} at ${e}`);const o=new Image;o.onload=()=>{t$+=1,xi.log(`Loaded image ${t} successfully`),t$>=e$&&(xi.log("All images loaded"),n())},o.onerror=i=>{Wn(`Failed to load image ${t} at ${e}`,i),r(i)},o.src=e}function zI(t,e=50,n={}){var c,d;let r;const o=(c=n.isImmediate)!=null?c:!1,i=(d=n.callback)!=null?d:!1,s=n.maxWait;let a=Date.now(),u=[];function l(){if(console.log("wait: ",e),s!==void 0){const h=Date.now()-a;if(h+e>=s)return s-h}return e}const f=function(...h){const p=this;return new Promise((v,g)=>{const m=function(){if(r=void 0,a=Date.now(),!o){const w=t.apply(p,h);i&&i(w),u.forEach(({resolve:k})=>k(w)),u=[]}};console.log("should call now? ",o,r);const y=o&&r===void 0;r!==void 0&&(console.log("clearing timeout"),clearTimeout(r));const b=l();if(console.log(`nextInvoke: ${b}`),r=setTimeout(m,b),y){console.log("calling");const w=t.apply(p,h);return i&&i(w),v(w)}u.push({resolve:v,reject:g})})};return f.cancel=function(h){r!==void 0&&clearTimeout(r),u.forEach(({reject:p})=>p(h)),u=[]},f}const GZ=kr({data(){return{muted:!1,volumes:[],modeNames:{master:"Master volume:",music:"Music:",ambiant:"Ambiant:",sound:"Sound effects:"}}},mounted(){const t=Vr(),e=ia.Howler.volume();this.volumes.push({mode:"master",volume:e}),t.modes.forEach((n,r)=>{this.volumes.push({mode:r,volume:t.modes.get(r).options.volume})})},methods:{changeVolume(t,e){const n=e.target;t==="master"?Vr().setMasterVolume(n.value):Vr().setModeVolume(t,n.value)},toggleMute(){this.muted?(ia.Howler.mute(!1),this.muted=!1):(ia.Howler.mute(!0),this.muted=!0)}}}),QZ={class:"volume-controls"},YZ=ze("h3",{class:"subtitle"},"Volume",-1),XZ={for:"volume",class:"volume-label"},ZZ=["onUpdate:modelValue","onChange"];function eee(t,e,n,r,o,i){return Ye(),ft("div",QZ,[YZ,(Ye(!0),ft(An,null,Lr(t.volumes,(s,a)=>(Ye(),ft("div",{class:"volume-control",key:s.mode},[ze("label",XZ,fn(t.modeNames[s.mode]),1),p0(ze("input",{ref_for:!0,ref:"slider",class:"volume-slider",type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1","onUpdate:modelValue":u=>t.volumes[a].volume=u,onChange:u=>t.changeVolume(s.mode,u)},null,40,ZZ),[[y0,t.volumes[a].volume]])]))),128))])}const tee=xo(GZ,[["render",eee]]),nee=kr({components:{Modal:cl,VolumeControls:tee},data(){return{}},mounted(){},methods:{quit(){window.close()},mainMenu(){On().menuReturn(),this.closeMenu()},closeMenu(){this.$emit("close")},getPlayTimeString(){const t=b0(this.playTime.start,this.playTime.previousPlaytime);return w0(t/1e3)}},computed:{...is(On,["playTime"])}}),ree=ze("h3",{class:"title"},"Menu",-1),oee={class:"menu-content"};function iee(t,e,n,r,o,i){const s=jr("VolumeControls"),a=jr("modal");return Ye(),nr(a,{class:"menu",onClose:e[2]||(e[2]=u=>t.$emit("close")),containerCssClass:"main-menu-modal"},{header:cr(()=>[ree]),body:cr(()=>[ze("div",oee,[ze("h3",null,"Play time: "+fn(t.getPlayTimeString()),1),rr(s),ze("button",{class:"button title quit-button",onClick:e[0]||(e[0]=(...u)=>t.mainMenu&&t.mainMenu(...u))}," Main Menu "),ze("button",{class:"button title quit-button",onClick:e[1]||(e[1]=(...u)=>t.quit&&t.quit(...u))},"Exit")])]),_:1})}const see=xo(nee,[["render",iee]]),aee=kr({setup(){const t=$r();return{skills:_n(()=>t.skills)}},components:{Modal:cl},data(){return{chosenSkill:!1}},mounted(){},methods:{getSkillStyle(t){return{backgroundImage:`url(${this.skillConf[t].icon})`}},getSkillName(t){return this.skillConf[t].name},clickSkill(t){this.chosenSkill=t},closeSkill(){this.chosenSkill=!1},xpBarWidth(t){return{width:`${Math.floor(t/this.xpPerLevel*100)}%`}}},computed:{skillsToDisplay(){const t={};for(const e in this.skills)this.skillConf[e].hidden&&this.skills[e].level<1||(t[e]=this.skills[e]);return t},skillConf(){return jt().skills},xpPerLevel(){return jt().skillOptions.xpPerLevel}}}),uee=ze("h3",{class:"title"},"Skills",-1),lee={key:0,class:"skills-container"},cee=["onClick"],fee={class:"skill-title"},dee={class:"skill-xp-container"},hee={class:"skill-xp-text"},pee={class:"skill-level"},vee={key:1},mee={class:"flex flex-row skill-description-container"},gee={class:"flex skill-left"},yee={class:"flex skill-right"},bee=ze("hr",{class:"hr-solid"},null,-1);function wee(t,e,n,r,o,i){const s=jr("modal");return Ye(),nr(s,{class:"menu",onClose:e[1]||(e[1]=a=>t.$emit("close")),containerCssClass:"skills-modal"},{header:cr(()=>[uee]),body:cr(()=>[t.chosenSkill?typeof t.chosenSkill=="string"?(Ye(),ft("div",vee,[ze("div",mee,[ze("div",gee,[ze("div",{class:"skill-display",style:Qn(t.getSkillStyle(t.chosenSkill))},null,4)]),ze("div",yee,[ze("h2",null,fn(t.getSkillName(t.chosenSkill)),1),bee,ze("h3",null,"Level: "+fn(t.skills[t.chosenSkill].level),1),ze("p",null,fn(t.skillConf[t.chosenSkill].description),1)])]),ze("button",{class:"button",onClick:e[0]||(e[0]=(...a)=>t.closeSkill&&t.closeSkill(...a))},fn("<--"))])):fr("",!0):(Ye(),ft("div",lee,[(Ye(!0),ft(An,null,Lr(t.skillsToDisplay,a=>(Ye(),ft("button",{onClick:()=>t.clickSkill(a.id),class:"skill-display",style:Qn(t.getSkillStyle(a.id)),key:a.id},[ze("h3",fee,fn(t.getSkillName(a.id)),1),ze("div",dee,[ze("div",{class:"skill-xp-bar",style:Qn(t.xpBarWidth(a.xp))},null,4),ze("h3",hee,fn(a.xp)+" / "+fn(t.xpPerLevel)+" XP",1)]),ze("h3",pee,fn(a.level),1)],12,cee))),128))]))]),_:1})}const kee=xo(aee,[["render",wee]]),xee=kr({setup(){const t=Rr(),e=bo(),n=_n(()=>t.items),r=_n(()=>e.currentDialog.choices);return{items:n,currentlyChoosing:r}},components:{Modal:cl},data(){return{chosenId:!1}},mounted(){},methods:{close(){this.$emit("close")},getItemStyle(t){return{backgroundImage:`url(${this.itemConf[t].icon})`}},getItemName(t){return this.itemConf[t].name},getItemConf(t){return this.itemConf[t]},clickItem(t){this.chosenId=t},closeItem(){this.chosenId=!1},useItem(){if(this.chosenItem&&this.canUseChosenItem&&this.chosenItemConf){const t=this.chosenItemConf.onUse;this.close(),t.action==="jump"?yn().jumpToLabel(t.label):t.action==="run"?yn().runThenGoBackToPreviousDialog(t.label,!0):Wn(`Unknown action ${t.action}`)}},canUseItem(t){const e=this.itemConf[t.id];return!!(e&&e.onUse&&!Rr().isInteractionTagBlocked(e.tag)&&!this.currentlyChoosing)}},computed:{itemsToDisplay(){const t={};for(const e in this.items)this.items[e].amount>0&&(t[e]=this.items[e]);return t},chosenItem(){return this.chosenId?this.items[this.chosenId]:null},canUseChosenItem(){return this.canUseItem(this.chosenItem)},chosenItemConf(){return this.chosenId?this.itemConf[this.chosenId]:null},itemConf(){return jt().items}}}),jee=ze("h3",{class:"title"},"Inventory",-1),_ee={key:0,class:"inventory-container"},See=["onClick"],Cee={class:"item-title"},$ee={class:"item-amount"},Oee={key:1},Aee={class:"flex flex-row item-description-container"},Eee={class:"flex item-left"},Pee={class:"flex item-right"},Tee=ze("hr",{class:"hr-solid"},null,-1),Mee={key:2},Iee=ze("h2",null,"The inventory is empty!",-1),Nee=[Iee];function Lee(t,e,n,r,o,i){const s=jr("modal");return Ye(),nr(s,{class:"menu",onClose:t.close,containerCssClass:"inventory-modal"},{header:cr(()=>[jee]),body:cr(()=>[!t.chosenItem&&Object.keys(t.itemsToDisplay).length>0?(Ye(),ft("div",_ee,[(Ye(!0),ft(An,null,Lr(t.itemsToDisplay,a=>(Ye(),ft("button",{onClick:()=>t.clickItem(a.id),class:"item-display",style:Qn(t.getItemStyle(a.id)),key:a.id},[ze("h3",Cee,fn(t.getItemName(a.id)),1),ze("h3",$ee,fn(a.amount),1)],12,See))),128))])):typeof t.chosenId=="string"?(Ye(),ft("div",Oee,[ze("div",Aee,[ze("div",Eee,[ze("div",{class:"item-display",style:Qn(t.getItemStyle(t.chosenId))},null,4)]),ze("div",Pee,[ze("h2",null,fn(t.getItemName(t.chosenId)),1),Tee,ze("h3",null,"Amount: "+fn(t.chosenItem.amount),1),ze("p",null,fn(t.chosenItemConf.description),1),ze("button",{onClick:e[0]||(e[0]=(...a)=>t.useItem&&t.useItem(...a)),class:xs(["button",t.canUseChosenItem?"":"disabled"])}," Use ",2)])]),ze("button",{class:"button",onClick:e[1]||(e[1]=(...a)=>t.closeItem&&t.closeItem(...a))},fn("<--"))])):(Ye(),ft("div",Mee,Nee))]),_:1},8,["onClose"])}const Ree=xo(xee,[["render",Lee]]),Dee=kr({props:{pictureUrl:String},computed:{...is(il,["layoutMode"]),boxStyle(){const t=jt().layout;let e=0,n=0;return this.layoutMode==="vertical"?(e="50%",n=`${t.mobileDialogHeightPercentage-5}%`):(e=`${t.minTextWidth-10}px`,n="20%"),{right:e,bottom:n,width:`${t.portraits.width}px`,height:`${t.portraits.height}px`}}}}),Bee=["src"];function zee(t,e,n,r,o,i){return Ye(),ft("div",{class:"dialog-picture override",style:Qn(t.boxStyle)},[ze("img",{src:t.pictureUrl,class:"picture override"},null,8,Bee)],4)}const Fee=xo(Dee,[["render",zee]]);class qee{constructor(){Vo(this,"listeners",{})}on(e,n){return this.listeners[e]||this.addEventToMap(e),this.listeners[e].add(n),n}off(e,n){return this.listeners[e]&&this.listeners[e].delete(n),n}once(e,n){const r=(...o)=>{this.off(e,r),n(...o)};return this.on(e,r)}emit(e,...n){this.listeners[e]&&this.listeners[e].forEach(r=>r(...n))}clear(){Object.keys(this.listeners).forEach(e=>{delete this.listeners[e]})}addEventToMap(e){this.listeners[e]=new Set}}class Vee extends qee{setup(e=!1){const r=e?"keydown":"keyup",o=zI(i=>{Uc.emit("debouncedKeydown",i)},10,{isImmediate:!0,maxWait:10});document.addEventListener("keydown",i=>{Uc.emit("keydown",i)}),document.addEventListener(r,i=>{o(i)})}}const Uc=new Vee,Hee=kr({data(){return{playerText:"",passed:!1,listener:null,timeout:null}},props:{options:{type:Object,required:!0},active:Boolean},mounted(){if(this.canInteract){const t=e=>{if(this.canInteract&&this.options.textField&&e.key==="Enter"&&this.submitText(),this.canInteract&&!this.options.textField){let n=-1;if(e.key===" ")n=0;else switch(e.key){case" ":n=0;break;case"1":n=0;break;case"2":n=1;break;case"3":n=2;break;case"4":n=3;break;case"5":n=4;break;case"6":n=5;break;case"7":n=6;break;case"8":n=7;break}n!==-1&&(this.choices&&n<this.choices.length?this.chooseOption(this.choices[n]):this.chooseOption(n))}};this.listener=Uc.on("debouncedKeydown",t),this.timeout=setTimeout(()=>{this.options.textField&&this.$refs.playerInput.focus()},10)}},unmounted(){this.clearListeners()},computed:{...is(On,["paused"]),preText(){return this.options.title?" &nbsp;\u2013&nbsp; ":""},style(){return cd(this.options.styleId)},dialogBoxStyle(){const t=cd(this.options.styleId),e={opacity:this.options.old?"0.7":"1"};return this.options.title||(e.marginTop="-20px"),{...t.boxCss,...e}},titleStyle(){const t=cd(this.options.styleId);return{color:t.color,...t.nameCss}},textStyle(){return cd(this.options.styleId).textCss},choices(){if(this.options.choices)return this.options.choices},canInteract(){return this.active&&!this.passed&&this.options.interactive&&!this.paused}},methods:{clearListeners(){this.listener&&(Uc.off("keydown",this.listener),this.listener=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},chooseOption(t){this.finishLine();let e;typeof t=="object"?e=t.originalIndex:e=t,On().playerAnswered(e)},finishLine(){this.clearListeners(),this.passed=!0},dialogStyle(t){const e={};return t.allowed||(e.pointerEvents="none",e.textDecoration="line-through"),e},dialogClass(t){if(!t.allowed)return"strike-anim"},submitText(){const t=this.playerText;On().playerAnswered(t)}}}),Wee={class:"dialog-content"},Uee=["innerHTML"],Jee=["innerHTML"],Kee=["innerHTML"],Gee={key:1,class:"dialog-choices"},Qee=["onClick","innerHTML"],Yee={key:2},Xee={key:3,class:"buttons-container"};function Zee(t,e,n,r,o,i){return Ye(),ft("div",{class:"dialog-box w-full override",style:Qn(t.dialogBoxStyle)},[ze("div",Wee,[t.options.title?(Ye(),ft("span",{key:0,class:"dialog-title override",style:Qn(t.titleStyle),innerHTML:t.options.title},null,12,Uee)):fr("",!0),ze("span",{class:"dialog-text dialog-separator override",style:Qn(t.textStyle),innerHTML:t.preText},null,12,Jee),ze("span",{class:xs(["dialog-text override",t.options.cssClass]),style:Qn(t.textStyle),innerHTML:t.options.text},null,14,Kee),t.canInteract&&t.choices?(Ye(),ft("div",Gee,[(Ye(!0),ft(An,null,Lr(t.choices,(s,a)=>(Ye(),ft("p",{key:a,style:Qn(t.dialogStyle(s)),class:xs([t.dialogClass(s),"dialog-choice override"]),onClick:u=>t.chooseOption(s),innerHTML:`${a+1}. \u2013\xA0 ${s.choice}`},null,14,Qee))),128))])):t.canInteract&&t.options.textField?(Ye(),ft("div",Yee,[p0(ze("input",{type:"text",class:"label-input input",ref:"playerInput",id:"player-input-field","onUpdate:modelValue":e[0]||(e[0]=s=>t.playerText=s)},null,512),[[y0,t.playerText]]),ze("button",{onClick:e[1]||(e[1]=(...s)=>t.submitText&&t.submitText(...s)),class:"button",id:"player-input-submit"}," Submit ")])):t.canInteract?(Ye(),ft("div",Xee,[ze("div",{onClick:e[2]||(e[2]=s=>t.chooseOption(0)),class:"interact-button button override"}," Continue ")])):fr("",!0)])],4)}const ete=xo(Hee,[["render",Zee]]),tte=ze("div",{class:"anchor"},null,-1),nte=kr({__name:"game-dialog",props:{layoutMode:String,inGame:Boolean},setup(t){const e=t,n=yn(),r=_n(()=>n.stack),o=bo(),i=_n(()=>o.dialog),s=Qo(null),a=_n(()=>e.layoutMode==="vertical"?{}:{paddingBottom:`${jt().layout.dialogBottomPadding}px`}),u=_n(()=>{if(i.value.length>0)return i.value[i.value.length-1]}),l=_n(()=>{if(u.value)return WZ(u.value.speaker,u.value.pose)}),f=_n(()=>jt().layout.minTextWidth),c=_n(()=>{let p;const v="100%";return e.layoutMode,{width:e.layoutMode==="horizontal"?`${f.value}px`:"100%",height:v,transform:p,transformOrigin:"right"}});function d(p,v){let m=R1(p.speaker).name;return v>=1&&i.value[v-1].speaker===p.speaker&&(m=void 0),p.choices&&p.choices.forEach(y=>{y.choice=M1(y.choice)}),{title:m!=null?m:"",text:p.text,cssClass:p.cssClass,styleId:p.speaker,choices:p.choices,old:v<i.value.length-1,interactive:p.interactive,textField:p.textField}}function h(p){return p===o.dialog.length-1&&r.value.length>0}return ec(i.value,p=>{if(s.value){const v=s.value;v.scrollTop=v.scrollHeight+1e8}}),(p,v)=>(Ye(),ft(An,null,[rr(Kh,{name:"fade"},{default:cr(()=>[io(l)?(Ye(),nr(Fee,{key:0,pictureUrl:io(l)},null,8,["pictureUrl"])):fr("",!0)]),_:1}),t.inGame?(Ye(),ft("div",{key:0,class:"dialog override",ref_key:"dialogRef",ref:s,style:Qn(io(c))},[rr(cO,{name:"list",tag:"div",class:"dialog-container w-full override",style:Qn(io(a))},{default:cr(()=>[(Ye(!0),ft(An,null,Lr(io(i),(g,m)=>(Ye(),nr(ete,{key:g.id,options:d(g,m),active:h(m)},null,8,["options","active"]))),128))]),_:1},8,["style"]),tte],4)):fr("",!0)],64))}}),rte=kr({setup(){const t=uo();return{quests:_n(()=>t.quests)}},computed:{questsToDisplay(){return K5(this.quests,t=>t.state!=="hidden")}},methods:{close(){this.$emit("close")},getQuestData(t){return Ah(t)},getObjectiveData(t,e){return Jg(t,e)},getDisplayTextForQuestState(t){switch(t.state){case"hidden":return" Hidden";case"unlocked":return"";case"completed":return" (Completed)";default:return" Unknown"}},getQuestDescription(t){return t.ending?t.ending:this.getQuestData(t.id).description},getAvailableObjectives(t){return K5(t.objectives,e=>e.state!=="hidden")}},components:{Modal:cl}}),ote=ze("h3",{class:"title"},"Quests",-1),ite={key:0,class:"quests-container"},ste={class:"quest-title"},ate={class:"quest-description"},ute={key:0,class:"quest-objectives-container list-disc"},lte={key:1,class:"menu-container"},cte=ze("h2",{class:"title"},"There are no quests!",-1),fte=[cte];function dte(t,e,n,r,o,i){const s=jr("modal");return Ye(),nr(s,{class:"quests",onClose:t.close,containerCssClass:"quests-modal"},{header:cr(()=>[ote]),body:cr(()=>[Object.keys(t.questsToDisplay).length>0?(Ye(),ft("div",ite,[(Ye(!0),ft(An,null,Lr(t.questsToDisplay,a=>(Ye(),ft("div",{class:"quest-display",key:a.id},[ze("div",{class:xs(["quest-header",a.state==="completed"?"quest-completed":"quest-in-progress"])},[ze("h3",ste,fn(t.getQuestData(a.id).title)+" "+fn(t.getDisplayTextForQuestState(a)),1)],2),ze("p",ate,fn(t.getQuestDescription(a)),1),a.state!=="completed"?(Ye(),ft("ul",ute,[(Ye(!0),ft(An,null,Lr(t.getAvailableObjectives(a),u=>(Ye(),ft("li",{class:"quest-objective-display",key:u.id},[ze("p",{class:xs(["quest-objective-description",u.state==="completed"?"quest-objective-completed":"quest-objctive-in-progress"])},fn(t.getObjectiveData(a.id,u.id).description),3)]))),128))])):fr("",!0)]))),128))])):(Ye(),ft("div",lte,fte))]),_:1},8,["onClose"])}const hte=xo(rte,[["render",dte]]),pte=kr({data(){return{buttons:[{id:"menu",cssId:"menu-button",text:"Menu"},{id:"skills",cssId:"skills-menu-button",text:"Skills",condition:()=>this.showSkills},{id:"inventory",cssId:"inventory-menu-button",text:"Items",condition:()=>this.showInventory},{id:"quests",cssId:"quests-menu-button",text:"Quests",condition:()=>this.showQuests}],activeMenu:!1}},mounted(){document.addEventListener("keydown",t=>{t.key==="Escape"&&this.toggleMenu()}),Br.callHook("onGameMounted")},unmounted(){Br.callHook("onGameUnmounted")},methods:{buttonClick(t){t.onClick?t.onClick():On().openModal(t.id)},openMenu(){On().openModal("menu")},openSkills(){On().openModal("skills")},openInventory(){On().openModal("inventory")},openQuests(){On().openModal("quests")},closeMenu(){On().closeModal()},toggleMenu(){On().toggleMenu()}},computed:{buttonsToShow(){return this.buttons.map(t=>{const e=jt().menuButtons[t.id]||{};return{...t,...e}}).filter(t=>t.condition?t.condition():!0)},showSkills(){return Object.entries(jt().skills).length>0},showInventory(){return Object.entries(jt().items).length>0},showQuests(){return Object.entries(jt().quests).length>0}}}),vte={class:"menu-container"},mte=["onClick","id"];function gte(t,e,n,r,o,i){return Ye(),ft("div",vte,[(Ye(!0),ft(An,null,Lr(t.buttonsToShow,s=>(Ye(),ft("button",{key:s.id,onClick:a=>t.buttonClick(s),id:s.cssId,class:"button menu-toggle-button"},fn(s.text),9,mte))),128))])}const yte=xo(pte,[["render",gte]]),bte=["id"],wte=["id","onClick"],kte=kr({__name:"screen-layer",props:{layer:String},setup(t){const e=t,n=yn(),r=On(),o=Gi(),i=_n(()=>e.layer),s=_n(()=>o.buttons),a=_n(()=>{const v=jt().screens[i.value];if(!v)throw new Error(`Screen ${i.value} doesn't have a config`);return v}),u=_n(()=>a.value.buttons||[]),l=_n(()=>r.isInGame);function f(v){const m=zl(v).background;if(!!m)return H5(m)}function c(v){const g=zl(v),m=s.value[v],y=g.tag||"default",b=m.state;return b===!0&&Rr().isInteractionTagBlocked(y)?"greyed":b}function d(v){const g=zl(v),m={},y=c(v);g.position.width&&(m.width=`${g.position.width}px`),g.position.height&&(m.height=`${g.position.height}px`),g.background&&(m.backgroundImage=`url(${f(v)})`),y==="greyed"?(m.opacity=.3,m.pointerEvents="none"):(y==="hidden"||y===!1)&&(m.display="none",m.pointerEvents="none");let b=g.position.left,w=g.position.top;return g.anchor&&(b=g.position.left-g.position.width*g.anchor.x,w=g.position.top-g.position.height*g.anchor.y),{...m,left:`${b}px`,top:`${w}px`}}function h(v){const g=zl(v);if(s.value[v].state===!0){const y=g.action;g.actionType==="run"?n.runLabelFunction(y):n.jumpToLabel(y)}}const p=_n(()=>({backgroundImage:`url(${H5(a.value.background)})`}));return(v,g)=>io(l)?(Ye(),ft("div",{key:0,class:"viewport-layer",id:`viewport-layer-${io(i)}`,style:Qn(io(p))},[(Ye(!0),ft(An,null,Lr(io(u),(m,y)=>(Ye(),ft("button",{key:y,class:"viewport-button",id:`viewport-button-${m}`,onClick:b=>h(m),style:Qn(d(m))},fn(io(zl)(m).text),13,wte))),128))],12,bte)):fr("",!0)}}),xte=kr({__name:"screens",setup(t){const e=il(),n=On(),r=Gi(),o=_n(()=>r.layers.filter(f=>f)),i=_n(()=>e.layoutMode),s=_n(()=>jt().layout.backgrounds.width),a=_n(()=>jt().layout.backgrounds.height),u=_n(()=>n.isInGame),l=_n(()=>{const f=`${s.value}px`;let c=`${a.value}px`;return i.value==="vertical"&&(c=`${100-jt().layout.mobileDialogHeightPercentage}%`),{height:c,width:f}});return(f,c)=>io(u)?(Ye(),ft("div",{key:0,class:"viewport",id:"narrat-viewport",style:Qn(io(l))},[(Ye(!0),ft(An,null,Lr(io(o),(d,h)=>(Ye(),nr(kte,{key:h,layer:d},null,8,["layer"]))),128))],4)):fr("",!0)}}),jte=ze("h3",{class:"title"},"Choose a save file",-1),_te={class:"saves-container flex flex-col"},Ste={key:0,class:"empty-save-slot flex flex-row justify-around items-center grow"},Cte=["onClick"],$te=ze("h3",null,"Create a new save slot",-1),Ote=[$te],Ate={key:1,class:"used-save-slot flex flex-row justify-between items-center grow"},Ete={class:"flex flex-col"},Pte={class:"flex flex-col"},Tte={class:"flex flex-row"},Mte=["onClick"],Ite=ze("h3",null,"Load",-1),Nte=[Ite],Lte=["onClick"],Rte=ze("h3",null,"Delete",-1),Dte=[Rte],Bte=kr({__name:"save-slots",emits:["chosen","close"],setup(t,{emit:e}){const n=ll([]);Hh(()=>{_I().slots.forEach((a,u)=>{n[u]=a}),n.push(null)});function r(s){const a={saveData:n[s],slot:s};e("chosen",a)}function o(s){pX(s),n[s]=null}function i(s){return w0(s.main.playTime)}return(s,a)=>(Ye(),nr(cl,{onClose:a[0]||(a[0]=u=>s.$emit("close")),containerCssClass:"save-modal"},{header:cr(()=>[jte]),body:cr(()=>[ze("div",_te,[(Ye(!0),ft(An,null,Lr(n,(u,l)=>(Ye(),ft("div",{class:"save-slot flex flex-row",key:l},[u==null?(Ye(),ft("div",Ste,[ze("button",{class:"button",onClick:f=>r(l)},Ote,8,Cte)])):(Ye(),ft("div",Ate,[ze("div",Ete,[ze("h3",null,"Slot "+fn(l+1),1),ze("div",Pte,[ze("p",null,"Play time: "+fn(i(u)),1),ze("p",null," Last save: "+fn(new Date(u.metadata.saveDate).toLocaleString()),1)])]),ze("div",Tte,[ze("button",{class:"button",onClick:f=>r(l)},Nte,8,Mte),ze("button",{class:"button",onClick:f=>o(l)},Dte,8,Lte)])]))]))),128))])]),_:1}))}}),zte={id:"game-menu",style:{height:"100%",padding:"20px"}},Fte={id:"game-header",class:"flex flex-col justify-between items-center"},qte={id:"game-title-container"},Vte={id:"game-title-text"},Hte={class:"flex flex-col start-menu-buttons-container"},Wte=kr({__name:"StartMenu",setup(t){const e=Qo(!1),n=Qo(null),r=Qo(-1),o=Qo(!1);async function i(){const c=On();r.value===-1&&(r.value=dX()),await c.startGame(r.value)}async function s(){const c=hX(r.value);if(!c){Wn("No save file found");return}On().loadGame(c,r.value)}function a(){typeof n.value=="number"&&(r.value=n.value,s())}function u(){o.value=!0}function l({saveData:c,slot:d}){r.value=d,c?s():i()}Hh(()=>{const c=_I();c.slots.length>0&&(e.value=!0),c.lastSaveSlot&&c.slots.length>c.lastSaveSlot&&c.slots[c.lastSaveSlot]&&(n.value=c.lastSaveSlot)});const f=_n(()=>jt().gameTitle);return(c,d)=>(Ye(),ft("div",zte,[o.value?(Ye(),nr(Bte,{key:0,onChosen:l,onClose:d[0]||(d[0]=h=>o.value=!1)})):fr("",!0),ze("div",Fte,[ze("div",qte,[ze("h1",Vte,fn(io(f)),1)]),ze("div",Hte,[n.value?(Ye(),ft("button",{key:0,class:"button menu-button main-menu-button large continue-button override",onClick:a}," Continue ")):fr("",!0),ze("button",{class:"button menu-button main-menu-button large start-button override",onClick:i}," New Game "),e.value?(Ye(),ft("button",{key:1,class:"button menu-button main-menu-button large continue-button override",onClick:u}," Load Game ")):fr("",!0)])])]))}}),Ute=kr({setup(){const t=bo(),e=yn(),n=On();return{dialog:_n(()=>t.dialog),stack:_n(()=>e.stack),modal:_n(()=>n.modal),flowState:_n(()=>n.flowState)}},$refs:{dialogContainer:HTMLInputElement},inject:["mq"],components:{DebugMenu:OZ,LoadingBar:BZ,NotificationToast:VZ,Hud:IZ,MainMenu:see,Skills:kee,InventoryUi:Ree,GameDialog:nte,QuestsUi:hte,MenuButtons:yte,Screens:xte,StartMenu:Wte},data(){return{lineTitle:"title",lineText:"hello",gameLoaded:!1,loadingStep:"Loading",loadingPercentage:.1}},props:{config:Object,options:Object},async mounted(){Br.callHook("onAppMounted"),this.loadingStep="Characters";const t=await P1(this.config.charactersPath);await HZ(JSON.parse(t)),this.loadingPercentage=.2,this.loadingStep="Data",this.loadingPercentage=.3,this.loadingStep="Images",await JZ(jt()),this.loadingPercentage=.7,this.loadingStep="Audio",await oX(jt()),Br.callHook("onAssetsLoaded"),this.loadingPercentage=.95,this.loadingStep="Starting...",await this.setupMachine(),Br.callHook("onGameSetup"),this.loadingPercentage=.1,this.gameLoaded=!0,window.addEventListener("resize",zI(()=>{this.updateScreenSize()},100,{maxWait:200})),Uc.setup(this.options.debug),setTimeout(()=>{this.updateScreenSize()},50)},computed:{...is(il,["screenWidth","screenHeight","canvasWidth","canvasHeight","topOffset","leftOffset","layoutMode"]),...is(yn,["currentLine"]),backgroundStyle(){let t;return this.layoutMode==="vertical"&&(t=`${100-jt().layout.mobileDialogHeightPercentage}%`),{backgroundColor:"red",height:t}},layoutWidth(){return jt().layout.backgrounds.width},inGame(){return this.flowState==="playing"},layoutHeight(){return jt().layout.backgrounds.height},backgroundSize(){return{width:this.canvasWidth,height:this.canvasHeight,top:this.topOffset,left:this.leftOffset}},gameWidth(){const t=jt();return this.layoutMode==="vertical"?window.innerWidth:t.layout.backgrounds.width+t.layout.minTextWidth},gameHeight(){const t=jt();return this.layoutMode==="vertical"?window.innerHeight:t.layout.backgrounds.height},appStyle(){const t=jt();if(this.screenWidth&&this.screenHeight&&t&&this.layoutMode==="horizontal"){const e=UZ(this.screenWidth,this.screenHeight,this.gameWidth,this.gameHeight);return{transform:`scale(${e}, ${e})`,width:`${this.gameWidth}px`,height:`${this.gameHeight}px`}}return{}},gameStyle(){let t="row";return this.layoutMode==="vertical"&&(t="column"),{flexDirection:t}},screenRatio(){const t=jt(),e=t.layout.minTextWidth+t.layout.backgrounds.width;return this.screenWidth/e}},methods:{async setupMachine(){const t=jt().scripts;return On().setup(t,jt())},updateScreenSize(){il().updateScreenSize(window.innerWidth,window.innerHeight,this.layoutMode==="horizontal"?jt().layout.minTextWidth*this.screenRatio:0)},closeModal(){On().closeModal()}}}),Jte={key:3};function Kte(t,e,n,r,o,i){const s=jr("Hud"),a=jr("MenuButtons"),u=jr("Skills"),l=jr("InventoryUi"),f=jr("QuestsUi"),c=jr("MainMenu"),d=jr("Screens"),h=jr("GameDialog"),p=jr("StartMenu"),v=jr("LoadingBar"),g=jr("DebugMenu"),m=jr("NotificationToast");return Ye(),ft("div",{id:"app",style:Qn(t.appStyle)},[t.inGame?(Ye(),nr(s,{key:0})):fr("",!0),t.inGame?(Ye(),ft("div",{key:1,class:"game",style:Qn(t.gameStyle)},[rr(a,{class:"menu-toggle"}),t.modal==="skills"?(Ye(),nr(u,{key:0,onClose:t.closeModal},null,8,["onClose"])):fr("",!0),t.modal==="inventory"?(Ye(),nr(l,{key:1,onClose:t.closeModal},null,8,["onClose"])):fr("",!0),t.modal==="quests"?(Ye(),nr(f,{key:2,onClose:t.closeModal},null,8,["onClose"])):fr("",!0),t.modal==="menu"?(Ye(),nr(c,{key:3,onClose:t.closeModal},null,8,["onClose"])):fr("",!0),rr(d),rr(h,{inGame:t.inGame,layoutMode:t.layoutMode},null,8,["inGame","layoutMode"])],4)):t.gameLoaded?(Ye(),nr(p,{key:2})):(Ye(),ft("div",Jte,[rr(v,{percentage:t.loadingPercentage,step:t.loadingStep},null,8,["percentage","step"])])),t.options.debug?(Ye(),nr(g,{key:4})):fr("",!0),rr(m)],4)}const Gte=xo(Ute,[["render",Kte]]);function bn(t,e){console.error("Runtime error ========================="),console.error(`Command: ${t.commandType}`),console.error("Args: ",t.args),console.error("Options: ",t.options),Wn(`Runtime error at ${t.fileName}:${t.line} (${t.commandType}) ${t.code}. - 
  <br />
  Error: ${e}`),console.error("============================")}function Qte(t,...e){console.log(`[${t.fileName}:${t.line}] log: `,...e)}class rt{constructor(e,n,r,o){Vo(this,"keyword");Vo(this,"runner");Vo(this,"argTypes");Vo(this,"parser");Vo(this,"onPlayerAnswered");Vo(this,"returnAfterPlayerAnswer");this.keyword=e,this.runner=r,this.argTypes=n,o?this.parser=o:this.parser=zp(this.keyword,this.argTypes),this.returnAfterPlayerAnswer=!1}async run(e,n){let r=await this.runner(e,n);return this.returnAfterPlayerAnswer&&(r=await new Promise((o,i)=>{yn().waitForPlayerAnswer(e),e.finishCommand=o})),r}async processPlayerAnswer(e,n){let r=n;return this.onPlayerAnswered&&(r=await this.onPlayerAnswered(e,n)),this.returnAfterPlayerAnswer&&e.finishCommand&&e.finishCommand(r),r}static FromOptions(e){var r;const n=new rt(e.keyword,e.argTypes,e.runner,e.parser);return n.onPlayerAnswered=e.onPlayerAnswered,n.returnAfterPlayerAnswer=(r=e.returnAfterPlayerAnswer)!=null?r:!1,n}}function zp(t,e){let n=[];if(e!=="any"){n=[e.length];const r=e.reduce((o,i)=>i.optional?o+1:o,0);if(r>1)throw new Error(`Only one optional argument is allowed for commands but ${t} has multiple ones`);r===1&&n.push(e.length-1)}return(r,o)=>{const i={newLine:r.currentLine+1},s=o.command.args;return e!=="any"&&!n.includes(s.length)?(console.log("Error details"),console.log(o.command),console.log(s),r.parserContext.error(r.line.line,`Command ${t}: Expected ${n.join(" or ")} arguments but got ${s.length}`),i):(o.command.commandType=t,e!=="any"&&o.command.args.forEach((a,u)=>{const l=e[u];!LI(a)&&!RI(a)&&(l.type==="any"||typeof a===l.type||r.parserContext.error(r.line.line,`Command ${t}: Argument #${u+1} (${l.name}) should be a ${l.type}, but got type ${typeof a}: ${JSON.stringify(a)}`))}),{newLine:r.currentLine+1})}}const Yte=new rt("add_level",[{name:"skillKey",type:"string"},{name:"amount",type:"number"}],async t=>{let{skillKey:e,amount:n}=t.options;if((!e||!n)&&bn(t,"add_level command needs a skill id and a value as parameters"),!Number.isInteger(n)){const r=n;n=Math.round(n),console.warn(`add_level expects a level to be an integer. Auto Rounding ${r} to ${n}`)}$r().incrementSkill(e,n)}),Xte=rt.FromOptions({keyword:"set_level",argTypes:[{name:"skill",type:"string"},{name:"level",type:"number"}],runner:async t=>{let{skill:e,level:n}=t.options;if((!e||!n)&&bn(t,"set_level command needs a skill id and a value as parameters"),!Number.isInteger(n)){const r=n;n=Math.round(n),console.warn(`set_level expects a level to be an integer. Auto Rounding ${r} to ${n}`)}$r().setSkillLevel(e,n)}}),Zte=new rt("add_xp",[{name:"xpKey",type:"string"},{name:"xpToAdd",type:"number"}],async t=>{const{xpKey:e,xpToAdd:n}=t.options;(!e||!n)&&bn(t,"add_xp command needs a skill id and a value as parameters"),$r().addXp(e,n)}),ene=new rt("get_level",[{name:"skillKey",type:"string"}],async t=>{const{skillKey:e}=t.options;e||bn(t,"get_level command needs a skill id as parameter");const n=$r().getSkill(e);return n||bn(t,`Skill ${e} not found`),n.level}),tne=new rt("get_xp",[{name:"xpKey",type:"string"}],async t=>{const{xpKey:e}=t.options;e||bn(t,"get_xp command needs a skill id as parameter");const n=$r().getSkillXp(e);return n||bn(t,`XP ${e} not found`),n}),nne=new rt("roll",[{name:"id",type:"string"},{name:"skill",type:"string"},{name:"value",type:"number"},{name:"hideAfterRoll",type:"boolean",optional:!0}],async t=>{const{id:e,skill:n,value:r,hideAfterRoll:o}=t.options;return NI({id:e,skill:n,value:r,hideAfterRoll:o}).succeeded}),rne=new rt("add_stat",[{name:"statKey",type:"string"},{name:"amountToAdd",type:"number"}],async t=>{const{statKey:e,amountToAdd:n}=t.options;(!e||typeof n!="number")&&bn(t,"add_stat command needs a stat id and a value as parameters"),bs().addStat(e,n)}),one=new rt("set_stat",[{name:"statKey",type:"string"},{name:"value",type:"number"}],async t=>{const{statKey:e,value:n}=t.options;(!e||typeof n!="number")&&bn(t,"set_stat command needs a stat id and a value as parameters"),bs().setStat(e,n)}),ine=new rt("get_stat_value",[{name:"statKey",type:"string"}],async t=>{const{statKey:e}=t.options;return e||bn(t,"get_stat_value command needs a stat id as parameter"),bs().getStatValue(e)}),sne=rt.FromOptions({keyword:"jump",argTypes:"any",runner:async t=>{(t.args.length<1||typeof t.args[0]!="string")&&bn(t,"requires a label argument");const e=t.args[0],n=yn(),r={branchData:n.script[e],label:e,args:t.args.splice(1),currentIndex:0};return n.jumpTarget=r,await On().saveGame(),Th}}),ane=rt.FromOptions({keyword:"run",argTypes:"any",runner:async t=>{(t.args.length<1||typeof t.args[0]!="string")&&bn(t,"run command needs a label to argument run");const e=t.args[0];return await yn().runLabelFunction(e,...t.args.slice(1))}}),une=rt.FromOptions({keyword:"var",argTypes:[{name:"name",type:"string"},{name:"value",type:"any"}],runner:async t=>{const{name:e,value:n}=t.options;yn().addScopedVariable(e,n)}}),lne=rt.FromOptions({keyword:"return",argTypes:[{name:"value",type:"any"}],runner:async t=>{const{value:e}=t.options;return yn().setReturnValue(e),E1}}),cne=rt.FromOptions({keyword:"log",argTypes:"any",runner:async t=>{Qte(t,...t.args)}}),fne=[{name:"mode",type:"string"},{name:"audio",type:"string"},{name:"channel",type:"number",optional:!0}],dne=new rt("play",fne,async t=>{const e=Vr(),{mode:n,audio:r,channel:o}=t.options,i=D1(t,n);i&&e.playChannel(i,r,o!=null?o:0)}),hne=new rt("pause",[{name:"mode",type:"string"},{name:"channel",type:"number",optional:!0}],async t=>{const e=Vr(),{mode:n,channel:r}=t.options,o=D1(t,n);o&&e.pauseChannel(o,r!=null?r:0)}),pne=new rt("stop",[{name:"mode",type:"string"},{name:"channel",type:"number",optional:!0}],async t=>{const e=Vr(),{mode:n,channel:r}=t.options,o=D1(t,n);o&&e.stopChannel(o,r!=null?r:0)});function D1(t,e){return vne(e)?e:(bn(t,`${e} is not a valid audio mode.`),!1)}function vne(t){return!!wI.includes(t)}const mne=new rt("set",[{name:"key",type:"string"},{name:"value",type:"any"}],async t=>{const e=ol();PI(e,t.options.key,t.options.value)}),gne=new rt("add",[{name:"key",type:"string"},{name:"value",type:"any"}],async t=>{const e=ol();TI(e,t.options.key,t.options.value)}),yne=new rt("set_screen",[{name:"screen",type:"string"},{name:"layer",type:"number",optional:!0}],async t=>{Gi().setScreen(t.options.screen,t.options.layer)}),bne=new rt("empty_layer",[{name:"layer",type:"number"}],async t=>{Gi().emptyLayer(t.options.layer)}),wne=new rt("set_button",[{name:"buttonId",type:"string"},{name:"state",type:"any"}],async t=>{const{buttonId:e,state:n}=t.options;Gi().changeButton(e,n)}),kne=rt.FromOptions({keyword:"talk",argTypes:[{name:"speaker",type:"string"},{name:"pose",type:"string"},{name:"text",type:"string"}],runner:async(t,e)=>{await I1({speaker:t.options.speaker,pose:t.options.pose,cssClass:"talk-command",text:`"${t.options.text}"`,choices:e,interactive:!0})},returnAfterPlayerAnswer:!0}),xne=rt.FromOptions({keyword:"think",argTypes:[{name:"speaker",type:"string"},{name:"pose",type:"string"},{name:"text",type:"string"}],runner:async(t,e)=>{await I1({speaker:t.options.speaker,pose:t.options.pose,cssClass:"think-command",text:`${t.options.text}`,choices:e,interactive:!0})},returnAfterPlayerAnswer:!0}),jne=()=>{const t=zp("text",[]);return(e,n)=>{const r=t(e,n);return n.command.staticOptions={text:n.code.substring(1,n.code.length-1)},r}},_ne=rt.FromOptions({keyword:"text",argTypes:[],runner:async(t,e)=>{await I1({speaker:"game",cssClass:"text-command",text:t.staticOptions.text,choices:e,interactive:!0})},parser:jne(),returnAfterPlayerAnswer:!0}),Sne=new rt("add_item",[{name:"id",type:"string"},{name:"amount",type:"number"}],async t=>{const{id:e,amount:n}=t.options;Rr().add({id:e,amount:n})}),Cne=new rt("remove_item",[{name:"id",type:"string"},{name:"amount",type:"number"}],async t=>{const{id:e,amount:n}=t.options;Rr().remove({id:e,amount:n})}),$ne=new rt("has_item?",[{name:"id",type:"string"},{name:"amount",type:"number",optional:!0}],async t=>{const{id:e,amount:n}=t.options;return Rr().hasItem(e,n)}),One=new rt("item_amount?",[{name:"id",type:"string"}],async t=>{const{id:e}=t.options;return Rr().getItemAmount(e)}),Ane=new rt("enable_interaction",[{name:"tag",type:"string"}],async t=>{const e=t.options.tag;Rr().enableInteraction(e)}),Ene=new rt("disable_interaction",[{name:"tag",type:"string"}],async t=>{const e=t.options.tag;Rr().disableInteraction(e)}),Pne=new rt("start_quest",[{name:"questId",type:"string"}],async t=>{const e=t.options.questId;uo().startQuest(e)}),Tne=new rt("start_objective",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;uo().startObjective(e,n)}),Mne=new rt("complete_objective",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;uo().completeObjective(e,n)}),Ine=new rt("complete_quest",[{name:"questId",type:"string"},{name:"ending",type:"string",optional:!0}],async t=>{const{questId:e,ending:n}=t.options;uo().completeQuest(e,n)}),Nne=new rt("quest_completed?",[{name:"questId",type:"string"}],async t=>{const{questId:e}=t.options;return uo().isQuestCompleted(e)}),Lne=new rt("objective_completed?",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;return uo().isObjectiveCompleted(e,n)}),Rne=new rt("quest_started?",[{name:"questId",type:"string"}],async t=>{const{questId:e}=t.options;return uo().isQuestStarted(e)}),Dne=new rt("objective_started?",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;return uo().isObjectiveStarted(e,n)}),Bne=rt.FromOptions({keyword:"wait",argTypes:[{name:"duration",type:"number"}],runner:async t=>{await Eh(t.options.duration)}}),zne=new rt("notify",[{name:"text",type:"string"}],async t=>{const{text:e}=t.options;Xo().addNotification(e)}),Fne=new rt("disable_notifications",[],async t=>{Xo().disableNotifications()}),qne=new rt("enable_notifications",[],async t=>{Xo().enableNotifications()}),Vne=new rt("clear_dialog",[],async t=>{bo().clearDialog()}),Hne=new rt("if",[{name:"condition",type:"boolean"}],async t=>{const e=JX(t),n=yn();if(e){const r={branchData:{branch:e},currentIndex:0};return n.addAndRunBlock(r)}},(t,e)=>{let n=t.currentLine;zp("if",[{name:"condition",type:"string"}])(t,e);const{lines:o,currentLine:i,line:s}=t,a=e.command;let u;const l=KX(o,i+1);return l&&l.code==="else:"&&(u=t.processCommandsFunction(t.parserContext,l.branch,s),n++),a.staticOptions={success:t.processCommandsFunction(t.parserContext,s.branch,s),failure:u},n++,{newLine:n}}),Wne=new rt("==","any",async t=>{t.args.length<2&&bn(t,"requires at least two arguments");let e=t.args[0],n=!0;for(const r of t.args)if(r!=e){n=!1;break}else e=r;return n}),Une=new rt(">",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e>n}),Jne=new rt("<",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e<n}),Kne=new rt(">=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e>=n}),Gne=new rt("<=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e<=n}),Qne=new rt("!=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e!=n}),Yne=new rt("!",[{name:"a",type:"any"}],async t=>{const{a:e}=t.options;return!e}),Xne=new rt("&&","any",async t=>{const e=t.args;return t.args.length<2&&bn(t,"requires at least two arguments"),e.reduce((n,r)=>n&&r,!0)}),Zne=new rt("||","any",async t=>(t.args.length<2&&bn(t,"requires at least two arguments"),t.args.reduce((e,n)=>e||n,!1))),ere=new rt("?",[{name:"a",type:"any"},{name:"b",type:"any"},{name:"c",type:"any"}],async t=>{const{a:e,b:n,c:r}=t.options;return e?n:r}),tre=new rt("+","any",async t=>(t.args.length<2&&bn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="number"?e+n:(bn(t,"requires all arguments to be numbers"),e),0))),nre=new rt("-","any",async t=>(t.args.length<2&&bn(t,"requires at least two arguments"),t.args.slice(1).reduce((e,n)=>typeof n=="number"?e-n:(bn(t,"requires all arguments to be numbers"),e),t.args[0]))),rre=new rt("neg",[{name:"a",type:"number"}],async t=>(t.args.length!==1&&bn(t,"requires one argument"),-t.options.a)),ore=new rt("abs",[{name:"a",type:"number"}],async t=>(t.args.length!==1&&bn(t,"requires one argument"),Math.abs(t.options.a))),ire=new rt("*","any",async t=>(t.args.length<2&&bn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="number"?e*n:(bn(t,"requires all arguments to be numbers"),e),1))),sre=new rt("/","any",async t=>{t.args.length<2&&bn(t,"requires at least two arguments");const e=t.args[0]/t.args[1];return t.args.slice(2).reduce((n,r)=>typeof r=="number"?n/r:(bn(t,"requires all arguments to be numbers"),n),e)}),are=async t=>{const{prompt:e,choices:n}=t.staticOptions,r=[];for(const[,s]of n.entries()){const a=await N1(s.prompt);r.push(a)}t.options.choiceResults=r;const o=r.map((s,a)=>{var f,c;let u=!0;return s.skillCheck&&(u=(c=(f=s.skillCheck)==null?void 0:f.allowed)!=null?c:!1),{choice:s.text,originalIndex:a,allowed:u}}).filter(s=>s.choice),i=await BI(e,o);return await fre(t,i)};function ure(t,e){e.branch||t.parserContext.error(e.line,`Choice option doesn't have any branch to go to (${e.code} - ${e.line})`);let n,r;const o=e.branch;return e.expression[1]==="roll"?((!o[0].branch||!o[1].branch)&&t.parserContext.error(e.line,`Choice option with a skill roll needs success and failure branches (${e.code} - ${e.line})`),n={success:t.processCommandsFunction(t.parserContext,o[0].branch,e),failure:t.processCommandsFunction(t.parserContext,o[1].branch,e)}):r=t.processCommandsFunction(t.parserContext,o,e),{prompt:t.processCommandsFunction(t.parserContext,[e],e)[0],branch:r,skillBranches:n}}const lre=(t,e)=>{let n=t.currentLine;zp("choice",[]);const{line:r}=t,o=e.command;(!r.branch||r.branch.length<2)&&t.parserContext.error(r.line,"Choice menu needs to have at least one option");const i=r.branch[0];i||t.parserContext.error(t.line.line,"Choice prompt is missing ");const a=r.branch.slice(1).map((u,l)=>(u.branch||t.parserContext.error(u.line,`Choice option doesn't have any branch to go to (${u.code})`),u=dre(t.parserContext,u),ure(t,u)));return o.staticOptions={prompt:t.processCommandsFunction(t.parserContext,[i],r)[0],choices:a},n++,{newLine:n}},cre=rt.FromOptions({keyword:"choice",argTypes:[],runner:are,parser:lre}),fre=async(t,e)=>{const n=e,r=yn(),{choices:o}=t.staticOptions,i=o[n],s=t.options.choiceResults[n];let a=s.text,u;if(s.skillCheck?(a=null,NI({skill:s.skillCheck.skillId,value:s.skillCheck.difficulty,id:s.skillCheck.skillCheckId,hideAfterRoll:s.skillCheck.hideAfterRoll}).succeeded?u=i.skillBranches.success:u=i.skillBranches.failure):u=i.branch,a){const l={speaker:"player",text:a,interactive:!1};bo().addDialog(l)}if(u){const l={currentIndex:0,branchData:{branch:u}};return await r.addAndRunBlock(l)}};function dre(t,e){return{code:`choicePrompt ${e.code}`,indentation:e.indentation,line:e.line,branch:e.branch,expression:["choicePrompt",...e.expression]}}const hre=new rt("choicePrompt","any",async t=>{const e=t.args;if(e[0]==="roll"){const n=e[1],r=e[2],o=e[3],i=e[4],s=e.length>5?e[5]:!1,a=$r().getSkillCheck(n);if(a.hidden)return{text:null};const u=a.happened&&!a.succeeded,{difficultyText:l}=VX({skill:r,skillCheckId:n,value:o});return{text:`${l} ${i}`,skillCheck:{allowed:!u,skillId:r,skillCheckId:n,difficulty:o,hideAfterRoll:s}}}else if(e.length>1&&e[1]==="if"){const n=e[0];let r=!0;return e.length>2&&(r=e[2]),r?{text:n}:{text:null}}else return{text:e[0]}}),FI=rt.FromOptions({keyword:"text_field",argTypes:[{name:"prompt",type:"string"}],returnAfterPlayerAnswer:!0,runner:async t=>{const e={speaker:"game",text:t.options.prompt,textField:!0,interactive:!0};bo().addDialog(e)}});FI.onPlayerAnswered=async(t,e)=>(typeof e!="string"&&bn(t,"The player's answer should be a string"),e);const pre=rt.FromOptions({keyword:"text_field_prompt",argTypes:[{name:"prompt",type:"string"}],runner:async t=>{const e={speaker:"game",text:t.options.prompt,textField:!0,interactive:!0};bo().addDialog(e)}}),vre=new rt("random",[{name:"a",type:"number"},{name:"b",type:"number"}],async t=>{const{a:e,b:n}=t.options;return typeof e!="number"||typeof n!="number"?(bn(t,"random command needs two numbers as parameters"),0):Math.floor(Math.random()*(n-e+1))+e}),mre=new rt("random_float",[{name:"a",type:"number"},{name:"b",type:"number"}],async t=>{const{a:e,b:n}=t.options;return typeof e!="number"||typeof n!="number"?(bn(t,"random_float command needs two numbers as parameters"),0):Math.random()*(n-e)+e}),gre=new rt("random_from_args",[],async t=>{const e=t.args;return!e||!e.length?(bn(t,"random_from_args command needs at least one argument"),0):e[Math.floor(Math.random()*e.length)]}),yre=new rt("concat","any",async t=>(t.args.length<2&&bn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="string"?`${e}${n}`:(bn(t,"requires all arguments to be strings"),e),""))),bre=new rt("join","any",async t=>{const e=t.args[0];return t.args.length<3&&bn(t,"requires at least 3 arguments"),t.args.slice(1).reduce((n,r)=>typeof r=="string"?`${n}${e}${r}`:(bn(t,"requires all arguments to be strings"),n),"")}),wre=rt.FromOptions({keyword:"min",argTypes:[{name:"min",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{min:e,value:n}=t.options;return n<e?n:e}}),kre=rt.FromOptions({keyword:"max",argTypes:[{name:"max",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{max:e,value:n}=t.options;return n>e?n:e}}),xre=rt.FromOptions({keyword:"clamp",argTypes:[{name:"min",type:"number"},{name:"max",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{min:e,max:n,value:r}=t.options;return r<e?e:r>n?n:r}}),jre=rt.FromOptions({keyword:"floor",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.floor(e)}}),_re=rt.FromOptions({keyword:"ceil",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.ceil(e)}}),Sre=rt.FromOptions({keyword:"round",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.round(e)}}),Cre=rt.FromOptions({keyword:"sqrt",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.sqrt(e)}}),$re=rt.FromOptions({keyword:"^",argTypes:[{name:"base",type:"number"},{name:"exponent",type:"number"}],runner:async t=>{const{base:e,exponent:n}=t.options;return Math.pow(e,n)}});function Ore(t){t.addCommand(cre),t.addCommand(hre),t.addCommand(Hne),t.addCommand(rne),t.addCommand(one),t.addCommand(ine),t.addCommand(Vne),t.addCommand(zne),t.addCommand(Fne),t.addCommand(qne),t.addCommand(hne),t.addCommand(dne),t.addCommand(pne),t.addCommand(wne),t.addCommand(yne),t.addCommand(bne),t.addCommand(Bne),t.addCommand(Wne),t.addCommand(Une),t.addCommand(Jne),t.addCommand(Kne),t.addCommand(Gne),t.addCommand(Qne),t.addCommand(Yne),t.addCommand(Xne),t.addCommand(Zne),t.addCommand(ere),t.addCommand(tre),t.addCommand(nre),t.addCommand(ire),t.addCommand(sre),t.addCommand(rre),t.addCommand(ore),t.addCommand(gne),t.addCommand(mne),t.addCommand(_ne),t.addCommand(kne),t.addCommand(xne),t.addCommand(sne),t.addCommand(ane),t.addCommand(une),t.addCommand(lne),t.addCommand(cne),t.addCommand(Pne),t.addCommand(Tne),t.addCommand(Mne),t.addCommand(Ine),t.addCommand(Rne),t.addCommand(Dne),t.addCommand(Nne),t.addCommand(Lne),t.addCommand(Sne),t.addCommand(Cne),t.addCommand(Ane),t.addCommand(Ene),t.addCommand($ne),t.addCommand(One),t.addCommand(Yte),t.addCommand(Xte),t.addCommand(Zte),t.addCommand(nne),t.addCommand(ene),t.addCommand(tne),t.addCommand(FI),t.addCommand(pre),t.addCommand(vre),t.addCommand(mre),t.addCommand(gre),t.addCommand(yre),t.addCommand(bre),t.addCommand(wre),t.addCommand(kre),t.addCommand(xre),t.addCommand(jre),t.addCommand(Sre),t.addCommand(_re),t.addCommand(Cre),t.addCommand($re)}let Fl;Br.callHook("onPageLoaded");async function Are(t,e){const n=await P1(t.configPath);QY(JSON.parse(n)),t.baseAssetsPath&&(jt().baseAssetsPath=t.baseAssetsPath),Fl=wL(Gte,{config:t,options:e});const r=ZY();if(Fl.use(r),On().setOptions(e),Fl.use($L,{breakpoints:{s:0,m:800,l:1200}}),Ore(Br),mO.setupDebugger(e.debug),console.log("%c Narrat game engine \u2013 [VI]{version} - {date}[/VI]","background: #222; color: #bada55"),Br.callHook("onNarratSetup"),Fl.mount("#game-holder"),e.debug){const o={app:Fl,vm:Br,jump:i=>{yn().jumpToLabel(i)}};window.narrat=o}}const qI="";console.log("Example: ",qI);let Pd=`${qI}/`;Pd="";window.addEventListener("load",()=>{Are({baseAssetsPath:Pd,charactersPath:`${Pd}data/characters.json`,configPath:`${Pd}data/config.json`},{logging:!1,debug:!0})})});export default Ere();
