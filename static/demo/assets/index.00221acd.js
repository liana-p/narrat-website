var mN=Object.defineProperty;var gN=(t,e,n)=>e in t?mN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qi=(t,e,n)=>(gN(t,typeof e!="symbol"?e+"":e,n),n);const yN=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};yN();var ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bN(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pA={exports:{}};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(t,e){(function(n,r){t.exports=r()})(ra,function(){function n(fe){var ke=typeof fe;return fe!==null&&(ke==="object"||ke==="function")}function r(fe){return typeof fe=="function"}var i=void 0;Array.isArray?i=Array.isArray:i=function(fe){return Object.prototype.toString.call(fe)==="[object Array]"};var o=i,s=0,a=void 0,u=void 0,l=function(ke,Oe){C[s]=ke,C[s+1]=Oe,s+=2,s===2&&(u?u(_):j())};function f(fe){u=fe}function c(fe){l=fe}var d=typeof window<"u"?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,v=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",m=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){return function(){return process.nextTick(_)}}function y(){return typeof a<"u"?function(){a(_)}:w()}function b(){var fe=0,ke=new p(_),Oe=document.createTextNode("");return ke.observe(Oe,{characterData:!0}),function(){Oe.data=fe=++fe%2}}function k(){var fe=new MessageChannel;return fe.port1.onmessage=_,function(){return fe.port2.postMessage(0)}}function w(){var fe=setTimeout;return function(){return fe(_,1)}}var C=new Array(1e3);function _(){for(var fe=0;fe<s;fe+=2){var ke=C[fe],Oe=C[fe+1];ke(Oe),C[fe]=void 0,C[fe+1]=void 0}s=0}function T(){try{var fe=Function("return this")().require("vertx");return a=fe.runOnLoop||fe.runOnContext,y()}catch{return w()}}var j=void 0;v?j=g():p?j=b():m?j=k():d===void 0&&typeof bN=="function"?j=T():j=w();function O(fe,ke){var Oe=this,De=new this.constructor(A);De[N]===void 0&&I(De);var Ve=Oe._state;if(Ve){var pe=arguments[Ve-1];l(function(){return we(Ve,De,pe,Oe._result)})}else K(Oe,De,fe,ke);return De}function S(fe){var ke=this;if(fe&&typeof fe=="object"&&fe.constructor===ke)return fe;var Oe=new ke(A);return F(Oe,fe),Oe}var N=Math.random().toString(36).substring(2);function A(){}var $=void 0,q=1,Y=2;function z(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function L(fe,ke,Oe,De){try{fe.call(ke,Oe,De)}catch(Ve){return Ve}}function D(fe,ke,Oe){l(function(De){var Ve=!1,pe=L(Oe,ke,function(He){Ve||(Ve=!0,ke!==He?F(De,He):x(De,He))},function(He){Ve||(Ve=!0,M(De,He))},"Settle: "+(De._label||" unknown promise"));!Ve&&pe&&(Ve=!0,M(De,pe))},fe)}function U(fe,ke){ke._state===q?x(fe,ke._result):ke._state===Y?M(fe,ke._result):K(ke,void 0,function(Oe){return F(fe,Oe)},function(Oe){return M(fe,Oe)})}function W(fe,ke,Oe){ke.constructor===fe.constructor&&Oe===O&&ke.constructor.resolve===S?U(fe,ke):Oe===void 0?x(fe,ke):r(Oe)?D(fe,ke,Oe):x(fe,ke)}function F(fe,ke){if(fe===ke)M(fe,z());else if(n(ke)){var Oe=void 0;try{Oe=ke.then}catch(De){M(fe,De);return}W(fe,ke,Oe)}else x(fe,ke)}function E(fe){fe._onerror&&fe._onerror(fe._result),se(fe)}function x(fe,ke){fe._state===$&&(fe._result=ke,fe._state=q,fe._subscribers.length!==0&&l(se,fe))}function M(fe,ke){fe._state===$&&(fe._state=Y,fe._result=ke,l(E,fe))}function K(fe,ke,Oe,De){var Ve=fe._subscribers,pe=Ve.length;fe._onerror=null,Ve[pe]=ke,Ve[pe+q]=Oe,Ve[pe+Y]=De,pe===0&&fe._state&&l(se,fe)}function se(fe){var ke=fe._subscribers,Oe=fe._state;if(ke.length!==0){for(var De=void 0,Ve=void 0,pe=fe._result,He=0;He<ke.length;He+=3)De=ke[He],Ve=ke[He+Oe],De?we(Oe,De,Ve,pe):Ve(pe);fe._subscribers.length=0}}function we(fe,ke,Oe,De){var Ve=r(Oe),pe=void 0,He=void 0,st=!0;if(Ve){try{pe=Oe(De)}catch(Rt){st=!1,He=Rt}if(ke===pe){M(ke,J());return}}else pe=De;ke._state!==$||(Ve&&st?F(ke,pe):st===!1?M(ke,He):fe===q?x(ke,pe):fe===Y&&M(ke,pe))}function je(fe,ke){try{ke(function(De){F(fe,De)},function(De){M(fe,De)})}catch(Oe){M(fe,Oe)}}var R=0;function H(){return R++}function I(fe){fe[N]=R++,fe._state=void 0,fe._result=void 0,fe._subscribers=[]}function B(){return new Error("Array Methods must be provided an Array")}var Z=function(){function fe(ke,Oe){this._instanceConstructor=ke,this.promise=new ke(A),this.promise[N]||I(this.promise),o(Oe)?(this.length=Oe.length,this._remaining=Oe.length,this._result=new Array(this.length),this.length===0?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(Oe),this._remaining===0&&x(this.promise,this._result))):M(this.promise,B())}return fe.prototype._enumerate=function(Oe){for(var De=0;this._state===$&&De<Oe.length;De++)this._eachEntry(Oe[De],De)},fe.prototype._eachEntry=function(Oe,De){var Ve=this._instanceConstructor,pe=Ve.resolve;if(pe===S){var He=void 0,st=void 0,Rt=!1;try{He=Oe.then}catch(ie){Rt=!0,st=ie}if(He===O&&Oe._state!==$)this._settledAt(Oe._state,De,Oe._result);else if(typeof He!="function")this._remaining--,this._result[De]=Oe;else if(Ve===xe){var hn=new Ve(A);Rt?M(hn,st):W(hn,Oe,He),this._willSettleAt(hn,De)}else this._willSettleAt(new Ve(function(ie){return ie(Oe)}),De)}else this._willSettleAt(pe(Oe),De)},fe.prototype._settledAt=function(Oe,De,Ve){var pe=this.promise;pe._state===$&&(this._remaining--,Oe===Y?M(pe,Ve):this._result[De]=Ve),this._remaining===0&&x(pe,this._result)},fe.prototype._willSettleAt=function(Oe,De){var Ve=this;K(Oe,void 0,function(pe){return Ve._settledAt(q,De,pe)},function(pe){return Ve._settledAt(Y,De,pe)})},fe}();function le(fe){return new Z(this,fe).promise}function X(fe){var ke=this;return o(fe)?new ke(function(Oe,De){for(var Ve=fe.length,pe=0;pe<Ve;pe++)ke.resolve(fe[pe]).then(Oe,De)}):new ke(function(Oe,De){return De(new TypeError("You must pass an array to race."))})}function V(fe){var ke=this,Oe=new ke(A);return M(Oe,fe),Oe}function _e(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Se(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var xe=function(){function fe(ke){this[N]=H(),this._result=this._state=void 0,this._subscribers=[],A!==ke&&(typeof ke!="function"&&_e(),this instanceof fe?je(this,ke):Se())}return fe.prototype.catch=function(Oe){return this.then(null,Oe)},fe.prototype.finally=function(Oe){var De=this,Ve=De.constructor;return r(Oe)?De.then(function(pe){return Ve.resolve(Oe()).then(function(){return pe})},function(pe){return Ve.resolve(Oe()).then(function(){throw pe})}):De.then(Oe,Oe)},fe}();xe.prototype.then=O,xe.all=le,xe.race=X,xe.resolve=S,xe.reject=V,xe._setScheduler=f,xe._setAsap=c,xe._asap=l;function he(){var fe=void 0;if(typeof ra<"u")fe=ra;else if(typeof self<"u")fe=self;else try{fe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ke=fe.Promise;if(ke){var Oe=null;try{Oe=Object.prototype.toString.call(ke.resolve())}catch{}if(Oe==="[object Promise]"&&!ke.cast)return}fe.Promise=xe}return xe.polyfill=he,xe.Promise=xe,xe})})(pA);pA.exports.polyfill();function Z0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const kN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wN=Z0(kN);function vA(t){return!!t||t===""}function Wn(t){if(Bt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Lr(r)?_N(r):Wn(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Lr(t))return t;if(xr(t))return t}}const xN=/;(?![^(]*\))/g,jN=/:(.+)/;function _N(t){const e={};return t.split(xN).forEach(n=>{if(n){const r=n.split(jN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function xi(t){let e="";if(Lr(t))e=t;else if(Bt(t))for(let n=0;n<t.length;n++){const r=xi(t[n]);r&&(e+=r+" ")}else if(xr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const en=t=>Lr(t)?t:t==null?"":Bt(t)||xr(t)&&(t.toString===bA||!rn(t.toString))?JSON.stringify(t,mA,2):String(t),mA=(t,e)=>e&&e.__v_isRef?mA(t,e.value):Gu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:gA(e)?{[`Set(${e.size})`]:[...e.values()]}:xr(e)&&!Bt(e)&&!kA(e)?String(e):e,Vn={},Ku=[],Eo=()=>{},SN=()=>!1,CN=/^on[^a-z]/,Ap=t=>CN.test(t),ey=t=>t.startsWith("onUpdate:"),Nr=Object.assign,ty=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$N=Object.prototype.hasOwnProperty,jn=(t,e)=>$N.call(t,e),Bt=Array.isArray,Gu=t=>Op(t)==="[object Map]",gA=t=>Op(t)==="[object Set]",rn=t=>typeof t=="function",Lr=t=>typeof t=="string",ny=t=>typeof t=="symbol",xr=t=>t!==null&&typeof t=="object",yA=t=>xr(t)&&rn(t.then)&&rn(t.catch),bA=Object.prototype.toString,Op=t=>bA.call(t),AN=t=>Op(t).slice(8,-1),kA=t=>Op(t)==="[object Object]",ry=t=>Lr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vd=Z0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ep=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ON=/-(\w)/g,fs=Ep(t=>t.replace(ON,(e,n)=>n?n.toUpperCase():"")),EN=/\B([A-Z])/g,jl=Ep(t=>t.replace(EN,"-$1").toLowerCase()),Tp=Ep(t=>t.charAt(0).toUpperCase()+t.slice(1)),Dv=Ep(t=>t?`on${Tp(t)}`:""),Mc=(t,e)=>!Object.is(t,e),Hd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ph=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},vh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Vb;const TN=()=>Vb||(Vb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Jo;class wA{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Jo&&(this.parent=Jo,this.index=(Jo.scopes||(Jo.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Jo;try{return Jo=this,e()}finally{Jo=n}}}on(){Jo=this}off(){Jo=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function xA(t){return new wA(t)}function PN(t,e=Jo){e&&e.active&&e.effects.push(t)}const iy=t=>{const e=new Set(t);return e.w=0,e.n=0,e},jA=t=>(t.w&pa)>0,_A=t=>(t.n&pa)>0,MN=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=pa},IN=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];jA(i)&&!_A(i)?i.delete(t):e[n++]=i,i.w&=~pa,i.n&=~pa}e.length=n}},Km=new WeakMap;let oc=0,pa=1;const Gm=30;let jo;const au=Symbol(""),Qm=Symbol("");class oy{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,PN(this,r)}run(){if(!this.active)return this.fn();let e=jo,n=sa;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=jo,jo=this,sa=!0,pa=1<<++oc,oc<=Gm?MN(this):Hb(this),this.fn()}finally{oc<=Gm&&IN(this),pa=1<<--oc,jo=this.parent,sa=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jo===this?this.deferStop=!0:this.active&&(Hb(this),this.onStop&&this.onStop(),this.active=!1)}}function Hb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let sa=!0;const SA=[];function _l(){SA.push(sa),sa=!1}function Sl(){const t=SA.pop();sa=t===void 0?!0:t}function Vi(t,e,n){if(sa&&jo){let r=Km.get(t);r||Km.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=iy()),CA(i)}}function CA(t,e){let n=!1;oc<=Gm?_A(t)||(t.n|=pa,n=!jA(t)):n=!t.has(jo),n&&(t.add(jo),jo.deps.push(t))}function Ps(t,e,n,r,i,o){const s=Km.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Bt(t))s.forEach((u,l)=>{(l==="length"||l>=r)&&a.push(u)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Bt(t)?ry(n)&&a.push(s.get("length")):(a.push(s.get(au)),Gu(t)&&a.push(s.get(Qm)));break;case"delete":Bt(t)||(a.push(s.get(au)),Gu(t)&&a.push(s.get(Qm)));break;case"set":Gu(t)&&a.push(s.get(au));break}if(a.length===1)a[0]&&Ym(a[0]);else{const u=[];for(const l of a)l&&u.push(...l);Ym(iy(u))}}function Ym(t,e){const n=Bt(t)?t:[...t];for(const r of n)r.computed&&Wb(r);for(const r of n)r.computed||Wb(r)}function Wb(t,e){(t!==jo||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const NN=Z0("__proto__,__v_isRef,__isVue"),$A=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ny)),LN=sy(),DN=sy(!1,!0),RN=sy(!0),Ub=BN();function BN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Cn(this);for(let o=0,s=this.length;o<s;o++)Vi(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Cn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_l();const r=Cn(this)[e].apply(this,n);return Sl(),r}}),t}function sy(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?tL:PA:e?TA:EA).get(r))return r;const s=Bt(r);if(!t&&s&&jn(Ub,i))return Reflect.get(Ub,i,o);const a=Reflect.get(r,i,o);return(ny(i)?$A.has(i):NN(i))||(t||Vi(r,"get",i),e)?a:yr(a)?s&&ry(i)?a:a.value:xr(a)?t?Sa(a):Zo(a):a}}const zN=AA(),FN=AA(!0);function AA(t=!1){return function(n,r,i,o){let s=n[r];if(Ic(s)&&yr(s)&&!yr(i))return!1;if(!t&&!Ic(i)&&(Xm(i)||(i=Cn(i),s=Cn(s)),!Bt(n)&&yr(s)&&!yr(i)))return s.value=i,!0;const a=Bt(n)&&ry(r)?Number(r)<n.length:jn(n,r),u=Reflect.set(n,r,i,o);return n===Cn(o)&&(a?Mc(i,s)&&Ps(n,"set",r,i):Ps(n,"add",r,i)),u}}function qN(t,e){const n=jn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Ps(t,"delete",e,void 0),r}function VN(t,e){const n=Reflect.has(t,e);return(!ny(e)||!$A.has(e))&&Vi(t,"has",e),n}function HN(t){return Vi(t,"iterate",Bt(t)?"length":au),Reflect.ownKeys(t)}const OA={get:LN,set:zN,deleteProperty:qN,has:VN,ownKeys:HN},WN={get:RN,set(t,e){return!0},deleteProperty(t,e){return!0}},UN=Nr({},OA,{get:DN,set:FN}),ay=t=>t,Pp=t=>Reflect.getPrototypeOf(t);function Kf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Cn(t),o=Cn(e);n||(e!==o&&Vi(i,"get",e),Vi(i,"get",o));const{has:s}=Pp(i),a=r?ay:n?cy:Nc;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Gf(t,e=!1){const n=this.__v_raw,r=Cn(n),i=Cn(t);return e||(t!==i&&Vi(r,"has",t),Vi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Qf(t,e=!1){return t=t.__v_raw,!e&&Vi(Cn(t),"iterate",au),Reflect.get(t,"size",t)}function Jb(t){t=Cn(t);const e=Cn(this);return Pp(e).has.call(e,t)||(e.add(t),Ps(e,"add",t,t)),this}function Kb(t,e){e=Cn(e);const n=Cn(this),{has:r,get:i}=Pp(n);let o=r.call(n,t);o||(t=Cn(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Mc(e,s)&&Ps(n,"set",t,e):Ps(n,"add",t,e),this}function Gb(t){const e=Cn(this),{has:n,get:r}=Pp(e);let i=n.call(e,t);i||(t=Cn(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Ps(e,"delete",t,void 0),o}function Qb(){const t=Cn(this),e=t.size!==0,n=t.clear();return e&&Ps(t,"clear",void 0,void 0),n}function Yf(t,e){return function(r,i){const o=this,s=o.__v_raw,a=Cn(s),u=e?ay:t?cy:Nc;return!t&&Vi(a,"iterate",au),s.forEach((l,f)=>r.call(i,u(l),u(f),o))}}function Xf(t,e,n){return function(...r){const i=this.__v_raw,o=Cn(i),s=Gu(o),a=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=i[t](...r),f=n?ay:e?cy:Nc;return!e&&Vi(o,"iterate",u?Qm:au),{next(){const{value:c,done:d}=l.next();return d?{value:c,done:d}:{value:a?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function Us(t){return function(...e){return t==="delete"?!1:this}}function JN(){const t={get(o){return Kf(this,o)},get size(){return Qf(this)},has:Gf,add:Jb,set:Kb,delete:Gb,clear:Qb,forEach:Yf(!1,!1)},e={get(o){return Kf(this,o,!1,!0)},get size(){return Qf(this)},has:Gf,add:Jb,set:Kb,delete:Gb,clear:Qb,forEach:Yf(!1,!0)},n={get(o){return Kf(this,o,!0)},get size(){return Qf(this,!0)},has(o){return Gf.call(this,o,!0)},add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear"),forEach:Yf(!0,!1)},r={get(o){return Kf(this,o,!0,!0)},get size(){return Qf(this,!0)},has(o){return Gf.call(this,o,!0)},add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear"),forEach:Yf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Xf(o,!1,!1),n[o]=Xf(o,!0,!1),e[o]=Xf(o,!1,!0),r[o]=Xf(o,!0,!0)}),[t,n,e,r]}const[KN,GN,QN,YN]=JN();function uy(t,e){const n=e?t?YN:QN:t?GN:KN;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(jn(n,i)&&i in r?n:r,i,o)}const XN={get:uy(!1,!1)},ZN={get:uy(!1,!0)},eL={get:uy(!0,!1)},EA=new WeakMap,TA=new WeakMap,PA=new WeakMap,tL=new WeakMap;function nL(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rL(t){return t.__v_skip||!Object.isExtensible(t)?0:nL(AN(t))}function Zo(t){return Ic(t)?t:ly(t,!1,OA,XN,EA)}function iL(t){return ly(t,!1,UN,ZN,TA)}function Sa(t){return ly(t,!0,WN,eL,PA)}function ly(t,e,n,r,i){if(!xr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=rL(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function aa(t){return Ic(t)?aa(t.__v_raw):!!(t&&t.__v_isReactive)}function Ic(t){return!!(t&&t.__v_isReadonly)}function Xm(t){return!!(t&&t.__v_isShallow)}function MA(t){return aa(t)||Ic(t)}function Cn(t){const e=t&&t.__v_raw;return e?Cn(e):t}function rl(t){return ph(t,"__v_skip",!0),t}const Nc=t=>xr(t)?Zo(t):t,cy=t=>xr(t)?Sa(t):t;function IA(t){sa&&jo&&(t=Cn(t),CA(t.dep||(t.dep=iy())))}function NA(t,e){t=Cn(t),t.dep&&Ym(t.dep)}function yr(t){return!!(t&&t.__v_isRef===!0)}function Tr(t){return oL(t,!1)}function oL(t,e){return yr(t)?t:new sL(t,e)}class sL{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Cn(e),this._value=n?e:Nc(e)}get value(){return IA(this),this._value}set value(e){e=this.__v_isShallow?e:Cn(e),Mc(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Nc(e),NA(this))}}function En(t){return yr(t)?t.value:t}const aL={get:(t,e,n)=>En(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return yr(i)&&!yr(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function LA(t){return aa(t)?t:new Proxy(t,aL)}function uL(t){const e=Bt(t)?new Array(t.length):{};for(const n in t)e[n]=cL(t,n);return e}class lL{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function cL(t,e,n){const r=t[e];return yr(r)?r:new lL(t,e,n)}class fL{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new oy(e,()=>{this._dirty||(this._dirty=!0,NA(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Cn(this);return IA(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function dL(t,e,n=!1){let r,i;const o=rn(t);return o?(r=t,i=Eo):(r=t.get,i=t.set),new fL(r,i,o||!i,n)}function ua(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Mp(o,e,n)}return i}function ao(t,e,n,r){if(rn(t)){const o=ua(t,e,n,r);return o&&yA(o)&&o.catch(s=>{Mp(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(ao(t[o],e,n,r));return i}function Mp(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const l=o.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,s,a)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){ua(u,null,10,[t,s,a]);return}}hL(t,n,i,r)}function hL(t,e,n,r=!0){console.error(t)}let mh=!1,Zm=!1;const Ii=[];let js=0;const pc=[];let sc=null,Iu=0;const vc=[];let Ys=null,Nu=0;const DA=Promise.resolve();let fy=null,eg=null;function RA(t){const e=fy||DA;return t?e.then(this?t.bind(this):t):e}function pL(t){let e=js+1,n=Ii.length;for(;e<n;){const r=e+n>>>1;Lc(Ii[r])<t?e=r+1:n=r}return e}function BA(t){(!Ii.length||!Ii.includes(t,mh&&t.allowRecurse?js+1:js))&&t!==eg&&(t.id==null?Ii.push(t):Ii.splice(pL(t.id),0,t),zA())}function zA(){!mh&&!Zm&&(Zm=!0,fy=DA.then(VA))}function vL(t){const e=Ii.indexOf(t);e>js&&Ii.splice(e,1)}function FA(t,e,n,r){Bt(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),zA()}function mL(t){FA(t,sc,pc,Iu)}function gL(t){FA(t,Ys,vc,Nu)}function Ip(t,e=null){if(pc.length){for(eg=e,sc=[...new Set(pc)],pc.length=0,Iu=0;Iu<sc.length;Iu++)sc[Iu]();sc=null,Iu=0,eg=null,Ip(t,e)}}function qA(t){if(Ip(),vc.length){const e=[...new Set(vc)];if(vc.length=0,Ys){Ys.push(...e);return}for(Ys=e,Ys.sort((n,r)=>Lc(n)-Lc(r)),Nu=0;Nu<Ys.length;Nu++)Ys[Nu]();Ys=null,Nu=0}}const Lc=t=>t.id==null?1/0:t.id;function VA(t){Zm=!1,mh=!0,Ip(t),Ii.sort((n,r)=>Lc(n)-Lc(r));const e=Eo;try{for(js=0;js<Ii.length;js++){const n=Ii[js];n&&n.active!==!1&&ua(n,null,14)}}finally{js=0,Ii.length=0,qA(),mh=!1,fy=null,(Ii.length||pc.length||vc.length)&&VA(t)}}function yL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Vn;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:d}=r[f]||Vn;d&&(i=n.map(h=>h.trim())),c&&(i=n.map(vh))}let a,u=r[a=Dv(e)]||r[a=Dv(fs(e))];!u&&o&&(u=r[a=Dv(jl(e))]),u&&ao(u,t,6,i);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ao(l,t,6,i)}}function HA(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!rn(t)){const u=l=>{const f=HA(l,e,!0);f&&(a=!0,Nr(s,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!a?(r.set(t,null),null):(Bt(o)?o.forEach(u=>s[u]=null):Nr(s,o),r.set(t,s),s)}function Np(t,e){return!t||!Ap(e)?!1:(e=e.slice(2).replace(/Once$/,""),jn(t,e[0].toLowerCase()+e.slice(1))||jn(t,jl(e))||jn(t,e))}let Xr=null,WA=null;function gh(t){const e=Xr;return Xr=t,WA=t&&t.type.__scopeId||null,e}function Dn(t,e=Xr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&ak(-1);const o=gh(e),s=t(...i);return gh(o),r._d&&ak(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Rv(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:l,render:f,renderCache:c,data:d,setupState:h,ctx:p,inheritAttrs:v}=t;let m,g;const y=gh(t);try{if(n.shapeFlag&4){const k=i||r;m=Qo(f.call(k,k,c,o,h,d,p)),g=u}else{const k=e;m=Qo(k.length>1?k(o,{attrs:u,slots:a,emit:l}):k(o,null)),g=e.props?u:bL(u)}}catch(k){bc.length=0,Mp(k,t,1),m=Un(uo)}let b=m;if(g&&v!==!1){const k=Object.keys(g),{shapeFlag:w}=b;k.length&&w&7&&(s&&k.some(ey)&&(g=kL(g,s)),b=va(b,g))}return n.dirs&&(b=va(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),m=b,gh(y),m}const bL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ap(n))&&((e||(e={}))[n]=t[n]);return e},kL=(t,e)=>{const n={};for(const r in t)(!ey(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function wL(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Yb(r,s,l):!!s;if(u&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(s[d]!==r[d]&&!Np(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Yb(r,s,l):!0:!!s;return!1}function Yb(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Np(n,o))return!0}return!1}function xL({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const jL=t=>t.__isSuspense;function _L(t,e){e&&e.pendingBranch?Bt(t)?e.effects.push(...t):e.effects.push(t):gL(t)}function SL(t,e){if(Pr){let n=Pr.provides;const r=Pr.parent&&Pr.parent.provides;r===n&&(n=Pr.provides=Object.create(r)),n[t]=e}}function Wd(t,e,n=!1){const r=Pr||Xr;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&rn(e)?e.call(r.proxy):e}}const Xb={};function mc(t,e,n){return UA(t,e,n)}function UA(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Vn){const a=Pr;let u,l=!1,f=!1;if(yr(t)?(u=()=>t.value,l=Xm(t)):aa(t)?(u=()=>t,r=!0):Bt(t)?(f=!0,l=t.some(g=>aa(g)||Xm(g)),u=()=>t.map(g=>{if(yr(g))return g.value;if(aa(g))return Xa(g);if(rn(g))return ua(g,a,2)})):rn(t)?e?u=()=>ua(t,a,2):u=()=>{if(!(a&&a.isUnmounted))return c&&c(),ao(t,a,3,[d])}:u=Eo,e&&r){const g=u;u=()=>Xa(g())}let c,d=g=>{c=m.onStop=()=>{ua(g,a,4)}};if(zc)return d=Eo,e?n&&ao(e,a,3,[u(),f?[]:void 0,d]):u(),Eo;let h=f?[]:Xb;const p=()=>{if(!!m.active)if(e){const g=m.run();(r||l||(f?g.some((y,b)=>Mc(y,h[b])):Mc(g,h)))&&(c&&c(),ao(e,a,3,[g,h===Xb?void 0:h,d]),h=g)}else m.run()};p.allowRecurse=!!e;let v;i==="sync"?v=p:i==="post"?v=()=>yi(p,a&&a.suspense):v=()=>mL(p);const m=new oy(u,v);return e?n?p():h=m.run():i==="post"?yi(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&ty(a.scope.effects,m)}}function CL(t,e,n){const r=this.proxy,i=Lr(t)?t.includes(".")?JA(r,t):()=>r[t]:t.bind(r,r);let o;rn(e)?o=e:(o=e.handler,n=e);const s=Pr;il(this);const a=UA(i,o.bind(r),n);return s?il(s):uu(),a}function JA(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Xa(t,e){if(!xr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),yr(t))Xa(t.value,e);else if(Bt(t))for(let n=0;n<t.length;n++)Xa(t[n],e);else if(gA(t)||Gu(t))t.forEach(n=>{Xa(n,e)});else if(kA(t))for(const n in t)Xa(t[n],e);return t}function KA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cl(()=>{t.isMounted=!0}),ZA(()=>{t.isUnmounting=!0}),t}const Yi=[Function,Array],$L={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yi,onEnter:Yi,onAfterEnter:Yi,onEnterCancelled:Yi,onBeforeLeave:Yi,onLeave:Yi,onAfterLeave:Yi,onLeaveCancelled:Yi,onBeforeAppear:Yi,onAppear:Yi,onAfterAppear:Yi,onAppearCancelled:Yi},setup(t,{slots:e}){const n=zp(),r=KA();let i;return()=>{const o=e.default&&dy(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const v of o)if(v.type!==uo){s=v;break}}const a=Cn(t),{mode:u}=a;if(r.isLeaving)return Bv(s);const l=Zb(s);if(!l)return Bv(s);const f=Dc(l,a,r,n);Rc(l,f);const c=n.subTree,d=c&&Zb(c);let h=!1;const{getTransitionKey:p}=l.type;if(p){const v=p();i===void 0?i=v:v!==i&&(i=v,h=!0)}if(d&&d.type!==uo&&(!Ja(l,d)||h)){const v=Dc(d,a,r,n);if(Rc(d,v),u==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update()},Bv(s);u==="in-out"&&l.type!==uo&&(v.delayLeave=(m,g,y)=>{const b=QA(r,d);b[String(d.key)]=d,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=y})}return s}}},GA=$L;function QA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Dc(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:v,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=e,b=String(t.key),k=QA(n,t),w=(T,j)=>{T&&ao(T,r,9,j)},C=(T,j)=>{const O=j[1];w(T,j),Bt(T)?T.every(S=>S.length<=1)&&O():T.length<=1&&O()},_={mode:o,persisted:s,beforeEnter(T){let j=a;if(!n.isMounted)if(i)j=v||a;else return;T._leaveCb&&T._leaveCb(!0);const O=k[b];O&&Ja(t,O)&&O.el._leaveCb&&O.el._leaveCb(),w(j,[T])},enter(T){let j=u,O=l,S=f;if(!n.isMounted)if(i)j=m||u,O=g||l,S=y||f;else return;let N=!1;const A=T._enterCb=$=>{N||(N=!0,$?w(S,[T]):w(O,[T]),_.delayedLeave&&_.delayedLeave(),T._enterCb=void 0)};j?C(j,[T,A]):A()},leave(T,j){const O=String(t.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return j();w(c,[T]);let S=!1;const N=T._leaveCb=A=>{S||(S=!0,j(),A?w(p,[T]):w(h,[T]),T._leaveCb=void 0,k[O]===t&&delete k[O])};k[O]=t,d?C(d,[T,N]):N()},clone(T){return Dc(T,e,n,r)}};return _}function Bv(t){if(Lp(t))return t=va(t),t.children=null,t}function Zb(t){return Lp(t)?t.children?t.children[0]:void 0:t}function Rc(t,e){t.shapeFlag&6&&t.component?Rc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dy(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===_n?(s.patchFlag&128&&i++,r=r.concat(dy(s.children,e,a))):(e||s.type!==uo)&&r.push(a!=null?va(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Qn(t){return rn(t)?{setup:t,name:t.name}:t}const gc=t=>!!t.type.__asyncLoader,Lp=t=>t.type.__isKeepAlive;function AL(t,e){YA(t,"a",e)}function OL(t,e){YA(t,"da",e)}function YA(t,e,n=Pr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Lp(i.parent.vnode)&&EL(r,e,n,i),i=i.parent}}function EL(t,e,n,r){const i=Dp(e,t,r,!0);hy(()=>{ty(r[e],i)},n)}function Dp(t,e,n=Pr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;_l(),il(n);const a=ao(e,n,t,s);return uu(),Sl(),a});return r?i.unshift(o):i.push(o),o}}const Rs=t=>(e,n=Pr)=>(!zc||t==="sp")&&Dp(t,e,n),TL=Rs("bm"),Cl=Rs("m"),PL=Rs("bu"),XA=Rs("u"),ZA=Rs("bum"),hy=Rs("um"),ML=Rs("sp"),IL=Rs("rtg"),NL=Rs("rtc");function LL(t,e=Pr){Dp("ec",t,e)}function Rp(t,e){const n=Xr;if(n===null)return t;const r=Fp(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,u,l=Vn]=e[o];rn(s)&&(s={mounted:s,updated:s}),s.deep&&Xa(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:l})}return t}function za(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(_l(),ao(u,n,8,[t.el,a,t,e]),Sl())}}const eO="components";function Ti(t,e){return RL(eO,t,!0,e)||t}const DL=Symbol();function RL(t,e,n=!0,r=!1){const i=Xr||Pr;if(i){const o=i.type;if(t===eO){const a=hD(o,!1);if(a&&(a===e||a===fs(e)||a===Tp(fs(e))))return o}const s=ek(i[t]||o[t],e)||ek(i.appContext[t],e);return!s&&r?o:s}}function ek(t,e){return t&&(t[e]||t[fs(e)]||t[Tp(fs(e))])}function Cr(t,e,n,r){let i;const o=n&&n[r];if(Bt(t)||Lr(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(xr(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const l=s[a];i[a]=e(t[l],l,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function yc(t,e,n={},r,i){if(Xr.isCE||Xr.parent&&gc(Xr.parent)&&Xr.parent.isCE)return Un("slot",e==="default"?null:{name:e},r&&r());let o=t[e];o&&o._c&&(o._d=!1),Ue();const s=o&&tO(o(n)),a=gn(_n,{key:n.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function tO(t){return t.some(e=>kh(e)?!(e.type===uo||e.type===_n&&!tO(e.children)):!0)?t:null}const tg=t=>t?hO(t)?Fp(t)||t.proxy:tg(t.parent):null,yh=Nr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tg(t.parent),$root:t=>tg(t.root),$emit:t=>t.emit,$options:t=>rO(t),$forceUpdate:t=>t.f||(t.f=()=>BA(t.update)),$nextTick:t=>t.n||(t.n=RA.bind(t.proxy)),$watch:t=>CL.bind(t)}),BL={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;let l;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(r!==Vn&&jn(r,e))return s[e]=1,r[e];if(i!==Vn&&jn(i,e))return s[e]=2,i[e];if((l=t.propsOptions[0])&&jn(l,e))return s[e]=3,o[e];if(n!==Vn&&jn(n,e))return s[e]=4,n[e];ng&&(s[e]=0)}}const f=yh[e];let c,d;if(f)return e==="$attrs"&&Vi(t,"get",e),f(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Vn&&jn(n,e))return s[e]=4,n[e];if(d=u.config.globalProperties,jn(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return i!==Vn&&jn(i,e)?(i[e]=n,!0):r!==Vn&&jn(r,e)?(r[e]=n,!0):jn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Vn&&jn(t,s)||e!==Vn&&jn(e,s)||(a=o[0])&&jn(a,s)||jn(r,s)||jn(yh,s)||jn(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:jn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let ng=!0;function zL(t){const e=rO(t),n=t.proxy,r=t.ctx;ng=!1,e.beforeCreate&&tk(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:l,created:f,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:k,render:w,renderTracked:C,renderTriggered:_,errorCaptured:T,serverPrefetch:j,expose:O,inheritAttrs:S,components:N,directives:A,filters:$}=e;if(l&&FL(l,r,null,t.appContext.config.unwrapInjectedRef),s)for(const z in s){const J=s[z];rn(J)&&(r[z]=J.bind(n))}if(i){const z=i.call(n,n);xr(z)&&(t.data=Zo(z))}if(ng=!0,o)for(const z in o){const J=o[z],L=rn(J)?J.bind(n,n):rn(J.get)?J.get.bind(n,n):Eo,D=!rn(J)&&rn(J.set)?J.set.bind(n):Eo,U=Ht({get:L,set:D});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>U.value,set:W=>U.value=W})}if(a)for(const z in a)nO(a[z],r,n,z);if(u){const z=rn(u)?u.call(n):u;Reflect.ownKeys(z).forEach(J=>{SL(J,z[J])})}f&&tk(f,t,"c");function Y(z,J){Bt(J)?J.forEach(L=>z(L.bind(n))):J&&z(J.bind(n))}if(Y(TL,c),Y(Cl,d),Y(PL,h),Y(XA,p),Y(AL,v),Y(OL,m),Y(LL,T),Y(NL,C),Y(IL,_),Y(ZA,y),Y(hy,k),Y(ML,j),Bt(O))if(O.length){const z=t.exposed||(t.exposed={});O.forEach(J=>{Object.defineProperty(z,J,{get:()=>n[J],set:L=>n[J]=L})})}else t.exposed||(t.exposed={});w&&t.render===Eo&&(t.render=w),S!=null&&(t.inheritAttrs=S),N&&(t.components=N),A&&(t.directives=A)}function FL(t,e,n=Eo,r=!1){Bt(t)&&(t=rg(t));for(const i in t){const o=t[i];let s;xr(o)?"default"in o?s=Wd(o.from||i,o.default,!0):s=Wd(o.from||i):s=Wd(o),yr(s)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function tk(t,e,n){ao(Bt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function nO(t,e,n,r){const i=r.includes(".")?JA(n,r):()=>n[r];if(Lr(t)){const o=e[t];rn(o)&&mc(i,o)}else if(rn(t))mc(i,t.bind(n));else if(xr(t))if(Bt(t))t.forEach(o=>nO(o,e,n,r));else{const o=rn(t.handler)?t.handler.bind(n):e[t.handler];rn(o)&&mc(i,o,t)}}function rO(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(l=>bh(u,l,s,!0)),bh(u,e,s)),o.set(e,u),u}function bh(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&bh(t,o,n,!0),i&&i.forEach(s=>bh(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=qL[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const qL={data:nk,props:Wa,emits:Wa,methods:Wa,computed:Wa,beforeCreate:oi,created:oi,beforeMount:oi,mounted:oi,beforeUpdate:oi,updated:oi,beforeDestroy:oi,beforeUnmount:oi,destroyed:oi,unmounted:oi,activated:oi,deactivated:oi,errorCaptured:oi,serverPrefetch:oi,components:Wa,directives:Wa,watch:HL,provide:nk,inject:VL};function nk(t,e){return e?t?function(){return Nr(rn(t)?t.call(this,this):t,rn(e)?e.call(this,this):e)}:e:t}function VL(t,e){return Wa(rg(t),rg(e))}function rg(t){if(Bt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function oi(t,e){return t?[...new Set([].concat(t,e))]:e}function Wa(t,e){return t?Nr(Nr(Object.create(null),t),e):e}function HL(t,e){if(!t)return e;if(!e)return t;const n=Nr(Object.create(null),t);for(const r in e)n[r]=oi(t[r],e[r]);return n}function WL(t,e,n,r=!1){const i={},o={};ph(o,Bp,1),t.propsDefaults=Object.create(null),iO(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:iL(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function UL(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Cn(i),[u]=t.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(Np(t.emitsOptions,d))continue;const h=e[d];if(u)if(jn(o,d))h!==o[d]&&(o[d]=h,l=!0);else{const p=fs(d);i[p]=ig(u,a,p,h,t,!1)}else h!==o[d]&&(o[d]=h,l=!0)}}}else{iO(t,e,i,o)&&(l=!0);let f;for(const c in a)(!e||!jn(e,c)&&((f=jl(c))===c||!jn(e,f)))&&(u?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=ig(u,a,c,void 0,t,!0)):delete i[c]);if(o!==a)for(const c in o)(!e||!jn(e,c)&&!0)&&(delete o[c],l=!0)}l&&Ps(t,"set","$attrs")}function iO(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let u in e){if(Vd(u))continue;const l=e[u];let f;i&&jn(i,f=fs(u))?!o||!o.includes(f)?n[f]=l:(a||(a={}))[f]=l:Np(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,s=!0)}if(o){const u=Cn(n),l=a||Vn;for(let f=0;f<o.length;f++){const c=o[f];n[c]=ig(i,u,c,l[c],t,!jn(l,c))}}return s}function ig(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=jn(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&rn(u)){const{propsDefaults:l}=i;n in l?r=l[n]:(il(i),r=l[n]=u.call(null,e),uu())}else r=u}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===jl(n))&&(r=!0))}return r}function oO(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let u=!1;if(!rn(t)){const f=c=>{u=!0;const[d,h]=oO(c,e,!0);Nr(s,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!o&&!u)return r.set(t,Ku),Ku;if(Bt(o))for(let f=0;f<o.length;f++){const c=fs(o[f]);rk(c)&&(s[c]=Vn)}else if(o)for(const f in o){const c=fs(f);if(rk(c)){const d=o[f],h=s[c]=Bt(d)||rn(d)?{type:d}:d;if(h){const p=sk(Boolean,h.type),v=sk(String,h.type);h[0]=p>-1,h[1]=v<0||p<v,(p>-1||jn(h,"default"))&&a.push(c)}}}const l=[s,a];return r.set(t,l),l}function rk(t){return t[0]!=="$"}function ik(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function ok(t,e){return ik(t)===ik(e)}function sk(t,e){return Bt(e)?e.findIndex(n=>ok(n,t)):rn(e)&&ok(e,t)?0:-1}const sO=t=>t[0]==="_"||t==="$stable",py=t=>Bt(t)?t.map(Qo):[Qo(t)],JL=(t,e,n)=>{if(e._n)return e;const r=Dn((...i)=>py(e(...i)),n);return r._c=!1,r},aO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(sO(i))continue;const o=t[i];if(rn(o))e[i]=JL(i,o,r);else if(o!=null){const s=py(o);e[i]=()=>s}}},uO=(t,e)=>{const n=py(e);t.slots.default=()=>n},KL=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Cn(e),ph(e,"_",n)):aO(e,t.slots={})}else t.slots={},e&&uO(t,e);ph(t.slots,Bp,1)},GL=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Vn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Nr(i,e),!n&&a===1&&delete i._):(o=!e.$stable,aO(e,i)),s=e}else e&&(uO(t,e),s={default:1});if(o)for(const a in i)!sO(a)&&!(a in s)&&delete i[a]};function lO(){return{app:null,config:{isNativeTag:SN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QL=0;function YL(t,e){return function(r,i=null){rn(r)||(r=Object.assign({},r)),i!=null&&!xr(i)&&(i=null);const o=lO(),s=new Set;let a=!1;const u=o.app={_uid:QL++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:mD,get config(){return o.config},set config(l){},use(l,...f){return s.has(l)||(l&&rn(l.install)?(s.add(l),l.install(u,...f)):rn(l)&&(s.add(l),l(u,...f))),u},mixin(l){return o.mixins.includes(l)||o.mixins.push(l),u},component(l,f){return f?(o.components[l]=f,u):o.components[l]},directive(l,f){return f?(o.directives[l]=f,u):o.directives[l]},mount(l,f,c){if(!a){const d=Un(r,i);return d.appContext=o,f&&e?e(d,l):t(d,l,c),a=!0,u._container=l,l.__vue_app__=u,Fp(d.component)||d.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return o.provides[l]=f,u}};return u}}function og(t,e,n,r,i=!1){if(Bt(t)){t.forEach((d,h)=>og(d,e&&(Bt(e)?e[h]:e),n,r,i));return}if(gc(r)&&!i)return;const o=r.shapeFlag&4?Fp(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=t,l=e&&e.r,f=a.refs===Vn?a.refs={}:a.refs,c=a.setupState;if(l!=null&&l!==u&&(Lr(l)?(f[l]=null,jn(c,l)&&(c[l]=null)):yr(l)&&(l.value=null)),rn(u))ua(u,a,12,[s,f]);else{const d=Lr(u),h=yr(u);if(d||h){const p=()=>{if(t.f){const v=d?f[u]:u.value;i?Bt(v)&&ty(v,o):Bt(v)?v.includes(o)||v.push(o):d?(f[u]=[o],jn(c,u)&&(c[u]=f[u])):(u.value=[o],t.k&&(f[t.k]=u.value))}else d?(f[u]=s,jn(c,u)&&(c[u]=s)):h&&(u.value=s,t.k&&(f[t.k]=s))};s?(p.id=-1,yi(p,n)):p()}}}const yi=_L;function XL(t){return ZL(t)}function ZL(t,e){const n=TN();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:l,setElementText:f,parentNode:c,nextSibling:d,setScopeId:h=Eo,cloneNode:p,insertStaticContent:v}=t,m=(I,B,Z,le=null,X=null,V=null,_e=!1,Se=null,xe=!!B.dynamicChildren)=>{if(I===B)return;I&&!Ja(I,B)&&(le=se(I),F(I,X,V,!0),I=null),B.patchFlag===-2&&(xe=!1,B.dynamicChildren=null);const{type:he,ref:fe,shapeFlag:ke}=B;switch(he){case vy:g(I,B,Z,le);break;case uo:y(I,B,Z,le);break;case zv:I==null&&b(B,Z,le,_e);break;case _n:A(I,B,Z,le,X,V,_e,Se,xe);break;default:ke&1?C(I,B,Z,le,X,V,_e,Se,xe):ke&6?$(I,B,Z,le,X,V,_e,Se,xe):(ke&64||ke&128)&&he.process(I,B,Z,le,X,V,_e,Se,xe,je)}fe!=null&&X&&og(fe,I&&I.ref,V,B||I,!B)},g=(I,B,Z,le)=>{if(I==null)r(B.el=a(B.children),Z,le);else{const X=B.el=I.el;B.children!==I.children&&l(X,B.children)}},y=(I,B,Z,le)=>{I==null?r(B.el=u(B.children||""),Z,le):B.el=I.el},b=(I,B,Z,le)=>{[I.el,I.anchor]=v(I.children,B,Z,le,I.el,I.anchor)},k=({el:I,anchor:B},Z,le)=>{let X;for(;I&&I!==B;)X=d(I),r(I,Z,le),I=X;r(B,Z,le)},w=({el:I,anchor:B})=>{let Z;for(;I&&I!==B;)Z=d(I),i(I),I=Z;i(B)},C=(I,B,Z,le,X,V,_e,Se,xe)=>{_e=_e||B.type==="svg",I==null?_(B,Z,le,X,V,_e,Se,xe):O(I,B,X,V,_e,Se,xe)},_=(I,B,Z,le,X,V,_e,Se)=>{let xe,he;const{type:fe,props:ke,shapeFlag:Oe,transition:De,patchFlag:Ve,dirs:pe}=I;if(I.el&&p!==void 0&&Ve===-1)xe=I.el=p(I.el);else{if(xe=I.el=s(I.type,V,ke&&ke.is,ke),Oe&8?f(xe,I.children):Oe&16&&j(I.children,xe,null,le,X,V&&fe!=="foreignObject",_e,Se),pe&&za(I,null,le,"created"),ke){for(const st in ke)st!=="value"&&!Vd(st)&&o(xe,st,null,ke[st],V,I.children,le,X,K);"value"in ke&&o(xe,"value",null,ke.value),(he=ke.onVnodeBeforeMount)&&Fo(he,le,I)}T(xe,I,I.scopeId,_e,le)}pe&&za(I,null,le,"beforeMount");const He=(!X||X&&!X.pendingBranch)&&De&&!De.persisted;He&&De.beforeEnter(xe),r(xe,B,Z),((he=ke&&ke.onVnodeMounted)||He||pe)&&yi(()=>{he&&Fo(he,le,I),He&&De.enter(xe),pe&&za(I,null,le,"mounted")},X)},T=(I,B,Z,le,X)=>{if(Z&&h(I,Z),le)for(let V=0;V<le.length;V++)h(I,le[V]);if(X){let V=X.subTree;if(B===V){const _e=X.vnode;T(I,_e,_e.scopeId,_e.slotScopeIds,X.parent)}}},j=(I,B,Z,le,X,V,_e,Se,xe=0)=>{for(let he=xe;he<I.length;he++){const fe=I[he]=Se?Zs(I[he]):Qo(I[he]);m(null,fe,B,Z,le,X,V,_e,Se)}},O=(I,B,Z,le,X,V,_e)=>{const Se=B.el=I.el;let{patchFlag:xe,dynamicChildren:he,dirs:fe}=B;xe|=I.patchFlag&16;const ke=I.props||Vn,Oe=B.props||Vn;let De;Z&&Fa(Z,!1),(De=Oe.onVnodeBeforeUpdate)&&Fo(De,Z,B,I),fe&&za(B,I,Z,"beforeUpdate"),Z&&Fa(Z,!0);const Ve=X&&B.type!=="foreignObject";if(he?S(I.dynamicChildren,he,Se,Z,le,Ve,V):_e||L(I,B,Se,null,Z,le,Ve,V,!1),xe>0){if(xe&16)N(Se,B,ke,Oe,Z,le,X);else if(xe&2&&ke.class!==Oe.class&&o(Se,"class",null,Oe.class,X),xe&4&&o(Se,"style",ke.style,Oe.style,X),xe&8){const pe=B.dynamicProps;for(let He=0;He<pe.length;He++){const st=pe[He],Rt=ke[st],hn=Oe[st];(hn!==Rt||st==="value")&&o(Se,st,Rt,hn,X,I.children,Z,le,K)}}xe&1&&I.children!==B.children&&f(Se,B.children)}else!_e&&he==null&&N(Se,B,ke,Oe,Z,le,X);((De=Oe.onVnodeUpdated)||fe)&&yi(()=>{De&&Fo(De,Z,B,I),fe&&za(B,I,Z,"updated")},le)},S=(I,B,Z,le,X,V,_e)=>{for(let Se=0;Se<B.length;Se++){const xe=I[Se],he=B[Se],fe=xe.el&&(xe.type===_n||!Ja(xe,he)||xe.shapeFlag&70)?c(xe.el):Z;m(xe,he,fe,null,le,X,V,_e,!0)}},N=(I,B,Z,le,X,V,_e)=>{if(Z!==le){for(const Se in le){if(Vd(Se))continue;const xe=le[Se],he=Z[Se];xe!==he&&Se!=="value"&&o(I,Se,he,xe,_e,B.children,X,V,K)}if(Z!==Vn)for(const Se in Z)!Vd(Se)&&!(Se in le)&&o(I,Se,Z[Se],null,_e,B.children,X,V,K);"value"in le&&o(I,"value",Z.value,le.value)}},A=(I,B,Z,le,X,V,_e,Se,xe)=>{const he=B.el=I?I.el:a(""),fe=B.anchor=I?I.anchor:a("");let{patchFlag:ke,dynamicChildren:Oe,slotScopeIds:De}=B;De&&(Se=Se?Se.concat(De):De),I==null?(r(he,Z,le),r(fe,Z,le),j(B.children,Z,fe,X,V,_e,Se,xe)):ke>0&&ke&64&&Oe&&I.dynamicChildren?(S(I.dynamicChildren,Oe,Z,X,V,_e,Se),(B.key!=null||X&&B===X.subTree)&&cO(I,B,!0)):L(I,B,Z,fe,X,V,_e,Se,xe)},$=(I,B,Z,le,X,V,_e,Se,xe)=>{B.slotScopeIds=Se,I==null?B.shapeFlag&512?X.ctx.activate(B,Z,le,_e,xe):q(B,Z,le,X,V,_e,xe):Y(I,B,xe)},q=(I,B,Z,le,X,V,_e)=>{const Se=I.component=uD(I,le,X);if(Lp(I)&&(Se.ctx.renderer=je),lD(Se),Se.asyncDep){if(X&&X.registerDep(Se,z),!I.el){const xe=Se.subTree=Un(uo);y(null,xe,B,Z)}return}z(Se,I,B,Z,X,V,_e)},Y=(I,B,Z)=>{const le=B.component=I.component;if(wL(I,B,Z))if(le.asyncDep&&!le.asyncResolved){J(le,B,Z);return}else le.next=B,vL(le.update),le.update();else B.el=I.el,le.vnode=B},z=(I,B,Z,le,X,V,_e)=>{const Se=()=>{if(I.isMounted){let{next:fe,bu:ke,u:Oe,parent:De,vnode:Ve}=I,pe=fe,He;Fa(I,!1),fe?(fe.el=Ve.el,J(I,fe,_e)):fe=Ve,ke&&Hd(ke),(He=fe.props&&fe.props.onVnodeBeforeUpdate)&&Fo(He,De,fe,Ve),Fa(I,!0);const st=Rv(I),Rt=I.subTree;I.subTree=st,m(Rt,st,c(Rt.el),se(Rt),I,X,V),fe.el=st.el,pe===null&&xL(I,st.el),Oe&&yi(Oe,X),(He=fe.props&&fe.props.onVnodeUpdated)&&yi(()=>Fo(He,De,fe,Ve),X)}else{let fe;const{el:ke,props:Oe}=B,{bm:De,m:Ve,parent:pe}=I,He=gc(B);if(Fa(I,!1),De&&Hd(De),!He&&(fe=Oe&&Oe.onVnodeBeforeMount)&&Fo(fe,pe,B),Fa(I,!0),ke&&H){const st=()=>{I.subTree=Rv(I),H(ke,I.subTree,I,X,null)};He?B.type.__asyncLoader().then(()=>!I.isUnmounted&&st()):st()}else{const st=I.subTree=Rv(I);m(null,st,Z,le,I,X,V),B.el=st.el}if(Ve&&yi(Ve,X),!He&&(fe=Oe&&Oe.onVnodeMounted)){const st=B;yi(()=>Fo(fe,pe,st),X)}(B.shapeFlag&256||pe&&gc(pe.vnode)&&pe.vnode.shapeFlag&256)&&I.a&&yi(I.a,X),I.isMounted=!0,B=Z=le=null}},xe=I.effect=new oy(Se,()=>BA(he),I.scope),he=I.update=()=>xe.run();he.id=I.uid,Fa(I,!0),he()},J=(I,B,Z)=>{B.component=I;const le=I.vnode.props;I.vnode=B,I.next=null,UL(I,B.props,le,Z),GL(I,B.children,Z),_l(),Ip(void 0,I.update),Sl()},L=(I,B,Z,le,X,V,_e,Se,xe=!1)=>{const he=I&&I.children,fe=I?I.shapeFlag:0,ke=B.children,{patchFlag:Oe,shapeFlag:De}=B;if(Oe>0){if(Oe&128){U(he,ke,Z,le,X,V,_e,Se,xe);return}else if(Oe&256){D(he,ke,Z,le,X,V,_e,Se,xe);return}}De&8?(fe&16&&K(he,X,V),ke!==he&&f(Z,ke)):fe&16?De&16?U(he,ke,Z,le,X,V,_e,Se,xe):K(he,X,V,!0):(fe&8&&f(Z,""),De&16&&j(ke,Z,le,X,V,_e,Se,xe))},D=(I,B,Z,le,X,V,_e,Se,xe)=>{I=I||Ku,B=B||Ku;const he=I.length,fe=B.length,ke=Math.min(he,fe);let Oe;for(Oe=0;Oe<ke;Oe++){const De=B[Oe]=xe?Zs(B[Oe]):Qo(B[Oe]);m(I[Oe],De,Z,null,X,V,_e,Se,xe)}he>fe?K(I,X,V,!0,!1,ke):j(B,Z,le,X,V,_e,Se,xe,ke)},U=(I,B,Z,le,X,V,_e,Se,xe)=>{let he=0;const fe=B.length;let ke=I.length-1,Oe=fe-1;for(;he<=ke&&he<=Oe;){const De=I[he],Ve=B[he]=xe?Zs(B[he]):Qo(B[he]);if(Ja(De,Ve))m(De,Ve,Z,null,X,V,_e,Se,xe);else break;he++}for(;he<=ke&&he<=Oe;){const De=I[ke],Ve=B[Oe]=xe?Zs(B[Oe]):Qo(B[Oe]);if(Ja(De,Ve))m(De,Ve,Z,null,X,V,_e,Se,xe);else break;ke--,Oe--}if(he>ke){if(he<=Oe){const De=Oe+1,Ve=De<fe?B[De].el:le;for(;he<=Oe;)m(null,B[he]=xe?Zs(B[he]):Qo(B[he]),Z,Ve,X,V,_e,Se,xe),he++}}else if(he>Oe)for(;he<=ke;)F(I[he],X,V,!0),he++;else{const De=he,Ve=he,pe=new Map;for(he=Ve;he<=Oe;he++){const be=B[he]=xe?Zs(B[he]):Qo(B[he]);be.key!=null&&pe.set(be.key,he)}let He,st=0;const Rt=Oe-Ve+1;let hn=!1,ie=0;const de=new Array(Rt);for(he=0;he<Rt;he++)de[he]=0;for(he=De;he<=ke;he++){const be=I[he];if(st>=Rt){F(be,X,V,!0);continue}let Te;if(be.key!=null)Te=pe.get(be.key);else for(He=Ve;He<=Oe;He++)if(de[He-Ve]===0&&Ja(be,B[He])){Te=He;break}Te===void 0?F(be,X,V,!0):(de[Te-Ve]=he+1,Te>=ie?ie=Te:hn=!0,m(be,B[Te],Z,null,X,V,_e,Se,xe),st++)}const ge=hn?eD(de):Ku;for(He=ge.length-1,he=Rt-1;he>=0;he--){const be=Ve+he,Te=B[be],Je=be+1<fe?B[be+1].el:le;de[he]===0?m(null,Te,Z,Je,X,V,_e,Se,xe):hn&&(He<0||he!==ge[He]?W(Te,Z,Je,2):He--)}}},W=(I,B,Z,le,X=null)=>{const{el:V,type:_e,transition:Se,children:xe,shapeFlag:he}=I;if(he&6){W(I.component.subTree,B,Z,le);return}if(he&128){I.suspense.move(B,Z,le);return}if(he&64){_e.move(I,B,Z,je);return}if(_e===_n){r(V,B,Z);for(let ke=0;ke<xe.length;ke++)W(xe[ke],B,Z,le);r(I.anchor,B,Z);return}if(_e===zv){k(I,B,Z);return}if(le!==2&&he&1&&Se)if(le===0)Se.beforeEnter(V),r(V,B,Z),yi(()=>Se.enter(V),X);else{const{leave:ke,delayLeave:Oe,afterLeave:De}=Se,Ve=()=>r(V,B,Z),pe=()=>{ke(V,()=>{Ve(),De&&De()})};Oe?Oe(V,Ve,pe):pe()}else r(V,B,Z)},F=(I,B,Z,le=!1,X=!1)=>{const{type:V,props:_e,ref:Se,children:xe,dynamicChildren:he,shapeFlag:fe,patchFlag:ke,dirs:Oe}=I;if(Se!=null&&og(Se,null,Z,I,!0),fe&256){B.ctx.deactivate(I);return}const De=fe&1&&Oe,Ve=!gc(I);let pe;if(Ve&&(pe=_e&&_e.onVnodeBeforeUnmount)&&Fo(pe,B,I),fe&6)M(I.component,Z,le);else{if(fe&128){I.suspense.unmount(Z,le);return}De&&za(I,null,B,"beforeUnmount"),fe&64?I.type.remove(I,B,Z,X,je,le):he&&(V!==_n||ke>0&&ke&64)?K(he,B,Z,!1,!0):(V===_n&&ke&384||!X&&fe&16)&&K(xe,B,Z),le&&E(I)}(Ve&&(pe=_e&&_e.onVnodeUnmounted)||De)&&yi(()=>{pe&&Fo(pe,B,I),De&&za(I,null,B,"unmounted")},Z)},E=I=>{const{type:B,el:Z,anchor:le,transition:X}=I;if(B===_n){x(Z,le);return}if(B===zv){w(I);return}const V=()=>{i(Z),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(I.shapeFlag&1&&X&&!X.persisted){const{leave:_e,delayLeave:Se}=X,xe=()=>_e(Z,V);Se?Se(I.el,V,xe):xe()}else V()},x=(I,B)=>{let Z;for(;I!==B;)Z=d(I),i(I),I=Z;i(B)},M=(I,B,Z)=>{const{bum:le,scope:X,update:V,subTree:_e,um:Se}=I;le&&Hd(le),X.stop(),V&&(V.active=!1,F(_e,I,B,Z)),Se&&yi(Se,B),yi(()=>{I.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},K=(I,B,Z,le=!1,X=!1,V=0)=>{for(let _e=V;_e<I.length;_e++)F(I[_e],B,Z,le,X)},se=I=>I.shapeFlag&6?se(I.component.subTree):I.shapeFlag&128?I.suspense.next():d(I.anchor||I.el),we=(I,B,Z)=>{I==null?B._vnode&&F(B._vnode,null,null,!0):m(B._vnode||null,I,B,null,null,null,Z),qA(),B._vnode=I},je={p:m,um:F,m:W,r:E,mt:q,mc:j,pc:L,pbc:S,n:se,o:t};let R,H;return e&&([R,H]=e(je)),{render:we,hydrate:R,createApp:YL(we,R)}}function Fa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function cO(t,e,n=!1){const r=t.children,i=e.children;if(Bt(r)&&Bt(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Zs(i[o]),a.el=s.el),n||cO(s,a))}}function eD(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(i=n[n.length-1],t[i]<l){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const tD=t=>t.__isTeleport,_n=Symbol(void 0),vy=Symbol(void 0),uo=Symbol(void 0),zv=Symbol(void 0),bc=[];let So=null;function Ue(t=!1){bc.push(So=t?null:[])}function nD(){bc.pop(),So=bc[bc.length-1]||null}let Bc=1;function ak(t){Bc+=t}function fO(t){return t.dynamicChildren=Bc>0?So||Ku:null,nD(),Bc>0&&So&&So.push(t),t}function ft(t,e,n,r,i,o){return fO(Ne(t,e,n,r,i,o,!0))}function gn(t,e,n,r,i){return fO(Un(t,e,n,r,i,!0))}function kh(t){return t?t.__v_isVNode===!0:!1}function Ja(t,e){return t.type===e.type&&t.key===e.key}const Bp="__vInternal",dO=({key:t})=>t!=null?t:null,Ud=({ref:t,ref_key:e,ref_for:n})=>t!=null?Lr(t)||yr(t)||rn(t)?{i:Xr,r:t,k:e,f:!!n}:t:null;function Ne(t,e=null,n=null,r=0,i=null,o=t===_n?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dO(e),ref:e&&Ud(e),scopeId:WA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(my(u,n),o&128&&t.normalize(u)):n&&(u.shapeFlag|=Lr(n)?8:16),Bc>0&&!s&&So&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&So.push(u),u}const Un=rD;function rD(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===DL)&&(t=uo),kh(t)){const a=va(t,e,!0);return n&&my(a,n),Bc>0&&!o&&So&&(a.shapeFlag&6?So[So.indexOf(t)]=a:So.push(a)),a.patchFlag|=-2,a}if(pD(t)&&(t=t.__vccOpts),e){e=iD(e);let{class:a,style:u}=e;a&&!Lr(a)&&(e.class=xi(a)),xr(u)&&(MA(u)&&!Bt(u)&&(u=Nr({},u)),e.style=Wn(u))}const s=Lr(t)?1:jL(t)?128:tD(t)?64:xr(t)?4:rn(t)?2:0;return Ne(t,e,n,r,i,s,o,!0)}function iD(t){return t?MA(t)||Bp in t?Nr({},t):t:null}function va(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?oD(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&dO(a),ref:e&&e.ref?n&&i?Bt(i)?i.concat(Ud(e)):[i,Ud(e)]:Ud(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_n?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&va(t.ssContent),ssFallback:t.ssFallback&&va(t.ssFallback),el:t.el,anchor:t.anchor}}function Es(t=" ",e=0){return Un(vy,null,t,e)}function Rn(t="",e=!1){return e?(Ue(),gn(uo,null,t)):Un(uo,null,t)}function Qo(t){return t==null||typeof t=="boolean"?Un(uo):Bt(t)?Un(_n,null,t.slice()):typeof t=="object"?Zs(t):Un(vy,null,String(t))}function Zs(t){return t.el===null||t.memo?t:va(t)}function my(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Bt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),my(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Bp in e)?e._ctx=Xr:i===3&&Xr&&(Xr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else rn(e)?(e={default:e,_ctx:Xr},n=32):(e=String(e),r&64?(n=16,e=[Es(e)]):n=8);t.children=e,t.shapeFlag|=n}function oD(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=xi([e.class,r.class]));else if(i==="style")e.style=Wn([e.style,r.style]);else if(Ap(i)){const o=e[i],s=r[i];s&&o!==s&&!(Bt(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Fo(t,e,n,r=null){ao(t,e,7,[n,r])}const sD=lO();let aD=0;function uD(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||sD,o={uid:aD++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new wA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oO(r,i),emitsOptions:HA(r,i),emit:null,emitted:null,propsDefaults:Vn,inheritAttrs:r.inheritAttrs,ctx:Vn,data:Vn,props:Vn,attrs:Vn,slots:Vn,refs:Vn,setupState:Vn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=yL.bind(null,o),t.ce&&t.ce(o),o}let Pr=null;const zp=()=>Pr||Xr,il=t=>{Pr=t,t.scope.on()},uu=()=>{Pr&&Pr.scope.off(),Pr=null};function hO(t){return t.vnode.shapeFlag&4}let zc=!1;function lD(t,e=!1){zc=e;const{props:n,children:r}=t.vnode,i=hO(t);WL(t,n,i,e),KL(t,r);const o=i?cD(t,e):void 0;return zc=!1,o}function cD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=rl(new Proxy(t.ctx,BL));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?dD(t):null;il(t),_l();const o=ua(r,t,0,[t.props,i]);if(Sl(),uu(),yA(o)){if(o.then(uu,uu),e)return o.then(s=>{uk(t,s,e)}).catch(s=>{Mp(s,t,0)});t.asyncDep=o}else uk(t,o,e)}else pO(t,e)}function uk(t,e,n){rn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:xr(e)&&(t.setupState=LA(e)),pO(t,n)}let lk;function pO(t,e,n){const r=t.type;if(!t.render){if(!e&&lk&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Nr(Nr({isCustomElement:o,delimiters:a},s),u);r.render=lk(i,l)}}t.render=r.render||Eo}il(t),_l(),zL(t),Sl(),uu()}function fD(t){return new Proxy(t.attrs,{get(e,n){return Vi(t,"get","$attrs"),e[n]}})}function dD(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=fD(t))},slots:t.slots,emit:t.emit,expose:e}}function Fp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(LA(rl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yh)return yh[n](t)}}))}function hD(t,e=!0){return rn(t)?t.displayName||t.name:t.name||e&&t.__name}function pD(t){return rn(t)&&"__vccOpts"in t}const Ht=(t,e)=>dL(t,e,zc);function vD(t,e,n){const r=arguments.length;return r===2?xr(e)&&!Bt(e)?kh(e)?Un(t,null,[e]):Un(t,e):Un(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&kh(n)&&(n=[n]),Un(t,e,n))}const mD="3.2.37",gD="http://www.w3.org/2000/svg",Ka=typeof document<"u"?document:null,ck=Ka&&Ka.createElement("template"),yD={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Ka.createElementNS(gD,t):Ka.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ka.createTextNode(t),createComment:t=>Ka.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ka.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ck.innerHTML=r?`<svg>${t}</svg>`:t;const a=ck.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function bD(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function kD(t,e,n){const r=t.style,i=Lr(n);if(n&&!i){for(const o in n)sg(r,o,n[o]);if(e&&!Lr(e))for(const o in e)n[o]==null&&sg(r,o,"")}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const fk=/\s*!important$/;function sg(t,e,n){if(Bt(n))n.forEach(r=>sg(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=wD(t,e);fk.test(n)?t.setProperty(jl(r),n.replace(fk,""),"important"):t[r]=n}}const dk=["Webkit","Moz","ms"],Fv={};function wD(t,e){const n=Fv[e];if(n)return n;let r=fs(e);if(r!=="filter"&&r in t)return Fv[e]=r;r=Tp(r);for(let i=0;i<dk.length;i++){const o=dk[i]+r;if(o in t)return Fv[e]=o}return e}const hk="http://www.w3.org/1999/xlink";function xD(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(hk,e.slice(6,e.length)):t.setAttributeNS(hk,e,n);else{const o=wN(e);n==null||o&&!vA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function jD(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const u=n==null?"":n;(t.value!==u||t.tagName==="OPTION")&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=vA(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[vO,_D]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let ag=0;const SD=Promise.resolve(),CD=()=>{ag=0},$D=()=>ag||(SD.then(CD),ag=vO());function Lu(t,e,n,r){t.addEventListener(e,n,r)}function AD(t,e,n,r){t.removeEventListener(e,n,r)}function OD(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[a,u]=ED(e);if(r){const l=o[e]=TD(r,i);Lu(t,a,l,u)}else s&&(AD(t,a,s,u),o[e]=void 0)}}const pk=/(?:Once|Passive|Capture)$/;function ED(t){let e;if(pk.test(t)){e={};let n;for(;n=t.match(pk);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[jl(t.slice(2)),e]}function TD(t,e){const n=r=>{const i=r.timeStamp||vO();(_D||i>=n.attached-1)&&ao(PD(r,n.value),e,5,[r])};return n.value=t,n.attached=$D(),n}function PD(t,e){if(Bt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const vk=/^on[a-z]/,MD=(t,e,n,r,i=!1,o,s,a,u)=>{e==="class"?bD(t,r,i):e==="style"?kD(t,n,r):Ap(e)?ey(e)||OD(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ID(t,e,r,i))?jD(t,e,r,o,s,a,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),xD(t,e,r,i))};function ID(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&vk.test(e)&&rn(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||vk.test(e)&&Lr(n)?!1:e in t}const Js="transition",Kl="animation",gf=(t,{slots:e})=>vD(GA,gO(t),e);gf.displayName="Transition";const mO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ND=gf.props=Nr({},GA.props,mO),qa=(t,e=[])=>{Bt(t)?t.forEach(n=>n(...e)):t&&t(...e)},mk=t=>t?Bt(t)?t.some(e=>e.length>1):t.length>1:!1;function gO(t){const e={};for(const N in t)N in mO||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:l=s,appearToClass:f=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=LD(i),v=p&&p[0],m=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:k,onLeaveCancelled:w,onBeforeAppear:C=g,onAppear:_=y,onAppearCancelled:T=b}=e,j=(N,A,$)=>{Xs(N,A?f:a),Xs(N,A?l:s),$&&$()},O=(N,A)=>{N._isLeaving=!1,Xs(N,c),Xs(N,h),Xs(N,d),A&&A()},S=N=>(A,$)=>{const q=N?_:y,Y=()=>j(A,N,$);qa(q,[A,Y]),gk(()=>{Xs(A,N?u:o),ks(A,N?f:a),mk(q)||yk(A,r,v,Y)})};return Nr(e,{onBeforeEnter(N){qa(g,[N]),ks(N,o),ks(N,s)},onBeforeAppear(N){qa(C,[N]),ks(N,u),ks(N,l)},onEnter:S(!1),onAppear:S(!0),onLeave(N,A){N._isLeaving=!0;const $=()=>O(N,A);ks(N,c),bO(),ks(N,d),gk(()=>{!N._isLeaving||(Xs(N,c),ks(N,h),mk(k)||yk(N,r,m,$))}),qa(k,[N,$])},onEnterCancelled(N){j(N,!1),qa(b,[N])},onAppearCancelled(N){j(N,!0),qa(T,[N])},onLeaveCancelled(N){O(N),qa(w,[N])}})}function LD(t){if(t==null)return null;if(xr(t))return[qv(t.enter),qv(t.leave)];{const e=qv(t);return[e,e]}}function qv(t){return vh(t)}function ks(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Xs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function gk(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let DD=0;function yk(t,e,n,r){const i=t._endId=++DD,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=yO(t,e);if(!s)return r();const l=s+"end";let f=0;const c=()=>{t.removeEventListener(l,d),o()},d=h=>{h.target===t&&++f>=u&&c()};setTimeout(()=>{f<u&&c()},a+1),t.addEventListener(l,d)}function yO(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(Js+"Delay"),o=r(Js+"Duration"),s=bk(i,o),a=r(Kl+"Delay"),u=r(Kl+"Duration"),l=bk(a,u);let f=null,c=0,d=0;e===Js?s>0&&(f=Js,c=s,d=o.length):e===Kl?l>0&&(f=Kl,c=l,d=u.length):(c=Math.max(s,l),f=c>0?s>l?Js:Kl:null,d=f?f===Js?o.length:u.length:0);const h=f===Js&&/\b(transform|all)(,|$)/.test(n[Js+"Property"]);return{type:f,timeout:c,propCount:d,hasTransform:h}}function bk(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>kk(n)+kk(t[r])))}function kk(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function bO(){return document.body.offsetHeight}const kO=new WeakMap,wO=new WeakMap,RD={name:"TransitionGroup",props:Nr({},ND,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=zp(),r=KA();let i,o;return XA(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!qD(i[0].el,n.vnode.el,s))return;i.forEach(BD),i.forEach(zD);const a=i.filter(FD);bO(),a.forEach(u=>{const l=u.el,f=l.style;ks(l,s),f.transform=f.webkitTransform=f.transitionDuration="";const c=l._moveCb=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",c),l._moveCb=null,Xs(l,s))};l.addEventListener("transitionend",c)})}),()=>{const s=Cn(t),a=gO(s);let u=s.tag||_n;i=o,o=e.default?dy(e.default()):[];for(let l=0;l<o.length;l++){const f=o[l];f.key!=null&&Rc(f,Dc(f,a,r,n))}if(i)for(let l=0;l<i.length;l++){const f=i[l];Rc(f,Dc(f,a,r,n)),kO.set(f,f.el.getBoundingClientRect())}return Un(u,null,o)}}},gy=RD;function BD(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function zD(t){wO.set(t,t.el.getBoundingClientRect())}function FD(t){const e=kO.get(t),n=wO.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function qD(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=yO(r);return i.removeChild(r),o}const wk=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Bt(e)?n=>Hd(e,n):e};function VD(t){t.target.composing=!0}function xk(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qp={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=wk(i);const o=r||i.props&&i.props.type==="number";Lu(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=vh(a)),t._assign(a)}),n&&Lu(t,"change",()=>{t.value=t.value.trim()}),e||(Lu(t,"compositionstart",VD),Lu(t,"compositionend",xk),Lu(t,"change",xk))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=wk(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&vh(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},HD=Nr({patchProp:MD},yD);let jk;function WD(){return jk||(jk=XL(HD))}const UD=(...t)=>{const e=WD().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=JD(r);if(!i)return;const o=e._component;!rn(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function JD(t){return Lr(t)?document.querySelector(t):t}const xO=Tr([]),jO=Tr(null),_O=Tr(null),SO=Tr(null),CO=Tr(null),Zr=Zo({current:""}),ug=[],KD=Tr(!1),lg=Sa(xO),GD=Sa(jO),QD=Sa(_O),YD=Sa(SO),XD=Sa(CO),ZD=Sa(Zr),eR=t=>{xO.value=t},tR=t=>{jO.value=t},nR=t=>{_O.value=t},rR=t=>{SO.value=t},iR=t=>{CO.value=t},$O=(t=GD.value)=>{Zr.current=t;const e=lg.value.findIndex(r=>r.name===t),n=lg.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const i=n[r]+"Minus",o=n[r]+"Plus";Zr[i]=e<=r,Zr[o]=e>=r}Zr[n[r]]=n[r]===t}},oR=()=>{const t=Object.keys(Zr);for(let e of t)delete Zr[e];$O(),AO(),OO(),EO()},AO=(t=QD.value)=>{Zr.orientation=t,Zr.isLandscape=t==="landscape",Zr.isPortrait=t==="portrait"},OO=(t=YD.value||"light")=>{Zr.theme=t,Zr.isDark=t==="dark",Zr.isLight=t==="light"},EO=(t=XD.value||"no-preference")=>{Zr.motionPreference=t,Zr.isMotion=t==="no-preference",Zr.isInert=t==="reduce"};function sR(){for(;ug.length>0;){const t=ug.shift();if(t&&typeof t=="object"){const{mql:e,cb:n}=t;e.addEventListener&&typeof e.addEventListener=="function"?e.removeEventListener("change",n):e.removeListener(n)}}}function aR(){return lg.value.reduce((e,n,r,i)=>{const o=`(min-width: ${n.min}px)`,s=r<i.length-1?`(max-width: ${i[r+1].min-1}px)`:null,a=o+(s?" and "+s:"");return Object.assign(e,{[n.name]:a})},{})}function Zf(t,e){if(typeof window>"u"||!window.matchMedia)return!1;if(typeof window<"u"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{KD.value=!0;const n=window.matchMedia(t),r=({matches:o})=>{o&&e()};ug.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const uR={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},lR={xs:0,sm:576,md:768,lg:992,xl:1200},cR={xs:0,sm:768,md:992,lg:1200},fR={xs:0,sm:600,md:960,lg:1264,xl:1904},dR={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},hR={phone:0,tablet:768,laptop:1370,desktop:1906},pR={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var Vv=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:uR,bootstrap4:lR,bootstrap3:cR,vuetify:fR,tailwind:dR,devices:hR,wordpress:pR},Symbol.toStringTag,{value:"Module"}));const vR=t=>{if(typeof t=="string"&&Vv[t])return Vv[t];{const e=Object.keys(Vv);return console.error(`Vue3 Mq: "${t}" is not a valid preset. Available options are: ${e.join(", ")}`),!1}},mR=t=>["landscape","portrait"].includes(t)===!1?(console.error(`Vue3 Mq: "${t}" is not a valid default orientation. Reverting to unset value.`),null):t,gR=(t=null)=>["dark","light"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default theme. Reverting to unset value.`),null):t,yR=(t=null)=>["no-preference","reduce"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default motion preference. Reverting to unset value.`),null):t,_k=t=>{if(!t||typeof t!="object")return!1;const e=[];for(let i in t){const o=parseFloat(t[i]);if(!i||typeof i!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(i)}). Skipping.`);continue}else if(/^[^a-z]/i.test(i)||/[^a-zA-Z0-9_]/.test(i)){console.warn(`Vue3 Mq: "${i}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!o&&o!==0||isNaN(o)||o<0){console.warn(`Vue3 Mq: "${i}: ${t[i]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}e.push({name:i,min:o})}return e.some(i=>i.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(e.map(i=>i.min)).size<e.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),e.length===0?!1:e.sort((i,o)=>i.min-o.min)};function Sk({breakpoints:t,preset:e}){const n=vR(e),r=_k(t);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");eR(r||_k(n)),sR(),oR();const i=aR();for(const o in i){const s=i[o];Zf(s,()=>{$O(o)})}["portrait","landscape"].forEach(o=>{const s=()=>{AO(o)};Zf(`(orientation: ${o})`,s)}),["light","dark"].forEach(o=>{const s=()=>{OO(o)};Zf(`(prefers-color-scheme: ${o})`,s)}),["reduce","no-preference"].forEach(o=>{const s=()=>{EO(o)};Zf(`(prefers-reduced-motion: ${o})`,s)})}const bR=(t,{preset:e="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:i="landscape",defaultMotion:o="no-preference",defaultTheme:s}={})=>{try{const a=mR(i),u=gR(s),l=yR(o);tR(r),nR(a),rR(u),iR(l),t.provide("mq",ZD),t.provide("updateBreakpoints",Sk),Sk({breakpoints:n,preset:e})}catch(a){console.error(a)}};var kR={install:bR};class TO{constructor(){Qi(this,"debug");Qi(this,"logger",{log:()=>{}})}setupDebugger(e){this.debug=e,e&&(this.logger.log=console.log.bind(window.console))}}const PO=new TO,To=PO.logger;function wh(t,e){return Date.now()-t+e}function yy(t){const e=parseInt(t,10);let n=Math.floor(e/3600),r=Math.floor((e-n*3600)/60),i=e-n*3600-r*60;return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),n+":"+r+":"+i}const wR=Qn({props:{containerCssClass:String,cantClose:{type:Boolean,default:!1}},methods:{close(){this.cantClose||this.$emit("close")}}});const $i=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},xR={class:"modal-header"},jR=Es(" default header "),_R=Ne("hr",{class:"solid"},null,-1),SR={class:"modal-body"},CR=Es(" default body "),$R={class:"modal-footer"};function AR(t,e,n,r,i,o){return Ue(),gn(gf,{name:"fade"},{default:Dn(()=>[Ne("div",{class:"modal-mask",onClick:e[2]||(e[2]=(...s)=>t.close&&t.close(...s))},[Ne("div",{class:xi(["modal-container bg-gray-800 card-4",t.containerCssClass]),onClick:e[1]||(e[1]=s=>s.stopPropagation())},[Ne("div",xR,[t.cantClose?Rn("",!0):(Ue(),ft("button",{key:0,class:"close-button",onClick:e[0]||(e[0]=(...s)=>t.close&&t.close(...s))}," X ")),yc(t.$slots,"header",{},()=>[jR]),_R]),Ne("div",SR,[yc(t.$slots,"body",{},()=>[CR])]),Ne("div",$R,[yc(t.$slots,"footer")])],2)])]),_:3})}const Ca=$i(wR,[["render",AR]]);function Ms(t){return Array.isArray?Array.isArray(t):NO(t)==="[object Array]"}const OR=1/0;function ER(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-OR?"-0":e}function TR(t){return t==null?"":ER(t)}function es(t){return typeof t=="string"}function MO(t){return typeof t=="number"}function PR(t){return t===!0||t===!1||MR(t)&&NO(t)=="[object Boolean]"}function IO(t){return typeof t=="object"}function MR(t){return IO(t)&&t!==null}function Pi(t){return t!=null}function Hv(t){return!t.trim().length}function NO(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const IR="Incorrect 'index' type",NR=t=>`Invalid value for key ${t}`,LR=t=>`Pattern length exceeds max of ${t}.`,DR=t=>`Missing ${t} property in key`,RR=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ck=Object.prototype.hasOwnProperty;class BR{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=LO(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function LO(t){let e=null,n=null,r=null,i=1,o=null;if(es(t)||Ms(t))r=t,e=$k(t),n=cg(t);else{if(!Ck.call(t,"name"))throw new Error(DR("name"));const s=t.name;if(r=s,Ck.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(RR(s));e=$k(s),n=cg(s),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function $k(t){return Ms(t)?t:t.split(".")}function cg(t){return Ms(t)?t.join("."):t}function zR(t,e){let n=[],r=!1;const i=(o,s,a)=>{if(!!Pi(o))if(!s[a])n.push(o);else{let u=s[a];const l=o[u];if(!Pi(l))return;if(a===s.length-1&&(es(l)||MO(l)||PR(l)))n.push(TR(l));else if(Ms(l)){r=!0;for(let f=0,c=l.length;f<c;f+=1)i(l[f],s,a+1)}else s.length&&i(l,s,a+1)}};return i(t,es(e)?e.split("."):e,0),r?n:n[0]}const FR={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qR={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},VR={location:0,threshold:.6,distance:100},HR={useExtendedSearch:!1,getFn:zR,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Wt={...qR,...FR,...VR,...HR};const WR=/[^ ]+/g;function UR(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const o=i.match(WR).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*t),a=parseFloat(Math.round(s*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class by{constructor({getFn:e=Wt.getFn,fieldNormWeight:n=Wt.fieldNormWeight}={}){this.norm=UR(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,es(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();es(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Pi(e)||Hv(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(!!Pi(s)){if(Ms(s)){let a=[];const u=[{nestedArrIndex:-1,value:s}];for(;u.length;){const{nestedArrIndex:l,value:f}=u.pop();if(!!Pi(f))if(es(f)&&!Hv(f)){let c={v:f,i:l,n:this.norm.get(f)};a.push(c)}else Ms(f)&&f.forEach((c,d)=>{u.push({nestedArrIndex:d,value:c})})}r.$[o]=a}else if(es(s)&&!Hv(s)){let a={v:s,n:this.norm.get(s)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function DO(t,e,{getFn:n=Wt.getFn,fieldNormWeight:r=Wt.fieldNormWeight}={}){const i=new by({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(LO)),i.setSources(e),i.create(),i}function JR(t,{getFn:e=Wt.getFn,fieldNormWeight:n=Wt.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new by({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function ed(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Wt.distance,ignoreLocation:o=Wt.ignoreLocation}={}){const s=e/t.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}function KR(t=[],e=Wt.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let a=t[o];a&&r===-1?r=o:!a&&r!==-1&&(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}const Ga=32;function GR(t,e,n,{location:r=Wt.location,distance:i=Wt.distance,threshold:o=Wt.threshold,findAllMatches:s=Wt.findAllMatches,minMatchCharLength:a=Wt.minMatchCharLength,includeMatches:u=Wt.includeMatches,ignoreLocation:l=Wt.ignoreLocation}={}){if(e.length>Ga)throw new Error(LR(Ga));const f=e.length,c=t.length,d=Math.max(0,Math.min(r,c));let h=o,p=d;const v=a>1||u,m=v?Array(c):[];let g;for(;(g=t.indexOf(e,p))>-1;){let _=ed(e,{currentLocation:g,expectedLocation:d,distance:i,ignoreLocation:l});if(h=Math.min(_,h),p=g+f,v){let T=0;for(;T<f;)m[g+T]=1,T+=1}}p=-1;let y=[],b=1,k=f+c;const w=1<<f-1;for(let _=0;_<f;_+=1){let T=0,j=k;for(;T<j;)ed(e,{errors:_,currentLocation:d+j,expectedLocation:d,distance:i,ignoreLocation:l})<=h?T=j:k=j,j=Math.floor((k-T)/2+T);k=j;let O=Math.max(1,d-j+1),S=s?c:Math.min(d+j,c)+f,N=Array(S+2);N[S+1]=(1<<_)-1;for(let $=S;$>=O;$-=1){let q=$-1,Y=n[t.charAt(q)];if(v&&(m[q]=+!!Y),N[$]=(N[$+1]<<1|1)&Y,_&&(N[$]|=(y[$+1]|y[$])<<1|1|y[$+1]),N[$]&w&&(b=ed(e,{errors:_,currentLocation:q,expectedLocation:d,distance:i,ignoreLocation:l}),b<=h)){if(h=b,p=q,p<=d)break;O=Math.max(1,2*d-p)}}if(ed(e,{errors:_+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:l})>h)break;y=N}const C={isMatch:p>=0,score:Math.max(.001,b)};if(v){const _=KR(m,a);_.length?u&&(C.indices=_):C.isMatch=!1}return C}function QR(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class RO{constructor(e,{location:n=Wt.location,threshold:r=Wt.threshold,distance:i=Wt.distance,includeMatches:o=Wt.includeMatches,findAllMatches:s=Wt.findAllMatches,minMatchCharLength:a=Wt.minMatchCharLength,isCaseSensitive:u=Wt.isCaseSensitive,ignoreLocation:l=Wt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(d,h)=>{this.chunks.push({pattern:d,alphabet:QR(d),startIndex:h})},c=this.pattern.length;if(c>Ga){let d=0;const h=c%Ga,p=c-h;for(;d<p;)f(this.pattern.substr(d,Ga),d),d+=Ga;if(h){const v=c-Ga;f(this.pattern.substr(v),v)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,e.length-1]]),p}const{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:u,ignoreLocation:l}=this.options;let f=[],c=0,d=!1;this.chunks.forEach(({pattern:p,alphabet:v,startIndex:m})=>{const{isMatch:g,score:y,indices:b}=GR(e,p,v,{location:i+m,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:u,includeMatches:r,ignoreLocation:l});g&&(d=!0),c+=y,g&&b&&(f=[...f,...b])});let h={isMatch:d,score:d?c/this.chunks.length:1};return d&&r&&(h.indices=f),h}}class $a{constructor(e){this.pattern=e}static isMultiMatch(e){return Ak(e,this.multiRegex)}static isSingleMatch(e){return Ak(e,this.singleRegex)}search(){}}function Ak(t,e){const n=t.match(e);return n?n[1]:null}class YR extends $a{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class XR extends $a{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class ZR extends $a{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class eB extends $a{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class tB extends $a{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class nB extends $a{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class BO extends $a{constructor(e,{location:n=Wt.location,threshold:r=Wt.threshold,distance:i=Wt.distance,includeMatches:o=Wt.includeMatches,findAllMatches:s=Wt.findAllMatches,minMatchCharLength:a=Wt.minMatchCharLength,isCaseSensitive:u=Wt.isCaseSensitive,ignoreLocation:l=Wt.ignoreLocation}={}){super(e),this._bitapSearch=new RO(e,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class zO extends $a{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const fg=[YR,zO,ZR,eB,nB,tB,XR,BO],Ok=fg.length,rB=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,iB="|";function oB(t,e={}){return t.split(iB).map(n=>{let r=n.trim().split(rB).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=r.length;o<s;o+=1){const a=r[o];let u=!1,l=-1;for(;!u&&++l<Ok;){const f=fg[l];let c=f.isMultiMatch(a);c&&(i.push(new f(c,e)),u=!0)}if(!u)for(l=-1;++l<Ok;){const f=fg[l];let c=f.isSingleMatch(a);if(c){i.push(new f(c,e));break}}}return i})}const sB=new Set([BO.type,zO.type]);class aB{constructor(e,{isCaseSensitive:n=Wt.isCaseSensitive,includeMatches:r=Wt.includeMatches,minMatchCharLength:i=Wt.minMatchCharLength,ignoreLocation:o=Wt.ignoreLocation,findAllMatches:s=Wt.findAllMatches,location:a=Wt.location,threshold:u=Wt.threshold,distance:l=Wt.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:u,distance:l},this.pattern=n?e:e.toLowerCase(),this.query=oB(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,s=[],a=0;for(let u=0,l=n.length;u<l;u+=1){const f=n[u];s.length=0,o=0;for(let c=0,d=f.length;c<d;c+=1){const h=f[c],{isMatch:p,indices:v,score:m}=h.search(e);if(p){if(o+=1,a+=m,r){const g=h.constructor.type;sB.has(g)?s=[...s,...v]:s.push(v)}}else{a=0,o=0,s.length=0;break}}if(o){let c={isMatch:!0,score:a/o};return r&&(c.indices=s),c}}return{isMatch:!1,score:1}}}const dg=[];function uB(...t){dg.push(...t)}function hg(t,e){for(let n=0,r=dg.length;n<r;n+=1){let i=dg[n];if(i.condition(t,e))return new i(t,e)}return new RO(t,e)}const xh={AND:"$and",OR:"$or"},pg={PATH:"$path",PATTERN:"$val"},vg=t=>!!(t[xh.AND]||t[xh.OR]),lB=t=>!!t[pg.PATH],cB=t=>!Ms(t)&&IO(t)&&!vg(t),Ek=t=>({[xh.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function FO(t,e,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const s=lB(i);if(!s&&o.length>1&&!vg(i))return r(Ek(i));if(cB(i)){const u=s?i[pg.PATH]:o[0],l=s?i[pg.PATTERN]:i[u];if(!es(l))throw new Error(NR(u));const f={keyId:cg(u),pattern:l};return n&&(f.searcher=hg(l,e)),f}let a={children:[],operator:o[0]};return o.forEach(u=>{const l=i[u];Ms(l)&&l.forEach(f=>{a.children.push(r(f))})}),a};return vg(t)||(t=Ek(t)),r(t)}function fB(t,{ignoreFieldNorm:e=Wt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:s})=>{const a=i?i.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:o))}),n.score=r})}function dB(t,e){const n=t.matches;e.matches=[],Pi(n)&&n.forEach(r=>{if(!Pi(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let s={indices:i,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),e.matches.push(s)})}function hB(t,e){e.score=t.score}function pB(t,e,{includeMatches:n=Wt.includeMatches,includeScore:r=Wt.includeScore}={}){const i=[];return n&&i.push(dB),r&&i.push(hB),t.map(o=>{const{idx:s}=o,a={item:e[s],refIndex:s};return i.length&&i.forEach(u=>{u(o,a)}),a})}class $l{constructor(e,n={},r){this.options={...Wt,...n},this.options.useExtendedSearch,this._keyStore=new BR(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof by))throw new Error(IR);this._myIndex=n||DO(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!Pi(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options;let u=es(e)?es(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return fB(u,{ignoreFieldNorm:a}),o&&u.sort(s),MO(n)&&n>-1&&(u=u.slice(0,n)),pB(u,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=hg(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:s,n:a})=>{if(!Pi(o))return;const{isMatch:u,score:l,indices:f}=n.searchIn(o);u&&i.push({item:o,idx:s,matches:[{score:l,value:o,norm:a,indices:f}]})}),i}_searchLogical(e){const n=FO(e,this.options),r=(a,u,l)=>{if(!a.children){const{keyId:c,searcher:d}=a,h=this._findMatches({key:this._keyStore.get(c),value:this._myIndex.getValueForItemAtKeyId(u,c),searcher:d});return h&&h.length?[{idx:l,item:u,matches:h}]:[]}const f=[];for(let c=0,d=a.children.length;c<d;c+=1){const h=a.children[c],p=r(h,u,l);if(p.length)f.push(...p);else if(a.operator===xh.AND)return[]}return f},i=this._myIndex.records,o={},s=[];return i.forEach(({$:a,i:u})=>{if(Pi(a)){let l=r(n,a,u);l.length&&(o[u]||(o[u]={idx:u,item:a,matches:[]},s.push(o[u])),l.forEach(({matches:f})=>{o[u].matches.push(...f)}))}}),s}_searchObjectList(e){const n=hg(e,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:a})=>{if(!Pi(s))return;let u=[];r.forEach((l,f)=>{u.push(...this._findMatches({key:l,value:s[f],searcher:n}))}),u.length&&o.push({idx:a,item:s,matches:u})}),o}_findMatches({key:e,value:n,searcher:r}){if(!Pi(n))return[];let i=[];if(Ms(n))n.forEach(({v:o,i:s,n:a})=>{if(!Pi(o))return;const{isMatch:u,score:l,indices:f}=r.searchIn(o);u&&i.push({score:l,key:e,value:o,idx:s,norm:a,indices:f})});else{const{v:o,n:s}=n,{isMatch:a,score:u,indices:l}=r.searchIn(o);a&&i.push({score:u,key:e,value:o,norm:s,indices:l})}return i}}$l.version="6.6.2";$l.createIndex=DO;$l.parseIndex=JR;$l.config=Wt;$l.parseQuery=FO;uB(aB);var Tk,Pk,Mk,Ik,Nk,Lk,Dk,Rk,Bk,zk,Fk,qk,Vk,Hk,Wk,Uk,Jk,Kk,Gk,Qk,Yk,Xk,Zk,ew,tw,nw,rw,iw,ow,sw,aw,uw,lw,cw,fw,dw,hw,pw,vw,mw,gw,yw,bw,kw,ww,xw,jw,_w,Sw,Cw,$w,Aw,Ow,Ew,Tw,Pw,Mw,Iw,Nw,Lw,Dw,Rw,Bw,zw,Fw,qw,Vw,Hw,Ww,Uw,Jw,Kw,Gw,Qw,Yw,Xw,Zw,ex,tx,nx,rx,ix,ox,sx,ax,ux,lx,cx,fx,dx,hx,px,vx,mx,gx,yx,bx,kx,wx,xx,jx,_x,Sx,Cx,$x,Ax,Ox,Ex,Tx,Px,Mx,Ix,Nx,Lx,Dx,Rx,Bx,zx,Fx,qx,Vx,Hx,Wx,Ux,Jx,Kx,Gx,Qx,Yx,Xx,Zx,e2,t2,n2,r2,i2,o2,s2,a2,u2,l2,c2,f2,d2,h2,p2,v2,m2,g2,y2,b2,k2,w2,x2,j2,_2,S2,C2,$2,A2,O2,E2,T2,P2,M2,I2,N2,L2,D2,R2,B2,z2,F2,q2,V2,H2,W2,U2,J2,K2,G2,Q2,Y2,X2,Z2,ej,tj,nj,rj,ij,oj,sj,aj,uj,lj,cj,fj,dj,hj,pj,vj,mj,gj,yj,bj,kj,wj,xj,jj,_j,Sj,Cj,$j,Aj,Oj,Ej,Tj,Pj,Mj,Ij,Nj,Lj,Dj,Rj,Bj,zj,Fj,qj,Vj,Hj,Wj,Uj,Jj,Kj,Gj,Qj,Yj,Xj,Zj,e_,t_,n_,r_,i_,o_,s_,a_,u_,l_,c_,f_,d_,h_,p_,v_,m_,g_,y_,b_,k_,w_,x_,j_,__,S_,C_,$_,A_,O_,E_,T_,P_,M_,I_,N_,L_,D_,R_,B_,z_,F_,q_;function Jd(t){var e=typeof Map=="function"?new Map:void 0;return(Jd=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return qO(n,arguments,un(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Vp(i,n)})(t)}function qO(t,e,n){return(qO=HO()?Reflect.construct.bind():function(r,i,o){var s=[null];s.push.apply(s,i);var a=new(Function.bind.apply(r,s));return o&&Vp(a,o.prototype),a}).apply(null,arguments)}function ue(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function jt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(O,S,N){return Object.defineProperty(O,S,{value:N,enumerable:!0,configurable:!0,writable:!0}),O[S]}try{a({},"")}catch{a=function(S,N,A){return S[N]=A}}function u(O,S,N,A){var $=S&&S.prototype instanceof c?S:c,q=Object.create($.prototype),Y=new _(A||[]);return q._invoke=function(z,J,L){var D="suspendedStart";return function(U,W){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(U==="throw")throw W;return j()}for(L.method=U,L.arg=W;;){var F=L.delegate;if(F){var E=k(F,L);if(E){if(E===f)continue;return E}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(D==="suspendedStart")throw D="completed",L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);D="executing";var x=l(z,J,L);if(x.type==="normal"){if(D=L.done?"completed":"suspendedYield",x.arg===f)continue;return{value:x.arg,done:L.done}}x.type==="throw"&&(D="completed",L.method="throw",L.arg=x.arg)}}}(O,N,Y),q}function l(O,S,N){try{return{type:"normal",arg:O.call(S,N)}}catch(A){return{type:"throw",arg:A}}}t.wrap=u;var f={};function c(){}function d(){}function h(){}var p={};a(p,i,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&n.call(m,i)&&(p=m);var g=h.prototype=c.prototype=Object.create(p);function y(O){["next","throw","return"].forEach(function(S){a(O,S,function(N){return this._invoke(S,N)})})}function b(O,S){function N($,q,Y,z){var J=l(O[$],O,q);if(J.type!=="throw"){var L=J.arg,D=L.value;return D&&lt(D)=="object"&&n.call(D,"__await")?S.resolve(D.__await).then(function(U){N("next",U,Y,z)},function(U){N("throw",U,Y,z)}):S.resolve(D).then(function(U){L.value=U,Y(L)},function(U){return N("throw",U,Y,z)})}z(J.arg)}var A;this._invoke=function($,q){function Y(){return new S(function(z,J){N($,q,z,J)})}return A=A?A.then(Y,Y):Y()}}function k(O,S){var N=O.iterator[S.method];if(N===void 0){if(S.delegate=null,S.method==="throw"){if(O.iterator.return&&(S.method="return",S.arg=void 0,k(O,S),S.method==="throw"))return f;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var A=l(N,O.iterator,S.arg);if(A.type==="throw")return S.method="throw",S.arg=A.arg,S.delegate=null,f;var $=A.arg;return $?$.done?(S[O.resultName]=$.value,S.next=O.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,f):$:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,f)}function w(O){var S={tryLoc:O[0]};1 in O&&(S.catchLoc=O[1]),2 in O&&(S.finallyLoc=O[2],S.afterLoc=O[3]),this.tryEntries.push(S)}function C(O){var S=O.completion||{};S.type="normal",delete S.arg,O.completion=S}function _(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(w,this),this.reset(!0)}function T(O){if(O){var S=O[i];if(S)return S.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var N=-1,A=function $(){for(;++N<O.length;)if(n.call(O,N))return $.value=O[N],$.done=!1,$;return $.value=void 0,$.done=!0,$};return A.next=A}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,a(g,"constructor",h),a(h,"constructor",d),d.displayName=a(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(O){var S=typeof O=="function"&&O.constructor;return!!S&&(S===d||(S.displayName||S.name)==="GeneratorFunction")},t.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,h):(O.__proto__=h,a(O,s,"GeneratorFunction")),O.prototype=Object.create(g),O},t.awrap=function(O){return{__await:O}},y(b.prototype),a(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(O,S,N,A,$){$===void 0&&($=Promise);var q=new b(u(O,S,N,A),$);return t.isGeneratorFunction(S)?q:q.next().then(function(Y){return Y.done?Y.value:q.next()})},y(g),a(g,s,"Generator"),a(g,i,function(){return this}),a(g,"toString",function(){return"[object Generator]"}),t.keys=function(O){var S=[];for(var N in O)S.push(N);return S.reverse(),function A(){for(;S.length;){var $=S.pop();if($ in O)return A.value=$,A.done=!1,A}return A.done=!0,A}},t.values=T,_.prototype={constructor:_,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!O)for(var S in this)S.charAt(0)==="t"&&n.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var S=this;function N(J,L){return q.type="throw",q.arg=O,S.next=J,L&&(S.method="next",S.arg=void 0),!!L}for(var A=this.tryEntries.length-1;A>=0;--A){var $=this.tryEntries[A],q=$.completion;if($.tryLoc==="root")return N("end");if($.tryLoc<=this.prev){var Y=n.call($,"catchLoc"),z=n.call($,"finallyLoc");if(Y&&z){if(this.prev<$.catchLoc)return N($.catchLoc,!0);if(this.prev<$.finallyLoc)return N($.finallyLoc)}else if(Y){if(this.prev<$.catchLoc)return N($.catchLoc,!0)}else{if(!z)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return N($.finallyLoc)}}}},abrupt:function(O,S){for(var N=this.tryEntries.length-1;N>=0;--N){var A=this.tryEntries[N];if(A.tryLoc<=this.prev&&n.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var $=A;break}}$&&(O==="break"||O==="continue")&&$.tryLoc<=S&&S<=$.finallyLoc&&($=null);var q=$?$.completion:{};return q.type=O,q.arg=S,$?(this.method="next",this.next=$.finallyLoc,f):this.complete(q)},complete:function(O,S){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&S&&(this.next=S),f},finish:function(O){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.finallyLoc===O)return this.complete(N.completion,N.afterLoc),C(N),f}},catch:function(O){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.tryLoc===O){var A=N.completion;if(A.type==="throw"){var $=A.arg;C(N)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(O,S,N){return this.delegate={iterator:T(O),resultName:S,nextLoc:N},this.method==="next"&&(this.arg=void 0),f}},t}function V_(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function Nn(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){V_(o,r,i,s,a,"next",u)}function a(u){V_(o,r,i,s,a,"throw",u)}s(void 0)})}}function ce(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ky(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function mn(){return(mn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=vB(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function vB(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=un(t))!==null;);return t}function Et(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],u=!0,l=!1;try{for(i=i.call(n);!(u=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);u=!0);}catch(f){l=!0,s=f}finally{try{u||i.return==null||i.return()}finally{if(l)throw s}}return a}}(t,e)||ky(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}function Vp(t,e){return(Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(t,e)}function ze(t){var e=HO();return function(){var n,r=un(t);if(e){var i=un(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VO(this,n)}}function VO(t,e){if(e&&(lt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}function _t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ol(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nn(t){return function(e){if(Array.isArray(e))return mg(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ky(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ky(t,e){if(t){if(typeof t=="string")return mg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mg(t,e):void 0}}function mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e,n){return e&&W_(t.prototype,e),n&&W_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lt(t){return(lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qe(){}var WO=function(t){return t};function Aa(t,e){for(var n in e)t[n]=e[n];return t}function UO(t){return t()}function U_(){return Object.create(null)}function rr(t){t.forEach(UO)}function Co(t){return typeof t=="function"}function Ar(t,e){return t!=t?e==e:t!==e||t&&lt(t)==="object"||typeof t=="function"}function dn(t,e){return t!=t?e==e:t!==e}function Io(t,e,n,r){if(t){var i=JO(t,e,n,r);return t[0](i)}}function JO(t,e,n,r){return t[1]&&r?Aa(n.ctx.slice(),t[1](r(e))):n.ctx}function No(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(e.dirty===void 0)return i;if(lt(i)==="object"){for(var o=[],s=Math.max(e.dirty.length,i.length),a=0;a<s;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function Lo(t,e,n,r,i,o){if(i){var s=JO(e,n,r,o);t.p(s,i)}}function Do(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function wr(t){return t==null?"":t}function yf(t){return t&&Co(t.destroy)?t.destroy:Qe}var td,KO=typeof window<"u",mB=KO?function(){return window.performance.now()}:function(){return Date.now()},wy=KO?function(t){return requestAnimationFrame(t)}:Qe,kc=new Set;function GO(t){kc.forEach(function(e){e.c(t)||(kc.delete(e),e.f())}),kc.size!==0&&wy(GO)}function G(t,e){t.appendChild(e)}function zt(t,e,n){var r=xy(t);if(!r.getElementById(e)){var i=oe("style");i.id=e,i.textContent=n,QO(r,i)}}function xy(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function gB(t){var e=oe("style");return QO(xy(t),e),e.sheet}function QO(t,e){G(t.head||t,e)}function ye(t,e,n){t.insertBefore(e,n||null)}function me(t){t.parentNode.removeChild(t)}function Ai(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function oe(t){return document.createElement(t)}function Is(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function rt(t){return document.createTextNode(t)}function Ee(){return rt(" ")}function wn(){return rt("")}function Fe(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function YO(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function J_(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:P(t,r,e[r])}function jh(t,e){for(var n in e)P(t,n,e[n])}function gg(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""||n:P(t,e,n)}function yB(t){return Array.from(t.childNodes)}function on(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ma(t,e){t.value=e==null?"":e}function Yo(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function K_(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function bB(){if(td===void 0){td=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{td=!0}}return td}function Ze(t,e,n){t.classList[n?"add":"remove"](e)}function XO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.bubbles,i=r!==void 0&&r,o=n.cancelable,s=o!==void 0&&o,a=document.createEvent("CustomEvent");return a.initCustomEvent(t,i,s,e),a}var Fc,kB=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];te(this,t),this.is_svg=!1,this.is_svg=e,this.e=this.n=null}return ne(t,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.e||(this.is_svg?this.e=Is(n.nodeName):this.e=oe(n.nodeName),this.t=n,this.c(e)),this.i(r)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(e){for(var n=0;n<this.n.length;n+=1)ye(this.t,this.n[n],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(me)}}]),t}(),_h=new Map,yg=0;function wB(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function xB(t,e){var n={stylesheet:gB(e),rules:{}};return _h.set(t,n),n}function G_(t,e,n,r,i,o,s){for(var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,u=16.666/r,l=`{
`,f=0;f<=1;f+=u){var c=e+(n-e)*o(f);l+=100*f+"%{".concat(s(c,1-c),`}
`)}var d=l+"100% {".concat(s(n,1-n),`}
}`),h="__svelte_".concat(wB(d),"_").concat(a),p=xy(t),v=_h.get(p)||xB(p,t),m=v.stylesheet,g=v.rules;g[h]||(g[h]=!0,m.insertRule("@keyframes ".concat(h," ").concat(d),m.cssRules.length));var y=t.style.animation||"";return t.style.animation="".concat(y?"".concat(y,", "):"").concat(h," ").concat(r,"ms linear ").concat(i,"ms 1 both"),yg+=1,h}function jB(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(o){return o.indexOf(e)<0}:function(o){return o.indexOf("__svelte")===-1}),i=n.length-r.length;i&&(t.style.animation=r.join(", "),(yg-=i)||wy(function(){yg||(_h.forEach(function(o){for(var s=o.stylesheet,a=s.cssRules.length;a--;)s.deleteRule(a);o.rules={}}),_h.clear())}))}function wc(t){Fc=t}function Al(){if(!Fc)throw new Error("Function called outside component initialization");return Fc}function ZO(t){Al().$$.before_update.push(t)}function fo(t){Al().$$.on_mount.push(t)}function ga(t){Al().$$.on_destroy.push(t)}function Hp(){var t=Al();return function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.cancelable,o=i!==void 0&&i,s=t.$$.callbacks[e];if(s){var a=XO(e,n,{cancelable:o});return s.slice().forEach(function(u){u.call(t,a)}),!a.defaultPrevented}return!0}}function e6(t,e){return Al().$$.context.set(t,e),e}function Si(t){return Al().$$.context.get(t)}var ac=[],tn=[],Kd=[],bg=[],t6=Promise.resolve(),kg=!1;function n6(){kg||(kg=!0,t6.then(r6))}function vr(){return n6(),t6}function ya(t){Kd.push(t)}function io(t){bg.push(t)}var nd,Wv=new Set,rd=0;function r6(){var t=Fc;do{for(;rd<ac.length;){var e=ac[rd];rd++,wc(e),_B(e.$$)}for(wc(null),ac.length=0,rd=0;tn.length;)tn.pop()();for(var n=0;n<Kd.length;n+=1){var r=Kd[n];Wv.has(r)||(Wv.add(r),r())}Kd.length=0}while(ac.length);for(;bg.length;)bg.pop()();kg=!1,Wv.clear(),wc(t)}function _B(t){if(t.fragment!==null){t.update(),rr(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ya)}}function Uv(t,e,n){t.dispatchEvent(XO("".concat(e?"intro":"outro").concat(n)))}var Cs,Gd=new Set;function Ke(){Cs={r:0,c:[],p:Cs}}function Ge(){Cs.r||rr(Cs.c),Cs=Cs.p}function Q(t,e){t&&t.i&&(Gd.delete(t),t.i(e))}function re(t,e,n,r){if(t&&t.o){if(Gd.has(t))return;Gd.add(t),Cs.c.push(function(){Gd.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}var SB={duration:0};function id(t,e,n,r){var i=e(t,n),o=r?0:1,s=null,a=null,u=null;function l(){u&&jB(t,u)}function f(d,h){var p=d.b-o;return h*=Math.abs(p),{a:o,b:d.b,d:p,duration:h,start:d.start,end:d.start+h,group:d.group}}function c(d){var h,p=i||SB,v=p.delay,m=v===void 0?0:v,g=p.duration,y=g===void 0?300:g,b=p.easing,k=b===void 0?WO:b,w=p.tick,C=w===void 0?Qe:w,_=p.css,T={start:mB()+m,b:d};d||(T.group=Cs,Cs.r+=1),s||a?a=T:(_&&(l(),u=G_(t,o,d,y,m,k,_)),d&&C(0,1),s=f(T,y),ya(function(){return Uv(t,d,"start")}),h=function(j){if(a&&j>a.start&&(s=f(a,y),a=null,Uv(t,s.b,"start"),_&&(l(),u=G_(t,o,s.b,s.duration,0,k,i.css))),s){if(j>=s.end)C(o=s.b,1-o),Uv(t,s.b,"end"),a||(s.b?l():--s.group.r||rr(s.group.c)),s=null;else if(j>=s.start){var O=j-s.start;o=s.a+s.d*k(O/s.duration),C(o,1-o)}}return!(!s&&!a)},kc.size===0&&wy(GO),new Promise(function(j){kc.add({c:h,f:j})}))}return{run:function(d){Co(i)?(nd||(nd=Promise.resolve()).then(function(){nd=null}),nd).then(function(){i=i(),c(d)}):c(d)},end:function(){l(),s=a=null}}}var jy=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function CB(t,e){t.d(1),e.delete(t.key)}function bf(t,e){re(t,1,1,function(){e.delete(t.key)})}function Ol(t,e,n,r,i,o,s,a,u,l,f,c){for(var d=t.length,h=o.length,p=d,v={};p--;)v[t[p].key]=p;var m=[],g=new Map,y=new Map;for(p=h;p--;){var b=c(i,o,p),k=n(b),w=s.get(k);w?r&&w.p(b,e):(w=l(k,b)).c(),g.set(k,m[p]=w),k in v&&y.set(k,Math.abs(p-v[k]))}var C=new Set,_=new Set;function T($){Q($,1),$.m(a,f),s.set($.key,$),f=$.first,h--}for(;d&&h;){var j=m[h-1],O=t[d-1],S=j.key,N=O.key;j===O?(f=j.first,d--,h--):g.has(N)?!s.has(S)||C.has(S)?T(j):_.has(N)?d--:y.get(S)>y.get(N)?(_.add(S),T(j)):(C.add(N),d--):(u(O,s),d--)}for(;d--;){var A=t[d];g.has(A.key)||u(A,s)}for(;h;)T(m[h-1]);return m}function wu(t,e){for(var n={},r={},i={$$scope:1},o=t.length;o--;){var s=t[o],a=e[o];if(a){for(var u in s)u in a||(r[u]=1);for(var l in a)i[l]||(n[l]=a[l],i[l]=1);t[o]=a}else for(var f in s)i[f]=1}for(var c in r)c in n||(n[c]=void 0);return n}function Wp(t){return lt(t)==="object"&&t!==null?t:{}}function Ni(t,e,n){var r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Le(t){t&&t.c()}function Pe(t,e,n,r){var i=t.$$,o=i.fragment,s=i.on_mount,a=i.on_destroy,u=i.after_update;o&&o.m(e,n),r||ya(function(){var l=s.map(UO).filter(Co);a?a.push.apply(a,nn(l)):rr(l),t.$$.on_mount=[]}),u.forEach(ya)}function Me(t,e){var n=t.$$;n.fragment!==null&&(rr(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $B(t,e){t.$$.dirty[0]===-1&&(ac.push(t),n6(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(t,e,n,r,i,o,s){var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],u=Fc;wc(t);var l=t.$$={fragment:null,ctx:null,props:o,update:Qe,not_equal:i,bound:U_(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:U_(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(l.root);var f=!1;if(l.ctx=n?n(t,e.props||{},function(d,h){var p=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:h;return l.ctx&&i(l.ctx[d],l.ctx[d]=p)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](p),f&&$B(t,d)),h}):[],l.update(),f=!0,rr(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){var c=yB(e.target);l.fragment&&l.fragment.l(c),c.forEach(me)}else l.fragment&&l.fragment.c();e.intro&&Q(t.$$.fragment),Pe(t,e.target,e.anchor,e.customElement),r6()}wc(u)}var At=function(){function t(){te(this,t)}return ne(t,[{key:"$destroy",value:function(){Me(this,1),this.$destroy=Qe}},{key:"$on",value:function(e,n){var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),function(){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}}},{key:"$set",value:function(e){var n;this.$$set&&(n=e,Object.keys(n).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),t}();function Ji(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!!OB("debug");if(e){var n=EB(t);return function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(r=console).log.apply(r,["%c".concat(t),"color:".concat(n)].concat(o))}}return AB}function AB(){}function OB(t){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[t]}catch{}}function EB(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Q_[Math.abs(e)%Q_.length]}var Q_=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function TB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.delay,r=n===void 0?0:n,i=e.duration,o=i===void 0?400:i,s=e.easing,a=s===void 0?WO:s,u=+getComputedStyle(t).opacity;return{delay:r,duration:o,easing:a,css:function(l){return"opacity: ".concat(l*u)}}}var PB=jy.window;function MB(t){zt(t,"svelte-g4wg3a",`.svelte-g4wg3a{box-sizing:border-box}.bg.svelte-g4wg3a{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}.wrap.svelte-g4wg3a{position:relative;margin:2rem;max-height:100%}.window.svelte-g4wg3a{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-g4wg3a{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-g4wg3a{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-g4wg3a:before,.close.svelte-g4wg3a:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-g4wg3a:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-g4wg3a:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-g4wg3a:hover{background:black}.close.svelte-g4wg3a:hover:before,.close.svelte-g4wg3a:hover:after{height:2px;background:white}.close.svelte-g4wg3a:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-g4wg3a:active{transform:scale(0.9)}.close.svelte-g4wg3a:hover,.close.svelte-g4wg3a:focus,.close.svelte-g4wg3a:active{outline:none}`)}function Y_(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y=t[1].closeButton&&X_(t),b=t[2];return b&&(s=new b({})),{c:function(){e=oe("div"),n=oe("div"),r=oe("div"),y&&y.c(),i=Ee(),o=oe("div"),s&&Le(s.$$.fragment),P(o,"class",a=wr(t[1].classContent)+" svelte-g4wg3a"),P(o,"style",t[9]),Ze(o,"content",!t[0]),P(r,"class",u=wr(t[1].classWindow)+" svelte-g4wg3a"),P(r,"role","dialog"),P(r,"aria-modal","true"),P(r,"aria-label",l=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),P(r,"aria-labelledby",f=t[1].ariaLabelledBy||null),P(r,"style",t[8]),Ze(r,"window",!t[0]),P(n,"class",d=wr(t[1].classWindowWrap)+" svelte-g4wg3a"),P(n,"style",t[7]),Ze(n,"wrap",!t[0]),P(e,"class",h=wr(t[1].classBg)+" svelte-g4wg3a"),P(e,"style",t[6]),Ze(e,"bg",!t[0])},m:function(k,w){ye(k,e,w),G(e,n),G(n,r),y&&y.m(r,null),G(r,i),G(r,o),s&&Pe(s,o,null),t[48](r),t[49](n),t[50](e),v=!0,m||(g=[Fe(r,"introstart",function(){Co(t[13])&&t[13].apply(this,arguments)}),Fe(r,"outrostart",function(){Co(t[14])&&t[14].apply(this,arguments)}),Fe(r,"introend",function(){Co(t[15])&&t[15].apply(this,arguments)}),Fe(r,"outroend",function(){Co(t[16])&&t[16].apply(this,arguments)}),Fe(e,"mousedown",t[20]),Fe(e,"mouseup",t[21])],m=!0)},p:function(k,w){if((t=k)[1].closeButton?y?(y.p(t,w),2&w[0]&&Q(y,1)):((y=X_(t)).c(),Q(y,1),y.m(r,i)):y&&(Ke(),re(y,1,1,function(){y=null}),Ge()),b!==(b=t[2])){if(s){Ke();var C=s;re(C.$$.fragment,1,0,function(){Me(C,1)}),Ge()}b?(Le((s=new b({})).$$.fragment),Q(s.$$.fragment,1),Pe(s,o,null)):s=null}(!v||2&w[0]&&a!==(a=wr(t[1].classContent)+" svelte-g4wg3a"))&&P(o,"class",a),(!v||512&w[0])&&P(o,"style",t[9]),3&w[0]&&Ze(o,"content",!t[0]),(!v||2&w[0]&&u!==(u=wr(t[1].classWindow)+" svelte-g4wg3a"))&&P(r,"class",u),(!v||2&w[0]&&l!==(l=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&P(r,"aria-label",l),(!v||2&w[0]&&f!==(f=t[1].ariaLabelledBy||null))&&P(r,"aria-labelledby",f),(!v||256&w[0])&&P(r,"style",t[8]),3&w[0]&&Ze(r,"window",!t[0]),(!v||2&w[0]&&d!==(d=wr(t[1].classWindowWrap)+" svelte-g4wg3a"))&&P(n,"class",d),(!v||128&w[0])&&P(n,"style",t[7]),3&w[0]&&Ze(n,"wrap",!t[0]),(!v||2&w[0]&&h!==(h=wr(t[1].classBg)+" svelte-g4wg3a"))&&P(e,"class",h),(!v||64&w[0])&&P(e,"style",t[6]),3&w[0]&&Ze(e,"bg",!t[0])},i:function(k){v||(Q(y),s&&Q(s.$$.fragment,k),ya(function(){c||(c=id(r,t[12],t[1].transitionWindowProps,!0)),c.run(1)}),ya(function(){p||(p=id(e,t[11],t[1].transitionBgProps,!0)),p.run(1)}),v=!0)},o:function(k){re(y),s&&re(s.$$.fragment,k),c||(c=id(r,t[12],t[1].transitionWindowProps,!1)),c.run(0),p||(p=id(e,t[11],t[1].transitionBgProps,!1)),p.run(0),v=!1},d:function(k){k&&me(e),y&&y.d(),s&&Me(s),t[48](null),k&&c&&c.end(),t[49](null),t[50](null),k&&p&&p.end(),m=!1,rr(g)}}}function X_(t){var e,n,r,i,o,s=[NB,IB],a=[];function u(l,f){return 2&f[0]&&(e=null),e==null&&(e=!!l[17](l[1].closeButton)),e?0:1}return n=u(t,[-1,-1,-1]),r=a[n]=s[n](t),{c:function(){r.c(),i=wn()},m:function(l,f){a[n].m(l,f),ye(l,i,f),o=!0},p:function(l,f){var c=n;(n=u(l,f))===c?a[n].p(l,f):(Ke(),re(a[c],1,1,function(){a[c]=null}),Ge(),(r=a[n])?r.p(l,f):(r=a[n]=s[n](l)).c(),Q(r,1),r.m(i.parentNode,i))},i:function(l){o||(Q(r),o=!0)},o:function(l){re(r),o=!1},d:function(l){a[n].d(l),l&&me(i)}}}function IB(t){var e,n,r,i;return{c:function(){P(e=oe("button"),"class",n=wr(t[1].classCloseButton)+" svelte-g4wg3a"),P(e,"aria-label","Close modal"),P(e,"style",t[10]),Ze(e,"close",!t[0])},m:function(o,s){ye(o,e,s),r||(i=Fe(e,"click",t[18]),r=!0)},p:function(o,s){2&s[0]&&n!==(n=wr(o[1].classCloseButton)+" svelte-g4wg3a")&&P(e,"class",n),1024&s[0]&&P(e,"style",o[10]),3&s[0]&&Ze(e,"close",!o[0])},i:Qe,o:Qe,d:function(o){o&&me(e),r=!1,i()}}}function NB(t){var e,n,r,i=t[1].closeButton;function o(s){return{props:{onClose:s[18]}}}return i&&(e=new i(o(t))),{c:function(){e&&Le(e.$$.fragment),n=wn()},m:function(s,a){e&&Pe(e,s,a),ye(s,n,a),r=!0},p:function(s,a){if(i!==(i=s[1].closeButton)){if(e){Ke();var u=e;re(u.$$.fragment,1,0,function(){Me(u,1)}),Ge()}i?(Le((e=new i(o(s))).$$.fragment),Q(e.$$.fragment,1),Pe(e,n.parentNode,n)):e=null}},i:function(s){r||(e&&Q(e.$$.fragment,s),r=!0)},o:function(s){e&&re(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Me(e,s)}}}function LB(t){var e,n,r,i,o=t[2]&&Y_(t),s=t[47].default,a=Io(s,t,t[46],null);return{c:function(){o&&o.c(),e=Ee(),a&&a.c()},m:function(u,l){o&&o.m(u,l),ye(u,e,l),a&&a.m(u,l),n=!0,r||(i=Fe(PB,"keydown",t[19]),r=!0)},p:function(u,l){u[2]?o?(o.p(u,l),4&l[0]&&Q(o,1)):((o=Y_(u)).c(),Q(o,1),o.m(e.parentNode,e)):o&&(Ke(),re(o,1,1,function(){o=null}),Ge()),a&&a.p&&(!n||32768&l[1])&&Lo(a,s,u,u[46],n?No(s,u[46],l,null):Do(u[46]),null)},i:function(u){n||(Q(o),Q(a,u),n=!0)},o:function(u){re(o),re(a,u),n=!1},d:function(u){o&&o.d(u),u&&me(e),a&&a.d(u),r=!1,i()}}}function DB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n){return new t(dt(dt({},n),{},{props:dt(dt({},e),n.props)}))}}function RB(t,e,n){var r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y=e.$$slots,b=y===void 0?{}:y,k=e.$$scope,w=Hp(),C=e6,_=e.show,T=_===void 0?null:_,j=e.key,O=j===void 0?"simple-modal":j,S=e.ariaLabel,N=S===void 0?null:S,A=e.ariaLabelledBy,$=A===void 0?null:A,q=e.closeButton,Y=q===void 0||q,z=e.closeOnEsc,J=z===void 0||z,L=e.closeOnOuterClick,D=L===void 0||L,U=e.styleBg,W=U===void 0?{}:U,F=e.styleWindowWrap,E=F===void 0?{}:F,x=e.styleWindow,M=x===void 0?{}:x,K=e.styleContent,se=K===void 0?{}:K,we=e.styleCloseButton,je=we===void 0?{}:we,R=e.classBg,H=R===void 0?null:R,I=e.classWindowWrap,B=I===void 0?null:I,Z=e.classWindow,le=Z===void 0?null:Z,X=e.classContent,V=X===void 0?null:X,_e=e.classCloseButton,Se=_e===void 0?null:_e,xe=e.unstyled,he=xe!==void 0&&xe,fe=e.setContext,ke=fe===void 0?C:fe,Oe=e.transitionBg,De=Oe===void 0?TB:Oe,Ve=e.transitionBgProps,pe=Ve===void 0?{duration:250}:Ve,He=e.transitionWindow,st=He===void 0?De:He,Rt=e.transitionWindowProps,hn=Rt===void 0?pe:Rt,ie=e.disableFocusTrap,de=ie!==void 0&&ie,ge={ariaLabel:N,ariaLabelledBy:$,closeButton:Y,closeOnEsc:J,closeOnOuterClick:D,styleBg:W,styleWindowWrap:E,styleWindow:M,styleContent:se,styleCloseButton:je,classBg:H,classWindowWrap:B,classWindow:le,classContent:V,classCloseButton:Se,transitionBg:De,transitionBgProps:pe,transitionWindow:st,transitionWindowProps:hn,disableFocusTrap:de,unstyled:he},be=dt({},ge),Te=null,Je=function(We){return We?Object.keys(We).reduce(function(hr,yn){return"".concat(hr,"; ").concat(function(sn){return sn.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(yn),": ").concat(We[yn])},""):""},ct=function(We){return!!(We&&We.constructor&&We.call&&We.apply)},kt=function(){n(6,a=Je(Object.assign({},{width:window.innerWidth,height:window.innerHeight},be.styleBg))),n(7,u=Je(be.styleWindowWrap)),n(8,l=Je(be.styleWindow)),n(9,f=Je(be.styleContent)),n(10,c=Je(be.styleCloseButton)),n(11,d=be.transitionBg),n(12,h=be.transitionWindow)},$e=function(){},tt=$e,mt=$e,at=$e,gt=$e,Pt=function(We){var hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},sn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};n(2,Te=DB(We,hr)),n(1,be=dt(dt({},ge),yn)),kt(),Mt(),n(13,tt=function(pn){sn.onOpen&&sn.onOpen(pn),w("open"),w("opening")}),n(14,mt=function(pn){sn.onClose&&sn.onClose(pn),w("close"),w("closing")}),n(15,at=function(pn){sn.onOpened&&sn.onOpened(pn),w("opened")}),n(16,gt=function(pn){sn.onClosed&&sn.onClosed(pn),w("closed")})},wt=function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te&&(n(14,mt=We.onClose||mt),n(16,gt=We.onClosed||gt),n(2,Te=null),Ft())},Mt=function(){s=window.scrollY,p=document.body.style.position,v=document.body.style.overflow,m=document.body.style.width,document.body.style.position="fixed",document.body.style.top="-".concat(s,"px"),document.body.style.overflow="hidden",document.body.style.width="100%"},Ft=function(){document.body.style.position=p||"",document.body.style.top="",document.body.style.overflow=v||"",document.body.style.width=m||"",window.scrollTo(0,s)};ke(O,{open:Pt,close:wt});var qt=!1;return ga(function(){qt&&wt()}),fo(function(){n(45,qt=!0)}),t.$$set=function(We){"show"in We&&n(22,T=We.show),"key"in We&&n(23,O=We.key),"ariaLabel"in We&&n(24,N=We.ariaLabel),"ariaLabelledBy"in We&&n(25,$=We.ariaLabelledBy),"closeButton"in We&&n(26,Y=We.closeButton),"closeOnEsc"in We&&n(27,J=We.closeOnEsc),"closeOnOuterClick"in We&&n(28,D=We.closeOnOuterClick),"styleBg"in We&&n(29,W=We.styleBg),"styleWindowWrap"in We&&n(30,E=We.styleWindowWrap),"styleWindow"in We&&n(31,M=We.styleWindow),"styleContent"in We&&n(32,se=We.styleContent),"styleCloseButton"in We&&n(33,je=We.styleCloseButton),"classBg"in We&&n(34,H=We.classBg),"classWindowWrap"in We&&n(35,B=We.classWindowWrap),"classWindow"in We&&n(36,le=We.classWindow),"classContent"in We&&n(37,V=We.classContent),"classCloseButton"in We&&n(38,Se=We.classCloseButton),"unstyled"in We&&n(0,he=We.unstyled),"setContext"in We&&n(39,ke=We.setContext),"transitionBg"in We&&n(40,De=We.transitionBg),"transitionBgProps"in We&&n(41,pe=We.transitionBgProps),"transitionWindow"in We&&n(42,st=We.transitionWindow),"transitionWindowProps"in We&&n(43,hn=We.transitionWindowProps),"disableFocusTrap"in We&&n(44,de=We.disableFocusTrap),"$$scope"in We&&n(46,k=We.$$scope)},t.$$.update=function(){4194304&t.$$.dirty[0]|16384&t.$$.dirty[1]&&qt&&(ct(T)?Pt(T):wt())},[he,be,Te,r,i,o,a,u,l,f,c,d,h,tt,mt,at,gt,ct,wt,function(We){if(be.closeOnEsc&&Te&&We.key==="Escape"&&(We.preventDefault(),wt()),Te&&We.key==="Tab"&&!be.disableFocusTrap){var hr=o.querySelectorAll("*"),yn=Array.from(hr).filter(function(pn){return pn.tabIndex>=0}).sort(function(pn,_r){return pn.tabIndex-_r.tabIndex}),sn=yn.indexOf(document.activeElement);sn===-1&&We.shiftKey&&(sn=0),sn+=yn.length+(We.shiftKey?-1:1),yn[sn%=yn.length].focus(),We.preventDefault()}},function(We){!be.closeOnOuterClick||We.target!==r&&We.target!==i||(g=We.target)},function(We){be.closeOnOuterClick&&We.target===g&&(We.preventDefault(),wt())},T,O,N,$,Y,J,D,W,E,M,se,je,H,B,le,V,Se,ke,De,pe,st,hn,de,qt,k,b,function(We){tn[We?"unshift":"push"](function(){n(5,o=We)})},function(We){tn[We?"unshift":"push"](function(){n(4,i=We)})},function(We){tn[We?"unshift":"push"](function(){n(3,r=We)})}]}var BB=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,RB,LB,Ar,{show:22,key:23,ariaLabel:24,ariaLabelledBy:25,closeButton:26,closeOnEsc:27,closeOnOuterClick:28,styleBg:29,styleWindowWrap:30,styleWindow:31,styleContent:32,styleCloseButton:33,classBg:34,classWindowWrap:35,classWindow:36,classContent:37,classCloseButton:38,unstyled:0,setContext:39,transitionBg:40,transitionBgProps:41,transitionWindow:42,transitionWindowProps:43,disableFocusTrap:44},MB,[-1,-1,-1]),i}return ne(n)}(),Gl="tree",Du="code",Ts=Symbol("id"),ai=Symbol("expanded"),os=Symbol("visible sections"),ho=Symbol("keys"),sl=Symbol("search:property"),qc=Symbol("search:value"),Di=Symbol("enforce string"),Vc=Symbol("selection"),wg=Symbol("validation:error"),_y=[{start:0,end:100}],qu={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},zB=dt(dt({},qu),{},{classWindow:"jse-modal-window jse-modal-window-sort"}),FB=dt(dt({},qu),{},{classWindow:"jse-modal-window jse-modal-window-transform"}),Sy="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",i6="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",qB="NO",Cy="SELF",$y="NEXT_INSIDE",VB=0;function xg(){return++VB}function HB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ae={exports:{}};(function(t){function e(x){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(x)}function n(x,M){return JSON.stringify(x)===JSON.stringify(M)}function r(x,M){return x===M}function i(x){return x.slice(0,x.length-1)}function o(x){return x[x.length-1]}function s(x,M){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;if(x.length<M.length)return!1;for(var se=0;se<M.length;se++)if(!K(x[se],M[se]))return!1;return!0}function a(x){return e(x)==="object"&&x!==null}function u(x,M){var K=Object.keys(x);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);M&&(se=se.filter(function(we){return Object.getOwnPropertyDescriptor(x,we).enumerable})),K.push.apply(K,se)}return K}function l(x){for(var M=1;M<arguments.length;M++){var K=arguments[M]!=null?arguments[M]:{};M%2?u(Object(K),!0).forEach(function(se){f(x,se,K[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(K)):u(Object(K)).forEach(function(se){Object.defineProperty(x,se,Object.getOwnPropertyDescriptor(K,se))})}return x}function f(x,M,K){return M in x?Object.defineProperty(x,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):x[M]=K,x}function c(x){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(x)}function d(x){if(Array.isArray(x)){var M=x.slice();return Object.getOwnPropertySymbols(x).forEach(function(se){M[se]=x[se]}),M}if(c(x)==="object"){var K=l({},x);return Object.getOwnPropertySymbols(x).forEach(function(se){K[se]=x[se]}),K}return x}function h(x,M,K){if(x[M]===K)return x;var se=d(x);return se[M]=K,se}function p(x,M){for(var K=x,se=0;se<M.length;)K=a(K)?K[M[se]]:void 0,se++;return K}function v(x,M,K){var se=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(M.length===0)return K;var we=M[0],je=v(x?x[we]:void 0,M.slice(1),K,se);if(!a(x)){if(se){var R=typeof we=="number"?[]:{};return R[we]=je,R}throw new Error("Path does not exist")}return h(x,we,je)}function m(x,M,K){if(M.length===0)return K(x);if(!a(x))throw new Error("Path doesn't exist");var se=M[0];return h(x,se,m(x[se],M.slice(1),K))}function g(x,M){if(M.length===0)return x;if(!a(x))throw new Error("Path does not exist");if(M.length===1){var K=M[0];if(K in x){var se=d(x);return Array.isArray(se)?se.splice(K,1):delete se[K],se}return x}var we=M[0];return h(x,we,g(x[we],M.slice(1)))}function y(x,M,K){var se=M.slice(0,M.length-1),we=M[M.length-1];return m(x,se,function(je){if(!Array.isArray(je))throw new TypeError("Array expected at path "+JSON.stringify(se));var R=d(je);return R.splice(we,0,K),R})}function b(x,M){return x!==void 0&&(M.length===0||b(x[M[0]],M.slice(1)))}function k(x){var M=x.split("/");return M.shift(),M.map(function(K){return K.replace(/~1/g,"/").replace(/~0/g,"~")})}function w(x){return x.map(function(M){return"/"+String(M).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function C(x,M,K){for(var se=x,we=0;we<M.length;we++){Y(M[we]);var je=z(se,M[we]);if(K&&K.before){var R=K.before(se,je);R!==void 0&&(R.json!==void 0&&(se=R.json),R.operation!==void 0&&(je=R.operation))}var H=se,I=_[je.op];if(I)se=I(se,je);else{if(je.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify(je.op));A(se,je)}if(K&&K.after){var B=K.after(se,je,H);B!==void 0&&(se=B)}}return se}var _={add:O,remove:j,replace:T,copy:S,move:N};function T(x,M){return v(x,M.path,M.value)}function j(x,M){return g(x,M.path)}function O(x,M){var K=M.path,se=M.value;return $(x,K)?y(x,K,se):v(x,K,se)}function S(x,M){var K=M.path,se=M.from,we=p(x,se);return $(x,K)?y(x,K,we):v(x,K,p(x,se))}function N(x,M){var K=M.path,se=M.from,we=p(x,se),je=g(x,se);return $(je,K)?y(je,K,we):v(je,K,we)}function A(x,M){var K=M.path,se=M.value;if(se===void 0)throw new Error('Test failed: no value provided (path: "'.concat(w(K),'")'));if(!b(x,K))throw new Error('Test failed: path not found (path: "'.concat(w(K),'")'));if(!n(p(x,K),se))throw new Error('Test failed, value differs (path: "'.concat(w(K),'")'))}function $(x,M){if(M.length===0)return!1;var K=p(x,i(M));return Array.isArray(K)}function q(x,M){if(o(M)!=="-")return M;var K=i(M),se=p(x,K);return K.concat(se.length)}function Y(x){if(!["add","remove","replace","copy","move","test"].includes(x.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(x.op));if(typeof x.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(x));if((x.op==="copy"||x.op==="move")&&typeof x.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(x))}function z(x,M){return{op:M.op,path:q(x,k(M.path)),from:M.from!==void 0?k(M.from):null,value:M.value}}function J(x,M){var K=[];return C(x,M,{before:function(se,we){var je=L[we.op];je&&(K=je(se,we).concat(K))}}),K}var L={add:W,remove:U,replace:D,copy:F,move:E};function D(x,M){var K=M.path;return[{op:"replace",path:w(K),value:p(x,K)}]}function U(x,M){var K=M.path;return[{op:"add",path:w(K),value:p(x,K)}]}function W(x,M){var K=M.path,se=M.value;return $(x,K)||!b(x,K)?[{op:"remove",path:w(K)}]:D(x,{path:K,value:se})}function F(x,M){return W(x,{path:M.path,value:M.value})}function E(x,M){var K=M.path,se=M.from;if(K.length<se.length&&s(se,K))return[{op:"replace",path:w(K),value:x}];var we=[{op:"move",from:w(K),path:w(se)}];return!$(x,K)&&b(x,K)&&(we=we.concat(U(x,{path:K}))),we}t.compileJSONPointer=w,t.deleteIn=g,t.existsIn=b,t.getIn=p,t.immutableJSONPatch=C,t.insertAt=y,t.parseJSONPointer=k,t.revertJSONPatch=J,t.setIn=v,t.updateIn=m,Object.defineProperty(t,"__esModule",{value:!0})})(Ae.exports);var Sh={},Z_={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},WB="a".charCodeAt();Sh.parse=function(t,e,n){var r={},i=0,o=0,s=0,a=n&&n.bigint&&typeof BigInt<"u";return{data:u("",!0),pointers:r};function u(C,_){var T;l(),m(C,"value");var j=d();switch(j){case"t":c("rue"),T=!0;break;case"f":c("alse"),T=!1;break;case"n":c("ull"),T=null;break;case'"':T=f();break;case"[":T=function(O){l();var S=[],N=0;if(d()=="]")return S;for(h();;){var A=O+"/"+N;S.push(u(A)),l();var $=d();if($=="]")break;$!=","&&k(),l(),N++}return S}(C);break;case"{":T=function(O){l();var S={};if(d()=="}")return S;for(h();;){var N=y();d()!='"'&&k();var A=f(),$=O+"/"+Jv(A);g($,"key",N),m($,"keyEnd"),l(),d()!=":"&&k(),l(),S[A]=u($),l();var q=d();if(q=="}")break;q!=","&&k(),l()}return S}(C);break;default:h(),"-0123456789".indexOf(j)>=0?T=function(){var O="",S=!0;t[s]=="-"&&(O+=d()),O+=t[s]=="0"?d():v(),t[s]=="."&&(O+=d()+v(),S=!1),t[s]!="e"&&t[s]!="E"||(O+=d(),t[s]!="+"&&t[s]!="-"||(O+=d()),O+=v(),S=!1);var N=+O;return a&&S&&(N>Number.MAX_SAFE_INTEGER||N<Number.MIN_SAFE_INTEGER)?BigInt(O):N}():b()}return m(C,"valueEnd"),l(),_&&s<t.length&&b(),T}function l(){e:for(;s<t.length;){switch(t[s]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:break e}s++}}function f(){for(var C,_="";(C=d())!='"';)C=="\\"?(C=d())in Z_?_+=Z_[C]:C=="u"?_+=p():k():_+=C;return _}function c(C){for(var _=0;_<C.length;_++)d()!==C[_]&&k()}function d(){w();var C=t[s];return s++,o++,C}function h(){s--,o--}function p(){for(var C=4,_=0;C--;){_<<=4;var T=d().toLowerCase();T>="a"&&T<="f"?_+=T.charCodeAt()-WB+10:T>="0"&&T<="9"?_+=+T:k()}return String.fromCharCode(_)}function v(){for(var C="";t[s]>="0"&&t[s]<="9";)C+=d();if(C.length)return C;w(),b()}function m(C,_){g(C,_,y())}function g(C,_,T){r[C]=r[C]||{},r[C][_]=T}function y(){return{line:i,column:o,pos:s}}function b(){throw new SyntaxError("Unexpected token "+t[s]+" in JSON at position "+s)}function k(){h(),b()}function w(){if(s>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},Sh.stringify=function(t,e,n){if(od(t)){var r,i,o=0,s=lt(n)=="object"?n.space:n;switch(lt(s)){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&y(a," "),r=a,i=a;break;case"string":s=s.slice(0,10),r=0,i=0;for(var u=0;u<s.length;u++){switch(s[u]){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var l="",f={},c=0,d=0,h=0,p=n&&n.es6&&typeof Map=="function";return function b(k,w,C){switch(g(C,"value"),lt(k)){case"number":case"bigint":case"boolean":v(""+k);break;case"string":v(sd(k));break;case"object":k===null?v("null"):typeof k.toJSON=="function"?v(sd(k.toJSON())):Array.isArray(k)?_():p?k.constructor.BYTES_PER_ELEMENT?_():k instanceof Map?j():k instanceof Set?j(!0):T():T()}function _(){if(k.length){v("[");for(var O=w+1,S=0;S<k.length;S++){S&&v(","),m(O);var N=od(k[S])?k[S]:null;b(N,O,C+"/"+S)}m(w),v("]")}else v("[]")}function T(){var O=Object.keys(k);if(O.length){v("{");for(var S=w+1,N=0;N<O.length;N++){var A=O[N],$=k[A];if(od($)){N&&v(",");var q=C+"/"+Jv(A);m(S),g(q,"key"),v(sd(A)),g(q,"keyEnd"),v(":"),s&&v(" "),b($,S,q)}}m(w),v("}")}else v("{}")}function j(O){if(k.size){v("{");for(var S=w+1,N=!0,A=k.entries(),$=A.next();!$.done;){var q=$.value,Y=q[0],z=!!O||q[1];if(od(z)){N||v(","),N=!1;var J=C+"/"+Jv(Y);m(S),g(J,"key"),v(sd(Y)),g(J,"keyEnd"),v(":"),s&&v(" "),b(z,S,J)}$=A.next()}m(w),v("}")}else v("{}")}g(C,"valueEnd")}(t,0,""),{json:l,pointers:f}}function v(b){d+=b.length,h+=b.length,l+=b}function m(b){if(s){for(l+=`
`+y(b,s),c++,d=0;b--;)o?(c+=o,d=i):d+=i,h+=r;h+=1}}function g(b,k){f[b]=f[b]||{},f[b][k]={line:c,column:d,pos:h}}function y(b,k){return Array(b+1).join(k)}};var UB=["number","bigint","boolean","string","object"];function od(t){return UB.indexOf(lt(t))>=0}var JB=/"|\\/g,KB=/[\b]/g,GB=/\f/g,QB=/\n/g,YB=/\r/g,XB=/\t/g;function sd(t){return'"'+(t=t.replace(JB,"\\$&").replace(GB,"\\f").replace(KB,"\\b").replace(QB,"\\n").replace(YB,"\\r").replace(XB,"\\t"))+'"'}var ZB=/~/g,ez=/\//g;function Jv(t){return t.replace(ZB,"~0").replace(ez,"~1")}var la=function(){function t(E,x){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.message=E+" (char "+x+")",this.char=x,this.stack=new Error().stack}(t.prototype=new Error).constructor=Error;var e={"'":!0,"\u2018":!0,"\u2019":!0,"`":!0,"\xB4":!0},n={'"':!0,"\u201C":!0,"\u201D":!0};function r(E){return i.test(E)}var i=/^[a-zA-Z_]$/,o=/^[0-9a-fA-F]$/;function s(E){return a.test(E)}var a=/^[0-9]$/;function u(E){return E===" "||E==="	"||E===`
`||E==="\r"}function l(E){return E==="\xA0"||"\u2000"<=E&&E<="\u200A"||E==="\u202F"||E==="\u205F"||E==="\u3000"}function f(E){return e[E]===!0}function c(E){return n[E]===!0}function d(E){return e[E]===!0?"'":n[E]===!0?'"':E}function h(E,x){return(x=E.lastIndexOf(x))!==-1?E.substring(0,x)+E.substring(x+1):E}function p(E,x){var M=E.length;if(!u(E[M-1]))return E+x;for(;u(E[M-1]);)M--;return E.substring(0,M)+x+E.substring(M)}var v=0,m=1,g=2,y=3,b=4,k=5,w=6,C={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},_={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},T={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},j={null:"null",true:"true",false:"false"},O={None:"null",True:"true",False:"false"},S="",N="",A=0,$="",q="",Y=w;function z(){A++,$=S.charAt(A)}function J(){z(),$==="\\"&&z()}function L(){return Y===v&&(q==="["||q==="{")||Y===g||Y===m||Y===y}function D(){N+=q,Y=w,q="",C[$]?(Y=v,q=$,z()):function(){if(s($)||$==="-"){if(Y=m,$==="-"){if(q+=$,z(),!s($))throw new t("Invalid number, digit expected",A)}else $==="0"&&(q+=$,z());for(;s($);)q+=$,z();if($==="."){if(q+=$,z(),!s($))throw new t("Invalid number, digit expected",A);for(;s($);)q+=$,z()}if($==="e"||$==="E"){if(q+=$,z(),$!=="+"&&$!=="-"||(q+=$,z()),!s($))throw new t("Invalid number, digit expected",A);for(;s($);)q+=$,z()}}else $==="\\"&&S.charAt(A+1)==='"'?(z(),W(J)):W(z)}(),Y===b&&(q=function(E){for(var x="",M=0;M<E.length;M++){var K=E[M];x+=l(K)?" ":K}return x}(q),D()),Y===k&&(Y=w,q="",D())}function U(){q===","&&(q="",Y=w,D())}function W(E){if(e[x=$]===!0||n[x]===!0){var x=d($),M=f($)?f:c;for(q+='"',Y=g,E();$!==""&&!M($);)if($==="\\")if(E(),_[$]!==void 0)q+="\\"+$,E();else if($==="u"){q+="\\u",E();for(var K=0;K<4;K++){if(se=$,!o.test(se))throw new t("Invalid unicode character",A-q.length);q+=$,E()}}else{if($!=="'")throw new t('Invalid escape character "\\'+$+'"',A);q+="'",E()}else T[$]?q+=T[$]:q+=$==='"'?'\\"':$,E();if(d($)!==x)throw new t("End of string expected",A-q.length);return q+='"',void E()}var se;(function(){if(r($))for(Y=y;r($)||s($)||$==="$";)q+=$,z();else(function(){if(u($)||l($))for(Y=b;u($)||l($);)q+=$,z();else(function(){if($!=="/"||S[A+1]!=="*")if($!=="/"||S[A+1]!=="/")(function(){for(Y=w;$!=="";)q+=$,z();throw new t('Syntax error in part "'+q+'"',A-q.length)})();else for(Y=k;$!==""&&$!==`
`;)q+=$,z();else{for(Y=k;$!==""&&($!=="*"||$==="*"&&S[A+1]!=="/");)q+=$,z();$==="*"&&S[A+1]==="/"&&(q+=$,z(),q+=$,z())}})()})()})()}function F(){if(Y!==v||q!=="{")(function(){if(Y!==v||q!=="[")(function(){if(Y!==g)(Y!==m?function(){if(Y!==y)(function(){throw new t(q===""?"Unexpected end of json string":"Value expected",A-q.length)})();else if(j[q])D();else{if(O[q])return q=O[q],D();var x=q,M=N.length;if(q="",D(),Y===v&&q==="(")return q="",D(),F(),Y===v&&q===")"&&(q="",D(),Y===v&&q===";"&&(q="",D()));for(N=function(K,se,we){return K.substring(0,we)+se+K.substring(we)}(N,'"'.concat(x),M);Y===y||Y===m;)D();N+='"'}}:D)();else for(D();Y===v&&q==="+";){var E;q="",D(),Y===g&&(E=N.lastIndexOf('"'),N=N.substring(0,E)+q.substring(1),q="",D())}})();else if(D(),Y!==v||q!=="]"){for(;;)if(F(),Y===v&&q===","){if(D(),Y===v&&q==="]"){N=h(N,",");break}if(q===""){N=h(N,",");break}}else{if(!L())break;N=p(N,",")}Y===v&&q==="]"?D():N=p(N,"]")}else D()})();else if(D(),Y!==v||q!=="}"){for(;;){if(Y!==y&&Y!==m||(Y=g,q='"'.concat(q,'"')),Y!==g)throw new t("Object key expected",A-q.length);if(D(),Y===v&&q===":")D();else{if(!L())throw new t("Colon expected",A-q.length);N=p(N,":")}if(F(),Y===v&&q===","){if(D(),Y===v&&q==="}"){N=h(N,",");break}if(q===""){N=h(N,",");break}}else{if(Y!==g&&Y!==m&&Y!==y)break;N=p(N,",")}}Y===v&&q==="}"?D():N=p(N,"}")}else D()}return function(E){N="",A=0,$=(S=E).charAt(0),q="",Y=w,D();var x=Y;if(F(),U(),q==="")return N;if(x===Y&&L()){for(var M="";x===Y&&L();)M+=N=p(N,","),N="",F(),U();return`[
`.concat(M).concat(N,`
]`)}throw new t("Unexpected characters",A-q.length)}}();function Sr(t){return lt(t)==="object"&&t!==null&&!Array.isArray(t)}function Er(t){return lt(t)==="object"&&t!==null}function o6(t){var e=window.document.createElement("div");return e.style.color=t,e.style.color.split(/\s+/).join("").toLowerCase()||null}function Ay(t){return t===null?"null":t===void 0?"undefined":typeof t=="number"?"number":typeof t=="string"?"string":typeof t=="boolean"?"boolean":t instanceof RegExp?"regexp":Array.isArray(t)?"array":"object"}var tz=/^https?:\/\/\S+$/;function Oy(t){return typeof t=="string"&&tz.test(t)}function kf(t){if(t==="")return"";if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;var e=Number(t);return isNaN(e)||isNaN(parseFloat(t))?t:e}function s6(t){return typeof t=="string"&&typeof kf(t)!="string"}var nz=[];function jg(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={};if(!Array.isArray(t))throw new TypeError("Array expected");function r(u,l){(!Array.isArray(u)&&!Sr(u)||e&&l.length>0)&&(n[Ae.exports.compileJSONPointer(l)]=!0),Sr(u)&&Object.keys(u).forEach(function(f){r(u[f],l.concat(f))})}for(var i=Math.min(t.length,1e4),o=0;o<i;o++){var s=t[o];r(s,nz)}var a=Object.keys(n).sort();return a.map(Ae.exports.parseJSONPointer)}function Ey(t,e,n){if(!(e<=t))for(var r=t;r<e;r++)n(r)}function e4(t,e){return t.length>e?t.slice(0,e):t}function t4(t){return dt({},t)}function n4(t){return Object.values(t)}function Ty(t){try{return JSON.parse(t)}catch{return JSON.parse(la(t))}}function a6(t){try{return Ty(t)}catch{return}}function Py(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON.parse;t=t.replace(u6,"");try{return e(t)}catch{}try{return e("["+t+"]")}catch{}try{return e("{"+t+"}")}catch{}throw new Error("Failed to parse partial JSON")}function rz(t){t=t.replace(u6,"");try{return la(t)}catch{}try{var e=la("["+t+"]");return e.substring(1,e.length-1)}catch{}try{var n=la("{"+t+"}");return n.substring(1,n.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var u6=/,\s*$/;function l6(t,e){var n=i4.exec(e);if(n){var r=parseInt(n[2],10),i=function(d,h){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d.length,m=0,g=p;g<v;g++)d.charAt(g)===h&&m++;return m}(t,`
`,0,r),o=r-t.lastIndexOf(`
`,r)-1;return{position:r,line:i,column:o,message:e.replace(i4,function(){return"line ".concat(i+1," column ").concat(o+1)})}}var s=oz.exec(e),a=s?parseInt(s[1],10):null,u=a!==null?a-1:null,l=sz.exec(e),f=l?parseInt(l[1],10):null,c=f!==null?f-1:null;return{position:u!==null&&c!==null?function(d,h,p){for(var v=d.indexOf(`
`),m=1;m<h&&v!==-1;)v=d.indexOf(`
`,v+1),m++;return v!==-1?v+p+1:null}(t,u,c):null,line:u,column:c,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function Kv(t){return Sr(t)?t.json!==void 0?t.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:t.text===void 0?'Content must contain either a property "json" or a property "text"':typeof t.text!="string"?'Content "text" property must be string':null:"Content must be an object"}function _g(t){return typeof t.text=="string"}function r4(t,e){return iz(t,e)>e}function iz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(_g(t))return t.text.length;var n=t.json,r=0;function i(o){if(Array.isArray(o)){if((r+=o.length-1+2)>e)return r;for(var s=0;s<o.length;s++)if(i(o[s]),r>e)return r}else if(Sr(o)){var a=Object.keys(o);r+=2+a.length+(a.length-1);for(var u=0;u<a.length;u++){var l=a[u],f=o[l];r+=l.length+2,i(f)}}else r+=typeof o=="string"?o.length+2:String(o).length}return i(n),r}var i4=/(position|char) (\d+)/,oz=/line (\d+)/,sz=/column (\d+)/,c6=(typeof global>"u"?"undefined":lt(global))=="object"&&global&&global.Object===Object&&global,az=(typeof self>"u"?"undefined":lt(self))=="object"&&self&&self.Object===Object&&self,Ir=c6||az||Function("return this")(),ti=Ir.Symbol,f6=Object.prototype,uz=f6.hasOwnProperty,lz=f6.toString,Ql=ti?ti.toStringTag:void 0,cz=Object.prototype.toString,o4=ti?ti.toStringTag:void 0;function mi(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":o4&&o4 in Object(t)?function(e){var n=uz.call(e,Ql),r=e[Ql];try{e[Ql]=void 0;var i=!0}catch{}var o=lz.call(e);return i&&(n?e[Ql]=r:delete e[Ql]),o}(t):function(e){return cz.call(e)}(t)}function dr(t){return t!=null&&lt(t)=="object"}function Ci(t){return lt(t)=="symbol"||dr(t)&&mi(t)=="[object Symbol]"}function s4(t){return typeof t=="number"?t:Ci(t)?NaN:+t}function ar(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ut=Array.isArray,a4=ti?ti.prototype:void 0,u4=a4?a4.toString:void 0;function Hi(t){if(typeof t=="string")return t;if(Ut(t))return ar(t,Hi)+"";if(Ci(t))return u4?u4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Up(t,e){return function(n,r){var i;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=Hi(n),r=Hi(r)):(n=s4(n),r=s4(r)),i=t(n,r)}return i}}var d6=Up(function(t,e){return t+e},0),fz=/\s/;function h6(t){for(var e=t.length;e--&&fz.test(t.charAt(e)););return e}var dz=/^\s+/;function p6(t){return t&&t.slice(0,h6(t)+1).replace(dz,"")}function nr(t){var e=lt(t);return t!=null&&(e=="object"||e=="function")}var hz=/^[-+]0x[0-9a-f]+$/i,pz=/^0b[01]+$/i,vz=/^0o[0-7]+$/i,mz=parseInt;function Fi(t){if(typeof t=="number")return t;if(Ci(t))return NaN;if(nr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=p6(t);var n=pz.test(t);return n||vz.test(t)?mz(t.slice(2),n?2:8):hz.test(t)?NaN:+t}function ss(t){return t?(t=Fi(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0}function Yt(t){var e=ss(t),n=e%1;return e==e?n?e-n:e:0}function v6(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=Yt(t),function(){if(--t<1)return e.apply(this,arguments)}}function ni(t){return t}function vs(t){if(!nr(t))return!1;var e=mi(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"}var l4,Qd=Ir["__core-js_shared__"],c4=(l4=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||""))?"Symbol(src)_1."+l4:"",gz=Function.prototype.toString;function xu(t){if(t!=null){try{return gz.call(t)}catch{}try{return t+""}catch{}}return""}var yz=/^\[object .+?Constructor\]$/,bz=Function.prototype,kz=Object.prototype,wz=bz.toString,xz=kz.hasOwnProperty,jz=RegExp("^"+wz.call(xz).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m6(t){return!(!nr(t)||function(e){return!!c4&&c4 in e}(t))&&(vs(t)?jz:yz).test(xu(t))}function ju(t,e){var n=function(r,i){return r==null?void 0:r[i]}(t,e);return m6(n)?n:void 0}var Hc=ju(Ir,"WeakMap"),Ch=Hc&&new Hc,g6=Ch?function(t,e){return Ch.set(t,e),t}:ni,f4=Object.create,El=function(){function t(){}return function(e){if(!nr(e))return{};if(f4)return f4(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function xc(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=El(t.prototype),r=t.apply(n,e);return nr(r)?r:n}}function Wi(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _z=Math.max;function y6(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,l=_z(o-s,0),f=Array(u+l),c=!r;++a<u;)f[a]=e[a];for(;++i<s;)(c||i<o)&&(f[n[i]]=t[i]);for(;l--;)f[a++]=t[i++];return f}var Sz=Math.max;function b6(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,f=Sz(o-a,0),c=Array(f+l),d=!r;++i<f;)c[i]=t[i];for(var h=i;++u<l;)c[h+u]=e[u];for(;++s<a;)(d||i<o)&&(c[h+n[s]]=t[i++]);return c}function Cz(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function Jp(){}function vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function fn(){}vn.prototype=El(Jp.prototype),vn.prototype.constructor=vn;var My=Ch?function(t){return Ch.get(t)}:fn,Vu={},$z=Object.prototype.hasOwnProperty;function Yd(t){for(var e=t.name+"",n=Vu[e],r=$z.call(Vu,e)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==t)return i.name}return e}function lo(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function ji(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function k6(t){if(t instanceof vn)return t.clone();var e=new lo(t.__wrapped__,t.__chain__);return e.__actions__=ji(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}lo.prototype=El(Jp.prototype),lo.prototype.constructor=lo;var Az=Object.prototype.hasOwnProperty;function ee(t){if(dr(t)&&!Ut(t)&&!(t instanceof vn)){if(t instanceof lo)return t;if(Az.call(t,"__wrapped__"))return k6(t)}return new lo(t)}function Sg(t){var e=Yd(t),n=ee[e];if(typeof n!="function"||!(e in vn.prototype))return!1;if(t===n)return!0;var r=My(n);return!!r&&t===r[0]}ee.prototype=Jp.prototype,ee.prototype.constructor=ee;var Oz=Date.now;function w6(t){var e=0,n=0;return function(){var r=Oz(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var x6=w6(g6),Ez=/\{\n\/\* \[wrapped with (.+)\] \*/,Tz=/,? & /,Pz=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Kp(t){return function(){return t}}var $h=function(){try{var t=ju(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Iy=w6($h?function(t,e){return $h(t,"toString",{configurable:!0,enumerable:!1,value:Kp(e),writable:!0})}:ni);function to(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Gp(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function j6(t){return t!=t}function Tl(t,e,n){return e==e?function(r,i,o){for(var s=o-1,a=r.length;++s<a;)if(r[s]===i)return s;return-1}(t,e,n):Gp(t,j6,n)}function Qp(t,e){return!!(t!=null&&t.length)&&Tl(t,e,0)>-1}var Mz=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function _6(t,e,n){var r=e+"";return Iy(t,function(i,o){var s=o.length;if(!s)return i;var a=s-1;return o[a]=(s>1?"& ":"")+o[a],o=o.join(s>2?", ":" "),i.replace(Pz,`{
/* [wrapped with `+o+`] */
`)}(r,function(i,o){return to(Mz,function(s){var a="_."+s[0];o&s[1]&&!Qp(i,a)&&i.push(a)}),i.sort()}(function(i){var o=i.match(Ez);return o?o[1].split(Tz):[]}(r),n)))}function S6(t,e,n,r,i,o,s,a,u,l){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var c=[t,e,i,f?o:void 0,f?s:void 0,f?void 0:o,f?void 0:s,a,u,l],d=n.apply(void 0,c);return Sg(t)&&x6(d,c),d.placeholder=r,_6(d,t,e)}function Pl(t){return t.placeholder}var Iz=/^(?:0|[1-9]\d*)$/;function Bs(t,e){var n=lt(t);return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Iz.test(t))&&t>-1&&t%1==0&&t<e}var Nz=Math.min;function Lz(t,e){for(var n=t.length,r=Nz(e.length,n),i=ji(t);r--;){var o=e[r];t[r]=Bs(o,n)?i[o]:void 0}return t}function ca(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!=="__lodash_placeholder__"||(t[n]="__lodash_placeholder__",o[i++]=n)}return o}function Ah(t,e,n,r,i,o,s,a,u,l){var f=128&e,c=1&e,d=2&e,h=24&e,p=512&e,v=d?void 0:xc(t);return function m(){for(var g=arguments.length,y=Array(g),b=g;b--;)y[b]=arguments[b];if(h)var k=Pl(m),w=Cz(y,k);if(r&&(y=y6(y,r,i,h)),o&&(y=b6(y,o,s,h)),g-=w,h&&g<l){var C=ca(y,k);return S6(t,e,Ah,m.placeholder,n,y,C,a,u,l-g)}var _=c?n:this,T=d?_[t]:t;return g=y.length,a?y=Lz(y,a):p&&g>1&&y.reverse(),f&&u<g&&(y.length=u),this&&this!==Ir&&this instanceof m&&(T=v||xc(T)),T.apply(_,y)}}var Dz=Math.min,d4=Math.max;function zs(t,e,n,r,i,o,s,a){var u=2&e;if(!u&&typeof t!="function")throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(e&=-97,r=i=void 0),s=s===void 0?s:d4(Yt(s),0),a=a===void 0?a:Yt(a),l-=i?i.length:0,64&e){var f=r,c=i;r=i=void 0}var d=u?void 0:My(t),h=[t,e,n,r,i,f,c,o,s,a];if(d&&function(v,m){var g=v[1],y=m[1],b=g|y,k=b<131,w=y==128&&g==8||y==128&&g==256&&v[7].length<=m[8]||y==384&&m[7].length<=m[8]&&g==8;if(!k&&!w)return v;1&y&&(v[2]=m[2],b|=1&g?0:4);var C=m[3];if(C){var _=v[3];v[3]=_?y6(_,C,m[4]):C,v[4]=_?ca(v[3],"__lodash_placeholder__"):m[4]}(C=m[5])&&(_=v[5],v[5]=_?b6(_,C,m[6]):C,v[6]=_?ca(v[5],"__lodash_placeholder__"):m[6]),(C=m[7])&&(v[7]=C),128&y&&(v[8]=v[8]==null?m[8]:Dz(v[8],m[8])),v[9]==null&&(v[9]=m[9]),v[0]=m[0],v[1]=b}(h,d),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],!(a=h[9]=h[9]===void 0?u?0:t.length:d4(h[9]-l,0))&&24&e&&(e&=-25),e&&e!=1)p=e==8||e==16?function(v,m,g){var y=xc(v);return function b(){for(var k=arguments.length,w=Array(k),C=k,_=Pl(b);C--;)w[C]=arguments[C];var T=k<3&&w[0]!==_&&w[k-1]!==_?[]:ca(w,_);return(k-=T.length)<g?S6(v,m,Ah,b.placeholder,void 0,w,T,void 0,void 0,g-k):Wi(this&&this!==Ir&&this instanceof b?y:v,this,w)}}(t,e,a):e!=32&&e!=33||i.length?Ah.apply(void 0,h):function(v,m,g,y){var b=1&m,k=xc(v);return function w(){for(var C=-1,_=arguments.length,T=-1,j=y.length,O=Array(j+_),S=this&&this!==Ir&&this instanceof w?k:v;++T<j;)O[T]=y[T];for(;_--;)O[T++]=arguments[++C];return Wi(S,b?g:this,O)}}(t,e,n,r);else var p=function(v,m,g){var y=1&m,b=xc(v);return function k(){return(this&&this!==Ir&&this instanceof k?b:v).apply(y?g:this,arguments)}}(t,e,n);return _6((d?g6:x6)(p,h),t,e)}function Ny(t,e,n){return e=n?void 0:e,zs(t,128,void 0,void 0,void 0,void 0,e=t&&e==null?t.length:e)}function Fs(t,e,n){e=="__proto__"&&$h?$h(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function mo(t,e){return t===e||t!=t&&e!=e}var Rz=Object.prototype.hasOwnProperty;function wf(t,e,n){var r=t[e];Rz.call(t,e)&&mo(r,n)&&(n!==void 0||e in t)||Fs(t,e,n)}function as(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?Fs(n,a,u):wf(n,a,u)}return n}var h4=Math.max;function C6(t,e,n){return e=h4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=h4(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Wi(t,this,a)}}function cn(t,e){return Iy(C6(t,e,ni),t+"")}function xf(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}function gi(t){return t!=null&&xf(t.length)&&!vs(t)}function pi(t,e,n){if(!nr(n))return!1;var r=lt(e);return!!(r=="number"?gi(n)&&Bs(e,n.length):r=="string"&&e in n)&&mo(n[e],t)}function Ml(t){return cn(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&pi(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Bz=Object.prototype;function jf(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Bz)}function Ly(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function p4(t){return dr(t)&&mi(t)=="[object Arguments]"}var $6=Object.prototype,zz=$6.hasOwnProperty,Fz=$6.propertyIsEnumerable,ba=p4(function(){return arguments}())?p4:function(t){return dr(t)&&zz.call(t,"callee")&&!Fz.call(t,"callee")};function Yp(){return!1}var A6=(typeof exports>"u"?"undefined":lt(exports))=="object"&&exports&&!exports.nodeType&&exports,v4=A6&&(typeof module>"u"?"undefined":lt(module))=="object"&&module&&!module.nodeType&&module,m4=v4&&v4.exports===A6?Ir.Buffer:void 0,Ns=(m4?m4.isBuffer:void 0)||Yp,Yn={};function Ui(t){return function(e){return t(e)}}Yn["[object Float32Array]"]=Yn["[object Float64Array]"]=Yn["[object Int8Array]"]=Yn["[object Int16Array]"]=Yn["[object Int32Array]"]=Yn["[object Uint8Array]"]=Yn["[object Uint8ClampedArray]"]=Yn["[object Uint16Array]"]=Yn["[object Uint32Array]"]=!0,Yn["[object Arguments]"]=Yn["[object Array]"]=Yn["[object ArrayBuffer]"]=Yn["[object Boolean]"]=Yn["[object DataView]"]=Yn["[object Date]"]=Yn["[object Error]"]=Yn["[object Function]"]=Yn["[object Map]"]=Yn["[object Number]"]=Yn["[object Object]"]=Yn["[object RegExp]"]=Yn["[object Set]"]=Yn["[object String]"]=Yn["[object WeakMap]"]=!1;var O6=(typeof exports>"u"?"undefined":lt(exports))=="object"&&exports&&!exports.nodeType&&exports,jc=O6&&(typeof module>"u"?"undefined":lt(module))=="object"&&module&&!module.nodeType&&module,Gv=jc&&jc.exports===O6&&c6.process,po=function(){try{var t=jc&&jc.require&&jc.require("util").types;return t||Gv&&Gv.binding&&Gv.binding("util")}catch{}}(),g4=po&&po.isTypedArray,_u=g4?Ui(g4):function(t){return dr(t)&&xf(t.length)&&!!Yn[mi(t)]},qz=Object.prototype.hasOwnProperty;function E6(t,e){var n=Ut(t),r=!n&&ba(t),i=!n&&!r&&Ns(t),o=!n&&!r&&!i&&_u(t),s=n||r||i||o,a=s?Ly(t.length,String):[],u=a.length;for(var l in t)!e&&!qz.call(t,l)||s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Bs(l,u))||a.push(l);return a}function T6(t,e){return function(n){return t(e(n))}}var Vz=T6(Object.keys,Object),Hz=Object.prototype.hasOwnProperty;function Dy(t){if(!jf(t))return Vz(t);var e=[];for(var n in Object(t))Hz.call(t,n)&&n!="constructor"&&e.push(n);return e}function jr(t){return gi(t)?E6(t):Dy(t)}var Wz=Object.prototype.hasOwnProperty,P6=Ml(function(t,e){if(jf(e)||gi(e))as(e,jr(e),t);else for(var n in e)Wz.call(e,n)&&wf(t,n,e[n])}),Uz=Object.prototype.hasOwnProperty;function Jz(t){if(!nr(t))return function(i){var o=[];if(i!=null)for(var s in Object(i))o.push(s);return o}(t);var e=jf(t),n=[];for(var r in t)(r!="constructor"||!e&&Uz.call(t,r))&&n.push(r);return n}function vi(t){return gi(t)?E6(t,!0):Jz(t)}var Oh=Ml(function(t,e){as(e,vi(e),t)}),al=Ml(function(t,e,n,r){as(e,vi(e),t,r)}),M6=Ml(function(t,e,n,r){as(e,jr(e),t,r)}),Kz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gz=/^\w*$/;function Ry(t,e){if(Ut(t))return!1;var n=lt(t);return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ci(t))||Gz.test(t)||!Kz.test(t)||e!=null&&t in Object(e)}var Yl=ju(Object,"create"),Qz=Object.prototype.hasOwnProperty,Yz=Object.prototype.hasOwnProperty;function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ad(t,e){for(var n=t.length;n--;)if(mo(t[n][0],e))return n;return-1}Qa.prototype.clear=function(){this.__data__=Yl?Yl(null):{},this.size=0},Qa.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Qa.prototype.get=function(t){var e=this.__data__;if(Yl){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Qz.call(e,t)?e[t]:void 0},Qa.prototype.has=function(t){var e=this.__data__;return Yl?e[t]!==void 0:Yz.call(e,t)},Qa.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yl&&e===void 0?"__lodash_hash_undefined__":e,this};var Xz=Array.prototype.splice;function _s(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_s.prototype.clear=function(){this.__data__=[],this.size=0},_s.prototype.delete=function(t){var e=this.__data__,n=ad(e,t);return!(n<0)&&(n==e.length-1?e.pop():Xz.call(e,n,1),--this.size,!0)},_s.prototype.get=function(t){var e=this.__data__,n=ad(e,t);return n<0?void 0:e[n][1]},_s.prototype.has=function(t){return ad(this.__data__,t)>-1},_s.prototype.set=function(t,e){var n=this.__data__,r=ad(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Wc=ju(Ir,"Map");function ud(t,e){var n,r,i=t.__data__;return((r=lt(n=e))=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null)?i[typeof e=="string"?"string":"hash"]:i.map}function Ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ss.prototype.clear=function(){this.size=0,this.__data__={hash:new Qa,map:new(Wc||_s),string:new Qa}},Ss.prototype.delete=function(t){var e=ud(this,t).delete(t);return this.size-=e?1:0,e},Ss.prototype.get=function(t){return ud(this,t).get(t)},Ss.prototype.has=function(t){return ud(this,t).has(t)},Ss.prototype.set=function(t,e){var n=ud(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Il(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function r(){var i=arguments,o=e?e.apply(this,i):i[0],s=r.cache;if(s.has(o))return s.get(o);var a=t.apply(this,i);return r.cache=s.set(o,a)||s,a};return n.cache=new(Il.Cache||Ss),n}Il.Cache=Ss;var Zz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eF=/\\(\\)?/g,I6=function(t){var e=Il(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zz,function(n,r,i,o){e.push(i?o.replace(eF,"$1"):r||n)}),e});function Tn(t){return t==null?"":Hi(t)}function Oa(t,e){return Ut(t)?t:Ry(t,e)?[t]:I6(Tn(t))}function ms(t){if(typeof t=="string"||Ci(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Su(t,e){for(var n=0,r=(e=Oa(e,t)).length;t!=null&&n<r;)t=t[ms(e[n++])];return n&&n==r?t:void 0}function Xp(t,e,n){var r=t==null?void 0:Su(t,e);return r===void 0?n:r}function By(t,e){for(var n=-1,r=e.length,i=Array(r),o=t==null;++n<r;)i[n]=o?void 0:Xp(t,e[n]);return i}function Ea(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var y4=ti?ti.isConcatSpreadable:void 0;function tF(t){return Ut(t)||ba(t)||!!(y4&&t&&t[y4])}function Hr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=tF),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Hr(a,e-1,n,r,i):Ea(i,a):r||(i[i.length]=a)}return i}function zy(t){return t!=null&&t.length?Hr(t,1):[]}function qs(t){return Iy(C6(t,void 0,zy),t+"")}var N6=qs(By),Zp=T6(Object.getPrototypeOf,Object),nF=Function.prototype,rF=Object.prototype,L6=nF.toString,iF=rF.hasOwnProperty,oF=L6.call(Object);function Nl(t){if(!dr(t)||mi(t)!="[object Object]")return!1;var e=Zp(t);if(e===null)return!0;var n=iF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&L6.call(n)==oF}function ev(t){if(!dr(t))return!1;var e=mi(t);return e=="[object Error]"||e=="[object DOMException]"||typeof t.message=="string"&&typeof t.name=="string"&&!Nl(t)}var Fy=cn(function(t,e){try{return Wi(t,void 0,e)}catch(n){return ev(n)?n:new Error(n)}});function qy(t,e){var n;if(typeof e!="function")throw new TypeError("Expected a function");return t=Yt(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var _f=cn(function(t,e,n){var r=1;if(n.length){var i=ca(n,Pl(_f));r|=32}return zs(t,r,e,n,i)});_f.placeholder={};var D6=qs(function(t,e){return to(e,function(n){n=ms(n),Fs(t,n,_f(t[n],t))}),t}),tv=cn(function(t,e,n){var r=3;if(n.length){var i=ca(n,Pl(tv));r|=32}return zs(e,r,t,n,i)});function vo(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function Ta(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:vo(t,e,n)}tv.placeholder={};var sF=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ll(t){return sF.test(t)}var aF="[\\ud800-\\udfff]",Cg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$g="\\ud83c[\\udffb-\\udfff]",R6="[^\\ud800-\\udfff]",B6="(?:\\ud83c[\\udde6-\\uddff]){2}",z6="[\\ud800-\\udbff][\\udc00-\\udfff]",b4="(?:"+Cg+"|"+$g+")?",uF="[\\ufe0e\\ufe0f]?"+b4+("(?:\\u200d(?:"+[R6,B6,z6].join("|")+")[\\ufe0e\\ufe0f]?"+b4+")*"),lF="(?:"+[R6+Cg+"?",Cg,B6,z6,aF].join("|")+")",cF=RegExp($g+"(?="+$g+")|"+lF+uF,"g");function Ro(t){return Ll(t)?function(e){return e.match(cF)||[]}(t):function(e){return e.split("")}(t)}function F6(t){return function(e){var n=Ll(e=Tn(e))?Ro(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ta(n,1).join(""):e.slice(1);return r[t]()+i}}var nv=F6("toUpperCase");function Vy(t){return nv(Tn(t).toLowerCase())}function Hy(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Wy(t){return function(e){return t==null?void 0:t[e]}}var fF=Wy({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),dF=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hF=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Uy(t){return(t=Tn(t))&&t.replace(dF,fF).replace(hF,"")}var pF=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,q6="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",k4="["+q6+"]",V6="\\d+",mF="[\\u2700-\\u27bf]",H6="[a-z\\xdf-\\xf6\\xf8-\\xff]",W6="[^\\ud800-\\udfff"+q6+V6+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",U6="(?:\\ud83c[\\udde6-\\uddff]){2}",J6="[\\ud800-\\udbff][\\udc00-\\udfff]",Ru="[A-Z\\xc0-\\xd6\\xd8-\\xde]",w4="(?:"+H6+"|"+W6+")",gF="(?:"+Ru+"|"+W6+")",x4="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",yF="[\\ufe0e\\ufe0f]?"+x4+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",U6,J6].join("|")+")[\\ufe0e\\ufe0f]?"+x4+")*"),bF="(?:"+[mF,U6,J6].join("|")+")"+yF,kF=RegExp([Ru+"?"+H6+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[k4,Ru,"$"].join("|")+")",gF+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[k4,Ru+w4,"$"].join("|")+")",Ru+"?"+w4+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ru+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",V6,bF].join("|"),"g");function Jy(t,e,n){return t=Tn(t),(e=n?void 0:e)===void 0?function(r){return vF.test(r)}(t)?function(r){return r.match(kF)||[]}(t):function(r){return r.match(pF)||[]}(t):t.match(e)||[]}var wF=RegExp("['\u2019]","g");function Dl(t){return function(e){return Hy(Jy(Uy(e).replace(wF,"")),t,"")}}var K6=Dl(function(t,e,n){return e=e.toLowerCase(),t+(n?Vy(e):e)});function G6(){if(!arguments.length)return[];var t=arguments[0];return Ut(t)?t:[t]}var xF=Ir.isFinite,jF=Math.min;function Ky(t){var e=Math[t];return function(n,r){if(n=Fi(n),(r=r==null?0:jF(Yt(r),292))&&xF(n)){var i=(Tn(n)+"e").split("e");return+((i=(Tn(e(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return e(n)}}var Q6=Ky("ceil");function Gy(t){var e=ee(t);return e.__chain__=!0,e}var _F=Math.ceil,SF=Math.max;function Y6(t,e,n){e=(n?pi(t,e,n):e===void 0)?1:SF(Yt(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,s=Array(_F(r/e));i<r;)s[o++]=vo(t,i,i+=e);return s}function Cu(t,e,n){return t==t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function X6(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=(n=Fi(n))==n?n:0),e!==void 0&&(e=(e=Fi(e))==e?e:0),Cu(Fi(t),e,n)}function _o(t){var e=this.__data__=new _s(t);this.size=e.size}function Z6(t,e){return t&&as(e,jr(e),t)}_o.prototype.clear=function(){this.__data__=new _s,this.size=0},_o.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_o.prototype.get=function(t){return this.__data__.get(t)},_o.prototype.has=function(t){return this.__data__.has(t)},_o.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _s){var r=n.__data__;if(!Wc||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ss(r)}return n.set(t,e),this.size=n.size,this};var eE=(typeof exports>"u"?"undefined":lt(exports))=="object"&&exports&&!exports.nodeType&&exports,j4=eE&&(typeof module>"u"?"undefined":lt(module))=="object"&&module&&!module.nodeType&&module,_4=j4&&j4.exports===eE?Ir.Buffer:void 0,S4=_4?_4.allocUnsafe:void 0;function tE(t,e){if(e)return t.slice();var n=t.length,r=S4?S4(n):new t.constructor(n);return t.copy(r),r}function Pa(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function rv(){return[]}var CF=Object.prototype.propertyIsEnumerable,C4=Object.getOwnPropertySymbols,Qy=C4?function(t){return t==null?[]:(t=Object(t),Pa(C4(t),function(e){return CF.call(t,e)}))}:rv,nE=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ea(e,Qy(t)),t=Zp(t);return e}:rv;function rE(t,e,n){var r=e(t);return Ut(t)?r:Ea(r,n(t))}function Ag(t){return rE(t,jr,Qy)}function Yy(t){return rE(t,vi,nE)}var Og=ju(Ir,"DataView"),Eg=ju(Ir,"Promise"),Qu=ju(Ir,"Set"),$F=xu(Og),AF=xu(Wc),OF=xu(Eg),EF=xu(Qu),TF=xu(Hc),Ua=mi;(Og&&Ua(new Og(new ArrayBuffer(1)))!="[object DataView]"||Wc&&Ua(new Wc)!="[object Map]"||Eg&&Ua(Eg.resolve())!="[object Promise]"||Qu&&Ua(new Qu)!="[object Set]"||Hc&&Ua(new Hc)!="[object WeakMap]")&&(Ua=function(t){var e=mi(t),n=e=="[object Object]"?t.constructor:void 0,r=n?xu(n):"";if(r)switch(r){case $F:return"[object DataView]";case AF:return"[object Map]";case OF:return"[object Promise]";case EF:return"[object Set]";case TF:return"[object WeakMap]"}return e});var ds=Ua,PF=Object.prototype.hasOwnProperty,Eh=Ir.Uint8Array;function Tg(t){var e=new t.constructor(t.byteLength);return new Eh(e).set(new Eh(t)),e}var MF=/\w*$/,$4=ti?ti.prototype:void 0,A4=$4?$4.valueOf:void 0;function iE(t,e){var n=e?Tg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function IF(t,e,n){var r,i=t.constructor;switch(e){case"[object ArrayBuffer]":return Tg(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(o,s){var a=s?Tg(o.buffer):o.buffer;return new o.constructor(a,o.byteOffset,o.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return iE(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(o){var s=new o.constructor(o.source,MF.exec(o));return s.lastIndex=o.lastIndex,s}(t);case"[object Set]":return new i;case"[object Symbol]":return r=t,A4?Object(A4.call(r)):{}}}function oE(t){return typeof t.constructor!="function"||jf(t)?{}:El(Zp(t))}var O4=po&&po.isMap,Xy=O4?Ui(O4):function(t){return dr(t)&&ds(t)=="[object Map]"},E4=po&&po.isSet,Zy=E4?Ui(E4):function(t){return dr(t)&&ds(t)=="[object Set]"},Jn={};function co(t,e,n,r,i,o){var s,a=1&e,u=2&e,l=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!nr(t))return t;var f=Ut(t);if(f){if(s=function(v){var m=v.length,g=new v.constructor(m);return m&&typeof v[0]=="string"&&PF.call(v,"index")&&(g.index=v.index,g.input=v.input),g}(t),!a)return ji(t,s)}else{var c=ds(t),d=c=="[object Function]"||c=="[object GeneratorFunction]";if(Ns(t))return tE(t,a);if(c=="[object Object]"||c=="[object Arguments]"||d&&!i){if(s=u||d?{}:oE(t),!a)return u?function(v,m){return as(v,nE(v),m)}(t,function(v,m){return v&&as(m,vi(m),v)}(s,t)):function(v,m){return as(v,Qy(v),m)}(t,Z6(s,t))}else{if(!Jn[c])return i?t:{};s=IF(t,c,a)}}o||(o=new _o);var h=o.get(t);if(h)return h;o.set(t,s),Zy(t)?t.forEach(function(v){s.add(co(v,e,n,v,t,o))}):Xy(t)&&t.forEach(function(v,m){s.set(m,co(v,e,n,m,t,o))});var p=f?void 0:(l?u?Yy:Ag:u?vi:jr)(t);return to(p||t,function(v,m){p&&(v=t[m=v]),wf(s,m,co(v,e,n,m,t,o))}),s}Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object DataView]"]=Jn["[object Boolean]"]=Jn["[object Date]"]=Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object Symbol]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object WeakMap]"]=!1;function sE(t){return co(t,4)}function aE(t){return co(t,5)}function e1(t,e){return co(t,5,e=typeof e=="function"?e:void 0)}function uE(t,e){return co(t,4,e=typeof e=="function"?e:void 0)}function Pg(){return new lo(this.value(),this.__chain__)}function lE(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function cE(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ea(Ut(n)?ji(n):[n],Hr(e,1))}function lu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ss;++e<n;)this.add(t[e])}function t1(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Uc(t,e){return t.has(e)}lu.prototype.add=lu.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},lu.prototype.has=function(t){return this.__data__.has(t)};function T4(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var c=-1,d=!0,h=2&n?new lu:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var p=t[c],v=e[c];if(r)var m=s?r(v,p,c,e,t,o):r(p,v,c,t,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!t1(e,function(g,y){if(!Uc(h,y)&&(p===g||i(p,g,n,r,o)))return h.push(y)})){d=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function n1(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function iv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P4=ti?ti.prototype:void 0,Qv=P4?P4.valueOf:void 0,NF=Object.prototype.hasOwnProperty,ld="[object Object]",M4=Object.prototype.hasOwnProperty;function LF(t,e,n,r,i,o){var s=Ut(t),a=Ut(e),u=s?"[object Array]":ds(t),l=a?"[object Array]":ds(e),f=(u=u=="[object Arguments]"?ld:u)==ld,c=(l=l=="[object Arguments]"?ld:l)==ld,d=u==l;if(d&&Ns(t)){if(!Ns(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new _o),s||_u(t)?T4(t,e,n,r,i,o):function(g,y,b,k,w,C,_){switch(b){case"[object DataView]":if(g.byteLength!=y.byteLength||g.byteOffset!=y.byteOffset)return!1;g=g.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(g.byteLength!=y.byteLength||!C(new Eh(g),new Eh(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return mo(+g,+y);case"[object Error]":return g.name==y.name&&g.message==y.message;case"[object RegExp]":case"[object String]":return g==y+"";case"[object Map]":var T=n1;case"[object Set]":var j=1&k;if(T||(T=iv),g.size!=y.size&&!j)return!1;var O=_.get(g);if(O)return O==y;k|=2,_.set(g,y);var S=T4(T(g),T(y),k,w,C,_);return _.delete(g),S;case"[object Symbol]":if(Qv)return Qv.call(g)==Qv.call(y)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var h=f&&M4.call(t,"__wrapped__"),p=c&&M4.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,m=p?e.value():e;return o||(o=new _o),i(v,m,n,r,o)}}return!!d&&(o||(o=new _o),function(g,y,b,k,w,C){var _=1&b,T=Ag(g),j=T.length;if(j!=Ag(y).length&&!_)return!1;for(var O=j;O--;){var S=T[O];if(!(_?S in y:NF.call(y,S)))return!1}var N=C.get(g),A=C.get(y);if(N&&A)return N==y&&A==g;var $=!0;C.set(g,y),C.set(y,g);for(var q=_;++O<j;){var Y=g[S=T[O]],z=y[S];if(k)var J=_?k(z,Y,S,y,g,C):k(Y,z,S,g,y,C);if(!(J===void 0?Y===z||w(Y,z,b,k,C):J)){$=!1;break}q||(q=S=="constructor")}if($&&!q){var L=g.constructor,D=y.constructor;L==D||!("constructor"in g)||!("constructor"in y)||typeof L=="function"&&L instanceof L&&typeof D=="function"&&D instanceof D||($=!1)}return C.delete(g),C.delete(y),$}(t,e,n,r,i,o))}function Sf(t,e,n,r,i){return t===e||(t==null||e==null||!dr(t)&&!dr(e)?t!=t&&e!=e:LF(t,e,n,r,Sf,i))}function r1(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],l=t[u],f=a[1];if(s&&a[2]){if(l===void 0&&!(u in t))return!1}else{var c=new _o;if(r)var d=r(l,f,u,t,e,c);if(!(d===void 0?Sf(f,l,3,r,c):d))return!1}}return!0}function fE(t){return t==t&&!nr(t)}function i1(t){for(var e=jr(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fE(i)]}return e}function dE(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}}function hE(t){var e=i1(t);return e.length==1&&e[0][2]?dE(e[0][0],e[0][1]):function(n){return n===t||r1(n,t,e)}}function DF(t,e){return t!=null&&e in Object(t)}function pE(t,e,n){for(var r=-1,i=(e=Oa(e,t)).length,o=!1;++r<i;){var s=ms(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&xf(i)&&Bs(s,i)&&(Ut(t)||ba(t))}function ov(t,e){return t!=null&&pE(t,e,DF)}function vE(t,e){return Ry(t)&&fE(e)?dE(ms(t),e):function(n){var r=Xp(n,t);return r===void 0&&r===e?ov(n,t):Sf(e,r,3)}}function o1(t){return function(e){return e==null?void 0:e[t]}}function s1(t){return Ry(t)?o1(ms(t)):function(e){return function(n){return Su(n,e)}}(t)}function Jt(t){return typeof t=="function"?t:t==null?ni:lt(t)=="object"?Ut(t)?vE(t[0],t[1]):hE(t):s1(t)}function mE(t){var e=t==null?0:t.length,n=Jt;return t=e?ar(t,function(r){if(typeof r[1]!="function")throw new TypeError("Expected a function");return[n(r[0]),r[1]]}):[],cn(function(r){for(var i=-1;++i<e;){var o=t[i];if(Wi(o[0],this,r))return Wi(o[1],this,r)}})}function gE(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var i=n[r],o=e[i],s=t[i];if(s===void 0&&!(i in t)||!o(s))return!1}return!0}function yE(t){return function(e){var n=jr(e);return function(r){return gE(r,e,n)}}(co(t,1))}function bE(t,e){return e==null||gE(t,e,jr(e))}function RF(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function kE(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(n(o[u],u,o)===!1)break}return e}}var a1=kE();function us(t,e){return t&&a1(t,e,jr)}function wE(t,e){return function(n,r){if(n==null)return n;if(!gi(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Ma=wE(us);function BF(t,e,n,r){return Ma(t,function(i,o,s){e(r,i,n(i),s)}),r}function sv(t,e){return function(n,r){var i=Ut(n)?RF:BF,o=e?e():{};return i(n,t,Jt(r),o)}}var zF=Object.prototype.hasOwnProperty,xE=sv(function(t,e,n){zF.call(t,n)?++t[n]:Fs(t,n,1)});function jE(t,e){var n=El(t);return e==null?n:Z6(n,e)}function av(t,e,n){var r=zs(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=av.placeholder,r}av.placeholder={};function uv(t,e,n){var r=zs(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=uv.placeholder,r}uv.placeholder={};var _c=function(){return Ir.Date.now()},FF=Math.max,qF=Math.min;function Rl(t,e,n){var r,i,o,s,a,u,l=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError("Expected a function");function h(b){var k=r,w=i;return r=i=void 0,l=b,s=t.apply(w,k)}function p(b){return l=b,a=setTimeout(m,e),f?h(b):s}function v(b){var k=b-u;return u===void 0||k>=e||k<0||c&&b-l>=o}function m(){var b=_c();if(v(b))return g(b);a=setTimeout(m,function(k){var w=e-(k-u);return c?qF(w,o-(k-l)):w}(b))}function g(b){return a=void 0,d&&r?h(b):(r=i=void 0,s)}function y(){var b=_c(),k=v(b);if(r=arguments,i=this,u=b,k){if(a===void 0)return p(u);if(c)return clearTimeout(a),a=setTimeout(m,e),h(u)}return a===void 0&&(a=setTimeout(m,e)),s}return e=Fi(e)||0,nr(n)&&(f=!!n.leading,o=(c="maxWait"in n)?FF(Fi(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0},y.flush=function(){return a===void 0?s:g(_c())},y}function _E(t,e){return t==null||t!=t?e:t}var SE=Object.prototype,VF=SE.hasOwnProperty,CE=cn(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&pi(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=vi(o),a=-1,u=s.length;++a<u;){var l=s[a],f=t[l];(f===void 0||mo(f,SE[l])&&!VF.call(t,l))&&(t[l]=o[l])}return t});function Yv(t,e,n){(n!==void 0&&!mo(t[e],n)||n===void 0&&!(e in t))&&Fs(t,e,n)}function mr(t){return dr(t)&&gi(t)}function Xv(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}function u1(t){return as(t,vi(t))}function lv(t,e,n,r,i){t!==e&&a1(e,function(o,s){if(i||(i=new _o),nr(o))(function(u,l,f,c,d,h,p){var v=Xv(u,f),m=Xv(l,f),g=p.get(m);if(g)Yv(u,f,g);else{var y=h?h(v,m,f+"",u,l,p):void 0,b=y===void 0;if(b){var k=Ut(m),w=!k&&Ns(m),C=!k&&!w&&_u(m);y=m,k||w||C?Ut(v)?y=v:mr(v)?y=ji(v):w?(b=!1,y=tE(m,!0)):C?(b=!1,y=iE(m,!0)):y=[]:Nl(m)||ba(m)?(y=v,ba(v)?y=u1(v):nr(v)&&!vs(v)||(y=oE(m))):b=!1}b&&(p.set(m,y),d(y,m,c,h,p),p.delete(m)),Yv(u,f,y)}})(t,e,s,n,lv,r,i);else{var a=r?r(Xv(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Yv(t,s,a)}},vi)}function $E(t,e,n,r,i,o){return nr(t)&&nr(e)&&(o.set(e,t),lv(t,e,void 0,$E,o),o.delete(e)),t}var l1=Ml(function(t,e,n,r){lv(t,e,n,r)}),AE=cn(function(t){return t.push(void 0,$E),Wi(l1,void 0,t)});function OE(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(function(){t.apply(void 0,n)},e)}var EE=cn(function(t,e){return OE(t,1,e)}),TE=cn(function(t,e,n){return OE(t,Fi(e)||0,n)});function c1(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Cf(t,e,n,r){var i=-1,o=Qp,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=ar(e,Ui(n))),r?(o=c1,s=!1):e.length>=200&&(o=Uc,s=!1,e=new lu(e));e:for(;++i<a;){var f=t[i],c=n==null?f:n(f);if(f=r||f!==0?f:0,s&&c==c){for(var d=l;d--;)if(e[d]===c)continue e;u.push(f)}else o(e,c,r)||u.push(f)}return u}var PE=cn(function(t,e){return mr(t)?Cf(t,Hr(e,1,mr,!0)):[]});function pt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ME=cn(function(t,e){var n=pt(e);return mr(n)&&(n=void 0),mr(t)?Cf(t,Hr(e,1,mr,!0),Jt(n)):[]}),IE=cn(function(t,e){var n=pt(e);return mr(n)&&(n=void 0),mr(t)?Cf(t,Hr(e,1,mr,!0),void 0,n):[]}),NE=Up(function(t,e){return t/e},1);function LE(t,e,n){var r=t==null?0:t.length;return r?vo(t,(e=n||e===void 0?1:Yt(e))<0?0:e,r):[]}function DE(t,e,n){var r=t==null?0:t.length;return r?vo(t,0,(e=r-(e=n||e===void 0?1:Yt(e)))<0?0:e):[]}function cv(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?vo(t,r?0:o,r?o+1:i):vo(t,r?o+1:0,r?i:o)}function RE(t,e){return t&&t.length?cv(t,Jt(e),!0,!0):[]}function BE(t,e){return t&&t.length?cv(t,Jt(e),!0):[]}function gs(t){return typeof t=="function"?t:ni}function Th(t,e){return(Ut(t)?to:Ma)(t,gs(e))}function HF(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var zE=kE(!0);function f1(t,e){return t&&zE(t,e,jr)}var FE=wE(f1,!0);function Jc(t,e){return(Ut(t)?HF:FE)(t,gs(e))}function qE(t,e,n){t=Tn(t),e=Hi(e);var r=t.length,i=n=n===void 0?r:Cu(Yt(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e}function VE(t){return function(e){var n=ds(e);return n=="[object Map]"?n1(e):n=="[object Set]"?function(r){var i=-1,o=Array(r.size);return r.forEach(function(s){o[++i]=[s,s]}),o}(e):function(r,i){return ar(i,function(o){return[o,r[o]]})}(e,t(e))}}var Ph=VE(jr),Mh=VE(vi),WF=Wy({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),HE=/[&<>"']/g,UF=RegExp(HE.source);function d1(t){return(t=Tn(t))&&UF.test(t)?t.replace(HE,WF):t}var WE=/[\\^$.*+?()[\]{}|]/g,JF=RegExp(WE.source);function UE(t){return(t=Tn(t))&&JF.test(t)?t.replace(WE,"\\$&"):t}function JE(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function KF(t,e){var n=!0;return Ma(t,function(r,i,o){return n=!!e(r,i,o)}),n}function KE(t,e,n){var r=Ut(t)?JE:KF;return n&&pi(t,e,n)&&(e=void 0),r(t,Jt(e))}function h1(t){return t?Cu(Yt(t),0,4294967295):0}function GE(t,e,n,r){var i=t==null?0:t.length;return i?(n&&typeof n!="number"&&pi(t,e,n)&&(n=0,r=i),function(o,s,a,u){var l=o.length;for((a=Yt(a))<0&&(a=-a>l?0:l+a),(u=u===void 0||u>l?l:Yt(u))<0&&(u+=l),u=a>u?0:h1(u);a<u;)o[a++]=s;return o}(t,e,n,r)):[]}function QE(t,e){var n=[];return Ma(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}function YE(t,e){return(Ut(t)?Pa:QE)(t,Jt(e))}function XE(t){return function(e,n,r){var i=Object(e);if(!gi(e)){var o=Jt(n);e=jr(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var GF=Math.max;function p1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yt(n);return i<0&&(i=GF(r+i,0)),Gp(t,Jt(e),i)}var ZE=XE(p1);function e8(t,e,n){var r;return n(t,function(i,o,s){if(e(i,o,s))return r=o,!1}),r}function t8(t,e){return e8(t,Jt(e),us)}var QF=Math.max,YF=Math.min;function v1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=Yt(n),i=n<0?QF(r+i,0):YF(i,r-1)),Gp(t,Jt(e),i,!0)}var n8=XE(v1);function r8(t,e){return e8(t,Jt(e),f1)}function br(t){return t&&t.length?t[0]:void 0}function i8(t,e){var n=-1,r=gi(t)?Array(t.length):[];return Ma(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Bl(t,e){return(Ut(t)?ar:i8)(t,Jt(e))}function o8(t,e){return Hr(Bl(t,e),1)}function s8(t,e){return Hr(Bl(t,e),1/0)}function a8(t,e,n){return n=n===void 0?1:Yt(n),Hr(Bl(t,e),n)}function u8(t){return t!=null&&t.length?Hr(t,1/0):[]}function l8(t,e){return t!=null&&t.length?Hr(t,e=e===void 0?1:Yt(e)):[]}function c8(t){return zs(t,512)}var f8=Ky("floor");function d8(t){return qs(function(e){var n=e.length,r=n,i=lo.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if(typeof o!="function")throw new TypeError("Expected a function");if(i&&!s&&Yd(o)=="wrapper")var s=new lo([],!0)}for(r=s?r:n;++r<n;){var a=Yd(o=e[r]),u=a=="wrapper"?My(o):void 0;s=u&&Sg(u[0])&&u[1]==424&&!u[4].length&&u[9]==1?s[Yd(u[0])].apply(s,u[3]):o.length==1&&Sg(o)?s[a]():s.thru(o)}return function(){var l=arguments,f=l[0];if(s&&l.length==1&&Ut(f))return s.plant(f).value();for(var c=0,d=n?e[c].apply(this,l):f;++c<n;)d=e[c].call(this,d);return d}})}var h8=d8(),p8=d8(!0);function v8(t,e){return t==null?t:a1(t,gs(e),vi)}function m8(t,e){return t==null?t:zE(t,gs(e),vi)}function g8(t,e){return t&&us(t,gs(e))}function y8(t,e){return t&&f1(t,gs(e))}function b8(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function fv(t,e){return Pa(e,function(n){return vs(t[n])})}function k8(t){return t==null?[]:fv(t,jr(t))}function w8(t){return t==null?[]:fv(t,vi(t))}var XF=Object.prototype.hasOwnProperty,x8=sv(function(t,e,n){XF.call(t,n)?t[n].push(e):Fs(t,n,[e])});function m1(t,e){return t>e}function dv(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=Fi(e),n=Fi(n)),t(e,n)}}var j8=dv(m1),_8=dv(function(t,e){return t>=e}),ZF=Object.prototype.hasOwnProperty;function eq(t,e){return t!=null&&ZF.call(t,e)}function S8(t,e){return t!=null&&pE(t,e,eq)}var tq=Math.max,nq=Math.min;function C8(t,e,n){return e=ss(e),n===void 0?(n=e,e=0):n=ss(n),function(r,i,o){return r>=nq(i,o)&&r<tq(i,o)}(t=Fi(t),e,n)}function $f(t){return typeof t=="string"||!Ut(t)&&dr(t)&&mi(t)=="[object String]"}function g1(t,e){return ar(e,function(n){return t[n]})}function $u(t){return t==null?[]:g1(t,jr(t))}var rq=Math.max;function $8(t,e,n,r){t=gi(t)?t:$u(t),n=n&&!r?Yt(n):0;var i=t.length;return n<0&&(n=rq(i+n,0)),$f(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Tl(t,e,n)>-1}var iq=Math.max;function A8(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yt(n);return i<0&&(i=iq(r+i,0)),Tl(t,e,i)}function Zt(t){return t!=null&&t.length?vo(t,0,-1):[]}var oq=Math.min;function y1(t,e,n){for(var r=n?c1:Qp,i=t[0].length,o=t.length,s=o,a=Array(o),u=1/0,l=[];s--;){var f=t[s];s&&e&&(f=ar(f,Ui(e))),u=oq(f.length,u),a[s]=!n&&(e||i>=120&&f.length>=120)?new lu(s&&f):void 0}f=t[0];var c=-1,d=a[0];e:for(;++c<i&&l.length<u;){var h=f[c],p=e?e(h):h;if(h=n||h!==0?h:0,!(d?Uc(d,p):r(l,p,n))){for(s=o;--s;){var v=a[s];if(!(v?Uc(v,p):r(t[s],p,n)))continue e}d&&d.push(p),l.push(h)}}return l}function b1(t){return mr(t)?t:[]}var O8=cn(function(t){var e=ar(t,b1);return e.length&&e[0]===t[0]?y1(e):[]}),E8=cn(function(t){var e=pt(t),n=ar(t,b1);return e===pt(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?y1(n,Jt(e)):[]}),T8=cn(function(t){var e=pt(t),n=ar(t,b1);return(e=typeof e=="function"?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?y1(n,void 0,e):[]});function P8(t,e){return function(n,r){return function(i,o,s,a){return us(i,function(u,l,f){o(a,s(u),l,f)}),a}(n,t,e(r),{})}}var sq=Object.prototype.toString,M8=P8(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=sq.call(e)),t[e]=n},Kp(ni)),I8=Object.prototype,aq=I8.hasOwnProperty,uq=I8.toString,N8=P8(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=uq.call(e)),aq.call(t,e)?t[e].push(n):t[e]=[n]},Jt);function L8(t,e){return e.length<2?t:Su(t,vo(e,0,-1))}function Af(t,e,n){var r=(t=L8(t,e=Oa(e,t)))==null?t:t[ms(pt(e))];return r==null?void 0:Wi(r,t,n)}var D8=cn(Af),R8=cn(function(t,e,n){var r=-1,i=typeof e=="function",o=gi(t)?Array(t.length):[];return Ma(t,function(s){o[++r]=i?Wi(e,s,n):Af(s,e,n)}),o}),I4=po&&po.isArrayBuffer,B8=I4?Ui(I4):function(t){return dr(t)&&mi(t)=="[object ArrayBuffer]"};function z8(t){return t===!0||t===!1||dr(t)&&mi(t)=="[object Boolean]"}var N4=po&&po.isDate,F8=N4?Ui(N4):function(t){return dr(t)&&mi(t)=="[object Date]"};function q8(t){return dr(t)&&t.nodeType===1&&!Nl(t)}var lq=Object.prototype.hasOwnProperty;function Kn(t){if(t==null)return!0;if(gi(t)&&(Ut(t)||typeof t=="string"||typeof t.splice=="function"||Ns(t)||_u(t)||ba(t)))return!t.length;var e=ds(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(jf(t))return!Dy(t).length;for(var n in t)if(lq.call(t,n))return!1;return!0}function $n(t,e){return Sf(t,e)}function V8(t,e,n){var r=(n=typeof n=="function"?n:void 0)?n(t,e):void 0;return r===void 0?Sf(t,e,void 0,n):!!r}var cq=Ir.isFinite;function H8(t){return typeof t=="number"&&cq(t)}function k1(t){return typeof t=="number"&&t==Yt(t)}function W8(t,e){return t===e||r1(t,e,i1(e))}function U8(t,e,n){return n=typeof n=="function"?n:void 0,r1(t,e,i1(e),n)}function w1(t){return typeof t=="number"||dr(t)&&mi(t)=="[object Number]"}function J8(t){return w1(t)&&t!=+t}var fq=Qd?vs:Yp;function K8(t){if(fq(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return m6(t)}function G8(t){return t==null}function Q8(t){return t===null}var L4=po&&po.isRegExp,hv=L4?Ui(L4):function(t){return dr(t)&&mi(t)=="[object RegExp]"};function Y8(t){return k1(t)&&t>=-9007199254740991&&t<=9007199254740991}function X8(t){return t===void 0}function Z8(t){return dr(t)&&ds(t)=="[object WeakMap]"}function e7(t){return dr(t)&&mi(t)=="[object WeakSet]"}function t7(t){return Jt(typeof t=="function"?t:co(t,1))}var dq=Array.prototype.join;function n7(t,e){return t==null?"":dq.call(t,e)}var r7=Dl(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),i7=sv(function(t,e,n){Fs(t,n,e)}),hq=Math.max,pq=Math.min;function o7(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r;return n!==void 0&&(i=(i=Yt(n))<0?hq(r+i,0):pq(i,r-1)),e==e?function(o,s,a){for(var u=a+1;u--;)if(o[u]===s)return u;return u}(t,e,i):Gp(t,j6,i,!0)}var s7=Dl(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),a7=F6("toLowerCase");function x1(t,e){return t<e}var u7=dv(x1),l7=dv(function(t,e){return t<=e});function c7(t,e){var n={};return e=Jt(e),us(t,function(r,i,o){Fs(n,e(r,i,o),r)}),n}function f7(t,e){var n={};return e=Jt(e),us(t,function(r,i,o){Fs(n,i,e(r,i,o))}),n}function d7(t){return hE(co(t,1))}function h7(t,e){return vE(t,co(e,1))}function pv(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s==s&&!Ci(s):n(s,a)))var a=s,u=o}return u}function p7(t){return t&&t.length?pv(t,ni,m1):void 0}function v7(t,e){return t&&t.length?pv(t,Jt(e),m1):void 0}function j1(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}function m7(t,e){var n=t==null?0:t.length;return n?j1(t,e)/n:NaN}function g7(t){return m7(t,ni)}function y7(t,e){return m7(t,Jt(e))}var b7=Ml(function(t,e,n){lv(t,e,n)}),k7=cn(function(t,e){return function(n){return Af(n,t,e)}}),w7=cn(function(t,e){return function(n){return Af(t,n,e)}});function x7(t){return t&&t.length?pv(t,ni,x1):void 0}function Hu(t,e){return t&&t.length?pv(t,Jt(e),x1):void 0}function _1(t,e,n){var r=jr(e),i=fv(e,r),o=!(nr(n)&&"chain"in n&&!n.chain),s=vs(t);return to(i,function(a){var u=e[a];t[a]=u,s&&(t.prototype[a]=function(){var l=this.__chain__;if(o||l){var f=t(this.__wrapped__),c=f.__actions__=ji(this.__actions__);return c.push({func:u,args:arguments,thisArg:t}),f.__chain__=l,f}return u.apply(t,Ea([this.value()],arguments))})}),t}var j7=Up(function(t,e){return t*e},1);function ul(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Zv=ti?ti.iterator:void 0;function S1(t){if(!t)return[];if(gi(t))return $f(t)?Ro(t):ji(t);if(Zv&&t[Zv])return function(n){for(var r,i=[];!(r=n.next()).done;)i.push(r.value);return i}(t[Zv]());var e=ds(t);return(e=="[object Map]"?n1:e=="[object Set]"?iv:$u)(t)}function Mg(){this.__values__===void 0&&(this.__values__=S1(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}}function _7(t,e){var n=t.length;if(n)return Bs(e+=e<0?n:0,n)?t[e]:void 0}function S7(t,e){return t&&t.length?_7(t,Yt(e)):void 0}function C7(t){return t=Yt(t),cn(function(e){return _7(e,t)})}function C1(t,e){return(t=L8(t,e=Oa(e,t)))==null||delete t[ms(pt(e))]}function vq(t){return Nl(t)?void 0:t}var $7=qs(function(t,e){var n={};if(t==null)return n;var r=!1;e=ar(e,function(o){return o=Oa(o,t),r||(r=o.length>1),o}),as(t,Yy(t),n),r&&(n=co(n,7,vq));for(var i=e.length;i--;)C1(n,e[i]);return n});function Of(t,e,n,r){if(!nr(t))return t;for(var i=-1,o=(e=Oa(e,t)).length,s=o-1,a=t;a!=null&&++i<o;){var u=ms(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=s){var f=a[u];(l=r?r(f,u,a):void 0)===void 0&&(l=nr(f)?f:Bs(e[i+1])?[]:{})}wf(a,u,l),a=a[u]}return t}function A7(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Su(t,s);n(a,s)&&Of(o,Oa(s,t),a)}return o}function $1(t,e){if(t==null)return{};var n=ar(Yy(t),function(r){return[r]});return e=Jt(e),A7(t,n,function(r,i){return e(r,i[0])})}function O7(t,e){return $1(t,ul(Jt(e)))}function E7(t){return qy(2,t)}function T7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t==t,o=Ci(t),s=e!==void 0,a=e===null,u=e==e,l=Ci(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function P7(t,e,n){e=e.length?ar(e,function(i){return Ut(i)?function(o){return Su(o,i.length===1?i[0]:i)}:i}):[ni];var r=-1;return e=ar(e,Ui(Jt)),function(i,o){var s=i.length;for(i.sort(o);s--;)i[s]=i[s].value;return i}(i8(t,function(i,o,s){return{criteria:ar(e,function(a){return a(i)}),index:++r,value:i}}),function(i,o){return function(s,a,u){for(var l=-1,f=s.criteria,c=a.criteria,d=f.length,h=u.length;++l<d;){var p=T7(f[l],c[l]);if(p)return l>=h?p:p*(u[l]=="desc"?-1:1)}return s.index-a.index}(i,o,n)})}function M7(t,e,n,r){return t==null?[]:(Ut(e)||(e=e==null?[]:[e]),Ut(n=r?void 0:n)||(n=n==null?[]:[n]),P7(t,e,n))}function A1(t){return qs(function(e){return e=ar(e,Ui(Jt)),cn(function(n){var r=this;return t(e,function(i){return Wi(i,r,n)})})})}var I7=A1(ar),mq=cn,gq=Math.min,N7=mq(function(t,e){var n=(e=e.length==1&&Ut(e[0])?ar(e[0],Ui(Jt)):ar(Hr(e,1),Ui(Jt))).length;return cn(function(r){for(var i=-1,o=gq(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Wi(t,this,r)})}),L7=A1(JE),D7=A1(t1),yq=Math.floor;function Ig(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do e%2&&(n+=t),(e=yq(e/2))&&(t+=t);while(e);return n}var bq=o1("length"),kq="[\\ud800-\\udfff]",Ng="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Lg="\\ud83c[\\udffb-\\udfff]",R7="[^\\ud800-\\udfff]",B7="(?:\\ud83c[\\udde6-\\uddff]){2}",z7="[\\ud800-\\udbff][\\udc00-\\udfff]",D4="(?:"+Ng+"|"+Lg+")?",wq="[\\ufe0e\\ufe0f]?"+D4+("(?:\\u200d(?:"+[R7,B7,z7].join("|")+")[\\ufe0e\\ufe0f]?"+D4+")*"),xq="(?:"+[R7+Ng+"?",Ng,B7,z7,kq].join("|")+")",R4=RegExp(Lg+"(?="+Lg+")|"+xq+wq,"g");function zl(t){return Ll(t)?function(e){for(var n=R4.lastIndex=0;R4.test(e);)++n;return n}(t):bq(t)}var jq=Math.ceil;function Ih(t,e){var n=(e=e===void 0?" ":Hi(e)).length;if(n<2)return n?Ig(e,t):e;var r=Ig(e,jq(t/zl(e)));return Ll(e)?Ta(Ro(r),0,t).join(""):r.slice(0,t)}var _q=Math.ceil,Sq=Math.floor;function F7(t,e,n){t=Tn(t);var r=(e=Yt(e))?zl(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ih(Sq(i),n)+t+Ih(_q(i),n)}function q7(t,e,n){t=Tn(t);var r=(e=Yt(e))?zl(t):0;return e&&r<e?t+Ih(e-r,n):t}function V7(t,e,n){t=Tn(t);var r=(e=Yt(e))?zl(t):0;return e&&r<e?Ih(e-r,n)+t:t}var Cq=/^\s+/,$q=Ir.parseInt;function H7(t,e,n){return n||e==null?e=0:e&&(e=+e),$q(Tn(t).replace(Cq,""),e||0)}var Ef=cn(function(t,e){return zs(t,32,void 0,e,ca(e,Pl(Ef)))});Ef.placeholder={};var vv=cn(function(t,e){return zs(t,64,void 0,e,ca(e,Pl(vv)))});vv.placeholder={};var W7=sv(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),U7=qs(function(t,e){return t==null?{}:function(n,r){return A7(n,r,function(i,o){return ov(n,o)})}(t,e)});function Dg(t){for(var e,n=this;n instanceof Jp;){var r=k6(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function J7(t){return function(e){return t==null?void 0:Su(t,e)}}function Aq(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}var B4=Array.prototype.splice;function O1(t,e,n,r){var i=r?Aq:Tl,o=-1,s=e.length,a=t;for(t===e&&(e=ji(e)),n&&(a=ar(t,Ui(n)));++o<s;)for(var u=0,l=e[o],f=n?n(l):l;(u=i(a,f,u,r))>-1;)a!==t&&B4.call(a,u,1),B4.call(t,u,1);return t}function E1(t,e){return t&&t.length&&e&&e.length?O1(t,e):t}var K7=cn(E1);function G7(t,e,n){return t&&t.length&&e&&e.length?O1(t,e,Jt(n)):t}function Q7(t,e,n){return t&&t.length&&e&&e.length?O1(t,e,void 0,n):t}var Oq=Array.prototype.splice;function Y7(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Bs(i)?Oq.call(t,i,1):C1(t,i)}}return t}var X7=qs(function(t,e){var n=t==null?0:t.length,r=By(t,e);return Y7(t,ar(e,function(i){return Bs(i,n)?+i:i}).sort(T7)),r}),Eq=Math.floor,Tq=Math.random;function T1(t,e){return t+Eq(Tq()*(e-t+1))}var Pq=parseFloat,Mq=Math.min,Iq=Math.random;function Z7(t,e,n){if(n&&typeof n!="boolean"&&pi(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=ss(t),e===void 0?(e=t,t=0):e=ss(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Iq();return Mq(t+i*(e-t+Pq("1e-"+((i+"").length-1))),e)}return T1(t,e)}var Nq=Math.ceil,Lq=Math.max;function eT(t){return function(e,n,r){return r&&typeof r!="number"&&pi(e,n,r)&&(n=r=void 0),e=ss(e),n===void 0?(n=e,e=0):n=ss(n),function(i,o,s,a){for(var u=-1,l=Lq(Nq((o-i)/(s||1)),0),f=Array(l);l--;)f[a?l:++u]=i,i+=s;return f}(e,n,r=r===void 0?e<n?1:-1:ss(r),t)}}var P1=eT(),tT=eT(!0),nT=qs(function(t,e){return zs(t,256,void 0,void 0,void 0,e)});function rT(t,e,n,r,i){return i(t,function(o,s,a){n=r?(r=!1,o):e(n,o,s,a)}),n}function iT(t,e,n){var r=Ut(t)?Hy:rT,i=arguments.length<3;return r(t,Jt(e),n,i,Ma)}function Dq(t,e,n,r){var i=t==null?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function oT(t,e,n){var r=Ut(t)?Dq:rT,i=arguments.length<3;return r(t,Jt(e),n,i,FE)}function sT(t,e){return(Ut(t)?Pa:QE)(t,ul(Jt(e)))}function aT(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Jt(e);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Y7(t,i),n}function uT(t,e,n){return e=(n?pi(t,e,n):e===void 0)?1:Yt(e),Ig(Tn(t),e)}function lT(){var t=arguments,e=Tn(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function cT(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return cn(t,e=e===void 0?e:Yt(e))}function fT(t,e,n){var r=-1,i=(e=Oa(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=t==null?void 0:t[ms(e[r])];o===void 0&&(r=i,o=n),t=vs(o)?o.call(t):o}return t}var Rq=Array.prototype.reverse;function Nh(t){return t==null?t:Rq.call(t)}var dT=Ky("round");function hT(t){var e=t.length;return e?t[T1(0,e-1)]:void 0}function Bq(t){return hT($u(t))}function pT(t){return(Ut(t)?hT:Bq)(t)}function mv(t,e){var n=-1,r=t.length,i=r-1;for(e=e===void 0?r:e;++n<e;){var o=T1(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function zq(t,e){return mv(ji(t),Cu(e,0,t.length))}function Fq(t,e){var n=$u(t);return mv(n,Cu(e,0,n.length))}function vT(t,e,n){return e=(n?pi(t,e,n):e===void 0)?1:Yt(e),(Ut(t)?zq:Fq)(t,e)}function mT(t,e,n){return t==null?t:Of(t,e,n)}function gT(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:Of(t,e,n,r)}function qq(t){return mv(ji(t))}function Vq(t){return mv($u(t))}function yT(t){return(Ut(t)?qq:Vq)(t)}function bT(t){if(t==null)return 0;if(gi(t))return $f(t)?zl(t):t.length;var e=ds(t);return e=="[object Map]"||e=="[object Set]"?t.size:Dy(t).length}function kT(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&pi(t,e,n)?(e=0,n=r):(e=e==null?0:Yt(e),n=n===void 0?r:Yt(n)),vo(t,e,n)):[]}var wT=Dl(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function Hq(t,e){var n;return Ma(t,function(r,i,o){return!(n=e(r,i,o))}),!!n}function xT(t,e,n){var r=Ut(t)?t1:Hq;return n&&pi(t,e,n)&&(e=void 0),r(t,Jt(e))}var M1=cn(function(t,e){if(t==null)return[];var n=e.length;return n>1&&pi(t,e[0],e[1])?e=[]:n>2&&pi(e[0],e[1],e[2])&&(e=[e[0]]),P7(t,Hr(e,1),[])}),Wq=Math.floor,Uq=Math.min;function I1(t,e,n,r){var i=0,o=t==null?0:t.length;if(o===0)return 0;for(var s=(e=n(e))!=e,a=e===null,u=Ci(e),l=e===void 0;i<o;){var f=Wq((i+o)/2),c=n(t[f]),d=c!==void 0,h=c===null,p=c==c,v=Ci(c);if(s)var m=r||p;else m=l?p&&(r||d):a?p&&d&&(r||!h):u?p&&d&&!h&&(r||!v):!h&&!v&&(r?c<=e:c<e);m?i=f+1:o=f}return Uq(o,4294967294)}function gv(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];s!==null&&!Ci(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return I1(t,e,ni,n)}function jT(t,e){return gv(t,e)}function _T(t,e,n){return I1(t,e,Jt(n))}function ST(t,e){var n=t==null?0:t.length;if(n){var r=gv(t,e);if(r<n&&mo(t[r],e))return r}return-1}function CT(t,e){return gv(t,e,!0)}function $T(t,e,n){return I1(t,e,Jt(n),!0)}function AT(t,e){if(t!=null&&t.length){var n=gv(t,e,!0)-1;if(mo(t[n],e))return n}return-1}function OT(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!mo(a,u)){var u=a;o[i++]=s===0?0:s}}return o}function ET(t){return t&&t.length?OT(t):[]}function TT(t,e){return t&&t.length?OT(t,Jt(e)):[]}function PT(t,e,n){return n&&typeof n!="number"&&pi(t,e,n)&&(e=n=void 0),(n=n===void 0?4294967295:n>>>0)?(t=Tn(t))&&(typeof e=="string"||e!=null&&!hv(e))&&!(e=Hi(e))&&Ll(t)?Ta(Ro(t),0,n):t.split(e,n):[]}var Jq=Math.max;function MT(t,e){if(typeof t!="function")throw new TypeError("Expected a function");return e=e==null?0:Jq(Yt(e),0),cn(function(n){var r=n[e],i=Ta(n,0,e);return r&&Ea(i,r),Wi(t,this,i)})}var IT=Dl(function(t,e,n){return t+(n?" ":"")+nv(e)});function NT(t,e,n){return t=Tn(t),n=n==null?0:Cu(Yt(n),0,t.length),e=Hi(e),t.slice(n,n+e.length)==e}function LT(){return{}}function DT(){return""}function RT(){return!0}var BT=Up(function(t,e){return t-e},0);function zT(t){return t&&t.length?j1(t,ni):0}function FT(t,e){return t&&t.length?j1(t,Jt(e)):0}function qT(t){var e=t==null?0:t.length;return e?vo(t,1,e):[]}function VT(t,e,n){return t&&t.length?vo(t,0,(e=n||e===void 0?1:Yt(e))<0?0:e):[]}function HT(t,e,n){var r=t==null?0:t.length;return r?vo(t,(e=r-(e=n||e===void 0?1:Yt(e)))<0?0:e,r):[]}function WT(t,e){return t&&t.length?cv(t,Jt(e),!1,!0):[]}function UT(t,e){return t&&t.length?cv(t,Jt(e)):[]}function JT(t,e){return e(t),t}var KT=Object.prototype,Kq=KT.hasOwnProperty;function z4(t,e,n,r){return t===void 0||mo(t,KT[n])&&!Kq.call(r,n)?e:t}var Gq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Qq(t){return"\\"+Gq[t]}var GT=/<%=([\s\S]+?)%>/g,Lh={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:GT,variable:"",imports:{_:{escape:d1}}},Yq=/\b__p \+= '';/g,Xq=/\b(__p \+=) '' \+/g,Zq=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eV=/[()=,{}\[\]\/\s]/,tV=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cd=/($^)/,nV=/['\n\r\u2028\u2029\\]/g,F4=Object.prototype.hasOwnProperty;function QT(t,e,n){var r=Lh.imports._.templateSettings||Lh;n&&pi(t,e,n)&&(e=void 0),t=Tn(t),e=al({},e,r,z4);var i,o,s=al({},e.imports,r.imports,z4),a=jr(s),u=g1(s,a),l=0,f=e.interpolate||cd,c="__p += '",d=RegExp((e.escape||cd).source+"|"+f.source+"|"+(f===GT?tV:cd).source+"|"+(e.evaluate||cd).source+"|$","g"),h=F4.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(d,function(m,g,y,b,k,w){return y||(y=b),c+=t.slice(l,w).replace(nV,Qq),g&&(i=!0,c+=`' +
__e(`+g+`) +
'`),k&&(o=!0,c+=`';
`+k+`;
__p += '`),y&&(c+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),l=w+m.length,m}),c+=`';
`;var p=F4.call(e,"variable")&&e.variable;if(p){if(eV.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else c=`with (obj) {
`+c+`
}
`;c=(o?c.replace(Yq,""):c).replace(Xq,"$1").replace(Zq,"$1;"),c="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+c+`return __p
}`;var v=Fy(function(){return Function(a,h+"return "+c).apply(void 0,u)});if(v.source=c,ev(v))throw v;return v}function N1(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError("Expected a function");return nr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rl(t,e,{leading:r,maxWait:e,trailing:i})}function ll(t,e){return e(t)}var rV=Math.min;function L1(t,e){if((t=Yt(t))<1||t>9007199254740991)return[];var n=4294967295,r=rV(t,4294967295);t-=4294967295;for(var i=Ly(r,e=gs(e));++n<t;)e(n);return i}function Rg(){return this}function YT(t,e){var n=t;return n instanceof vn&&(n=n.value()),Hy(e,function(r,i){return i.func.apply(i.thisArg,Ea([r],i.args))},n)}function Za(){return YT(this.__wrapped__,this.__actions__)}function XT(t){return Tn(t).toLowerCase()}function ZT(t){return Ut(t)?ar(t,ms):Ci(t)?[t]:ji(I6(Tn(t)))}function eP(t){return t?Cu(Yt(t),-9007199254740991,9007199254740991):t===0?t:0}function tP(t){return Tn(t).toUpperCase()}function nP(t,e,n){var r=Ut(t),i=r||Ns(t)||_u(t);if(e=Jt(e),n==null){var o=t&&t.constructor;n=i?r?new o:[]:nr(t)&&vs(o)?El(Zp(t)):{}}return(i?to:us)(t,function(s,a,u){return e(n,s,a,u)}),n}function rP(t,e){for(var n=t.length;n--&&Tl(e,t[n],0)>-1;);return n}function iP(t,e){for(var n=-1,r=t.length;++n<r&&Tl(e,t[n],0)>-1;);return n}function oP(t,e,n){if((t=Tn(t))&&(n||e===void 0))return p6(t);if(!t||!(e=Hi(e)))return t;var r=Ro(t),i=Ro(e);return Ta(r,iP(r,i),rP(r,i)+1).join("")}function sP(t,e,n){if((t=Tn(t))&&(n||e===void 0))return t.slice(0,h6(t)+1);if(!t||!(e=Hi(e)))return t;var r=Ro(t);return Ta(r,0,rP(r,Ro(e))+1).join("")}var iV=/^\s+/;function aP(t,e,n){if((t=Tn(t))&&(n||e===void 0))return t.replace(iV,"");if(!t||!(e=Hi(e)))return t;var r=Ro(t);return Ta(r,iP(r,Ro(e))).join("")}var oV=/\w*$/;function uP(t,e){var n=30,r="...";if(nr(e)){var i="separator"in e?e.separator:i;n="length"in e?Yt(e.length):n,r="omission"in e?Hi(e.omission):r}var o=(t=Tn(t)).length;if(Ll(t)){var s=Ro(t);o=s.length}if(n>=o)return t;var a=n-zl(r);if(a<1)return r;var u=s?Ta(s,0,a).join(""):t.slice(0,a);if(i===void 0)return u+r;if(s&&(a+=u.length-a),hv(i)){if(t.slice(a).search(i)){var l,f=u;for(i.global||(i=RegExp(i.source,Tn(oV.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var c=l.index;u=u.slice(0,c===void 0?a:c)}}else if(t.indexOf(Hi(i),a)!=a){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r}function lP(t){return Ny(t,1)}var sV=Wy({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cP=/&(?:amp|lt|gt|quot|#39);/g,aV=RegExp(cP.source);function fP(t){return(t=Tn(t))&&aV.test(t)?t.replace(cP,sV):t}var uV=Qu&&1/iv(new Qu([,-0]))[1]==1/0?function(t){return new Qu(t)}:fn;function ka(t,e,n){var r=-1,i=Qp,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=c1;else if(o>=200){var l=e?null:uV(t);if(l)return iv(l);s=!1,i=Uc,u=new lu}else u=e?[]:a;e:for(;++r<o;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,s&&c==c){for(var d=u.length;d--;)if(u[d]===c)continue e;e&&u.push(c),a.push(f)}else i(u,c,n)||(u!==a&&u.push(c),a.push(f))}return a}var dP=cn(function(t){return ka(Hr(t,1,mr,!0))}),hP=cn(function(t){var e=pt(t);return mr(e)&&(e=void 0),ka(Hr(t,1,mr,!0),Jt(e))}),pP=cn(function(t){var e=pt(t);return e=typeof e=="function"?e:void 0,ka(Hr(t,1,mr,!0),void 0,e)});function vP(t){return t&&t.length?ka(t):[]}function mP(t,e){return t&&t.length?ka(t,Jt(e)):[]}function gP(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ka(t,void 0,e):[]}var lV=0;function Po(t){var e=++lV;return Tn(t)+e}function yP(t,e){return t==null||C1(t,e)}var cV=Math.max;function yv(t){if(!t||!t.length)return[];var e=0;return t=Pa(t,function(n){if(mr(n))return e=cV(n.length,e),!0}),Ly(e,function(n){return ar(t,o1(n))})}function D1(t,e){if(!t||!t.length)return[];var n=yv(t);return e==null?n:ar(n,function(r){return Wi(e,void 0,r)})}function bP(t,e,n,r){return Of(t,e,n(Su(t,e)),r)}function kP(t,e,n){return t==null?t:bP(t,e,gs(n))}function wP(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:bP(t,e,gs(n),r)}var xP=Dl(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});function jP(t){return t==null?[]:g1(t,vi(t))}var _P=cn(function(t,e){return mr(t)?Cf(t,e):[]});function SP(t,e){return Ef(gs(e),t)}var CP=qs(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(o){return By(o,t)};return!(e>1||this.__actions__.length)&&r instanceof vn&&Bs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ll,args:[i],thisArg:void 0}),new lo(r,this.__chain__).thru(function(o){return e&&!o.length&&o.push(void 0),o})):this.thru(i)});function $P(){return Gy(this)}function AP(){var t=this.__wrapped__;if(t instanceof vn){var e=t;return this.__actions__.length&&(e=new vn(this)),(e=e.reverse()).__actions__.push({func:ll,args:[Nh],thisArg:void 0}),new lo(e,this.__chain__)}return this.thru(Nh)}function R1(t,e,n){var r=t.length;if(r<2)return r?ka(t[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=Cf(o[i]||s,t[a],e,n));return ka(Hr(o,1),e,n)}var OP=cn(function(t){return R1(Pa(t,mr))}),EP=cn(function(t){var e=pt(t);return mr(e)&&(e=void 0),R1(Pa(t,mr),Jt(e))}),TP=cn(function(t){var e=pt(t);return e=typeof e=="function"?e:void 0,R1(Pa(t,mr),void 0,e)}),PP=cn(yv);function MP(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:void 0;n(s,t[r],a)}return s}function IP(t,e){return MP(t||[],e||[],wf)}function NP(t,e){return MP(t||[],e||[],Of)}var LP=cn(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,D1(t,n)}),yt={chunk:Y6,compact:lE,concat:cE,difference:PE,differenceBy:ME,differenceWith:IE,drop:LE,dropRight:DE,dropRightWhile:RE,dropWhile:BE,fill:GE,findIndex:p1,findLastIndex:v1,first:br,flatten:zy,flattenDeep:u8,flattenDepth:l8,fromPairs:b8,head:br,indexOf:A8,initial:Zt,intersection:O8,intersectionBy:E8,intersectionWith:T8,join:n7,last:pt,lastIndexOf:o7,nth:S7,pull:K7,pullAll:E1,pullAllBy:G7,pullAllWith:Q7,pullAt:X7,remove:aT,reverse:Nh,slice:kT,sortedIndex:jT,sortedIndexBy:_T,sortedIndexOf:ST,sortedLastIndex:CT,sortedLastIndexBy:$T,sortedLastIndexOf:AT,sortedUniq:ET,sortedUniqBy:TT,tail:qT,take:VT,takeRight:HT,takeRightWhile:WT,takeWhile:UT,union:dP,unionBy:hP,unionWith:pP,uniq:vP,uniqBy:mP,uniqWith:gP,unzip:yv,unzipWith:D1,without:_P,xor:OP,xorBy:EP,xorWith:TP,zip:PP,zipObject:IP,zipObjectDeep:NP,zipWith:LP},Fn={countBy:xE,each:Th,eachRight:Jc,every:KE,filter:YE,find:ZE,findLast:n8,flatMap:o8,flatMapDeep:s8,flatMapDepth:a8,forEach:Th,forEachRight:Jc,groupBy:x8,includes:$8,invokeMap:R8,keyBy:i7,map:Bl,orderBy:M7,partition:W7,reduce:iT,reduceRight:oT,reject:sT,sample:pT,sampleSize:vT,shuffle:yT,size:bT,some:xT,sortBy:M1},fV=_c,pr={after:v6,ary:Ny,before:qy,bind:_f,bindKey:tv,curry:av,curryRight:uv,debounce:Rl,defer:EE,delay:TE,flip:c8,memoize:Il,negate:ul,once:E7,overArgs:N7,partial:Ef,partialRight:vv,rearg:nT,rest:cT,spread:MT,throttle:N1,unary:lP,wrap:SP},Tt={castArray:G6,clone:sE,cloneDeep:aE,cloneDeepWith:e1,cloneWith:uE,conformsTo:bE,eq:mo,gt:j8,gte:_8,isArguments:ba,isArray:Ut,isArrayBuffer:B8,isArrayLike:gi,isArrayLikeObject:mr,isBoolean:z8,isBuffer:Ns,isDate:F8,isElement:q8,isEmpty:Kn,isEqual:$n,isEqualWith:V8,isError:ev,isFinite:H8,isFunction:vs,isInteger:k1,isLength:xf,isMap:Xy,isMatch:W8,isMatchWith:U8,isNaN:J8,isNative:K8,isNil:G8,isNull:Q8,isNumber:w1,isObject:nr,isObjectLike:dr,isPlainObject:Nl,isRegExp:hv,isSafeInteger:Y8,isSet:Zy,isString:$f,isSymbol:Ci,isTypedArray:_u,isUndefined:X8,isWeakMap:Z8,isWeakSet:e7,lt:u7,lte:l7,toArray:S1,toFinite:ss,toInteger:Yt,toLength:h1,toNumber:Fi,toPlainObject:u1,toSafeInteger:eP,toString:Tn},ii={add:d6,ceil:Q6,divide:NE,floor:f8,max:p7,maxBy:v7,mean:g7,meanBy:y7,min:x7,minBy:Hu,multiply:j7,round:dT,subtract:BT,sum:zT,sumBy:FT},dV=X6,hV=C8,pV=Z7,Vt={assign:P6,assignIn:Oh,assignInWith:al,assignWith:M6,at:N6,create:jE,defaults:CE,defaultsDeep:AE,entries:Ph,entriesIn:Mh,extend:Oh,extendWith:al,findKey:t8,findLastKey:r8,forIn:v8,forInRight:m8,forOwn:g8,forOwnRight:y8,functions:k8,functionsIn:w8,get:Xp,has:S8,hasIn:ov,invert:M8,invertBy:N8,invoke:D8,keys:jr,keysIn:vi,mapKeys:c7,mapValues:f7,merge:b7,mergeWith:l1,omit:$7,omitBy:O7,pick:U7,pickBy:$1,result:fT,set:mT,setWith:gT,toPairs:Ph,toPairsIn:Mh,transform:nP,unset:yP,update:kP,updateWith:wP,values:$u,valuesIn:jP},qo={at:CP,chain:Gy,commit:Pg,lodash:ee,next:Mg,plant:Dg,reverse:AP,tap:JT,thru:ll,toIterator:Rg,toJSON:Za,value:Za,valueOf:Za,wrapperChain:$P},On={camelCase:K6,capitalize:Vy,deburr:Uy,endsWith:qE,escape:d1,escapeRegExp:UE,kebabCase:r7,lowerCase:s7,lowerFirst:a7,pad:F7,padEnd:q7,padStart:V7,parseInt:H7,repeat:uT,replace:lT,snakeCase:wT,split:PT,startCase:IT,startsWith:NT,template:QT,templateSettings:Lh,toLower:XT,toUpper:tP,trim:oP,trimEnd:sP,trimStart:aP,truncate:uP,unescape:fP,upperCase:xP,upperFirst:nv,words:Jy},Mn={attempt:Fy,bindAll:D6,cond:mE,conforms:yE,constant:Kp,defaultTo:_E,flow:h8,flowRight:p8,identity:ni,iteratee:t7,matches:d7,matchesProperty:h7,method:k7,methodOf:w7,mixin:_1,noop:fn,nthArg:C7,over:I7,overEvery:L7,overSome:D7,property:s1,propertyOf:J7,range:P1,rangeRight:tT,stubArray:rv,stubFalse:Yp,stubObject:LT,stubString:DT,stubTrue:RT,times:L1,toPath:ZT,uniqueId:Po},vV=Math.max,mV=Math.min,gV=Math.min;/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var em,yV=Array.prototype,q4=Object.prototype.hasOwnProperty,V4=ti?ti.iterator:void 0,bV=Math.max,H4=Math.min,tm=function(t){return function(e,n,r){if(r==null){var i=nr(n),o=i&&jr(n),s=o&&o.length&&fv(n,o);(s?s.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(_1);ee.after=pr.after,ee.ary=pr.ary,ee.assign=Vt.assign,ee.assignIn=Vt.assignIn,ee.assignInWith=Vt.assignInWith,ee.assignWith=Vt.assignWith,ee.at=Vt.at,ee.before=pr.before,ee.bind=pr.bind,ee.bindAll=Mn.bindAll,ee.bindKey=pr.bindKey,ee.castArray=Tt.castArray,ee.chain=qo.chain,ee.chunk=yt.chunk,ee.compact=yt.compact,ee.concat=yt.concat,ee.cond=Mn.cond,ee.conforms=Mn.conforms,ee.constant=Mn.constant,ee.countBy=Fn.countBy,ee.create=Vt.create,ee.curry=pr.curry,ee.curryRight=pr.curryRight,ee.debounce=pr.debounce,ee.defaults=Vt.defaults,ee.defaultsDeep=Vt.defaultsDeep,ee.defer=pr.defer,ee.delay=pr.delay,ee.difference=yt.difference,ee.differenceBy=yt.differenceBy,ee.differenceWith=yt.differenceWith,ee.drop=yt.drop,ee.dropRight=yt.dropRight,ee.dropRightWhile=yt.dropRightWhile,ee.dropWhile=yt.dropWhile,ee.fill=yt.fill,ee.filter=Fn.filter,ee.flatMap=Fn.flatMap,ee.flatMapDeep=Fn.flatMapDeep,ee.flatMapDepth=Fn.flatMapDepth,ee.flatten=yt.flatten,ee.flattenDeep=yt.flattenDeep,ee.flattenDepth=yt.flattenDepth,ee.flip=pr.flip,ee.flow=Mn.flow,ee.flowRight=Mn.flowRight,ee.fromPairs=yt.fromPairs,ee.functions=Vt.functions,ee.functionsIn=Vt.functionsIn,ee.groupBy=Fn.groupBy,ee.initial=yt.initial,ee.intersection=yt.intersection,ee.intersectionBy=yt.intersectionBy,ee.intersectionWith=yt.intersectionWith,ee.invert=Vt.invert,ee.invertBy=Vt.invertBy,ee.invokeMap=Fn.invokeMap,ee.iteratee=Mn.iteratee,ee.keyBy=Fn.keyBy,ee.keys=jr,ee.keysIn=Vt.keysIn,ee.map=Fn.map,ee.mapKeys=Vt.mapKeys,ee.mapValues=Vt.mapValues,ee.matches=Mn.matches,ee.matchesProperty=Mn.matchesProperty,ee.memoize=pr.memoize,ee.merge=Vt.merge,ee.mergeWith=Vt.mergeWith,ee.method=Mn.method,ee.methodOf=Mn.methodOf,ee.mixin=tm,ee.negate=ul,ee.nthArg=Mn.nthArg,ee.omit=Vt.omit,ee.omitBy=Vt.omitBy,ee.once=pr.once,ee.orderBy=Fn.orderBy,ee.over=Mn.over,ee.overArgs=pr.overArgs,ee.overEvery=Mn.overEvery,ee.overSome=Mn.overSome,ee.partial=pr.partial,ee.partialRight=pr.partialRight,ee.partition=Fn.partition,ee.pick=Vt.pick,ee.pickBy=Vt.pickBy,ee.property=Mn.property,ee.propertyOf=Mn.propertyOf,ee.pull=yt.pull,ee.pullAll=yt.pullAll,ee.pullAllBy=yt.pullAllBy,ee.pullAllWith=yt.pullAllWith,ee.pullAt=yt.pullAt,ee.range=Mn.range,ee.rangeRight=Mn.rangeRight,ee.rearg=pr.rearg,ee.reject=Fn.reject,ee.remove=yt.remove,ee.rest=pr.rest,ee.reverse=yt.reverse,ee.sampleSize=Fn.sampleSize,ee.set=Vt.set,ee.setWith=Vt.setWith,ee.shuffle=Fn.shuffle,ee.slice=yt.slice,ee.sortBy=Fn.sortBy,ee.sortedUniq=yt.sortedUniq,ee.sortedUniqBy=yt.sortedUniqBy,ee.split=On.split,ee.spread=pr.spread,ee.tail=yt.tail,ee.take=yt.take,ee.takeRight=yt.takeRight,ee.takeRightWhile=yt.takeRightWhile,ee.takeWhile=yt.takeWhile,ee.tap=qo.tap,ee.throttle=pr.throttle,ee.thru=ll,ee.toArray=Tt.toArray,ee.toPairs=Vt.toPairs,ee.toPairsIn=Vt.toPairsIn,ee.toPath=Mn.toPath,ee.toPlainObject=Tt.toPlainObject,ee.transform=Vt.transform,ee.unary=pr.unary,ee.union=yt.union,ee.unionBy=yt.unionBy,ee.unionWith=yt.unionWith,ee.uniq=yt.uniq,ee.uniqBy=yt.uniqBy,ee.uniqWith=yt.uniqWith,ee.unset=Vt.unset,ee.unzip=yt.unzip,ee.unzipWith=yt.unzipWith,ee.update=Vt.update,ee.updateWith=Vt.updateWith,ee.values=Vt.values,ee.valuesIn=Vt.valuesIn,ee.without=yt.without,ee.words=On.words,ee.wrap=pr.wrap,ee.xor=yt.xor,ee.xorBy=yt.xorBy,ee.xorWith=yt.xorWith,ee.zip=yt.zip,ee.zipObject=yt.zipObject,ee.zipObjectDeep=yt.zipObjectDeep,ee.zipWith=yt.zipWith,ee.entries=Vt.toPairs,ee.entriesIn=Vt.toPairsIn,ee.extend=Vt.assignIn,ee.extendWith=Vt.assignInWith,tm(ee,ee),ee.add=ii.add,ee.attempt=Mn.attempt,ee.camelCase=On.camelCase,ee.capitalize=On.capitalize,ee.ceil=ii.ceil,ee.clamp=dV,ee.clone=Tt.clone,ee.cloneDeep=Tt.cloneDeep,ee.cloneDeepWith=Tt.cloneDeepWith,ee.cloneWith=Tt.cloneWith,ee.conformsTo=Tt.conformsTo,ee.deburr=On.deburr,ee.defaultTo=Mn.defaultTo,ee.divide=ii.divide,ee.endsWith=On.endsWith,ee.eq=Tt.eq,ee.escape=On.escape,ee.escapeRegExp=On.escapeRegExp,ee.every=Fn.every,ee.find=Fn.find,ee.findIndex=yt.findIndex,ee.findKey=Vt.findKey,ee.findLast=Fn.findLast,ee.findLastIndex=yt.findLastIndex,ee.findLastKey=Vt.findLastKey,ee.floor=ii.floor,ee.forEach=Fn.forEach,ee.forEachRight=Fn.forEachRight,ee.forIn=Vt.forIn,ee.forInRight=Vt.forInRight,ee.forOwn=Vt.forOwn,ee.forOwnRight=Vt.forOwnRight,ee.get=Vt.get,ee.gt=Tt.gt,ee.gte=Tt.gte,ee.has=Vt.has,ee.hasIn=Vt.hasIn,ee.head=yt.head,ee.identity=ni,ee.includes=Fn.includes,ee.indexOf=yt.indexOf,ee.inRange=hV,ee.invoke=Vt.invoke,ee.isArguments=Tt.isArguments,ee.isArray=Ut,ee.isArrayBuffer=Tt.isArrayBuffer,ee.isArrayLike=Tt.isArrayLike,ee.isArrayLikeObject=Tt.isArrayLikeObject,ee.isBoolean=Tt.isBoolean,ee.isBuffer=Tt.isBuffer,ee.isDate=Tt.isDate,ee.isElement=Tt.isElement,ee.isEmpty=Tt.isEmpty,ee.isEqual=Tt.isEqual,ee.isEqualWith=Tt.isEqualWith,ee.isError=Tt.isError,ee.isFinite=Tt.isFinite,ee.isFunction=Tt.isFunction,ee.isInteger=Tt.isInteger,ee.isLength=Tt.isLength,ee.isMap=Tt.isMap,ee.isMatch=Tt.isMatch,ee.isMatchWith=Tt.isMatchWith,ee.isNaN=Tt.isNaN,ee.isNative=Tt.isNative,ee.isNil=Tt.isNil,ee.isNull=Tt.isNull,ee.isNumber=Tt.isNumber,ee.isObject=nr,ee.isObjectLike=Tt.isObjectLike,ee.isPlainObject=Tt.isPlainObject,ee.isRegExp=Tt.isRegExp,ee.isSafeInteger=Tt.isSafeInteger,ee.isSet=Tt.isSet,ee.isString=Tt.isString,ee.isSymbol=Tt.isSymbol,ee.isTypedArray=Tt.isTypedArray,ee.isUndefined=Tt.isUndefined,ee.isWeakMap=Tt.isWeakMap,ee.isWeakSet=Tt.isWeakSet,ee.join=yt.join,ee.kebabCase=On.kebabCase,ee.last=pt,ee.lastIndexOf=yt.lastIndexOf,ee.lowerCase=On.lowerCase,ee.lowerFirst=On.lowerFirst,ee.lt=Tt.lt,ee.lte=Tt.lte,ee.max=ii.max,ee.maxBy=ii.maxBy,ee.mean=ii.mean,ee.meanBy=ii.meanBy,ee.min=ii.min,ee.minBy=ii.minBy,ee.stubArray=Mn.stubArray,ee.stubFalse=Mn.stubFalse,ee.stubObject=Mn.stubObject,ee.stubString=Mn.stubString,ee.stubTrue=Mn.stubTrue,ee.multiply=ii.multiply,ee.nth=yt.nth,ee.noop=Mn.noop,ee.now=fV,ee.pad=On.pad,ee.padEnd=On.padEnd,ee.padStart=On.padStart,ee.parseInt=On.parseInt,ee.random=pV,ee.reduce=Fn.reduce,ee.reduceRight=Fn.reduceRight,ee.repeat=On.repeat,ee.replace=On.replace,ee.result=Vt.result,ee.round=ii.round,ee.sample=Fn.sample,ee.size=Fn.size,ee.snakeCase=On.snakeCase,ee.some=Fn.some,ee.sortedIndex=yt.sortedIndex,ee.sortedIndexBy=yt.sortedIndexBy,ee.sortedIndexOf=yt.sortedIndexOf,ee.sortedLastIndex=yt.sortedLastIndex,ee.sortedLastIndexBy=yt.sortedLastIndexBy,ee.sortedLastIndexOf=yt.sortedLastIndexOf,ee.startCase=On.startCase,ee.startsWith=On.startsWith,ee.subtract=ii.subtract,ee.sum=ii.sum,ee.sumBy=ii.sumBy,ee.template=On.template,ee.times=Mn.times,ee.toFinite=Tt.toFinite,ee.toInteger=Yt,ee.toLength=Tt.toLength,ee.toLower=On.toLower,ee.toNumber=Tt.toNumber,ee.toSafeInteger=Tt.toSafeInteger,ee.toString=Tt.toString,ee.toUpper=On.toUpper,ee.trim=On.trim,ee.trimEnd=On.trimEnd,ee.trimStart=On.trimStart,ee.truncate=On.truncate,ee.unescape=On.unescape,ee.uniqueId=Mn.uniqueId,ee.upperCase=On.upperCase,ee.upperFirst=On.upperFirst,ee.each=Fn.forEach,ee.eachRight=Fn.forEachRight,ee.first=yt.head,tm(ee,(em={},us(ee,function(t,e){q4.call(ee.prototype,e)||(em[e]=t)}),em),{chain:!1}),ee.VERSION="4.17.21",(ee.templateSettings=On.templateSettings).imports._=ee,to(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ee[t].placeholder=ee}),to(["drop","take"],function(t,e){vn.prototype[t]=function(n){n=n===void 0?1:bV(Yt(n),0);var r=this.__filtered__&&!e?new vn(this):this.clone();return r.__filtered__?r.__takeCount__=H4(n,r.__takeCount__):r.__views__.push({size:H4(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},vn.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),to(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==1||n==3;vn.prototype[t]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Jt(i),type:n}),o.__filtered__=o.__filtered__||r,o}}),to(["head","last"],function(t,e){var n="take"+(e?"Right":"");vn.prototype[t]=function(){return this[n](1).value()[0]}}),to(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vn.prototype[t]=function(){return this.__filtered__?new vn(this):this[n](1)}}),vn.prototype.compact=function(){return this.filter(ni)},vn.prototype.find=function(t){return this.filter(t).head()},vn.prototype.findLast=function(t){return this.reverse().find(t)},vn.prototype.invokeMap=cn(function(t,e){return typeof t=="function"?new vn(this):this.map(function(n){return Af(n,t,e)})}),vn.prototype.reject=function(t){return this.filter(ul(Jt(t)))},vn.prototype.slice=function(t,e){t=Yt(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(n=(e=Yt(e))<0?n.dropRight(-e):n.take(e-t)),n)},vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vn.prototype.toArray=function(){return this.take(4294967295)},us(vn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=ee[r?"take"+(e=="last"?"Right":""):e],o=r||/^find/.test(e);i&&(ee.prototype[e]=function(){var s=this.__wrapped__,a=r?[1]:arguments,u=s instanceof vn,l=a[0],f=u||Ut(s),c=function(g){var y=i.apply(ee,Ea([g],a));return r&&d?y[0]:y};f&&n&&typeof l=="function"&&l.length!=1&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,v=u&&!h;if(!o&&f){s=v?s:new vn(this);var m=t.apply(s,a);return m.__actions__.push({func:ll,args:[c],thisArg:void 0}),new lo(m,d)}return p&&v?t.apply(this,a):(m=this.thru(c),p?r?m.value()[0]:m.value():m)})}),to(["pop","push","shift","sort","splice","unshift"],function(t){var e=yV[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);ee.prototype[t]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ut(o)?o:[],i)}return this[n](function(s){return e.apply(Ut(s)?s:[],i)})}}),us(vn.prototype,function(t,e){var n=ee[e];if(n){var r=n.name+"";q4.call(Vu,r)||(Vu[r]=[]),Vu[r].push({name:e,func:n})}}),Vu[Ah(void 0,2).name]=[{name:"wrapper",func:void 0}],vn.prototype.clone=function(){var t=new vn(this.__wrapped__);return t.__actions__=ji(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ji(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ji(this.__views__),t},vn.prototype.reverse=function(){if(this.__filtered__){var t=new vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ut(t),r=e<0,i=n?t.length:0,o=function(w,C,_){for(var T=-1,j=_.length;++T<j;){var O=_[T],S=O.size;switch(O.type){case"drop":w+=S;break;case"dropRight":C-=S;break;case"take":C=mV(C,w+S);break;case"takeRight":w=vV(w,C-S)}}return{start:w,end:C}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,f=this.__iteratees__,c=f.length,d=0,h=gV(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return YT(t,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,m=t[l+=e];++v<c;){var g=f[v],y=g.iteratee,b=g.type,k=y(m);if(b==2)m=k;else if(!k){if(b==1)continue e;break e}}p[d++]=m}return p},ee.prototype.at=qo.at,ee.prototype.chain=qo.wrapperChain,ee.prototype.commit=qo.commit,ee.prototype.next=qo.next,ee.prototype.plant=qo.plant,ee.prototype.reverse=qo.reverse,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=qo.value,ee.prototype.first=ee.prototype.head,V4&&(ee.prototype[V4]=qo.toIterator);Object.freeze({__proto__:null,add:d6,after:v6,ary:Ny,assign:P6,assignIn:Oh,assignInWith:al,assignWith:M6,at:N6,attempt:Fy,before:qy,bind:_f,bindAll:D6,bindKey:tv,camelCase:K6,capitalize:Vy,castArray:G6,ceil:Q6,chain:Gy,chunk:Y6,clamp:X6,clone:sE,cloneDeep:aE,cloneDeepWith:e1,cloneWith:uE,commit:Pg,compact:lE,concat:cE,cond:mE,conforms:yE,conformsTo:bE,constant:Kp,countBy:xE,create:jE,curry:av,curryRight:uv,debounce:Rl,deburr:Uy,defaultTo:_E,defaults:CE,defaultsDeep:AE,defer:EE,delay:TE,difference:PE,differenceBy:ME,differenceWith:IE,divide:NE,drop:LE,dropRight:DE,dropRightWhile:RE,dropWhile:BE,each:Th,eachRight:Jc,endsWith:qE,entries:Ph,entriesIn:Mh,eq:mo,escape:d1,escapeRegExp:UE,every:KE,extend:Oh,extendWith:al,fill:GE,filter:YE,find:ZE,findIndex:p1,findKey:t8,findLast:n8,findLastIndex:v1,findLastKey:r8,first:br,flatMap:o8,flatMapDeep:s8,flatMapDepth:a8,flatten:zy,flattenDeep:u8,flattenDepth:l8,flip:c8,floor:f8,flow:h8,flowRight:p8,forEach:Th,forEachRight:Jc,forIn:v8,forInRight:m8,forOwn:g8,forOwnRight:y8,fromPairs:b8,functions:k8,functionsIn:w8,get:Xp,groupBy:x8,gt:j8,gte:_8,has:S8,hasIn:ov,head:br,identity:ni,inRange:C8,includes:$8,indexOf:A8,initial:Zt,intersection:O8,intersectionBy:E8,intersectionWith:T8,invert:M8,invertBy:N8,invoke:D8,invokeMap:R8,isArguments:ba,isArray:Ut,isArrayBuffer:B8,isArrayLike:gi,isArrayLikeObject:mr,isBoolean:z8,isBuffer:Ns,isDate:F8,isElement:q8,isEmpty:Kn,isEqual:$n,isEqualWith:V8,isError:ev,isFinite:H8,isFunction:vs,isInteger:k1,isLength:xf,isMap:Xy,isMatch:W8,isMatchWith:U8,isNaN:J8,isNative:K8,isNil:G8,isNull:Q8,isNumber:w1,isObject:nr,isObjectLike:dr,isPlainObject:Nl,isRegExp:hv,isSafeInteger:Y8,isSet:Zy,isString:$f,isSymbol:Ci,isTypedArray:_u,isUndefined:X8,isWeakMap:Z8,isWeakSet:e7,iteratee:t7,join:n7,kebabCase:r7,keyBy:i7,keys:jr,keysIn:vi,last:pt,lastIndexOf:o7,lodash:ee,lowerCase:s7,lowerFirst:a7,lt:u7,lte:l7,map:Bl,mapKeys:c7,mapValues:f7,matches:d7,matchesProperty:h7,max:p7,maxBy:v7,mean:g7,meanBy:y7,memoize:Il,merge:b7,mergeWith:l1,method:k7,methodOf:w7,min:x7,minBy:Hu,mixin:_1,multiply:j7,negate:ul,next:Mg,noop:fn,now:_c,nth:S7,nthArg:C7,omit:$7,omitBy:O7,once:E7,orderBy:M7,over:I7,overArgs:N7,overEvery:L7,overSome:D7,pad:F7,padEnd:q7,padStart:V7,parseInt:H7,partial:Ef,partialRight:vv,partition:W7,pick:U7,pickBy:$1,plant:Dg,property:s1,propertyOf:J7,pull:K7,pullAll:E1,pullAllBy:G7,pullAllWith:Q7,pullAt:X7,random:Z7,range:P1,rangeRight:tT,rearg:nT,reduce:iT,reduceRight:oT,reject:sT,remove:aT,repeat:uT,replace:lT,rest:cT,result:fT,reverse:Nh,round:dT,sample:pT,sampleSize:vT,set:mT,setWith:gT,shuffle:yT,size:bT,slice:kT,snakeCase:wT,some:xT,sortBy:M1,sortedIndex:jT,sortedIndexBy:_T,sortedIndexOf:ST,sortedLastIndex:CT,sortedLastIndexBy:$T,sortedLastIndexOf:AT,sortedUniq:ET,sortedUniqBy:TT,split:PT,spread:MT,startCase:IT,startsWith:NT,stubArray:rv,stubFalse:Yp,stubObject:LT,stubString:DT,stubTrue:RT,subtract:BT,sum:zT,sumBy:FT,tail:qT,take:VT,takeRight:HT,takeRightWhile:WT,takeWhile:UT,tap:JT,template:QT,templateSettings:Lh,throttle:N1,thru:ll,times:L1,toArray:S1,toFinite:ss,toInteger:Yt,toIterator:Rg,toJSON:Za,toLength:h1,toLower:XT,toNumber:Fi,toPairs:Ph,toPairsIn:Mh,toPath:ZT,toPlainObject:u1,toSafeInteger:eP,toString:Tn,toUpper:tP,transform:nP,trim:oP,trimEnd:sP,trimStart:aP,truncate:uP,unary:lP,unescape:fP,union:dP,unionBy:hP,unionWith:pP,uniq:vP,uniqBy:mP,uniqWith:gP,uniqueId:Po,unset:yP,unzip:yv,unzipWith:D1,update:kP,updateWith:wP,upperCase:xP,upperFirst:nv,value:Za,valueOf:Za,values:$u,valuesIn:jP,without:_P,words:Jy,wrap:SP,wrapperAt:CP,wrapperChain:$P,wrapperCommit:Pg,wrapperLodash:ee,wrapperNext:Mg,wrapperPlant:Dg,wrapperReverse:AP,wrapperToIterator:Rg,wrapperValue:Za,xor:OP,xorBy:EP,xorWith:TP,zip:PP,zipObject:IP,zipObjectDeep:NP,zipWith:LP,default:ee});function cu(t,e){for(var n=Ae.exports.parseJSONPointer(e),r=0;r<n.length;r++){var i=n[r];if(kV.exec(i)){var o=n.slice(0,r),s=Ae.exports.getIn(t,o);Array.isArray(s)&&(n[r]=parseInt(i))}}return n}var kV=/^\d+$/;function DP(t){for(var e=M1(t,function(a){return a.start}),n=[e[0]],r=0;r<e.length;r++){var i=n.length-1,o=n[i],s=e[r];s.start<=o.end?n[i]={start:Math.min(o.start,s.start),end:Math.max(o.end,s.end)}:n.push(s)}return n}function Bg(t){return Dh(t)+100}function Dh(t){return 100*Math.floor(t/100)}function si(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=Array.isArray(t)?[]:{};return o[Ts]=e&&e[Ts]?e[Ts]:Po(),Sr(t)?(o[ho]=xV(t,e&&e[ho]),o[ai]=e&&!i?e[ai]:r(n),o[ai]&&Object.keys(t).forEach(function(s){var a=t[s],u=e&&e[s];o[s]=si(a,u,n.concat(s),r,i)})):Array.isArray(t)?(o[ai]=e&&!i?e[ai]:r(n),o[os]=e&&o[ai]&&e[os]||_y,o[ai]&&o[os].forEach(function(s){var a=s.start,u=s.end;Ey(a,Math.min(t.length,u),function(l){var f=t[l],c=e&&e[l];o[l]=si(f,c,n.concat(l),r,i)})})):e&&e[Di]!==void 0?o[Di]=e[Di]:s6(t)&&(o[Di]=!0),o}function zg(t){if(Array.isArray(t)){var e=[];return e[Ts]=Po(),e[ai]=!1,e[os]=_y,e}if(Sr(t)){var n={};return n[Ts]=Po(),n[ai]=!1,n[ho]=Object.keys(t),n}var r=ol({},Ts,Po());return s6(t)&&(r[Di]=!0),r}function RP(t,e,n){e[os].forEach(function(r){var i=r.start,o=r.end;Ey(i,Math.min(t.length,o),n)})}function B1(t,e){t[ho].forEach(function(n){return e(n)})}function W4(t,e,n){for(var r=e,i=function(s){var a=n.slice(0,s),u=a.concat(ai);if(r=Ae.exports.setIn(r,u,!0,!0),Array.isArray(Ae.exports.getIn(r,a))){var l=n[s],f=a.concat(os),c=Ae.exports.getIn(r,f)||_y;if(!function(m,g){return m.some(function(y){return g>=y.start&&g<y.end})}(c,l)){var d=Dh(l),h={start:d,end:Bg(d)},p=DP(c.concat(h));r=Ae.exports.setIn(r,f,p)}}var v=Ae.exports.getIn(t,a);r=Ae.exports.updateIn(r,a,function(m){return si(v,m,[],function(){return!1})})},o=0;o<n.length;o++)i(o);return r}function nm(t,e,n,r){var i=Ae.exports.setIn(e,n.concat(ai),!0,!0);return Ae.exports.updateIn(i,n,function(o){return si(Ae.exports.getIn(t,n),o,[],r,!0)})}function wV(t,e,n){return Ae.exports.updateIn(e,n,function(r){return si(Ae.exports.getIn(t,n),r,[],function(){return!1},!0)})}function xV(t,e){if(!e)return Object.keys(t);var n=e.filter(function(i){return t[i]!==void 0}),r=new Set(n);return Object.keys(t).filter(function(i){return!r.has(i)}).forEach(function(i){return n.push(i)}),n}function BP(t,e,n){var r=Ae.exports.immutableJSONPatch(t,n),i=function(o,s,a){var u=s;function l(f,c,d){var h=c;return Ae.exports.existsIn(f,d)&&!Ae.exports.existsIn(h,d)&&(d.length>0&&(h=l(f,h,Zt(d))),h=Ae.exports.setIn(h,d,zg(Ae.exports.getIn(f,d)))),h}return a.forEach(function(f){var c=typeof f.from=="string"?cu(o,f.from):null,d=typeof f.path=="string"?cu(o,f.path):null;f.op==="add"&&(u=l(o,u,Zt(d))),f.op!=="copy"&&f.op!=="move"||(u=l(o,u,c),u=l(o,u,Zt(d))),f.op!=="remove"&&f.op!=="replace"&&f.op!=="test"||(u=l(o,u,d))}),u}(t,e,n);return{json:r,state:Ae.exports.immutableJSONPatch(i,n,{before:function(o,s){var a=s.op,u=s.path,l=s.from,f=Zt(u),c=o,d=s;if(s.value!==void 0&&(d=dt(dt({},d),{},{value:zg(s.value)})),a==="add"||a==="copy"){var h=Yr(o,f);if(h){var p=pt(u);h.includes(p)||(c=hd(c,f,p))}c=fd(c,u,1)}if(a==="move"){var v=Zt(u),m=Yr(c,v),g=pt(l),y=pt(u);if($n(Zt(l),Zt(u)))m&&(c=g!==y?function(j,O,S,N){return Ae.exports.updateIn(j,O.concat([ho]),function(A){var $=A.indexOf(S);if($===-1)return A;var q=A.slice(0);return q.splice($,1,N),q})}(c=dd(c,v,y),v,g,y):hd(c=dd(c,v,y),v,y));else{var b=Zt(l);Yr(c,b)&&(c=dd(c,b,g)),m&&(c=hd(c,v,y))}c=fd(c,l,-1),c=fd(c,u,1);var k=Ae.exports.getIn(o,l);d=dt(dt({},d),{},{value:k})}if(a==="remove"){var w=Zt(u);Yr(c,w)?c=dd(c,w,pt(u)):c=fd(c,u,-1)}if(a==="replace"){var C=Zt(u),_=Yr(c,C);if(_){var T=pt(u);_.includes(T)||(c=hd(c,C,T))}}return{json:c,operation:d}},after:function(o,s,a){var u=s.op,l=s.path,f=o;if(u==="copy"&&Ae.exports.existsIn(f,l.concat([Ts]))&&(f=Ae.exports.setIn(f,l.concat([Ts]),Po())),u==="replace"){var c=Ae.exports.getIn(a,l.concat([Di]));typeof c=="boolean"&&(f=Ae.exports.setIn(f,l.concat([Di]),c))}return f}})}}function fd(t,e,n){var r=Zt(e).concat([os]),i=Ae.exports.getIn(t,r);if(!i)return t;var o=parseInt(pt(e),10),s=i.map(function(a){return{start:a.start>o?a.start+n:a.start,end:a.end>=o?a.end+n:a.end}});return Ae.exports.setIn(t,r,s)}function Yr(t,e){return Ae.exports.getIn(t,e.concat([ho]))}function dd(t,e,n){return Ae.exports.updateIn(t,e.concat([ho]),function(r){var i=r.indexOf(n);if(i===-1)return r;var o=r.slice(0);return o.splice(i,1),o})}function hd(t,e,n){return Ae.exports.updateIn(t,e.concat([ho]),function(r){return r.concat(n)})}function bv(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.indexOf(e);return r!==-1?n?t.slice(r):t.slice(r+1):[]}function z1(t,e){var n=[];return function r(i,o,s){n.push(s),i&&o&&o[ai]===!0&&(Array.isArray(i)?RP(i,o,function(a){r(i[a],o[a],s.concat(a))}):B1(o,function(a){r(i[a],o[a],s.concat(a))}))}(t,e,[]),n}var jV="inside",U4="after",_V="key",SV="value";function zP(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];function i(o,s,a){r.push({path:a,type:SV}),o&&s&&s[ai]===!0&&(n&&r.push({path:a,type:jV}),Array.isArray(o)?RP(o,s,function(u){var l=a.concat(u);i(o[u],s[u],l),n&&r.push({path:l,type:U4})}):B1(s,function(u){var l=a.concat(u);r.push({path:l,type:_V}),i(o[u],s[u],l),n&&r.push({path:l,type:U4})}))}return i(t,e,[]),r}function CV(t,e,n){var r=z1(t,e),i=r.map(Ae.exports.compileJSONPointer),o=Ae.exports.compileJSONPointer(n),s=i.indexOf(o);return s!==-1&&s>0?r[s-1]:null}function Fg(t,e,n){var r=z1(t,e),i=r.map(Ae.exports.compileJSONPointer).indexOf(Ae.exports.compileJSONPointer(n));return i!==-1&&i<r.length-1?r[i+1]:null}var ei="after",$r="inside",bn="key",bt="value",Nt="multi";function FP(t){return t.type===$r?t.focusPath:Zt(t.focusPath)}function rm(t){return t.paths?br(t.paths):t.focusPath}function J4(t){return t.paths?pt(t.paths):t.focusPath}function $V(t,e){return Kc(t.focusPath,e)&&(t.focusPath.length>e.length||t.type===$r)}function K4(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=!i&&n.paths?br(n.paths):n.focusPath,s=CV(t,e,o);if(s===null)return null;var a=s,u=s;if(r)return n.type===ei||n.type===$r?an(t,e,{type:Nt,anchorPath:n.anchorPath,focusPath:n.anchorPath}):an(t,e,{type:Nt,anchorPath:n.anchorPath,focusPath:u});if(n.type===bn){var l=Zt(s),f=Ae.exports.getIn(t,l);return Array.isArray(f)||Kn(s)?{type:bt,anchorPath:a,focusPath:u}:{type:bn,anchorPath:a,focusPath:u}}return n.type===bt?{type:bt,anchorPath:a,focusPath:u}:n.type===ei||n.type===$r?an(t,e,{type:Nt,anchorPath:o,focusPath:o}):an(t,e,{type:Nt,anchorPath:a,focusPath:u})}function qP(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=!i&&n.paths?pt(n.paths):n.focusPath,s=Fg(t,e,o),a=s,u=s;if(s===null)return null;if(r){var l=Er(Ae.exports.getIn(t,o))?Ae.exports.setIn(e,o.concat(ai),!1,!0):e,f=Fg(t,l,o);return f===null?null:n.type===ei?an(t,e,{type:Nt,anchorPath:f,focusPath:f}):n.type===$r?an(t,e,{type:Nt,anchorPath:a,focusPath:u}):an(t,e,{type:Nt,anchorPath:n.anchorPath,focusPath:f})}if(n.type===bn){var c=Zt(s),d=Ae.exports.getIn(t,c);return Array.isArray(d)?{type:bt,anchorPath:a,focusPath:u}:{type:bn,anchorPath:a,focusPath:u}}return n.type===bt?{type:bt,anchorPath:a,focusPath:u}:n.type===$r?an(t,e,{type:Nt,anchorPath:a,focusPath:u}):an(t,e,{type:Nt,anchorPath:s,focusPath:s})}function G4(t,e,n,r){var i=zP(t,e,r),o=i.findIndex(function(s){return $n(s.path,n.focusPath)&&s.type===n.type});return{caret:o!==-1?i[o]:null,previous:o!==-1&&o>0?i[o-1]:null,next:o!==-1&&o<i.length-1?i[o+1]:null}}function pd(t,e){for(var n=z1(t,e),r=0;r<n.length-1&&n[r+1].length>n[r].length;)r++;var i=n[r];return i.length===0||Array.isArray(Ae.exports.getIn(t,Zt(i)))?{type:bt,anchorPath:i,focusPath:i}:{type:bn,anchorPath:i,focusPath:i}}function cl(t,e,n){if(n.length===1){var r=br(n);if(r.op==="replace"||r.op==="move"){var i=cu(t,r.path);return{type:bt,anchorPath:i,focusPath:i,edit:!1}}}if(!Kn(n)&&n.every(function(l){return l.op==="move"})){var o=br(n),s=n.slice(1);if(o.from!==o.path&&s.every(function(l){return l.from===l.path})){var a=cu(t,o.path);return{type:bn,anchorPath:a,focusPath:a,edit:!1}}}var u=n.filter(function(l){return l.op!=="test"&&l.op!=="remove"&&(l.op!=="move"||l.from!==l.path)&&typeof l.path=="string"}).map(function(l){return cu(t,l.path)});return Kn(u)?null:{type:Nt,paths:u,anchorPath:br(u),focusPath:pt(u),pathsMap:qg(u)}}function qg(t){var e={};return t.forEach(function(n){e[Ae.exports.compileJSONPointer(n)]=!0}),e}function Vg(t){return t&&(t.type===bn||t.type===bt||t.type===Nt&&t.paths.length===1)}function Q4(t,e){return Vg(e)&&Er(Ae.exports.getIn(t,e.focusPath))?e.focusPath:Zt(e.focusPath)}function Kc(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function Ks(t){return t&&t.edit?dt(dt({},t),{},{edit:!1}):t}function an(t,e,n){var r=n.type,i=n.anchorPath,o=n.focusPath,s=n.path,a=n.edit,u=a!==void 0&&a,l=n.next,f=l!==void 0&&l,c=n.nextInside,d=c!==void 0&&c;if(r===bn){var h={type:r,anchorPath:s,focusPath:s,edit:u};return f&&(h=dt(dt({},h),{},{type:bt})),h}if(r===bt){var p={type:bt,anchorPath:s,focusPath:s,edit:u};return f&&(p=qP(t,e,p)||p),d&&(p=function(y,b,k){var w=k.focusPath,C=Zt(w),_=[pt(w)],T=Fg(Ae.exports.getIn(y,C),Ae.exports.getIn(b,C),_);return an(y,b,T?{type:bt,path:C.concat(T)}:{type:ei,path:w})}(t,e,p)||p),p}if(r===ei)return{type:r,anchorPath:s,focusPath:s};if(r===$r)return{type:r,anchorPath:s,focusPath:s};if(r===Nt&&s){var v=[s];return{type:Nt,anchorPath:s,focusPath:s,paths:v,pathsMap:qg(v)}}if(i&&o){var m=function(y,b,k,w){if($n(k,w))return[k];var C=function(U,W){for(var F=0;F<U.length&&F<W.length&&U[F]===W[F];)F++;return U.slice(0,F)}(k,w);if(k.length===C.length||w.length===C.length)return[C];var _=k[C.length],T=w[C.length],j=Ae.exports.getIn(y,C);if(Sr(j)){var O=Yr(b,C),S=O.indexOf(_),N=O.indexOf(T);if(S!==-1&&N!==-1){for(var A=Math.min(S,N),$=Math.max(S,N),q=[],Y=A;Y<=$;Y++)q.push(C.concat(O[Y]));return q}}if(Array.isArray(j)){for(var z=Math.min(_,T),J=Math.max(_,T),L=[],D=z;D<=J;D++)L.push(C.concat(D));return L}throw new Error("Failed to create selection")}(t,e,i,o),g=Kc(o,pt(m))||Kc(i,br(m));return{type:Nt,anchorPath:g?br(m):pt(m),focusPath:g?pt(m):br(m),paths:m,pathsMap:qg(m)}}throw new TypeError("Unknown type of selection ".concat(JSON.stringify(n)))}function Y4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;if(e.type===bn)return pt(e.focusPath);if(e.type===bt){var r=Ae.exports.getIn(t,e.focusPath);return typeof r=="string"?r:JSON.stringify(r,null,n)}if(e.type===Nt){if(Kn(e.focusPath))return JSON.stringify(t,null,n);var i=FP(e),o=Ae.exports.getIn(t,i);if(Array.isArray(o)){if(e.paths.length===1){var s=Ae.exports.getIn(t,br(e.paths));return JSON.stringify(s,null,n)}return e.paths.map(function(a){var u=Ae.exports.getIn(t,a);return"".concat(JSON.stringify(u,null,n),",")}).join(`
`)}return e.paths.map(function(a){var u=pt(a),l=Ae.exports.getIn(t,a);return"".concat(JSON.stringify(u),": ").concat(JSON.stringify(l,null,n),",")}).join(`
`)}return null}function VP(t,e){if(!e)return null;var n={};return(e.type===Nt?e.paths:[e.focusPath]).forEach(function(r){var i=r.concat(Vc);if(!Ae.exports.existsIn(n,i)){var o=Ae.exports.getIn(t,i);n=Ae.exports.setIn(n,i,Array.isArray(o)?[]:{},!0)}n=Ae.exports.setIn(n,i,e,!0)}),n}function Xd(t){return!!t&&(t.type===bn||t.type===bt||t.type===Nt&&t.paths.length===1||void 0)}function X4(t,e,n){var r,i=(r=n==null?void 0:n[e])===null||r===void 0?void 0:r[Vc];return!(!i||i.type!==bn||i.edit)&&$n(i.focusPath,t.concat(e))}function HP(t){var e=t.escapeControlCharacters,n=t.escapeUnicodeCharacters;return e?n?AV:OV:n?EV:TV}var AV={escapeValue:function(t){return WP(JP(String(t)))},unescapeValue:function(t){return KP(UP(t))}},OV={escapeValue:function(t){return JP(String(t))},unescapeValue:function(t){return KP(t)}},EV={escapeValue:function(t){return WP(String(t))},unescapeValue:function(t){return UP(t)}},TV={escapeValue:function(t){return String(t)},unescapeValue:function(t){return t}};function WP(t){return t.replace(/[^\x20-\x7F]/g,function(e){return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+e.codePointAt(0).toString(16)).slice(-4)})}function UP(t){return t.replace(/\\u[a-fA-F0-9]{4}/g,function(e){try{return JSON.parse('"'+e+'"')}catch{return e}})}var PV={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},MV={"\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function JP(t){return t.replace(/[\b\f\n\r\t]/g,function(e){return PV[e]||e})}function KP(t){return t.replace(/\\[bfnrt]/g,function(e){return MV[e]||e})}function hu(t){return typeof t!="string"?String(t):t.endsWith(`
`)?t+`
`:t}function GP(t,e){return Tf(t,function(n){return n.nodeName.toUpperCase()===e.toUpperCase()})}function eu(t,e,n){return Tf(t,function(r){return function(i,o,s){return typeof i.getAttribute=="function"&&i.getAttribute(o)===s}(r,e,n)})}function Tf(t,e){return!!F1(t,e)}function F1(t,e){for(var n=t;n&&!e(n);)n=n.parentNode;return n||void 0}function QP(t){if(t.firstChild!=null){var e=document.createRange(),n=window.getSelection();e.setStart(t,1),e.collapse(!0),n.removeAllRanges(),n.addRange(e)}else t.focus()}function fl(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView}function Rh(t){return Tf(fl(t).document.activeElement,function(e){return e===t})}function IV(t,e){return F1(t,function(n){return n.nodeName===e})}function im(t){return eu(t,"data-type","selectable-key")?bn:eu(t,"data-type","selectable-value")?bt:eu(t,"data-type","insert-selection-area-inside")?$r:eu(t,"data-type","insert-selection-area-after")?ei:Nt}function Hg(t){return encodeURIComponent(JSON.stringify(t))}function NV(t){var e,n=F1(t,function(r){return r.hasAttribute("data-path")});return n?(e=n.getAttribute("data-path"),JSON.parse(decodeURIComponent(e))):null}function LV(t){var e=t.allElements,n=t.currentElement,r=t.direction,i=t.hasPrio,o=i===void 0?function(){return!0}:i,s=t.margin,a=s===void 0?10:s,u=Bl(e.filter(function(g){var y=g.getBoundingClientRect();return y.width>0&&y.height>0}),f),l=f(n);function f(g){var y=g.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:g}}function c(g,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=g.x-y.x,w=(g.y-y.y)*b;return Math.sqrt(k*k+w*w)}var d=function(g){return c(g,l)};if(r==="Left"||r==="Right"){var h=r==="Left"?u.filter(function(g){return y=l,g.rect.left+a<y.rect.left;var y}):u.filter(function(g){return y=l,g.rect.right>y.rect.right+a;var y}),p=Hu(h.filter(function(g){return y=g,b=l,Math.abs(y.y-b.y)<a;var y,b}),d)||Hu(h,function(g){return c(g,l,10)});return p==null?void 0:p.element}if(r==="Up"||r==="Down"){var v=r==="Up"?u.filter(function(g){return y=l,g.y+a<y.y;var y}):u.filter(function(g){return y=l,g.y>y.y+a;var y}),m=Hu(v.filter(function(g){return o(g.element)}),d)||Hu(v,d);return m==null?void 0:m.element}}var YP=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function Fl(t){var e=[];t.ctrlKey&&e.push("Ctrl"),t.metaKey&&e.push("Command"),t.altKey&&e.push(YP?"Option":"Alt"),t.shiftKey&&e.push("Shift");var n=function(r){return RV[r]||""}(t.which);return DV[n]||e.push(n),e.join("+")}var DV={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},RV={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},om=jy.window;function BV(t){zt(t,"svelte-p9zniz",".jse-absolute-popup.svelte-p9zniz.svelte-p9zniz{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-p9zniz .jse-hidden-input.svelte-p9zniz{position:absolute;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-p9zniz .jse-absolute-popup-content.svelte-p9zniz{position:absolute}")}function Z4(t){var e,n,r,i,o,s=[t[1]],a=t[0];function u(l){for(var f={},c=0;c<s.length;c+=1)f=Aa(f,s[c]);return{props:f}}return a&&(i=new a(u())),{c:function(){e=oe("div"),n=oe("input"),r=Ee(),i&&Le(i.$$.fragment),P(n,"class","jse-hidden-input svelte-p9zniz"),P(e,"class","jse-absolute-popup-content svelte-p9zniz"),P(e,"style",t[7]())},m:function(l,f){ye(l,e,f),G(e,n),t[10](n),G(e,r),i&&Pe(i,e,null),o=!0},p:function(l,f){var c=2&f?wu(s,[Wp(l[1])]):{};if(a!==(a=l[0])){if(i){Ke();var d=i;re(d.$$.fragment,1,0,function(){Me(d,1)}),Ge()}a?(Le((i=new a(u())).$$.fragment),Q(i.$$.fragment,1),Pe(i,e,null)):i=null}else a&&i.$set(c)},i:function(l){o||(i&&Q(i.$$.fragment,l),o=!0)},o:function(l){i&&re(i.$$.fragment,l),o=!1},d:function(l){l&&me(e),t[10](null),i&&Me(i)}}}function zV(t){var e,n,r,i,o,s=t[0]&&t[1]&&Z4(t),a=t[9].default,u=Io(a,t,t[8],null);return{c:function(){e=oe("div"),s&&s.c(),n=Ee(),u&&u.c(),P(e,"class","jse-absolute-popup svelte-p9zniz")},m:function(l,f){ye(l,e,f),s&&s.m(e,null),t[11](e),ye(l,n,f),u&&u.m(l,f),r=!0,i||(o=[Fe(om,"mousedown",t[4],!0),Fe(om,"keydown",t[5],!0),Fe(om,"wheel",t[6],!0),Fe(e,"mousedown",FV),Fe(e,"keydown",t[5])],i=!0)},p:function(l,f){var c=Et(f,1)[0];l[0]&&l[1]?s?(s.p(l,c),3&c&&Q(s,1)):((s=Z4(l)).c(),Q(s,1),s.m(e,null)):s&&(Ke(),re(s,1,1,function(){s=null}),Ge()),u&&u.p&&(!r||256&c)&&Lo(u,a,l,l[8],r?No(a,l[8],c,null):Do(l[8]),null)},i:function(l){r||(Q(s),Q(u,l),r=!0)},o:function(l){re(s),re(u,l),r=!1},d:function(l){l&&me(e),s&&s.d(),t[11](null),l&&me(n),u&&u.d(l),i=!1,rr(o)}}}function FV(t){t.stopPropagation()}function qV(t,e,n){var r,i,o=e.$$slots,s=o===void 0?{}:o,a=e.$$scope,u=Ji("jsoneditor:AbsolutePopup"),l=null,f=null,c={};function d(){if(l){var v=c.onClose;n(0,l=null),n(1,f=null),c={},v&&v()}}function h(v){c&&c.closeOnOuterClick&&!Tf(v.target,function(m){return m===r})&&d()}function p(){i&&i.focus()}return e6("absolute-popup",{openAbsolutePopup:function(v,m,g){u("open...",g),n(0,l=v),n(1,f=m||{}),c=g||{},vr().then(p)},closeAbsolutePopup:d}),t.$$set=function(v){"$$scope"in v&&n(8,a=v.$$scope)},[l,f,r,i,function(v){h(v)},function(v){Fl(v)==="Escape"&&d()},function(v){h(v)},function(){var v=r.getBoundingClientRect(),m=function(){if(c.anchor){var w=c,C=w.anchor,_=w.width,T=_===void 0?0:_,j=w.height,O=j===void 0?0:j,S=w.offsetTop,N=S===void 0?0:S,A=w.offsetLeft,$=A===void 0?0:A,q=w.position,Y=C.getBoundingClientRect(),z=Y.left,J=Y.top,L=Y.bottom,D=Y.right,U=q==="top"||J+O>window.innerHeight&&J>O,W=q==="left"||z+T>window.innerWidth&&z>T;return{left:W?D-$:z+$,top:U?J-N:L+N,positionAbove:U,positionLeft:W}}if(typeof c.left=="number"&&typeof c.top=="number"){var F=c,E=F.left,x=F.top,M=F.width,K=M===void 0?0:M,se=F.height,we=se===void 0?0:se;return{left:E,top:x,positionAbove:x+we>window.innerHeight&&x>we,positionLeft:E+K>window.innerWidth&&E>K}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}(),g=m.left,y=m.top,b=m.positionAbove,k=m.positionLeft;return(b?"bottom: ".concat(v.top-y,"px;"):"top: ".concat(y-v.top,"px;"))+(k?"right: ".concat(v.left-g,"px;"):"left: ".concat(g-v.left,"px;"))},a,s,function(v){tn[v?"unshift":"push"](function(){n(3,i=v)})},function(v){tn[v?"unshift":"push"](function(){n(2,r=v)})}]}var XP=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,qV,zV,dn,{},BV),i}return ne(n)}(),VV={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"]},ZP={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"]},HV={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"]},q1={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M320 224H416c17.67 0 32-14.33 32-32s-14.33-32-32-32h-95.1c-17.67 0-32 14.33-32 32S302.3 224 320 224zM320 352H480c17.67 0 32-14.33 32-32s-14.33-32-32-32h-159.1c-17.67 0-32 14.33-32 32S302.3 352 320 352zM320 96h32c17.67 0 31.1-14.33 31.1-32s-14.33-32-31.1-32h-32c-17.67 0-32 14.33-32 32S302.3 96 320 96zM544 416h-223.1c-17.67 0-32 14.33-32 32s14.33 32 32 32H544c17.67 0 32-14.33 32-32S561.7 416 544 416zM192.4 330.7L160 366.1V64.03C160 46.33 145.7 32 128 32S96 46.33 96 64.03v302L63.6 330.7c-6.312-6.883-14.94-10.38-23.61-10.38c-7.719 0-15.47 2.781-21.61 8.414c-13.03 11.95-13.9 32.22-1.969 45.27l87.1 96.09c12.12 13.26 35.06 13.26 47.19 0l87.1-96.09c11.94-13.05 11.06-33.31-1.969-45.27C224.6 316.8 204.4 317.7 192.4 330.7z"]},eM={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.86 0-95.19-15.58-134.2-44.86c-14.14-10.59-17-30.66-6.391-44.81c10.61-14.09 30.69-16.97 44.8-6.375c27.84 20.91 61 31.94 95.89 31.94C344.3 415.8 416 344.1 416 256s-71.67-159.8-159.8-159.8C205.9 96.22 158.6 120.3 128.6 160H192c17.67 0 32 14.31 32 32S209.7 224 192 224H48c-17.67 0-32-14.31-32-32V48c0-17.69 14.33-32 32-32s32 14.31 32 32v70.23C122.1 64.58 186.1 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},tM={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"]},ts={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M310.6 246.6l-127.1 128C176.4 380.9 168.2 384 160 384s-16.38-3.125-22.63-9.375l-127.1-128C.2244 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75S319.8 237.5 310.6 246.6z"]},oa={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"]},Wg={prefix:"fas",iconName:"check",icon:[448,512,[10004,10003],"f00c","M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"]},WV={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},UV={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"]},JV={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.15C227.7 49.08 218.1 66.9 201.1 71.94C121.8 95.55 64 169.1 64 255.1C64 362 149.1 447.1 256 447.1C362 447.1 448 362 448 255.1C448 169.1 390.2 95.55 310.9 71.94C293.9 66.9 284.3 49.08 289.3 32.15C294.4 15.21 312.2 5.562 329.1 10.6C434.9 42.07 512 139.1 512 255.1C512 397.4 397.4 511.1 256 511.1C114.6 511.1 0 397.4 0 255.1C0 139.1 77.15 42.07 182.9 10.6C199.8 5.562 217.6 15.21 222.7 32.15V32.15z"]},KV={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 224C0 188.7 28.65 160 64 160H128V288C128 341 170.1 384 224 384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224zM224 352C188.7 352 160 323.3 160 288V64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224z"]},Bh={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z"]},zh={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"]},GV={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 384H352V448H128C92.65 448 64 419.3 64 384V128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H64V32C64 14.33 78.33 0 96 0C113.7 0 128 14.33 128 32V384zM384 128H160V64H384C419.3 64 448 92.65 448 128V384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H448V480C448 497.7 433.7 512 416 512C398.3 512 384 497.7 384 480V128z"]},QV={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},V1={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.853 54.87C10.47 40.9 24.54 32 40 32H472C487.5 32 501.5 40.9 508.1 54.87C514.8 68.84 512.7 85.37 502.1 97.33L320 320.9V448C320 460.1 313.2 471.2 302.3 476.6C291.5 482 278.5 480.9 268.8 473.6L204.8 425.6C196.7 419.6 192 410.1 192 400V320.9L9.042 97.33C-.745 85.37-2.765 68.84 3.854 54.87L3.853 54.87z"]},YV={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},H1={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},XV={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M320 96V80C320 53.49 298.5 32 272 32H215.4C204.3 12.89 183.6 0 160 0S115.7 12.89 104.6 32H48C21.49 32 0 53.49 0 80v320C0 426.5 21.49 448 48 448l144 .0013L192 176C192 131.8 227.8 96 272 96H320zM160 88C146.8 88 136 77.25 136 64S146.8 40 160 40S184 50.75 184 64S173.3 88 160 88zM416 128v96h96L416 128zM384 224L384 128h-112C245.5 128 224 149.5 224 176v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48V256h-95.99C398.4 256 384 241.6 384 224z"]},W1={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},Ug={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},ZV={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM345.6 232.3l-104 112C237 349.2 230.7 352 224 352s-13.03-2.781-17.59-7.656l-104-112c-6.5-7-8.219-17.19-4.407-25.94C101.8 197.7 110.5 192 120 192h208c9.531 0 18.19 5.656 21.1 14.41C353.8 215.2 352.1 225.3 345.6 232.3z"]},eH={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM349.1 305.6C346.2 314.3 337.5 320 328 320h-208c-9.531 0-18.19-5.656-22-14.41C94.19 296.8 95.91 286.7 102.4 279.7l104-112c9.125-9.75 26.06-9.75 35.19 0l104 112C352.1 286.7 353.8 296.8 349.1 305.6z"]},ql={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},U1={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},Pf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function vd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<.9*e)return t.toFixed()+" B";var n=t/e;if(n<.9*e)return n.toFixed(1)+" KB";var r=n/e;if(r<.9*e)return r.toFixed(1)+" MB";var i=r/e;if(i<.9*e)return i.toFixed(1)+" GB";var o=i/e;return o.toFixed(1)+" TB"}var md=Ji("jsoneditor:FocusTracker");function J1(t){var e,n=t.onMount,r=t.onDestroy,i=t.getWindow,o=t.hasFocus,s=t.onFocus,a=t.onBlur,u=!1;function l(){var c=o();c&&(clearTimeout(e),u||(md("focus"),s(),u=c))}function f(){u&&(clearTimeout(e),e=setTimeout(function(){md("blur"),u=!1,a()}))}n(function(){md("mount FocusTracker");var c=i();c&&(c.addEventListener("focusin",l,!0),c.addEventListener("focusout",f,!0))}),r(function(){md("destroy FocusTracker");var c=i();c&&(c.removeEventListener("focusin",l,!0),c.removeEventListener("focusout",f,!0))})}function tH(t){for(var e,n,r=[{id:n="path-"+t[0]},t[1]],i={},o=0;o<r.length;o+=1)i=Aa(i,r[o]);return{c:function(){jh(e=Is("path"),i)},m:function(s,a){ye(s,e,a)},p:function(s,a){var u=Et(a,1)[0];jh(e,i=wu(r,[1&u&&n!==(n="path-"+s[0])&&{id:n},2&u&&s[1]]))},i:Qe,o:Qe,d:function(s){s&&me(e)}}}function nH(t,e,n){var r=e.id,i=e.data,o=i===void 0?{}:i;return t.$$set=function(s){"id"in s&&n(0,r=s.id),"data"in s&&n(1,o=s.data)},[r,o]}var rH=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,nH,tH,Ar,{id:0,data:1}),i}return ne(n)}();function iH(t){for(var e,n,r=[{id:n="polygon-"+t[0]},t[1]],i={},o=0;o<r.length;o+=1)i=Aa(i,r[o]);return{c:function(){jh(e=Is("polygon"),i)},m:function(s,a){ye(s,e,a)},p:function(s,a){var u=Et(a,1)[0];jh(e,i=wu(r,[1&u&&n!==(n="polygon-"+s[0])&&{id:n},2&u&&s[1]]))},i:Qe,o:Qe,d:function(s){s&&me(e)}}}function oH(t,e,n){var r=e.id,i=e.data,o=i===void 0?{}:i;return t.$$set=function(s){"id"in s&&n(0,r=s.id),"data"in s&&n(1,o=s.data)},[r,o]}var sH=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,oH,iH,Ar,{id:0,data:1}),i}return ne(n)}();function aH(t){var e;return{c:function(){e=Is("g")},m:function(n,r){ye(n,e,r),e.innerHTML=t[0]},p:function(n,r){1&Et(r,1)[0]&&(e.innerHTML=n[0])},i:Qe,o:Qe,d:function(n){n&&me(e)}}}function uH(t,e,n){var r,i=870711,o=e.data;function s(a){if(!a||!a.raw)return null;var u=a.raw,l={};return u=(u=u.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(f,c){var d="fa-".concat((i+=1).toString(16));return l[c]=d,' id="'.concat(d,'"')})).replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(f,c,d,h){var p=c||h;return p&&l[p]?"#".concat(l[p]):f})}return t.$$set=function(a){"data"in a&&n(1,o=a.data)},t.$$.update=function(){2&t.$$.dirty&&n(0,r=s(o))},[r,o]}var lH=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,uH,aH,Ar,{data:1}),i}return ne(n)}();function cH(t){zt(t,"svelte-1dof0an",".fa-icon.svelte-1dof0an{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1dof0an{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1dof0an{transform:scale(1, -1)}.fa-spin.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1dof0an{color:#fff}.fa-pulse.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s infinite steps(8)}@keyframes svelte-1dof0an-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function fH(t){var e,n,r,i,o=t[13].default,s=Io(o,t,t[12],null);return{c:function(){e=Is("svg"),s&&s.c(),P(e,"version","1.1"),P(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),P(e,"x",t[8]),P(e,"y",t[9]),P(e,"width",t[1]),P(e,"height",t[2]),P(e,"aria-label",t[11]),P(e,"role",r=t[11]?"img":"presentation"),P(e,"viewBox",t[3]),P(e,"style",t[10]),Ze(e,"fa-spin",t[4]),Ze(e,"fa-pulse",t[6]),Ze(e,"fa-inverse",t[5]),Ze(e,"fa-flip-horizontal",t[7]==="horizontal"),Ze(e,"fa-flip-vertical",t[7]==="vertical")},m:function(a,u){ye(a,e,u),s&&s.m(e,null),i=!0},p:function(a,u){var l=Et(u,1)[0];s&&s.p&&(!i||4096&l)&&Lo(s,o,a,a[12],i?No(o,a[12],l,null):Do(a[12]),null),(!i||1&l&&n!==(n="fa-icon "+a[0]+" svelte-1dof0an"))&&P(e,"class",n),(!i||256&l)&&P(e,"x",a[8]),(!i||512&l)&&P(e,"y",a[9]),(!i||2&l)&&P(e,"width",a[1]),(!i||4&l)&&P(e,"height",a[2]),(!i||2048&l)&&P(e,"aria-label",a[11]),(!i||2048&l&&r!==(r=a[11]?"img":"presentation"))&&P(e,"role",r),(!i||8&l)&&P(e,"viewBox",a[3]),(!i||1024&l)&&P(e,"style",a[10]),17&l&&Ze(e,"fa-spin",a[4]),65&l&&Ze(e,"fa-pulse",a[6]),33&l&&Ze(e,"fa-inverse",a[5]),129&l&&Ze(e,"fa-flip-horizontal",a[7]==="horizontal"),129&l&&Ze(e,"fa-flip-vertical",a[7]==="vertical")},i:function(a){i||(Q(s,a),i=!0)},o:function(a){re(s,a),i=!1},d:function(a){a&&me(e),s&&s.d(a)}}}function dH(t,e,n){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,s=e.class,a=e.width,u=e.height,l=e.box,f=e.spin,c=f!==void 0&&f,d=e.inverse,h=d!==void 0&&d,p=e.pulse,v=p!==void 0&&p,m=e.flip,g=m===void 0?null:m,y=e.x,b=y===void 0?void 0:y,k=e.y,w=k===void 0?void 0:k,C=e.style,_=C===void 0?void 0:C,T=e.label,j=T===void 0?void 0:T;return t.$$set=function(O){"class"in O&&n(0,s=O.class),"width"in O&&n(1,a=O.width),"height"in O&&n(2,u=O.height),"box"in O&&n(3,l=O.box),"spin"in O&&n(4,c=O.spin),"inverse"in O&&n(5,h=O.inverse),"pulse"in O&&n(6,v=O.pulse),"flip"in O&&n(7,g=O.flip),"x"in O&&n(8,b=O.x),"y"in O&&n(9,w=O.y),"style"in O&&n(10,_=O.style),"label"in O&&n(11,j=O.label),"$$scope"in O&&n(12,o=O.$$scope)},[s,a,u,l,c,h,v,g,b,w,_,j,o,i]}var hH=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,dH,fH,Ar,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11},cH),i}return ne(n)}();function eS(t,e,n){var r=t.slice();return r[24]=e[n],r[26]=n,r}function tS(t,e,n){var r=t.slice();return r[27]=e[n],r[26]=n,r}function nS(t){var e,n,r,i,o=t[6].paths&&rS(t),s=t[6].polygons&&oS(t),a=t[6].raw&&aS(t);return{c:function(){o&&o.c(),e=Ee(),s&&s.c(),n=Ee(),a&&a.c(),r=wn()},m:function(u,l){o&&o.m(u,l),ye(u,e,l),s&&s.m(u,l),ye(u,n,l),a&&a.m(u,l),ye(u,r,l),i=!0},p:function(u,l){u[6].paths?o?(o.p(u,l),64&l&&Q(o,1)):((o=rS(u)).c(),Q(o,1),o.m(e.parentNode,e)):o&&(Ke(),re(o,1,1,function(){o=null}),Ge()),u[6].polygons?s?(s.p(u,l),64&l&&Q(s,1)):((s=oS(u)).c(),Q(s,1),s.m(n.parentNode,n)):s&&(Ke(),re(s,1,1,function(){s=null}),Ge()),u[6].raw?a?(a.p(u,l),64&l&&Q(a,1)):((a=aS(u)).c(),Q(a,1),a.m(r.parentNode,r)):a&&(Ke(),re(a,1,1,function(){a=null}),Ge())},i:function(u){i||(Q(o),Q(s),Q(a),i=!0)},o:function(u){re(o),re(s),re(a),i=!1},d:function(u){o&&o.d(u),u&&me(e),s&&s.d(u),u&&me(n),a&&a.d(u),u&&me(r)}}}function rS(t){for(var e,n,r=t[6].paths,i=[],o=0;o<r.length;o+=1)i[o]=iS(tS(t,r,o));var s=function(a){return re(i[a],1,1,function(){i[a]=null})};return{c:function(){for(var a=0;a<i.length;a+=1)i[a].c();e=wn()},m:function(a,u){for(var l=0;l<i.length;l+=1)i[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){if(64&u){var l;for(r=a[6].paths,l=0;l<r.length;l+=1){var f=tS(a,r,l);i[l]?(i[l].p(f,u),Q(i[l],1)):(i[l]=iS(f),i[l].c(),Q(i[l],1),i[l].m(e.parentNode,e))}for(Ke(),l=r.length;l<i.length;l+=1)s(l);Ge()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)Q(i[u]);n=!0}},o:function(a){i=i.filter(Boolean);for(var u=0;u<i.length;u+=1)re(i[u]);n=!1},d:function(a){Ai(i,a),a&&me(e)}}}function iS(t){var e,n;return e=new rH({props:{id:t[26],data:t[27]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};64&i&&(o.data=r[27]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function oS(t){for(var e,n,r=t[6].polygons,i=[],o=0;o<r.length;o+=1)i[o]=sS(eS(t,r,o));var s=function(a){return re(i[a],1,1,function(){i[a]=null})};return{c:function(){for(var a=0;a<i.length;a+=1)i[a].c();e=wn()},m:function(a,u){for(var l=0;l<i.length;l+=1)i[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){if(64&u){var l;for(r=a[6].polygons,l=0;l<r.length;l+=1){var f=eS(a,r,l);i[l]?(i[l].p(f,u),Q(i[l],1)):(i[l]=sS(f),i[l].c(),Q(i[l],1),i[l].m(e.parentNode,e))}for(Ke(),l=r.length;l<i.length;l+=1)s(l);Ge()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)Q(i[u]);n=!0}},o:function(a){i=i.filter(Boolean);for(var u=0;u<i.length;u+=1)re(i[u]);n=!1},d:function(a){Ai(i,a),a&&me(e)}}}function sS(t){var e,n;return e=new sH({props:{id:t[26],data:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};64&i&&(o.data=r[24]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function aS(t){var e,n,r;function i(s){t[15](s)}var o={};return t[6]!==void 0&&(o.data=t[6]),e=new lH({props:o}),tn.push(function(){return Ni(e,"data",i)}),{c:function(){Le(e.$$.fragment)},m:function(s,a){Pe(e,s,a),r=!0},p:function(s,a){var u={};!n&&64&a&&(n=!0,u.data=s[6],io(function(){return n=!1})),e.$set(u)},i:function(s){r||(Q(e.$$.fragment,s),r=!0)},o:function(s){re(e.$$.fragment,s),r=!1},d:function(s){Me(e,s)}}}function pH(t){var e,n=t[14].default,r=Io(n,t,t[16],null),i=r||function(o){var s,a,u=o[6]&&nS(o);return{c:function(){u&&u.c(),s=wn()},m:function(l,f){u&&u.m(l,f),ye(l,s,f),a=!0},p:function(l,f){l[6]?u?(u.p(l,f),64&f&&Q(u,1)):((u=nS(l)).c(),Q(u,1),u.m(s.parentNode,s)):u&&(Ke(),re(u,1,1,function(){u=null}),Ge())},i:function(l){a||(Q(u),a=!0)},o:function(l){re(u),a=!1},d:function(l){u&&u.d(l),l&&me(s)}}}(t);return{c:function(){i&&i.c()},m:function(o,s){i&&i.m(o,s),e=!0},p:function(o,s){r?r.p&&(!e||65536&s)&&Lo(r,n,o,o[16],e?No(n,o[16],s,null):Do(o[16]),null):i&&i.p&&(!e||64&s)&&i.p(o,e?s:-1)},i:function(o){e||(Q(i,o),e=!0)},o:function(o){re(i,o),e=!1},d:function(o){i&&i.d(o)}}}function vH(t){var e,n;return e=new hH({props:{label:t[5],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[1],flip:t[4],inverse:t[2],pulse:t[3],class:t[0],$$slots:{default:[pH]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o=Et(i,1)[0],s={};32&o&&(s.label=r[5]),128&o&&(s.width=r[7]),256&o&&(s.height=r[8]),1024&o&&(s.box=r[10]),512&o&&(s.style=r[9]),2&o&&(s.spin=r[1]),16&o&&(s.flip=r[4]),4&o&&(s.inverse=r[2]),8&o&&(s.pulse=r[3]),1&o&&(s.class=r[0]),65600&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function mH(t,e,n){var r,i,o,s,a=e.$$slots,u=a===void 0?{}:a,l=e.$$scope,f=e.class,c=f===void 0?"":f,d=e.data,h=e.scale,p=h===void 0?1:h,v=e.spin,m=v!==void 0&&v,g=e.inverse,y=g!==void 0&&g,b=e.pulse,k=b!==void 0&&b,w=e.flip,C=w===void 0?null:w,_=e.label,T=_===void 0?null:_,j=null,O=e.style,S=O===void 0?null:O;function N(){var $=1;return p!==void 0&&($=Number(p)),isNaN($)||$<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*$}function A(){return j?Math.max(j.width,j.height)/16:1}return t.$$set=function($){"class"in $&&n(0,c=$.class),"data"in $&&n(11,d=$.data),"scale"in $&&n(12,p=$.scale),"spin"in $&&n(1,m=$.spin),"inverse"in $&&n(2,y=$.inverse),"pulse"in $&&n(3,k=$.pulse),"flip"in $&&n(4,C=$.flip),"label"in $&&n(5,T=$.label),"style"in $&&n(13,S=$.style),"$$scope"in $&&n(16,l=$.$$scope)},t.$$.update=function(){14336&t.$$.dirty&&(function(){if(d!==void 0){var $=function(Y){if("iconName"in Y&&"icon"in Y){var z={},J=Y.icon,L=Y.iconName,D={width:J[0],height:J[1],paths:[{d:J[4]}]};return z[L]=D,z}return Y}(d),q=$[Et(Object.keys($),1)[0]];q.paths||(q.paths=[]),q.d&&q.paths.push({d:q.d}),q.polygons||(q.polygons=[]),q.points&&q.polygons.push({points:q.points}),n(6,j=q)}}(),n(7,r=j?j.width/A()*N():0),n(8,i=j?j.height/A()*N():0),n(9,o=function(){var $="";S!==null&&($+=S);var q=N();return q===1?$.length===0?void 0:$:($===""||$.endsWith(";")||($+="; "),"".concat($,"font-size: ").concat(q,"em"))}()),n(10,s=j?"0 0 ".concat(j.width," ").concat(j.height):"0 0 ".concat(r," ").concat(i)))},[c,m,y,k,C,T,j,r,i,o,s,d,p,S,u,function($){n(6,j=$)},l]}var Gt=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,mH,vH,Ar,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13}),i}return ne(n)}();function gH(t){zt(t,"svelte-kvi5ls",".jse-message.svelte-kvi5ls.svelte-kvi5ls{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:var(--jse-padding);display:flex;gap:var(--jse-padding);flex-wrap:wrap;align-items:center}.jse-message.jse-success.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-success-background);color:var(--jse-message-success-color)}.jse-message.svelte-kvi5ls .jse-text.svelte-kvi5ls{flex:1;min-width:60%}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls{cursor:pointer}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-error-background);color:var(--jse-message-error-color)}.jse-message.jse-warning.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-warning-background);color:var(--jse-message-warning-color)}.jse-message.jse-info.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-info-background);color:var(--jse-message-info-color)}.jse-message.svelte-kvi5ls .jse-actions.svelte-kvi5ls{display:flex;gap:var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-message-action-background);color:inherit;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls:hover{background:var(--jse-message-action-background-highlight)}")}function uS(t,e,n){var r=t.slice();return r[8]=e[n],r}function lS(t){var e,n;return e=new Gt({props:{data:t[1]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};2&i&&(o.data=r[1]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function cS(t){var e,n;return e=new Gt({props:{data:t[8].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};8&i&&(o.data=r[8].icon),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function fS(t){var e,n,r,i,o,s,a,u,l,f=t[8].text+"",c=t[8].icon&&cS(t);function d(){return t[6](t[8])}function h(){return t[7](t[8])}return{c:function(){e=oe("button"),c&&c.c(),n=Ee(),r=rt(f),i=Ee(),P(e,"type","button"),P(e,"class","jse-button jse-action jse-primary svelte-kvi5ls"),P(e,"title",o=t[8].title),e.disabled=s=t[8].disabled},m:function(p,v){ye(p,e,v),c&&c.m(e,null),G(e,n),G(e,r),G(e,i),a=!0,u||(l=[Fe(e,"click",d),Fe(e,"mousedown",h)],u=!0)},p:function(p,v){(t=p)[8].icon?c?(c.p(t,v),8&v&&Q(c,1)):((c=cS(t)).c(),Q(c,1),c.m(e,n)):c&&(Ke(),re(c,1,1,function(){c=null}),Ge()),(!a||8&v)&&f!==(f=t[8].text+"")&&on(r,f),(!a||8&v&&o!==(o=t[8].title))&&P(e,"title",o),(!a||8&v&&s!==(s=t[8].disabled))&&(e.disabled=s)},i:function(p){a||(Q(c),a=!0)},o:function(p){re(c),a=!1},d:function(p){p&&me(e),c&&c.d(),u=!1,rr(l)}}}function yH(t){for(var e,n,r,i,o,s,a,u,l,f,c=t[1]&&lS(t),d=t[3],h=[],p=0;p<d.length;p+=1)h[p]=fS(uS(t,d,p));var v=function(m){return re(h[m],1,1,function(){h[m]=null})};return{c:function(){e=oe("div"),n=oe("div"),c&&c.c(),r=Ee(),i=rt(t[2]),o=Ee(),s=oe("div");for(var m=0;m<h.length;m+=1)h[m].c();P(n,"class","jse-text svelte-kvi5ls"),Ze(n,"jse-clickable",t[4]!==null),P(s,"class","jse-actions svelte-kvi5ls"),P(e,"class",a="jse-message jse-"+t[0]+" svelte-kvi5ls")},m:function(m,g){ye(m,e,g),G(e,n),c&&c.m(n,null),G(n,r),G(n,i),G(e,o),G(e,s);for(var y=0;y<h.length;y+=1)h[y].m(s,null);u=!0,l||(f=Fe(n,"click",t[5]),l=!0)},p:function(m,g){var y=Et(g,1)[0];if(m[1]?c?(c.p(m,y),2&y&&Q(c,1)):((c=lS(m)).c(),Q(c,1),c.m(n,r)):c&&(Ke(),re(c,1,1,function(){c=null}),Ge()),(!u||4&y)&&on(i,m[2]),16&y&&Ze(n,"jse-clickable",m[4]!==null),8&y){var b;for(d=m[3],b=0;b<d.length;b+=1){var k=uS(m,d,b);h[b]?(h[b].p(k,y),Q(h[b],1)):(h[b]=fS(k),h[b].c(),Q(h[b],1),h[b].m(s,null))}for(Ke(),b=d.length;b<h.length;b+=1)v(b);Ge()}(!u||1&y&&a!==(a="jse-message jse-"+m[0]+" svelte-kvi5ls"))&&P(e,"class",a)},i:function(m){if(!u){Q(c);for(var g=0;g<d.length;g+=1)Q(h[g]);u=!0}},o:function(m){re(c),h=h.filter(Boolean);for(var g=0;g<h.length;g+=1)re(h[g]);u=!1},d:function(m){m&&me(e),c&&c.d(),Ai(h,m),l=!1,f()}}}function bH(t,e,n){var r=e.type,i=r===void 0?"success":r,o=e.icon,s=o===void 0?void 0:o,a=e.message,u=a===void 0?void 0:a,l=e.actions,f=l===void 0?[]:l,c=e.onClick,d=c===void 0?void 0:c;return t.$$set=function(h){"type"in h&&n(0,i=h.type),"icon"in h&&n(1,s=h.icon),"message"in h&&n(2,u=h.message),"actions"in h&&n(3,f=h.actions),"onClick"in h&&n(4,d=h.onClick)},[i,s,u,f,d,function(){d&&d()},function(h){return h.onClick()},function(h){return h.onMouseDown()}]}var Au=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,bH,yH,dn,{type:0,icon:1,message:2,actions:3,onClick:4},gH),i}return ne(n)}();function Ls(t){return t.map(function(e){return typeof e=="number"?"["+e+"]":typeof e=="string"&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+String(e)+'"]'}).join("")}function Va(t){return t.map(function(e){var n=String(e);return kH.test(n)?"?.".concat(n):"?.[".concat(JSON.stringify(e),"]")}).join("")}var kH=/^[A-z$_][A-z$_\d]*$/i;function wH(t){zt(t,"svelte-1oe8e8r",".jse-validation-errors-overview.svelte-1oe8e8r.svelte-1oe8e8r{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-message-warning-background);color:var(--jse-message-warning-color);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1oe8e8r table.svelte-1oe8e8r{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r{cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.svelte-1oe8e8r{padding:4px var(--jse-padding);vertical-align:middle}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-icon.svelte-1oe8e8r{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action.svelte-1oe8e8r{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td div.jse-validation-errors-expand.svelte-1oe8e8r{display:inline-block;position:relative;top:3px}")}function dS(t,e,n){var r=t.slice();return r[6]=e[n],r[8]=n,r}function hS(t){var e,n,r,i,o=[jH,xH],s=[];function a(u,l){return u[2]||u[0].length===1?0:1}return n=a(t),r=s[n]=o[n](t),{c:function(){e=oe("div"),r.c(),P(e,"class","jse-validation-errors-overview svelte-1oe8e8r")},m:function(u,l){ye(u,e,l),s[n].m(e,null),i=!0},p:function(u,l){var f=n;(n=a(u))===f?s[n].p(u,l):(Ke(),re(s[f],1,1,function(){s[f]=null}),Ge(),(r=s[n])?r.p(u,l):(r=s[n]=o[n](u)).c(),Q(r,1),r.m(e,null))},i:function(u){i||(Q(r),i=!0)},o:function(u){re(r),i=!1},d:function(u){u&&me(e),s[n].d()}}}function xH(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v=t[0].length+"";return o=new Gt({props:{data:ql}}),c=new Gt({props:{data:ZP}}),{c:function(){e=oe("table"),n=oe("tbody"),r=oe("tr"),i=oe("td"),Le(o.$$.fragment),s=Ee(),a=oe("td"),u=rt(v),l=rt(` validation errors
              `),f=oe("div"),Le(c.$$.fragment),P(i,"class","jse-validation-error-icon svelte-1oe8e8r"),P(f,"class","jse-validation-errors-expand svelte-1oe8e8r"),P(a,"class","svelte-1oe8e8r"),P(r,"class","jse-validation-error svelte-1oe8e8r"),P(e,"class","svelte-1oe8e8r")},m:function(m,g){ye(m,e,g),G(e,n),G(n,r),G(r,i),Pe(o,i,null),G(r,s),G(r,a),G(a,u),G(a,l),G(a,f),Pe(c,f,null),d=!0,h||(p=Fe(r,"click",t[4]),h=!0)},p:function(m,g){(!d||1&g)&&v!==(v=m[0].length+"")&&on(u,v)},i:function(m){d||(Q(o.$$.fragment,m),Q(c.$$.fragment,m),d=!0)},o:function(m){re(o.$$.fragment,m),re(c.$$.fragment,m),d=!1},d:function(m){m&&me(e),Me(o),Me(c),h=!1,p()}}}function jH(t){for(var e,n,r,i=t[0],o=[],s=0;s<i.length;s+=1)o[s]=vS(dS(t,i,s));var a=function(u){return re(o[u],1,1,function(){o[u]=null})};return{c:function(){e=oe("table"),n=oe("tbody");for(var u=0;u<o.length;u+=1)o[u].c();P(e,"class","svelte-1oe8e8r")},m:function(u,l){ye(u,e,l),G(e,n);for(var f=0;f<o.length;f+=1)o[f].m(n,null);r=!0},p:function(u,l){if(11&l){var f;for(i=u[0],f=0;f<i.length;f+=1){var c=dS(u,i,f);o[f]?(o[f].p(c,l),Q(o[f],1)):(o[f]=vS(c),o[f].c(),Q(o[f],1),o[f].m(n,null))}for(Ke(),f=i.length;f<o.length;f+=1)a(f);Ge()}},i:function(u){if(!r){for(var l=0;l<i.length;l+=1)Q(o[l]);r=!0}},o:function(u){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)re(o[l]);r=!1},d:function(u){u&&me(e),Ai(o,u)}}}function pS(t){var e,n,r,i,o;return n=new Gt({props:{data:VV}}),{c:function(){e=oe("button"),Le(n.$$.fragment),P(e,"type","button"),P(e,"class","jse-validation-errors-collapse svelte-1oe8e8r"),P(e,"title","Collapse validation errors")},m:function(s,a){ye(s,e,a),Pe(n,e,null),r=!0,i||(o=Fe(e,"click",YO(t[3])),i=!0)},p:Qe,i:function(s){r||(Q(n.$$.fragment,s),r=!0)},o:function(s){re(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Me(n),i=!1,o()}}}function vS(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m=Ls(t[6].path)+"",g=t[6].message+"";r=new Gt({props:{data:ql}});var y=t[8]===0&&t[0].length>1&&pS(t);function b(){return t[5](t[6])}return{c:function(){e=oe("tr"),n=oe("td"),Le(r.$$.fragment),i=Ee(),o=oe("td"),s=rt(m),a=Ee(),u=oe("td"),l=rt(g),f=Ee(),c=oe("td"),y&&y.c(),d=Ee(),P(n,"class","jse-validation-error-icon svelte-1oe8e8r"),P(o,"class","svelte-1oe8e8r"),P(u,"class","svelte-1oe8e8r"),P(c,"class","jse-validation-error-action svelte-1oe8e8r"),P(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(k,w){ye(k,e,w),G(e,n),Pe(r,n,null),G(e,i),G(e,o),G(o,s),G(e,a),G(e,u),G(u,l),G(e,f),G(e,c),y&&y.m(c,null),G(e,d),h=!0,p||(v=Fe(e,"click",b),p=!0)},p:function(k,w){t=k,(!h||1&w)&&m!==(m=Ls(t[6].path)+"")&&on(s,m),(!h||1&w)&&g!==(g=t[6].message+"")&&on(l,g),t[8]===0&&t[0].length>1?y?(y.p(t,w),1&w&&Q(y,1)):((y=pS(t)).c(),Q(y,1),y.m(c,null)):y&&(Ke(),re(y,1,1,function(){y=null}),Ge())},i:function(k){h||(Q(r.$$.fragment,k),Q(y),h=!0)},o:function(k){re(r.$$.fragment,k),re(y),h=!1},d:function(k){k&&me(e),Me(r),y&&y.d(),p=!1,v()}}}function _H(t){var e,n,r=!Kn(t[0]),i=r&&hS(t);return{c:function(){i&&i.c(),e=wn()},m:function(o,s){i&&i.m(o,s),ye(o,e,s),n=!0},p:function(o,s){var a=Et(s,1)[0];1&a&&(r=!Kn(o[0])),r?i?(i.p(o,a),1&a&&Q(i,1)):((i=hS(o)).c(),Q(i,1),i.m(e.parentNode,e)):i&&(Ke(),re(i,1,1,function(){i=null}),Ge())},i:function(o){n||(Q(i),n=!0)},o:function(o){re(i),n=!1},d:function(o){i&&i.d(o),o&&me(e)}}}function SH(t,e,n){var r=e.validationErrors,i=e.selectError,o=!0;return t.$$set=function(s){"validationErrors"in s&&n(0,r=s.validationErrors),"selectError"in s&&n(1,i=s.selectError)},[r,i,o,function(){n(2,o=!1)},function(){n(2,o=!0)},function(s){setTimeout(function(){return i(s)})}]}var nM=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,SH,_H,dn,{validationErrors:0,selectError:1},wH),i}return ne(n)}(),CH={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},$H={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},AH={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},OH={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function EH(t){zt(t,"svelte-v4jelk",".jse-menu.svelte-v4jelk.svelte-v4jelk{background:var(--jse-theme-color);border-bottom:1px solid var(--jse-theme-color);color:var(--jse-menu-color);display:flex;flex-wrap:wrap;align-items:center;position:relative}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk{width:var(--jse-menu-button-size);height:var(--jse-menu-button-size);border:none;background:transparent;color:inherit;cursor:pointer;padding:calc(0.5 * var(--jse-padding));margin:0;border-radius:0}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:disabled{color:var(--jse-menu-color);opacity:0.5;background:transparent}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk{border:1px solid var(--jse-menu-color);padding:0;margin:calc(0.5 * var(--jse-padding)) 0;height:calc(var(--jse-menu-button-size) - var(--jse-padding));width:40px}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:not(.jse-last){border-right:none}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-first.svelte-v4jelk{margin-left:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-last.svelte-v4jelk{margin-right:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-selected.svelte-v4jelk{background:var(--jse-menu-color);color:var(--jse-theme-color)}.jse-menu.svelte-v4jelk .jse-space.svelte-v4jelk{flex:1}.jse-menu.svelte-v4jelk .jse-separator.svelte-v4jelk{background:var(--jse-menu-color);opacity:0.3;box-sizing:border-box;width:1px;height:calc(var(--jse-menu-button-size) - 6px);margin:3px}")}var TH=function(t){return{}},mS=function(t){return{}};function gS(t,e,n){var r=t.slice();return r[3]=e[n],r}var PH=function(t){return{}},yS=function(t){return{}};function MH(t){var e,n,r,i,o,s,a,u,l=t[3].icon&&bS(t),f=t[3].text&&kS(t);return{c:function(){e=oe("button"),l&&l.c(),n=Ee(),f&&f.c(),P(e,"type","button"),P(e,"class",r="jse-button "+t[3].className+" svelte-v4jelk"),P(e,"title",i=t[3].title),e.disabled=o=t[3].disabled||!1},m:function(c,d){ye(c,e,d),l&&l.m(e,null),G(e,n),f&&f.m(e,null),s=!0,a||(u=Fe(e,"click",function(){Co(t[3].onClick)&&t[3].onClick.apply(this,arguments)}),a=!0)},p:function(c,d){(t=c)[3].icon?l?(l.p(t,d),1&d&&Q(l,1)):((l=bS(t)).c(),Q(l,1),l.m(e,n)):l&&(Ke(),re(l,1,1,function(){l=null}),Ge()),t[3].text?f?f.p(t,d):((f=kS(t)).c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||1&d&&r!==(r="jse-button "+t[3].className+" svelte-v4jelk"))&&P(e,"class",r),(!s||1&d&&i!==(i=t[3].title))&&P(e,"title",i),(!s||1&d&&o!==(o=t[3].disabled||!1))&&(e.disabled=o)},i:function(c){s||(Q(l),s=!0)},o:function(c){re(l),s=!1},d:function(c){c&&me(e),l&&l.d(),f&&f.d(),a=!1,u()}}}function IH(t){var e;return{c:function(){P(e=oe("div"),"class","jse-space svelte-v4jelk")},m:function(n,r){ye(n,e,r)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e)}}}function NH(t){var e;return{c:function(){P(e=oe("div"),"class","jse-separator svelte-v4jelk")},m:function(n,r){ye(n,e,r)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e)}}}function bS(t){var e,n;return e=new Gt({props:{data:t[3].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1&i&&(o.data=r[3].icon),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function kS(t){var e,n=t[3].text+"";return{c:function(){e=rt(n)},m:function(r,i){ye(r,e,i)},p:function(r,i){1&i&&n!==(n=r[3].text+"")&&on(e,n)},d:function(r){r&&me(e)}}}function wS(t){var e,n,r,i,o=[NH,IH,MH],s=[];function a(u,l){return u[3].separator===!0?0:u[3].space===!0?1:2}return e=a(t),n=s[e]=o[e](t),{c:function(){n.c(),r=wn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),i=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ke(),re(s[f],1,1,function(){s[f]=null}),Ge(),(n=s[e])?n.p(u,l):(n=s[e]=o[e](u)).c(),Q(n,1),n.m(r.parentNode,r))},i:function(u){i||(Q(n),i=!0)},o:function(u){re(n),i=!1},d:function(u){s[e].d(u),u&&me(r)}}}function LH(t){for(var e,n,r,i,o=t[2].left,s=Io(o,t,t[1],yS),a=t[0],u=[],l=0;l<a.length;l+=1)u[l]=wS(gS(t,a,l));var f=function(h){return re(u[h],1,1,function(){u[h]=null})},c=t[2].right,d=Io(c,t,t[1],mS);return{c:function(){e=oe("div"),s&&s.c(),n=Ee();for(var h=0;h<u.length;h+=1)u[h].c();r=Ee(),d&&d.c(),P(e,"class","jse-menu svelte-v4jelk")},m:function(h,p){ye(h,e,p),s&&s.m(e,null),G(e,n);for(var v=0;v<u.length;v+=1)u[v].m(e,null);G(e,r),d&&d.m(e,null),i=!0},p:function(h,p){var v=Et(p,1)[0];if(s&&s.p&&(!i||2&v)&&Lo(s,o,h,h[1],i?No(o,h[1],v,PH):Do(h[1]),yS),1&v){var m;for(a=h[0],m=0;m<a.length;m+=1){var g=gS(h,a,m);u[m]?(u[m].p(g,v),Q(u[m],1)):(u[m]=wS(g),u[m].c(),Q(u[m],1),u[m].m(e,r))}for(Ke(),m=a.length;m<u.length;m+=1)f(m);Ge()}d&&d.p&&(!i||2&v)&&Lo(d,c,h,h[1],i?No(c,h[1],v,TH):Do(h[1]),mS)},i:function(h){if(!i){Q(s,h);for(var p=0;p<a.length;p+=1)Q(u[p]);Q(d,h),i=!0}},o:function(h){re(s,h),u=u.filter(Boolean);for(var p=0;p<u.length;p+=1)re(u[p]);re(d,h),i=!1},d:function(h){h&&me(e),s&&s.d(h),Ai(u,h),d&&d.d(h)}}}function DH(t,e,n){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,s=e.items,a=s===void 0?[]:s;return t.$$set=function(u){"items"in u&&n(0,a=u.items),"$$scope"in u&&n(1,o=u.$$scope)},[a,o,i]}var K1=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,DH,LH,dn,{items:0},EH),i}return ne(n)}();function RH(t){zt(t,"svelte-1yyupsl",".jse-powered-by.svelte-1yyupsl.svelte-1yyupsl{font-size:8pt;padding:0 10px 3px}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl{color:inherit;opacity:0.7}.jse-powered-by.svelte-1yyupsl a.svelte-1yyupsl:hover{opacity:1}")}function BH(t){var e;return{c:function(){(e=oe("div")).innerHTML='<a href="https://codemirror.net" target="_blank" rel="noopener noreferrer" title="Code mode is powered by CodeMirror" class="svelte-1yyupsl">powered by CodeMirror</a>',P(e,"slot","right"),P(e,"class","jse-powered-by svelte-1yyupsl")},m:function(n,r){ye(n,e,r)},p:Qe,d:function(n){n&&me(e)}}}function zH(t){var e,n;return e=new K1({props:{items:t[0],$$slots:{right:[BH]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o=Et(i,1)[0],s={};1&o&&(s.items=r[0]),131072&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function FH(t,e,n){var r,i,o=e.readOnly,s=o!==void 0&&o,a=e.onFormat,u=e.onCompact,l=e.onSort,f=e.onTransform,c=e.onToggleSearch,d=e.onUndo,h=e.onRedo,p=e.canUndo,v=e.canRedo,m=e.canFormat,g=e.canCompact,y=e.canSort,b=e.canTransform,k=e.onRenderMenu,w=k===void 0?fn:k;return t.$$set=function(C){"readOnly"in C&&n(1,s=C.readOnly),"onFormat"in C&&n(2,a=C.onFormat),"onCompact"in C&&n(3,u=C.onCompact),"onSort"in C&&n(4,l=C.onSort),"onTransform"in C&&n(5,f=C.onTransform),"onToggleSearch"in C&&n(6,c=C.onToggleSearch),"onUndo"in C&&n(7,d=C.onUndo),"onRedo"in C&&n(8,h=C.onRedo),"canUndo"in C&&n(9,p=C.canUndo),"canRedo"in C&&n(10,v=C.canRedo),"canFormat"in C&&n(11,m=C.canFormat),"canCompact"in C&&n(12,g=C.canCompact),"canSort"in C&&n(13,y=C.canSort),"canTransform"in C&&n(14,b=C.canTransform),"onRenderMenu"in C&&n(15,w=C.onRenderMenu)},t.$$.update=function(){32766&t.$$.dirty&&n(16,r=s?[{space:!0}]:[{icon:AH,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:a,disabled:s||!m},{icon:OH,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:u,disabled:s||!g},{separator:!0},{icon:q1,title:"Sort",className:"jse-sort",onClick:l,disabled:s||!y},{icon:V1,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:f,disabled:s||!b},{icon:H1,title:"Search (Ctrl+F)",className:"jse-search",onClick:c},{separator:!0},{icon:eM,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!p},{icon:tM,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!v},{space:!0}]),98304&t.$$.dirty&&n(0,i=w("code",r)||r)},[i,s,a,u,l,f,c,d,h,p,v,m,g,y,b,w,r]}var qH=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,FH,zH,dn,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15},RH),i}return ne(n)}(),Hn=function(){function t(){te(this,t)}return ne(t,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,n,r){var i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Zd.from(i,this.length-(n-e)+r.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,r=[];return this.decompose(e,n,r,0),Zd.from(r,n-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Sc(this),o=new Sc(e),s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return new Sc(this,e)}},{key:"iterRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return new rM(this,e,n)}},{key:"iterLines",value:function(e,n){var r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);var i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new iM(r)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new $o(e):Zd.from($o.split(e,[])):t.empty}}]),t}(),$o=function(t){Be(n,Hn);var e=ze(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VH(r);return te(this,n),(i=e.call(this)).text=r,i.length=o,i}return ne(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(r,i,o,s){for(var a=0;;a++){var u=this.text[a],l=s+u.length;if((i?o:l)>=r)return new HH(s,l,o,u);s=l+1,o++}}},{key:"decompose",value:function(r,i,o,s){var a=r<=0&&i>=this.length?this:new n(xS(this.text,r,i),Math.min(i,this.length)-Math.max(0,r));if(1&s){var u=o.pop(),l=eh(a.text,u.text.slice(),0,a.length);if(l.length<=32)o.push(new n(l,u.length+a.length));else{var f=l.length>>1;o.push(new n(l.slice(0,f)),new n(l.slice(f)))}}else o.push(a)}},{key:"replace",value:function(r,i,o){if(!(o instanceof n))return mn(un(n.prototype),"replace",this).call(this,r,i,o);var s=eh(this.text,eh(o.text,xS(this.text,0,r)),i),a=this.length+o.length-(i-r);return s.length<=32?new n(s,a):Zd.from(n.split(s,[]),a)}},{key:"sliceString",value:function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,s="",a=0,u=0;a<=i&&u<this.text.length;u++){var l=this.text[u],f=a+l.length;a>r&&u&&(s+=o),r<f&&i>a&&(s+=l.slice(Math.max(0,r-a),i-a)),a=f+1}return s}},{key:"flatten",value:function(r){var i,o=ce(this.text);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.push(s)}}catch(a){o.e(a)}finally{o.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(r,i){var o,s=[],a=-1,u=ce(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;s.push(l),a+=l.length+1,s.length==32&&(i.push(new n(s,a)),s=[],a=-1)}}catch(f){u.e(f)}finally{u.f()}return a>-1&&i.push(new n(s,a)),i}}]),n}(),Zd=function(t){Be(n,Hn);var e=ze(n);function n(r,i){var o;te(this,n),(o=e.call(this)).children=r,o.length=i,o.lines=0;var s,a=ce(r);try{for(a.s();!(s=a.n()).done;){var u=s.value;o.lines+=u.lines}}catch(l){a.e(l)}finally{a.f()}return o}return ne(n,[{key:"lineInner",value:function(r,i,o,s){for(var a=0;;a++){var u=this.children[a],l=s+u.length,f=o+u.lines-1;if((i?f:l)>=r)return u.lineInner(r,i,o,s);s=l+1,o=f+1}}},{key:"decompose",value:function(r,i,o,s){for(var a=0,u=0;u<=i&&a<this.children.length;a++){var l=this.children[a],f=u+l.length;if(r<=f&&i>=u){var c=s&((u<=r?1:0)|(f>=i?2:0));u>=r&&f<=i&&!c?o.push(l):l.decompose(r-u,i-u,o,c)}u=f+1}}},{key:"replace",value:function(r,i,o){if(o.lines<this.lines)for(var s=0,a=0;s<this.children.length;s++){var u=this.children[s],l=a+u.length;if(r>=a&&i<=l){var f=u.replace(r-a,i-a,o),c=this.lines-u.lines+f.lines;if(f.lines<c>>4&&f.lines>c>>6){var d=this.children.slice();return d[s]=f,new n(d,this.length-(i-r)+o.length)}return mn(un(n.prototype),"replace",this).call(this,a,l,f)}a=l+1}return mn(un(n.prototype),"replace",this).call(this,r,i,o)}},{key:"sliceString",value:function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,s="",a=0,u=0;a<this.children.length&&u<=i;a++){var l=this.children[a],f=u+l.length;u>r&&a&&(s+=o),r<f&&i>u&&(s+=l.sliceString(r-u,i-u,o)),u=f+1}return s}},{key:"flatten",value:function(r){var i,o=ce(this.children);try{for(o.s();!(i=o.n()).done;)i.value.flatten(r)}catch(s){o.e(s)}finally{o.f()}}},{key:"scanIdentical",value:function(r,i){if(!(r instanceof n))return 0;for(var o=0,s=Et(i>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1],4),a=s[0],u=s[1],l=s[2],f=s[3];;a+=i,u+=i){if(a==l||u==f)return o;var c=this.children[a],d=r.children[u];if(c!=d)return o+c.scanIdentical(d,i);o+=c.length+1}}}],[{key:"from",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.reduce(function(j,O){return j+O.length+1},-1),s=0,a=ce(r);try{for(a.s();!(i=a.n()).done;){var u=i.value;s+=u.lines}}catch(j){a.e(j)}finally{a.f()}if(s<32){var l,f=[],c=ce(r);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.flatten(f)}}catch(j){c.e(j)}finally{c.f()}return new $o(f,o)}var h=Math.max(32,s>>5),p=h<<1,v=h>>1,m=[],g=0,y=-1,b=[];function k(j){var O;if(j.lines>p&&j instanceof n){var S,N=ce(j.children);try{for(N.s();!(S=N.n()).done;)k(S.value)}catch(A){N.e(A)}finally{N.f()}}else j.lines>v&&(g>v||!g)?(w(),m.push(j)):j instanceof $o&&g&&(O=b[b.length-1])instanceof $o&&j.lines+O.lines<=32?(g+=j.lines,y+=j.length+1,b[b.length-1]=new $o(O.text.concat(j.text),O.length+1+j.length)):(g+j.lines>h&&w(),g+=j.lines,y+=j.length+1,b.push(j))}function w(){g!=0&&(m.push(b.length==1?b[0]:n.from(b,y)),y=-1,g=b.length=0)}var C,_=ce(r);try{for(_.s();!(C=_.n()).done;){var T=C.value;k(T)}}catch(j){_.e(j)}finally{_.f()}return w(),m.length==1?m[0]:new n(m,o)}}]),n}();function VH(t){var e,n=-1,r=ce(t);try{for(r.s();!(e=r.n()).done;)n+=e.value.length+1}catch(i){r.e(i)}finally{r.f()}return n}function eh(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e9,i=0,o=0,s=!0;o<t.length&&i<=r;o++){var a=t[o],u=i+a.length;u>=n&&(u>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=u+1}return e}function xS(t,e,n){return eh(t,[""],e,n)}Hn.empty=new $o([""],0);var Sc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;te(this,t),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof $o?e.text.length:e.children.length)<<1]}return ne(t,[{key:"nextInner",value:function(e,n){for(this.done=this.lineBreak=!1;;){var r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof $o?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof $o){var u=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{var l=i.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof $o?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),t}(),rM=function(){function t(e,n,r){te(this,t),this.value="",this.done=!1,this.cursor=new Sc(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return ne(t,[{key:"nextInner",value:function(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);var r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;var i=this.cursor.next(e).value;return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&this.value!=""}}]),t}(),iM=function(){function t(e){te(this,t),this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}return ne(t,[{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=this.inner.next(e),r=n.done,i=n.lineBreak,o=n.value;return r?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),t}();typeof Symbol<"u"&&(Hn.prototype[Symbol.iterator]=function(){return this.iter()},Sc.prototype[Symbol.iterator]=rM.prototype[Symbol.iterator]=iM.prototype[Symbol.iterator]=function(){return this});for(var HH=function(){function t(e,n,r,i){te(this,t),this.from=e,this.to=n,this.number=r,this.text=i}return ne(t,[{key:"length",get:function(){return this.to-this.from}}]),t}(),Yu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(t){return t?parseInt(t,36):1}),gd=1;gd<Yu.length;gd++)Yu[gd]+=Yu[gd-1];function WH(t){for(var e=1;e<Yu.length;e+=2)if(Yu[e]>t)return Yu[e-1]<=t;return!1}function jS(t){return t>=127462&&t<=127487}function Ri(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(n?oM:UH)(t,e,r)}function oM(t,e,n){if(e==t.length)return e;e&&sM(t.charCodeAt(e))&&aM(t.charCodeAt(e-1))&&e--;var r=Kr(t,e);for(e+=no(r);e<t.length;){var i=Kr(t,e);if(r==8205||i==8205||n&&WH(i))e+=no(i),r=i;else{if(!jS(i))break;for(var o=0,s=e-2;s>=0&&jS(Kr(t,s));)o++,s-=2;if(o%2==0)break;e+=2}}return e}function UH(t,e,n){for(;e>0;){var r=oM(t,e-2,n);if(r<e)return r;e--}return 0}function sM(t){return t>=56320&&t<57344}function aM(t){return t>=55296&&t<56320}function Kr(t,e){var n=t.charCodeAt(e);if(!aM(n)||e+1==t.length)return n;var r=t.charCodeAt(e+1);return sM(r)?r-56320+(n-55296<<10)+65536:n}function G1(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function no(t){return t<65536?1:2}var Jg=/\r\n?|\n/,fi=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(fi||(fi={})),Xu=function(){function t(e){te(this,t),this.sections=e}return ne(t,[{key:"length",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}},{key:"newLength",get:function(){for(var e=0,n=0;n<this.sections.length;n+=2){var r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}},{key:"empty",get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var n=0,r=0,i=0;n<this.sections.length;){var o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}},{key:"iterChangedRanges",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Kg(this,e,n)}},{key:"invertedDesc",get:function(){for(var e=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new t(e)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:uM(this,e)}},{key:"mapDesc",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return e.empty?this:Gg(this,e,n)}},{key:"mapPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fi.Simple,i=0,o=0,s=0;s<this.sections.length;){var a=this.sections[s++],u=this.sections[s++],l=i+a;if(u<0){if(l>e)return o+(e-i);o+=a}else{if(r!=fi.Simple&&l>=e&&(r==fi.TrackDel&&i<e&&l>e||r==fi.TrackBefore&&i<e||r==fi.TrackAfter&&l>e))return null;if(l>e||l==e&&n<0&&!a)return e==i||n<0?o:o+u;o+=u}i=l}if(e>i)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(i));return o}},{key:"touchesRange",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=0,i=0;r<this.sections.length&&i<=n;){var o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return!(i<e&&a>n)||"cover";i=a}return!1}},{key:"toString",value:function(){for(var e="",n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(e){if(!Array.isArray(e)||e.length%2||e.some(function(n){return typeof n!="number"}))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}},{key:"create",value:function(e){return new t(e)}}]),t}(),Bo=function(t){Be(n,Xu);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this,r)).inserted=i,o}return ne(n,[{key:"apply",value:function(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return Kg(this,function(i,o,s,a,u){return r=r.replace(s,s+(o-i),u)},!1),r}},{key:"mapDesc",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Gg(this,r,i,!0)}},{key:"invert",value:function(r){for(var i=this.sections.slice(),o=[],s=0,a=0;s<i.length;s+=2){var u=i[s],l=i[s+1];if(l>=0){i[s]=l,i[s+1]=u;for(var f=s>>1;o.length<f;)o.push(Hn.empty);o.push(u?r.slice(a,a+u):Hn.empty)}a+=u}return new n(i,o)}},{key:"compose",value:function(r){return this.empty?r:r.empty?this:uM(this,r,!0)}},{key:"map",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return r.empty?this:Gg(this,r,i,!0)}},{key:"iterChanges",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Kg(this,r,i)}},{key:"desc",get:function(){return Xu.create(this.sections)}},{key:"filter",value:function(r){var i=[],o=[],s=[],a=new Gc(this);e:for(var u=0,l=0;;){for(var f=u==r.length?1e9:r[u++];l<f||l==f&&a.len==0;){if(a.done)break e;var c=Math.min(a.len,f-l);ui(s,c,-1);var d=a.ins==-1?-1:a.off==0?a.ins:0;ui(i,c,d),d>0&&tu(o,i,a.text),a.forward(c),l+=c}for(var h=r[u++];l<h;){if(a.done)break e;var p=Math.min(a.len,h-l);ui(i,p,-1),ui(s,p,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(p),l+=p}}return{changes:new n(i,o),filtered:Xu.create(s)}}},{key:"toJSON",value:function(){for(var r=[],i=0;i<this.sections.length;i+=2){var o=this.sections[i],s=this.sections[i+1];s<0?r.push(o):s==0?r.push([o]):r.push([o].concat(this.inserted[i>>1].toJSON()))}return r}}],[{key:"of",value:function(r,i,o){var s=[],a=[],u=0,l=null;function f(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(c||s.length){u<i&&ui(s,i-u,-1);var d=new n(s,a);l=l?l.compose(d.map(l)):d,s=[],a=[],u=0}}return function c(d){if(Array.isArray(d)){var h,p=ce(d);try{for(p.s();!(h=p.n()).done;)c(h.value)}catch(w){p.e(w)}finally{p.f()}}else if(d instanceof n){if(d.length!=i)throw new RangeError("Mismatched change set length (got ".concat(d.length,", expected ").concat(i,")"));f(),l=l?l.compose(d.map(l)):d}else{var v=d.from,m=d.to,g=m===void 0?v:m,y=d.insert;if(v>g||v<0||g>i)throw new RangeError("Invalid change range ".concat(v," to ").concat(g," (in doc of length ").concat(i,")"));var b=y?typeof y=="string"?Hn.of(y.split(o||Jg)):y:Hn.empty,k=b.length;if(v==g&&k==0)return;v<u&&f(),v>u&&ui(s,v-u,-1),ui(s,g-v,k),tu(a,s,b),u=g}}(r),f(!l),l}},{key:"empty",value:function(r){return new n(r?[r,-1]:[],[])}},{key:"fromJSON",value:function(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");for(var i=[],o=[],s=0;s<r.length;s++){var a=r[s];if(typeof a=="number")i.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some(function(u,l){return l&&typeof u!="string"}))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)i.push(a[0],0);else{for(;o.length<s;)o.push(Hn.empty);o[s]=Hn.of(a.slice(1)),i.push(a[0],o[s].length)}}}return new n(i,o)}},{key:"createSet",value:function(r,i){return new n(r,i)}}]),n}();function ui(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(e==0&&n<=0)){var i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}}function tu(t,e,n){if(n.length!=0){var r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Hn.empty);t.push(n)}}}function Kg(t,e,n){for(var r=t.inserted,i=0,o=0,s=0;s<t.sections.length;){var a=t.sections[s++],u=t.sections[s++];if(u<0)i+=a,o+=a;else{for(var l=i,f=o,c=Hn.empty;l+=a,f+=u,u&&r&&(c=c.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],u=t.sections[s++];e(i,l,o,f,c),i=l,o=f}}}function Gg(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],i=[],o=r?[]:null,s=new Gc(t),a=new Gc(e),u=0,l=0;;)if(s.ins==-1)u+=s.len,s.next();else if(a.ins==-1&&l<u){var f=Math.min(a.len,u-l);a.forward(f),ui(i,f,-1),l+=f}else if(a.ins>=0&&(s.done||l<u||l==u&&(a.len<s.len||a.len==s.len&&!n))){for(ui(i,a.ins,-1);u>l&&!s.done&&u+s.len<l+a.len;)u+=s.len,s.next();l+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?Bo.createSet(i,o):Xu.create(i);throw new Error("Mismatched change set lengths")}for(var c=0,d=u+s.len;;)if(a.ins>=0&&l>u&&l+a.len<d)c+=a.ins,l+=a.len,a.next();else{if(!(a.ins==-1&&l<d))break;var h=Math.min(a.len,d-l);c+=h,a.forward(h),l+=h}ui(i,c,s.ins),o&&tu(o,i,s.text),u=d,s.next()}}function uM(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=[],i=n?[]:null,o=new Gc(t),s=new Gc(e),a=!1;;){if(o.done&&s.done)return i?Bo.createSet(r,i):Xu.create(r);if(o.ins==0)ui(r,o.len,0,a),o.next();else if(s.len!=0||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");var u=Math.min(o.len2,s.len),l=r.length;if(o.ins==-1){var f=s.ins==-1?-1:s.off?0:s.ins;ui(r,u,f,a),i&&f&&tu(i,r,s.text)}else s.ins==-1?(ui(r,o.off?0:o.len,u,a),i&&tu(i,r,o.textBit(u))):(ui(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&tu(i,r,s.text));a=(o.ins>u||s.ins>=0&&s.len>u)&&(a||r.length>l),o.forward2(u),s.forward(u)}else ui(r,0,s.ins,a),i&&tu(i,r,s.text),s.next()}}var Gc=function(){function t(e){te(this,t),this.set=e,this.i=0,this.next()}return ne(t,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return this.ins==-2}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,n=this.i-2>>1;return n>=e.length?Hn.empty:e[n]}},{key:"textBit",value:function(e){var n=this.set.inserted,r=this.i-2>>1;return r>=n.length&&!e?Hn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),t}(),yd=function(){function t(e,n,r){te(this,t),this.from=e,this.to=n,this.flags=r}return ne(t,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return e==3?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return e==33554431?void 0:e}},{key:"map",value:function(e){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return this.empty?n=r=e.mapPos(this.from,i):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new t(n,r,this.flags)}},{key:"extend",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(e<=this.anchor&&n>=this.anchor)return Xe.range(e,n);var r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Xe.range(this.anchor,r)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Xe.range(e.anchor,e.head)}},{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}(),Xe=function(){function t(e,n){te(this,t),this.ranges=e,this.mainIndex=n}return ne(t,[{key:"map",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return e.empty?this:t.create(this.ranges.map(function(r){return r.map(e,n)}),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return this.ranges.length==1?this:new t([this.main],0)}},{key:"addRange",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=e,t.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(e){return e.toJSON()}),main:this.mainIndex}}}],[{key:"fromJSON",value:function(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(function(n){return yd.fromJSON(n)}),e.main)}},{key:"single",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return new t([t.range(e,n)],0)}},{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.length==0)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<e.length;i++){var o=e[i];if(o.empty?o.from<=r:o.from<r)return t.normalized(e.slice(),n);r=o.to}return new t(e,n)}},{key:"cursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return yd.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i!=null?i:33554431)<<5)}},{key:"range",value:function(e,n,r){var i=(r!=null?r:33554431)<<5;return n<e?yd.create(n,e,24|i):yd.create(e,n,i|(n>e?4:0))}},{key:"normalized",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e[n];e.sort(function(l,f){return l.from-f.from}),n=e.indexOf(r);for(var i=1;i<e.length;i++){var o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){var a=s.from,u=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?t.range(u,a):t.range(a,u))}}return new t(e,n)}}]),t}();function lM(t,e){var n,r=ce(t.ranges);try{for(r.s();!(n=r.n()).done;)if(n.value.to>e)throw new RangeError("Selection points outside of document")}catch(i){r.e(i)}finally{r.f()}}var Q1=0,Ct=function(){function t(e,n,r,i,o){te(this,t),this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.extensions=o,this.id=Q1++,this.default=e([])}return ne(t,[{key:"of",value:function(e){return new th([],this,0,e)}},{key:"compute",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new th(e,this,1,n)}},{key:"computeN",value:function(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new th(e,this,2,n)}},{key:"from",value:function(e,n){return n||(n=function(r){return r}),this.compute([e],function(r){return n(r.field(e))})}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new t(e.combine||function(n){return n},e.compareInput||function(n,r){return n===r},e.compare||(e.combine?function(n,r){return n===r}:Qg),!!e.static,e.enables)}}]),t}();function Qg(t,e){return t==e||t.length==e.length&&t.every(function(n,r){return n===e[r]})}var th=function(){function t(e,n,r,i){te(this,t),this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Q1++}return ne(t,[{key:"dynamicSlot",value:function(e){var n,r,i=this,o=this.value,s=this.facet.compareInput,a=this.id,u=e[a]>>1,l=this.type==2,f=!1,c=!1,d=[],h=ce(this.dependencies);try{for(h.s();!(r=h.n()).done;){var p=r.value;p=="doc"?f=!0:p=="selection"?c=!0:(1&((n=e[p.id])!==null&&n!==void 0?n:1))==0&&d.push(e[p.id])}}catch(v){h.e(v)}finally{h.f()}return{create:function(v){return v.values[u]=o(v),1},update:function(v,m){if(f&&m.docChanged||c&&(m.docChanged||m.selection)||Yg(v,d)){var g=o(v);if(l?!_S(g,v.values[u],s):!s(g,v.values[u]))return v.values[u]=g,1}return 0},reconfigure:function(v,m){var g=o(v),y=m.config.address[a];if(y!=null){var b=Fh(m,y);if(i.dependencies.every(function(k){return k instanceof Ct?m.facet(k)===v.facet(k):!(k instanceof Vr)||m.field(k,!1)==v.field(k,!1)})||(l?_S(g,b,s):s(g,b)))return v.values[u]=b,0}return v.values[u]=g,1}}}}]),t}();function _S(t,e,n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Yg(t,e){var n,r=!1,i=ce(e);try{for(i.s();!(n=i.n()).done;)1&$c(t,n.value)&&(r=!0)}catch(o){i.e(o)}finally{i.f()}return r}var SS=Ct.define({static:!0}),Vr=function(){function t(e,n,r,i,o){te(this,t),this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return ne(t,[{key:"create",value:function(e){var n=this,r=e.facet(SS).find(function(i){return i.field==n});return((r==null?void 0:r.create)||this.createF)(e)}},{key:"slot",value:function(e){var n=this,r=e[this.id]>>1;return{create:function(i){return i.values[r]=n.create(i),1},update:function(i,o){var s=i.values[r],a=n.updateF(s,o);return n.compareF(s,a)?0:(i.values[r]=a,1)},reconfigure:function(i,o){return o.config.address[n.id]!=null?(i.values[r]=o.field(n),0):(i.values[r]=n.create(i),1)}}}},{key:"init",value:function(e){return[this,SS.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(e){var n=new t(Q1++,e.create,e.update,e.compare||function(r,i){return r===i},e);return e.provide&&(n.provides=e.provide(n)),n}}]),t}(),JH=4,KH=3,cM=2,GH=1;function Xl(t){return function(e){return new fM(e,t)}}var Mf={highest:Xl(0),high:Xl(GH),default:Xl(cM),low:Xl(KH),lowest:Xl(JH)},fM=ne(function t(e,n){te(this,t),this.inner=e,this.prec=n}),Cc=function(){function t(){te(this,t)}return ne(t,[{key:"of",value:function(e){return new Xg(this,e)}},{key:"reconfigure",value:function(e){return t.reconfigure.of({compartment:this,extension:e})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),t}(),Xg=ne(function t(e,n){te(this,t),this.compartment=e,this.inner=n}),CS=function(){function t(e,n,r,i,o,s){for(te(this,t),this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return ne(t,[{key:"staticFacet",value:function(e){var n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}}],[{key:"resolve",value:function(e,n,r){var i,o=[],s=Object.create(null),a=new Map,u=ce(function(b,k,w){var C=[[],[],[],[],[]],_=new Map;function T(j,O){var S=_.get(j);if(S!=null){if(S<=O)return;var N=C[S].indexOf(j);N>-1&&C[S].splice(N,1),j instanceof Xg&&w.delete(j.compartment)}if(_.set(j,O),Array.isArray(j)){var A,$=ce(j);try{for($.s();!(A=$.n()).done;)T(A.value,O)}catch(z){$.e(z)}finally{$.f()}}else if(j instanceof Xg){if(w.has(j.compartment))throw new RangeError("Duplicate use of compartment in extensions");var q=k.get(j.compartment)||j.inner;w.set(j.compartment,q),T(q,O)}else if(j instanceof fM)T(j.inner,j.prec);else if(j instanceof Vr)C[O].push(j),j.provides&&T(j.provides,O);else if(j instanceof th)C[O].push(j),j.facet.extensions&&T(j.facet.extensions,O);else{var Y=j.extension;if(!Y)throw new Error("Unrecognized extension value in extension set (".concat(j,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));T(Y,O)}}return T(b,cM),C.reduce(function(j,O){return j.concat(O)})}(e,n,a));try{for(u.s();!(i=u.n()).done;){var l=i.value;l instanceof Vr?o.push(l):(s[l.facet.id]||(s[l.facet.id]=[])).push(l)}}catch(b){u.e(b)}finally{u.f()}for(var f=Object.create(null),c=[],d=[],h=function(){var b=v[p];f[b.id]=d.length<<1,d.push(function(k){return b.slot(k)})},p=0,v=o;p<v.length;p++)h();var m=r==null?void 0:r.config.facets,g=function(b){var k=s[b],w=k[0].facet,C=m&&m[b]||[];if(k.every(function(S){return S.type==0}))if(f[w.id]=c.length<<1|1,Qg(C,k))c.push(r.facet(w));else{var _=w.combine(k.map(function(S){return S.value}));c.push(r&&w.compare(_,r.facet(w))?r.facet(w):_)}else{var T,j=ce(k);try{var O=function(){var S=T.value;S.type==0?(f[S.id]=c.length<<1|1,c.push(S.value)):(f[S.id]=d.length<<1,d.push(function(N){return S.dynamicSlot(N)}))};for(j.s();!(T=j.n()).done;)O()}catch(S){j.e(S)}finally{j.f()}f[w.id]=d.length<<1,d.push(function(S){return function(N,A,$){var q=$.map(function(D){return N[D.id]}),Y=$.map(function(D){return D.type}),z=q.filter(function(D){return!(1&D)}),J=N[A.id]>>1;function L(D){for(var U=[],W=0;W<q.length;W++){var F=Fh(D,q[W]);if(Y[W]==2){var E,x=ce(F);try{for(x.s();!(E=x.n()).done;){var M=E.value;U.push(M)}}catch(K){x.e(K)}finally{x.f()}}else U.push(F)}return A.combine(U)}return{create:function(D){var U,W=ce(q);try{for(W.s();!(U=W.n()).done;)$c(D,U.value)}catch(F){W.e(F)}finally{W.f()}return D.values[J]=L(D),1},update:function(D,U){if(!Yg(D,z))return 0;var W=L(D);return A.compare(W,D.values[J])?0:(D.values[J]=W,1)},reconfigure:function(D,U){var W=Yg(D,q),F=U.config.facets[A.id],E=U.facet(A);if(F&&!W&&Qg($,F))return D.values[J]=E,0;var x=L(D);return A.compare(x,E)?(D.values[J]=E,0):(D.values[J]=x,1)}}}(S,w,k)})}};for(var y in s)g(y);return new t(e,a,d.map(function(b){return b(f)}),f,c,s)}}]),t}();function $c(t,e){if(1&e)return 2;var n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;var i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Fh(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}var dM=Ct.define(),hM=Ct.define({combine:function(t){return t.some(function(e){return e})},static:!0}),pM=Ct.define({combine:function(t){return t.length?t[0]:void 0},static:!0}),vM=Ct.define(),mM=Ct.define(),gM=Ct.define(),yM=Ct.define({combine:function(t){return!!t.length&&t[0]}}),nu=function(){function t(e,n){te(this,t),this.type=e,this.value=n}return ne(t,null,[{key:"define",value:function(){return new QH}}]),t}(),QH=function(){function t(){te(this,t)}return ne(t,[{key:"of",value:function(e){return new nu(this,e)}}]),t}(),YH=function(){function t(e){te(this,t),this.map=e}return ne(t,[{key:"of",value:function(e){return new ln(this,e)}}]),t}(),ln=function(){function t(e,n){te(this,t),this.type=e,this.value=n}return ne(t,[{key:"map",value:function(e){var n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new t(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new YH(e.map||function(n){return n})}},{key:"mapEffects",value:function(e,n){if(!e.length)return e;var r,i=[],o=ce(e);try{for(o.s();!(r=o.n()).done;){var s=r.value.map(n);s&&i.push(s)}}catch(a){o.e(a)}finally{o.f()}return i}}]),t}();ln.reconfigure=ln.define(),ln.appendConfig=ln.define();var bi=function(){function t(e,n,r,i,o,s){te(this,t),this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&lM(r,n.newLength),o.some(function(a){return a.type==t.time})||(this.annotations=o.concat(t.time.of(Date.now())))}return ne(t,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var n,r=ce(this.annotations);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.type==e)return i.value}}catch(o){r.e(o)}finally{r.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(e){var n=this.annotation(t.userEvent);return!(!n||!(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}],[{key:"create",value:function(e,n,r,i,o,s){return new t(e,n,r,i,o,s)}}]),t}();function XH(t,e){for(var n=[],r=0,i=0;;){var o=void 0,s=void 0;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function $S(t,e,n){var r,i,o,s;return n?(i=e.changes,o=Bo.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:ln.mapEffects(t.effects,i).concat(ln.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function sm(t,e,n){var r=e.selection,i=Zu(e.annotations);return e.userEvent&&(i=i.concat(bi.userEvent.of(e.userEvent))),{changes:e.changes instanceof Bo?e.changes:Bo.of(e.changes||[],n,t.facet(pM)),selection:r&&(r instanceof Xe?r:Xe.single(r.anchor,r.head)),effects:Zu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function bM(t,e,n){var r=sm(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(var i=1;i<e.length;i++){e[i].filter===!1&&(n=!1);var o=!!e[i].sequential;r=$S(r,sm(t,e[i],o?r.changes.newLength:t.doc.length),o)}var s=bi.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(a){for(var u=a.startState,l=u.facet(gM),f=a,c=l.length-1;c>=0;c--){var d=l[c](a);d&&Object.keys(d).length&&(f=$S(a,sm(u,d,a.changes.newLength),!0))}return f==a?a:bi.create(u,a.changes,a.selection,f.effects,f.annotations,f.scrollIntoView)}(n?function(a){var u,l=a.startState,f=!0,c=ce(l.facet(vM));try{for(c.s();!(u=c.n()).done;){var d=(0,u.value)(a);if(d===!1){f=!1;break}Array.isArray(d)&&(f=f===!0?d:XH(f,d))}}catch(b){c.e(b)}finally{c.f()}if(f!==!0){var h,p;if(f===!1)p=a.changes.invertedDesc,h=Bo.empty(l.doc.length);else{var v=a.changes.filter(f);h=v.changes,p=v.filtered.invertedDesc}a=bi.create(l,h,a.selection&&a.selection.map(p),ln.mapEffects(a.effects,p),a.annotations,a.scrollIntoView)}for(var m=l.facet(mM),g=m.length-1;g>=0;g--){var y=m[g](a);a=y instanceof bi?y:Array.isArray(y)&&y.length==1&&y[0]instanceof bi?y[0]:bM(l,Zu(y),!1)}return a}(s):s)}bi.time=nu.define(),bi.userEvent=nu.define(),bi.addToHistory=nu.define(),bi.remote=nu.define();var ZH=[];function Zu(t){return t==null?ZH:Array.isArray(t)?t:[t]}var Zg,di=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(di||(di={})),eW=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{Zg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function tW(t){return function(e){if(!/\S/.test(e))return di.Space;if(function(r){if(Zg)return Zg.test(r);for(var i=0;i<r.length;i++){var o=r[i];if(/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||eW.test(o)))return!0}return!1}(e))return di.Word;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return di.Word;return di.Other}}var er=function(){function t(e,n,r,i,o,s){te(this,t),this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(var a=0;a<this.config.dynamicSlots.length;a++)$c(this,a<<1);this.computeSlot=null}return ne(t,[{key:"field",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.config.address[e.id];if(r!=null)return $c(this,r),Fh(this,r);if(n)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bM(this,n,!0)}},{key:"applyTransaction",value:function(e){var n,r,i=this,o=this.config,s=o,a=s.base,u=s.compartments,l=ce(e.effects);try{for(l.s();!(n=l.n()).done;){var f=n.value;f.is(Cc.reconfigure)?(o&&(u=new Map,o.compartments.forEach(function(c,d){return u.set(d,c)}),o=null),u.set(f.value.compartment,f.value.extension)):f.is(ln.reconfigure)?(o=null,a=f.value):f.is(ln.appendConfig)&&(o=null,a=Zu(a).concat(f.value))}}catch(c){l.e(c)}finally{l.f()}o?r=e.startState.values.slice():r=new t(o=CS.resolve(a,u,this),this.doc,this.selection,o.dynamicSlots.map(function(){return null}),function(c,d){return d.reconfigure(c,i)},null).values,new t(o,e.newDoc,e.newSelection,r,function(c,d){return d.update(c,e)},e)}},{key:"replaceSelection",value:function(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(function(n){return{changes:{from:n.from,to:n.to,insert:e},range:Xe.cursor(n.from+e.length)}})}},{key:"changeByRange",value:function(e){for(var n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=Zu(r.effects),a=1;a<n.ranges.length;a++){for(var u=e(n.ranges[a]),l=this.changes(u.changes),f=l.map(i),c=0;c<a;c++)o[c]=o[c].map(f);var d=i.mapDesc(l,!0);o.push(u.range.map(d)),i=i.compose(f),s=ln.mapEffects(s,f).concat(ln.mapEffects(Zu(u.effects),d))}return{changes:i,selection:Xe.create(o,n.mainIndex),effects:s}}},{key:"changes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e instanceof Bo?e:Bo.of(e,this.doc.length,this.facet(t.lineSeparator))}},{key:"toText",value:function(e){return Hn.of(e.split(this.facet(t.lineSeparator)||Jg))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.doc.length;return this.doc.sliceString(e,n,this.lineBreak)}},{key:"facet",value:function(e){var n=this.config.address[e.id];return n==null?e.default:($c(this,n),Fh(this,n))}},{key:"toJSON",value:function(e){var n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var r in e){var i=e[r];i instanceof Vr&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}},{key:"tabSize",get:function(){return this.facet(t.tabSize)}},{key:"lineBreak",get:function(){return this.facet(t.lineSeparator)||`
`}},{key:"readOnly",get:function(){return this.facet(yM)}},{key:"phrase",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,s=ce(this.facet(t.phrases));try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}}}catch(u){s.e(u)}finally{s.f()}return r.length&&(e=e.replace(/\$(\$|\d*)/g,function(u,l){if(l=="$")return"$";var f=+(l||1);return f>r.length?u:r[f-1]})),e}},{key:"languageDataAt",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=[],s=ce(this.facet(dM));try{for(s.s();!(r=s.n()).done;){var a,u=r.value,l=ce(u(this,n,i));try{for(l.s();!(a=l.n()).done;){var f=a.value;Object.prototype.hasOwnProperty.call(f,e)&&o.push(f[e])}}catch(c){l.e(c)}finally{l.f()}}}catch(c){s.e(c)}finally{s.f()}return o}},{key:"charCategorizer",value:function(e){return tW(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var n=this.doc.lineAt(e),r=n.text,i=n.from,o=n.length,s=this.charCategorizer(e),a=e-i,u=e-i;a>0;){var l=Ri(r,a,!1);if(s(r.slice(l,a))!=di.Word)break;a=l}for(;u<o;){var f=Ri(r,u);if(s(r.slice(u,f))!=di.Word)break;u=f}return a==u?null:Xe.range(a+i,u+i)}}],[{key:"fromJSON",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r){var o=function(a){var u=r[a],l=e[a];i.push(u.init(function(f){return u.spec.fromJSON(l,f)}))};for(var s in r)o(s)}return t.create({doc:e.doc,selection:Xe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=CS.resolve(e.extensions||[],new Map),r=e.doc instanceof Hn?e.doc:Hn.of((e.doc||"").split(n.staticFacet(t.lineSeparator)||Jg)),i=e.selection?e.selection instanceof Xe?e.selection:Xe.single(e.selection.anchor,e.selection.head):Xe.single(0);return lM(i,r.length),n.staticFacet(hM)||(i=i.asSingle()),new t(n,r,i,n.dynamicSlots.map(function(){return null}),function(o,s){return s.create(o)},null)}}]),t}();function ys(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i={},o=ce(t);try{for(o.s();!(n=o.n()).done;)for(var s=n.value,a=0,u=Object.keys(s);a<u.length;a++){var l=u[a],f=s[l],c=i[l];if(c===void 0)i[l]=f;else if(!(c===f||f===void 0)){if(!Object.hasOwnProperty.call(r,l))throw new Error("Config merge conflict for field "+l);i[l]=r[l](c,f)}}}catch(h){o.e(h)}finally{o.f()}for(var d in e)i[d]===void 0&&(i[d]=e[d]);return i}er.allowMultipleSelections=hM,er.tabSize=Ct.define({combine:function(t){return t.length?t[0]:4}}),er.lineSeparator=pM,er.readOnly=yM,er.phrases=Ct.define({compare:function(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(function(i){return t[i]==e[i]})}}),er.languageData=dM,er.changeFilter=vM,er.transactionFilter=mM,er.transactionExtender=gM,Cc.reconfigure=ln.define();var ru=function(){function t(){te(this,t)}return ne(t,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return e0.create(e,n,this)}}]),t}();ru.prototype.startSide=ru.prototype.endSide=0,ru.prototype.point=!1,ru.prototype.mapMode=fi.TrackDel;var e0=function(){function t(e,n,r){te(this,t),this.from=e,this.to=n,this.value=r}return ne(t,null,[{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}();function t0(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var nW=function(){function t(e,n,r,i){te(this,t),this.from=e,this.to=n,this.value=r,this.maxPoint=i}return ne(t,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,n,r){for(var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=r?this.to:this.from,s=i,a=o.length;;){if(s==a)return s;var u=s+a>>1,l=o[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==s)return l>=0?s:a;l>=0?a=u:s=u+1}}},{key:"between",value:function(e,n,r,i){for(var o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}},{key:"map",value:function(e,n){for(var r=[],i=[],o=[],s=-1,a=-1,u=0;u<this.value.length;u++){var l=this.value[u],f=this.from[u]+e,c=this.to[u]+e,d=void 0,h=void 0;if(f==c){var p=n.mapPos(f,l.startSide,l.mapMode);if(p==null||(d=h=p,l.startSide!=l.endSide&&(h=n.mapPos(f,l.endSide))<d))continue}else if((d=n.mapPos(f,l.startSide))>(h=n.mapPos(c,l.endSide))||d==h&&l.startSide>0&&l.endSide<=0)continue;(h-d||l.endSide-l.startSide)<0||(s<0&&(s=d),l.point&&(a=Math.max(a,h-d)),r.push(l),i.push(d-s),o.push(h-s))}return{mapped:r.length?new t(i,o,r,a):null,pos:s}}}]),t}(),tr=function(){function t(e,n,r,i){te(this,t),this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return ne(t,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,n=this.nextLayer.size,r=ce(this.chunk);try{for(r.s();!(e=r.n()).done;)n+=e.value.value.length}catch(i){r.e(i)}finally{r.f()}return n}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(e){var n=e.add,r=n===void 0?[]:n,i=e.sort,o=i!==void 0&&i,s=e.filterFrom,a=s===void 0?0:s,u=e.filterTo,l=u===void 0?this.length:u,f=e.filter;if(r.length==0&&!f)return this;if(o&&(r=r.slice().sort(t0)),this.isEmpty)return r.length?t.of(r):this;for(var c=new kM(this,null,-1).goto(0),d=0,h=[],p=new dl;c.value||d<r.length;)if(d<r.length&&(c.from-r[d].from||c.startSide-r[d].value.startSide)>=0){var v=r[d++];p.addInner(v.from,v.to,v.value)||h.push(v)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(d==r.length||this.chunkEnd(c.chunkIndex)<r[d].from)&&(!f||a>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!f||a>c.to||l<c.from||f(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||h.push(e0.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!h.length?t.empty:this.nextLayer.update({add:h,filter:f,filterFrom:a,filterTo:l}))}},{key:"map",value:function(e){if(e.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var s=this.chunkPos[o],a=this.chunk[o],u=e.touchesRange(s,s+a.length);if(u===!1)i=Math.max(i,a.maxPoint),n.push(a),r.push(e.mapPos(s));else if(u===!0){var l=a.map(s,e),f=l.mapped,c=l.pos;f&&(i=Math.max(i,f.maxPoint),n.push(f),r.push(c))}}var d=this.nextLayer.map(e);return n.length==0?d:new t(r,n,d||t.empty,i)}},{key:"between",value:function(e,n,r){if(!this.isEmpty){for(var i=0;i<this.chunk.length;i++){var o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return n0.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(e,n,r,i){return new t(e,n,r,i)}},{key:"iter",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n0.from(e).goto(n)}},{key:"compare",value:function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=e.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=o}),a=n.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=o}),u=AS(s,a,r),l=new Zl(s,u,o),f=new Zl(a,u,o);r.iterGaps(function(c,d,h){return OS(l,c,f,d,h,i)}),r.empty&&r.length==0&&OS(l,0,f,0,0,i)}},{key:"eq",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;i==null&&(i=1e9);var o=e.filter(function(f){return!f.isEmpty&&n.indexOf(f)<0}),s=n.filter(function(f){return!f.isEmpty&&e.indexOf(f)<0});if(o.length!=s.length)return!1;if(!o.length)return!0;for(var a=AS(o,s),u=new Zl(o,a,0).goto(r),l=new Zl(s,a,0).goto(r);;){if(u.to!=l.to||!r0(u.active,l.active)||u.point&&(!l.point||!u.point.eq(l.point)))return!1;if(u.to>i)return!0;u.next(),l.next()}}},{key:"spans",value:function(e,n,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=new Zl(e,null,o).goto(n),a=n,u=s.openStart;;){var l=Math.min(s.to,r);if(s.point?(i.point(a,l,s.point,s.activeForPoint(s.to),u,s.pointRank),u=s.openEnd(l)+(s.to>l?1:0)):l>a&&(i.span(a,l,s.active,u),u=s.openEnd(l)),s.to>r)break;a=s.to,s.next()}return u}},{key:"of",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=new dl,o=ce(e instanceof e0?[e]:r?rW(e):e);try{for(o.s();!(n=o.n()).done;){var s=n.value;i.add(s.from,s.to,s.value)}}catch(a){o.e(a)}finally{o.f()}return i.finish()}}]),t}();function rW(t){if(t.length>1)for(var e=t[0],n=1;n<t.length;n++){var r=t[n];if(t0(e,r)>0)return t.slice().sort(t0);e=r}return t}tr.empty=new tr([],[],null,-1),tr.empty.nextLayer=tr.empty;var dl=function(){function t(){te(this,t),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return ne(t,[{key:"finishChunk",value:function(e){this.chunks.push(new nW(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,r)}},{key:"addInner",value:function(e,n,r){var i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}},{key:"addChunk",value:function(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);var r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}},{key:"finish",value:function(){return this.finishInner(tr.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;var n=tr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}]),t}();function AS(t,e,n){var r,i=new Map,o=ce(t);try{for(o.s();!(r=o.n()).done;)for(var s=r.value,a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a])}catch(p){o.e(p)}finally{o.f()}var u,l=new Set,f=ce(e);try{for(f.s();!(u=f.n()).done;)for(var c=u.value,d=0;d<c.chunk.length;d++){var h=i.get(c.chunk[d]);h==null||(n?n.mapPos(h):h)!=c.chunkPos[d]||(n==null?void 0:n.touchesRange(h,h+c.chunk[d].length))||l.add(c.chunk[d])}}catch(p){f.e(p)}finally{f.f()}return l}var kM=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;te(this,t),this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}return ne(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}},{key:"gotoInner",value:function(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){var i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){var o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}},{key:"forward",value:function(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),t}(),n0=function(){function t(e){te(this,t),this.heap=e}return ne(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9,i=ce(this.heap);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.goto(e,r)}}catch(a){i.e(a)}finally{i.f()}for(var s=this.heap.length>>1;s>=0;s--)am(this.heap,s);return this.next(),this}},{key:"forward",value:function(e,n){var r,i=ce(this.heap);try{for(i.s();!(r=i.n()).done;)r.value.forward(e,n)}catch(s){i.e(s)}finally{i.f()}for(var o=this.heap.length>>1;o>=0;o--)am(this.heap,o);(this.to-e||this.value.endSide-n)<0&&this.next()}},{key:"next",value:function(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),am(this.heap,0)}}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,i=[],o=0;o<e.length;o++)for(var s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new kM(s,n,r,o));return i.length==1?i[0]:new t(i)}}]),t}();function am(t,e){for(var n=t[e];;){var r=1+(e<<1);if(r>=t.length)break;var i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}var Zl=function(){function t(e,n,r){te(this,t),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=n0.from(e,n,r)}return ne(t,[{key:"goto",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}},{key:"removeActive",value:function(e){bd(this.active,e),bd(this.activeTo,e),bd(this.activeRank,e),this.minActive=ES(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var n=0,r=this.cursor,i=r.value,o=r.to,s=r.rank;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;kd(this.active,n,i),kd(this.activeTo,n,o),kd(this.activeRank,n,s),e&&kd(e,n,this.cursor.from),this.minActive=ES(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,n=this.point;this.point=null;for(var r=this.openStart<0?[]:null,i=0;;){var o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&bd(r,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var s=this.cursor.value;if(s.point){if(!(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<e&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}if(r){for(var a=0;a<r.length&&r[a]<e;)a++;this.openStart=a+i}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var n=[],r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}},{key:"openEnd",value:function(e){for(var n=0,r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}]),t}();function OS(t,e,n,r,i,o){t.goto(e),n.goto(r);for(var s=r+i,a=r,u=r-e;;){var l=t.to+u-n.to||t.endSide-n.endSide,f=l<0?t.to+u:n.to,c=Math.min(f,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&r0(t.activeForPoint(t.to+u),n.activeForPoint(n.to))||o.comparePoint(a,c,t.point,n.point):c>a&&!r0(t.active,n.active)&&o.compareRange(a,c,t.active,n.active),f>s)break;a=f,l<=0&&t.next(),l>=0&&n.next()}}function r0(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function bd(t,e){for(var n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function kd(t,e,n){for(var r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function ES(t,e){for(var n=-1,r=1e9,i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function If(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,r=0,i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Ri(t,i));return r}function i0(t,e,n,r){for(var i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Ri(t,i)}return r===!0?-1:t.length}for(var TS=typeof Symbol>"u"?"__\u037C":Symbol.for("\u037C"),um=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),PS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},wa=function(){function t(e,n){te(this,t),this.rules=[];var r=(n||{}).finish;function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,u,l,f){var c=[],d=/^@(\w+)\b/.exec(a[0]),h=d&&d[1]=="keyframes";if(d&&u==null)return l.push(a[0]+";");for(var p in u){var v=u[p];if(/&/.test(p))o(p.split(/,\s*/).map(function(m){return a.map(function(g){return m.replace(/&/,g)})}).reduce(function(m,g){return m.concat(g)}),v,l);else if(v&&lt(v)=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");o(i(p),v,c,h)}else v!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,function(m){return"-"+m.toLowerCase()})+": "+v+";")}(c.length||h)&&l.push((!r||d||f?a:a.map(r)).join(", ")+" {"+c.join(" ")+"}")}for(var s in e)o(i(s),e[s],this.rules)}return ne(t,[{key:"getRules",value:function(){return this.rules.join(`
`)}}],[{key:"newName",value:function(){var e=PS[TS]||1;return PS[TS]=e+1,"\u037C"+e.toString(36)}},{key:"mount",value:function(e,n){(e[um]||new iW(e)).mount(Array.isArray(n)?n:[n])}}]),t}(),wd=null,iW=function(){function t(e){if(te(this,t),!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(wd)return e.adoptedStyleSheets=[wd.sheet].concat(e.adoptedStyleSheets),e[um]=wd;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),wd=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");var n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[um]=this}return ne(t,[{key:"mount",value:function(e){for(var n=this.sheet,r=0,i=0,o=0;o<e.length;o++){var s=e[o],a=this.modules.indexOf(s);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,s),n)for(var u=0;u<s.rules.length;u++)n.insertRule(s.rules[u],r++)}else{for(;i<a;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(!n){for(var l="",f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l}}}]),t}(),xa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},qh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},MS=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),oW=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),sW=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),IS=typeof navigator<"u"&&/Mac/.test(navigator.platform),aW=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),uW=MS&&(IS||+MS[1]<57)||sW&&IS,zr=0;zr<10;zr++)xa[48+zr]=xa[96+zr]=String(zr);for(zr=1;zr<=24;zr++)xa[zr+111]="F"+zr;for(zr=65;zr<=90;zr++)xa[zr]=String.fromCharCode(zr+32),qh[zr]=String.fromCharCode(zr);for(var lm in xa)qh.hasOwnProperty(lm)||(qh[lm]=xa[lm]);function Vh(t){return(t.nodeType==11?t.getSelection?t:t.ownerDocument:t).getSelection()}function hl(t,e){return!!e&&(t==e||t.contains(e.nodeType!=1?e.parentNode:e))}function o0(t,e){if(!e.anchorNode)return!1;try{return hl(t,e.anchorNode)}catch{return!1}}function Qc(t){return t.nodeType==3?Yc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Hh(t,e,n,r){return!!n&&(NS(t,e,n,r,-1)||NS(t,e,n,r,1))}function s0(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function NS(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Wh(t))){if(t.nodeName=="DIV")return!1;var o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=s0(t)+(i<0?0:1),t=o}else{if(t.nodeType!=1||(t=t.childNodes[e+(i<0?-1:0)]).nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Wh(t):0}}}function Wh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}var wM={left:0,right:0,top:0,bottom:0};function kv(t,e){var n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function lW(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}var LS,cW=function(){function t(){te(this,t),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return ne(t,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}]),t}(),Pu=null;function xM(t){if(t.setActive)return t.setActive();if(Pu)return t.focus(Pu);for(var e=[],n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Pu==null?{get preventScroll(){return Pu={preventScroll:!0},!0}}:void 0),!Pu){Pu=!1;for(var r=0;r<e.length;){var i=e[r++],o=e[r++],s=e[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function Yc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=LS||(LS=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ac(t,e,n){var r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function fW(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function jM(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}var wi=function(){function t(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];te(this,t),this.node=e,this.offset=n,this.precise=r}return ne(t,null,[{key:"before",value:function(e,n){return new t(e.parentNode,s0(e),n)}},{key:"after",value:function(e,n){return new t(e.parentNode,s0(e)+1,n)}}]),t}(),Y1=[],kr=function(){function t(){te(this,t),this.parent=null,this.dom=null,this.dirty=2}return ne(t,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var n,r=this.posAtStart,i=ce(this.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o==e)return r;r+=o.length+o.breakAfter}}catch(s){i.e(s)}finally{i.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,n){return null}},{key:"sync",value:function(e){if(2&this.dirty){var n,r,i=this.dom,o=null,s=ce(this.children);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.dirty){if(!a.dom&&(n=o?o.nextSibling:i.firstChild)){var u=t.get(n);u&&(u.parent||u.constructor!=a.constructor)||a.reuseDOM(n)}a.sync(e),a.dirty=0}if(n=o?o.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&n!=a.dom&&(e.written=!0),a.dom.parentNode==i)for(;n&&n!=a.dom;)n=DS(n);else i.insertBefore(a.dom,n);o=a.dom}}catch(d){s.e(d)}finally{s.f()}for((n=o?o.nextSibling:i.firstChild)&&e&&e.node==i&&(e.written=!0);n;)n=DS(n)}else if(1&this.dirty){var l,f=ce(this.children);try{for(f.s();!(l=f.n()).done;){var c=l.value;c.dirty&&(c.sync(e),c.dirty=0)}}catch(d){f.e(d)}finally{f.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(e,n){var r;if(e==this.dom)r=this.dom.childNodes[n];else{for(var i=Wh(e)==0?0:n==0?-1:1;;){var o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(i=e==o.firstChild?-1:1),e=o}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!t.get(r);)r=r.nextSibling;if(!r)return this.length;for(var s=0,a=0;;s++){var u=this.children[s];if(u.dom==r)return a;a+=u.length+u.breakAfter}}},{key:"domBoundsAround",value:function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=-1,o=-1,s=-1,a=-1,u=0,l=r,f=r;u<this.children.length;u++){var c=this.children[u],d=l+c.length;if(l<e&&d>n)return c.domBoundsAround(e,n,l);if(d>=e&&i==-1&&(i=u,o=l),l>n&&c.dom.parentNode==this.dom){s=u,a=f;break}f=d,l=d+c.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),1&n.dirty)return;n.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var n=e.parent;if(!n)return e;e=n}}},{key:"replaceChildren",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y1;this.markDirty();for(var o=e;o<n;o++){var s=this.children[o];s.parent==this&&s.destroy()}(r=this.children).splice.apply(r,[e,n-e].concat(nn(i)));for(var a=0;a<i.length;a++)i[a].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length;return new _M(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.childCursor().findPos(e,n)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,n,r,i,o,s){return!1}},{key:"become",value:function(e){return!1}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),t}();function DS(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}kr.prototype.breakAfter=0;var _M=function(){function t(e,n,r){te(this,t),this.children=e,this.pos=n,this.i=r,this.off=0}return ne(t,[{key:"findPos",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}]),t}();function SM(t,e,n,r,i,o,s,a,u){var l=t.children,f=l.length?l[e]:null,c=o.length?o[o.length-1]:null,d=c?c.breakAfter:s;if(!(e==r&&f&&!s&&!d&&o.length<2&&f.merge(n,i,o.length?c:null,n==0,a,u))){if(r<l.length){var h=l[r];h&&i<h.length?(e==r&&(h=h.split(i),i=0),!d&&c&&h.merge(0,i,c,!0,0,u)?o[o.length-1]=h:(i&&h.merge(0,i,null,!1,0,u),o.push(h))):h!=null&&h.breakAfter&&(c?c.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,n>0&&(!s&&o.length&&f.merge(n,f.length,o[0],!1,a,0)?f.breakAfter=o.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,a,0),e++));e<r&&o.length;)if(l[r-1].become(o[o.length-1]))r--,o.pop(),u=o.length?0:a;else{if(!l[e].become(o[0]))break;e++,o.shift(),a=o.length?0:u}!o.length&&e&&r<l.length&&!l[e-1].breakAfter&&l[r].merge(0,0,l[e-1],!1,a,u)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function CM(t,e,n,r,i,o){var s,a=t.childCursor(),u=a.findPos(n,1),l=u.i,f=u.off,c=a.findPos(e,-1),d=c.i,h=c.off,p=e-n,v=ce(r);try{for(v.s();!(s=v.n()).done;)p+=s.value.length}catch(m){v.e(m)}finally{v.f()}t.length+=p,SM(t,d,h,l,f,r,0,i,o)}var Li=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},a0=typeof document<"u"?document:{documentElement:{style:{}}},u0=/Edge\/(\d+)/.exec(Li.userAgent),$M=/MSIE \d/.test(Li.userAgent),l0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Li.userAgent),wv=!!($M||l0||u0),RS=!wv&&/gecko\/(\d+)/i.test(Li.userAgent),cm=!wv&&/Chrome\/(\d+)/.exec(Li.userAgent),BS="webkitFontSmoothing"in a0.documentElement.style,AM=!wv&&/Apple Computer/.test(Li.vendor),zS=AM&&(/Mobile\/\w+/.test(Li.userAgent)||Li.maxTouchPoints>2),St={mac:zS||/Mac/.test(Li.platform),windows:/Win/.test(Li.platform),linux:/Linux|X11/.test(Li.platform),ie:wv,ie_version:$M?a0.documentMode||6:l0?+l0[1]:u0?+u0[1]:0,gecko:RS,gecko_version:RS?+(/Firefox\/(\d+)/.exec(Li.userAgent)||[0,0])[1]:0,chrome:!!cm,chrome_version:cm?+cm[1]:0,ios:zS,android:/Android\b/.test(Li.userAgent),webkit:BS,safari:AM,webkit_version:BS?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:a0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},Xc=function(t){Be(n,kr);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).text=r,i}return ne(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(r){this.setDOM(r||document.createTextNode(this.text))}},{key:"sync",value:function(r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(r){r.nodeType==3&&this.createDOM(r)}},{key:"merge",value:function(r,i,o){return(!o||o instanceof n&&!(this.length-(i-r)+o.length>256))&&(this.text=this.text.slice(0,r)+(o?o.text:"")+this.text.slice(i),this.markDirty(),!0)}},{key:"split",value:function(r){var i=new n(this.text.slice(r));return this.text=this.text.slice(0,r),this.markDirty(),i}},{key:"localPosFromDOM",value:function(r,i){return r==this.dom?i:i?this.text.length:0}},{key:"domAtPos",value:function(r){return new wi(this.dom,r)}},{key:"domBoundsAround",value:function(r,i,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(r,i){return c0(this.dom,r,i)}}]),n}(),pu=function(t){Be(n,kr);var e=ze(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;te(this,n),(i=e.call(this)).mark=r,i.children=o,i.length=s;var a,u=ce(o);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.setParent(_t(i))}}catch(f){u.e(f)}finally{u.f()}return i}return ne(n,[{key:"setAttrs",value:function(r){if(jM(r),this.mark.class&&(r.className=this.mark.class),this.mark.attrs)for(var i in this.mark.attrs)r.setAttribute(i,this.mark.attrs[i]);return r}},{key:"reuseDOM",value:function(r){r.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),mn(un(n.prototype),"sync",this).call(this,r)}},{key:"merge",value:function(r,i,o,s,a,u){return(!o||!(!(o instanceof n&&o.mark.eq(this.mark))||r&&a<=0||i<this.length&&u<=0))&&(CM(this,r,i,o?o.children:[],a-1,u-1),this.markDirty(),!0)}},{key:"split",value:function(r){var i,o=[],s=0,a=-1,u=0,l=ce(this.children);try{for(l.s();!(i=l.n()).done;){var f=i.value,c=s+f.length;c>r&&o.push(s<r?f.split(r-s):f),a<0&&s>=r&&(a=u),s=c,u++}}catch(h){l.e(h)}finally{l.f()}var d=this.length-r;return this.length=r,a>-1&&(this.children.length=a,this.markDirty()),new n(this.mark,o,d)}},{key:"domAtPos",value:function(r){return TM(this.dom,this.children,r)}},{key:"coordsAt",value:function(r,i){return MM(this,r,i)}}]),n}();function c0(t,e,n){var r=t.nodeValue.length;e>r&&(e=r);var i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?St.chrome||St.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;var a=Yc(t,i,o).getClientRects();if(!a.length)return wM;var u=a[(s?s<0:n>=0)?0:a.length-1];return St.safari&&!s&&u.width==0&&(u=Array.prototype.find.call(a,function(l){return l.width})||u),s?kv(u,s<0):u||null}var X1=function(t){Be(n,kr);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this)).widget=r,s.length=i,s.side=o,s.prevWidget=null,s}return ne(n,[{key:"split",value:function(r){var i=n.create(this.widget,this.length-r,this.side);return this.length-=r,i}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(r,i,o,s,a,u){return!(o&&(!(o instanceof n&&this.widget.compare(o.widget))||r>0&&a<=0||i<this.length&&u<=0))&&(this.length=r+(o?o.length:0)+(this.length-i),!0)}},{key:"become",value:function(r){return r.length==this.length&&r instanceof n&&r.side==this.side&&this.widget.constructor==r.widget.constructor&&(this.widget.eq(r.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"overrideDOMText",get:function(){if(this.length==0)return Hn.empty;for(var r=this;r.parent;)r=r.parent;var i=r.editorView,o=i&&i.state.doc,s=this.posAtStart;return o?o.slice(s,s+this.length):Hn.empty}},{key:"domAtPos",value:function(r){return r==0?wi.before(this.dom):wi.after(this.dom,r==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r,i){var o=this.dom.getClientRects(),s=null;if(!o.length)return wM;for(var a=r>0?o.length-1:0;s=o[a],!(r>0?a==0:a==o.length-1||s.top<s.bottom);a+=r>0?-1:1);return r==0&&i>0||r==this.length&&i<=0?s:kv(s,r==0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){mn(un(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(r,i,o){return new(r.customView||n)(r,i,o)}}]),n}(),OM=function(t){Be(n,X1);var e=ze(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n,[{key:"domAtPos",value:function(r){var i=this.widget,o=i.topView,s=i.text;return o?f0(r,0,o,s,function(a,u){return a.domAtPos(u)},function(a){return new wi(s,Math.min(a,s.nodeValue.length))}):new wi(s,Math.min(r,s.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(r,i){var o=this.widget,s=o.topView,a=o.text;return s?EM(r,i,s,a):Math.min(i,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(r,i){var o=this.widget,s=o.topView,a=o.text;return s?f0(r,i,s,a,function(u,l,f){return u.coordsAt(l,f)},function(u,l){return c0(a,u,l)}):c0(a,r,i)}},{key:"destroy",value:function(){var r;mn(un(n.prototype),"destroy",this).call(this),(r=this.widget.topView)===null||r===void 0||r.destroy()}},{key:"isEditable",get:function(){return!0}}]),n}();function f0(t,e,n,r,i,o){if(n instanceof pu){var s,a=ce(n.children);try{for(a.s();!(s=a.n()).done;){var u=s.value,l=hl(u.dom,r),f=l?r.nodeValue.length:u.length;if(t<f||t==f&&u.getSide()<=0)return l?f0(t,e,u,r,i,o):i(u,t,e);t-=f}}catch(c){a.e(c)}finally{a.f()}return i(n,n.length,-1)}return n.dom==r?o(t,e):i(n,t,e)}function EM(t,e,n,r){if(n instanceof pu){var i,o=ce(n.children);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=0,u=hl(s.dom,r);if(hl(s.dom,t))return a+(u?EM(t,e,s,r):s.localPosFromDOM(t,e));a+=u?r.nodeValue.length:s.length}}catch(l){o.e(l)}finally{o.f()}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}var d0=function(t){Be(n,kr);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).side=r,i}return ne(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(r){return r instanceof n&&r.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),this.setDOM(r)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(r){return wi.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r){var i=this.dom.getBoundingClientRect(),o=function(s,a){for(var u=s.parent,l=u?u.children.indexOf(s):-1;u&&l>=0;)if(a<0?l>0:l<u.children.length){var f=u.children[l+a];if(f instanceof Xc){var c=f.coordsAt(a<0?f.length:0,a);if(c)return c}l+=a}else{if(!(u instanceof pu&&u.parent)){var d=u.dom.lastChild;if(d&&d.nodeName=="BR")return d.getClientRects()[0];break}l=u.parent.children.indexOf(u)+(a<0?0:1),u=u.parent}}(this,this.side>0?-1:1);return o&&o.top<i.bottom&&o.bottom>i.top?{left:i.left,right:i.right,top:o.top,bottom:o.bottom}:i}},{key:"overrideDOMText",get:function(){return Hn.empty}}]),n}();function TM(t,e,n){for(var r=0,i=0;r<e.length;r++){var o=e[r],s=i+o.length;if(!(s==i&&o.getSide()<=0)){if(n>i&&n<s&&o.dom.parentNode==t)return o.domAtPos(n-i);if(n<=i)break;i=s}}for(;r>0;r--){var a=e[r-1].dom;if(a.parentNode==t)return wi.after(a)}return new wi(t,0)}function PM(t,e,n){var r,i=t.children;n>0&&e instanceof pu&&i.length&&(r=i[i.length-1])instanceof pu&&r.mark.eq(e.mark)?PM(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function MM(t,e,n){for(var r=0,i=0;i<t.children.length;i++){var o=t.children[i],s=r+o.length,a=void 0;if((n<=0||s==t.length||o.getSide()>0?s>=e:s>e)&&(e<s||i+1==t.children.length||(a=t.children[i+1]).length||a.getSide()>0)){var u=0;if(s==r){if(o.getSide()<=0)continue;u=n=-o.getSide()}var l=o.coordsAt(Math.max(0,e-r),n);return u&&l?kv(l,n<0):l}r=s}var f=t.dom.lastChild;if(!f)return t.dom.getBoundingClientRect();var c=Qc(f);return c[c.length-1]||null}function h0(t,e){for(var n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function Z1(t,e){if(t==e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(r.indexOf(s)==-1||t[s]!==e[s])return!1}return!0}function p0(t,e,n){var r=null;if(e)for(var i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(var o in n)e&&e[o]==n[o]||t.setAttribute(r=o,n[o]);return!!r}Xc.prototype.children=X1.prototype.children=d0.prototype.children=Y1;var Ia=function(){function t(){te(this,t)}return ne(t,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),t}(),Gn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Gn||(Gn={})),It=function(t){Be(n,ru);var e=ze(n);function n(r,i,o,s){var a;return te(this,n),(a=e.call(this)).startSide=r,a.endSide=i,a.widget=o,a.spec=s,a}return ne(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(r){return new IM(r)}},{key:"widget",value:function(r){var i=r.side||0,o=!!r.block;return new Zc(r,i+=o?i>0?3e8:-4e8:i>0?1e8:-1e8,i,o,r.widget||null,!1)}},{key:"replace",value:function(r){var i,o,s=!!r.block;if(r.isBlockGap)i=-5e8,o=4e8;else{var a=NM(r,s);i=(a.start?s?-3e8:-1:5e8)-1,o=1+(a.end?s?2e8:1:-6e8)}return new Zc(r,i,o,s,r.widget||null,!0)}},{key:"line",value:function(r){return new v0(r)}},{key:"set",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return tr.of(r,i)}}]),n}();It.none=tr.empty;var IM=function(t){Be(n,It);var e=ze(n);function n(r){var i;te(this,n);var o=NM(r),s=o.start,a=o.end;return(i=e.call(this,s?-1:5e8,a?1:-6e8,null,r)).tagName=r.tagName||"span",i.class=r.class||"",i.attrs=r.attributes||null,i}return ne(n,[{key:"eq",value:function(r){return this==r||r instanceof n&&this.tagName==r.tagName&&this.class==r.class&&Z1(this.attrs,r.attrs)}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(r>=i)throw new RangeError("Mark decorations may not be empty");return mn(un(n.prototype),"range",this).call(this,r,i)}}]),n}();IM.prototype.point=!1;var v0=function(t){Be(n,It);var e=ze(n);function n(r){return te(this,n),e.call(this,-2e8,-2e8,null,r)}return ne(n,[{key:"eq",value:function(r){return r instanceof n&&Z1(this.spec.attributes,r.spec.attributes)}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(i!=r)throw new RangeError("Line decoration ranges must be zero-length");return mn(un(n.prototype),"range",this).call(this,r,i)}}]),n}();v0.prototype.mapMode=fi.TrackBefore,v0.prototype.point=!0;var Zc=function(t){Be(n,It);var e=ze(n);function n(r,i,o,s,a,u){var l;return te(this,n),(l=e.call(this,i,o,a,r)).block=s,l.isReplace=u,l.mapMode=s?i<=0?fi.TrackBefore:fi.TrackAfter:fi.TrackDel,l}return ne(n,[{key:"type",get:function(){return this.startSide<this.endSide?Gn.WidgetRange:this.startSide<=0?Gn.WidgetBefore:Gn.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(r){return r instanceof n&&(i=this.widget,o=r.widget,i==o||!!(i&&o&&i.compare(o)))&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide;var i,o}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(this.isReplace&&(r>i||r==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return mn(un(n.prototype),"range",this).call(this,r,i)}}]),n}();function NM(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=t.inclusiveStart,r=t.inclusiveEnd;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n!=null?n:e,end:r!=null?r:e}}function m0(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}Zc.prototype.point=!0;var Ao=function(t){Be(n,kr);var e=ze(n);function n(){var r;return te(this,n),(r=e.apply(this,arguments)).children=[],r.length=0,r.prevAttrs=void 0,r.attrs=null,r.breakAfter=0,r}return ne(n,[{key:"merge",value:function(r,i,o,s,a,u){if(o){if(!(o instanceof n))return!1;this.dom||o.transferDOM(this)}return s&&this.setDeco(o?o.attrs:null),CM(this,r,i,o?o.children:[],a,u),!0}},{key:"split",value:function(r){var i=new n;if(i.breakAfter=this.breakAfter,this.length==0)return i;var o=this.childPos(r),s=o.i,a=o.off;a&&(i.append(this.children[s].split(a),0),this.children[s].merge(a,this.children[s].length,null,!1,0,0),s++);for(var u=s;u<this.children.length;u++)i.append(this.children[u],0);for(;s>0&&this.children[s-1].length==0;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=r,i}},{key:"transferDOM",value:function(r){this.dom&&(this.markDirty(),r.setDOM(this.dom),r.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(r){Z1(this.attrs,r)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=r)}},{key:"append",value:function(r,i){PM(this,r,i)}},{key:"addLineDeco",value:function(r){var i=r.spec.attributes,o=r.spec.class;i&&(this.attrs=h0(i,this.attrs||{})),o&&(this.attrs=h0({class:o},this.attrs||{}))}},{key:"domAtPos",value:function(r){return TM(this.dom,this.children,r)}},{key:"reuseDOM",value:function(r){r.nodeName=="DIV"&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){var i;this.dom?4&this.dirty&&(jM(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(p0(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),mn(un(n.prototype),"sync",this).call(this,r);for(var o=this.dom.lastChild;o&&kr.get(o)instanceof pu;)o=o.lastChild;if(!(o&&this.length&&(o.nodeName=="BR"||((i=kr.get(o))===null||i===void 0?void 0:i.isEditable)!=0||St.ios&&this.children.some(function(a){return a instanceof Xc})))){var s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}},{key:"measureTextSize",value:function(){if(this.children.length==0||this.length>20)return null;var r,i=0,o=ce(this.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!(s instanceof Xc))return null;var a=Qc(s.dom);if(a.length!=1)return null;i+=a[0].width}}catch(u){o.e(u)}finally{o.f()}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i/this.length}}},{key:"coordsAt",value:function(r,i){return MM(this,r,i)}},{key:"become",value:function(r){return!1}},{key:"type",get:function(){return Gn.Text}}],[{key:"find",value:function(r,i){for(var o=0,s=0;o<r.children.length;o++){var a=r.children[o],u=s+a.length;if(u>=i){if(a instanceof n)return a;if(u>i)break}s=u+a.breakAfter}return null}}]),n}(),g0=function(t){Be(n,kr);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this)).widget=r,s.length=i,s.type=o,s.breakAfter=0,s.prevWidget=null,s}return ne(n,[{key:"merge",value:function(r,i,o,s,a,u){return!(o&&(!(o instanceof n&&this.widget.compare(o.widget))||r>0&&a<=0||i<this.length&&u<=0))&&(this.length=r+(o?o.length:0)+(this.length-i),!0)}},{key:"domAtPos",value:function(r){return r==0?wi.before(this.dom):wi.after(this.dom,r==this.length)}},{key:"split",value:function(r){var i=this.length-r;this.length=r;var o=new n(this.widget,i,this.type);return o.breakAfter=this.breakAfter,o}},{key:"children",get:function(){return Y1}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Hn.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(r){return r instanceof n&&r.type==this.type&&r.widget.constructor==this.widget.constructor&&(r.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,this.breakAfter=r.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"destroy",value:function(){mn(un(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(),dW=function(){function t(e,n,r,i){te(this,t),this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}return ne(t,[{key:"posCovered",value:function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof g0&&e.type==Gn.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Ao),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(e){this.pendingBuffer&&(this.curLine.append(xd(new d0(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,n,r){for(;e>0;){if(this.textOff==this.text.length){var i=this.cursor.next(this.skip),o=i.value,s=i.lineBreak,a=i.done;if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=o,this.textOff=0}var u=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(0,r)),this.getLine().append(xd(new Xc(this.text.slice(this.textOff,this.textOff+u)),n),r),this.atCursorPos=!0,this.textOff+=u,e-=u,r=0}}},{key:"span",value:function(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}},{key:"point",value:function(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Zc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var a=n-e;if(r instanceof Zc)if(r.block){var u=r.type;u!=Gn.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new g0(r.widget||new FS("div"),a,u))}else{var l=X1.create(r.widget||new FS("span"),a,r.startSide),f=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||r.startSide<=0),d=this.getLine();this.pendingBuffer!=2||f||(this.pendingBuffer=0),this.flushBuffer(i),f&&(d.append(xd(new d0(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(xd(l,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}}],[{key:"build",value:function(e,n,r,i,o){var s=new t(e,n,r,o);return s.openEnd=tr.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}]),t}();function xd(t,e){var n,r=ce(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t=new pu(i,[t],t.length)}}catch(o){r.e(o)}finally{r.f()}return t}var FS=function(t){Be(n,Ia);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).tag=r,i}return ne(n,[{key:"eq",value:function(r){return r.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(r){return r.nodeName.toLowerCase()==this.tag}}]),n}(),LM=Ct.define(),DM=Ct.define(),RM=Ct.define(),BM=Ct.define(),y0=Ct.define(),zM=Ct.define(),FM=Ct.define({combine:function(t){return t.some(function(e){return e})}}),qS=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"nearest",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:5;te(this,t),this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}return ne(t,[{key:"map",value:function(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}]),t}(),VS=ln.define({map:function(t,e){return t.map(e)}});function qi(t,e,n){var r=t.facet(BM);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}var Nf=Ct.define({combine:function(t){return!t.length||t[0]}}),hW=0,uc=Ct.define(),Wr=function(){function t(e,n,r,i){te(this,t),this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}return ne(t,null,[{key:"define",value:function(e,n){var r=n||{},i=r.eventHandlers,o=r.provide,s=r.decorations;return new t(hW++,e,i,function(a){var u=[uc.of(a)];return s&&u.push(ef.of(function(l){var f=l.plugin(a);return f?s(f):It.none})),o&&u.push(o(a)),u})}},{key:"fromClass",value:function(e,n){return t.define(function(r){return new e(r)},n)}}]),t}(),fm=function(){function t(e){te(this,t),this.spec=e,this.mustUpdate=null,this.value=null}return ne(t,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(qi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){qi(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){qi(e.state,r,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),t}(),qM=Ct.define(),VM=Ct.define(),ef=Ct.define(),HM=Ct.define(),WM=Ct.define(),lc=Ct.define(),tf=function(){function t(e,n,r,i){te(this,t),this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}return ne(t,[{key:"join",value:function(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}},{key:"addToSet",value:function(e){for(var n=e.length,r=this;n>0;n--){var i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}}],[{key:"extendWithRanges",value:function(e,n){if(n.length==0)return e;for(var r=[],i=0,o=0,s=0,a=0;;i++){for(var u=i==e.length?null:e[i],l=s-a,f=u?u.fromB:1e9;o<n.length&&n[o]<f;){var c=n[o],d=n[o+1],h=Math.max(a,c),p=Math.min(f,d);if(h<=p&&new t(h+l,p+l,h,p).addToSet(r),d>f)break;o+=2}if(!u)return r;new t(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),s=u.toA,a=u.toB}}}]),t}(),HS=function(){function t(e,n,r){te(this,t),this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Bo.empty(this.startState.doc.length);var i,o=ce(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;this.changes=this.changes.compose(s.changes)}}catch(l){o.e(l)}finally{o.f()}var a=[];this.changes.iterChangedRanges(function(l,f,c,d){return a.push(new tf(l,f,c,d))}),this.changedRanges=a;var u=e.hasFocus;u!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=u,this.flags|=1)}return ne(t,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some(function(e){return e.selection})}},{key:"empty",get:function(){return this.flags==0&&this.transactions.length==0}}],[{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}(),fr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(fr||(fr={})),b0=fr.LTR,pW=fr.RTL;function WS(t){for(var e=[],n=0;n<t.length;n++)e.push(1<<+t[n]);return e}for(var vW=WS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mW=WS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),k0=Object.create(null),Vo=[],dm=0,US=["()","[]","{}"];dm<US.length;dm++){var JS=US[dm],KS=JS.charCodeAt(0),GS=JS.charCodeAt(1);k0[KS]=GS,k0[GS]=-KS}function gW(t){return t<=247?vW[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?mW[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||t==8204?256:1}var yW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Wu=function(){function t(e,n,r){te(this,t),this.from=e,this.to=n,this.level=r}return ne(t,[{key:"dir",get:function(){return this.level%2?pW:b0}},{key:"side",value:function(e,n){return this.dir==n==e?this.to:this.from}}],[{key:"find",value:function(e,n,r,i){for(var o=-1,s=0;s<e.length;s++){var a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}]),t}(),lr=[];function QS(t){return[new Wu(0,t,0)]}var UM="";function bW(t,e,n,r,i){var o,s=r.head-t.from,a=-1;if(s==0){if(!i||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),a=0)}else if(s==t.length){if(i)return null;var u=e[e.length-1];u.level!=n&&(s=u.side(!0,n),a=e.length-1)}a<0&&(a=Wu.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));var l=e[a];s==l.side(i,n)&&(s=(l=e[a+=i?1:-1]).side(!i,n));var f=i==(l.dir==n),c=Ri(t.text,s,f);if(UM=t.text.slice(Math.min(s,c),Math.max(s,c)),c!=l.side(i,n))return Xe.cursor(c+t.from,f?-1:1,l.level);var d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d||l.level==n?d&&d.level<l.level?Xe.cursor(d.side(!i,n)+t.from,i?1:-1,d.level):Xe.cursor(c+t.from,i?-1:1,l.level):Xe.cursor(i?t.to:t.from,i?-1:1,n)}var JM=function(){function t(e,n){te(this,t),this.points=e,this.text="",this.lineSeparator=n.facet(er.lineSeparator)}return ne(t,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+="\uFFFF"}},{key:"readRange",value:function(e,n){if(!e)return this;for(var r=e.parentNode,i=e;;){this.findPointBefore(r,i),this.readNode(i);var o=i.nextSibling;if(o==n)break;var s=kr.get(i),a=kr.get(o);(s&&a?s.breakAfter:(s?s.breakAfter:YS(i))||YS(o)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}},{key:"readTextNode",value:function(e){var n,r=e.nodeValue,i=ce(this.points);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.node==e&&(o.pos=this.text.length+Math.min(o.offset,r.length))}}catch(p){i.e(p)}finally{i.f()}for(var s=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){var u=-1,l=1,f=void 0;if(this.lineSeparator?(u=r.indexOf(this.lineSeparator,s),l=this.lineSeparator.length):(f=a.exec(r))&&(u=f.index,l=f[0].length),this.append(r.slice(s,u<0?r.length:u)),u<0)break;if(this.lineBreak(),l>1){var c,d=ce(this.points);try{for(d.s();!(c=d.n()).done;){var h=c.value;h.node==e&&h.pos>this.text.length&&(h.pos-=l-1)}}catch(p){d.e(p)}finally{d.f()}}s=u+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var n=kr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(var i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,n){var r,i=ce(this.points);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.node==e&&e.childNodes[o.offset]==n&&(o.pos=this.text.length)}}catch(s){i.e(s)}finally{i.f()}}},{key:"findPointInside",value:function(e,n){var r,i=ce(this.points);try{for(i.s();!(r=i.n()).done;){var o=r.value;(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+Math.min(n,o.offset))}}catch(s){i.e(s)}finally{i.f()}}}]),t}();function YS(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}var XS=ne(function t(e,n){te(this,t),this.node=e,this.offset=n,this.pos=-1}),ZS=function(t){Be(n,kr);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).view=r,i.compositionDeco=It.none,i.decorations=[],i.dynamicDecorationMap=[],i.minWidth=0,i.minWidthFrom=0,i.minWidthTo=0,i.impreciseAnchor=null,i.impreciseHead=null,i.forceSelection=!1,i.lastUpdate=Date.now(),i.setDOM(r.contentDOM),i.children=[new Ao],i.children[0].setParent(_t(i)),i.updateDeco(),i.updateInner([new tf(0,0,0,r.state.doc.length)],0),i}return ne(n,[{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(r){var i=this,o=r.changedRanges;this.minWidth>0&&o.length&&(o.every(function(h){var p=h.fromA;return h.toA<i.minWidthFrom||p>i.minWidthTo})?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=It.none:(r.transactions.length||this.dirty)&&(this.compositionDeco=function(h,p){var v=KM(h);if(!v)return It.none;var m=v.from,g=v.to,y=v.node,b=v.text,k=p.mapPos(m,1),w=Math.max(k,p.mapPos(g,-1)),C=h.state,_=y.nodeType==3?y.nodeValue:new JM([],C).readRange(y.firstChild,null).text;if(w-k<_.length)if(C.doc.sliceString(k,Math.min(C.doc.length,k+_.length),"\uFFFF")==_)w=k+_.length;else{if(C.doc.sliceString(Math.max(0,w-_.length),w,"\uFFFF")!=_)return It.none;k=w-_.length}else if(C.doc.sliceString(k,w,"\uFFFF")!=_)return It.none;var T=kr.get(y);return T instanceof OM?T=T.widget.topView:T&&(T.parent=null),It.set(It.replace({widget:new wW(y,b,T),inclusive:!0}).range(k,w))}(this.view,r.changes)),(St.ie||St.chrome)&&!this.compositionDeco.size&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);var s,a,u,l,f=this.decorations,c=this.updateDeco(),d=(s=f,a=c,u=r.changes,l=new jW,tr.compare(s,a,u,l),l.changes);return o=tf.extendWithRanges(o,d),(this.dirty!=0||o.length!=0)&&(this.updateInner(o,r.startState.doc.length),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(r,i){var o=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(r,i);var s=this.view.observer;s.ignore(function(){o.dom.style.height=o.view.viewState.contentHeight+"px",o.dom.style.flexBasis=o.minWidth?o.minWidth+"px":"";var c=St.chrome||St.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;o.sync(c),o.dirty=0,c&&(c.written||s.selectionRange.focusNode!=c.node)&&(o.forceSelection=!0),o.dom.style.height=""});var a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var u,l=ce(this.children);try{for(l.s();!(u=l.n()).done;){var f=u.value;f instanceof g0&&f.widget instanceof eC&&a.push(f.dom)}}catch(c){l.e(c)}finally{l.f()}}s.updateGaps(a)}},{key:"updateChildren",value:function(r,i){for(var o=this.childCursor(i),s=r.length-1;;s--){var a=s>=0?r[s]:null;if(!a)break;var u=a.fromA,l=a.toA,f=a.fromB,c=a.toB,d=dW.build(this.view.state.doc,f,c,this.decorations,this.dynamicDecorationMap),h=d.content,p=d.breakAtStart,v=d.openStart,m=d.openEnd,g=o.findPos(l,1),y=g.i,b=g.off,k=o.findPos(u,-1);SM(this,k.i,k.off,y,b,h,p,v,m)}}},{key:"updateSelection",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(i&&this.view.observer.readSelectionRange(),!(!o&&!this.mayControlSelection()||St.ios&&this.view.inputState.rapidCompositionStart)){var s=this.forceSelection;this.forceSelection=!1;var a=this.view.state.selection.main,u=this.domAtPos(a.anchor),l=a.empty?u:this.domAtPos(a.head);if(St.gecko&&a.empty&&kW(u)){var f=document.createTextNode("");this.view.observer.ignore(function(){return u.node.insertBefore(f,u.node.childNodes[u.offset]||null)}),u=l=new wi(f,0),s=!0}var c=this.view.observer.selectionRange;!s&&c.focusNode&&Hh(u.node,u.offset,c.anchorNode,c.anchorOffset)&&Hh(l.node,l.offset,c.focusNode,c.focusOffset)||(this.view.observer.ignore(function(){St.android&&St.chrome&&r.dom.contains(c.focusNode)&&_W(c.focusNode,r.dom)&&(r.dom.blur(),r.dom.focus({preventScroll:!0}));var d=Vh(r.root);if(a.empty){if(St.gecko){var h=xW(u.node,u.offset);if(h&&h!=3){var p=GM(u.node,u.offset,h==1?1:-1);p&&(u=new wi(p,h==1?0:p.nodeValue.length))}}d.collapse(u.node,u.offset),a.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=a.bidiLevel)}else if(d.extend)d.collapse(u.node,u.offset),d.extend(l.node,l.offset);else{var v=document.createRange();if(a.anchor>a.head){var m=[l,u];u=m[0],l=m[1]}v.setEnd(l.node,l.offset),v.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(v)}}),this.view.observer.setSelectionRange(u,l)),this.impreciseAnchor=u.precise?null:new wi(c.anchorNode,c.anchorOffset),this.impreciseHead=l.precise?null:new wi(c.focusNode,c.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var r=this.view.state.selection.main,i=Vh(this.root);if(r.empty&&r.assoc&&i.modify){var o=Ao.find(this,r.head);if(o){var s=o.posAtStart;if(r.head!=s&&r.head!=s+o.length){var a=this.coordsAt(r.head,-1),u=this.coordsAt(r.head,1);if(a&&u&&!(a.bottom>u.top)){var l=this.domAtPos(r.head+r.assoc);i.collapse(l.node,l.offset),i.modify("move",r.assoc<0?"forward":"backward","lineboundary")}}}}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(Nf)?this.root.activeElement==this.dom:o0(this.dom,this.view.observer.selectionRange)}},{key:"nearest",value:function(r){for(var i=r;i;){var o=kr.get(i);if(o&&o.rootView==this)return o;i=i.parentNode}return null}},{key:"posFromDOM",value:function(r,i){var o=this.nearest(r);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(r,i)+o.posAtStart}},{key:"domAtPos",value:function(r){for(var i=this.childCursor().findPos(r,-1),o=i.i,s=i.off;o<this.children.length-1;){var a=this.children[o];if(s<a.length||a instanceof Ao)break;o++,s=0}return this.children[o].domAtPos(s)}},{key:"coordsAt",value:function(r,i){for(var o=this.length,s=this.children.length-1;;s--){var a=this.children[s],u=o-a.breakAfter-a.length;if(r>u||r==u&&a.type!=Gn.WidgetBefore&&a.type!=Gn.WidgetAfter&&(!s||i==2||this.children[s-1].breakAfter||this.children[s-1].type==Gn.WidgetBefore&&i>-2))return a.coordsAt(r-u,i);o=u}}},{key:"measureVisibleLineHeights",value:function(r){for(var i=[],o=r.from,s=r.to,a=this.view.contentDOM.clientWidth,u=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,f=this.view.textDirection==fr.LTR,c=0,d=0;d<this.children.length;d++){var h=this.children[d],p=c+h.length;if(p>s)break;if(c>=o){var v=h.dom.getBoundingClientRect();if(i.push(v.height),u){var m=h.dom.lastChild,g=m?Qc(m):[];if(g.length){var y=g[g.length-1],b=f?y.right-v.left:v.right-y.left;b>l&&(l=b,this.minWidth=a,this.minWidthFrom=c,this.minWidthTo=p)}}}c=p+h.breakAfter}return i}},{key:"textDirectionAt",value:function(r){var i=this.childPos(r,1).i;return getComputedStyle(this.children[i].dom).direction=="rtl"?fr.RTL:fr.LTR}},{key:"measureTextSize",value:function(){var r,i=this,o=ce(this.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s instanceof Ao){var a=s.measureTextSize();if(a)return a}}}catch(c){o.e(c)}finally{o.f()}var u,l,f=document.createElement("div");return f.className="cm-line",f.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(function(){i.dom.appendChild(f);var c=Qc(f.firstChild)[0];u=f.getBoundingClientRect().height,l=c?c.width/27:7,f.remove()}),{lineHeight:u,charWidth:l}}},{key:"childCursor",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length,i=this.children.length;return i&&(r-=this.children[--i].length),new _M(this.children,r,i)}},{key:"computeBlockGapDeco",value:function(){for(var r=[],i=this.view.viewState,o=0,s=0;;s++){var a=s==i.viewports.length?null:i.viewports[s],u=a?a.from-1:this.length;if(u>o){var l=i.lineBlockAt(u).bottom-i.lineBlockAt(o).top;r.push(It.replace({widget:new eC(l),block:!0,inclusive:!0,isBlockGap:!0}).range(o,u))}if(!a)break;o=a.to+1}return It.set(r)}},{key:"updateDeco",value:function(){for(var r=this,i=this.view.state.facet(ef).map(function(s,a){return(r.dynamicDecorationMap[a]=typeof s=="function")?s(r.view):s}),o=i.length;o<i.length+3;o++)this.dynamicDecorationMap[o]=!1;return this.decorations=[].concat(nn(i),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(r){var i,o=this,s=r.range,a=this.coordsAt(s.head,s.empty?s.assoc:s.head>s.anchor?-1:1);if(a){!s.empty&&(i=this.coordsAt(s.anchor,s.anchor>s.head?-1:1))&&(a={left:Math.min(a.left,i.left),top:Math.min(a.top,i.top),right:Math.max(a.right,i.right),bottom:Math.max(a.bottom,i.bottom)});var u,l=0,f=0,c=0,d=0,h=ce(this.view.state.facet(WM).map(function(k){return k(o.view)}));try{for(h.s();!(u=h.n()).done;){var p=u.value;if(p){var v=p.left,m=p.right,g=p.top,y=p.bottom;v!=null&&(l=Math.max(l,v)),m!=null&&(f=Math.max(f,m)),g!=null&&(c=Math.max(c,g)),y!=null&&(d=Math.max(d,y))}}}catch(k){h.e(k)}finally{h.f()}var b={left:a.left-l,top:a.top-c,right:a.right+f,bottom:a.bottom+d};(function(k,w,C,_,T,j,O,S){for(var N=k.ownerDocument,A=N.defaultView,$=k;$;)if($.nodeType==1){var q=void 0,Y=$==N.body;if(Y)q=lW(A);else{if($.scrollHeight<=$.clientHeight&&$.scrollWidth<=$.clientWidth){$=$.parentNode;continue}var z=$.getBoundingClientRect();q={left:z.left,right:z.left+$.clientWidth,top:z.top,bottom:z.top+$.clientHeight}}var J=0,L=0;if(T=="nearest")w.top<q.top?(L=-(q.top-w.top+O),C>0&&w.bottom>q.bottom+L&&(L=w.bottom-q.bottom+L+O)):w.bottom>q.bottom&&(L=w.bottom-q.bottom+O,C<0&&w.top-L<q.top&&(L=-(q.top+L-w.top+O)));else{var D=w.bottom-w.top,U=q.bottom-q.top;L=(T=="center"&&D<=U?w.top+D/2-U/2:T=="start"||T=="center"&&C<0?w.top-O:w.bottom-U+O)-q.top}if(_=="nearest"?w.left<q.left?(J=-(q.left-w.left+j),C>0&&w.right>q.right+J&&(J=w.right-q.right+J+j)):w.right>q.right&&(J=w.right-q.right+j,C<0&&w.left<q.left+J&&(J=-(q.left+J-w.left+j))):J=(_=="center"?w.left+(w.right-w.left)/2-(q.right-q.left)/2:_=="start"==S?w.left-j:w.right-(q.right-q.left)+j)-q.left,J||L)if(Y)A.scrollBy(J,L);else{if(L){var W=$.scrollTop;$.scrollTop+=L,L=$.scrollTop-W}if(J){var F=$.scrollLeft;$.scrollLeft+=J,J=$.scrollLeft-F}w={left:w.left-J,top:w.top-L,right:w.right-J,bottom:w.bottom-L}}if(Y)break;$=$.assignedSlot||$.parentNode,_=T="nearest"}else{if($.nodeType!=11)break;$=$.host}})(this.view.scrollDOM,b,s.head<s.anchor?-1:1,r.x,r.y,r.xMargin,r.yMargin,this.view.textDirection==fr.LTR)}}}]),n}();function kW(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}var eC=function(t){Be(n,Ia);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).height=r,i}return ne(n,[{key:"toDOM",value:function(){var r=document.createElement("div");return this.updateDOM(r),r}},{key:"eq",value:function(r){return r.height==this.height}},{key:"updateDOM",value:function(r){return r.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}();function KM(t){var e=t.observer.selectionRange,n=e.focusNode&&GM(e.focusNode,e.focusOffset,0);if(!n)return null;var r=t.docView.nearest(n);if(!r)return null;if(r instanceof Ao){for(var i=n;i.parentNode!=r.dom;)i=i.parentNode;for(var o=i.previousSibling;o&&!kr.get(o);)o=o.previousSibling;var s=o?kr.get(o).posAtEnd:r.posAtStart;return{from:s,to:s,node:i,text:n}}for(;;){var a=r.parent;if(!a)return null;if(a instanceof Ao)break;r=a}var u=r.posAtStart;return{from:u,to:u+r.length,node:r.dom,text:n}}var wW=function(t){Be(n,Ia);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this)).top=r,s.text=i,s.topView=o,s}return ne(n,[{key:"eq",value:function(r){return this.top==r.top&&this.text==r.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return OM}}]),n}();function GM(t,e,n){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&n<=0)e=Wh(t=t.childNodes[e-1]);else{if(!(t.nodeType==1&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}function xW(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var jW=function(){function t(){te(this,t),this.changes=[]}return ne(t,[{key:"compareRange",value:function(e,n){m0(e,n,this.changes)}},{key:"comparePoint",value:function(e,n){m0(e,n,this.changes)}}]),t}();function _W(t,e){for(var n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function SW(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function CW(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function hm(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function tC(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function nC(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function w0(t,e,n){for(var r,i,o,s,a,u,l,f,c=t.firstChild;c;c=c.nextSibling)for(var d=Qc(c),h=0;h<d.length;h++){var p=d[h];i&&hm(i,p)&&(p=tC(nC(p,i.bottom),i.top));var v=SW(e,p),m=CW(n,p);if(v==0&&m==0)return c.nodeType==3?rC(c,e,n):w0(c,e,n);(!r||s>m||s==m&&o>v)&&(r=c,i=p,o=v,s=m),v==0?n>p.bottom&&(!l||l.bottom<p.bottom)?(a=c,l=p):n<p.top&&(!f||f.top>p.top)&&(u=c,f=p):l&&hm(l,p)?l=nC(l,p.bottom):f&&hm(f,p)&&(f=tC(f,p.top))}if(l&&l.bottom>=n?(r=a,i=l):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};var g=Math.max(i.left,Math.min(i.right,e));return r.nodeType==3?rC(r,g,n):o||r.contentEditable!="true"?{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}:w0(r,g,n)}function rC(t,e,n){for(var r=t.nodeValue.length,i=-1,o=1e9,s=0,a=0;a<r;a++)for(var u=Yc(t,a,a+1).getClientRects(),l=0;l<u.length;l++){var f=u[l];if(f.top!=f.bottom){s||(s=e-f.left);var c=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&c<o){var d=e>=(f.left+f.right)/2,h=d;if((St.chrome||St.gecko)&&Yc(t,a).getBoundingClientRect().left==f.right&&(h=!d),c<=0)return{node:t,offset:a+(h?1:0)};i=a+(h?1:0),o=c}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function iC(t,e,n){var r,i,o=e.x,s=e.y,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,u=t.contentDOM.getBoundingClientRect(),l=u.top+t.viewState.paddingTop,f=t.viewState.docHeight,c=s-l;if(c<0)return 0;if(c>f)return t.state.doc.length;for(var d=t.defaultLineHeight/2,h=!1;(i=t.elementAtHeight(c)).type!=Gn.Text;)for(;!((c=a>0?i.bottom+d:i.top-d)>=0&&c<=f);){if(h)return n?null:0;h=!0,a=-a}s=l+c;var p=i.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:oC(t,u,i,o,s);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:oC(t,u,i,o,s);var v=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:v,g=m.elementFromPoint(o,s);g&&!t.contentDOM.contains(g)&&(g=null),g||(o=Math.max(u.left+1,Math.min(u.right-1,o)),(g=m.elementFromPoint(o,s))&&!t.contentDOM.contains(g)&&(g=null));var y,b=-1;if(g&&((r=t.docView.nearest(g))===null||r===void 0?void 0:r.isEditable)!=0){if(v.caretPositionFromPoint){var k=v.caretPositionFromPoint(o,s);k&&(y=k.offsetNode,b=k.offset)}else if(v.caretRangeFromPoint){var w=v.caretRangeFromPoint(o,s);w&&(y=w.startContainer,b=w.startOffset,St.safari&&$W(y,b,o)&&(y=void 0))}}if(!y||!t.docView.dom.contains(y)){var C=Ao.find(t.docView,p);if(!C)return c>i.top+i.height/2?i.to:i.from;var _=w0(C.dom,o,s);y=_.node,b=_.offset}return t.docView.posFromDOM(y,b)}function oC(t,e,n,r,i){var o=Math.round((r-e.left)*t.defaultCharacterWidth);t.lineWrapping&&n.height>1.5*t.defaultLineHeight&&(o+=Math.floor((i-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength);var s=t.state.sliceDoc(n.from,n.to);return n.from+i0(s,o,t.state.tabSize)}function $W(t,e,n){var r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(var i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Yc(t,r-1,r).getBoundingClientRect().left>n}function AW(t,e,n,r){var i=t.state.doc.lineAt(e.head),o=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(o){var s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(a==fr.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(u!=null)return Xe.cursor(u,n?-1:1)}var l=Ao.find(t.docView,e.head),f=l?n?l.posAtEnd:l.posAtStart:n?i.to:i.from;return Xe.cursor(f,n?-1:1)}function sC(t,e,n,r){for(var i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from),a=e,u=null;;){var l=bW(i,o,s,a,n),f=UM;if(!l){if(i.number==(n?t.state.doc.lines:1))return a;f=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),l=Xe.cursor(n?i.from:i.to)}if(u){if(!u(f))return a}else{if(!r)return l;u=r(f)}a=l}}function pm(t,e,n){for(var r=t.state.facet(HM).map(function(a){return a(t)});;){var i,o=!1,s=ce(r);try{for(s.s();!(i=s.n()).done;)i.value.between(n.from-1,n.from+1,function(a,u,l){n.from>a&&n.from<u&&(n=e.from>n.from?Xe.cursor(a,1):Xe.cursor(u,-1),o=!0)})}catch(a){s.e(a)}finally{s.f()}if(!o)return n}}var OW=function(){function t(e){var n=this;te(this,t),this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;var r=function(o){var s=Or[o];e.contentDOM.addEventListener(o,function(a){aC(e,a)&&!n.ignoreDuringComposition(a)&&(o=="keydown"&&n.keydown(e,a)||(n.mustFlushObserver(a)&&e.observer.forceFlush(),n.runCustomHandlers(o,e,a)?a.preventDefault():s(e,a)))}),n.registeredEvents.push(o)};for(var i in Or)r(i);St.chrome&&St.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",function(){n.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(n.chromeScrollHack),n.chromeScrollHack=setTimeout(function(){n.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,St.safari&&e.contentDOM.addEventListener("input",function(){return null})}return ne(t,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e,n){var r,i,o=this;this.customHandlers=[];var s,a=ce(n);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(i=(r=u.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:u.value,handlers:i});var l=function(c){o.registeredEvents.indexOf(c)<0&&c!="scroll"&&(o.registeredEvents.push(c),e.contentDOM.addEventListener(c,function(d){aC(e,d)&&o.runCustomHandlers(c,e,d)&&d.preventDefault()}))};for(var f in i)l(f)}}}catch(c){a.e(c)}finally{a.f()}}},{key:"runCustomHandlers",value:function(e,n,r){var i,o=ce(this.customHandlers);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.handlers[e];if(a)try{if(a.call(s.plugin,r,n)||r.defaultPrevented)return!0}catch(u){qi(n.state,u)}}}catch(u){o.e(u)}finally{o.f()}return!1}},{key:"runScrollHandlers",value:function(e,n){var r,i=ce(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.handlers.scroll;if(s)try{s.call(o.plugin,n,e)}catch(a){qi(e.state,a)}}}catch(a){i.e(a)}finally{i.f()}}},{key:"keydown",value:function(e,n){var r,i=this;return this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3||(!St.android||!St.chrome||n.synthetic||n.keyCode!=13&&n.keyCode!=8?!(!St.ios||!(r=QM.find(function(o){return o.keyCode==n.keyCode}))||n.ctrlKey||n.altKey||n.metaKey||n.synthetic)&&(this.pendingIOSKey=r,setTimeout(function(){return i.flushIOSKey(e)},250),!0):(e.observer.delayAndroidKey(n.key,n.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var n=this.pendingIOSKey;return!!n&&(this.pendingIOSKey=void 0,Ac(e.contentDOM,n.key,n.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(St.safari&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!St.ios}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),t}(),QM=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],YM=[16,17,18,20,91,92,224,225],EW=function(){function t(e,n,r,i){te(this,t),this.view=e,this.style=r,this.mustSelect=i,this.lastEvent=n;var o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(er.allowMultipleSelections)&&function(s,a){var u=s.state.facet(LM);return u.length?u[0](a):St.mac?a.metaKey:a.ctrlKey}(e,n),this.dragMove=function(s,a){var u=s.state.facet(DM);return u.length?u[0](a):St.mac?!a.altKey:!a.ctrlKey}(e,n),this.dragging=!(!function(s,a){if(s.state.selection.main.empty)return!1;var u=Vh(s.root);if(u.rangeCount==0)return!0;for(var l=u.getRangeAt(0).getClientRects(),f=0;f<l.length;f++){var c=l[f];if(c.left<=a.clientX&&c.right>=a.clientX&&c.top<=a.clientY&&c.bottom>=a.clientY)return!0}return!1}(e,n)||x0(n)!=1)&&null,this.dragging===!1&&(n.preventDefault(),this.select(n))}return ne(t,[{key:"move",value:function(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}},{key:"up",value:function(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"select",value:function(e){var n=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&n.eq(this.view.state.selection)&&n.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:n,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}},{key:"update",value:function(e){var n=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(function(){return n.select(n.lastEvent)},20)}}]),t}();function aC(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=kr.get(r))&&n.ignoreEvent(e))return!1;return!0}var Or=Object.create(null),XM=St.ie&&St.ie_version<15||St.ios&&St.webkit_version<604;function uC(t,e){var n,r=t.state,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length;if(j0!=null&&r.selection.ranges.every(function(u){return u.empty})&&j0==o.toString()){var a=-1;n=r.changeByRange(function(u){var l=r.doc.lineAt(u.from);if(l.from==a)return{range:u};a=l.from;var f=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:f},range:Xe.cursor(u.from+f.length)}})}else n=s?r.changeByRange(function(u){var l=o.line(i++);return{changes:{from:u.from,to:u.to,insert:l.text},range:Xe.cursor(u.from+l.length)}}):r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Or.keydown=function(t,e){t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():YM.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};var lC=0;function cC(t,e,n,r){if(r==1)return Xe.cursor(e,n);if(r==2)return function(u,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=u.charCategorizer(l),d=u.doc.lineAt(l),h=l-d.from;if(d.length==0)return Xe.cursor(l);h==0?f=1:h==d.length&&(f=-1);var p=h,v=h;f<0?p=Ri(d.text,h,!1):v=Ri(d.text,h);for(var m=c(d.text.slice(p,v));p>0;){var g=Ri(d.text,p,!1);if(c(d.text.slice(g,p))!=m)break;p=g}for(;v<d.length;){var y=Ri(d.text,v);if(c(d.text.slice(v,y))!=m)break;v=y}return Xe.range(p+d.from,v+d.from)}(t.state,e,n);var i=Ao.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,Xe.range(s,a)}Or.touchstart=function(t,e){lC=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Or.touchmove=function(t){t.inputState.setSelectionOrigin("select.pointer")},Or.mousedown=function(t,e){if(t.observer.flush(),!(lC>Date.now()-2e3&&x0(e)==1)){var n,r=null,i=ce(t.state.facet(RM));try{for(i.s();!(n=i.n()).done&&!(r=(0,n.value)(t,e)););}catch(s){i.e(s)}finally{i.f()}if(r||e.button!=0||(r=function(s,a){var u=dC(s,a),l=x0(a),f=s.state.selection,c=u,d=a;return{update:function(h){h.docChanged&&(u&&(u.pos=h.changes.mapPos(u.pos)),f=f.map(h.changes),d=null)},get:function(h,p,v){var m;if(d&&h.clientX==d.clientX&&h.clientY==d.clientY?m=c:(m=c=dC(s,h),d=h),!m||!u)return f;var g=cC(s,m.pos,m.bias,l);if(u.pos!=m.pos&&!p){var y=cC(s,u.pos,u.bias,l),b=Math.min(y.from,g.from),k=Math.max(y.to,g.to);g=b<g.from?Xe.range(b,k):Xe.range(k,b)}return p?f.replaceRange(f.main.extend(g.from,g.to)):v?f.addRange(g):Xe.create([g])}}}(t,e)),r){var o=t.root.activeElement!=t.contentDOM;o&&t.observer.ignore(function(){return xM(t.contentDOM)}),t.inputState.startMouseSelection(new EW(t,e,r,o))}}};var ZM=function(t,e){return t>=e.top&&t<=e.bottom},fC=function(t,e,n){return ZM(e,n)&&t>=n.left&&t<=n.right};function TW(t,e,n,r){var i=Ao.find(t.docView,e);if(!i)return 1;var o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;var s=i.coordsAt(o,-1);if(s&&fC(n,r,s))return-1;var a=i.coordsAt(o,1);return a&&fC(n,r,a)?1:s&&ZM(r,s)?-1:1}function dC(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:TW(t,n,e.clientX,e.clientY)}}var PW=St.ie&&St.ie_version<=11,hC=null,pC=0,vC=0;function x0(t){if(!PW)return t.detail;var e=hC,n=vC;return hC=t,vC=Date.now(),pC=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(pC+1)%3:1}function mC(t,e,n,r){if(n){var i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();var o=t.inputState.mouseSelection,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:i,insert:n},u=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}}Or.dragstart=function(t,e){var n=t.state.selection.main,r=t.inputState.mouseSelection;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},Or.drop=function(t,e){if(e.dataTransfer){if(t.state.readOnly)return e.preventDefault();var n=e.dataTransfer.files;n&&n.length?function(){e.preventDefault();for(var r=Array(n.length),i=0,o=function(){++i==n.length&&mC(t,e,r.filter(function(u){return u!=null}).join(t.state.lineBreak),!1)},s=function(u){var l=new FileReader;l.onerror=o,l.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[u]=l.result),o()},l.readAsText(n[u])},a=0;a<n.length;a++)s(a)}():mC(t,e,e.dataTransfer.getData("Text"),!0)}},Or.paste=function(t,e){if(t.state.readOnly)return e.preventDefault();t.observer.flush();var n=XM?null:e.clipboardData;n?(uC(t,n.getData("text/plain")),e.preventDefault()):function(r){var i=r.dom.parentNode;if(i){var o=i.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(function(){r.focus(),o.remove(),uC(r,o.value)},50)}}(t)};var j0=null;function gC(t){setTimeout(function(){t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)}function yC(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}Or.copy=Or.cut=function(t,e){var n=function(a){var u,l=[],f=[],c=!1,d=ce(a.selection.ranges);try{for(d.s();!(u=d.n()).done;){var h=u.value;h.empty||(l.push(a.sliceDoc(h.from,h.to)),f.push(h))}}catch(b){d.e(b)}finally{d.f()}if(!l.length){var p,v=-1,m=ce(a.selection.ranges);try{for(m.s();!(p=m.n()).done;){var g=p.value.from,y=a.doc.lineAt(g);y.number>v&&(l.push(y.text),f.push({from:y.from,to:Math.min(a.doc.length,y.to+1)})),v=y.number}}catch(b){m.e(b)}finally{m.f()}c=!0}return{text:l.join(a.lineBreak),ranges:f,linewise:c}}(t.state),r=n.text,i=n.ranges,o=n.linewise;if(r||o){j0=o?r:null;var s=XM?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",r)):function(a,u){var l=a.dom.parentNode;if(l){var f=l.appendChild(document.createElement("textarea"));f.style.cssText="position: fixed; left: -10000px; top: 10px",f.value=u,f.focus(),f.selectionEnd=u.length,f.selectionStart=0,setTimeout(function(){f.remove(),a.focus()},50)}}(t,r),e.type!="cut"||t.state.readOnly||t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},Or.focus=gC,Or.blur=function(t){t.observer.clearSelectionRange(),gC(t)},Or.compositionstart=Or.compositionupdate=function(t){t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),yC(t,!0)))},Or.compositionend=function(t){t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout(function(){t.inputState.composing<0&&yC(t,!1)},50)},Or.contextmenu=function(t){t.inputState.lastContextMenu=Date.now()},Or.beforeinput=function(t,e){var n,r;if(St.chrome&&St.android&&(r=QM.find(function(o){return o.inputType==e.inputType}))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){var i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(function(){var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};var bC=["pre-wrap","normal","pre-line","break-spaces"],MW=function(){function t(){te(this,t),this.doc=Hn.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return ne(t,[{key:"heightForGap",value:function(e,n){var r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return bC.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var n=!1,r=0;r<e.length;r++){var i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(n=!0,this.heightSamples[Math.floor(10*i)]=!0)}return n}},{key:"refresh",value:function(e,n,r,i,o){var s=bC.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.lineLength=i,a){this.heightSamples={};for(var u=0;u<o.length;u++){var l=o[u];l<0?u++:this.heightSamples[Math.floor(10*l)]=!0}}return a}}]),t}(),IW=function(){function t(e,n){te(this,t),this.from=e,this.heights=n,this.index=0}return ne(t,[{key:"more",get:function(){return this.index<this.heights.length}}]),t}(),Uu=function(){function t(e,n,r,i,o){te(this,t),this.from=e,this.length=n,this.top=r,this.height=i,this.type=o}return ne(t,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(e){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,n)}}]),t}(),Zn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Zn||(Zn={})),ls=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;te(this,t),this.length=e,this.height=n,this.flags=r}return ne(t,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,n){this.height!=n&&(Math.abs(this.height-n)>.001&&(e.heightChanged=!0),this.height=n)}},{key:"replace",value:function(e,n,r){return t.of(r)}},{key:"decomposeLeft",value:function(e,n){n.push(this)}},{key:"decomposeRight",value:function(e,n){n.push(this)}},{key:"applyChanges",value:function(e,n,r,i){for(var o=this,s=i.length-1;s>=0;s--){var a=i[s],u=a.fromA,l=a.toA,f=a.fromB,c=a.toB,d=o.lineAt(u,Zn.ByPosNoHeight,n,0,0),h=d.to>=l?d:o.lineAt(l,Zn.ByPosNoHeight,n,0,0);for(c+=h.to-l,l=h.to;s>0&&d.from<=i[s-1].toA;)u=i[s-1].fromA,f=i[s-1].fromB,s--,u<d.from&&(d=o.lineAt(u,Zn.ByPosNoHeight,n,0,0));f+=d.from-u,u=d.from;var p=LW.build(r,e,f,c);o=o.replace(u,l,p)}return o.updateHeight(r,0)}}],[{key:"empty",value:function(){return new Go(0,0)}},{key:"of",value:function(e){if(e.length==1)return e[0];for(var n=0,r=e.length,i=0,o=0;;)if(n==r)if(i>2*o){var s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else{if(!(o>2*i))break;var a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else if(i<o){var u=e[n++];u&&(i+=u.size)}else{var l=e[--r];l&&(o+=l.size)}var f=0;return e[n-1]==null?(f=1,n--):e[n]==null&&(f=1,r++),new NW(t.of(e.slice(0,n)),f,t.of(e.slice(r)))}}]),t}();ls.prototype.size=1;var eI=function(t){Be(n,ls);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this,r,i)).type=o,s}return ne(n,[{key:"blockAt",value:function(r,i,o,s){return new Uu(s,this.length,o,this.height,this.type)}},{key:"lineAt",value:function(r,i,o,s,a){return this.blockAt(0,o,s,a)}},{key:"forEachLine",value:function(r,i,o,s,a,u){r<=a+this.length&&i>=a&&u(this.blockAt(0,o,s,a))}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>3?arguments[3]:void 0;return o&&o.from<=i&&o.more&&this.setHeight(r,o.heights[o.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(),Go=function(t){Be(n,eI);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this,r,i,Gn.Text)).collapsed=0,o.widgetHeight=0,o}return ne(n,[{key:"replace",value:function(r,i,o){var s=o[0];return o.length==1&&(s instanceof n||s instanceof el&&4&s.flags)&&Math.abs(this.length-s.length)<10?(s instanceof el?s=new n(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):ls.of(o)}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return s&&s.from<=i&&s.more?this.setHeight(r,s.heights[s.index++]):(o||this.outdated)&&this.setHeight(r,Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(),el=function(t){Be(n,ls);var e=ze(n);function n(r){return te(this,n),e.call(this,r,0)}return ne(n,[{key:"lines",value:function(r,i){var o=r.lineAt(i).number,s=r.lineAt(i+this.length).number;return{firstLine:o,lastLine:s,lineHeight:this.height/(s-o+1)}}},{key:"blockAt",value:function(r,i,o,s){var a=this.lines(i,s),u=a.firstLine,l=a.lastLine,f=a.lineHeight,c=Math.max(0,Math.min(l-u,Math.floor((r-o)/f))),d=i.line(u+c),h=d.from,p=d.length;return new Uu(h,p,o+f*c,f,Gn.Text)}},{key:"lineAt",value:function(r,i,o,s,a){if(i==Zn.ByHeight)return this.blockAt(r,o,s,a);if(i==Zn.ByPosNoHeight){var u=o.lineAt(r),l=u.from,f=u.to;return new Uu(l,f-l,0,0,Gn.Text)}var c=this.lines(o,a),d=c.firstLine,h=c.lineHeight,p=o.lineAt(r),v=p.from,m=p.length,g=p.number;return new Uu(v,m,s+h*(g-d),h,Gn.Text)}},{key:"forEachLine",value:function(r,i,o,s,a,u){for(var l=this.lines(o,a),f=l.firstLine,c=l.lineHeight,d=Math.max(r,a),h=Math.min(a+this.length,i);d<=h;){var p=o.lineAt(d);d==r&&(s+=c*(p.number-f)),u(new Uu(p.from,p.length,s,c,Gn.Text)),s+=c,d=p.to+1}}},{key:"replace",value:function(r,i,o){var s=this.length-i;if(s>0){var a=o[o.length-1];a instanceof n?o[o.length-1]=new n(a.length+s):o.push(null,new n(s-1))}if(r>0){var u=o[0];u instanceof n?o[0]=new n(r+u.length):o.unshift(new n(r-1),null)}return ls.of(o)}},{key:"decomposeLeft",value:function(r,i){i.push(new n(r-1),null)}},{key:"decomposeRight",value:function(r,i){i.push(null,new n(this.length-r-1))}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0,a=i+this.length;if(s&&s.from<=i+this.length&&s.more){var u=[],l=Math.max(i,s.from),f=-1,c=r.heightChanged;for(s.from>i&&u.push(new n(s.from-i-1).updateHeight(r,i));l<=a&&s.more;){var d=r.doc.lineAt(l).length;u.length&&u.push(null);var h=s.heights[s.index++];f==-1?f=h:Math.abs(h-f)>=.001&&(f=-2);var p=new Go(d,h);p.outdated=!1,u.push(p),l+=d+1}l<=a&&u.push(null,new n(a-l).updateHeight(r,l));var v=ls.of(u);return r.heightChanged=c||f<0||Math.abs(v.height-this.height)>=.001||Math.abs(f-this.lines(r.doc,i).lineHeight)>=.001,v}return(o||this.outdated)&&(this.setHeight(r,r.heightForGap(i,i+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(),NW=function(t){Be(n,ls);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this,r.length+i+o.length,r.height+o.height,i|(r.outdated||o.outdated?2:0))).left=r,s.right=o,s.size=r.size+o.size,s}return ne(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(r,i,o,s){var a=o+this.left.height;return r<a?this.left.blockAt(r,i,o,s):this.right.blockAt(r,i,a,s+this.left.length+this.break)}},{key:"lineAt",value:function(r,i,o,s,a){var u=s+this.left.height,l=a+this.left.length+this.break,f=i==Zn.ByHeight?r<u:r<l,c=f?this.left.lineAt(r,i,o,s,a):this.right.lineAt(r,i,o,u,l);if(this.break||(f?c.to<l:c.from>l))return c;var d=i==Zn.ByPosNoHeight?Zn.ByPosNoHeight:Zn.ByPos;return f?c.join(this.right.lineAt(l,d,o,u,l)):this.left.lineAt(l,d,o,s,a).join(c)}},{key:"forEachLine",value:function(r,i,o,s,a,u){var l=s+this.left.height,f=a+this.left.length+this.break;if(this.break)r<f&&this.left.forEachLine(r,i,o,s,a,u),i>=f&&this.right.forEachLine(r,i,o,l,f,u);else{var c=this.lineAt(f,Zn.ByPos,o,s,a);r<c.from&&this.left.forEachLine(r,c.from-1,o,s,a,u),c.to>=r&&c.from<=i&&u(c),i>c.to&&this.right.forEachLine(c.to+1,i,o,l,f,u)}}},{key:"replace",value:function(r,i,o){var s=this.left.length+this.break;if(i<s)return this.balanced(this.left.replace(r,i,o),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-s,i-s,o));var a=[];r>0&&this.decomposeLeft(r,a);var u,l=a.length,f=ce(o);try{for(f.s();!(u=f.n()).done;){var c=u.value;a.push(c)}}catch(h){f.e(h)}finally{f.f()}if(r>0&&kC(a,l-1),i<this.length){var d=a.length;this.decomposeRight(i,a),kC(a,d)}return ls.of(a)}},{key:"decomposeLeft",value:function(r,i){var o=this.left.length;if(r<=o)return this.left.decomposeLeft(r,i);i.push(this.left),this.break&&r>=++o&&i.push(null),r>o&&this.right.decomposeLeft(r-o,i)}},{key:"decomposeRight",value:function(r,i){var o=this.left.length,s=o+this.break;if(r>=s)return this.right.decomposeRight(r-s,i);r<o&&this.left.decomposeRight(r,i),this.break&&r<s&&i.push(null),i.push(this.right)}},{key:"balanced",value:function(r,i){return r.size>2*i.size||i.size>2*r.size?ls.of(this.break?[r,null,i]:[r,i]):(this.left=r,this.right=i,this.height=r.height+i.height,this.outdated=r.outdated||i.outdated,this.size=r.size+i.size,this.length=r.length+this.break+i.length,this)}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3?arguments[3]:void 0,a=this.left,u=this.right,l=i+a.length+this.break,f=null;return s&&s.from<=i+a.length&&s.more?f=a=a.updateHeight(r,i,o,s):a.updateHeight(r,i,o),s&&s.from<=l+u.length&&s.more?f=u=u.updateHeight(r,l,o,s):u.updateHeight(r,l,o),f?this.balanced(a,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}();function kC(t,e){var n,r;t[e]==null&&(n=t[e-1])instanceof el&&(r=t[e+1])instanceof el&&t.splice(e-1,3,new el(n.length+1+r.length))}var LW=function(){function t(e,n){te(this,t),this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}return ne(t,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,n){if(this.lineStart>-1){var r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Go?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Go(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}},{key:"point",value:function(e,n,r){if(e<n||r.heightRelevant){var i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);var o=n-e;r.block?this.addBlock(new eI(o,i,r.type)):(o||i>=5)&&this.addLineDeco(i,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),n=e.from,r=e.to;this.lineStart=n,this.lineEnd=r,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new Go(this.pos-n,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,n){var r=new el(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Go)return e;var n=new Go(0,-1);return this.nodes.push(n),n}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=Gn.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Gn.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,n){var r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}},{key:"finish",value:function(e){var n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||n instanceof Go||this.isCovered?(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Go(0,-1));var r,i=e,o=ce(this.nodes);try{for(o.s();!(r=o.n()).done;){var s=r.value;s instanceof Go&&s.updateHeight(this.oracle,i),i+=s?s.length:1}}catch(a){o.e(a)}finally{o.f()}return this.nodes}}],[{key:"build",value:function(e,n,r,i){var o=new t(r,e);return tr.spans(n,r,i,o,0),o.finish(r)}}]),t}();function DW(t,e,n){var r=new RW;return tr.compare(t,e,n,r,0),r.changes}var RW=function(){function t(){te(this,t),this.changes=[]}return ne(t,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&m0(e,n,this.changes,5)}}]),t}();function BW(t,e){for(var n=t.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),o=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=t.ownerDocument.body,u=t.parentNode;u&&u!=a;)if(u.nodeType==1){var l=u,f=window.getComputedStyle(l);if((l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth)&&f.overflow!="visible"){var c=l.getBoundingClientRect();r=Math.max(r,c.left),i=Math.min(i,c.right),o=Math.max(o,c.top),s=Math.min(s,c.bottom)}u=f.position=="absolute"||f.position=="fixed"?l.offsetParent:l.parentNode}else{if(u.nodeType!=11)break;u=u.host}return{left:r-n.left,right:Math.max(r,i)-n.left,top:o-(n.top+e),bottom:Math.max(o,s)-(n.top+e)}}function zW(t,e){var n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}var vm=function(){function t(e,n,r){te(this,t),this.from=e,this.to=n,this.size=r}return ne(t,[{key:"draw",value:function(e){return It.replace({widget:new FW(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,n){if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}}]),t}(),FW=function(t){Be(n,Ia);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this)).size=r,o.vertical=i,o}return ne(n,[{key:"eq",value:function(r){return r.size==this.size&&r.vertical==this.vertical}},{key:"toDOM",value:function(){var r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(),wC=function(){function t(e){te(this,t),this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new MW,this.scaler=_C,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=fr.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(ef).filter(function(n){return typeof n!="function"}),this.heightMap=ls.empty().applyChanges(this.stateDeco,Hn.empty,this.heightOracle.setDoc(e.doc),[new tf(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=It.set(this.lineGaps.map(function(n){return n.draw(!1)})),this.computeVisibleRanges()}return ne(t,[{key:"updateForViewport",value:function(){for(var e=this,n=[this.viewport],r=this.state.selection.main,i=function(s){var a=s?r.head:r.anchor;if(!n.some(function(c){var d=c.from,h=c.to;return a>=d&&a<=h})){var u=e.lineBlockAt(a),l=u.from,f=u.to;n.push(new jd(l,f))}},o=0;o<=1;o++)i(o);this.viewports=n.sort(function(s,a){return s.from-a.from}),this.scaler=this.heightMap.height<=7e6?_C:new qW(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(n){e.viewportLines.push(e.scaler.scale==1?n:cc(n,e.scaler))})}},{key:"update",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.state=e.state;var r=this.stateDeco;this.stateDeco=this.state.facet(ef).filter(function(l){return typeof l!="function"});var i=e.changedRanges,o=tf.extendWithRanges(i,DW(r,this.stateDeco,e?e.changes:Bo.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);var a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));var u=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?fr.RTL:fr.LTR;var s=this.heightOracle.mustRefreshForWrapping(o),a=s||this.mustMeasureContent||this.contentDOMHeight!=n.clientHeight;this.contentDOMHeight=n.clientHeight,this.mustMeasureContent=!1;var u=0,l=0,f=parseInt(r.paddingTop)||0,c=parseInt(r.paddingBottom)||0;this.paddingTop==f&&this.paddingBottom==c||(this.paddingTop=f,this.paddingBottom=c,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);var d=(this.printing?zW:BW)(n,this.paddingTop),h=d.top-this.pixelViewport.top,p=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;var v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(a=!0)),!this.inView)return 0;var m=n.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,u|=8),a){var g=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(g)&&(s=!0),s||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){var y=e.docView.measureTextSize(),b=y.lineHeight,k=y.charWidth;(s=i.refresh(o,b,k,m/k,g))&&(e.docView.minWidth=0,u|=8)}h>0&&p>0?l=Math.max(h,p):h<0&&p<0&&(l=Math.min(h,p)),i.heightChanged=!1;var w,C=ce(this.viewports);try{for(C.s();!(w=C.n()).done;){var _=w.value,T=_.from==this.viewport.from?g:e.docView.measureVisibleLineHeights(_);this.heightMap=this.heightMap.updateHeight(i,0,s,new IW(_.from,T))}}catch(O){C.e(O)}finally{C.f()}i.heightChanged&&(u|=2)}var j=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return j&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&u||j)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,n){var r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.state.doc,s=this.visibleTop,a=this.visibleBottom,u=new jd(i.lineAt(s-1e3*r,Zn.ByHeight,o,0,0).from,i.lineAt(a+1e3*(1-r),Zn.ByHeight,o,0,0).to);if(n){var l=n.range.head;if(l<u.from||l>u.to){var f,c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(l,Zn.ByPos,o,0,0);f=n.y=="center"?(d.top+d.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&l<u.from?d.top:d.bottom-c,u=new jd(i.lineAt(f-500,Zn.ByHeight,o,0,0).from,i.lineAt(f+c+500,Zn.ByHeight,o,0,0).to)}}return u}},{key:"mapViewport",value:function(e,n){var r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new jd(this.heightMap.lineAt(r,Zn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,Zn.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var n=e.from,r=e.to,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.inView)return!0;var o=this.heightMap.lineAt(n,Zn.ByPos,this.state.doc,0,0),s=o.top,a=this.heightMap.lineAt(r,Zn.ByPos,this.state.doc,0,0),u=a.bottom,l=this.visibleTop,f=this.visibleBottom;return(n==0||s<=l-Math.max(10,Math.min(-i,250)))&&(r==this.state.doc.length||u>=f+Math.max(10,Math.min(i,250)))&&s>l-2e3&&u<f+2e3}},{key:"mapLineGaps",value:function(e,n){if(!e.length||n.empty)return e;var r,i=[],o=ce(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.touchesRange(s.from,s.to)||i.push(new vm(n.mapPos(s.from),n.mapPos(s.to),s.size))}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"ensureLineGaps",value:function(e){var n=this,r=[];if(this.defaultTextDirection!=fr.LTR)return r;var i,o=ce(this.viewportLines);try{var s=function(){var a=i.value;if(a.length<4e3)return"continue";var u=function(b,k,w){var C=[],_=b,T=0;return tr.spans(w,b,k,{span:function(){},point:function(j,O){j>_&&(C.push({from:_,to:j}),T+=j-_),_=O}},20),_<k&&(C.push({from:_,to:k}),T+=k-_),{total:T,ranges:C}}(a.from,a.to,n.stateDeco);if(u.total<4e3)return"continue";var l=void 0,f=void 0;if(n.heightOracle.lineWrapping){var c=2e3/n.heightOracle.lineLength*n.heightOracle.lineHeight;l=_d(u,(n.visibleTop-a.top-c)/a.height),f=_d(u,(n.visibleBottom-a.top+c)/a.height)}else{var d=u.total*n.heightOracle.charWidth,h=2e3*n.heightOracle.charWidth;l=_d(u,(n.pixelViewport.left-h)/d),f=_d(u,(n.pixelViewport.right+h)/d)}var p=[];l>a.from&&p.push({from:a.from,to:l}),f<a.to&&p.push({from:f,to:a.to});var v=n.state.selection.main;v.from>=a.from&&v.from<=a.to&&jC(p,v.from-10,v.from+10),!v.empty&&v.to>=a.from&&v.to<=a.to&&jC(p,v.to-10,v.to+10);for(var m=function(){var b=y[g],k=b.from,w=b.to;w-k>1e3&&r.push(function(C,_){var T,j=ce(C);try{for(j.s();!(T=j.n()).done;){var O=T.value;if(_(O))return O}}catch(S){j.e(S)}finally{j.f()}}(e,function(C){return C.from>=a.from&&C.to<=a.to&&Math.abs(C.from-k)<1e3&&Math.abs(C.to-w)<1e3})||new vm(k,w,n.gapSize(a,k,w,u)))},g=0,y=p;g<y.length;g++)m()};for(o.s();!(i=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return r}},{key:"gapSize",value:function(e,n,r,i){var o=xC(i,r)-xC(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}},{key:"updateLineGaps",value:function(e){var n=this;vm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=It.set(e.map(function(r){return r.draw(n.heightOracle.lineWrapping)})))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var n=[];tr.spans(e,this.viewport.from,this.viewport.to,{span:function(i,o){n.push({from:i,to:o})},point:function(){}},20);var r=n.length!=this.visibleRanges.length||this.visibleRanges.some(function(i,o){return i.from!=n[o].from||i.to!=n[o].to});return this.visibleRanges=n,r?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(function(n){return n.from<=e&&n.to>=e})||cc(this.heightMap.lineAt(e,Zn.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return cc(this.heightMap.lineAt(this.scaler.fromDOM(e),Zn.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return cc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),t}(),jd=ne(function t(e,n){te(this,t),this.from=e,this.to=n});function _d(t,e){var n=t.total,r=t.ranges;if(e<=0)return r[0].from;if(e>=1)return r[r.length-1].to;for(var i=Math.floor(n*e),o=0;;o++){var s=r[o],a=s.from,u=s.to-a;if(i<=u)return a+i;i-=u}}function xC(t,e){var n,r=0,i=ce(t.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.from,a=o.to;if(e<=a){r+=e-s;break}r+=a-s}}catch(u){i.e(u)}finally{i.f()}return r/t.total}function jC(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.from<n&&i.to>e){var o=[];i.from<e&&o.push({from:i.from,to:e}),i.to>n&&o.push({from:n,to:i.to}),t.splice.apply(t,[r,1].concat(o)),r+=o.length-1}}}var _C={toDOM:function(t){return t},fromDOM:function(t){return t},scale:1},qW=function(){function t(e,n,r){te(this,t);var i=0,o=0,s=0;this.viewports=r.map(function(f){var c=f.from,d=f.to,h=n.lineAt(c,Zn.ByPos,e,0,0).top,p=n.lineAt(d,Zn.ByPos,e,0,0).bottom;return i+=p-h,{from:c,to:d,top:h,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);var a,u=ce(this.viewports);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}}catch(f){u.e(f)}finally{u.f()}}return ne(t,[{key:"toDOM",value:function(e){for(var n=0,r=0,i=0;;n++){var o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}},{key:"fromDOM",value:function(e){for(var n=0,r=0,i=0;;n++){var o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}]),t}();function cc(t,e){if(e.scale==1)return t;var n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Uu(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(function(i){return cc(i,e)}):t.type)}var Sd=Ct.define({combine:function(t){return t.join(" ")}}),_0=Ct.define({combine:function(t){return t.indexOf(!0)>-1}}),S0=wa.newName(),tI=wa.newName(),nI=wa.newName(),rI={"&light":"."+tI,"&dark":"."+nI};function C0(t,e,n){return new wa(e,{finish:function(r){return/&/.test(r)?r.replace(/&\w*/,function(i){if(i=="&")return t;if(!n||!n[i])throw new RangeError("Unsupported selector: ".concat(i));return n[i]}):t+" "+r}})}var VW=C0("."+S0,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},rI),HW={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},mm=St.ie&&St.ie_version<=11,WW=function(){function t(e,n,r){var i=this;te(this,t),this.view=e,this.onChange=n,this.onScrollChanged=r,this.active=!1,this.selectionRange=new cW,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(function(o){var s,a=ce(o);try{for(a.s();!(s=a.n()).done;){var u=s.value;i.queue.push(u)}}catch(l){a.e(l)}finally{a.f()}(St.ie&&St.ie_version<=11||St.ios&&e.composing)&&o.some(function(l){return l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length})?i.flushSoon():i.flush()}),mm&&(this.onCharData=function(o){i.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),i.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(function(){i.view.docView.lastUpdate<Date.now()-75&&i.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(function(o){i.parentCheck<0&&(i.parentCheck=setTimeout(i.listenForScroll.bind(i),1e3)),o.length>0&&o[o.length-1].intersectionRatio>0!=i.intersecting&&(i.intersecting=!i.intersecting,i.intersecting!=i.view.inView&&i.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(function(o){o.length>0&&o[o.length-1].intersectionRatio>0&&i.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}return ne(t,[{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(function(){e.resizeTimeout=-1,e.view.requestMeasure()},50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout(function(){e.view.viewState.printing=!1,e.view.requestMeasure()},500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(function(o,s){return o!=e[s]}))){this.gapIntersection.disconnect();var n,r=ce(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.gapIntersection.observe(i)}}catch(o){r.e(o)}finally{r.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(Nf)?n.root.activeElement==this.dom:o0(n.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)||((St.ie&&St.ie_version<=11||St.android&&St.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Hh(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1))}}}},{key:"readSelectionRange",value:function(){var e=this.view.root,n=Vh(e),r=St.safari&&e.nodeType==11&&function(){for(var i=document.activeElement;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}()==this.view.contentDOM&&function(i){var o=null;function s(h){h.preventDefault(),h.stopImmediatePropagation(),o=h.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",s,!0),document.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",s,!0),!o)return null;var a=o.startContainer,u=o.startOffset,l=o.endContainer,f=o.endOffset,c=i.docView.domAtPos(i.state.selection.main.anchor);if(Hh(c.node,c.offset,l,f)){var d=[l,f,a,u];a=d[0],u=d[1],l=d[2],f=d[3]}return{anchorNode:a,anchorOffset:u,focusNode:l,focusOffset:f}}(this.view)||n;return!this.selectionRange.eq(r)&&(this.selectionRange.setRange(r),this.selectionChanged=!0)}},{key:"setSelectionRange",value:function(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,n=null,r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){var i,o=ce(this.scrollTargets);try{for(o.s();!(i=o.n()).done;)i.value.removeEventListener("scroll",this.onScroll)}catch(u){o.e(u)}finally{o.f()}var s,a=ce(this.scrollTargets=n);try{for(a.s();!(s=a.n()).done;)s.value.addEventListener("scroll",this.onScroll)}catch(u){a.e(u)}finally{a.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,HW),mm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),mm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,n){var r=this;this.delayedAndroidKey||requestAnimationFrame(function(){var i=r.delayedAndroidKey;r.delayedAndroidKey=null,r.delayedFlush=-1,r.flush()||Ac(r.view.contentDOM,i.key,i.keyCode)}),this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:n})}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(function(){e.delayedFlush=-1,e.flush()},20))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"processRecords",value:function(){var e,n=this.queue,r=ce(this.observer.takeRecords());try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push(i)}}catch(d){r.e(d)}finally{r.f()}n.length&&(this.queue=[]);var o,s=-1,a=-1,u=!1,l=ce(n);try{for(l.s();!(o=l.n()).done;){var f=o.value,c=this.readMutation(f);c&&(c.typeOver&&(u=!0),s==-1?(s=c.from,a=c.to):(s=Math.min(c.from,s),a=Math.max(c.to,a)))}}catch(d){l.e(d)}finally{l.f()}return{from:s,to:a,typeOver:u}}},{key:"flush",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!(this.delayedFlush>=0||this.delayedAndroidKey)){e&&this.readSelectionRange();var n=this.processRecords(),r=n.from,i=n.to,o=n.typeOver,s=this.selectionChanged&&o0(this.dom,this.selectionRange);if(!(r<0)||s){this.selectionChanged=!1;var a=this.view.state,u=this.onChange(r,i,o);return this.view.state==a&&this.view.update([]),u}}}},{key:"readMutation",value:function(e){var n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){var r=SC(n,e.previousSibling||e.target.previousSibling,-1),i=SC(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"destroy",value:function(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resize)===null||r===void 0||r.disconnect();var i,o=ce(this.scrollTargets);try{for(o.s();!(i=o.n()).done;)i.value.removeEventListener("scroll",this.onScroll)}catch(s){o.e(s)}finally{o.f()}window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}]),t}();function SC(t,e,n){for(;e;){var r=kr.get(e);if(r&&r.parent==t)return r;var i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function UW(t,e,n,r){var i,o,s=t.state.selection.main;if(e>-1){var a=t.docView.domBoundsAround(e,n,0);if(!a||t.state.readOnly)return!1;var u=a.from,l=a.to,f=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(L){var D=[];if(L.root.activeElement!=L.contentDOM)return D;var U=L.observer.selectionRange,W=U.anchorNode,F=U.anchorOffset,E=U.focusNode,x=U.focusOffset;return W&&(D.push(new XS(W,F)),E==W&&x==F||D.push(new XS(E,x))),D}(t),c=new JM(f,t.state);c.readRange(a.startDOM,a.endDOM);var d=s.from,h=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||St.android&&c.text.length<l-u)&&(d=s.to,h="end");var p=function(L,D,U,W){for(var F=Math.min(L.length,D.length),E=0;E<F&&L.charCodeAt(E)==D.charCodeAt(E);)E++;if(E==F&&L.length==D.length)return null;for(var x=L.length,M=D.length;x>0&&M>0&&L.charCodeAt(x-1)==D.charCodeAt(M-1);)x--,M--;return W=="end"&&(U-=x+Math.max(0,E-Math.min(x,M))-E),x<E&&L.length<D.length?(M=(E-=U<=E&&U>=x?E-U:0)+(M-x),x=E):M<E&&(x=(E-=U<=E&&U>=M?E-U:0)+(x-M),M=E),{from:E,toA:x,toB:M}}(t.state.doc.sliceString(u,l,"\uFFFF"),c.text,d-u,h);p&&(St.chrome&&t.inputState.lastKeyCode==13&&p.toB==p.from+2&&c.text.slice(p.from,p.toB)=="\uFFFF\uFFFF"&&p.toB--,i={from:u+p.from,to:u+p.toA,insert:Hn.of(c.text.slice(p.from,p.toB).split("\uFFFF"))}),o=function(L,D){if(L.length==0)return null;var U=L[0].pos,W=L.length==2?L[1].pos:U;return U>-1&&W>-1?Xe.single(U+D,W+D):null}(f,u)}else if(t.hasFocus||!t.state.facet(Nf)){var v=t.observer.selectionRange,m=t.docView,g=m.impreciseHead,y=m.impreciseAnchor,b=g&&g.node==v.focusNode&&g.offset==v.focusOffset||!hl(t.contentDOM,v.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(v.focusNode,v.focusOffset),k=y&&y.node==v.anchorNode&&y.offset==v.anchorOffset||!hl(t.contentDOM,v.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(v.anchorNode,v.anchorOffset);b==s.head&&k==s.anchor||(o=Xe.single(k,b))}if(!i&&!o)return!1;if(!i&&r&&!s.empty&&o&&o.main.empty?i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4?i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,s.to))}:(St.mac||St.android)&&i&&i.from==i.to&&i.from==s.head-1&&i.insert.toString()=="."&&(i={from:s.from,to:s.to,insert:Hn.of([" "])}),i){var w=t.state;if(St.ios&&t.inputState.flushIOSKey(t)||St.android&&(i.from==s.from&&i.to==s.to&&i.insert.length==1&&i.insert.lines==2&&Ac(t.contentDOM,"Enter",13)||i.from==s.from-1&&i.to==s.to&&i.insert.length==0&&Ac(t.contentDOM,"Backspace",8)||i.from==s.from&&i.to==s.to+1&&i.insert.length==0&&Ac(t.contentDOM,"Delete",46)))return!0;var C,_=i.insert.toString();if(t.state.facet(zM).some(function(L){return L(t,i.from,i.to,_)}))return!0;if(t.inputState.composing>=0&&t.inputState.composing++,i.from>=s.from&&i.to<=s.to&&i.to-i.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==i.from+i.insert.length)&&t.inputState.composing<0){var T=s.from<i.from?w.sliceDoc(s.from,i.from):"",j=s.to>i.to?w.sliceDoc(i.to,s.to):"";C=w.replaceSelection(t.state.toText(T+i.insert.sliceString(0,void 0,t.state.lineBreak)+j))}else{var O=w.changes(i),S=o&&!w.selection.main.eq(o.main)&&o.main.to<=O.newLength?o.main:void 0;if(w.selection.ranges.length>1&&t.inputState.composing>=0&&i.to<=s.to&&i.to>=s.to-10){var N=t.state.sliceDoc(i.from,i.to),A=KM(t)||t.state.doc.lineAt(s.head),$=s.to-i.to,q=s.to-s.from;C=w.changeByRange(function(L){if(L.from==s.from&&L.to==s.to)return{changes:O,range:S||L.map(O)};var D=L.to-$,U=D-N.length;if(L.to-L.from!=q||t.state.sliceDoc(U,D)!=N||A&&L.to>=A.from&&L.from<=A.to)return{range:L};var W=w.changes({from:U,to:D,insert:i.insert}),F=L.to-s.to;return{changes:W,range:S?Xe.range(Math.max(0,S.anchor+F),Math.max(0,S.head+F)):L.map(W)}})}else C={changes:O,selection:S&&w.selection.replaceRange(S)}}var Y="input.type";return t.composing&&(Y+=".compose",t.inputState.compositionFirstChange&&(Y+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(C,{scrollIntoView:!0,userEvent:Y}),!0}if(o&&!o.main.eq(s)){var z=!1,J="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(z=!0),J=t.inputState.lastSelectionOrigin),t.dispatch({selection:o,scrollIntoView:z,userEvent:J}),!0}return!1}var Ot=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,t),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(s){return e.update([s])},this.dispatch=this.dispatch.bind(this),this.root=n.root||fW(n.parent)||document,this.viewState=new wC(n.state||er.create(n)),this.plugins=this.state.facet(uc).map(function(s){return new fm(s)});var r,i=ce(this.plugins);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.update(this)}}catch(s){i.e(s)}finally{i.f()}this.observer=new WW(this,function(s,a,u){return UW(e,s,a,u)},function(s){e.inputState.runScrollHandlers(e,s),e.observer.intersecting&&e.measure()}),this.inputState=new OW(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new ZS(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return ne(t,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"dispatch",value:function(){var e;this._dispatch(arguments.length==1&&(arguments.length<=0?void 0:arguments[0])instanceof bi?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var n,r,i=!1,o=!1,s=this.state,a=ce(e);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(u.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=u.state}}catch(b){a.e(b)}finally{a.f()}if(this.destroyed)this.viewState.state=s;else{if(this.observer.clear(),s.facet(er.phrases)!=this.state.facet(er.phrases))return this.setState(s);n=HS.create(this,s,e);var l=this.viewState.scrollTarget;try{this.updateState=2;var f,c=ce(e);try{for(c.s();!(f=c.n()).done;){var d=f.value;if(l&&(l=l.map(d.changes)),d.scrollIntoView){var h=d.state.selection.main;l=new qS(h.empty?h:Xe.cursor(h.head,h.head>h.anchor?-1:1))}var p,v=ce(d.effects);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.is(VS)&&(l=m.value)}}catch(b){v.e(b)}finally{v.f()}}}catch(b){c.e(b)}finally{c.f()}this.viewState.update(n,l),this.bidiCache=$C.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),i=this.docView.update(n),this.state.facet(lc)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(function(b){return b.isUserEvent("select.pointer")}))}finally{this.updateState=0}if(n.startState.facet(Sd)!=n.state.facet(Sd)&&(this.viewState.mustMeasureContent=!0),(i||o||l||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty){var g,y=ce(this.state.facet(y0));try{for(y.s();!(g=y.n()).done;)(0,g.value)(n)}catch(b){y.e(b)}finally{y.f()}}}}},{key:"setState",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var n=this.hasFocus;try{var r,i=ce(this.plugins);try{for(i.s();!(r=i.n()).done;)r.value.destroy(this)}catch(a){i.e(a)}finally{i.f()}this.viewState=new wC(e),this.plugins=e.facet(uc).map(function(a){return new fm(a)}),this.pluginMap.clear();var o,s=ce(this.plugins);try{for(s.s();!(o=s.n()).done;)o.value.update(this)}catch(a){s.e(a)}finally{s.f()}this.docView=new ZS(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var n=e.startState.facet(uc),r=e.state.facet(uc);if(n!=r){var i,o=[],s=ce(r);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=n.indexOf(a);if(u<0)o.push(new fm(a));else{var l=this.plugins[u];l.mustUpdate=e,o.push(l)}}}catch(m){s.e(m)}finally{s.f()}var f,c=ce(this.plugins);try{for(c.s();!(f=c.n()).done;){var d=f.value;d.mustUpdate!=e&&d.destroy(this)}}catch(m){c.e(m)}finally{c.f()}this.plugins=o,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else{var h,p=ce(this.plugins);try{for(p.s();!(h=p.n()).done;)h.value.mustUpdate=e}catch(m){p.e(m)}finally{p.f()}}for(var v=0;v<this.plugins.length;v++)this.plugins[v].update(this)}},{key:"measure",value:function(){var e=this,n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,n&&this.observer.flush();var r=null;try{for(var i=0;;i++){this.updateState=1;var o=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var a=[];if(!(4&s)){var u=[a,this.measureRequests];this.measureRequests=u[0],a=u[1]}var l=a.map(function(y){try{return y.read(e)}catch(b){return qi(e.state,b),CC}}),f=HS.create(this,this.state,[]),c=!1,d=!1;f.flags|=s,r?r.flags|=s:r=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),c=this.docView.update(f));for(var h=0;h<a.length;h++)if(l[h]!=CC)try{var p=a[h];p.write&&p.write(l[h],this)}catch(y){qi(this.state,y)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,d=!0),c&&this.docView.updateSelection(!0),this.viewport.from==o.from&&this.viewport.to==o.to&&!d&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty){var v,m=ce(this.state.facet(y0));try{for(m.s();!(v=m.n()).done;){var g=v.value;g(r)}}catch(y){m.e(y)}finally{m.f()}}}}},{key:"themeClasses",get:function(){return S0+" "+(this.state.facet(_0)?nI:tI)+" "+this.state.facet(Sd)}},{key:"updateAttrs",value:function(){var e=this,n=AC(this,qM,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Nf)?"true":"false",class:"cm-content",style:"".concat(St.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),AC(this,VM,r);var i=this.observer.ignore(function(){var o=p0(e.contentDOM,e.contentAttrs,r),s=p0(e.dom,e.editorAttrs,n);return o||s});return this.editorAttrs=n,this.contentAttrs=r,i}},{key:"showAnnouncements",value:function(e){var n,r=!0,i=ce(e);try{for(i.s();!(n=i.n()).done;){var o,s=ce(n.value.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.is(t.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=a.value)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(lc),wa.mount(this.root,this.styleModules.concat(VW).reverse())}},{key:"readMeasured",value:function(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var n=this;if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(function(){return n.measure()})),e){if(e.key!=null){for(var r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key)return void(this.measureRequests[r]=e)}this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(function(r){return r.spec==e})||null),n&&n.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,n,r){return pm(this,e,sC(this,e,n,r))}},{key:"moveByGroup",value:function(e,n){var r=this;return pm(this,e,sC(this,e,n,function(i){return function(o,s,a){var u=o.state.charCategorizer(s),l=u(a);return function(f){var c=u(f);return l==di.Space&&(l=c),l==c}}(r,e.head,i)}))}},{key:"moveToLineBoundary",value:function(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return AW(this,e,n,r)}},{key:"moveVertically",value:function(e,n,r){return pm(this,e,function(i,o,s,a){var u=o.head,l=s?1:-1;if(u==(s?i.state.doc.length:0))return Xe.cursor(u,o.assoc);var f,c=o.goalColumn,d=i.contentDOM.getBoundingClientRect(),h=i.coordsAtPos(u),p=i.documentTop;if(h)c==null&&(c=h.left-d.left),f=l<0?h.top:h.bottom;else{var v=i.viewState.lineBlockAt(u);c==null&&(c=Math.min(d.right-d.left,i.defaultCharacterWidth*(u-v.from))),f=(l<0?v.top:v.bottom)+p}for(var m=d.left+c,g=a!=null?a:i.defaultLineHeight>>1,y=0;;y+=10){var b=f+(g+y)*l,k=iC(i,{x:m,y:b},!1,l);if(b<d.top||b>d.bottom||(l<0?k<u:k>u))return Xe.cursor(k,o.assoc,void 0,c)}}(this,e,n,r))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.posFromDOM(e,n)}},{key:"posAtCoords",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.readMeasured(),iC(this,e,n)}},{key:"coordsAtPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.readMeasured();var r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;var i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Wu.find(o,e-i.from,-1,n)];return kv(r,s.dir==fr.LTR==n>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(FM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>JW)return QS(e.length);var n,r=this.textDirectionAt(e.from),i=ce(this.bidiCache);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.from==e.from&&o.dir==r)return o.order}}catch(a){i.e(a)}finally{i.f()}var s=function(a,u){var l=a.length,f=u==b0?1:2,c=u==b0?2:1;if(!a||f==1&&!yW.test(a))return QS(l);for(var d=0,h=f,p=f;d<l;d++){var v=gW(a.charCodeAt(d));v==512?v=h:v==8&&p==4&&(v=16),lr[d]=v==4?2:v,7&v&&(p=v),h=v}for(var m=0,g=f,y=f;m<l;m++){var b=lr[m];if(b==128)m<l-1&&g==lr[m+1]&&24&g?b=lr[m]=g:lr[m]=256;else if(b==64){for(var k=m+1;k<l&&lr[k]==64;)k++;for(var w=m&&g==8||k<l&&lr[k]==8?y==1?1:8:256,C=m;C<k;C++)lr[C]=w;m=k-1}else b==8&&y==1&&(lr[m]=1);g=b,7&b&&(y=b)}for(var _,T,j,O=0,S=0,N=0;O<l;O++)if(T=k0[_=a.charCodeAt(O)])if(T<0){for(var A=S-3;A>=0;A-=3)if(Vo[A+1]==-T){var $=Vo[A+2],q=2&$?f:4&$?1&$?c:f:0;q&&(lr[O]=lr[Vo[A]]=q),S=A;break}}else{if(Vo.length==189)break;Vo[S++]=O,Vo[S++]=_,Vo[S++]=N}else if((j=lr[O])==2||j==1){var Y=j==f;N=Y?0:1;for(var z=S-3;z>=0;z-=3){var J=Vo[z+2];if(2&J)break;if(Y)Vo[z+2]|=2;else{if(4&J)break;Vo[z+2]|=4}}}for(var L=0;L<l;L++)if(lr[L]==256){for(var D=L+1;D<l&&lr[D]==256;)D++;for(var U=(L?lr[L-1]:f)==1,W=U==((D<l?lr[D]:f)==1)?U?1:2:f,F=L;F<D;F++)lr[F]=W;L=D-1}var E=[];if(f==1)for(var x=0;x<l;){for(var M=x,K=lr[x++]!=1;x<l&&K==(lr[x]!=1);)x++;if(K)for(var se=x;se>M;){for(var we=se,je=lr[--se]!=2;se>M&&je==(lr[se-1]!=2);)se--;E.push(new Wu(se,we,je?2:1))}else E.push(new Wu(M,x,0))}else for(var R=0;R<l;){for(var H=R,I=lr[R++]==2;R<l&&I==(lr[R]==2);)R++;E.push(new Wu(H,R,I?1:2))}return E}(e.text,r);return this.bidiCache.push(new $C(e.from,e.to,r,s)),s}},{key:"hasFocus",get:function(){var e;return(document.hasFocus()||St.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore(function(){xM(e.contentDOM),e.docView.updateSelection()})}},{key:"destroy",value:function(){var e,n=ce(this.plugins);try{for(n.s();!(e=n.n()).done;)e.value.destroy(this)}catch(r){n.e(r)}finally{n.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return VS.of(new qS(typeof e=="number"?Xe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}},{key:"domEventHandlers",value:function(e){return Wr.define(function(){return{}},{eventHandlers:e})}},{key:"theme",value:function(e,n){var r=wa.newName(),i=[Sd.of(r),lc.of(C0(".".concat(r),e))];return n&&n.dark&&i.push(_0.of(!0)),i}},{key:"baseTheme",value:function(e){return Mf.lowest(lc.of(C0("."+S0,e,rI)))}},{key:"findFromDOM",value:function(e){var n,r=e.querySelector(".cm-content"),i=r&&kr.get(r)||kr.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}]),t}();Ot.styleModule=lc,Ot.inputHandler=zM,Ot.perLineTextDirection=FM,Ot.exceptionSink=BM,Ot.updateListener=y0,Ot.editable=Nf,Ot.mouseSelectionStyle=RM,Ot.dragMovesSelection=DM,Ot.clickAddsSelectionRange=LM,Ot.decorations=ef,Ot.atomicRanges=HM,Ot.scrollMargins=WM,Ot.darkTheme=_0,Ot.contentAttributes=VM,Ot.editorAttributes=qM,Ot.lineWrapping=Ot.contentAttributes.of({class:"cm-lineWrapping"}),Ot.announce=ln.define();var JW=4096,CC={},$C=function(){function t(e,n,r,i){te(this,t),this.from=e,this.to=n,this.dir=r,this.order=i}return ne(t,null,[{key:"update",value:function(e,n){if(n.empty)return e;for(var r=[],i=e.length?e[e.length-1].dir:fr.LTR,o=Math.max(0,e.length-10);o<e.length;o++){var s=e[o];s.dir!=i||n.touchesRange(s.from,s.to)||r.push(new t(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}]),t}();function AC(t,e,n){for(var r=t.state.facet(e),i=r.length-1;i>=0;i--){var o=r[i],s=typeof o=="function"?o(t):o;s&&h0(s,n)}return n}var KW=St.mac?"mac":St.windows?"win":St.linux?"linux":"key";function GW(t,e){var n,r,i,o,s=t.split(/-(?!$)/),a=s[s.length-1];a=="Space"&&(a=" ");for(var u=0;u<s.length-1;++u){var l=s[u];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);e=="mac"?o=!0:r=!0}}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function gm(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}var QW=Ot.domEventHandlers({keydown:function(t,e){return oI(iI(e.state),t,e,"editor")}}),xv=Ct.define({enables:QW}),OC=new WeakMap;function iI(t){var e=t.facet(xv),n=OC.get(e);return n||OC.set(e,n=function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KW,s=Object.create(null),a=Object.create(null),u=function(m,g){var y=a[m];if(y==null)a[m]=g;else if(y!=g)throw new Error("Key binding "+m+" is used both as a regular binding and as a multi-stroke prefix")},l=function(m,g,y,b){for(var k=s[m]||(s[m]=Object.create(null)),w=g.split(/ (?!$)/).map(function(O){return GW(O,o)}),C=function(O){var S=w.slice(0,O).join(" ");u(S,!0),k[S]||(k[S]={preventDefault:!0,commands:[function(N){var A=ia={view:N,prefix:S,scope:m};return setTimeout(function(){ia==A&&(ia=null)},4e3),!0}]})},_=1;_<w.length;_++)C(_);var T=w.join(" ");u(T,!1);var j=k[T]||(k[T]={preventDefault:!1,commands:[]});j.commands.push(y),b&&(j.preventDefault=!0)},f=ce(r);try{for(f.s();!(i=f.n()).done;){var c=i.value,d=c[o]||c.key;if(d){var h,p=ce(c.scope?c.scope.split(" "):["editor"]);try{for(p.s();!(h=p.n()).done;){var v=h.value;l(v,d,c.run,c.preventDefault),c.shift&&l(v,"Shift-"+d,c.shift,c.preventDefault)}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){f.e(m)}finally{f.f()}return s}(e.reduce(function(r,i){return r.concat(i)},[]))),n}var ia=null;function oI(t,e,n,r){var i=function(c){var d=!(uW&&(c.ctrlKey||c.altKey||c.metaKey)||(oW||aW)&&c.shiftKey&&c.key&&c.key.length==1)&&c.key||(c.shiftKey?qh:xa)[c.keyCode]||c.key||"Unidentified";return d=="Esc"&&(d="Escape"),d=="Del"&&(d="Delete"),d=="Left"&&(d="ArrowLeft"),d=="Up"&&(d="ArrowUp"),d=="Right"&&(d="ArrowRight"),d=="Down"&&(d="ArrowDown"),d}(e),o=i.length==1&&i!=" ",s="",a=!1;ia&&ia.view==n&&ia.scope==r&&(s=ia.prefix+" ",(a=YM.indexOf(e.keyCode)<0)&&(ia=null));var u,l=function(c){if(c){var d,h=ce(c.commands);try{for(h.s();!(d=h.n()).done;)if((0,d.value)(n))return!0}catch(p){h.e(p)}finally{h.f()}c.preventDefault&&(a=!0)}return!1},f=t[r];if(f){if(l(f[s+gm(i,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(u=xa[e.keyCode])&&u!=i){if(l(f[s+gm(u,e,!0)]))return!0}else if(o&&e.shiftKey&&l(f[s+gm(i,e,!0)]))return!0}return a}var sI=!St.ios,fc=Ct.define({combine:function(t){return ys(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,n){return Math.min(e,n)},drawRangeCursor:function(e,n){return e||n}})}});function YW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[fc.of(t),XW,ZW]}var aI=function(){function t(e,n,r,i,o){te(this,t),this.left=e,this.top=n,this.width=r,this.height=i,this.className=o}return ne(t,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}]),t}(),XW=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}return ne(t,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(fc).cursorBlinkRate+"ms"}},{key:"update",value:function(e){var n=e.startState.facet(fc)!=e.state.facet(fc);(n||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some(function(r){return r.scrollIntoView})&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),n&&this.setBlinkRate()}},{key:"readPos",value:function(){var e,n=this,r=this.view.state,i=r.facet(fc),o=r.selection.ranges.map(function(c){return c.empty?[]:function(d,h){if(h.to<=d.viewport.from||h.from>=d.viewport.to)return[];var p=Math.max(h.from,d.viewport.from),v=Math.min(h.to,d.viewport.to),m=d.textDirection==fr.LTR,g=d.contentDOM,y=g.getBoundingClientRect(),b=lI(d),k=window.getComputedStyle(g.firstChild),w=y.left+parseInt(k.paddingLeft)+Math.min(0,parseInt(k.textIndent)),C=y.right-parseInt(k.paddingRight),_=TC(d,p),T=TC(d,v),j=_.type==Gn.Text?_:null,O=T.type==Gn.Text?T:null;if(d.lineWrapping&&(j&&(j=EC(d,p,j)),O&&(O=EC(d,v,O))),j&&O&&j.from==O.from)return q(Y(h.from,h.to,j));var S=j?Y(h.from,null,j):z(_,!1),N=O?Y(null,h.to,O):z(T,!0),A=[];return(j||_).to<(O||T).from-1?A.push($(w,S.bottom,C,N.top)):S.bottom<N.top&&d.elementAtHeight((S.bottom+N.top)/2).type==Gn.Text&&(S.bottom=N.top=(S.bottom+N.top)/2),q(S).concat(A).concat(q(N));function $(J,L,D,U){return new aI(J-b.left,L-b.top-.01,D-J,U-L+.01,"cm-selectionBackground")}function q(J){for(var L=J.top,D=J.bottom,U=J.horizontal,W=[],F=0;F<U.length;F+=2)W.push($(U[F],L,U[F+1],D));return W}function Y(J,L,D){var U=1e9,W=-1e9,F=[];function E(V,_e,Se,xe,he){var fe=d.coordsAtPos(V,V==D.to?-2:2),ke=d.coordsAtPos(Se,Se==D.from?2:-2);U=Math.min(fe.top,ke.top,U),W=Math.max(fe.bottom,ke.bottom,W),he==fr.LTR?F.push(m&&_e?w:fe.left,m&&xe?C:ke.right):F.push(!m&&xe?w:ke.left,!m&&_e?C:fe.right)}var x,M=J!=null?J:D.from,K=L!=null?L:D.to,se=ce(d.visibleRanges);try{for(se.s();!(x=se.n()).done;){var we=x.value;if(we.to>M&&we.from<K)for(var je=Math.max(we.from,M),R=Math.min(we.to,K);;){var H,I=d.state.doc.lineAt(je),B=ce(d.bidiSpans(I));try{for(B.s();!(H=B.n()).done;){var Z=H.value,le=Z.from+I.from,X=Z.to+I.from;if(le>=R)break;X>je&&E(Math.max(le,je),J==null&&le<=M,Math.min(X,R),L==null&&X>=K,Z.dir)}}catch(V){B.e(V)}finally{B.f()}if((je=I.to+1)>=R)break}}}catch(V){se.e(V)}finally{se.f()}return F.length==0&&E(M,J==null,K,L==null,d.textDirection),{top:U,bottom:W,horizontal:F}}function z(J,L){var D=y.top+(L?J.top:J.bottom);return{top:D,bottom:D,horizontal:[]}}}(n.view,c)}).reduce(function(c,d){return c.concat(d)}),s=[],a=ce(r.selection.ranges);try{for(a.s();!(e=a.n()).done;){var u=e.value,l=u==r.selection.main;if(u.empty?!l||sI:i.drawRangeCursor){var f=eU(this.view,u,l);f&&s.push(f)}}}catch(c){a.e(c)}finally{a.f()}return{rangePieces:o,cursors:s}}},{key:"drawSel",value:function(e){var n=this,r=e.rangePieces,i=e.cursors;if(r.length!=this.rangePieces.length||r.some(function(d,h){return!d.eq(n.rangePieces[h])})){this.selectionLayer.textContent="";var o,s=ce(r);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.selectionLayer.appendChild(a.draw())}}catch(d){s.e(d)}finally{s.f()}this.rangePieces=r}if(i.length!=this.cursors.length||i.some(function(d,h){return!d.eq(n.cursors[h])})){var u=this.cursorLayer.children;if(u.length!==i.length){this.cursorLayer.textContent="";var l,f=ce(i);try{for(f.s();!(l=f.n()).done;){var c=l.value;this.cursorLayer.appendChild(c.draw())}}catch(d){f.e(d)}finally{f.f()}}else i.forEach(function(d,h){return d.adjust(u[h])});this.cursors=i}}},{key:"destroy",value:function(){this.selectionLayer.remove(),this.cursorLayer.remove()}}]),t}()),uI={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};sI&&(uI[".cm-line"].caretColor="transparent !important");var ZW=Mf.highest(Ot.theme(uI));function lI(t){var e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==fr.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function EC(t,e,n){var r=Xe.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:Gn.Text}}function TC(t,e){var n=t.lineBlockAt(e);if(Array.isArray(n.type)){var r,i=ce(n.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>e||o.to==e&&(o.to==n.to||o.type==Gn.Text))return o}}catch(s){i.e(s)}finally{i.f()}}return n}function eU(t,e,n){var r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;var i=lI(t);return new aI(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}var cI=ln.define({map:function(t,e){return t==null?null:e.mapPos(t)}}),dc=Vr.define({create:function(){return null},update:function(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce(function(n,r){return r.is(cI)?r.value:n},t)}}),tU=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return ne(t,[{key:"update",value:function(e){var n,r=e.state.field(dc);r==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(dc)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(dc),n=e!=null&&this.view.coordsAtPos(e);if(!n)return null;var r=this.view.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+this.view.scrollDOM.scrollLeft,top:n.top-r.top+this.view.scrollDOM.scrollTop,height:n.bottom-n.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(dc)!=e&&this.view.dispatch({effects:cI.of(e)})}}]),t}(),{eventHandlers:{dragover:function(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave:function(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function nU(){return[dc,tU]}function PC(t,e,n,r,i){e.lastIndex=0;for(var o,s=t.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(a+o.index,a+o.index+o[0].length,o)}var rU=function(){function t(e){te(this,t);var n=e.regexp,r=e.decoration,i=e.boundary,o=e.maxLength,s=o===void 0?1e3:o;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=n,this.getDeco=typeof r=="function"?r:function(){return r},this.boundary=i,this.maxLength=s}return ne(t,[{key:"createDeco",value:function(e){var n,r=this,i=new dl,o=ce(function(l,f){var c=l.visibleRanges;if(c.length==1&&c[0].from==l.viewport.from&&c[0].to==l.viewport.to)return c;var d,h=[],p=ce(c);try{for(p.s();!(d=p.n()).done;){var v=d.value,m=v.from,g=v.to;m=Math.max(l.state.doc.lineAt(m).from,m-f),g=Math.min(l.state.doc.lineAt(g).to,g+f),h.length&&h[h.length-1].to>=m?h[h.length-1].to=g:h.push({from:m,to:g})}}catch(y){p.e(y)}finally{p.f()}return h}(e,this.maxLength));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s.from,u=s.to;PC(e.state.doc,this.regexp,a,u,function(l,f,c){return i.add(l,f,r.getDeco(c,e,l))})}}catch(l){o.e(l)}finally{o.f()}return i.finish()}},{key:"updateDeco",value:function(e,n){var r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(function(o,s,a,u){u>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(u,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}},{key:"updateRange",value:function(e,n,r,i){var o,s=this,a=ce(e.visibleRanges);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=Math.max(u.from,r),f=Math.min(u.to,i);f>l&&function(){var c=e.state.doc.lineAt(l),d=c.to<f?e.state.doc.lineAt(f):c,h=Math.max(u.from,c.from),p=Math.min(u.to,d.to);if(s.boundary){for(;l>c.from;l--)if(s.boundary.test(c.text[l-1-c.from])){h=l;break}for(;f<d.to;f++)if(s.boundary.test(d.text[f-d.from])){p=f;break}}var v=[],m=void 0;if(c==d)for(s.regexp.lastIndex=h-c.from;(m=s.regexp.exec(c.text))&&m.index<p-c.from;){var g=m.index+c.from;v.push(s.getDeco(m,e,g).range(g,g+m[0].length))}else PC(e.state.doc,s.regexp,h,p,function(y,b,k){return v.push(s.getDeco(k,e,y).range(y,b))});n=n.update({filterFrom:h,filterTo:p,filter:function(y,b){return y<h||b>p},add:v})}()}}catch(c){a.e(c)}finally{a.f()}return n}}]),t}(),$0=/x/.unicode!=null?"gu":"g",iU=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\uFEFF\uFFF9-\uFFFC]`,$0),oU={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},ym=null,nh=Ct.define({combine:function(t){var e=ys(t,{render:null,specialChars:iU,addSpecialChars:null});return(e.replaceTabs=!function(){var n;if(ym==null&&typeof document<"u"&&document.body){var r=document.body.style;ym=((n=r.tabSize)!==null&&n!==void 0?n:r.MozTabSize)!=null}return ym||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,$0)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$0)),e}});function sU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[nh.of(t),aU()]}var MC=null;function aU(){return MC||(MC=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.decorations=It.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(nh)),this.decorations=this.decorator.createDeco(e)}return ne(t,[{key:"makeDecorator",value:function(e){var n=this;return new rU({regexp:e.specialChars,decoration:function(r,i,o){var s=i.state.doc,a=Kr(r[0],0);if(a==9){var u=s.lineAt(o),l=i.state.tabSize,f=If(u.text,l,o-u.from);return It.replace({widget:new lU((l-f%l)*n.view.defaultCharacterWidth)})}return n.decorationCache[a]||(n.decorationCache[a]=It.replace({widget:new uU(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var n=e.state.facet(nh);e.startState.facet(nh)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),t}(),{decorations:function(t){return t.decorations}}))}var uU=function(t){Be(n,Ia);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this)).options=r,o.code=i,o}return ne(n,[{key:"eq",value:function(r){return r.code==this.code}},{key:"toDOM",value:function(r){var i=function(u){return u>=32?"\u2022":u==10?"\u2424":String.fromCharCode(9216+u)}(this.code),o=r.state.phrase("Control character")+" "+(oU[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,o,i);if(s)return s;var a=document.createElement("span");return a.textContent=i,a.title=o,a.setAttribute("aria-label",o),a.className="cm-specialChar",a}},{key:"ignoreEvent",value:function(){return!1}}]),n}(),lU=function(t){Be(n,Ia);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).width=r,i}return ne(n,[{key:"eq",value:function(r){return r.width==this.width}},{key:"toDOM",value:function(){var r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}},{key:"ignoreEvent",value:function(){return!1}}]),n}();function cU(){return dU}var fU=It.line({class:"cm-activeLine"}),dU=Wr.fromClass(function(){function t(e){te(this,t),this.decorations=this.getDeco(e)}return ne(t,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n,r=-1,i=[],o=ce(e.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!s.empty)return It.none;var a=e.lineBlockAt(s.head);a.from>r&&(i.push(fU.range(a.from)),r=a.from)}}catch(u){o.e(u)}finally{o.f()}return It.set(i)}}]),t}(),{decorations:function(t){return t.decorations}});function IC(t,e){var n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>2e3?-1:i==r.length?function(s,a){var u=s.coordsAtPos(s.viewport.from);return u?Math.round(Math.abs((u.left-a)/s.defaultCharacterWidth)):-1}(t,e.clientX):If(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function hU(t,e){var n=IC(t,e),r=t.state.selection;return n?{update:function(i){if(i.docChanged){var o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get:function(i,o,s){var a=IC(t,i);if(!a)return r;var u=function(l,f,c){var d=Math.min(f.line,c.line),h=Math.max(f.line,c.line),p=[];if(f.off>2e3||c.off>2e3||f.col<0||c.col<0)for(var v=Math.min(f.off,c.off),m=Math.max(f.off,c.off),g=d;g<=h;g++){var y=l.doc.line(g);y.length<=m&&p.push(Xe.range(y.from+v,y.to+m))}else for(var b=Math.min(f.col,c.col),k=Math.max(f.col,c.col),w=d;w<=h;w++){var C=l.doc.line(w),_=i0(C.text,b,l.tabSize,!0);if(_>-1){var T=i0(C.text,k,l.tabSize);p.push(Xe.range(C.from+_,C.from+T))}}return p}(t.state,n,a);return u.length?s?Xe.create(u.concat(r.ranges)):Xe.create(u):r}}:null}function pU(t){var e=(t==null?void 0:t.eventFilter)||function(n){return n.altKey&&n.button==0};return Ot.mouseSelectionStyle.of(function(n,r){return e(r)?hU(n,r):null})}var vU={Alt:[18,function(t){return t.altKey}],Control:[17,function(t){return t.ctrlKey}],Shift:[16,function(t){return t.shiftKey}],Meta:[91,function(t){return t.metaKey}]},mU={style:"cursor: crosshair"};function gU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Et(vU[t.key||"Alt"],2),n=e[0],r=e[1],i=Wr.fromClass(function(){function o(s){te(this,o),this.view=s,this.isDown=!1}return ne(o,[{key:"set",value:function(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}}]),o}(),{eventHandlers:{keydown:function(o){this.set(o.keyCode==n||r(o))},keyup:function(o){o.keyCode!=n&&r(o)||this.set(!1)}}});return[i,Ot.contentAttributes.of(function(o){var s;return!((s=o.plugin(i))===null||s===void 0)&&s.isDown?mU:null})]}var fI=function(){function t(e,n,r){te(this,t),this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(function(i){return i}),this.tooltipViews=this.tooltips.map(r)}return ne(t,[{key:"update",value:function(e){var n=e.state.facet(this.facet),r=n.filter(function(g){return g});if(n===this.input){var i,o=ce(this.tooltipViews);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.update&&s.update(e)}}catch(g){o.e(g)}finally{o.f()}return!1}for(var a=[],u=0;u<r.length;u++){var l=r[u],f=-1;if(l){for(var c=0;c<this.tooltips.length;c++){var d=this.tooltips[c];d&&d.create==l.create&&(f=c)}if(f<0)a[u]=this.createTooltipView(l);else{var h=a[u]=this.tooltipViews[f];h.update&&h.update(e)}}}var p,v=ce(this.tooltipViews);try{for(v.s();!(p=v.n()).done;){var m=p.value;a.indexOf(m)<0&&m.dom.remove()}}catch(g){v.e(g)}finally{v.f()}return this.input=n,this.tooltips=r,this.tooltipViews=a,!0}}]),t}();function yU(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}var bm=Ct.define({combine:function(t){var e,n,r;return{position:St.ios?"absolute":((e=t.find(function(i){return i.position}))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(function(i){return i.parent}))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(function(i){return i.tooltipSpace}))===null||r===void 0?void 0:r.tooltipSpace)||yU}}}),dI=Wr.fromClass(function(){function t(e){var n,r=this;te(this,t),this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var i=e.state.facet(bm);this.position=i.position,this.parent=i.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new fI(e,jv,function(o){return r.createTooltip(o)}),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(function(o){Date.now()>r.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&r.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(n=e.dom.ownerDocument.defaultView)===null||n===void 0||n.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return ne(t,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,n=ce(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.intersectionObserver.observe(r.dom)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout(function(){e.measureTimeout=-1,e.maybeMeasure()},50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var n=this.manager.update(e);n&&this.observeIntersection();var r=n||e.geometryChanged,i=e.state.facet(bm);if(i.position!=this.position){this.position=i.position;var o,s=ce(this.manager.tooltipViews);try{for(s.s();!(o=s.n()).done;)o.value.dom.style.position=this.position}catch(f){s.e(f)}finally{s.f()}r=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();var a,u=ce(this.manager.tooltipViews);try{for(u.s();!(a=u.n()).done;){var l=a.value;this.container.appendChild(l.dom)}}catch(f){u.e(f)}finally{u.f()}r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var n=e.create(this.view);if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top="-10000px",this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}},{key:"destroy",value:function(){var e,n;(e=this.view.dom.ownerDocument.defaultView)===null||e===void 0||e.removeEventListener("resize",this.measureSoon);var r,i=ce(this.manager.tooltipViews);try{for(i.s();!(r=i.n()).done;)r.value.dom.remove()}catch(o){i.e(o)}finally{i.f()}(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map(function(r,i){var o=e.manager.tooltipViews[i];return o.getCoords?o.getCoords(r.pos):e.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(function(r){return r.dom.getBoundingClientRect()}),space:this.view.state.facet(bm).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var n=e.editor,r=e.space,i=[],o=0;o<this.manager.tooltips.length;o++){var s=this.manager.tooltips[o],a=this.manager.tooltipViews[o],u=a.dom,l=e.pos[o],f=e.size[o];if(!l||l.bottom<=Math.max(n.top,r.top)||l.top>=Math.min(n.bottom,r.bottom)||l.right<Math.max(n.left,r.left)-.1||l.left>Math.min(n.right,r.right)+.1)u.style.top="-10000px";else{var c=s.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,d=c?7:0,h=f.right-f.left,p=f.bottom-f.top,v=a.offset||kU,m=this.view.textDirection==fr.LTR,g=f.width>r.right-r.left?m?r.left:r.right-f.width:m?Math.min(l.left-(c?14:0)+v.x,r.right-h):Math.max(r.left,l.left-h+(c?14:0)-v.x),y=!!s.above;!s.strictSide&&(y?l.top-(f.bottom-f.top)-v.y<r.top:l.bottom+(f.bottom-f.top)+v.y>r.bottom)&&y==r.bottom-l.bottom>l.top-r.top&&(y=!y);var b=y?l.top-p-d-v.y:l.bottom+d+v.y,k=g+h;if(a.overlap!==!0){var w,C=ce(i);try{for(C.s();!(w=C.n()).done;){var _=w.value;_.left<k&&_.right>g&&_.top<b+p&&_.bottom>b&&(b=y?_.top-p-2-d:_.bottom+d+2)}}catch(T){C.e(T)}finally{C.f()}}this.position=="absolute"?(u.style.top=b-e.parent.top+"px",u.style.left=g-e.parent.left+"px"):(u.style.top=b+"px",u.style.left=g+"px"),c&&(c.style.left="".concat(l.left+(m?v.x:-v.x)-(g+14-7),"px")),a.overlap!==!0&&i.push({left:g,top:b,right:k,bottom:b+p}),u.classList.toggle("cm-tooltip-above",y),u.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned()}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,n=ce(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;)e.value.dom.style.top="-10000px"}catch(r){n.e(r)}finally{n.f()}}}}]),t}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),bU=Ot.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),kU={x:0,y:0},jv=Ct.define({enables:[dI,bU]}),Uh=Ct.define(),wU=function(){function t(e){var n=this;te(this,t),this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new fI(e,Uh,function(r){return n.createHostedView(r)})}return ne(t,[{key:"createHostedView",value:function(e){var n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}},{key:"mount",value:function(e){var n,r=ce(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.mount&&i.mount(e)}}catch(o){r.e(o)}finally{r.f()}this.mounted=!0}},{key:"positioned",value:function(){var e,n=ce(this.manager.tooltipViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.positioned&&r.positioned()}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(e){return new t(e)}}]),t}(),xU=jv.compute([Uh],function(t){var e=t.facet(Uh).filter(function(n){return n});return e.length===0?null:{pos:Math.min.apply(Math,nn(e.map(function(n){return n.pos}))),end:Math.max.apply(Math,nn(e.filter(function(n){return n.end!=null}).map(function(n){return n.end}))),create:wU.create,above:e[0].above,arrow:e.some(function(n){return n.arrow})}}),jU=function(){function t(e,n,r,i,o){te(this,t),this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return ne(t,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(function(){return e.startHover()},20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var n=this.lastMove,r=this.view.contentDOM.contains(n.target)?this.view.posAtCoords(n):null;if(r!=null){var i=this.view.coordsAtPos(r);if(!(i==null||n.y<i.top||n.y>i.bottom||n.x<i.left-this.view.defaultCharacterWidth||n.x>i.right+this.view.defaultCharacterWidth)){var o=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(function(l){return l.from<=r&&l.to>=r}),s=o&&o.dir==fr.RTL?-1:1,a=this.source(this.view,r,n.x<i.left?-s:s);if(a!=null&&a.then){var u=this.pending={pos:r};a.then(function(l){e.pending==u&&(e.pending=null,l&&e.view.dispatch({effects:e.setHover.of(l)}))},function(l){return qi(e.view.state,l,"hover tooltip")})}else a&&this.view.dispatch({effects:this.setHover.of(a)})}}}},{key:"mousemove",value:function(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var r=this.active;if(r&&!function(s){for(var a=s;a;a=a.parentNode)if(a.nodeType==1&&a.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){var i=(r||this.pending).pos,o=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==o?this.view.posAtCoords(this.lastMove)==i:function(s,a,u,l,f,c){var d=document.createRange(),h=s.domAtPos(a),p=s.domAtPos(u);d.setEnd(p.node,p.offset),d.setStart(h.node,h.offset);var v=d.getClientRects();d.detach();for(var m=0;m<v.length;m++){var g=v[m];if(Math.max(g.top-f,f-g.bottom,g.left-l,l-g.right)<=c)return!0}return!1}(this.view,i,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),t}();function _U(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ln.define(),r=Vr.define({create:function(){return null},update:function(i,o){if(i&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,i)))return null;if(i&&o.docChanged){var s=o.changes.mapPos(i.pos,-1,fi.TrackDel);if(s==null)return null;var a=Object.assign(Object.create(null),i);a.pos=s,i.end!=null&&(a.end=o.changes.mapPos(i.end)),i=a}var u,l=ce(o.effects);try{for(l.s();!(u=l.n()).done;){var f=u.value;f.is(n)&&(i=f.value),f.is(CU)&&(i=null)}}catch(c){l.e(c)}finally{l.f()}return i},provide:function(i){return Uh.from(i)}});return[r,Wr.define(function(i){return new jU(i,t,r,n,e.hoverTime||300)}),xU]}function SU(t,e){var n=t.plugin(dI);if(!n)return null;var r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}var CU=ln.define(),NC=Ct.define({combine:function(t){var e,n,r,i=ce(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;e=e||o.topContainer,n=n||o.bottomContainer}}catch(s){i.e(s)}finally{i.f()}return{topContainer:e,bottomContainer:n}}});function nf(t,e){var n=t.plugin(hI),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}var hI=Wr.fromClass(function(){function t(e){te(this,t),this.input=e.state.facet(rf),this.specs=this.input.filter(function(s){return s}),this.panels=this.specs.map(function(s){return s(e)});var n=e.state.facet(NC);this.top=new Cd(e,!0,n.topContainer),this.bottom=new Cd(e,!1,n.bottomContainer),this.top.sync(this.panels.filter(function(s){return s.top})),this.bottom.sync(this.panels.filter(function(s){return!s.top}));var r,i=ce(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(s){i.e(s)}finally{i.f()}}return ne(t,[{key:"update",value:function(e){var n=e.state.facet(NC);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new Cd(e.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new Cd(e.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var r=e.state.facet(rf);if(r!=this.input){var i,o=r.filter(function(k){return k}),s=[],a=[],u=[],l=[],f=ce(o);try{for(f.s();!(i=f.n()).done;){var c=i.value,d=this.specs.indexOf(c),h=void 0;d<0?(h=c(e.view),l.push(h)):(h=this.panels[d]).update&&h.update(e),s.push(h),(h.top?a:u).push(h)}}catch(k){f.e(k)}finally{f.f()}this.specs=o,this.panels=s,this.top.sync(a),this.bottom.sync(u);for(var p=0,v=l;p<v.length;p++){var m=v[p];m.dom.classList.add("cm-panel"),m.mount&&m.mount()}}else{var g,y=ce(this.panels);try{for(y.s();!(g=y.n()).done;){var b=g.value;b.update&&b.update(e)}}catch(k){y.e(k)}finally{y.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),t}(),{provide:function(t){return Ot.scrollMargins.of(function(e){var n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})}}),Cd=function(){function t(e,n,r){te(this,t),this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return ne(t,[{key:"sync",value:function(e){var n,r=ce(this.panels);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.destroy&&e.indexOf(i)<0&&i.destroy()}}catch(o){r.e(o)}finally{r.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(this.panels.length!=0){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var n,r=this.dom.firstChild,i=ce(this.panels);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.dom.parentNode==this.dom){for(;r!=o.dom;)r=LC(r);r=r.nextSibling}else this.dom.insertBefore(o.dom,r)}}catch(s){i.e(s)}finally{i.f()}for(;r;)r=LC(r)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,n=ce(this.classes.split(" "));try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&this.container.classList.remove(r)}}catch(a){n.e(a)}finally{n.f()}var i,o=ce((this.classes=this.view.themeClasses).split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&this.container.classList.add(s)}}catch(a){o.e(a)}finally{o.f()}}}}]),t}();function LC(t){var e=t.nextSibling;return t.remove(),e}var rf=Ct.define({enables:hI}),Xo=function(t){Be(n,ru);var e=ze(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n,[{key:"compare",value:function(r){return this==r||this.constructor==r.constructor&&this.eq(r)}},{key:"eq",value:function(r){return!1}},{key:"destroy",value:function(r){}}]),n}();Xo.prototype.elementClass="",Xo.prototype.toDOM=void 0,Xo.prototype.mapMode=fi.TrackBefore,Xo.prototype.startSide=Xo.prototype.endSide=-1,Xo.prototype.point=!0;var rh=Ct.define(),$U={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return tr.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Oc=Ct.define();function pI(t){return[vI(),Oc.of(Object.assign(Object.assign({},$U),t))]}var A0=Ct.define({combine:function(t){return t.some(function(e){return e})}});function vI(t){var e=[AU];return t&&t.fixed===!1&&e.push(A0.of(!0)),e}var AU=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Oc).map(function(o){return new RC(e,o)});var n,r=ce(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!e.state.facet(A0),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}return ne(t,[{key:"update",value:function(e){if(this.updateGutters(e)){var n=this.prevViewport,r=e.view.viewport,i=Math.min(n.to,r.to)-Math.max(n.from,r.from);this.syncGutters(i<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(A0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var n=this,r=this.dom.nextSibling;e&&this.dom.remove();var i,o=tr.iter(this.view.state.facet(rh),this.view.viewport.from),s=[],a=this.gutters.map(function(y){return new OU(y,n.view.viewport,-n.view.documentPadding.top)}),u=ce(this.view.viewportLineBlocks);try{for(u.s();!(i=u.n()).done;){var l=i.value,f=void 0;if(Array.isArray(l.type)){var c,d=ce(l.type);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(h.type==Gn.Text){f=h;break}}}catch(y){d.e(y)}finally{d.f()}}else f=l.type==Gn.Text?l:void 0;if(f){s.length&&(s=[]),mI(o,s,l.from);var p,v=ce(a);try{for(v.s();!(p=v.n()).done;)p.value.line(this.view,f,s)}catch(y){v.e(y)}finally{v.f()}}}}catch(y){u.e(y)}finally{u.f()}var m,g=ce(a);try{for(g.s();!(m=g.n()).done;)m.value.finish()}catch(y){g.e(y)}finally{g.f()}e&&this.view.scrollDOM.insertBefore(this.dom,r)}},{key:"updateGutters",value:function(e){var n=e.startState.facet(Oc),r=e.state.facet(Oc),i=e.docChanged||e.heightChanged||e.viewportChanged||!tr.eq(e.startState.facet(rh),e.state.facet(rh),e.view.viewport.from,e.view.viewport.to);if(n==r){var o,s=ce(this.gutters);try{for(s.s();!(o=s.n()).done;)o.value.update(e)&&(i=!0)}catch(y){s.e(y)}finally{s.f()}}else{i=!0;var a,u=[],l=ce(r);try{for(l.s();!(a=l.n()).done;){var f=a.value,c=n.indexOf(f);c<0?u.push(new RC(this.view,f)):(this.gutters[c].update(e),u.push(this.gutters[c]))}}catch(y){l.e(y)}finally{l.f()}var d,h=ce(this.gutters);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.dom.remove(),u.indexOf(p)<0&&p.destroy()}}catch(y){h.e(y)}finally{h.f()}for(var v=0,m=u;v<m.length;v++){var g=m[v];this.dom.appendChild(g.dom)}this.gutters=u}return i}},{key:"destroy",value:function(){var e,n=ce(this.gutters);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}this.dom.remove()}}]),t}(),{provide:function(t){return Ot.scrollMargins.of(function(e){var n=e.plugin(t);return n&&n.gutters.length!=0&&n.fixed?e.textDirection==fr.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null})}});function DC(t){return Array.isArray(t)?t:[t]}function mI(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}var OU=function(){function t(e,n,r){te(this,t),this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=tr.iter(e.markers,n.from)}return ne(t,[{key:"line",value:function(e,n,r){this.localMarkers.length&&(this.localMarkers=[]),mI(this.cursor,this.localMarkers,n.from);var i=r.length?this.localMarkers.concat(r):this.localMarkers,o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);var s=this.gutter;if(i.length!=0||s.config.renderEmptyElements){var a=n.top-this.height;if(this.i==s.elements.length){var u=new gI(e,n.height,a,i);s.elements.push(u),s.dom.appendChild(u.dom)}else s.elements[this.i].update(e,n.height,a,i);this.height=n.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}]),t}(),RC=function(){function t(e,n){var r=this;te(this,t),this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(s){r.dom.addEventListener(s,function(a){var u=e.lineBlockAtHeight(a.clientY-e.documentTop);n.domEventHandlers[s](e,u,a)&&a.preventDefault()})};for(var o in n.domEventHandlers)i(o);this.markers=DC(n.markers(e)),n.initialSpacer&&(this.spacer=new gI(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return ne(t,[{key:"update",value:function(e){var n=this.markers;if(this.markers=DC(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}var i=e.view.viewport;return!tr.eq(this.markers,n,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,n=ce(this.elements);try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(r){n.e(r)}finally{n.f()}}}]),t}(),gI=function(){function t(e,n,r,i){te(this,t),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}return ne(t,[{key:"update",value:function(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(o,s){if(o.length!=s.length)return!1;for(var a=0;a<o.length;a++)if(!o[a].compare(s[a]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}},{key:"setMarkers",value:function(e,n){for(var r="cm-gutterElement",i=this.dom.firstChild,o=0,s=0;;){var a=s,u=o<n.length?n[o++]:null,l=!1;if(u){var f=u.elementClass;f&&(r+=" "+f);for(var c=s;c<this.markers.length;c++)if(this.markers[c].compare(u)){a=c,l=!0;break}}else a=this.markers.length;for(;s<a;){var d=this.markers[s++];if(d.toDOM){d.destroy(i);var h=i.nextSibling;i.remove(),i=h}}if(!u)break;u.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),l&&s++}this.dom.className=r,this.markers=n}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),t}(),EU=Ct.define(),Ju=Ct.define({combine:function(t){return ys(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,n){var r=Object.assign({},e),i=function(s){var a=r[s],u=n[s];r[s]=a?function(l,f,c){return a(l,f,c)||u(l,f,c)}:u};for(var o in n)i(o);return r}})}}),km=function(t){Be(n,Xo);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).number=r,i}return ne(n,[{key:"eq",value:function(r){return this.number==r.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}();function wm(t,e){return t.state.facet(Ju).formatNumber(e,t.state)}var TU=Oc.compute([Ju],function(t){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(EU)},lineMarker:function(e,n,r){return r.some(function(i){return i.toDOM})?null:new km(wm(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:function(e){return e.startState.facet(Ju)!=e.state.facet(Ju)},initialSpacer:function(e){return new km(wm(e,BC(e.state.doc.lines)))},updateSpacer:function(e,n){var r=wm(n.view,BC(n.view.state.doc.lines));return r==e.number?e:new km(r)},domEventHandlers:t.facet(Ju).domEventHandlers}});function PU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Ju.of(t),vI(),TU]}function BC(t){for(var e=9;e<t;)e=10*e+9;return e}var MU=new(function(t){Be(n,Xo);var e=ze(n);function n(){var r;return te(this,n),(r=e.apply(this,arguments)).elementClass="cm-activeLineGutter",r}return ne(n)}()),IU=rh.compute(["selection"],function(t){var e,n=[],r=-1,i=ce(t.selection.ranges);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.empty){var s=t.doc.lineAt(o.head).from;s>r&&(r=s,n.push(MU.range(s)))}}}catch(a){i.e(a)}finally{i.f()}return tr.of(n)});function NU(){return IU}var LU=0,xm=ne(function t(e,n){te(this,t),this.from=e,this.to=n}),qn=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,t),this.id=LU++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ne(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=hs.match(e)),function(r){var i=e(r);return i===void 0?null:[n,i]}}}]),t}();qn.closedBy=new qn({deserialize:function(t){return t.split(" ")}}),qn.openedBy=new qn({deserialize:function(t){return t.split(" ")}}),qn.group=new qn({deserialize:function(t){return t.split(" ")}}),qn.contextHash=new qn({perNode:!0}),qn.lookAhead=new qn({perNode:!0}),qn.mounted=new qn({perNode:!0});var DU=Object.create(null),hs=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;te(this,t),this.name=e,this.props=n,this.id=r,this.flags=i}return ne(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(qn.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):DU,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",n,e.id,r);if(e.props){var o,s=ce(e.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(u){s.e(u)}finally{s.f()}}return i}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var i,o=ce(r.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;n[s]=e[r]}}catch(a){o.e(a)}finally{o.f()}}return function(a){for(var u=a.prop(qn.group),l=-1;l<(u?u.length:0);l++){var f=n[l<0?a.name:u[l]];if(f)return f}}}}]),t}();hs.none=new hs("",Object.create(null),0,8);var Gr,$d=new WeakMap,zC=new WeakMap;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Gr||(Gr={}));var Bi=function(){function t(e,n,r,i,o){if(te(this,t),this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var s,a=ce(o);try{for(a.s();!(s=a.n()).done;){var u=Et(s.value,2),l=u[0],f=u[1];this.props[typeof l=="number"?l:l.id]=f}}catch(c){a.e(c)}finally{a.f()}}}return ne(t,[{key:"toString",value:function(){var e=this.prop(qn.mounted);if(e&&!e.overlay)return e.tree.toString();var n,r="",i=ce(this.children);try{for(i.s();!(n=i.n()).done;){var o=n.value.toString();o&&(r&&(r+=","),r+=o)}}catch(s){i.e(s)}finally{i.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Gh(this.topNode,e)}},{key:"cursorAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=$d.get(this)||this.topNode,i=new Gh(r);return i.moveTo(e,n),$d.set(this,i._tree),i}},{key:"topNode",get:function(){return new of(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=pl($d.get(this)||this.topNode,e,n,!1);return $d.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=pl(zC.get(this)||this.topNode,e,n,!0);return zC.set(this,r),r}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,i=e.from,o=i===void 0?0:i,s=e.to,a=s===void 0?this.length:s,u=this.cursor((e.mode||0)|Gr.IncludeAnonymous);;){var l=!1;if(u.from<=a&&u.to>=o&&(u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;l=!0}for(;l&&r&&!u.type.isAnonymous&&r(u),!u.nextSibling();){if(!u.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:tb(hs.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,i,o){return new t(e.type,r,i,o,e.propValues)},n.makeTree||function(r,i,o){return new t(hs.none,r,i,o)})}}],[{key:"build",value:function(e){return zU(e)}}]),t}();Bi.empty=new Bi(hs.none,[],[],0);var RU=function(){function t(e,n){te(this,t),this.buffer=e,this.index=n}return ne(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),Lf=function(){function t(e,n,r){te(this,t),this.buffer=e,this.length=n,this.set=r}return ne(t,[{key:"type",get:function(){return hs.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;for(var s=[];e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}},{key:"findChild",value:function(e,n,r,i,o){for(var s=this.buffer,a=-1,u=e;u!=n&&!(yI(o,i,s[u+1],s[u+2])&&(a=u,r>0));u=s[u+3]);return a}},{key:"slice",value:function(e,n,r,i){for(var o=this.buffer,s=new Uint16Array(n-e),a=e,u=0;a<n;)s[u++]=o[a++],s[u++]=o[a++]-r,s[u++]=o[a++]-r,s[u++]=o[a++]-e;return new t(s,i-r,this.set)}}]),t}();function yI(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function bI(t,e){for(var n=t.childBefore(e);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function pl(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var o=!r&&t instanceof of&&t.index<0?null:t.parent;if(!o)return t;t=o}var s=r?0:Gr.IgnoreOverlays;if(r)for(var a=t,u=a.parent;u;u=(a=u).parent)a instanceof of&&a.index<0&&((i=u.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=u);for(;;){var l=t.enter(e,n,s);if(!l)return t;t=l}}var of=function(){function t(e,n,r,i){te(this,t),this._tree=e,this.from=n,this.index=r,this._parent=i}return ne(t,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,n,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=this;;){for(var a=s._tree,u=a.children,l=a.positions,f=n>0?u.length:-1;e!=f;e+=n){var c=u[e],d=l[e]+s.from;if(yI(i,r,d,d+c.length)){if(c instanceof Lf){if(o&Gr.ExcludeBuffers)continue;var h=c.findChild(0,c.buffer.length,n,r-d,i);if(h>-1)return new O0(new BU(s,c,e,d),null,h)}else if(o&Gr.IncludeAnonymous||!c.type.isAnonymous||eb(c)){var p=void 0;if(!(o&Gr.IgnoreMounts)&&c.props&&(p=c.prop(qn.mounted))&&!p.overlay)return new t(p.tree,d,e,s);var v=new t(c,d,e,s);return o&Gr.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&Gr.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,!(s=s._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(i&Gr.IgnoreOverlays)&&(r=this._tree.prop(qn.mounted))&&r.overlay){var o,s=e-this.from,a=ce(r.overlay);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=u.from,f=u.to;if((n>0?l<=s:l<s)&&(n<0?f>=s:f>s))return new t(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(c){a.e(c)}finally{a.f()}}return this.nextChild(0,1,e,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Gh(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return bI(this,e)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Jh(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Jh(this,e,n,r)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Kh(this,e)}}]),t}();function Jh(t,e,n,r){var i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Kh(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var BU=ne(function t(e,n,r,i){te(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=i}),O0=function(){function t(e,n,r){te(this,t),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new t(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r&Gr.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new t(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Gh(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],n=[],r=this.context.buffer,i=this.index+4,o=r.buffer[this.index+3];if(o>i){var s=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(i,o,s,a)),n.push(0)}return new Bi(this.type,e,n,this.to-this.from)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return bI(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Jh(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Jh(this,e,n,r)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Kh(this,e)}}]),t}(),Gh=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(te(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof of)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,i=r.start,o=r.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof of?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));var i=this.buffer.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&Gr.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&Gr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&Gr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{var o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;n=i.index,r=i.parent}else{var s=this._tree;n=s.index,r=s._parent}for(;r;n=(a=r).index,r=a._parent,a){var a;if(n>-1)for(var u=n+e,l=e<0?-1:r._tree.children.length;u!=l;u+=e){var f=r._tree.children[u];if(this.mode&Gr.IncludeAnonymous||f instanceof Lf||!f.type.isAnonymous||eb(f))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var i=this.index,o=this.stack.length;o>=0;){for(var s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(var a=r;a<this.stack.length;a++)n=new O0(this.buffer,n,this.stack[a]);return this.bufferNode=new O0(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,n){for(var r=0;;){var i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return Kh(this.node,e);for(var n=this.buffer.buffer,r=n.set.types,i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Kh(this.node,e,i);var s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}]),t}();function eb(t){return t.children.some(function(e){return e instanceof Lf||!e.type.isAnonymous||eb(e)})}function zU(t){var e,n=t.buffer,r=t.nodeSet,i=t.maxBufferLength,o=i===void 0?1024:i,s=t.reused,a=s===void 0?[]:s,u=t.minRepeatType,l=u===void 0?r.types.length:u,f=Array.isArray(n)?new RU(n,n.length):n,c=r.types,d=0,h=0;function p(w,C,_,T,j){for(var O=f.id,S=f.start,N=f.end,A=f.size,$=h;A<0;){if(f.next(),A==-1){var q=a[O];return _.push(q),void T.push(S-w)}if(A==-3)return void(d=O);if(A==-4)return void(h=O);throw new RangeError("Unrecognized record size: ".concat(A))}var Y,z,J=c[O],L=S-w;if(N-S<=o&&(z=function(je,R){var H=f.fork(),I=0,B=0,Z=0,le=H.end-o,X={size:0,start:0,skip:0};e:for(var V=H.pos-je;H.pos>V;){var _e=H.size;if(H.id==R&&_e>=0)X.size=I,X.start=B,X.skip=Z,Z+=4,I+=4,H.next();else{var Se=H.pos-_e;if(_e<0||Se<V||H.start<le)break;var xe=H.id>=l?4:0,he=H.start;for(H.next();H.pos>Se;){if(H.size<0){if(H.size!=-3)break e;xe+=4}else H.id>=l&&(xe+=4);H.next()}B=he,I+=_e,Z+=xe}}return(R<0||I==je)&&(X.size=I,X.start=B,X.skip=Z),X.size>4?X:void 0}(f.pos-C,j))){for(var D=new Uint16Array(z.size-z.skip),U=f.pos-z.size,W=D.length;f.pos>U;)W=g(z.start,D,W);Y=new Lf(D,N-z.start,r),L=z.start-w}else{var F=f.pos-A;f.next();for(var E=[],x=[],M=O>=l?O:-1,K=0,se=N;f.pos>F;)M>=0&&f.id==M&&f.size>=0?(f.end<=se-o&&(v(E,x,S,K,f.end,se,M,$),K=E.length,se=f.end),f.next()):p(S,F,E,x,M);if(M>=0&&K>0&&K<E.length&&v(E,x,S,K,S,se,M,$),E.reverse(),x.reverse(),M>-1&&K>0){var we=function(je){return function(R,H,I){var B,Z,le=0,X=R.length-1;if(X>=0&&(B=R[X])instanceof Bi){if(!X&&B.type==je&&B.length==I)return B;(Z=B.prop(qn.lookAhead))&&(le=H[X]+B.length+Z)}return m(je,R,H,I,le)}}(J);Y=tb(J,E,x,0,E.length,0,N-S,we,we)}else Y=m(J,E,x,N-S,$-N)}_.push(Y),T.push(L)}function v(w,C,_,T,j,O,S,N){for(var A=[],$=[];w.length>T;)A.push(w.pop()),$.push(C.pop()+_-j);w.push(m(r.types[S],A,$,O-j,N-O)),C.push(j-_)}function m(w,C,_,T){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5?arguments[5]:void 0;if(d){var S=[qn.contextHash,d];O=O?[S].concat(O):[S]}if(j>25){var N=[qn.lookAhead,j];O=O?[N].concat(O):[N]}return new Bi(w,C,_,T,O)}function g(w,C,_){var T=f.id,j=f.start,O=f.end,S=f.size;if(f.next(),S>=0&&T<l){var N=_;if(S>4)for(var A=f.pos-(S-4);f.pos>A;)_=g(w,C,_);C[--_]=N,C[--_]=O-w,C[--_]=j-w,C[--_]=T}else S==-3?d=T:S==-4&&(h=T);return _}for(var y=[],b=[];f.pos>0;)p(t.start||0,t.bufferStart||0,y,b,-1);var k=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Bi(c[t.topID],y.reverse(),b.reverse(),k)}var FC=new WeakMap;function ih(t,e){if(!t.isAnonymous||e instanceof Lf||e.type!=t)return 1;var n=FC.get(e);if(n==null){n=1;var r,i=ce(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=t||!(o instanceof Bi)){n=1;break}n+=ih(t,o)}}catch(s){i.e(s)}finally{i.f()}FC.set(e,n)}return n}function tb(t,e,n,r,i,o,s,a,u){for(var l=0,f=r;f<i;f++)l+=ih(t,e[f]);var c=Math.ceil(1.5*l/8),d=[],h=[];return function p(v,m,g,y,b){for(var k=g;k<y;){var w=k,C=m[k],_=ih(t,v[k]);for(k++;k<y;k++){var T=ih(t,v[k]);if(_+T>=c)break;_+=T}if(k==w+1){if(_>c){var j=v[w];p(j.children,j.positions,0,j.children.length,m[w]+b);continue}d.push(v[w])}else{var O=m[k-1]+v[k-1].length-C;d.push(tb(t,v,m,w,k,C,O,null,u))}h.push(C+b-o)}}(e,n,r,i,0),(a||u)(d,h,s)}var oh=function(){function t(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=arguments.length>5&&arguments[5]!==void 0&&arguments[5];te(this,t),this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}return ne(t,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=[new t(0,e.length,e,0,!1,i)],s=ce(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.to>e.length&&o.push(a)}}catch(u){s.e(u)}finally{s.f()}return o}},{key:"applyChanges",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:128;if(!n.length)return e;for(var i=[],o=1,s=e.length?e[0]:null,a=0,u=0,l=0;;a++){var f=a<n.length?n[a]:null,c=f?f.fromA:1e9;if(c-u>=r)for(;s&&s.from<c;){var d=s;if(u>=d.from||c<=d.to||l){var h=Math.max(d.from,u)-l,p=Math.min(d.to,c)-l;d=h>=p?null:new t(h,p,d.tree,d.offset+l,a>0,!!f)}if(d&&i.push(d),s.to>c)break;s=o<e.length?e[o++]:null}if(!f)break;u=f.toA,l=f.toA-f.toB}return i}}]),t}(),FU=function(){function t(){te(this,t)}return ne(t,[{key:"startParse",value:function(e,n,r){return typeof e=="string"&&(e=new qU(e)),r=r?r.length?r.map(function(i){return new xm(i.from,i.to)}):[new xm(0,0)]:[new xm(0,e.length)],this.createParse(e,n||[],r)}},{key:"parse",value:function(e,n,r){for(var i=this.startParse(e,n,r);;){var o=i.advance();if(o)return o}}}]),t}(),qU=function(){function t(e){te(this,t),this.string=e}return ne(t,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,n){return this.string.slice(e,n)}}]),t}();new qn({perNode:!0});var VU=0,cr=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,t),this.id=VU++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ne(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=vu.match(e)),function(r){var i=e(r);return i===void 0?null:[n,i]}}}]),t}();cr.closedBy=new cr({deserialize:function(t){return t.split(" ")}}),cr.openedBy=new cr({deserialize:function(t){return t.split(" ")}}),cr.group=new cr({deserialize:function(t){return t.split(" ")}}),cr.contextHash=new cr({perNode:!0}),cr.lookAhead=new cr({perNode:!0}),cr.mounted=new cr({perNode:!0});var HU=Object.create(null),vu=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;te(this,t),this.name=e,this.props=n,this.id=r,this.flags=i}return ne(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(cr.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):HU,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",n,e.id,r);if(e.props){var o,s=ce(e.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(u){s.e(u)}finally{s.f()}}return i}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var i,o=ce(r.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;n[s]=e[r]}}catch(a){o.e(a)}finally{o.f()}}return function(a){for(var u=a.prop(cr.group),l=-1;l<(u?u.length:0);l++){var f=n[l<0?a.name:u[l]];if(f)return f}}}}]),t}();vu.none=new vu("",Object.create(null),0,8);var li,Ad=new WeakMap,qC=new WeakMap;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(li||(li={}));var fu=function(){function t(e,n,r,i,o){if(te(this,t),this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var s,a=ce(o);try{for(a.s();!(s=a.n()).done;){var u=Et(s.value,2),l=u[0],f=u[1];this.props[typeof l=="number"?l:l.id]=f}}catch(c){a.e(c)}finally{a.f()}}}return ne(t,[{key:"toString",value:function(){var e=this.prop(cr.mounted);if(e&&!e.overlay)return e.tree.toString();var n,r="",i=ce(this.children);try{for(i.s();!(n=i.n()).done;){var o=n.value.toString();o&&(r&&(r+=","),r+=o)}}catch(s){i.e(s)}finally{i.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Xh(this.topNode,e)}},{key:"cursorAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Ad.get(this)||this.topNode,i=new Xh(r);return i.moveTo(e,n),Ad.set(this,i._tree),i}},{key:"topNode",get:function(){return new sf(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=vl(Ad.get(this)||this.topNode,e,n,!1);return Ad.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=vl(qC.get(this)||this.topNode,e,n,!0);return qC.set(this,r),r}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,i=e.from,o=i===void 0?0:i,s=e.to,a=s===void 0?this.length:s,u=this.cursor((e.mode||0)|li.IncludeAnonymous);;){var l=!1;if(u.from<=a&&u.to>=o&&(u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;l=!0}for(;l&&r&&!u.type.isAnonymous&&r(u),!u.nextSibling();){if(!u.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:rb(vu.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,i,o){return new t(e.type,r,i,o,e.propValues)},n.makeTree||function(r,i,o){return new t(vu.none,r,i,o)})}}],[{key:"build",value:function(e){return JU(e)}}]),t}();fu.empty=new fu(vu.none,[],[],0);var WU=function(){function t(e,n){te(this,t),this.buffer=e,this.index=n}return ne(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),Df=function(){function t(e,n,r){te(this,t),this.buffer=e,this.length=n,this.set=r}return ne(t,[{key:"type",get:function(){return vu.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;for(var s=[];e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}},{key:"findChild",value:function(e,n,r,i,o){for(var s=this.buffer,a=-1,u=e;u!=n&&!(kI(o,i,s[u+1],s[u+2])&&(a=u,r>0));u=s[u+3]);return a}},{key:"slice",value:function(e,n,r,i){for(var o=this.buffer,s=new Uint16Array(n-e),a=e,u=0;a<n;)s[u++]=o[a++],s[u++]=o[a++]-r,s[u++]=o[a++]-r,s[u++]=o[a++]-e;return new t(s,i-r,this.set)}}]),t}();function kI(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function wI(t,e){for(var n=t.childBefore(e);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function vl(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var o=!r&&t instanceof sf&&t.index<0?null:t.parent;if(!o)return t;t=o}var s=r?0:li.IgnoreOverlays;if(r)for(var a=t,u=a.parent;u;u=(a=u).parent)a instanceof sf&&a.index<0&&((i=u.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=u);for(;;){var l=t.enter(e,n,s);if(!l)return t;t=l}}var sf=function(){function t(e,n,r,i){te(this,t),this._tree=e,this.from=n,this.index=r,this._parent=i}return ne(t,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,n,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=this;;){for(var a=s._tree,u=a.children,l=a.positions,f=n>0?u.length:-1;e!=f;e+=n){var c=u[e],d=l[e]+s.from;if(kI(i,r,d,d+c.length)){if(c instanceof Df){if(o&li.ExcludeBuffers)continue;var h=c.findChild(0,c.buffer.length,n,r-d,i);if(h>-1)return new E0(new UU(s,c,e,d),null,h)}else if(o&li.IncludeAnonymous||!c.type.isAnonymous||nb(c)){var p=void 0;if(!(o&li.IgnoreMounts)&&c.props&&(p=c.prop(cr.mounted))&&!p.overlay)return new t(p.tree,d,e,s);var v=new t(c,d,e,s);return o&li.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&li.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,!(s=s._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(i&li.IgnoreOverlays)&&(r=this._tree.prop(cr.mounted))&&r.overlay){var o,s=e-this.from,a=ce(r.overlay);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=u.from,f=u.to;if((n>0?l<=s:l<s)&&(n<0?f>=s:f>s))return new t(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(c){a.e(c)}finally{a.f()}}return this.nextChild(0,1,e,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Xh(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return wI(this,e)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Qh(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Qh(this,e,n,r)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Yh(this,e)}}]),t}();function Qh(t,e,n,r){var i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Yh(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var UU=ne(function t(e,n,r,i){te(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=i}),E0=function(){function t(e,n,r){te(this,t),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new t(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r&li.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new t(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Xh(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],n=[],r=this.context.buffer,i=this.index+4,o=r.buffer[this.index+3];if(o>i){var s=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(i,o,s,a)),n.push(0)}return new fu(this.type,e,n,this.to-this.from)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return wI(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Qh(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Qh(this,e,n,r)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Yh(this,e)}}]),t}(),Xh=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(te(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof sf)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,i=r.start,o=r.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof sf?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));var i=this.buffer.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&li.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&li.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&li.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{var o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;n=i.index,r=i.parent}else{var s=this._tree;n=s.index,r=s._parent}for(;r;n=(a=r).index,r=a._parent,a){var a;if(n>-1)for(var u=n+e,l=e<0?-1:r._tree.children.length;u!=l;u+=e){var f=r._tree.children[u];if(this.mode&li.IncludeAnonymous||f instanceof Df||!f.type.isAnonymous||nb(f))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var i=this.index,o=this.stack.length;o>=0;){for(var s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(var a=r;a<this.stack.length;a++)n=new E0(this.buffer,n,this.stack[a]);return this.bufferNode=new E0(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,n){for(var r=0;;){var i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return Yh(this.node,e);for(var n=this.buffer.buffer,r=n.set.types,i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Yh(this.node,e,i);var s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}]),t}();function nb(t){return t.children.some(function(e){return e instanceof Df||!e.type.isAnonymous||nb(e)})}function JU(t){var e,n=t.buffer,r=t.nodeSet,i=t.maxBufferLength,o=i===void 0?1024:i,s=t.reused,a=s===void 0?[]:s,u=t.minRepeatType,l=u===void 0?r.types.length:u,f=Array.isArray(n)?new WU(n,n.length):n,c=r.types,d=0,h=0;function p(w,C,_,T,j){for(var O=f.id,S=f.start,N=f.end,A=f.size,$=h;A<0;){if(f.next(),A==-1){var q=a[O];return _.push(q),void T.push(S-w)}if(A==-3)return void(d=O);if(A==-4)return void(h=O);throw new RangeError("Unrecognized record size: ".concat(A))}var Y,z,J=c[O],L=S-w;if(N-S<=o&&(z=function(je,R){var H=f.fork(),I=0,B=0,Z=0,le=H.end-o,X={size:0,start:0,skip:0};e:for(var V=H.pos-je;H.pos>V;){var _e=H.size;if(H.id==R&&_e>=0)X.size=I,X.start=B,X.skip=Z,Z+=4,I+=4,H.next();else{var Se=H.pos-_e;if(_e<0||Se<V||H.start<le)break;var xe=H.id>=l?4:0,he=H.start;for(H.next();H.pos>Se;){if(H.size<0){if(H.size!=-3)break e;xe+=4}else H.id>=l&&(xe+=4);H.next()}B=he,I+=_e,Z+=xe}}return(R<0||I==je)&&(X.size=I,X.start=B,X.skip=Z),X.size>4?X:void 0}(f.pos-C,j))){for(var D=new Uint16Array(z.size-z.skip),U=f.pos-z.size,W=D.length;f.pos>U;)W=g(z.start,D,W);Y=new Df(D,N-z.start,r),L=z.start-w}else{var F=f.pos-A;f.next();for(var E=[],x=[],M=O>=l?O:-1,K=0,se=N;f.pos>F;)M>=0&&f.id==M&&f.size>=0?(f.end<=se-o&&(v(E,x,S,K,f.end,se,M,$),K=E.length,se=f.end),f.next()):p(S,F,E,x,M);if(M>=0&&K>0&&K<E.length&&v(E,x,S,K,S,se,M,$),E.reverse(),x.reverse(),M>-1&&K>0){var we=function(je){return function(R,H,I){var B,Z,le=0,X=R.length-1;if(X>=0&&(B=R[X])instanceof fu){if(!X&&B.type==je&&B.length==I)return B;(Z=B.prop(cr.lookAhead))&&(le=H[X]+B.length+Z)}return m(je,R,H,I,le)}}(J);Y=rb(J,E,x,0,E.length,0,N-S,we,we)}else Y=m(J,E,x,N-S,$-N)}_.push(Y),T.push(L)}function v(w,C,_,T,j,O,S,N){for(var A=[],$=[];w.length>T;)A.push(w.pop()),$.push(C.pop()+_-j);w.push(m(r.types[S],A,$,O-j,N-O)),C.push(j-_)}function m(w,C,_,T){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5?arguments[5]:void 0;if(d){var S=[cr.contextHash,d];O=O?[S].concat(O):[S]}if(j>25){var N=[cr.lookAhead,j];O=O?[N].concat(O):[N]}return new fu(w,C,_,T,O)}function g(w,C,_){var T=f.id,j=f.start,O=f.end,S=f.size;if(f.next(),S>=0&&T<l){var N=_;if(S>4)for(var A=f.pos-(S-4);f.pos>A;)_=g(w,C,_);C[--_]=N,C[--_]=O-w,C[--_]=j-w,C[--_]=T}else S==-3?d=T:S==-4&&(h=T);return _}for(var y=[],b=[];f.pos>0;)p(t.start||0,t.bufferStart||0,y,b,-1);var k=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new fu(c[t.topID],y.reverse(),b.reverse(),k)}var VC=new WeakMap;function sh(t,e){if(!t.isAnonymous||e instanceof Df||e.type!=t)return 1;var n=VC.get(e);if(n==null){n=1;var r,i=ce(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=t||!(o instanceof fu)){n=1;break}n+=sh(t,o)}}catch(s){i.e(s)}finally{i.f()}VC.set(e,n)}return n}function rb(t,e,n,r,i,o,s,a,u){for(var l=0,f=r;f<i;f++)l+=sh(t,e[f]);var c=Math.ceil(1.5*l/8),d=[],h=[];return function p(v,m,g,y,b){for(var k=g;k<y;){var w=k,C=m[k],_=sh(t,v[k]);for(k++;k<y;k++){var T=sh(t,v[k]);if(_+T>=c)break;_+=T}if(k==w+1){if(_>c){var j=v[w];p(j.children,j.positions,0,j.children.length,m[w]+b);continue}d.push(v[w])}else{var O=m[k-1]+v[k-1].length-C;d.push(rb(t,v,m,w,k,C,O,null,u))}h.push(C+b-o)}}(e,n,r,i,0),(a||u)(d,h,s)}new cr({perNode:!0});var KU=0,ea=function(){function t(e,n,r){te(this,t),this.set=e,this.base=n,this.modified=r,this.id=KU++}return ne(t,null,[{key:"define",value:function(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");var n=new t([],null,[]);if(n.set.push(n),e){var r,i=ce(e.set);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.set.push(o)}}catch(s){i.e(s)}finally{i.f()}}return n}},{key:"defineModifier",value:function(){var e=new HC;return function(n){return n.modified.indexOf(e)>-1?n:HC.get(n.base||n,n.modified.concat(e).sort(function(r,i){return r.id-i.id}))}}}]),t}(),GU=0,HC=function(){function t(){te(this,t),this.instances=[],this.id=GU++}return ne(t,null,[{key:"get",value:function(e,n){if(!n.length)return e;var r=n[0].instances.find(function(v){return v.base==e&&(m=n,g=v.modified,m.length==g.length&&m.every(function(y,b){return y==g[b]}));var m,g});if(r)return r;var i,o=[],s=new ea(o,e,n),a=ce(n);try{for(a.s();!(i=a.n()).done;)i.value.instances.push(s)}catch(v){a.e(v)}finally{a.f()}var u,l=xI(n),f=ce(e.set);try{for(f.s();!(u=f.n()).done;){var c,d=u.value,h=ce(l);try{for(h.s();!(c=h.n()).done;){var p=c.value;o.push(t.get(d,p))}}catch(v){h.e(v)}finally{h.f()}}}catch(v){f.e(v)}finally{f.f()}return s}}]),t}();function xI(t){for(var e=[t],n=0;n<t.length;n++){var r,i=ce(xI(t.slice(0,n).concat(t.slice(n+1))));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.push(o)}}catch(s){i.e(s)}finally{i.f()}}return e}function jI(t){var e=Object.create(null);for(var n in t){var r=t[n];Array.isArray(r)||(r=[r]);var i,o=ce(n.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s){for(var a=[],u=2,l=s,f=0;;){if(l=="..."&&f>0&&f+3==s.length){u=1;break}var c=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!c)throw new RangeError("Invalid path: "+s);if(a.push(c[0]=="*"?"":c[0][0]=='"'?JSON.parse(c[0]):c[0]),(f+=c[0].length)==s.length)break;var d=s[f++];if(f==s.length&&d=="!"){u=0;break}if(d!="/")throw new RangeError("Invalid path: "+s);l=s.slice(f)}var h=a.length-1,p=a[h];if(!p)throw new RangeError("Invalid path: "+s);var v=new QU(r,u,h>0?a.slice(0,h):null);e[p]=v.sort(e[p])}}}catch(m){o.e(m)}finally{o.f()}}return _I.add(e)}var _I=new cr,QU=function(){function t(e,n,r,i){te(this,t),this.tags=e,this.mode=n,this.context=r,this.next=i}return ne(t,[{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),t}();function SI(t,e){var n,r=Object.create(null),i=ce(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o.tag)){var s,a=ce(o.tag);try{for(a.s();!(s=a.n()).done;){var u=s.value;r[u.id]=o.class}}catch(h){a.e(h)}finally{a.f()}}else r[o.tag.id]=o.class}}catch(h){i.e(h)}finally{i.f()}var l=e||{},f=l.scope,c=l.all,d=c===void 0?null:c;return{style:function(h){var p,v=d,m=ce(h);try{for(m.s();!(p=m.n()).done;){var g,y=ce(p.value.set);try{for(y.s();!(g=y.n()).done;){var b=g.value,k=r[b.id];if(k){v=v?v+" "+k:k;break}}}catch(w){y.e(w)}finally{y.f()}}}catch(w){m.e(w)}finally{m.f()}return v},scope:f}}function YU(t,e){var n,r=null,i=ce(t);try{for(i.s();!(n=i.n()).done;){var o=n.value.style(e);o&&(r=r?r+" "+o:o)}}catch(s){i.e(s)}finally{i.f()}return r}function XU(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.length,o=new ZU(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}var jm,ZU=function(){function t(e,n,r){te(this,t),this.at=e,this.highlighters=n,this.span=r,this.class=""}return ne(t,[{key:"startSpan",value:function(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,n,r,i,o){var s=e.type,a=e.from,u=e.to;if(!(a>=r||u<=n)){s.isTop&&(o=this.highlighters.filter(function(_){return!_.scope||_.scope(s)}));for(var l=i,f=s.prop(_I),c=!1;f;){if(!f.context||e.matchContext(f.context)){var d=YU(o,f.tags);d&&(l&&(l+=" "),l+=d,f.mode==1?i+=(i?" ":"")+d:f.mode==0&&(c=!0));break}f=f.next}if(this.startSpan(e.from,l),!c){var h=e.tree&&e.tree.prop(cr.mounted);if(h&&h.overlay){for(var p=e.node.enter(h.overlay[0].from+a,1),v=this.highlighters.filter(function(_){return!_.scope||_.scope(h.tree.type)}),m=e.firstChild(),g=0,y=a;;g++){var b=g<h.overlay.length?h.overlay[g]:null,k=b?b.from+a:u,w=Math.max(n,y),C=Math.min(r,k);if(w<C&&m)for(;e.from<C&&(this.highlightRange(e,w,C,i,o),this.startSpan(Math.min(r,e.to),l),!(e.to>=k)&&e.nextSibling()););if(!b||k>r)break;(y=b.to+a)>n&&(this.highlightRange(p.cursor(),Math.max(n,b.from+a),Math.min(r,y),i,v),this.startSpan(y,l))}m&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),l)}while(e.nextSibling());e.parent()}}}}}]),t}(),ot=ea.define,Od=ot(),ta=ot(),WC=ot(ta),UC=ot(ta),na=ot(),Ed=ot(na),_m=ot(na),Ko=ot(),Ha=ot(Ko),Ho=ot(),Wo=ot(),T0=ot(),ec=ot(T0),Td=ot(),et={comment:Od,lineComment:ot(Od),blockComment:ot(Od),docComment:ot(Od),name:ta,variableName:ot(ta),typeName:WC,tagName:ot(WC),propertyName:UC,attributeName:ot(UC),className:ot(ta),labelName:ot(ta),namespace:ot(ta),macroName:ot(ta),literal:na,string:Ed,docString:ot(Ed),character:ot(Ed),attributeValue:ot(Ed),number:_m,integer:ot(_m),float:ot(_m),bool:ot(na),regexp:ot(na),escape:ot(na),color:ot(na),url:ot(na),keyword:Ho,self:ot(Ho),null:ot(Ho),atom:ot(Ho),unit:ot(Ho),modifier:ot(Ho),operatorKeyword:ot(Ho),controlKeyword:ot(Ho),definitionKeyword:ot(Ho),moduleKeyword:ot(Ho),operator:Wo,derefOperator:ot(Wo),arithmeticOperator:ot(Wo),logicOperator:ot(Wo),bitwiseOperator:ot(Wo),compareOperator:ot(Wo),updateOperator:ot(Wo),definitionOperator:ot(Wo),typeOperator:ot(Wo),controlOperator:ot(Wo),punctuation:T0,separator:ot(T0),bracket:ec,angleBracket:ot(ec),squareBracket:ot(ec),paren:ot(ec),brace:ot(ec),content:Ko,heading:Ha,heading1:ot(Ha),heading2:ot(Ha),heading3:ot(Ha),heading4:ot(Ha),heading5:ot(Ha),heading6:ot(Ha),contentSeparator:ot(Ko),list:ot(Ko),quote:ot(Ko),emphasis:ot(Ko),strong:ot(Ko),link:ot(Ko),monospace:ot(Ko),strikethrough:ot(Ko),inserted:ot(),deleted:ot(),changed:ot(),invalid:ot(),meta:Td,documentMeta:ot(Td),annotation:ot(Td),processingInstruction:ot(Td),definition:ea.defineModifier(),constant:ea.defineModifier(),function:ea.defineModifier(),standard:ea.defineModifier(),local:ea.defineModifier(),special:ea.defineModifier()};SI([{tag:et.link,class:"tok-link"},{tag:et.heading,class:"tok-heading"},{tag:et.emphasis,class:"tok-emphasis"},{tag:et.strong,class:"tok-strong"},{tag:et.keyword,class:"tok-keyword"},{tag:et.atom,class:"tok-atom"},{tag:et.bool,class:"tok-bool"},{tag:et.url,class:"tok-url"},{tag:et.labelName,class:"tok-labelName"},{tag:et.inserted,class:"tok-inserted"},{tag:et.deleted,class:"tok-deleted"},{tag:et.literal,class:"tok-literal"},{tag:et.string,class:"tok-string"},{tag:et.number,class:"tok-number"},{tag:[et.regexp,et.escape,et.special(et.string)],class:"tok-string2"},{tag:et.variableName,class:"tok-variableName"},{tag:et.local(et.variableName),class:"tok-variableName tok-local"},{tag:et.definition(et.variableName),class:"tok-variableName tok-definition"},{tag:et.special(et.variableName),class:"tok-variableName2"},{tag:et.definition(et.propertyName),class:"tok-propertyName tok-definition"},{tag:et.typeName,class:"tok-typeName"},{tag:et.namespace,class:"tok-namespace"},{tag:et.className,class:"tok-className"},{tag:et.macroName,class:"tok-macroName"},{tag:et.propertyName,class:"tok-propertyName"},{tag:et.operator,class:"tok-operator"},{tag:et.comment,class:"tok-comment"},{tag:et.meta,class:"tok-meta"},{tag:et.invalid,class:"tok-invalid"},{tag:et.punctuation,class:"tok-punctuation"}]);var af=new qn,Oo=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];te(this,t),this.data=e,er.prototype.hasOwnProperty("tree")||Object.defineProperty(er.prototype,"tree",{get:function(){return ri(this)}}),this.parser=n,this.extension=[ja.of(this),er.languageData.of(function(i,o,s){return i.facet(JC(i,o,s))})].concat(r)}return ne(t,[{key:"isActiveAt",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;return JC(e,n,r)==this.data}},{key:"findRegions",value:function(e){var n=this,r=e.facet(ja);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];var i=[];return function o(s,a){if(s.prop(af)!=n.data){var u=s.prop(qn.mounted);if(u){if(u.tree.prop(af)==n.data){if(u.overlay){var l,f=ce(u.overlay);try{for(f.s();!(l=f.n()).done;){var c=l.value;i.push({from:c.from+a,to:c.to+a})}}catch(v){f.e(v)}finally{f.f()}}else i.push({from:a,to:a+s.length});return}if(u.overlay){var d=i.length;if(o(u.tree,u.overlay[0].from+a),i.length>d)return}}for(var h=0;h<s.children.length;h++){var p=s.children[h];p instanceof Bi&&o(p,s.positions[h]+a)}}else i.push({from:a,to:a+s.length})}(ri(e),0),i}},{key:"allowsNesting",get:function(){return!0}}]),t}();function JC(t,e,n){var r=t.facet(ja);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var o=ri(t).topNode;o;o=o.enter(e,n,Gr.ExcludeBuffers))i=o.type.prop(af)||i;return i}Oo.setState=ln.define();var eJ=function(t){Be(n,Oo);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this,r,i)).parser=i,o}return ne(n,[{key:"configure",value:function(r){return new n(this.data,this.parser.configure(r))}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(r){var i,o=(i=r.languageData,Ct.define({combine:i?function(s){return s.concat(i)}:void 0}));return new n(o,r.parser.configure({props:[af.add(function(s){return s.isTop?o:void 0})]}))}}]),n}();function ri(t){var e=t.field(Oo.state,!1);return e?e.tree:Bi.empty}var tJ=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;te(this,t),this.doc=e,this.length=n,this.cursorPos=0,this.string="",this.cursor=e.iter()}return ne(t,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,n){var r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}]),t}(),tc=null,nJ=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;te(this,t),this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}return ne(t,[{key:"startParse",value:function(){return this.parser.startParse(new tJ(this.state.doc),this.fragments)}},{key:"work",value:function(e,n){var r=this;return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Bi.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(function(){var i;if(typeof e=="number"){var o=Date.now()+e;e=function(){return Date.now()>o}}for(r.parse||(r.parse=r.startParse()),n!=null&&(r.parse.stoppedAt==null||r.parse.stoppedAt>n)&&n<r.state.doc.length&&r.parse.stopAt(n);;){var s=r.parse.advance();if(s){if(r.fragments=r.withoutTempSkipped(oh.addTree(s,r.fragments,r.parse.stoppedAt!=null)),r.treeLen=(i=r.parse.stoppedAt)!==null&&i!==void 0?i:r.state.doc.length,r.tree=s,r.parse=null,!(r.treeLen<(n!=null?n:r.state.doc.length)))return!0;r.parse=r.startParse()}if(e())return!1}})}},{key:"takeTree",value:function(){var e,n,r=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(function(){for(;!(n=r.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(oh.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var n=tc;tc=this;try{return e()}finally{tc=n}}},{key:"withoutTempSkipped",value:function(e){for(var n;n=this.tempSkipped.pop();)e=KC(e,n.from,n.to);return e}},{key:"changes",value:function(e,n){var r=this.fragments,i=this.tree,o=this.treeLen,s=this.viewport,a=this.skipped;if(this.takeTree(),!e.empty){var u=[];if(e.iterChangedRanges(function(p,v,m,g){return u.push({fromA:p,toA:v,fromB:m,toB:g})}),r=oh.applyChanges(r,u),i=Bi.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];var l,f=ce(this.skipped);try{for(f.s();!(l=f.n()).done;){var c=l.value,d=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);d<h&&a.push({from:d,to:h})}}catch(p){f.e(p)}finally{f.f()}}}return new t(this.parser,n,r,i,o,s,a,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var n=this.skipped.length,r=0;r<this.skipped.length;r++){var i=this.skipped[r],o=i.from,s=i.to;o<e.to&&s>e.from&&(this.fragments=KC(this.fragments,o,s),this.skipped.splice(r--,1))}return!(this.skipped.length>=n)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,n){this.skipped.push({from:e,to:n})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}}],[{key:"create",value:function(e,n,r){return new t(e,n,[],Bi.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(n){Be(i,FU);var r=ze(i);function i(){return te(this,i),r.apply(this,arguments)}return ne(i,[{key:"createParse",value:function(o,s,a){var u=a[0].from,l=a[a.length-1].to;return{parsedPos:u,advance:function(){var f=tc;if(f){var c,d=ce(a);try{for(d.s();!(c=d.n()).done;){var h=c.value;f.tempSkipped.push(h)}}catch(p){d.e(p)}finally{d.f()}e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Bi(hs.none,[],[],l-u)},stoppedAt:null,stopAt:function(){}}}}]),i}())}},{key:"get",value:function(){return tc}}]),t}();function KC(t,e,n){return oh.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}var P0=function(){function t(e){te(this,t),this.context=e,this.tree=e.tree}return ne(t,[{key:"apply",value:function(e){if(!e.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new t(n)}}],[{key:"init",value:function(e){var n=Math.min(3e3,e.doc.length),r=nJ.create(e.facet(ja).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new t(r)}}]),t}();Oo.state=Vr.define({create:P0.init,update:function(t,e){var n,r=ce(e.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(Oo.setState))return i.value}}catch(o){r.e(o)}finally{r.f()}return e.startState.facet(ja)!=e.state.facet(ja)?P0.init(e.state):t.apply(e)}});var CI=function(t){var e=setTimeout(function(){return t()},500);return function(){return clearTimeout(e)}};typeof requestIdleCallback<"u"&&(CI=function(t){var e=-1,n=setTimeout(function(){e=requestIdleCallback(t,{timeout:400})},100);return function(){return e<0?clearTimeout(n):cancelIdleCallback(e)}});var Sm=typeof navigator<"u"&&((jm=navigator.scheduling)===null||jm===void 0?void 0:jm.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,rJ=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return ne(t,[{key:"update",value:function(e){var n=this.view.state.field(Oo.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,n=e.field(Oo.state);n.tree==n.context.tree&&n.context.isDone(e.doc.length)||(this.working=CI(this.work))}}},{key:"work",value:function(e){this.working=null;var n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var r=this.view,i=r.state,o=r.viewport.to,s=i.field(Oo.state);if(s.tree!=s.context.tree||!s.context.isDone(o+1e5)){var a=Date.now()+Math.min(this.chunkBudget,100,e&&!Sm?Math.max(25,e.timeRemaining()-5):1e9),u=s.context.treeLen<o&&i.doc.length>o+1e3,l=s.context.work(function(){return Sm&&Sm()||Date.now()>a},o+(u?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Oo.setState.of(new P0(s.context))})),this.chunkBudget>0&&(!l||u)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}}}},{key:"checkAsyncSchedule",value:function(e){var n=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(function(){return n.scheduleWork()}).catch(function(r){return qi(n.view.state,r)}).then(function(){return n.workScheduled--}),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),t}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),ja=Ct.define({combine:function(t){return t.length?t[0]:null},enables:[Oo.state,rJ]}),iJ=ne(function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];te(this,t),this.language=e,this.support=n,this.extension=[e,n]}),oJ=Ct.define(),_v=Ct.define({combine:function(t){if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function Zh(t){var e=t.facet(_v);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function uf(t,e){var n="",r=t.tabSize;if(t.facet(_v).charCodeAt(0)==9)for(;e>=r;)n+="	",e-=r;for(var i=0;i<e;i++)n+=" ";return n}function ib(t,e){t instanceof er&&(t=new Sv(t));var n,r=ce(t.state.facet(oJ));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(t,e);if(i!=null)return i}}catch(s){r.e(s)}finally{r.f()}var o=ri(t.state);return o?function(s,a,u){return AI(a.resolveInner(u).enterUnfinishedNodesBefore(u),u,s)}(t,o,e):null}var Sv=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te(this,t),this.state=e,this.options=n,this.unit=Zh(e)}return ne(t,[{key:"lineAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.state.doc.lineAt(e),i=this.options,o=i.simulateBreak,s=i.simulateDoubleBreak;return o!=null&&o>=r.from&&o<=r.to?s&&o==e?{text:"",from:e}:(n<0?o<e:o<=e)?{text:r.text.slice(o-r.from),from:o}:{text:r.text.slice(0,o-r.from),from:r.from}:r}},{key:"textAfterPos",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var r=this.lineAt(e,n),i=r.text,o=r.from;return i.slice(e-o,Math.min(i.length,e+100-o))}},{key:"column",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),i=r.text,o=r.from,s=this.countColumn(i,e-o),a=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return a>-1&&(s+=a-this.countColumn(i,i.search(/\S|$/))),s}},{key:"countColumn",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;return If(e,this.state.tabSize,n)}},{key:"lineIndent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,n),i=r.text,o=r.from,s=this.options.overrideIndentation;if(s){var a=s(o);if(a>-1)return a}return this.countColumn(i,i.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),t}(),$I=new qn;function sJ(t){var e=t.type.prop($I);if(e)return e;var n,r=t.firstChild;if(r&&(n=r.type.prop(qn.closedBy))){var i=t.lastChild,o=i&&n.indexOf(i.name)>-1;return function(s){return function(a,u,l,f,c){var d=a.textAfter,h=d.match(/^\s*/)[0].length,p=f&&d.slice(h,h+f.length)==f||c==a.pos+h,v=u?function(m){var g=m.node,y=g.childAfter(g.from),b=g.lastChild;if(!y)return null;for(var k=m.options.simulateBreak,w=m.state.doc.lineAt(y.from),C=k==null||k<=w.from?w.to:Math.min(w.to,k),_=y.to;;){var T=g.childAfter(_);if(!T||T==b)return null;if(!T.type.isSkipped)return T.from<C?y:null;_=T.to}}(a):null;return v?p?a.column(v.from):a.column(v.to):a.baseIndent+(p?0:a.unit*l)}(s,!0,1,void 0,o&&!function(a){return a.pos==a.options.simulateBreak&&a.options.simulateDoubleBreak}(s)?i.from:void 0)}}return t.parent==null?aJ:null}function AI(t,e,n){for(;t;t=t.parent){var r=sJ(t);if(r)return r(uJ.create(n,e,t))}return null}function aJ(){return 0}var uJ=function(t){Be(n,Sv);var e=ze(n);function n(r,i,o){var s;return te(this,n),(s=e.call(this,r.state,r.options)).base=r,s.pos=i,s.node=o,s}return ne(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var r=this.state.doc.lineAt(this.node.from);;){for(var i=this.node.resolve(r.from);i.parent&&i.parent.from==i.from;)i=i.parent;if(lJ(i,this.node))break;r=this.state.doc.lineAt(i.from)}return this.lineIndent(r.from)}},{key:"continue",value:function(){var r=this.node.parent;return r?AI(r,this.pos,this.base):0}}],[{key:"create",value:function(r,i,o){return new n(r,i,o)}}]),n}();function lJ(t,e){for(var n=e;n;n=n.parent)if(t==n)return!0;return!1}function GC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.except,n=t.units,r=n===void 0?1:n;return function(i){var o=e&&e.test(i.textAfter);return i.baseIndent+(o?0:r*i.unit)}}function cJ(){return er.transactionFilter.of(function(t){if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;var e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;var n=t.newDoc,r=t.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return t;var o=n.sliceString(i.from,r);if(!e.some(function(m){return m.test(o)}))return t;var s,a=t.state,u=-1,l=[],f=ce(a.selection.ranges);try{for(f.s();!(s=f.n()).done;){var c=s.value.head,d=a.doc.lineAt(c);if(d.from!=u){u=d.from;var h=ib(a,d.from);if(h!=null){var p=/^\s*/.exec(d.text)[0],v=uf(a,h);p!=v&&l.push({from:d.from,to:d.from+p.length,insert:v})}}}}catch(m){f.e(m)}finally{f.f()}return l.length?[t,{changes:l,sequential:!0}]:t})}var fJ=Ct.define(),OI=new qn;function ep(t,e,n){var r,i=ce(t.facet(fJ));try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(t,e,n);if(o)return o}}catch(s){i.e(s)}finally{i.f()}return function(s,a,u){var l=ri(s);if(l.length<u)return null;for(var f,c,d=null,h=l.resolveInner(u);h;h=h.parent)if(!(h.to<=u||h.from>u)){if(d&&h.from<a)break;var p=h.type.prop(OI);if(p&&(h.to<l.length-50||l.length==s.doc.length||(c=void 0,!(c=(f=h).lastChild)||c.to!=f.to||!c.type.isError))){var v=p(h,s);v&&v.from<=u&&v.from>=a&&v.to>u&&(d=v)}}return d}(t,e,n)}function EI(t,e){var n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}var tp=ln.define({map:EI}),lf=ln.define({map:EI});function QC(t){var e,n=[],r=ce(t.state.selection.ranges);try{var i=function(){var o=e.value.head;if(n.some(function(s){return s.from<=o&&s.to>=o}))return"continue";n.push(t.lineBlockAt(o))};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}var mu=Vr.define({create:function(){return It.none},update:function(t,e){t=t.map(e.changes);var n,r=ce(e.effects);try{var i=function(){var a=n.value;a.is(tp)&&!function(u,l,f){var c=!1;return u.between(l,l,function(d,h){d==l&&h==f&&(c=!0)}),c}(t,a.value.from,a.value.to)?t=t.update({add:[pJ.range(a.value.from,a.value.to)]}):a.is(lf)&&(t=t.update({filter:function(u,l){return a.value.from!=u||a.value.to!=l},filterFrom:a.value.from,filterTo:a.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}if(e.selection){var o=!1,s=e.selection.main.head;t.between(s,s,function(a,u){a<s&&u>s&&(o=!0)}),o&&(t=t.update({filterFrom:s,filterTo:s,filter:function(a,u){return u<=s||a>=s}}))}return t},provide:function(t){return Ot.decorations.from(t)}});function np(t,e,n){var r,i=null;return(r=t.field(mu,!1))===null||r===void 0||r.between(e,n,function(o,s){(!i||i.from>o)&&(i={from:o,to:s})}),i}function YC(t,e){return t.field(mu,!1)?e:e.concat(ln.appendConfig.of(PI()))}function XC(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Ot.announce.of("".concat(t.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(t.state.phrase("to")," ").concat(i,"."))}var dJ=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(t){var e,n=ce(QC(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=ep(t.state,r.from,r.to);if(i)return t.dispatch({effects:YC(t.state,[tp.of(i),XC(t,i)])}),!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(t){if(!t.state.field(mu,!1))return!1;var e,n=[],r=ce(QC(t));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=np(t.state,i.from,i.to);o&&n.push(lf.of(o),XC(t,o,!1))}}catch(s){r.e(s)}finally{r.f()}return n.length&&t.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(t){for(var e=t.state,n=[],r=0;r<e.doc.length;){var i=t.lineBlockAt(r),o=ep(e,i.from,i.to);o&&n.push(tp.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:YC(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(t){var e=t.state.field(mu,!1);if(!e||!e.size)return!1;var n=[];return e.between(0,t.state.doc.length,function(r,i){n.push(lf.of({from:r,to:i}))}),t.dispatch({effects:n}),!0}}],hJ={placeholderDOM:null,placeholderText:"\u2026"},TI=Ct.define({combine:function(t){return ys(t,hJ)}});function PI(t){var e=[mu,gJ];return t&&e.push(TI.of(t)),e}var pJ=It.replace({widget:new(function(t){Be(n,Ia);var e=ze(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n,[{key:"toDOM",value:function(r){var i=r.state,o=i.facet(TI),s=function(u){var l=r.lineBlockAt(r.posAtDOM(u.target)),f=np(r.state,l.from,l.to);f&&r.dispatch({effects:lf.of(f)}),u.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(r,s);var a=document.createElement("span");return a.textContent=o.placeholderText,a.setAttribute("aria-label",i.phrase("folded code")),a.title=i.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}}]),n}())}),vJ={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},Cm=function(t){Be(n,Xo);var e=ze(n);function n(r,i){var o;return te(this,n),(o=e.call(this)).config=r,o.open=i,o}return ne(n,[{key:"eq",value:function(r){return this.config==r.config&&this.open==r.open}},{key:"toDOM",value:function(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);var i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=r.state.phrase(this.open?"Fold line":"Unfold line"),i}}]),n}();function mJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign(Object.assign({},vJ),t),n=new Cm(e,!0),r=new Cm(e,!1),i=Wr.fromClass(function(){function s(a){te(this,s),this.from=a.viewport.from,this.markers=this.buildMarkers(a)}return ne(s,[{key:"update",value:function(a){(a.docChanged||a.viewportChanged||a.startState.facet(ja)!=a.state.facet(ja)||a.startState.field(mu,!1)!=a.state.field(mu,!1)||ri(a.startState)!=ri(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}},{key:"buildMarkers",value:function(a){var u,l=new dl,f=ce(a.viewportLineBlocks);try{for(f.s();!(u=f.n()).done;){var c=u.value,d=np(a.state,c.from,c.to)?r:ep(a.state,c.from,c.to)?n:null;d&&l.add(c.from,c.from,d)}}catch(h){f.e(h)}finally{f.f()}return l.finish()}}]),s}()),o=e.domEventHandlers;return[i,pI({class:"cm-foldGutter",markers:function(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||tr.empty},initialSpacer:function(){return new Cm(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:function(s,a,u){if(o.click&&o.click(s,a,u))return!0;var l=np(s.state,a.from,a.to);if(l)return s.dispatch({effects:lf.of(l)}),!0;var f=ep(s.state,a.from,a.to);return!!f&&(s.dispatch({effects:tp.of(f)}),!0)}})}),PI()]}var gJ=Ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),ob=function(){function t(e,n){var r;function i(a){var u=wa.newName();return(r||(r=Object.create(null)))["."+u]=a,u}te(this,t);var o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof Oo?function(a){return a.prop(af)==s.data}:s?function(a){return a==s}:void 0,this.style=SI(e.map(function(a){return{tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))}}),{all:o}).style,this.module=r?new wa(r):null,this.themeType=n.themeType}return ne(t,null,[{key:"define",value:function(e,n){return new t(e,n||{})}}]),t}(),M0=Ct.define(),MI=Ct.define({combine:function(t){return t.length?[t[0]]:null}});function $m(t){var e=t.facet(M0);return e.length?e:t.facet(MI)}function II(t,e){var n,r=[bJ];return t instanceof ob&&(t.module&&r.push(Ot.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(MI.of(t)):n?r.push(M0.computeN([Ot.darkTheme],function(i){return i.facet(Ot.darkTheme)==(n=="dark")?[t]:[]})):r.push(M0.of(t)),r}var yJ=function(){function t(e){te(this,t),this.markCache=Object.create(null),this.tree=ri(e.state),this.decorations=this.buildDeco(e,$m(e.state))}return ne(t,[{key:"update",value:function(e){var n=ri(e.state),r=$m(e.state),i=r!=$m(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}},{key:"buildDeco",value:function(e,n){var r=this;if(!n||!this.tree.length)return It.none;var i,o=new dl,s=ce(e.visibleRanges);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=a.from,l=a.to;XU(this.tree,n,function(f,c,d){o.add(f,c,r.markCache[d]||(r.markCache[d]=It.mark({class:d})))},u,l)}}catch(f){s.e(f)}finally{s.f()}return o.finish()}}]),t}(),bJ=Mf.high(Wr.fromClass(yJ,{decorations:function(t){return t.decorations}})),kJ=ob.define([{tag:et.meta,color:"#7a757a"},{tag:et.link,textDecoration:"underline"},{tag:et.heading,textDecoration:"underline",fontWeight:"bold"},{tag:et.emphasis,fontStyle:"italic"},{tag:et.strong,fontWeight:"bold"},{tag:et.strikethrough,textDecoration:"line-through"},{tag:et.keyword,color:"#708"},{tag:[et.atom,et.bool,et.url,et.contentSeparator,et.labelName],color:"#219"},{tag:[et.literal,et.inserted],color:"#164"},{tag:[et.string,et.deleted],color:"#a11"},{tag:[et.regexp,et.escape,et.special(et.string)],color:"#e40"},{tag:et.definition(et.variableName),color:"#00f"},{tag:et.local(et.variableName),color:"#30a"},{tag:[et.typeName,et.namespace],color:"#085"},{tag:et.className,color:"#167"},{tag:[et.special(et.variableName),et.macroName],color:"#256"},{tag:et.definition(et.propertyName),color:"#00c"},{tag:et.comment,color:"#940"},{tag:et.invalid,color:"#f00"}]),wJ=Ot.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),NI=Ct.define({combine:function(t){return ys(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:_J})}}),xJ=It.mark({class:"cm-matchingBracket"}),jJ=It.mark({class:"cm-nonmatchingBracket"});function _J(t){var e=[],n=t.matched?xJ:jJ;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}var SJ=[Vr.define({create:function(){return It.none},update:function(t,e){if(!e.docChanged&&!e.selection)return t;var n,r=[],i=e.state.facet(NI),o=ce(e.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.empty){var a=ns(e.state,s.head,-1,i)||s.head>0&&ns(e.state,s.head-1,1,i)||i.afterCursor&&(ns(e.state,s.head,1,i)||s.head<e.state.doc.length&&ns(e.state,s.head+1,-1,i));a&&(r=r.concat(i.renderMatch(a,e.state)))}}}catch(u){o.e(u)}finally{o.f()}return It.set(r,!0)},provide:function(t){return Ot.decorations.from(t)}}),wJ];function CJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[NI.of(t),SJ]}function I0(t,e,n){var r=t.prop(e<0?qn.openedBy:qn.closedBy);if(r)return r;if(t.name.length==1){var i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function ns(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.maxScanDistance||1e4,o=r.brackets||"()[]{}",s=ri(t),a=s.resolveInner(e,n),u=a;u;u=u.parent){var l=I0(u.type,n,o);if(l&&u.from<u.to)return $J(t,e,n,u,l,o)}return AJ(t,e,n,s,a.type,i,o)}function $J(t,e,n,r,i,o){var s=r.parent,a={from:r.from,to:r.to},u=0,l=s==null?void 0:s.cursor();if(l&&(n<0?l.childBefore(r.from):l.childAfter(r.to)))do if(n<0?l.to<=r.from:l.from>=r.to){if(u==0&&i.indexOf(l.type.name)>-1&&l.from<l.to)return{start:a,end:{from:l.from,to:l.to},matched:!0};if(I0(l.type,n,o))u++;else if(I0(l.type,-n,o)&&--u==0)return{start:a,end:l.from==l.to?void 0:{from:l.from,to:l.to},matched:!1}}while(n<0?l.prevSibling():l.nextSibling());return{start:a,matched:!1}}function AJ(t,e,n,r,i,o,s){var a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=s.indexOf(a);if(u<0||u%2==0!=n>0)return null;for(var l={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),c=0,d=0;!f.next().done&&d<=o;){var h=f.value;n<0&&(d+=h.length);for(var p=e+d*n,v=n>0?0:h.length-1,m=n>0?h.length:-1;v!=m;v+=n){var g=s.indexOf(h[v]);if(!(g<0||r.resolve(p+v,1).type!=i))if(g%2==0==n>0)c++;else{if(c==1)return{start:l,end:{from:p+v,to:p+v+1},matched:g>>1==u>>1};c--}}n>0&&(d+=h.length)}return f.done?{start:l,matched:!1}:null}for(var OJ=Object.create(null),ZC=[hs.none],e3=[],EJ=Object.create(null),Am=0,t3=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Am<t3.length;Am++){var n3=Et(t3[Am],2),TJ=n3[0],PJ=n3[1];EJ[TJ]=MJ(OJ,PJ)}function Om(t,e){e3.indexOf(t)>-1||(e3.push(t),console.warn(e))}function MJ(t,e){var n,r=null,i=ce(e.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t[o]||et[o];s?typeof s=="function"?r?r=s(r):Om(o,"Modifier ".concat(o," used at start of tag")):r?Om(o,"Tag ".concat(o," used as modifier")):r=s:Om(o,"Unknown highlighting tag ".concat(o))}}catch(l){i.e(l)}finally{i.f()}if(!r)return 0;var a=e.replace(/ /g,"_"),u=hs.define({id:ZC.length,name:a,props:[jI(ol({},a,r))]});return ZC.push(u),u.id}var IJ=0,ir=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,t),this.id=IJ++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ne(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gu.match(e)),function(r){var i=e(r);return i===void 0?null:[n,i]}}}]),t}();ir.closedBy=new ir({deserialize:function(t){return t.split(" ")}}),ir.openedBy=new ir({deserialize:function(t){return t.split(" ")}}),ir.group=new ir({deserialize:function(t){return t.split(" ")}}),ir.contextHash=new ir({perNode:!0}),ir.lookAhead=new ir({perNode:!0}),ir.mounted=new ir({perNode:!0});var NJ=Object.create(null),gu=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;te(this,t),this.name=e,this.props=n,this.id=r,this.flags=i}return ne(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(ir.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):NJ,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",n,e.id,r);if(e.props){var o,s=ce(e.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(u){s.e(u)}finally{s.f()}}return i}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var i,o=ce(r.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;n[s]=e[r]}}catch(a){o.e(a)}finally{o.f()}}return function(a){for(var u=a.prop(ir.group),l=-1;l<(u?u.length:0);l++){var f=n[l<0?a.name:u[l]];if(f)return f}}}}]),t}();gu.none=new gu("",Object.create(null),0,8);var ci,Pd=new WeakMap,r3=new WeakMap;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(ci||(ci={}));var du=function(){function t(e,n,r,i,o){if(te(this,t),this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var s,a=ce(o);try{for(a.s();!(s=a.n()).done;){var u=Et(s.value,2),l=u[0],f=u[1];this.props[typeof l=="number"?l:l.id]=f}}catch(c){a.e(c)}finally{a.f()}}}return ne(t,[{key:"toString",value:function(){var e=this.prop(ir.mounted);if(e&&!e.overlay)return e.tree.toString();var n,r="",i=ce(this.children);try{for(i.s();!(n=i.n()).done;){var o=n.value.toString();o&&(r&&(r+=","),r+=o)}}catch(s){i.e(s)}finally{i.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new op(this.topNode,e)}},{key:"cursorAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Pd.get(this)||this.topNode,i=new op(r);return i.moveTo(e,n),Pd.set(this,i._tree),i}},{key:"topNode",get:function(){return new cf(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=ml(Pd.get(this)||this.topNode,e,n,!1);return Pd.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=ml(r3.get(this)||this.topNode,e,n,!0);return r3.set(this,r),r}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,i=e.from,o=i===void 0?0:i,s=e.to,a=s===void 0?this.length:s,u=this.cursor((e.mode||0)|ci.IncludeAnonymous);;){var l=!1;if(u.from<=a&&u.to>=o&&(u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;l=!0}for(;l&&r&&!u.type.isAnonymous&&r(u),!u.nextSibling();){if(!u.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:ab(gu.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,i,o){return new t(e.type,r,i,o,e.propValues)},n.makeTree||function(r,i,o){return new t(gu.none,r,i,o)})}}],[{key:"build",value:function(e){return RJ(e)}}]),t}();du.empty=new du(gu.none,[],[],0);var LJ=function(){function t(e,n){te(this,t),this.buffer=e,this.index=n}return ne(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),Rf=function(){function t(e,n,r){te(this,t),this.buffer=e,this.length=n,this.set=r}return ne(t,[{key:"type",get:function(){return gu.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;for(var s=[];e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}},{key:"findChild",value:function(e,n,r,i,o){for(var s=this.buffer,a=-1,u=e;u!=n&&!(LI(o,i,s[u+1],s[u+2])&&(a=u,r>0));u=s[u+3]);return a}},{key:"slice",value:function(e,n,r,i){for(var o=this.buffer,s=new Uint16Array(n-e),a=e,u=0;a<n;)s[u++]=o[a++],s[u++]=o[a++]-r,s[u++]=o[a++]-r,s[u++]=o[a++]-e;return new t(s,i-r,this.set)}}]),t}();function LI(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function DI(t,e){for(var n=t.childBefore(e);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function ml(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var o=!r&&t instanceof cf&&t.index<0?null:t.parent;if(!o)return t;t=o}var s=r?0:ci.IgnoreOverlays;if(r)for(var a=t,u=a.parent;u;u=(a=u).parent)a instanceof cf&&a.index<0&&((i=u.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=u);for(;;){var l=t.enter(e,n,s);if(!l)return t;t=l}}var cf=function(){function t(e,n,r,i){te(this,t),this._tree=e,this.from=n,this.index=r,this._parent=i}return ne(t,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,n,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=this;;){for(var a=s._tree,u=a.children,l=a.positions,f=n>0?u.length:-1;e!=f;e+=n){var c=u[e],d=l[e]+s.from;if(LI(i,r,d,d+c.length)){if(c instanceof Rf){if(o&ci.ExcludeBuffers)continue;var h=c.findChild(0,c.buffer.length,n,r-d,i);if(h>-1)return new N0(new DJ(s,c,e,d),null,h)}else if(o&ci.IncludeAnonymous||!c.type.isAnonymous||sb(c)){var p=void 0;if(!(o&ci.IgnoreMounts)&&c.props&&(p=c.prop(ir.mounted))&&!p.overlay)return new t(p.tree,d,e,s);var v=new t(c,d,e,s);return o&ci.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&ci.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,!(s=s._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(i&ci.IgnoreOverlays)&&(r=this._tree.prop(ir.mounted))&&r.overlay){var o,s=e-this.from,a=ce(r.overlay);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=u.from,f=u.to;if((n>0?l<=s:l<s)&&(n<0?f>=s:f>s))return new t(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(c){a.e(c)}finally{a.f()}}return this.nextChild(0,1,e,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new op(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ml(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ml(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return DI(this,e)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=rp(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return rp(this,e,n,r)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return ip(this,e)}}]),t}();function rp(t,e,n,r){var i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function ip(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var DJ=ne(function t(e,n,r,i){te(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=i}),N0=function(){function t(e,n,r){te(this,t),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new t(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r&ci.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new t(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new op(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],n=[],r=this.context.buffer,i=this.index+4,o=r.buffer[this.index+3];if(o>i){var s=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(i,o,s,a)),n.push(0)}return new du(this.type,e,n,this.to-this.from)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ml(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ml(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return DI(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=rp(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return rp(this,e,n,r)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return ip(this,e)}}]),t}(),op=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(te(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof cf)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,i=r.start,o=r.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof cf?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));var i=this.buffer.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&ci.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&ci.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&ci.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{var o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;n=i.index,r=i.parent}else{var s=this._tree;n=s.index,r=s._parent}for(;r;n=(a=r).index,r=a._parent,a){var a;if(n>-1)for(var u=n+e,l=e<0?-1:r._tree.children.length;u!=l;u+=e){var f=r._tree.children[u];if(this.mode&ci.IncludeAnonymous||f instanceof Rf||!f.type.isAnonymous||sb(f))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var i=this.index,o=this.stack.length;o>=0;){for(var s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(var a=r;a<this.stack.length;a++)n=new N0(this.buffer,n,this.stack[a]);return this.bufferNode=new N0(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,n){for(var r=0;;){var i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return ip(this.node,e);for(var n=this.buffer.buffer,r=n.set.types,i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return ip(this.node,e,i);var s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}]),t}();function sb(t){return t.children.some(function(e){return e instanceof Rf||!e.type.isAnonymous||sb(e)})}function RJ(t){var e,n=t.buffer,r=t.nodeSet,i=t.maxBufferLength,o=i===void 0?1024:i,s=t.reused,a=s===void 0?[]:s,u=t.minRepeatType,l=u===void 0?r.types.length:u,f=Array.isArray(n)?new LJ(n,n.length):n,c=r.types,d=0,h=0;function p(w,C,_,T,j){for(var O=f.id,S=f.start,N=f.end,A=f.size,$=h;A<0;){if(f.next(),A==-1){var q=a[O];return _.push(q),void T.push(S-w)}if(A==-3)return void(d=O);if(A==-4)return void(h=O);throw new RangeError("Unrecognized record size: ".concat(A))}var Y,z,J=c[O],L=S-w;if(N-S<=o&&(z=function(je,R){var H=f.fork(),I=0,B=0,Z=0,le=H.end-o,X={size:0,start:0,skip:0};e:for(var V=H.pos-je;H.pos>V;){var _e=H.size;if(H.id==R&&_e>=0)X.size=I,X.start=B,X.skip=Z,Z+=4,I+=4,H.next();else{var Se=H.pos-_e;if(_e<0||Se<V||H.start<le)break;var xe=H.id>=l?4:0,he=H.start;for(H.next();H.pos>Se;){if(H.size<0){if(H.size!=-3)break e;xe+=4}else H.id>=l&&(xe+=4);H.next()}B=he,I+=_e,Z+=xe}}return(R<0||I==je)&&(X.size=I,X.start=B,X.skip=Z),X.size>4?X:void 0}(f.pos-C,j))){for(var D=new Uint16Array(z.size-z.skip),U=f.pos-z.size,W=D.length;f.pos>U;)W=g(z.start,D,W);Y=new Rf(D,N-z.start,r),L=z.start-w}else{var F=f.pos-A;f.next();for(var E=[],x=[],M=O>=l?O:-1,K=0,se=N;f.pos>F;)M>=0&&f.id==M&&f.size>=0?(f.end<=se-o&&(v(E,x,S,K,f.end,se,M,$),K=E.length,se=f.end),f.next()):p(S,F,E,x,M);if(M>=0&&K>0&&K<E.length&&v(E,x,S,K,S,se,M,$),E.reverse(),x.reverse(),M>-1&&K>0){var we=function(je){return function(R,H,I){var B,Z,le=0,X=R.length-1;if(X>=0&&(B=R[X])instanceof du){if(!X&&B.type==je&&B.length==I)return B;(Z=B.prop(ir.lookAhead))&&(le=H[X]+B.length+Z)}return m(je,R,H,I,le)}}(J);Y=ab(J,E,x,0,E.length,0,N-S,we,we)}else Y=m(J,E,x,N-S,$-N)}_.push(Y),T.push(L)}function v(w,C,_,T,j,O,S,N){for(var A=[],$=[];w.length>T;)A.push(w.pop()),$.push(C.pop()+_-j);w.push(m(r.types[S],A,$,O-j,N-O)),C.push(j-_)}function m(w,C,_,T){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5?arguments[5]:void 0;if(d){var S=[ir.contextHash,d];O=O?[S].concat(O):[S]}if(j>25){var N=[ir.lookAhead,j];O=O?[N].concat(O):[N]}return new du(w,C,_,T,O)}function g(w,C,_){var T=f.id,j=f.start,O=f.end,S=f.size;if(f.next(),S>=0&&T<l){var N=_;if(S>4)for(var A=f.pos-(S-4);f.pos>A;)_=g(w,C,_);C[--_]=N,C[--_]=O-w,C[--_]=j-w,C[--_]=T}else S==-3?d=T:S==-4&&(h=T);return _}for(var y=[],b=[];f.pos>0;)p(t.start||0,t.bufferStart||0,y,b,-1);var k=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new du(c[t.topID],y.reverse(),b.reverse(),k)}var i3=new WeakMap;function ah(t,e){if(!t.isAnonymous||e instanceof Rf||e.type!=t)return 1;var n=i3.get(e);if(n==null){n=1;var r,i=ce(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=t||!(o instanceof du)){n=1;break}n+=ah(t,o)}}catch(s){i.e(s)}finally{i.f()}i3.set(e,n)}return n}function ab(t,e,n,r,i,o,s,a,u){for(var l=0,f=r;f<i;f++)l+=ah(t,e[f]);var c=Math.ceil(1.5*l/8),d=[],h=[];return function p(v,m,g,y,b){for(var k=g;k<y;){var w=k,C=m[k],_=ah(t,v[k]);for(k++;k<y;k++){var T=ah(t,v[k]);if(_+T>=c)break;_+=T}if(k==w+1){if(_>c){var j=v[w];p(j.children,j.positions,0,j.children.length,m[w]+b);continue}d.push(v[w])}else{var O=m[k-1]+v[k-1].length-C;d.push(ab(t,v,m,w,k,C,O,null,u))}h.push(C+b-o)}}(e,n,r,i,0),(a||u)(d,h,s)}new ir({perNode:!0});function ub(t,e){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var o=t(e,r);return!!o&&(i(r.update(o)),!0)}}var BJ=ub(VJ,0),zJ=ub(RI,0),FJ=ub(function(t,e){return RI(t,e,function(n){var r,i=[],o=ce(n.selection.ranges);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=n.doc.lineAt(s.from),u=s.to<=a.to?a:n.doc.lineAt(s.to),l=i.length-1;l>=0&&i[l].to>a.from?i[l].to=u.to:i.push({from:a.from,to:u.to})}}catch(f){o.e(f)}finally{o.f()}return i}(e))},0);function lb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.selection.main.head,n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function qJ(t,e,n,r){var i,o,s=e.open,a=e.close,u=t.sliceDoc(n-50,n),l=t.sliceDoc(r,r+50),f=/\s*$/.exec(u)[0].length,c=/^\s*/.exec(l)[0].length,d=u.length-f;if(u.slice(d-s.length,d)==s&&l.slice(c,c+a.length)==a)return{open:{pos:n-f,margin:f&&1},close:{pos:r+c,margin:c&&1}};r-n<=100?i=o=t.sliceDoc(n,r):(i=t.sliceDoc(n,n+50),o=t.sliceDoc(r-50,r));var h=/^\s*/.exec(i)[0].length,p=/\s*$/.exec(o)[0].length,v=o.length-p-a.length;return i.slice(h,h+s.length)==s&&o.slice(v,v+a.length)==a?{open:{pos:n+h+s.length,margin:/\s/.test(i.charAt(h+s.length))?1:0},close:{pos:r-p-a.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}function RI(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,r=n.map(function(d){return lb(e,d.from).block});if(!r.every(function(d){return d}))return null;var i=n.map(function(d,h){return qJ(e,r[h],d.from,d.to)});if(t!=2&&!i.every(function(d){return d}))return{changes:e.changes(n.map(function(d,h){return i[h]?[]:[{from:d.from,insert:r[h].open+" "},{from:d.to,insert:" "+r[h].close}]}))};if(t!=1&&i.some(function(d){return d})){for(var o,s=[],a=0;a<i.length;a++)if(o=i[a]){var u=r[a],l=o,f=l.open,c=l.close;s.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:c.pos-c.margin,to:c.pos+u.close.length})}return{changes:s}}return null}function VJ(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,i=[],o=-1,s=ce(r);try{for(s.s();!(n=s.n()).done;){for(var a=n.value,u=a.from,l=a.to,f=i.length,c=1e9,d=u;d<=l;){var h=e.doc.lineAt(d);if(h.from>o&&(u==l||l>h.from)){o=h.from;var p=lb(e,d).line;if(!p)continue;var v=/^\s*/.exec(h.text)[0].length,m=v==h.length,g=h.text.slice(v,v+p.length)==p?v:-1;v<h.text.length&&v<c&&(c=v),i.push({line:h,comment:g,token:p,indent:v,empty:m,single:!1})}d=h.to+1}if(c<1e9)for(var y=f;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=c);i.length==f+1&&(i[f].single=!0)}}catch(W){s.e(W)}finally{s.f()}if(t!=2&&i.some(function(W){return W.comment<0&&(!W.empty||W.single)})){var b,k=[],w=ce(i);try{for(w.s();!(b=w.n()).done;){var C=b.value,_=C.line,T=C.token,j=C.indent,O=C.empty,S=C.single;!S&&O||k.push({from:_.from+j,insert:T+" "})}}catch(W){w.e(W)}finally{w.f()}var N=e.changes(k);return{changes:N,selection:e.selection.map(N,1)}}if(t!=1&&i.some(function(W){return W.comment>=0})){var A,$=[],q=ce(i);try{for(q.s();!(A=q.n()).done;){var Y=A.value,z=Y.line,J=Y.comment,L=Y.token;if(J>=0){var D=z.from+J,U=D+L.length;z.text[U-z.from]==" "&&U++,$.push({from:D,to:U})}}}catch(W){q.e(W)}finally{q.f()}return{changes:$}}return null}var L0=nu.define(),HJ=nu.define(),WJ=Ct.define(),BI=Ct.define({combine:function(t){return ys(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}}),cb=Vr.define({create:function(){return Ec.empty},update:function(t,e){var n,r,i=e.state.facet(BI),o=e.annotation(L0);if(o){var s=e.docChanged?Xe.single((n=e.changes,r=0,n.iterChangedRanges(function(p,v){return r=v}),r)):void 0,a=$s.fromTransaction(e,s),u=o.side,l=u==0?t.undone:t.done;return l=a?sp(l,l.length,i.minDepth,a):qI(l,e.startState.selection),new Ec(u==0?o.rest:l,u==0?l:o.rest)}var f=e.annotation(HJ);if(f!="full"&&f!="before"||(t=t.isolate()),e.annotation(bi.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);var c=$s.fromTransaction(e),d=e.annotation(bi.time),h=e.annotation(bi.userEvent);return c?t=t.addChanges(c,d,h,i.newGroupDelay,i.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,d,h,i.newGroupDelay)),f!="full"&&f!="after"||(t=t.isolate()),t},toJSON:function(t){return{done:t.done.map(function(e){return e.toJSON()}),undone:t.undone.map(function(e){return e.toJSON()})}},fromJSON:function(t){return new Ec(t.done.map($s.fromJSON),t.undone.map($s.fromJSON))}});function UJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[cb,BI.of(t),Ot.domEventHandlers({beforeinput:function(e,n){var r=e.inputType=="historyUndo"?fb:e.inputType=="historyRedo"?db:null;return!!r&&(e.preventDefault(),r(n))}})]}function Cv(t,e){return function(n){var r=n.state,i=n.dispatch;if(!e&&r.readOnly)return!1;var o=r.field(cb,!1);if(!o)return!1;var s=o.pop(t,r,e);return!!s&&(i(s),!0)}}var fb=Cv(0,!1),db=Cv(1,!1),JJ=Cv(0,!0),KJ=Cv(1,!0);function zI(t){return function(e){var n=e.field(cb,!1);if(!n)return 0;var r=t==0?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}var GJ=zI(0),QJ=zI(1),$s=function(){function t(e,n,r,i,o){te(this,t),this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return ne(t,[{key:"setSelAfter",value:function(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}},{key:"toJSON",value:function(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(function(i){return i.toJSON()})}}}],[{key:"fromJSON",value:function(e){return new t(e.changes&&Bo.fromJSON(e.changes),[],e.mapped&&Xu.fromJSON(e.mapped),e.startSelection&&Xe.fromJSON(e.startSelection),e.selectionsAfter.map(Xe.fromJSON))}},{key:"fromTransaction",value:function(e,n){var r,i=oo,o=ce(e.startState.facet(WJ));try{for(o.s();!(r=o.n()).done;){var s=(0,r.value)(e);s.length&&(i=i.concat(s))}}catch(a){o.e(a)}finally{o.f()}return!i.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,oo)}},{key:"selection",value:function(e){return new t(void 0,oo,void 0,void 0,e)}}]),t}();function sp(t,e,n,r){var i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function FI(t,e){return t.length?e.length?t.concat(e):t:e}var oo=[];function qI(t,e){if(t.length){var n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),sp(t,t.length-1,1e9,n.setSelAfter(r)))}return[$s.selection([e])]}function YJ(t){var e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Em(t,e){if(!t.length)return t;for(var n=t.length,r=oo;n;){var i=XJ(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=t.slice(0,n);return o[n-1]=i,o}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[$s.selection(r)]:oo}function XJ(t,e,n){var r=FI(t.selectionsAfter.length?t.selectionsAfter.map(function(a){return a.map(e)}):oo,n);if(!t.changes)return $s.selection(r);var i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new $s(i,ln.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}var ZJ=/^(input\.type|delete)($|\.)/,Ec=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;te(this,t),this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return ne(t,[{key:"isolate",value:function(){return this.prevTime?new t(this.done,this.undone):this}},{key:"addChanges",value:function(e,n,r,i,o){var s=this.done,a=s[s.length-1];return new t(s=a&&a.changes&&!a.changes.empty&&e.changes&&(!r||ZJ.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i&&function(u,l){var f=[],c=!1;return u.iterChangedRanges(function(d,h){return f.push(d,h)}),l.iterChangedRanges(function(d,h,p,v){for(var m=0;m<f.length;){var g=f[m++],y=f[m++];v>=g&&p<=y&&(c=!0)}}),c}(a.changes,e.changes)||r=="input.type.compose")?sp(s,s.length-1,o,new $s(e.changes.compose(a.changes),FI(e.effects,a.effects),a.mapped,a.startSelection,oo)):sp(s,s.length,o,e),oo,n,r)}},{key:"addSelection",value:function(e,n,r,i){var o,s,a=this.done.length?this.done[this.done.length-1].selectionsAfter:oo;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(o=a[a.length-1],s=e,o.ranges.length==s.ranges.length&&o.ranges.filter(function(u,l){return u.empty!=s.ranges[l].empty}).length===0)?this:new t(qI(this.done,e),this.undone,n,r)}},{key:"addMapping",value:function(e){return new t(Em(this.done,e),Em(this.undone,e),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,n,r){var i=e==0?this.done:this.undone;if(i.length==0)return null;var o=i[i.length-1];if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:L0.of({side:e,rest:YJ(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){var s=i.length==1?oo:i.slice(0,i.length-1);return o.mapped&&(s=Em(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:L0.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}}]),t}();Ec.empty=new Ec(oo,oo);var eK=[{key:"Mod-z",run:fb,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:db,preventDefault:!0},{key:"Mod-u",run:JJ,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:KJ,preventDefault:!0}];function tl(t,e){return Xe.create(t.ranges.map(e),t.mainIndex)}function cs(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function As(t,e){var n=t.state,r=t.dispatch,i=tl(n.selection,e);return!i.eq(n.selection)&&(r(cs(n,i)),!0)}function $v(t,e){return Xe.cursor(e?t.to:t.from)}function VI(t,e){return As(t,function(n){return n.empty?t.moveByChar(n,e):$v(n,e)})}function Zi(t){return t.textDirectionAt(t.state.selection.main.head)==fr.LTR}var o3=function(t){return VI(t,!Zi(t))},s3=function(t){return VI(t,Zi(t))};function a3(t,e){return As(t,function(n){return n.empty?t.moveByGroup(n,e):$v(n,e)})}function tK(t,e,n){if(e.type.prop(n))return!0;var r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Md(t,e,n){for(var r=ri(t).resolveInner(e.head),i=n?ir.closedBy:ir.openedBy,o=e.head;;){var s=n?r.childAfter(o):r.childBefore(o);if(!s)break;tK(t,s,i)?r=s:o=n?s.to:s.from}var a,u;return u=r.type.prop(i)&&(a=n?ns(t,r.from,1):ns(t,r.to,-1))&&a.matched?n?a.end.to:a.end.from:n?r.to:r.from,Xe.cursor(u,n?-1:1)}function HI(t,e){return As(t,function(n){if(!n.empty)return $v(n,e);var r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}var u3=function(t){return HI(t,!1)},l3=function(t){return HI(t,!0)};function WI(t){return Math.max(t.defaultLineHeight,Math.min(t.dom.clientHeight,innerHeight)-5)}function UI(t,e){var n=t.state,r=tl(n.selection,function(a){return a.empty?t.moveVertically(a,e,WI(t)):$v(a,e)});if(r.eq(n.selection))return!1;var i,o=t.coordsAtPos(n.selection.main.head),s=t.scrollDOM.getBoundingClientRect();return o&&o.top>s.top&&o.bottom<s.bottom&&o.top-s.top<=t.scrollDOM.scrollHeight-t.scrollDOM.scrollTop-t.scrollDOM.clientHeight&&(i=Ot.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-s.top})),t.dispatch(cs(n,r),{effects:i}),!0}var c3=function(t){return UI(t,!1)},Tm=function(t){return UI(t,!0)};function Av(t,e,n){var r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){var o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Xe.cursor(r.from+o))}return i}var f3=function(t){return As(t,function(e){return Av(t,e,!0)})},d3=function(t){return As(t,function(e){return Av(t,e,!1)})};function rs(t,e){var n=tl(t.state.selection,function(r){var i=e(r);return Xe.range(r.anchor,i.head,i.goalColumn)});return!n.eq(t.state.selection)&&(t.dispatch(cs(t.state,n)),!0)}function JI(t,e){return rs(t,function(n){return t.moveByChar(n,e)})}var h3=function(t){return JI(t,!Zi(t))},p3=function(t){return JI(t,Zi(t))};function v3(t,e){return rs(t,function(n){return t.moveByGroup(n,e)})}function KI(t,e){return rs(t,function(n){return t.moveVertically(n,e)})}var m3=function(t){return KI(t,!1)},g3=function(t){return KI(t,!0)};function GI(t,e){return rs(t,function(n){return t.moveVertically(n,e,WI(t))})}var y3=function(t){return GI(t,!1)},b3=function(t){return GI(t,!0)},k3=function(t){return rs(t,function(e){return Av(t,e,!0)})},w3=function(t){return rs(t,function(e){return Av(t,e,!1)})},x3=function(t){var e=t.state;return(0,t.dispatch)(cs(e,{anchor:0})),!0},j3=function(t){var e=t.state;return(0,t.dispatch)(cs(e,{anchor:e.doc.length})),!0},_3=function(t){var e=t.state;return(0,t.dispatch)(cs(e,{anchor:e.selection.main.anchor,head:0})),!0},S3=function(t){var e=t.state;return(0,t.dispatch)(cs(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0};function Ov(t,e){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i="delete.selection",o=n.changeByRange(function(s){var a=s.from,u=s.to;if(a==u){var l=e(a);l<a?i="delete.backward":l>a&&(i="delete.forward"),a=Math.min(a,l),u=Math.max(u,l)}return a==u?{range:s}:{changes:{from:a,to:u},range:Xe.cursor(a)}});return!o.changes.empty&&(r(n.update(o,{scrollIntoView:!0,userEvent:i})),!0)}function Ev(t,e,n){if(t instanceof Ot){var r,i=ce(t.state.facet(Ot.atomicRanges).map(function(o){return o(t)}));try{for(i.s();!(r=i.n()).done;)r.value.between(e,e,function(o,s){o<e&&s>e&&(e=n?s:o)})}catch(o){i.e(o)}finally{i.f()}}return e}var QI=function(t,e){return Ov(t,function(n){var r,i,o=t.state,s=o.doc.lineAt(n);if(!e&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if(r[r.length-1]=="	")return n-1;for(var a=If(r,o.tabSize)%Zh(o)||Zh(o),u=0;u<a&&r[r.length-1-u]==" ";u++)n--;i=n}else(i=Ri(s.text,n-s.from,e,e)+s.from)==n&&s.number!=(e?o.doc.lines:1)&&(i+=e?1:-1);return Ev(t,i,e)})},Pm=function(t){return QI(t,!1)},C3=function(t){return QI(t,!0)},YI=function(t,e){return Ov(t,function(n){for(var r=n,i=t.state,o=i.doc.lineAt(r),s=i.charCategorizer(r),a=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}var u=Ri(o.text,r-o.from,e)+o.from,l=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),f=s(l);if(a!=null&&f!=a)break;l==" "&&r==n||(a=f),r=u}return Ev(t,r,e)})},$3=function(t){return YI(t,!1)},A3=function(t){return Ov(t,function(e){var n=t.lineBlockAt(e).to;return Ev(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)})};function ap(t){var e,n=[],r=-1,i=ce(t.selection.ranges);try{for(i.s();!(e=i.n()).done;){var o=e.value,s=t.doc.lineAt(o.from),a=t.doc.lineAt(o.to);if(o.empty||o.to!=a.from||(a=t.doc.lineAt(o.to-1)),r>=s.number){var u=n[n.length-1];u.to=a.to,u.ranges.push(o)}else n.push({from:s.from,to:a.to,ranges:[o]});r=a.number+1}}catch(l){i.e(l)}finally{i.f()}return n}function O3(t,e,n){if(t.readOnly)return!1;var r,i=[],o=[],s=ce(ap(t));try{for(s.s();!(r=s.n()).done;){var a=r.value;if(n?a.to!=t.doc.length:a.from!=0){var u=t.doc.lineAt(n?a.to+1:a.from-1),l=u.length+1;if(n){i.push({from:a.to,to:u.to},{from:a.from,insert:u.text+t.lineBreak});var f,c=ce(a.ranges);try{for(c.s();!(f=c.n()).done;){var d=f.value;o.push(Xe.range(Math.min(t.doc.length,d.anchor+l),Math.min(t.doc.length,d.head+l)))}}catch(m){c.e(m)}finally{c.f()}}else{i.push({from:u.from,to:a.from},{from:a.to,insert:t.lineBreak+u.text});var h,p=ce(a.ranges);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(Xe.range(v.anchor-l,v.head-l))}}catch(m){p.e(m)}finally{p.f()}}}}}catch(m){s.e(m)}finally{s.f()}return!!i.length&&(e(t.update({changes:i,scrollIntoView:!0,selection:Xe.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0)}function E3(t,e,n){if(t.readOnly)return!1;var r,i=[],o=ce(ap(t));try{for(o.s();!(r=o.n()).done;){var s=r.value;n?i.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):i.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)})}}catch(a){o.e(a)}finally{o.f()}return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var nK=XI(!1);function XI(t){return function(e){var n=e.state,r=e.dispatch;if(n.readOnly)return!1;var i=n.changeByRange(function(o){var s=o.from,a=o.to,u=n.doc.lineAt(s),l=!t&&s==a&&function(h,p){if(/\(\)|\[\]|\{\}/.test(h.sliceDoc(p-1,p+1)))return{from:p,to:p};var v,m=ri(h).resolveInner(p),g=m.childBefore(p),y=m.childAfter(p);return g&&y&&g.to<=p&&y.from>=p&&(v=g.type.prop(ir.closedBy))&&v.indexOf(y.name)>-1&&h.doc.lineAt(g.to).from==h.doc.lineAt(y.from).from?{from:g.to,to:y.from}:null}(n,s);t&&(s=a=(a<=u.to?u:n.doc.lineAt(a)).to);var f=new Sv(n,{simulateBreak:s,simulateDoubleBreak:!!l}),c=ib(f,s);for(c==null&&(c=/^\s*/.exec(n.doc.lineAt(s).text)[0].length);a<u.to&&/\s/.test(u.text[a-u.from]);)a++;l?(s=l.from,a=l.to):s>u.from&&s<u.from+100&&!/\S/.test(u.text.slice(0,s))&&(s=u.from);var d=["",uf(n,c)];return l&&d.push(uf(n,f.lineIndent(u.from,-1))),{changes:{from:s,to:a,insert:Hn.of(d)},range:Xe.cursor(s+1+d[1].length)}});return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function hb(t,e){var n=-1;return t.changeByRange(function(r){for(var i=[],o=r.from;o<=r.to;){var s=t.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),o=s.to+1}var a=t.changes(i);return{changes:i,range:Xe.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}var ZI=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(hb(e,function(r,i){i.push({from:r.from,insert:e.facet(_v)})}),{userEvent:"input.indent"})),!0)},e9=function(t){var e=t.state,n=t.dispatch;return!e.readOnly&&(n(e.update(hb(e,function(r,i){var o=/^\s*/.exec(r.text)[0];if(o){for(var s=If(o,e.tabSize),a=0,u=uf(e,Math.max(0,s-Zh(e)));a<o.length&&a<u.length&&o.charCodeAt(a)==u.charCodeAt(a);)a++;i.push({from:r.from+a,to:r.from+o.length,insert:u.slice(a)})}}),{userEvent:"delete.dedent"})),!0)},rK=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(t){return As(t,function(e){return Md(t.state,e,!Zi(t))})},shift:function(t){return rs(t,function(e){return Md(t.state,e,!Zi(t))})}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(t){return As(t,function(e){return Md(t.state,e,Zi(t))})},shift:function(t){return rs(t,function(e){return Md(t.state,e,Zi(t))})}},{key:"Alt-ArrowUp",run:function(t){return O3(t.state,t.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(t){return E3(t.state,t.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(t){return O3(t.state,t.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(t){return E3(t.state,t.dispatch,!0)}},{key:"Escape",run:function(t){var e=t.state,n=t.dispatch,r=e.selection,i=null;return r.ranges.length>1?i=Xe.create([r.main]):r.main.empty||(i=Xe.create([Xe.cursor(r.main.head)])),!!i&&(n(cs(e,i)),!0)}},{key:"Mod-Enter",run:XI(!0)},{key:"Alt-l",mac:"Ctrl-l",run:function(t){var e=t.state,n=t.dispatch,r=ap(e).map(function(i){var o=i.from,s=i.to;return Xe.range(o,Math.min(s+1,e.doc.length))});return n(e.update({selection:Xe.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(t){var e=t.state,n=t.dispatch,r=tl(e.selection,function(i){for(var o,s=ri(e).resolveInner(i.head,1);!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from)&&((o=s.parent)===null||o===void 0?void 0:o.parent);)s=s.parent;return Xe.range(s.to,s.from)});return n(cs(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:e9},{key:"Mod-]",run:ZI},{key:"Mod-Alt-\\",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=Object.create(null),i=new Sv(e,{overrideIndentation:function(s){var a=r[s];return a==null?-1:a}}),o=hb(e,function(s,a,u){var l=ib(i,s.from);if(l!=null){/\S/.test(s.text)||(l=0);var f=/^\s*/.exec(s.text)[0],c=uf(e,l);(f!=c||u.from<s.from+f.length)&&(r[s.from]=l,a.push({from:s.from,to:s.from+f.length,insert:c}))}});return o.changes.empty||n(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(t){if(t.state.readOnly)return!1;var e=t.state,n=e.changes(ap(e).map(function(i){var o=i.from,s=i.to;return o>0?o--:s<e.doc.length&&s++,{from:o,to:s}})),r=tl(e.selection,function(i){return t.moveVertically(i,!0)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(t){return function(e,n,r){var i=!1,o=tl(e.selection,function(s){var a=ns(e,s.head,-1)||ns(e,s.head,1)||s.head>0&&ns(e,s.head-1,1)||s.head<e.doc.length&&ns(e,s.head+1,-1);if(!a||!a.end)return s;i=!0;var u=a.start.from==s.head?a.end.to:a.end.from;return r?Xe.range(s.anchor,u):Xe.cursor(u)});return!!i&&(n(cs(e,o)),!0)}(t.state,t.dispatch,!1)}},{key:"Mod-/",run:function(t){var e=lb(t.state);return e.line?BJ(t):!!e.block&&FJ(t)}},{key:"Alt-A",run:zJ}].concat([{key:"ArrowLeft",run:o3,shift:h3,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(t){return a3(t,!Zi(t))},shift:function(t){return v3(t,!Zi(t))}},{mac:"Cmd-ArrowLeft",run:d3,shift:w3},{key:"ArrowRight",run:s3,shift:p3,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(t){return a3(t,Zi(t))},shift:function(t){return v3(t,Zi(t))}},{mac:"Cmd-ArrowRight",run:f3,shift:k3},{key:"ArrowUp",run:u3,shift:m3,preventDefault:!0},{mac:"Cmd-ArrowUp",run:x3,shift:_3},{mac:"Ctrl-ArrowUp",run:c3,shift:y3},{key:"ArrowDown",run:l3,shift:g3,preventDefault:!0},{mac:"Cmd-ArrowDown",run:j3,shift:S3},{mac:"Ctrl-ArrowDown",run:Tm,shift:b3},{key:"PageUp",run:c3,shift:y3},{key:"PageDown",run:Tm,shift:b3},{key:"Home",run:d3,shift:w3,preventDefault:!0},{key:"Mod-Home",run:x3,shift:_3},{key:"End",run:f3,shift:k3,preventDefault:!0},{key:"Mod-End",run:j3,shift:S3},{key:"Enter",run:nK},{key:"Mod-a",run:function(t){var e=t.state;return(0,t.dispatch)(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Pm,shift:Pm},{key:"Delete",run:C3},{key:"Mod-Backspace",mac:"Alt-Backspace",run:$3},{key:"Mod-Delete",mac:"Alt-Delete",run:function(t){return YI(t,!0)}},{mac:"Mod-Backspace",run:function(t){return Ov(t,function(e){var n=t.lineBlockAt(e).from;return Ev(t,e>n?n:Math.max(0,e-1),!1)})}},{mac:"Mod-Delete",run:A3}].concat([{key:"Ctrl-b",run:o3,shift:h3,preventDefault:!0},{key:"Ctrl-f",run:s3,shift:p3},{key:"Ctrl-p",run:u3,shift:m3},{key:"Ctrl-n",run:l3,shift:g3},{key:"Ctrl-a",run:function(t){return As(t,function(e){return Xe.cursor(t.lineBlockAt(e.head).from,1)})},shift:function(t){return rs(t,function(e){return Xe.cursor(t.lineBlockAt(e.head).from)})}},{key:"Ctrl-e",run:function(t){return As(t,function(e){return Xe.cursor(t.lineBlockAt(e.head).to,-1)})},shift:function(t){return rs(t,function(e){return Xe.cursor(t.lineBlockAt(e.head).to)})}},{key:"Ctrl-d",run:C3},{key:"Ctrl-h",run:Pm},{key:"Ctrl-k",run:A3},{key:"Ctrl-Alt-h",run:$3},{key:"Ctrl-o",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(i){return{changes:{from:i.from,to:i.to,insert:Hn.of(["",""])},range:Xe.cursor(i.from)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(i){if(!i.empty||i.from==0||i.from==e.doc.length)return{range:i};var o=i.from,s=e.doc.lineAt(o),a=o==s.from?o-1:Ri(s.text,o-s.from,!1)+s.from,u=o==s.to?o+1:Ri(s.text,o-s.from,!0)+s.from;return{changes:{from:a,to:u,insert:e.doc.slice(o,u).append(e.doc.slice(a,o))},range:Xe.cursor(u)}});return!r.changes.empty&&(n(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Tm}].map(function(t){return{mac:t.key,run:t.run,shift:t.shift}}))),iK={key:"Tab",run:ZI,shift:e9};function sr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&lt(n)=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)t9(t,arguments[e]);return t}function t9(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)t9(t,e[n])}}var T3=typeof String.prototype.normalize=="function"?function(t){return t.normalize("NFKD")}:function(t){return t},nl=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length,o=arguments.length>4?arguments[4]:void 0;te(this,t),this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(s){return o(T3(s))}:T3,this.query=this.normalize(n)}return ne(t,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Kr(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var n=G1(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=no(e);for(var i=this.normalize(n),o=0,s=r;;o++){var a=i.charCodeAt(o),u=this.match(a,s);if(u)return this.value=u,this;if(o==i.length-1)break;s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}},{key:"match",value:function(e,n){for(var r=null,i=0;i<this.matches.length;i+=2){var o=this.matches[i],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r}}]),t}();typeof Symbol<"u"&&(nl.prototype[Symbol.iterator]=function(){return this});var n9={from:-1,to:-1,match:/.*/.exec("")},pb="gm"+(/x/.unicode==null?"":"u"),r9=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:e.length;if(te(this,t),this.to=o,this.curLine="",this.done=!1,this.value=n9,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new i9(e,n,r,i,o);this.re=new RegExp(n,pb+(r!=null&&r.ignoreCase?"i":"")),this.iter=e.iter();var s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=i,this.getLine(this.curLineStart)}return ne(t,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){var r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=i+(r==i?1:0),r==this.curLine.length&&this.nextLine(),r<i||r>this.value.to)return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),t}(),Mm=new WeakMap,P3=function(){function t(e,n){te(this,t),this.from=e,this.text=n}return ne(t,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(e,n,r){var i=Mm.get(e);if(!i||i.from>=r||i.to<=n){var o=new t(n,e.sliceString(n,r));return Mm.set(e,o),o}if(i.from==n&&i.to==r)return i;var s=i.text,a=i.from;return a>n&&(s=e.sliceString(n,a)+s,a=n),i.to<r&&(s+=e.sliceString(i.to,r)),Mm.set(e,new t(a,s)),new t(n,s.slice(n-a,r-a))}}]),t}(),i9=function(){function t(e,n,r,i,o){te(this,t),this.text=e,this.to=o,this.done=!1,this.value=n9,this.matchPos=i,this.re=new RegExp(n,pb+(r!=null&&r.ignoreCase?"i":"")),this.flat=P3.get(e,i,this.chunkEnd(i+5e3))}return ne(t,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n&&this.flat.to<this.to&&n.index+n[0].length>this.flat.text.length-10&&(n=null),n){var r=this.flat.from+n.index,i=r+n[0].length;return this.value={from:r,to:i,match:n},this.matchPos=i+(r==i?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=P3.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),t}();function D0(t){var e=sr("input",{class:"cm-textfield",name:"line"});function n(){var r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(r){var i=t.state,o=i.doc.lineAt(i.selection.main.head),s=Et(r,5),a=s[1],u=s[2],l=s[3],f=s[4],c=l?+l.slice(1):0,d=u?+u:o.number;if(u&&f){var h=d/100;a&&(h=h*(a=="-"?-1:1)+o.number/i.doc.lines),d=Math.round(i.doc.lines*h)}else u&&a&&(d=d*(a=="-"?-1:1)+o.number);var p=i.doc.line(Math.max(1,Math.min(i.doc.lines,d)));t.dispatch({effects:up.of(!1),selection:Xe.cursor(p.from+Math.max(0,Math.min(c,p.length))),scrollIntoView:!0}),t.focus()}}return{dom:sr("form",{class:"cm-gotoLine",onkeydown:function(r){r.keyCode==27?(r.preventDefault(),t.dispatch({effects:up.of(!1)}),t.focus()):r.keyCode==13&&(r.preventDefault(),n())},onsubmit:function(r){r.preventDefault(),n()}},sr("label",t.state.phrase("Go to line"),": ",e)," ",sr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}typeof Symbol<"u"&&(r9.prototype[Symbol.iterator]=i9.prototype[Symbol.iterator]=function(){return this});var up=ln.define(),M3=Vr.define({create:function(){return!0},update:function(t,e){var n,r=ce(e.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(up)&&(t=i.value)}}catch(o){r.e(o)}finally{r.f()}return t},provide:function(t){return rf.from(t,function(e){return e?D0:null})}}),oK=Ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),sK={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},o9=Ct.define({combine:function(t){return ys(t,sK,{highlightWordAroundCursor:function(e,n){return e||n},minSelectionLength:Math.min,maxMatches:Math.min})}});function aK(t){var e=[fK,cK];return t&&e.push(o9.of(t)),e}var uK=It.mark({class:"cm-selectionMatch"}),lK=It.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function I3(t,e,n,r){return!(n!=0&&t(e.sliceDoc(n-1,n))==di.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==di.Word)}var cK=Wr.fromClass(function(){function t(e){te(this,t),this.decorations=this.getDeco(e)}return ne(t,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var n=e.state.facet(o9),r=e.state,i=r.selection;if(i.ranges.length>1)return It.none;var o,s=i.main,a=null;if(s.empty){if(!n.highlightWordAroundCursor)return It.none;var u=r.wordAt(s.head);if(!u)return It.none;a=r.charCategorizer(s.head),o=r.sliceDoc(u.from,u.to)}else{var l=s.to-s.from;if(l<n.minSelectionLength||l>200)return It.none;if(n.wholeWords){if(o=r.sliceDoc(s.from,s.to),!I3(a=r.charCategorizer(s.head),r,s.from,s.to)||!function(y,b,k,w){return y(b.sliceDoc(k,k+1))==di.Word&&y(b.sliceDoc(w-1,w))==di.Word}(a,r,s.from,s.to))return It.none}else if(!(o=r.sliceDoc(s.from,s.to).trim()))return It.none}var f,c=[],d=ce(e.visibleRanges);try{for(d.s();!(f=d.n()).done;)for(var h=f.value,p=new nl(r.doc,o,h.from,h.to);!p.next().done;){var v=p.value,m=v.from,g=v.to;if((!a||I3(a,r,m,g))&&(s.empty&&m<=s.from&&g>=s.to?c.push(lK.range(m,g)):(m>=s.to||g<=s.from)&&c.push(uK.range(m,g)),c.length>n.maxMatches))return It.none}}catch(y){d.e(y)}finally{d.f()}return It.set(c)}}]),t}(),{decorations:function(t){return t.decorations}}),fK=Ot.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Tv=Ct.define({combine:function(t){var e;return{top:t.reduce(function(n,r){return n!=null?n:r.top},void 0)||!1,caseSensitive:t.reduce(function(n,r){return n!=null?n:r.caseSensitive},void 0)||!1,createPanel:((e=t.find(function(n){return n.createPanel}))===null||e===void 0?void 0:e.createPanel)||function(n){return new wK(n)}}}});function dK(t){return t?[Tv.of(t),B0]:B0}var s9=function(){function t(e){te(this,t),this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(n){try{return new RegExp(n,pb),!0}catch{return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,function(n,r){return r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\"})}return ne(t,[{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}},{key:"create",value:function(){return this.regexp?new pK(this):new hK(this)}},{key:"getCursor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length;return this.regexp?zu(this,e,n,r):Bu(this,e,n,r)}}]),t}(),a9=ne(function t(e){te(this,t),this.spec=e});function Bu(t,e,n,r){return new nl(e,t.unquoted,n,r,t.caseSensitive?void 0:function(i){return i.toLowerCase()})}var hK=function(t){Be(n,a9);var e=ze(n);function n(r){return te(this,n),e.call(this,r)}return ne(n,[{key:"nextMatch",value:function(r,i,o){var s=Bu(this.spec,r,o,r.length).nextOverlapping();return s.done&&(s=Bu(this.spec,r,0,i).nextOverlapping()),s.done?null:s.value}},{key:"prevMatchInRange",value:function(r,i,o){for(var s=o;;){for(var a=Math.max(i,s-1e4-this.spec.unquoted.length),u=Bu(this.spec,r,a,s),l=null;!u.nextOverlapping().done;)l=u.value;if(l)return l;if(a==i)return null;s-=1e4}}},{key:"prevMatch",value:function(r,i,o){return this.prevMatchInRange(r,0,i)||this.prevMatchInRange(r,o,r.length)}},{key:"getReplacement",value:function(r){return this.spec.replace}},{key:"matchAll",value:function(r,i){for(var o=Bu(this.spec,r,0,r.length),s=[];!o.next().done;){if(s.length>=i)return null;s.push(o.value)}return s}},{key:"highlight",value:function(r,i,o,s){for(var a=Bu(this.spec,r,Math.max(0,i-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,r.length));!a.next().done;)s(a.value.from,a.value.to)}}]),n}();function zu(t,e,n,r){return new r9(e,t.search,t.caseSensitive?void 0:{ignoreCase:!0},n,r)}var pK=function(t){Be(n,a9);var e=ze(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n,[{key:"nextMatch",value:function(r,i,o){var s=zu(this.spec,r,o,r.length).next();return s.done&&(s=zu(this.spec,r,0,i).next()),s.done?null:s.value}},{key:"prevMatchInRange",value:function(r,i,o){for(var s=1;;s++){for(var a=Math.max(i,o-1e4*s),u=zu(this.spec,r,a,o),l=null;!u.next().done;)l=u.value;if(l&&(a==i||l.from>a+10))return l;if(a==i)return null}}},{key:"prevMatch",value:function(r,i,o){return this.prevMatchInRange(r,0,i)||this.prevMatchInRange(r,o,r.length)}},{key:"getReplacement",value:function(r){return this.spec.replace.replace(/\$([$&\d+])/g,function(i,o){return o=="$"?"$":o=="&"?r.match[0]:o!="0"&&+o<r.match.length?r.match[o]:i})}},{key:"matchAll",value:function(r,i){for(var o=zu(this.spec,r,0,r.length),s=[];!o.next().done;){if(s.length>=i)return null;s.push(o.value)}return s}},{key:"highlight",value:function(r,i,o,s){for(var a=zu(this.spec,r,Math.max(0,i-250),Math.min(o+250,r.length));!a.next().done;)s(a.value.from,a.value.to)}}]),n}(),ff=ln.define(),vb=ln.define(),fa=Vr.define({create:function(t){return new Im(R0(t).create(),null)},update:function(t,e){var n,r=ce(e.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(ff)?t=new Im(i.value.create(),t.panel):i.is(vb)&&(t=new Im(t.query,i.value?mb:null))}}catch(o){r.e(o)}finally{r.f()}return t},provide:function(t){return rf.from(t,function(e){return e.panel})}}),Im=ne(function t(e,n){te(this,t),this.query=e,this.panel=n}),vK=It.mark({class:"cm-searchMatch"}),mK=It.mark({class:"cm-searchMatch cm-searchMatch-selected"}),gK=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.decorations=this.highlight(e.state.field(fa))}return ne(t,[{key:"update",value:function(e){var n=e.state.field(fa);(n!=e.startState.field(fa)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(n))}},{key:"highlight",value:function(e){var n=e.query;if(!e.panel||!n.spec.valid)return It.none;for(var r=this.view,i=new dl,o=0,s=r.visibleRanges,a=s.length;o<a;o++){for(var u=s[o],l=u.from,f=u.to;o<a-1&&f>s[o+1].from-500;)f=s[++o].to;n.highlight(r.state.doc,l,f,function(c,d){var h=r.state.selection.ranges.some(function(p){return p.from==c&&p.to==d});i.add(c,d,h?mK:vK)})}return i.finish()}}]),t}(),{decorations:function(t){return t.decorations}});function Bf(t){return function(e){var n=e.state.field(fa,!1);return n&&n.query.spec.valid?t(e,n):gb(e)}}var lp=Bf(function(t,e){var n=e.query,r=t.state.selection.main,i=r.from,o=r.to,s=n.nextMatch(t.state.doc,i,o);return!(!s||s.from==i&&s.to==o)&&(t.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:bb(t,s),userEvent:"select.search"}),!0)}),cp=Bf(function(t,e){var n=e.query,r=t.state,i=r.selection.main,o=i.from,s=i.to,a=n.prevMatch(r.doc,o,s);return!!a&&(t.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:bb(t,a),userEvent:"select.search"}),!0)}),yK=Bf(function(t,e){var n=e.query.matchAll(t.state.doc,1e3);return!(!n||!n.length)&&(t.dispatch({selection:Xe.create(n.map(function(r){return Xe.range(r.from,r.to)})),userEvent:"select.search.matches"}),!0)}),N3=Bf(function(t,e){var n=e.query,r=t.state,i=r.selection.main,o=i.from,s=i.to;if(r.readOnly)return!1;var a=n.nextMatch(r.doc,o,o);if(!a)return!1;var u,l,f=[],c=[];if(a.from==o&&a.to==s&&(l=r.toText(n.getReplacement(a)),f.push({from:a.from,to:a.to,insert:l}),a=n.nextMatch(r.doc,a.from,a.to),c.push(Ot.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),a){var d=f.length==0||f[0].from>=a.to?0:a.to-a.from-l.length;u={anchor:a.from-d,head:a.to-d},c.push(bb(t,a))}return t.dispatch({changes:f,selection:u,scrollIntoView:!!u,effects:c,userEvent:"input.replace"}),!0}),bK=Bf(function(t,e){var n=e.query;if(t.state.readOnly)return!1;var r=n.matchAll(t.state.doc,1e9).map(function(o){return{from:o.from,to:o.to,insert:n.getReplacement(o)}});if(!r.length)return!1;var i=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:Ot.announce.of(i),userEvent:"input.replace.all"}),!0});function mb(t){return t.state.facet(Tv).createPanel(t)}function R0(t,e){var n,r=t.selection.main,i=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),o=(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:t.facet(Tv).caseSensitive;return e&&!i?e:new s9({search:i.replace(/\n/g,"\\n"),caseSensitive:o})}var gb=function(t){var e=t.state.field(fa,!1);if(e&&e.panel){var n=nf(t,mb);if(!n)return!1;var r=n.dom.querySelector("[main-field]");if(r&&r!=t.root.activeElement){var i=R0(t.state,e.query.spec);i.valid&&t.dispatch({effects:ff.of(i)}),r.focus(),r.select()}}else t.dispatch({effects:[vb.of(!0),e?ff.of(R0(t.state,e.query.spec)):ln.appendConfig.of(B0)]});return!0},yb=function(t){var e=t.state.field(fa,!1);if(!e||!e.panel)return!1;var n=nf(t,mb);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:vb.of(!1)}),!0},kK=[{key:"Mod-f",run:gb,scope:"editor search-panel"},{key:"F3",run:lp,shift:cp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:lp,shift:cp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yb,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(t){var e=t.state,n=t.dispatch,r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,s=i.to,a=[],u=0,l=new nl(e.doc,e.sliceDoc(o,s));!l.next().done;){if(a.length>1e3)return!1;l.value.from==o&&(u=a.length),a.push(Xe.range(l.value.from,l.value.to))}return n(e.update({selection:Xe.create(a,u),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(t){var e=nf(t,D0);if(!e){var n=[up.of(!0)];t.state.field(M3,!1)==null&&n.push(ln.appendConfig.of([M3,oK])),t.dispatch({effects:n}),e=nf(t,D0)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(t){var e=t.state,n=t.dispatch,r=e.selection.ranges;if(r.some(function(s){return s.from===s.to}))return function(s){var a=s.state,u=s.dispatch,l=a.selection,f=Xe.create(l.ranges.map(function(c){return a.wordAt(c.head)||Xe.cursor(c.head)}),l.mainIndex);return!f.eq(l)&&(u(a.update({selection:f})),!0)}({state:e,dispatch:n});var i=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some(function(s){return e.sliceDoc(s.from,s.to)!=i}))return!1;var o=function(s,a){for(var u=s.selection,l=u.main,f=u.ranges,c=s.wordAt(l.head),d=c&&c.from==l.from&&c.to==l.to,h=function(g,y){if(y.next(),!y.done){if(g&&f.some(function(k){return k.from==y.value.from}))return v=y,p=g,"continue";if(d){var b=s.wordAt(y.value.from);if(!b||b.from!=y.value.from||b.to!=y.value.to)return v=y,p=g,"continue"}return p=g,v=y,{v:y.value}}if(g)return v=y,p=g,{v:null};y=new nl(s.doc,a,0,Math.max(0,f[f.length-1].from-1)),p=g=!0,v=y},p=!1,v=new nl(s.doc,a,f[f.length-1].to);;){var m=h(p,v);if(m!=="continue"&&lt(m)==="object")return m.v}}(e,i);return!!o&&(n(e.update({selection:e.selection.addRange(Xe.range(o.from,o.to),!1),effects:Ot.scrollIntoView(o.to)})),!0)},preventDefault:!0}],wK=function(){function t(e){var n=this;te(this,t),this.view=e;var r=this.query=e.state.field(fa).query.spec;function i(o,s,a){return sr("button",{class:"cm-button",name:o,onclick:s,type:"button"},a)}this.commit=this.commit.bind(this),this.searchField=sr("input",{value:r.search,placeholder:Xi(e,"Find"),"aria-label":Xi(e,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=sr("input",{value:r.replace,placeholder:Xi(e,"Replace"),"aria-label":Xi(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=sr("input",{type:"checkbox",name:"case",checked:r.caseSensitive,onchange:this.commit}),this.reField=sr("input",{type:"checkbox",name:"re",checked:r.regexp,onchange:this.commit}),this.dom=sr("div",{onkeydown:function(o){return n.keydown(o)},class:"cm-search"},[this.searchField,i("next",function(){return lp(e)},[Xi(e,"next")]),i("prev",function(){return cp(e)},[Xi(e,"previous")]),i("select",function(){return yK(e)},[Xi(e,"all")]),sr("label",null,[this.caseField,Xi(e,"match case")]),sr("label",null,[this.reField,Xi(e,"regexp")])].concat(nn(e.state.readOnly?[]:[sr("br"),this.replaceField,i("replace",function(){return N3(e)},[Xi(e,"replace")]),i("replaceAll",function(){return bK(e)},[Xi(e,"replace all")]),sr("button",{name:"close",onclick:function(){return yb(e)},"aria-label":Xi(e,"close"),type:"button"},["\xD7"])])))}return ne(t,[{key:"commit",value:function(){var e=new s9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ff.of(e)}))}},{key:"keydown",value:function(e){var n,r,i;n=this.view,r=e,i="search-panel",oI(iI(n.state),r,n,i)?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?cp:lp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),N3(this.view))}},{key:"update",value:function(e){var n,r=ce(e.transactions);try{for(r.s();!(n=r.n()).done;){var i,o=ce(n.value.effects);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.is(ff)&&!s.value.eq(this.query)&&this.setQuery(s.value)}}catch(a){o.e(a)}finally{o.f()}}}catch(a){r.e(a)}finally{r.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Tv).top}}]),t}();function Xi(t,e){return t.state.phrase(e)}var Id=/[\s\.,:;?!]/;function bb(t,e){var n=e.from,r=e.to,i=t.state.doc.lineAt(n),o=t.state.doc.lineAt(r).to,s=Math.max(i.from,n-30),a=Math.min(o,r+30),u=t.state.sliceDoc(s,a);if(s!=i.from){for(var l=0;l<30;l++)if(!Id.test(u[l+1])&&Id.test(u[l])){u=u.slice(l);break}}if(a!=o){for(var f=u.length-1;f>u.length-30;f--)if(!Id.test(u[f-1])&&Id.test(u[f])){u=u.slice(0,f);break}}return Ot.announce.of("".concat(t.state.phrase("current match"),". ").concat(u," ").concat(t.state.phrase("on line")," ").concat(i.number,"."))}var xK=Ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),B0=[fa,Mf.lowest(gK),xK],u9=function(){function t(e,n,r){te(this,t),this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}return ne(t,[{key:"tokenBefore",value:function(e){for(var n=ri(this.state).resolveInner(this.pos,-1);n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}},{key:"matchBefore",value:function(e){var n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(l9(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}},{key:"aborted",get:function(){return this.abortListeners==null}},{key:"addEventListener",value:function(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}]),t}();function L3(t){var e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function jK(t){var e=t.map(function(o){return typeof o=="string"?{label:o}:o}),n=Et(e.every(function(o){return/^\w+$/.test(o.label)})?[/\w*$/,/\w+$/]:function(o){var s,a=Object.create(null),u=Object.create(null),l=ce(o);try{for(l.s();!(s=l.n()).done;){var f=s.value.label;a[f[0]]=!0;for(var c=1;c<f.length;c++)u[f[c]]=!0}}catch(h){l.e(h)}finally{l.f()}var d=L3(a)+L3(u)+"*$";return[new RegExp("^"+d),new RegExp(d)]}(e),2),r=n[0],i=n[1];return function(o){var s=o.matchBefore(i);return s||o.explicit?{from:s?s.from:o.pos,options:e,validFor:r}:null}}var D3=ne(function t(e,n,r){te(this,t),this.completion=e,this.source=n,this.match=r});function da(t){return t.selection.main.head}function l9(t,e){var n,r=t.source,i=e&&r[0]!="^",o=r[r.length-1]!="$";return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":""):t}function c9(t,e){var n=e.completion.apply||e.completion.label,r=e.source;typeof n=="string"?t.dispatch(function(i,o,s,a){return Object.assign(Object.assign({},i.changeByRange(function(u){if(u==i.selection.main)return{changes:{from:s,to:a,insert:o},range:Xe.cursor(s+o.length)};var l=a-s;return!u.empty||l&&i.sliceDoc(u.from-l,u.from)!=i.sliceDoc(s,a)?{range:u}:{changes:{from:u.from-l,to:u.from,insert:o},range:Xe.cursor(u.from-l+o.length)}})),{userEvent:"input.complete"})}(t.state,n,r.from,r.to)):n(t,e.completion,r.from,r.to)}var R3=new WeakMap;function _K(t){if(!Array.isArray(t))return t;var e=R3.get(t);return e||R3.set(t,e=jK(t)),e}var SK=function(){function t(e){te(this,t),this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<e.length;){var r=Kr(e,n),i=no(r);this.chars.push(r);var o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(Kr(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}return ne(t,[{key:"match",value:function(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;var n=this.chars,r=this.folded,i=this.any,o=this.precise,s=this.byWord;if(n.length==1){var a=Kr(e,0);return a==n[0]?[0,0,no(a)]:a==r[0]?[-200,0,no(a)]:null}var u=e.indexOf(this.pattern);if(u==0)return[0,0,this.pattern.length];var l=n.length,f=0;if(u<0){for(var c=0,d=Math.min(e.length,200);c<d&&f<l;){var h=Kr(e,c);h!=n[f]&&h!=r[f]||(i[f++]=c),c+=no(h)}if(f<l)return null}for(var p=0,v=0,m=!1,g=0,y=-1,b=-1,k=/[a-z]/.test(e),w=!0,C=0,_=Math.min(e.length,200),T=0;C<_&&v<l;){var j=Kr(e,C);u<0&&(p<l&&j==n[p]&&(o[p++]=C),g<l&&(j==n[g]||j==r[g]?(g==0&&(y=C),b=C+1,g++):g=0));var O=void 0,S=j<255?j>=48&&j<=57||j>=97&&j<=122?2:j>=65&&j<=90?1:0:(O=G1(j))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!C||S==1&&k||T==0&&S!=0)&&(n[v]==j||r[v]==j&&(m=!0)?s[v++]=C:s.length&&(w=!1)),T=S,C+=no(j)}return v==l&&s[0]==0&&w?this.result((m?-200:0)-100,s,e):g==l&&y==0?[-200-e.length,0,b]:u>-1?[-700-e.length,u,u+this.pattern.length]:g==l?[-900-e.length,y,b]:v==l?this.result((m?-200:0)-100-700+(w?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)-200-1100,i,e)}},{key:"result",value:function(e,n,r){var i,o=[e-r.length],s=1,a=ce(n);try{for(a.s();!(i=a.n()).done;){var u=i.value,l=u+(this.astral?no(Kr(r,u)):1);s>1&&o[s-1]==u?o[s-1]=l:(o[s++]=u,o[s++]=l)}}catch(f){a.e(f)}finally{a.f()}return o}}]),t}(),_a=Ct.define({combine:function(t){return ys(t,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:function(e,n){return e&&n},closeOnBlur:function(e,n){return e&&n},icons:function(e,n){return e&&n},optionClass:function(e,n){return function(r){return function(i,o){return i?o?i+" "+o:i:o}(e(r),n(r))}},addToOptions:function(e,n){return e.concat(n)}})}});function B3(t,e,n){if(t<=n)return{from:0,to:t};if(e<=t>>1){var r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}var CK=function(){function t(e,n){var r=this;te(this,t),this.view=e,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(l){return r.positionInfo(l)},key:this};var i=e.state.field(n),o=i.open,s=o.options,a=o.selected,u=e.state.facet(_a);this.optionContent=function(l){var f=l.addToOptions.slice();return l.icons&&f.push({render:function(c){var d,h=document.createElement("div");return h.classList.add("cm-completionIcon"),c.type&&(d=h.classList).add.apply(d,nn(c.type.split(/\s+/g).map(function(p){return"cm-completionIcon-"+p}))),h.setAttribute("aria-hidden","true"),h},position:20}),f.push({render:function(c,d,h){var p=document.createElement("span");p.className="cm-completionLabel";for(var v=c.label,m=0,g=1;g<h.length;){var y=h[g++],b=h[g++];y>m&&p.appendChild(document.createTextNode(v.slice(m,y)));var k=p.appendChild(document.createElement("span"));k.appendChild(document.createTextNode(v.slice(y,b))),k.className="cm-completionMatchedText",m=b}return m<v.length&&p.appendChild(document.createTextNode(v.slice(m))),p},position:50},{render:function(c){if(!c.detail)return null;var d=document.createElement("span");return d.className="cm-completionDetail",d.textContent=c.detail,d},position:80}),f.sort(function(c,d){return c.position-d.position}).map(function(c){return c.render})}(u),this.optionClass=u.optionClass,this.range=B3(s.length,a,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",function(l){for(var f,c=l.target;c&&c!=r.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<s.length)return c9(e,s[+f[1]]),void l.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(s,i.id,this.range)),this.list.addEventListener("scroll",function(){r.info&&r.view.requestMeasure(r.placeInfo)})}return ne(t,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}},{key:"positioned",value:function(){this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,n=this.view.state.field(this.stateField),r=n.open;if((r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=B3(r.options.length,r.selected,this.view.state.facet(_a).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,n.id,this.range)),this.list.addEventListener("scroll",function(){e.info&&e.view.requestMeasure(e.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);var i=r.options[r.selected].completion,o=i.info;if(!o)return;var s=typeof o=="string"?document.createTextNode(o):o(i);if(!s)return;"then"in s?s.then(function(a){a&&e.view.state.field(e.stateField,!1)==n&&e.addInfoPane(a)}).catch(function(a){return qi(e.view.state,a,"completion info")}):this.addInfoPane(s)}}},{key:"addInfoPane",value:function(e){var n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var n=null,r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&function(o,s){var a=o.getBoundingClientRect(),u=s.getBoundingClientRect();u.top<a.top?o.scrollTop-=a.top-u.top:u.bottom>a.bottom&&(o.scrollTop+=u.bottom-a.bottom)}(this.list,n),n}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect();if(i.top>Math.min(innerHeight,n.bottom)-10||i.bottom<Math.max(0,n.top)+10)return null;var o=Math.max(0,Math.min(i.top,innerHeight-r.height))-n.top,s=this.view.textDirection==fr.RTL,a=n.left,u=innerWidth-n.right;return s&&a<Math.min(r.width,u)?s=!1:!s&&u<Math.min(r.width,a)&&(s=!0),{top:o,left:s}}},{key:"positionInfo",value:function(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}},{key:"createListBox",value:function(e,n,r){var i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var o=r.from;o<r.to;o++){var s=e[o],a=s.completion,u=s.match,l=i.appendChild(document.createElement("li"));l.id=n+"-"+o,l.setAttribute("role","option");var f=this.optionClass(a);f&&(l.className=f);var c,d=ce(this.optionContent);try{for(d.s();!(c=d.n()).done;){var h=(0,c.value)(a,this.view.state,u);h&&l.appendChild(h)}}catch(p){d.e(p)}finally{d.f()}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}]),t}();function z3(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}var $K=function(){function t(e,n,r,i,o){te(this,t),this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o}return ne(t,[{key:"setSelected",value:function(e,n){return e==this.selected||e>=this.options.length?this:new t(this.options,F3(n,e),this.tooltip,this.timestamp,e)}},{key:"map",value:function(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}],[{key:"build",value:function(e,n,r,i,o){var s=function(c,d){var h,p=[],v=0,m=ce(c);try{for(m.s();!(h=m.n()).done;){var g=h.value;if(g.hasResult())if(g.result.filter===!1){var y,b=g.result.getMatch,k=ce(g.result.options);try{for(k.s();!(y=k.n()).done;){var w=y.value,C=[1e9-v++];if(b){var _,T=ce(b(w));try{for(T.s();!(_=T.n()).done;){var j=_.value;C.push(j)}}catch(D){T.e(D)}finally{T.f()}}p.push(new D3(w,g,C))}}catch(D){k.e(D)}finally{k.f()}}else{var O,S=new SK(d.sliceDoc(g.from,g.to)),N=void 0,A=ce(g.result.options);try{for(A.s();!(O=A.n()).done;){var $=O.value;(N=S.match($.label))&&($.boost!=null&&(N[0]+=$.boost),p.push(new D3($,g,N)))}}catch(D){A.e(D)}finally{A.f()}}}}catch(D){m.e(D)}finally{m.f()}var q,Y=[],z=null,J=ce(p.sort(TK));try{for(J.s();!(q=J.n()).done;){var L=q.value;!z||z.label!=L.completion.label||z.detail!=L.completion.detail||z.type!=null&&L.completion.type!=null&&z.type!=L.completion.type||z.apply!=L.completion.apply?Y.push(L):z3(L.completion)>z3(z)&&(Y[Y.length-1]=L),z=L.completion}}catch(D){J.e(D)}finally{J.f()}return Y}(e,n);if(!s.length)return null;var a,u=0;if(i&&i.selected){for(var l=i.options[i.selected].completion,f=0;f<s.length;f++)if(s[f].completion==l){u=f;break}}return new t(s,F3(r,u),{pos:e.reduce(function(c,d){return d.hasResult()?Math.min(c,d.from):c},1e8),create:(a=ro,function(c){return new CK(c,a)}),above:o.aboveCursor},i?i.timestamp:Date.now(),u)}}]),t}(),AK=function(){function t(e,n,r){te(this,t),this.active=e,this.id=n,this.open=r}return ne(t,[{key:"update",value:function(e){var n=this,r=e.state,i=r.facet(_a),o=(i.override||r.languageDataAt("autocomplete",da(r)).map(_K)).map(function(f){return(n.active.find(function(c){return c.source==f})||new iu(f,n.active.some(function(c){return c.state!=0})?1:0)).update(e,i)});o.length==this.active.length&&o.every(function(f,c){return f==n.active[c]})&&(o=this.active);var s=e.selection||o.some(function(f){return f.hasResult()&&e.changes.touchesRange(f.from,f.to)})||!function(f,c){if(f==c)return!0;for(var d=0,h=0;;){for(;d<f.length&&!f[d].hasResult;)d++;for(;h<c.length&&!c[h].hasResult;)h++;var p=d==f.length,v=h==c.length;if(p||v)return p==v;if(f[d++].result!=c[h++].result)return!1}}(o,this.active)?$K.build(o,r,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!s&&o.every(function(f){return f.state!=1})&&o.some(function(f){return f.hasResult()})&&(o=o.map(function(f){return f.hasResult()?new iu(f.source,0):f}));var a,u=ce(e.effects);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.is(d9)&&(s=s&&s.setSelected(l.value,this.id))}}catch(f){u.e(f)}finally{u.f()}return o==this.active&&s==this.open?this:new t(o,this.id,s)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:OK}}],[{key:"start",value:function(){return new t(EK,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),t}(),OK={"aria-autocomplete":"list"};function F3(t,e){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":t+"-"+e,"aria-controls":t}}var EK=[];function TK(t,e){var n=e.match[0]-t.match[0];return n||t.completion.label.localeCompare(e.completion.label)}function z0(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}var iu=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;te(this,t),this.source=e,this.state=n,this.explicitPos=r}return ne(t,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(e,n){var r=z0(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new t(i.source,0));var o,s=ce(e.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a.is(kb))i=new t(i.source,1,a.value?da(e.state):-1);else if(a.is(fp))i=new t(i.source,0);else if(a.is(f9)){var u,l=ce(a.value);try{for(l.s();!(u=l.n()).done;){var f=u.value;f.source==i.source&&(i=f)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"handleUserEvent",value:function(e,n,r){return n!="delete"&&r.activateOnTyping?new t(this.source,1):this.map(e.changes)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(da(e.startState))?new t(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty||this.explicitPos<0?this:new t(this.source,this.state,e.mapPos(this.explicitPos))}}]),t}(),PK=function(t){Be(n,iu);var e=ze(n);function n(r,i,o,s,a){var u;return te(this,n),(u=e.call(this,r,2,i)).result=o,u.from=s,u.to=a,u}return ne(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(r,i,o){var s,a=r.changes.mapPos(this.from),u=r.changes.mapPos(this.to,1),l=da(r.state);if((this.explicitPos<0?l<=a:l<this.from)||l>u||i=="delete"&&da(r.startState)==this.from)return new iu(this.source,i=="input"&&o.activateOnTyping?1:0);var f,c=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos);return function(d,h,p,v){if(!d)return!1;var m=h.sliceDoc(p,v);return typeof d=="function"?d(m,p,v,h):l9(d,!0).test(m)}(this.result.validFor,r.state,a,u)?new n(this.source,c,this.result,a,u):this.result.update&&(f=this.result.update(this.result,a,u,new u9(r.state,l,c>=0)))?new n(this.source,c,f,f.from,(s=f.to)!==null&&s!==void 0?s:da(r.state)):new iu(this.source,1,c)}},{key:"handleChange",value:function(r){return r.changes.touchesRange(this.from,this.to)?new iu(this.source,0):this.map(r.changes)}},{key:"map",value:function(r){return r.empty?this:new n(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1))}}]),n}(),kb=ln.define(),fp=ln.define(),f9=ln.define({map:function(t,e){return t.map(function(n){return n.map(e)})}}),d9=ln.define(),ro=Vr.define({create:function(){return AK.start()},update:function(t,e){return t.update(e)},provide:function(t){return[jv.from(t,function(e){return e.tooltip}),Ot.contentAttributes.from(t,function(e){return e.attrs})]}});function Nd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"option";return function(n){var r=n.state.field(ro,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;var i,o=1;e=="page"&&(i=SU(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var s=r.open.selected+o*(t?1:-1),a=r.open.options.length;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:d9.of(s)}),!0}}var MK=ne(function t(e,n){te(this,t),this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}),IK=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=ce(e.state.field(ro).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.state==1&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return ne(t,[{key:"update",value:function(e){var n=this,r=e.state.field(ro);if(e.selectionSet||e.docChanged||e.startState.field(ro)!=r){for(var i=e.transactions.some(function(p){return(p.selection||p.docChanged)&&!z0(p)}),o=0;o<this.running.length;o++){var s=this.running[o];if(i||s.updates.length+e.transactions.length>50&&Date.now()-s.time>1e3){var a,u=ce(s.context.abortListeners);try{for(u.s();!(a=u.n()).done;){var l=a.value;try{l()}catch(p){qi(this.view.state,p)}}}catch(p){u.e(p)}finally{u.f()}s.context.abortListeners=null,this.running.splice(o--,1)}else{var f;(f=s.updates).push.apply(f,nn(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=r.active.some(function(p){return p.state==1&&!n.running.some(function(v){return v.active.source==p.source})})?setTimeout(function(){return n.startUpdate()},50):-1,this.composing!=0){var c,d=ce(e.transactions);try{for(d.s();!(c=d.n()).done;){var h=c.value;z0(h)=="input"?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}}catch(p){d.e(p)}finally{d.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var n,r=ce(this.view.state.field(ro).active);try{var i=function(){var o=n.value;o.state!=1||e.running.some(function(s){return s.active.source==o.source})||e.startQuery(o)};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var n=this,r=this.view.state,i=da(r),o=new u9(r,i,e.explicitPos==i),s=new MK(e,o);this.running.push(s),Promise.resolve(e.source(o)).then(function(a){s.context.aborted||(s.done=a||null,n.scheduleAccept())},function(a){n.view.dispatch({effects:fp.of(null)}),qi(n.view.state,a)})}},{key:"scheduleAccept",value:function(){var e=this;this.running.every(function(n){return n.done!==void 0})?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(function(){return e.accept()},50))}},{key:"accept",value:function(){var e,n=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var r=[],i=this.view.state.facet(_a),o=function(a){var u=n.running[a];if(u.done===void 0)return s=a,"continue";if(n.running.splice(a--,1),u.done){var l,f=new PK(u.active.source,u.active.explicitPos,u.done,u.done.from,(e=u.done.to)!==null&&e!==void 0?e:da(u.updates.length?u.updates[0].startState:n.view.state)),c=ce(u.updates);try{for(c.s();!(l=c.n()).done;){var d=l.value;f=f.update(d,i)}}catch(y){c.e(y)}finally{c.f()}if(f.hasResult())return r.push(f),s=a,"continue"}var h=n.view.state.field(ro).active.find(function(y){return y.source==u.active.source});if(h&&h.state==1)if(u.done==null){var p,v=new iu(u.active.source,0),m=ce(u.updates);try{for(m.s();!(p=m.n()).done;){var g=p.value;v=v.update(g,i)}}catch(y){m.e(y)}finally{m.f()}v.state!=1&&r.push(v)}else n.startQuery(h);s=a},s=0;s<this.running.length;s++)o(s);r.length&&this.view.dispatch({effects:f9.of(r)})}}]),t}(),{eventHandlers:{blur:function(){var t=this.view.state.field(ro,!1);t&&t.tooltip&&this.view.state.facet(_a).closeOnBlur&&this.view.dispatch({effects:fp.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var t=this;this.composing==3&&setTimeout(function(){return t.view.dispatch({effects:kb.of(!1)})},20),this.composing=0}}}),NK=Ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),dp={brackets:["(","[","{","'",'"'],before:")]}:;>"},ou=ln.define({map:function(t,e){var n=e.mapPos(t,-1,fi.TrackAfter);return n==null?void 0:n}}),wb=ln.define({map:function(t,e){return e.mapPos(t)}}),F0=new(function(t){Be(n,ru);var e=ze(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n)}());F0.startSide=1,F0.endSide=-1;var h9=Vr.define({create:function(){return tr.empty},update:function(t,e){if(e.selection){var n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=tr.empty)}t=t.map(e.changes);var i,o=ce(e.effects);try{var s=function(){var a=i.value;a.is(ou)?t=t.update({add:[F0.range(a.value,a.value+1)]}):a.is(wb)&&(t=t.update({filter:function(u){return u!=a.value}}))};for(o.s();!(i=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return t}});function LK(){return[RK,h9]}function p9(t){for(var e=0;e<8;e+=2)if("()[]{}<>".charCodeAt(e)==t)return"()[]{}<>".charAt(e+1);return G1(t<128?t:t+1)}function v9(t,e){return t.languageDataAt("closeBrackets",e)[0]||dp}var DK=(typeof navigator>"u"?"undefined":lt(navigator))=="object"&&/Android\b/.test(navigator.userAgent),RK=Ot.inputHandler.of(function(t,e,n,r){if((DK?t.composing:t.compositionStarted)||t.state.readOnly)return!1;var i=t.state.selection.main;if(r.length>2||r.length==2&&no(Kr(r,0))==1||e!=i.from||n!=i.to)return!1;var o=function(s,a){var u,l=v9(s,s.selection.main.head),f=l.brackets||dp.brackets,c=ce(f);try{for(c.s();!(u=c.n()).done;){var d=u.value,h=p9(Kr(d,0));if(a==d)return h==d?qK(s,d,f.indexOf(d+d+d)>-1):zK(s,d,h,l.before||dp.before);if(a==h&&m9(s,s.selection.main.from))return FK(s,d,h)}}catch(p){c.e(p)}finally{c.f()}return null}(t.state,r);return!!o&&(t.dispatch(o),!0)}),BK=[{key:"Backspace",run:function(t){var e=t.state,n=t.dispatch;if(e.readOnly)return!1;var r=v9(e,e.selection.main.head).brackets||dp.brackets,i=null,o=e.changeByRange(function(s){if(s.empty){var a,u=function(c,d){var h=c.sliceString(d-2,d);return no(Kr(h,0))==h.length?h:h.slice(1)}(e.doc,s.head),l=ce(r);try{for(l.s();!(a=l.n()).done;){var f=a.value;if(f==u&&Pv(e.doc,s.head)==p9(Kr(f,0)))return{changes:{from:s.head-f.length,to:s.head+f.length},range:Xe.cursor(s.head-f.length),userEvent:"delete.backward"}}}catch(c){l.e(c)}finally{l.f()}}return{range:i=s}});return i||n(e.update(o,{scrollIntoView:!0})),!i}}];function m9(t,e){var n=!1;return t.field(h9).between(0,t.doc.length,function(r){r==e&&(n=!0)}),n}function Pv(t,e){var n=t.sliceString(e,e+2);return n.slice(0,no(Kr(n,0)))}function zK(t,e,n,r){var i=null,o=t.changeByRange(function(s){if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:ou.of(s.to+e.length),range:Xe.range(s.anchor+e.length,s.head+e.length)};var a=Pv(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:ou.of(s.head+e.length),range:Xe.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function FK(t,e,n){var r=null,i=t.selection.ranges.map(function(o){return o.empty&&Pv(t.doc,o.head)==n?Xe.cursor(o.head+n.length):r=o});return r?null:t.update({selection:Xe.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(function(o){var s=o.from;return wb.of(s)})})}function qK(t,e,n){var r=null,i=t.changeByRange(function(o){if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:ou.of(o.to+e.length),range:Xe.range(o.anchor+e.length,o.head+e.length)};var s=o.head,a=Pv(t.doc,s);if(a==e){if(q3(t,s))return{changes:{insert:e+e,from:s},effects:ou.of(s+e.length),range:Xe.cursor(s+e.length)};if(m9(t,s)){var u=n&&t.sliceDoc(s,s+3*e.length)==e+e+e;return{range:Xe.cursor(s+e.length*(u?3:1)),effects:wb.of(s)}}}else{if(n&&t.sliceDoc(s-2*e.length,s)==e+e&&q3(t,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:ou.of(s+e.length),range:Xe.cursor(s+e.length)};if(t.charCategorizer(s)(a)!=di.Word){var l=t.sliceDoc(s-1,s);if(l!=e&&t.charCategorizer(s)(l)!=di.Word&&!function(f,c,d){for(var h=ri(f).resolveInner(c,-1),p=0;p<5;p++){if(f.sliceDoc(h.from,h.from+d.length)==d)return!0;var v=h.to==c&&h.parent;if(!v)break;h=v}return!1}(t,s,e))return{changes:{insert:e+e,from:s},effects:ou.of(s+e.length),range:Xe.cursor(s+e.length)}}}return{range:r=o}});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function q3(t,e){var n=ri(t).resolveInner(e+1);return n.parent&&n.from==e}function VK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[ro,_a.of(t),IK,HK,NK]}var g9=[{key:"Ctrl-Space",run:function(t){return!!t.state.field(ro,!1)&&(t.dispatch({effects:kb.of(!0)}),!0)}},{key:"Escape",run:function(t){var e=t.state.field(ro,!1);return!(!e||!e.active.some(function(n){return n.state!=0}))&&(t.dispatch({effects:fp.of(null)}),!0)}},{key:"ArrowDown",run:Nd(!0)},{key:"ArrowUp",run:Nd(!1)},{key:"PageDown",run:Nd(!0,"page")},{key:"PageUp",run:Nd(!1,"page")},{key:"Enter",run:function(t){var e=t.state.field(ro,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75)&&(c9(t,e.open.options[e.open.selected]),!0)}}],HK=Mf.highest(xv.computeN([_a],function(t){return t.facet(_a).defaultKeymap?[g9]:[]})),WK=ne(function t(e,n,r){te(this,t),this.from=e,this.to=n,this.diagnostic=r}),nc=function(){function t(e,n,r){te(this,t),this.diagnostics=e,this.panel=n,this.selected=r}return ne(t,null,[{key:"init",value:function(e,n,r){var i=e,o=r.facet(su).markerFilter;o&&(i=o(i));var s=It.set(i.map(function(a){return a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?It.widget({widget:new YK(a),diagnostic:a}).range(a.from):It.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)}),!0);return new t(s,n,gl(s))}}]),t}();function gl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=null;return t.between(n,1e9,function(i,o,s){var a=s.spec;if(!e||a.diagnostic==e)return r=new WK(i,o,a.diagnostic),!1}),r}function y9(t,e){return!(!t.effects.some(function(n){return n.is(Mv)})&&!t.changes.touchesRange(e.pos))}function b9(t,e){return t.field(zi,!1)?e:e.concat(ln.appendConfig.of([zi,Ot.decorations.compute([zi],function(n){var r=n.field(zi),i=r.selected,o=r.panel;return i&&o&&i.from!=i.to?It.set([UK.range(i.from,i.to)]):It.none}),_U(JK,{hideOn:y9}),XK]))}var Mv=ln.define(),xb=ln.define(),k9=ln.define(),zi=Vr.define({create:function(){return new nc(It.none,null,null)},update:function(t,e){if(e.docChanged){var n=t.diagnostics.map(e.changes),r=null;if(t.selected){var i=e.changes.mapPos(t.selected.from,1);r=gl(n,t.selected.diagnostic,i)||gl(n,null,i)}t=new nc(n,t.panel,r)}var o,s=ce(e.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.is(Mv)?t=nc.init(a.value,t.panel,e.state):a.is(xb)?t=new nc(t.diagnostics,a.value?_9.open:null,t.selected):a.is(k9)&&(t=new nc(t.diagnostics,t.panel,a.value))}}catch(u){s.e(u)}finally{s.f()}return t},provide:function(t){return[rf.from(t,function(e){return e.panel}),Ot.decorations.from(t,function(e){return e.diagnostics})]}}),UK=It.mark({class:"cm-lintRange cm-lintRange-active"});function JK(t,e,n){var r=t.state.field(zi).diagnostics,i=[],o=2e8,s=0;r.between(e-(n<0?1:0),e+(n>0?1:0),function(u,l,f){var c=f.spec;e>=u&&e<=l&&(u==l||(e>u||n>0)&&(e<l||n<0))&&(i.push(c.diagnostic),o=Math.min(u,o),s=Math.max(l,s))});var a=t.state.facet(su).tooltipFilter;return a&&(i=a(i)),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create:function(){return{dom:w9(t,i)}}}:null}function w9(t,e){return sr("ul",{class:"cm-tooltip-lint"},e.map(function(n){return j9(t,n,!1)}))}var V3=function(t){var e=t.state.field(zi,!1);return!(!e||!e.panel)&&(t.dispatch({effects:xb.of(!1)}),!0)},KK=[{key:"Mod-Shift-m",run:function(t){var e=t.state.field(zi,!1);e&&e.panel||t.dispatch({effects:b9(t.state,[xb.of(!0)])});var n=nf(t,_9.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:function(t){var e=t.state.field(zi,!1);if(!e)return!1;var n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=e.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],GK=Wr.fromClass(function(){function t(e){te(this,t),this.view=e,this.timeout=-1,this.set=!0;var n=e.state.facet(su).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return ne(t,[{key:"run",value:function(){var e=this,n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;var r=this.view.state,i=r.facet(su).sources;Promise.all(i.map(function(o){return Promise.resolve(o(e.view))})).then(function(o){var s=o.reduce(function(a,u){return a.concat(u)});e.view.state.doc==r.doc&&e.view.dispatch(function(a,u){return{effects:b9(a,[Mv.of(u)])}}(e.view.state,s))},function(o){qi(e.view.state,o)})}}},{key:"update",value:function(e){var n=e.state.facet(su);(e.docChanged||n!=e.startState.facet(su))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),t}()),su=Ct.define({combine:function(t){return Object.assign({sources:t.map(function(e){return e.source})},ys(t.map(function(e){return e.config}),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:GK});function QK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return su.of({source:t,config:e})}function x9(t){var e=[];if(t){var n,r=ce(t);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,o=function(a){var u=i[a];if(/[a-zA-Z]/.test(u)&&!e.some(function(l){return l.toLowerCase()==u.toLowerCase()}))return e.push(u),"continue|actions"},s=0;s<i.length;s++)if(o(s)==="continue|actions")continue e;e.push("")}}catch(a){r.e(a)}finally{r.f()}}return e}function j9(t,e,n){var r,i=n?x9(e.actions):[];return sr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},sr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map(function(o,s){var a=function(c){c.preventDefault();var d=gl(t.state.field(zi).diagnostics,e);d&&o.apply(t,d.from,d.to)},u=o.name,l=i[s]?u.indexOf(i[s]):-1,f=l<0?u:[u.slice(0,l),sr("u",u.slice(l,l+1)),u.slice(l+1)];return sr("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":" Action: ".concat(u).concat(l<0?"":' (access key "'.concat(i[s],')"'),".")},f)}),e.source&&sr("div",{class:"cm-diagnosticSource"},e.source))}var YK=function(t){Be(n,Ia);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).diagnostic=r,i}return ne(n,[{key:"eq",value:function(r){return r.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return sr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(),H3=ne(function t(e,n){te(this,t),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=j9(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}),_9=function(){function t(e){var n=this;te(this,t),this.view=e,this.items=[],this.list=sr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(r){if(r.keyCode==27)V3(n.view),n.view.focus();else if(r.keyCode==38||r.keyCode==33)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(r.keyCode==40||r.keyCode==34)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(r.keyCode==36)n.moveSelection(0);else if(r.keyCode==35)n.moveSelection(n.items.length-1);else if(r.keyCode==13)n.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&n.selectedIndex>=0))return;for(var i=n.items[n.selectedIndex].diagnostic,o=x9(i.actions),s=0;s<o.length;s++)if(o[s].toUpperCase().charCodeAt(0)==r.keyCode){var a=gl(n.view.state.field(zi).diagnostics,i);a&&i.actions[s].apply(e,a.from,a.to)}}r.preventDefault()},onclick:function(r){for(var i=0;i<n.items.length;i++)n.items[i].dom.contains(r.target)&&n.moveSelection(i)}}),this.dom=sr("div",{class:"cm-panel-lint"},this.list,sr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return V3(n.view)}},"\xD7")),this.update()}return ne(t,[{key:"selectedIndex",get:function(){var e=this.view.state.field(zi).selected;if(!e)return-1;for(var n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}},{key:"update",value:function(){var e=this,n=this.view.state.field(zi),r=n.diagnostics,i=n.selected,o=0,s=!1,a=null;for(r.between(0,this.view.state.doc.length,function(u,l,f){for(var c,d=f.spec,h=-1,p=o;p<e.items.length;p++)if(e.items[p].diagnostic==d.diagnostic){h=p;break}h<0?(c=new H3(e.view,d.diagnostic),e.items.splice(o,0,c),s=!0):(c=e.items[h],h>o&&(e.items.splice(o,h-o),s=!0)),i&&c.diagnostic==i.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),a=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),o++});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new H3(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:function(){return{sel:a.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(u){var l=u.sel,f=u.panel;l.top<f.top?e.list.scrollTop-=f.top-l.top:l.bottom>f.bottom&&(e.list.scrollTop+=l.bottom-f.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function n(){var s=e;e=s.nextSibling,s.remove()}var r,i=ce(this.items);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.dom.parentNode==this.list){for(;e!=o.dom;)n();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e)}}catch(s){i.e(s)}finally{i.f()}for(;e;)n()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var n=gl(this.view.state.field(zi).diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:k9.of(n)})}}}],[{key:"open",value:function(e){return new t(e)}}]),t}();function uh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'viewBox="0 0 40 40"';return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" `.concat(e,">").concat(encodeURIComponent(t),"</svg>')")}function Nm(t){return uh('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(t,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var XK=Ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Nm("#d11")},".cm-lintRange-warning":{backgroundImage:Nm("orange")},".cm-lintRange-info":{backgroundImage:Nm("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),ZK=function(t){Be(n,Xo);var e=ze(n);function n(r){var i;return te(this,n),(i=e.call(this)).diagnostics=r,i.severity=r.reduce(function(o,s){var a=s.severity;return a=="error"||a=="warning"&&o=="info"?a:o},"info"),i}return ne(n,[{key:"toDOM",value:function(r){var i=document.createElement("div");i.className="cm-lint-marker cm-lint-marker-"+this.severity;var o=this.diagnostics,s=r.state.facet(hp).tooltipFilter;return s&&(o=s(o)),o.length&&(i.onmouseover=function(){return function(a,u,l){function f(){var h=a.elementAtHeight(u.getBoundingClientRect().top+5-a.documentTop);a.coordsAtPos(h.from)&&a.dispatch({effects:q0.of({pos:h.from,above:!1,create:function(){return{dom:w9(a,l),getCoords:function(){return u.getBoundingClientRect()}}}})}),u.onmouseout=u.onmousemove=null,function(p,v){var m=function g(y){var b=v.getBoundingClientRect();if(!(y.clientX>b.left-10&&y.clientX<b.right+10&&y.clientY>b.top-10&&y.clientY<b.bottom+10)){for(var k=y.target;k;k=k.parentNode)if(k.nodeType==1&&k.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",g),p.state.field(C9)&&p.dispatch({effects:q0.of(null)})}};window.addEventListener("mousemove",m)}(a,u)}var c=a.state.facet(hp).hoverTime,d=setTimeout(f,c);u.onmouseout=function(){clearTimeout(d),u.onmouseout=u.onmousemove=null},u.onmousemove=function(){clearTimeout(d),d=setTimeout(f,c)}}(r,i,o)}),i}}]),n}();function eG(t,e){var n,r=Object.create(null),i=ce(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t.lineAt(o.from);(r[s.from]||(r[s.from]=[])).push(o)}}catch(l){i.e(l)}finally{i.f()}var a=[];for(var u in r)a.push(new ZK(r[u]).range(+u));return tr.of(a,!0)}var tG=pI({class:"cm-gutter-lint",markers:function(t){return t.state.field(S9)}}),S9=Vr.define({create:function(){return tr.empty},update:function(t,e){t=t.map(e.changes);var n,r=e.state.facet(hp).markerFilter,i=ce(e.effects);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is(Mv)){var s=o.value;r&&(s=r(s||[])),t=eG(e.state.doc,s.slice(0))}}}catch(a){i.e(a)}finally{i.f()}return t}}),q0=ln.define(),C9=Vr.define({create:function(){return null},update:function(t,e){return t&&e.docChanged&&(t=y9(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce(function(n,r){return r.is(q0)?r.value:n},t)},provide:function(t){return jv.from(t)}}),nG=Ot.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:uh('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:uh('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:uh('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),hp=Ct.define({combine:function(t){return ys(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function rG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[hp.of(t),S9,tG,nG,C9]}var iG=[PU(),NU(),sU(),UJ(),mJ(),YW(),nU(),er.allowMultipleSelections.of(!0),cJ(),II(kJ,{fallback:!0}),CJ(),LK(),VK(),pU(),gU(),cU(),aK(),xv.of([].concat(BK,nn(rK),kK,eK,dJ,g9,KK))],oG=0,Lm=ne(function t(e,n){te(this,t),this.from=e,this.to=n}),or=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,t),this.id=oG++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ne(t,[{key:"add",value:function(e){var n=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ds.match(e)),function(r){var i=e(r);return i===void 0?null:[n,i]}}}]),t}();or.closedBy=new or({deserialize:function(t){return t.split(" ")}}),or.openedBy=new or({deserialize:function(t){return t.split(" ")}}),or.group=new or({deserialize:function(t){return t.split(" ")}}),or.contextHash=new or({perNode:!0}),or.lookAhead=new or({perNode:!0}),or.mounted=new or({perNode:!0});var sG=Object.create(null),Ds=function(){function t(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;te(this,t),this.name=e,this.props=n,this.id=r,this.flags=i}return ne(t,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(or.group);return!!n&&n.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var n=e.props&&e.props.length?Object.create(null):sG,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",n,e.id,r);if(e.props){var o,s=ce(e.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(u){s.e(u)}finally{s.f()}}return i}},{key:"match",value:function(e){var n=Object.create(null);for(var r in e){var i,o=ce(r.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;n[s]=e[r]}}catch(a){o.e(a)}finally{o.f()}}return function(a){for(var u=a.prop(or.group),l=-1;l<(u?u.length:0);l++){var f=n[l<0?a.name:u[l]];if(f)return f}}}}]),t}();Ds.none=new Ds("",Object.create(null),0,8);var Qr,aG=function(){function t(e){te(this,t),this.types=e;for(var n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return ne(t,[{key:"extend",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o,s=ce(this.types);try{for(s.s();!(o=s.n()).done;){var a,u=o.value,l=null,f=ce(r);try{for(f.s();!(a=f.n()).done;){var c=a.value,d=c(u);d&&(l||(l=Object.assign({},u.props)),l[d[0].id]=d[1])}}catch(h){f.e(h)}finally{f.f()}e.push(l?new Ds(u.name,l,u.id,u.flags):u)}}catch(h){s.e(h)}finally{s.f()}return new t(e)}}]),t}(),Ld=new WeakMap,W3=new WeakMap;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Qr||(Qr={}));var Mo=function(){function t(e,n,r,i,o){if(te(this,t),this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var s,a=ce(o);try{for(a.s();!(s=a.n()).done;){var u=Et(s.value,2),l=u[0],f=u[1];this.props[typeof l=="number"?l:l.id]=f}}catch(c){a.e(c)}finally{a.f()}}}return ne(t,[{key:"toString",value:function(){var e=this.prop(or.mounted);if(e&&!e.overlay)return e.tree.toString();var n,r="",i=ce(this.children);try{for(i.s();!(n=i.n()).done;){var o=n.value.toString();o&&(r&&(r+=","),r+=o)}}catch(s){i.e(s)}finally{i.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mp(this.topNode,e)}},{key:"cursorAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Ld.get(this)||this.topNode,i=new mp(r);return i.moveTo(e,n),Ld.set(this,i._tree),i}},{key:"topNode",get:function(){return new df(this,0,0,null)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=yl(Ld.get(this)||this.topNode,e,n,!1);return Ld.set(this,r),r}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=yl(W3.get(this)||this.topNode,e,n,!0);return W3.set(this,r),r}},{key:"iterate",value:function(e){for(var n=e.enter,r=e.leave,i=e.from,o=i===void 0?0:i,s=e.to,a=s===void 0?this.length:s,u=this.cursor((e.mode||0)|Qr.IncludeAnonymous);;){var l=!1;if(u.from<=a&&u.to>=o&&(u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;l=!0}for(;l&&r&&!u.type.isAnonymous&&r(u),!u.nextSibling();){if(!u.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var n in this.props)e.push([+n,this.props[n]]);return e}},{key:"balance",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:_b(Ds.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,i,o){return new t(e.type,r,i,o,e.propValues)},n.makeTree||function(r,i,o){return new t(Ds.none,r,i,o)})}}],[{key:"build",value:function(e){return cG(e)}}]),t}();Mo.empty=new Mo(Ds.none,[],[],0);var uG=function(){function t(e,n){te(this,t),this.buffer=e,this.index=n}return ne(t,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new t(this.buffer,this.index)}}]),t}(),zf=function(){function t(e,n,r){te(this,t),this.buffer=e,this.length=n,this.set=r}return ne(t,[{key:"type",get:function(){return Ds.none}},{key:"toString",value:function(){for(var e=[],n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}},{key:"childString",value:function(e){var n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;for(var s=[];e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}},{key:"findChild",value:function(e,n,r,i,o){for(var s=this.buffer,a=-1,u=e;u!=n&&!($9(o,i,s[u+1],s[u+2])&&(a=u,r>0));u=s[u+3]);return a}},{key:"slice",value:function(e,n,r,i){for(var o=this.buffer,s=new Uint16Array(n-e),a=e,u=0;a<n;)s[u++]=o[a++],s[u++]=o[a++]-r,s[u++]=o[a++]-r,s[u++]=o[a++]-e;return new t(s,i-r,this.set)}}]),t}();function $9(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function A9(t,e){for(var n=t.childBefore(e);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function yl(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){var o=!r&&t instanceof df&&t.index<0?null:t.parent;if(!o)return t;t=o}var s=r?0:Qr.IgnoreOverlays;if(r)for(var a=t,u=a.parent;u;u=(a=u).parent)a instanceof df&&a.index<0&&((i=u.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=u);for(;;){var l=t.enter(e,n,s);if(!l)return t;t=l}}var df=function(){function t(e,n,r,i){te(this,t),this._tree=e,this.from=n,this.index=r,this._parent=i}return ne(t,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,n,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=this;;){for(var a=s._tree,u=a.children,l=a.positions,f=n>0?u.length:-1;e!=f;e+=n){var c=u[e],d=l[e]+s.from;if($9(i,r,d,d+c.length)){if(c instanceof zf){if(o&Qr.ExcludeBuffers)continue;var h=c.findChild(0,c.buffer.length,n,r-d,i);if(h>-1)return new V0(new lG(s,c,e,d),null,h)}else if(o&Qr.IncludeAnonymous||!c.type.isAnonymous||jb(c)){var p=void 0;if(!(o&Qr.IgnoreMounts)&&c.props&&(p=c.prop(or.mounted))&&!p.overlay)return new t(p.tree,d,e,s);var v=new t(c,d,e,s);return o&Qr.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&Qr.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,!(s=s._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(i&Qr.IgnoreOverlays)&&(r=this._tree.prop(or.mounted))&&r.overlay){var o,s=e-this.from,a=ce(r.overlay);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=u.from,f=u.to;if((n>0?l<=s:l<s)&&(n<0?f>=s:f>s))return new t(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(c){a.e(c)}finally{a.f()}}return this.nextChild(0,1,e,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mp(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return yl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return yl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return A9(this,e)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=pp(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return pp(this,e,n,r)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return vp(this,e)}}]),t}();function pp(t,e,n,r){var i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function vp(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var lG=ne(function t(e,n,r,i){te(this,t),this.parent=e,this.buffer=n,this.index=r,this.start=i}),V0=function(){function t(e,n,r){te(this,t),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new t(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r&Qr.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new t(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mp(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],n=[],r=this.context.buffer,i=this.index+4,o=r.buffer[this.index+3];if(o>i){var s=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(i,o,s,a)),n.push(0)}return new Mo(this.type,e,n,this.to-this.from)}},{key:"resolve",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return yl(this,e,n,!1)}},{key:"resolveInner",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return yl(this,e,n,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return A9(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=pp(this,e,n,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return pp(this,e,n,r)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return vp(this,e)}}]),t}(),mp=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(te(this,t),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof df)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ne(t,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,n){this.index=e;var r=this.buffer,i=r.start,o=r.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof df?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));var i=this.buffer.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&Qr.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&Qr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&Qr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var n=this.buffer.buffer,r=this.stack.length-1;if(e<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{var o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var n,r,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;n=i.index,r=i.parent}else{var s=this._tree;n=s.index,r=s._parent}for(;r;n=(a=r).index,r=a._parent,a){var a;if(n>-1)for(var u=n+e,l=e<0?-1:r._tree.children.length;u!=l;u+=e){var f=r._tree.children[u];if(this.mode&Qr.IncludeAnonymous||f instanceof zf||!f.type.isAnonymous||jb(f))return!1}}return!0}},{key:"move",value:function(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(var i=this.index,o=this.stack.length;o>=0;){for(var s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(var a=r;a<this.stack.length;a++)n=new V0(this.buffer,n,this.stack[a]);return this.bufferNode=new V0(this.buffer,n,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,n){for(var r=0;;){var i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return vp(this.node,e);for(var n=this.buffer.buffer,r=n.set.types,i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return vp(this.node,e,i);var s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}]),t}();function jb(t){return t.children.some(function(e){return e instanceof zf||!e.type.isAnonymous||jb(e)})}function cG(t){var e,n=t.buffer,r=t.nodeSet,i=t.maxBufferLength,o=i===void 0?1024:i,s=t.reused,a=s===void 0?[]:s,u=t.minRepeatType,l=u===void 0?r.types.length:u,f=Array.isArray(n)?new uG(n,n.length):n,c=r.types,d=0,h=0;function p(w,C,_,T,j){for(var O=f.id,S=f.start,N=f.end,A=f.size,$=h;A<0;){if(f.next(),A==-1){var q=a[O];return _.push(q),void T.push(S-w)}if(A==-3)return void(d=O);if(A==-4)return void(h=O);throw new RangeError("Unrecognized record size: ".concat(A))}var Y,z,J=c[O],L=S-w;if(N-S<=o&&(z=function(je,R){var H=f.fork(),I=0,B=0,Z=0,le=H.end-o,X={size:0,start:0,skip:0};e:for(var V=H.pos-je;H.pos>V;){var _e=H.size;if(H.id==R&&_e>=0)X.size=I,X.start=B,X.skip=Z,Z+=4,I+=4,H.next();else{var Se=H.pos-_e;if(_e<0||Se<V||H.start<le)break;var xe=H.id>=l?4:0,he=H.start;for(H.next();H.pos>Se;){if(H.size<0){if(H.size!=-3)break e;xe+=4}else H.id>=l&&(xe+=4);H.next()}B=he,I+=_e,Z+=xe}}return(R<0||I==je)&&(X.size=I,X.start=B,X.skip=Z),X.size>4?X:void 0}(f.pos-C,j))){for(var D=new Uint16Array(z.size-z.skip),U=f.pos-z.size,W=D.length;f.pos>U;)W=g(z.start,D,W);Y=new zf(D,N-z.start,r),L=z.start-w}else{var F=f.pos-A;f.next();for(var E=[],x=[],M=O>=l?O:-1,K=0,se=N;f.pos>F;)M>=0&&f.id==M&&f.size>=0?(f.end<=se-o&&(v(E,x,S,K,f.end,se,M,$),K=E.length,se=f.end),f.next()):p(S,F,E,x,M);if(M>=0&&K>0&&K<E.length&&v(E,x,S,K,S,se,M,$),E.reverse(),x.reverse(),M>-1&&K>0){var we=function(je){return function(R,H,I){var B,Z,le=0,X=R.length-1;if(X>=0&&(B=R[X])instanceof Mo){if(!X&&B.type==je&&B.length==I)return B;(Z=B.prop(or.lookAhead))&&(le=H[X]+B.length+Z)}return m(je,R,H,I,le)}}(J);Y=_b(J,E,x,0,E.length,0,N-S,we,we)}else Y=m(J,E,x,N-S,$-N)}_.push(Y),T.push(L)}function v(w,C,_,T,j,O,S,N){for(var A=[],$=[];w.length>T;)A.push(w.pop()),$.push(C.pop()+_-j);w.push(m(r.types[S],A,$,O-j,N-O)),C.push(j-_)}function m(w,C,_,T){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5?arguments[5]:void 0;if(d){var S=[or.contextHash,d];O=O?[S].concat(O):[S]}if(j>25){var N=[or.lookAhead,j];O=O?[N].concat(O):[N]}return new Mo(w,C,_,T,O)}function g(w,C,_){var T=f.id,j=f.start,O=f.end,S=f.size;if(f.next(),S>=0&&T<l){var N=_;if(S>4)for(var A=f.pos-(S-4);f.pos>A;)_=g(w,C,_);C[--_]=N,C[--_]=O-w,C[--_]=j-w,C[--_]=T}else S==-3?d=T:S==-4&&(h=T);return _}for(var y=[],b=[];f.pos>0;)p(t.start||0,t.bufferStart||0,y,b,-1);var k=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Mo(c[t.topID],y.reverse(),b.reverse(),k)}var U3=new WeakMap;function lh(t,e){if(!t.isAnonymous||e instanceof zf||e.type!=t)return 1;var n=U3.get(e);if(n==null){n=1;var r,i=ce(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=t||!(o instanceof Mo)){n=1;break}n+=lh(t,o)}}catch(s){i.e(s)}finally{i.f()}U3.set(e,n)}return n}function _b(t,e,n,r,i,o,s,a,u){for(var l=0,f=r;f<i;f++)l+=lh(t,e[f]);var c=Math.ceil(1.5*l/8),d=[],h=[];return function p(v,m,g,y,b){for(var k=g;k<y;){var w=k,C=m[k],_=lh(t,v[k]);for(k++;k<y;k++){var T=lh(t,v[k]);if(_+T>=c)break;_+=T}if(k==w+1){if(_>c){var j=v[w];p(j.children,j.positions,0,j.children.length,m[w]+b);continue}d.push(v[w])}else{var O=m[k-1]+v[k-1].length-C;d.push(_b(t,v,m,w,k,C,O,null,u))}h.push(C+b-o)}}(e,n,r,i,0),(a||u)(d,h,s)}var fG=function(){function t(){te(this,t)}return ne(t,[{key:"startParse",value:function(e,n,r){return typeof e=="string"&&(e=new dG(e)),r=r?r.length?r.map(function(i){return new Lm(i.from,i.to)}):[new Lm(0,0)]:[new Lm(0,e.length)],this.createParse(e,n||[],r)}},{key:"parse",value:function(e,n,r){for(var i=this.startParse(e,n,r);;){var o=i.advance();if(o)return o}}}]),t}(),dG=function(){function t(e){te(this,t),this.string=e}return ne(t,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,n){return this.string.slice(e,n)}}]),t}();new or({perNode:!0});var J3,hG=function(){function t(e,n,r,i,o,s,a,u,l){var f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,c=arguments.length>10?arguments[10]:void 0;te(this,t),this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=u,this.curContext=l,this.lookAhead=f,this.parent=c}return ne(t,[{key:"toString",value:function(){return"[".concat(this.stack.filter(function(e,n){return n%3==0}).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var n=e>>19,r=65535&e,i=this.p.parser,o=i.dynamicPrecedence(r);if(o&&(this.score+=o),n==0)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);var s=this.stack.length-3*(n-1)-(262144&e?6:0),a=this.stack[s-2],u=this.stack[s-1],l=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&e){var f=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,f,l+4,!0)}if(262144&e)this.state=this.stack[s];else{var c=this.stack[s-3];this.state=i.getGoto(c,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,a)}},{key:"storeNode",value:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4,o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n)return void(s.buffer[a-2]=r)}}if(o&&this.pos!=r){var u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0)for(;u>0&&this.buffer[u-2]>r;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,i>4&&(i-=4);this.buffer[u]=e,this.buffer[u+1]=n,this.buffer[u+2]=r,this.buffer[u+3]=i}else this.buffer.push(e,n,r,i)}},{key:"shift",value:function(e,n,r){var i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if((262144&e)==0){var o=e,s=this.p.parser;(r>this.pos||n<=s.maxNode)&&(this.pos=r,s.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(n,i),n<=s.maxNode&&this.buffer.push(n,i,r,4)}else this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4)}},{key:"apply",value:function(e,n,r){65536&e?this.reduce(e):this.shift(e,n,r)}},{key:"useNode",value:function(e,n){var r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);var i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var e=this,n=e.buffer.length;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;for(var r=e.buffer.slice(n),i=e.bufferBase+n;e&&i==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}},{key:"recoverByDelete",value:function(e,n){var r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}},{key:"canShift",value:function(e){for(var n=new pG(this);;){var r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if((65536&r)==0)return!0;if(r==0)return!1;n.reduce(r)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){for(var r,i=[],o=0;o<n.length;o+=2)(r=n[o+1])!=this.state&&this.p.parser.hasAction(r,e)&&i.push(n[o],r);if(this.stack.length<120)for(var s=function(d){var h=n[d+1];i.some(function(p,v){return 1&v&&p==h})||i.push(n[d],h)},a=0;i.length<8&&a<n.length;a+=2)s(a);n=i}for(var u=[],l=0;l<n.length&&u.length<4;l+=2){var f=n[l+1];if(f!=this.state){var c=this.split();c.pushState(f,this.pos),c.storeNode(0,c.pos,c.pos,4,!0),c.shiftContext(n[l],this.pos),c.score-=200,u.push(c)}}return u}},{key:"forceReduce",value:function(){var e=this.p.parser.stateSlot(this.state,5);if((65536&e)==0)return!1;var n=this.p.parser;if(!n.validAction(this.state,e)){var r=e>>19,i=65535&e,o=this.stack.length-3*r;if(o<0||n.getGoto(this.stack[o],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(this.stack.length!=3)return!1;var e=this.p.parser;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"reduceContext",value:function(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var n=new K3(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=e.parser.context;return new t(e,[],n,r,r,0,[],0,i?new K3(i,i.start):null,0,null)}}]),t}(),K3=ne(function t(e,n){te(this,t),this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0});(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(J3||(J3={}));var pG=function(){function t(e){te(this,t),this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}return ne(t,[{key:"reduce",value:function(e){var n=65535&e,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);var i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}]),t}(),vG=function(){function t(e,n,r){te(this,t),this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}return ne(t,[{key:"maybeNext",value:function(){var e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}},{key:"fork",value:function(){return new t(this.stack,this.pos,this.index)}}],[{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.bufferBase+e.buffer.length;return new t(e,n,n-e.bufferBase)}}]),t}(),ch=ne(function t(){te(this,t),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}),G3=new ch,mG=function(){function t(e,n){te(this,t),this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=G3,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return ne(t,[{key:"resolveOffset",value:function(e,n){for(var r=this.range,i=this.rangeIndex,o=this.pos+e;o<r.from;){if(!i)return null;var s=this.ranges[--i];o-=r.from-s.to,r=s}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;var a=this.ranges[++i];o+=a.from-r.to,r=a}return o}},{key:"peek",value:function(e){var n,r,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(i);else{var o=this.resolveOffset(e,1);if(o==null)return-1;if((n=o)>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{for(var s=this.rangeIndex,a=this.range;a.to<=n;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}},{key:"acceptToken",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,n=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var r=this.input.chunk(this.pos),i=this.pos+r.length;this.chunk=i>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=G3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);var r,i="",o=ce(this.ranges);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.from>=n)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}}catch(a){o.e(a)}finally{o.f()}return i}}]),t}(),fh=function(){function t(e,n){te(this,t),this.data=e,this.id=n}return ne(t,[{key:"token",value:function(e,n){(function(r,i,o,s){var a=0,u=1<<s,l=o.p.parser,f=l.dialect;e:for(;(u&r[a])!=0;){for(var c=r[a+1],d=a+3;d<c;d+=2)if((r[d+1]&u)>0){var h=r[d];if(f.allows(h)&&(i.token.value==-1||i.token.value==h||l.overrides(h,i.token.value))){i.acceptToken(h);break}}for(var p=i.next,v=0,m=r[a+2];v<m;){var g=v+m>>1,y=c+g+(g<<1),b=r[y],k=r[y+1];if(p<b)m=g;else{if(!(p>=k)){a=r[y+2],i.advance();continue e}v=g+1}}break}})(this.data,e,n,this.id)}}]),t}();function Dd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uint16Array;if(typeof t!="string")return t;for(var n=null,r=0,i=0;r<t.length;){for(var o=0;;){var s=t.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;var u=s-32;if(u>=46&&(u-=46,a=!0),o+=u,a)break;o*=46}n?n[i++]=o:n=new e(o)}return n}fh.prototype.contextual=fh.prototype.fallback=fh.prototype.extend=!1;var Q3,wo=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),Dm=null;function Y3(t,e,n){var r=t.cursor(Qr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}(function(t){t[t.Margin=25]="Margin"})(Q3||(Q3={}));var X3,gG=function(){function t(e,n){te(this,t),this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return ne(t,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Y3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Y3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var n=this.trees.length-1;if(n<0)return this.nextFragment(),null;var r=this.trees[n],i=this.index[n];if(i!=r.children.length){var o=r.children[i],s=this.start[n]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof Mo){if(s==e){if(s<this.safeFrom)return null;var a=s+o.length;if(a<=this.safeTo){var u=o.prop(or.lookAhead);if(!u||a+u<this.fragment.to)return o}}this.index[n]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+o.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),t}(),yG=function(){function t(e,n){te(this,t),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(function(r){return new ch})}return ne(t,[{key:"getActions",value:function(e){for(var n=0,r=null,i=e.p.parser,o=i.tokenizers,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,u=0,l=0;l<o.length;l++)if((1<<l&s)!=0){var f=o[l],c=this.tokens[l];if((!r||f.fallback)&&((f.contextual||c.start!=e.pos||c.mask!=s||c.context!=a)&&(this.updateCachedToken(c,f,e),c.mask=s,c.context=a),c.lookAhead>c.end+25&&(u=Math.max(c.lookAhead,u)),c.value!=0)){var d=n;if(c.extended>-1&&(n=this.addActions(e,c.extended,c.end,n)),n=this.addActions(e,c.value,c.end,n),!f.extend&&(r=c,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),r||e.pos!=this.stream.end||((r=new ch).value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var n=new ch,r=e.pos,i=e.p;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}},{key:"updateCachedToken",value:function(e,n,r){if(n.token(this.stream.reset(r.pos,e),r),e.value>-1){for(var i=r.p.parser,o=0;o<i.specialized.length;o++)if(i.specialized[o]==e.value){var s=i.specializers[o](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){(1&s)==0?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}},{key:"putAction",value:function(e,n,r,i){for(var o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}},{key:"addActions",value:function(e,n,r,i){for(var o=e.state,s=e.p.parser,a=s.data,u=0;u<2;u++)for(var l=s.stateSlot(o,u?2:1);;l+=3){if(a[l]==65535){if(a[l+1]!=1){i==0&&a[l+1]==2&&(i=this.putAction(xs(a,l+2),n,r,i));break}l=xs(a,l+2)}a[l]==n&&(i=this.putAction(xs(a,l+1),n,r,i))}return i}}]),t}();(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo"})(X3||(X3={}));var bG=function(){function t(e,n,r,i){te(this,t),this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new mG(n,i),this.tokens=new yG(e,this.stream),this.topTerm=e.top[1];var o=i[0].from;this.stacks=[hG.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new gG(r,e.nodeSet):null}return ne(t,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){for(var e,n,r=this.stacks,i=this.minStackPos,o=this.stacks=[],s=0;s<r.length;s++)for(var a=r[s];;){if(this.tokens.mainToken=null,a.pos>i)o.push(a);else{if(this.advanceStack(a,o,r))continue;e||(e=[],n=[]),e.push(a);var u=this.tokens.getMainToken(a);n.push(u.value,u.end)}break}if(!o.length){var l=e&&function(g){var y,b=null,k=ce(g);try{for(k.s();!(y=k.n()).done;){var w=y.value,C=w.p.stoppedAt;(w.pos==w.p.stream.end||C!=null&&w.pos>C)&&w.p.parser.stateFlag(w.state,2)&&(!b||b.score<w.score)&&(b=w)}}catch(_){k.e(_)}finally{k.f()}return b}(e);if(l)return this.stackToTree(l);if(this.parser.strict)throw wo&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){var f=this.stoppedAt!=null&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,n,o);if(f)return this.stackToTree(f.forceAll())}if(this.recovering){var c=this.recovering==1?1:3*this.recovering;if(o.length>c)for(o.sort(function(g,y){return y.score-g.score});o.length>c;)o.pop();o.some(function(g){return g.reducePos>i})&&this.recovering--}else if(o.length>1)e:for(var d=0;d<o.length-1;d++)for(var h=o[d],p=d+1;p<o.length;p++){var v=o[p];if(h.sameState(v)||h.buffer.length>500&&v.buffer.length>500){if(!((h.score-v.score||h.buffer.length-v.buffer.length)>0)){o.splice(d--,1);continue e}o.splice(p--,1)}}this.minStackPos=o[0].pos;for(var m=1;m<o.length;m++)o[m].pos<this.minStackPos&&(this.minStackPos=o[m].pos);return null}},{key:"stopAt",value:function(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,n,r){var i=e.pos,o=this.parser,s=wo?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var a=e.curContext&&e.curContext.tracker.strict,u=a?e.curContext.hash:0,l=this.fragments.nodeAt(i);l;){var f=this.parser.nodeSet.types[l.type.id]==l.type?o.getGoto(e.state,l.type.id):-1;if(f>-1&&l.length&&(!a||(l.prop(or.contextHash)||0)==u))return e.useNode(l,f),wo&&console.log(s+this.stackID(e)+" (via reuse of ".concat(o.getName(l.type.id),")")),!0;if(!(l instanceof Mo)||l.children.length==0||l.positions[0]>0)break;var c=l.children[0];if(!(c instanceof Mo&&l.positions[0]==0))break;l=c}var d=o.stateSlot(e.state,4);if(d>0)return e.reduce(d),wo&&console.log(s+this.stackID(e)+" (via always-reduce ".concat(o.getName(65535&d),")")),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););for(var h=this.tokens.getActions(e),p=0;p<h.length;){var v=h[p++],m=h[p++],g=h[p++],y=p==h.length||!r,b=y?e:e.split();if(b.apply(v,m,g),wo&&console.log(s+this.stackID(b)+" (via ".concat((65536&v)==0?"shift":"reduce of ".concat(o.getName(65535&v))," for ").concat(o.getName(m)," @ ").concat(i).concat(b==e?"":", split",")")),y)return!0;b.pos>i?n.push(b):r.push(b)}return!1}},{key:"advanceFully",value:function(e,n){for(var r=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Z3(e,n),!0}}},{key:"runRecovery",value:function(e,n,r){for(var i=null,o=!1,s=0;s<e.length;s++){var a=e[s],u=n[s<<1],l=n[1+(s<<1)],f=wo?this.stackID(a)+" -> ":"";if(!(a.deadEnd&&(o||(o=!0,a.restart(),wo&&console.log(f+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))){for(var c=a.split(),d=f,h=0;c.forceReduce()&&h<10&&(wo&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));h++)wo&&(d=this.stackID(c)+" -> ");var p,v=ce(a.recoverByInsert(u));try{for(v.s();!(p=v.n()).done;){var m=p.value;wo&&console.log(f+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r)}}catch(g){v.e(g)}finally{v.f()}this.stream.end>a.pos?(l==a.pos&&(l++,u=0),a.recoverByDelete(u,l),wo&&console.log(f+this.stackID(a)+" (via recover-delete ".concat(this.parser.getName(u),")")),Z3(a,r)):(!i||i.score<a.score)&&(i=a)}}return i}},{key:"stackToTree",value:function(e){return e.close(),Mo.build({buffer:vG.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var n=(Dm||(Dm=new WeakMap)).get(e);return n||Dm.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}]),t}();function Z3(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}var kG=function(){function t(e,n,r){te(this,t),this.source=e,this.flags=n,this.disabled=r}return ne(t,[{key:"allows",value:function(e){return!this.disabled||this.disabled[e]==0}}]),t}(),wG=function(t){Be(n,fG);var e=ze(n);function n(r){var i,o;if(te(this,n),(o=e.call(this)).wrappers=[],r.version!=14)throw new RangeError("Parser version (".concat(r.version,") doesn't match runtime version (",14,")"));var s=r.nodeNames.split(" ");o.minRepeatTerm=s.length;for(var a=0;a<r.repeatNodeCount;a++)s.push("");for(var u=Object.keys(r.topRules).map(function(C){return r.topRules[C][1]}),l=[],f=0;f<s.length;f++)l.push([]);function c(C,_,T){l[C].push([_,_.deserialize(String(T))])}if(r.nodeProps){var d,h=ce(r.nodeProps);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p[0];typeof v=="string"&&(v=or[v]);for(var m=1;m<p.length;){var g=p[m++];if(g>=0)c(g,v,p[m++]);else{for(var y=p[m+-g],b=-g;b>0;b--)c(p[m++],v,y);m++}}}}catch(C){h.e(C)}finally{h.f()}}o.nodeSet=new aG(s.map(function(C,_){return Ds.define({name:_>=o.minRepeatTerm?void 0:C,id:_,props:l[_],top:u.indexOf(_)>-1,error:_==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(_)>-1})})),r.propSources&&(o.nodeSet=(i=o.nodeSet).extend.apply(i,nn(r.propSources))),o.strict=!1,o.bufferLength=1024;var k=Dd(r.tokenData);if(o.context=r.context,o.specialized=new Uint16Array(r.specialized?r.specialized.length:0),o.specializers=[],r.specialized)for(var w=0;w<r.specialized.length;w++)o.specialized[w]=r.specialized[w].term,o.specializers[w]=r.specialized[w].get;return o.states=Dd(r.states,Uint32Array),o.data=Dd(r.stateData),o.goto=Dd(r.goto),o.maxTerm=r.maxTerm,o.tokenizers=r.tokenizers.map(function(C){return typeof C=="number"?new fh(k,C):C}),o.topRules=r.topRules,o.dialects=r.dialects||{},o.dynamicPrecedences=r.dynamicPrecedences||null,o.tokenPrecTable=r.tokenPrec,o.termNames=r.termNames||null,o.maxNode=o.nodeSet.types.length-1,o.dialect=o.parseDialect(),o.top=o.topRules[Object.keys(o.topRules)[0]],o}return ne(n,[{key:"createParse",value:function(r,i,o){var s,a=new bG(this,r,i,o),u=ce(this.wrappers);try{for(u.s();!(s=u.n()).done;)a=(0,s.value)(a,r,i,o)}catch(l){u.e(l)}finally{u.f()}return a}},{key:"getGoto",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=this.goto;if(i>=s[0])return-1;for(var a=s[i+1];;){var u=s[a++],l=1&u,f=s[a++];if(l&&o)return f;for(var c=a+(u>>1);a<c;a++)if(s[a]==r)return f;if(l)return-1}}},{key:"hasAction",value:function(r,i){for(var o=this.data,s=0;s<2;s++)for(var a,u=this.stateSlot(r,s?2:1);;u+=3){if((a=o[u])==65535){if(o[u+1]!=1){if(o[u+1]==2)return xs(o,u+2);break}a=o[u=xs(o,u+2)]}if(a==i||a==0)return xs(o,u+1)}return 0}},{key:"stateSlot",value:function(r,i){return this.states[6*r+i]}},{key:"stateFlag",value:function(r,i){return(this.stateSlot(r,0)&i)>0}},{key:"validAction",value:function(r,i){if(i==this.stateSlot(r,4))return!0;for(var o=this.stateSlot(r,1);;o+=3){if(this.data[o]==65535){if(this.data[o+1]!=1)return!1;o=xs(this.data,o+2)}if(i==xs(this.data,o+1))return!0}}},{key:"nextStates",value:function(r){for(var i=this,o=[],s=this.stateSlot(r,1);;s+=3){if(this.data[s]==65535){if(this.data[s+1]!=1)break;s=xs(this.data,s+2)}(1&this.data[s+2])==0&&function(){var a=i.data[s+1];o.some(function(u,l){return 1&l&&u==a})||o.push(i.data[s],a)}()}return o}},{key:"overrides",value:function(r,i){var o=e5(this.data,this.tokenPrecTable,i);return o<0||e5(this.data,this.tokenPrecTable,r)<o}},{key:"configure",value:function(r){var i,o=Object.assign(Object.create(n.prototype),this);if(r.props&&(o.nodeSet=(i=this.nodeSet).extend.apply(i,nn(r.props))),r.top){var s=this.topRules[r.top];if(!s)throw new RangeError("Invalid top rule name ".concat(r.top));o.top=s}return r.tokenizers&&(o.tokenizers=this.tokenizers.map(function(a){var u=r.tokenizers.find(function(l){return l.from==a});return u?u.to:a})),r.contextTracker&&(o.context=r.contextTracker),r.dialect&&(o.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(o.strict=r.strict),r.wrap&&(o.wrappers=o.wrappers.concat(r.wrap)),r.bufferLength!=null&&(o.bufferLength=r.bufferLength),o}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(r){var i=this.dynamicPrecedences;return i==null?0:i[r]||0}},{key:"parseDialect",value:function(r){var i=Object.keys(this.dialects),o=i.map(function(){return!1});if(r){var s,a=ce(r.split(" "));try{for(a.s();!(s=a.n()).done;){var u=s.value,l=i.indexOf(u);l>=0&&(o[l]=!0)}}catch(p){a.e(p)}finally{a.f()}}for(var f=null,c=0;c<i.length;c++)if(!o[c])for(var d,h=this.dialects[i[c]];(d=this.data[h++])!=65535;)(f||(f=new Uint8Array(this.maxTerm+1)))[d]=1;return new kG(r,o,f)}}],[{key:"deserialize",value:function(r){return new n(r)}}]),n}();function xs(t,e){return t[e]|t[e+1]<<16}function e5(t,e,n){for(var r,i=e;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}var xG=jI({String:et.string,Number:et.number,"True False":et.bool,PropertyName:et.propertyName,Null:et.null,",":et.separator,"[ ]":et.squareBracket,"{ }":et.brace}),jG=wG.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[xG],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),_G=eJ.define({parser:jG.configure({props:[$I.add({Object:GC({except:/^\s*\}/}),Array:GC({except:/^\s*\]/})}),OI.add({"Object Array":function(t){var e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Rm(t,e){var n=Date.now(),r=t();return e(Date.now()-n),r}function SG(t){zt(t,"svelte-1oo7hnc",".jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);margin:0;border-top:var(--jse-panel-border);border-left:var(--jse-main-border);border-right:var(--jse-main-border);display:flex;gap:var(--jse-padding)}.jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc:last-child{border-bottom:var(--jse-main-border)}.jse-status-bar.svelte-1oo7hnc .jse-status-bar-info.svelte-1oo7hnc{padding:2px}")}function t5(t){var e,n,r;return{c:function(){e=oe("div"),n=rt("Line: "),r=rt(t[0]),P(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,o){ye(i,e,o),G(e,n),G(e,r)},p:function(i,o){1&o&&on(r,i[0])},d:function(i){i&&me(e)}}}function n5(t){var e,n,r;return{c:function(){e=oe("div"),n=rt("Column: "),r=rt(t[1]),P(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,o){ye(i,e,o),G(e,n),G(e,r)},p:function(i,o){2&o&&on(r,i[1])},d:function(i){i&&me(e)}}}function r5(t){var e,n,r,i;return{c:function(){e=oe("div"),n=rt("Selection: "),r=rt(t[2]),i=rt(" characters"),P(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,s){ye(o,e,s),G(e,n),G(e,r),G(e,i)},p:function(o,s){4&s&&on(r,o[2])},d:function(o){o&&me(e)}}}function CG(t){var e,n,r,i=t[0]!==void 0&&t5(t),o=t[1]!==void 0&&n5(t),s=t[2]!==void 0&&t[2]>0&&r5(t);return{c:function(){e=oe("div"),i&&i.c(),n=Ee(),o&&o.c(),r=Ee(),s&&s.c(),P(e,"class","jse-status-bar svelte-1oo7hnc")},m:function(a,u){ye(a,e,u),i&&i.m(e,null),G(e,n),o&&o.m(e,null),G(e,r),s&&s.m(e,null)},p:function(a,u){var l=Et(u,1)[0];a[0]!==void 0?i?i.p(a,l):((i=t5(a)).c(),i.m(e,n)):i&&(i.d(1),i=null),a[1]!==void 0?o?o.p(a,l):((o=n5(a)).c(),o.m(e,r)):o&&(o.d(1),o=null),a[2]!==void 0&&a[2]>0?s?s.p(a,l):((s=r5(a)).c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Qe,o:Qe,d:function(a){a&&me(e),i&&i.d(),o&&o.d(),s&&s.d()}}}function $G(t,e,n){var r,i,o,s,a,u,l,f,c,d,h=e.editorState;return t.$$set=function(p){"editorState"in p&&n(3,h=p.editorState)},t.$$.update=function(){56&t.$$.dirty&&n(9,u=n(5,i=n(4,r=h==null?void 0:h.selection)===null||r===void 0?void 0:r.main)===null||i===void 0?void 0:i.head),584&t.$$.dirty&&n(10,l=n(6,o=h==null?void 0:h.doc)===null||o===void 0?void 0:o.lineAt(u)),1024&t.$$.dirty&&n(0,f=l?l.number:void 0),1536&t.$$.dirty&&n(1,c=l?u-l.from+1:void 0),392&t.$$.dirty&&n(2,d=n(8,a=n(7,s=h==null?void 0:h.selection)===null||s===void 0?void 0:s.ranges)===null||a===void 0?void 0:a.reduce(function(p,v){return p+v.to-v.from},0))},[f,c,d,h,r,i,o,s,a,u,l]}var AG=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,$G,CG,Ar,{editorState:3},SG),i}return ne(n)}(),Sb=ob.define([{tag:et.propertyName,color:"var(--jse-key-color)"},{tag:et.number,color:"var(--jse-value-color-number)"},{tag:et.bool,color:"var(--jse-value-color-boolean)"},{tag:et.string,color:"var(--jse-value-color-string)"},{tag:et.keyword,color:"var(--jse-value-color-null)"}]),OG=II(Sb),EG=Sb.style;function TG(t){zt(t,"svelte-1ol5grl",'.jse-code-mode.svelte-1ol5grl.svelte-1ol5grl{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color)}.jse-code-mode.no-main-menu.svelte-1ol5grl.svelte-1ol5grl{border-top:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl:last-child{border-bottom:var(--jse-main-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.jse-hidden.svelte-1ol5grl{visibility:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor{flex:1;overflow:hidden}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);color:var(--jse-delimiter-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-gutters{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);border-right:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLine,.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-activeLineGutter{background:var(--jse-hover-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background);color:var(--jse-tag-color);border:none;padding:0 var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-diagnostic{font-size:var(--jse-font-size);font-family:var(--jse-font-family)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-panels{border-bottom:var(--jse-panel-border)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search{background:var(--jse-panel-background);color:var(--jse-panel-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search input{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-input-color);border:var(--jse-input-border);background:var(--jse-input-background);margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);color:var(--jse-panel-button-color);background:var(--jse-panel-button-background);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);margin:0}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label{font-family:var(--jse-font-family);font-size:var(--jse-font-size-code-mode-search);padding-left:var(--jse-padding)}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search label input{margin-right:2px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-code-mode.svelte-1ol5grl .jse-contents.svelte-1ol5grl .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color)}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading-space.svelte-1ol5grl{flex:1}.jse-code-mode.svelte-1ol5grl .jse-contents .jse-loading.svelte-1ol5grl{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}')}function i5(t){var e,n;return e=new qH({props:{readOnly:t[1],onFormat:t[17],onCompact:t[18],onSort:t[19],onTransform:t[20],onToggleSearch:t[21],onUndo:t[22],onRedo:t[23],canFormat:!t[15],canCompact:!t[15],canSort:!t[15],canTransform:!t[15],canUndo:t[10],canRedo:t[11],onRenderMenu:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};2&i[0]&&(o.readOnly=r[1]),32768&i[0]&&(o.canFormat=!r[15]),32768&i[0]&&(o.canCompact=!r[15]),32768&i[0]&&(o.canSort=!r[15]),32768&i[0]&&(o.canTransform=!r[15]),1024&i[0]&&(o.canUndo=r[10]),2048&i[0]&&(o.canRedo=r[11]),32&i[0]&&(o.onRenderMenu=r[5]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function PG(t){var e;return{c:function(){(e=oe("div")).innerHTML=`<div class="jse-loading-space svelte-1ol5grl"></div> 
      <div class="jse-loading svelte-1ol5grl">loading...</div>`,P(e,"class","jse-contents svelte-1ol5grl")},m:function(n,r){ye(n,e,r)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e)}}}function MG(t){var e,n,r,i,o,s,a,u=t[14]&&o5(t),l=t[3]&&s5(t),f=t[12]&&a5(t);return s=new nM({props:{validationErrors:t[9],selectError:t[26]}}),{c:function(){u&&u.c(),e=Ee(),n=oe("div"),r=Ee(),l&&l.c(),i=Ee(),f&&f.c(),o=Ee(),Le(s.$$.fragment),P(n,"class","jse-contents svelte-1ol5grl"),Ze(n,"jse-hidden",t[14])},m:function(c,d){u&&u.m(c,d),ye(c,e,d),ye(c,n,d),t[46](n),ye(c,r,d),l&&l.m(c,d),ye(c,i,d),f&&f.m(c,d),ye(c,o,d),Pe(s,c,d),a=!0},p:function(c,d){c[14]?u?(u.p(c,d),16384&d[0]&&Q(u,1)):((u=o5(c)).c(),Q(u,1),u.m(e.parentNode,e)):u&&(Ke(),re(u,1,1,function(){u=null}),Ge()),16384&d[0]&&Ze(n,"jse-hidden",c[14]),c[3]?l?(l.p(c,d),8&d[0]&&Q(l,1)):((l=s5(c)).c(),Q(l,1),l.m(i.parentNode,i)):l&&(Ke(),re(l,1,1,function(){l=null}),Ge()),c[12]?f?(f.p(c,d),4096&d[0]&&Q(f,1)):((f=a5(c)).c(),Q(f,1),f.m(o.parentNode,o)):f&&(Ke(),re(f,1,1,function(){f=null}),Ge());var h={};512&d[0]&&(h.validationErrors=c[9]),s.$set(h)},i:function(c){a||(Q(u),Q(l),Q(f),Q(s.$$.fragment,c),a=!0)},o:function(c){re(u),re(l),re(f),re(s.$$.fragment,c),a=!1},d:function(c){u&&u.d(c),c&&me(e),c&&me(n),t[46](null),c&&me(r),l&&l.d(c),c&&me(i),f&&f.d(c),c&&me(o),Me(s,c)}}}function o5(t){var e,n;return e=new Au({props:{icon:ql,type:"error",message:"The JSON document is larger than ".concat(vd(10485760,1024),", ")+"and may crash your browser when loading it in code mode. Actual size: ".concat(vd(t[0].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:t[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:t[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:t[25]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1&i[0]&&(o.message="The JSON document is larger than ".concat(vd(10485760,1024),", ")+"and may crash your browser when loading it in code mode. Actual size: ".concat(vd(r[0].length,1024),".")),16&i[0]&&(o.actions=[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:r[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:r[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:r[25]}]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function s5(t){var e,n;return e=new AG({props:{editorState:t[8]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};256&i[0]&&(o.editorState=r[8]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function a5(t){var e,n;return e=new Au({props:{type:"error",icon:ql,message:t[12].message,actions:t[13],onClick:t[47]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};4096&i[0]&&(o.message=r[12].message),8192&i[0]&&(o.actions=r[13]),4096&i[0]&&(o.onClick=r[47]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function IG(t){var e,n,r,i,o,s=t[2]&&i5(t),a=[MG,PG],u=[];return r=function(l,f){return l[16]?1:0}(t),i=u[r]=a[r](t),{c:function(){e=oe("div"),s&&s.c(),n=Ee(),i.c(),P(e,"class","jse-code-mode svelte-1ol5grl"),Ze(e,"no-main-menu",!t[2])},m:function(l,f){ye(l,e,f),s&&s.m(e,null),G(e,n),u[r].m(e,null),t[48](e),o=!0},p:function(l,f){l[2]?s?(s.p(l,f),4&f[0]&&Q(s,1)):((s=i5(l)).c(),Q(s,1),s.m(e,n)):s&&(Ke(),re(s,1,1,function(){s=null}),Ge()),i.p(l,f),4&f[0]&&Ze(e,"no-main-menu",!l[2])},i:function(l){o||(Q(s),Q(i),o=!0)},o:function(l){re(s),re(i),o=!1},d:function(l){l&&me(e),s&&s.d(),u[r].d(),t[48](null)}}}function NG(t,e,n){var r,i,o,s,a,u,l,f,c,d,h=e.readOnly,p=h!==void 0&&h,v=e.mainMenuBar,m=v===void 0||v,g=e.statusBar,y=g===void 0||g,b=e.text,k=b===void 0?"":b,w=e.indentation,C=w===void 0?2:w,_=e.tabSize,T=_===void 0?4:_,j=e.escapeUnicodeCharacters,O=j!==void 0&&j,S=e.validator,N=S===void 0?null:S,A=e.onChange,$=A===void 0?null:A,q=e.onSwitchToTreeMode,Y=q===void 0?fn:q,z=e.onError,J=e.onFocus,L=J===void 0?fn:J,D=e.onBlur,U=D===void 0?fn:D,W=e.onRenderMenu,F=W===void 0?fn:W,E=e.onSortModal,x=e.onTransformModal,M=Ji("jsoneditor:CodeMode"),K={key:"Mod-i",run:he,shift:fe,preventDefault:!0},se=typeof window>"u";M("isSSR:",se);var we=!1,je=[],R=new Cc,H=new Cc,I=new Cc,B=O;fo(Nn(jt().mark(function $e(){return jt().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(!se){tt.next=2;break}return tt.abrupt("return");case 2:try{l=He({target:u,initialText:o?"":k,readOnly:p,indentation:C}),_e()}catch(mt){console.error(mt)}case 3:case"end":return tt.stop()}},$e)}))),ga(function(){l&&(M("Destroy CodeMirror editor"),l.destroy())});var Z=!1,le=!1,X=Po(),V=Po();function _e(){l&&(M("focus"),l.focus())}var Se=!1;function xe($e){M("patch",$e);var tt=k,mt=JSON.parse(k),at=Ae.exports.immutableJSONPatch(mt,$e),gt=Ae.exports.revertJSONPatch(mt,$e);return n(0,k=JSON.stringify(at,null,C)),k!==tt&&Je(k,tt),{json:at,previousJson:mt,undo:gt,redo:$e}}function he(){if(M("format"),!p)try{var $e=k,tt=JSON.parse(k);n(0,k=JSON.stringify(tt,null,C)),k!==$e&&Je(k,$e)}catch(mt){z(mt)}}function fe(){if(M("compact"),!p)try{var $e=k,tt=JSON.parse(k);n(0,k=JSON.stringify(tt)),k!==$e&&Je(k,$e)}catch(mt){z(mt)}}function ke(){if(M("repair"),!p)try{var $e=k;n(0,k=la(k)),n(44,ct="valid"),n(12,kt=void 0),k!==$e&&Je(k,$e)}catch(tt){z(tt)}}function Oe($e){var tt=$e.id,mt=$e.selectedPath,at=$e.onTransform,gt=$e.onClose;try{var Pt=JSON.parse(k);Se=!0,x({id:tt||V,json:Pt,selectedPath:mt,onTransform:at?function(wt){at({operations:wt,json:Pt,transformedJson:Ae.exports.immutableJSONPatch(Pt,wt)})}:function(wt){M("onTransform",wt),xe(wt)},onClose:function(){Se=!1,_e(),gt&&gt()}})}catch(wt){z(wt)}}function De($e){M("select parse error",$e);var tt=Rt($e);Ve(tt.from,tt.to),_e()}function Ve($e,tt){M("setSelection",{anchor:$e,head:tt}),l&&l.dispatch(l.state.update({selection:{anchor:$e,head:tt},scrollIntoView:!0}))}function pe($e,tt){if(tt.state.selection.ranges.length===1){var mt=tt.state.selection.ranges[0],at=k.slice(mt.from,mt.to);if(at==="{"||at==="["){var gt=Sh.parse(k),Pt=Object.keys(gt.pointers).find(function(Mt){var Ft;return((Ft=gt.pointers[Mt].value)===null||Ft===void 0?void 0:Ft.pos)===mt.from}),wt=gt.pointers[Pt];Pt&&wt&&wt.value&&wt.valueEnd&&(M("pointer found, selecting inner contents of path:",Pt,wt),Ve(wt.value.pos+1,wt.valueEnd.pos-1))}}}function He($e){var tt=$e.target,mt=$e.initialText,at=$e.readOnly,gt=$e.indentation;M("Create CodeMirror editor",{readOnly:at,indentation:gt});var Pt=er.create({doc:mt,extensions:[xv.of([iK,K]),QK(function(){return Te.flush(),function(){if(M("validate"),n(44,ct="valid"),n(12,kt=null),n(9,je=[]),k.length>104857600)return[{from:0,to:0,message:"Validation turned off: the document is too large",severity:"info"}];if(k.length===0)return[];try{var wt=Rm(function(){return JSON.parse(k)},function(Ft){return M("validate: parsed json in ".concat(Ft," ms"))});return N?(n(9,je=Rm(function(){return N(wt)},function(Ft){return M("validate: validated json in ".concat(Ft," ms"))})),je.map(st)):[]}catch(Ft){var Mt=Rm(function(){return function(qt){if(qt.length>1048576)return!1;try{return JSON.parse(la(qt)),!0}catch{return!1}}(k)},function(qt){return M("validate: checked whether repairable in ".concat(qt," ms"))});return n(12,kt=l6(k,Ft.message||Ft.toString())),n(44,ct=Mt?"repairable":"invalid"),[Rt(kt,Mt)]}}()},{delay:300}),rG(),iG,OG,Ot.domEventHandlers({dblclick:pe}),Ot.updateListener.of(function(wt){n(8,d=wt.state),wt.docChanged&&Te()}),new iJ(_G),dK({top:!0}),R.of(er.readOnly.of(at)),I.of(er.tabSize.of(T)),H.of(ge(gt)),Ot.lineWrapping]});return l=new Ot({state:Pt,parent:tt})}function st($e){var tt=$e.path,mt=$e.message,at=$e.isChildError,gt=function(Pt,wt){try{var Mt=Sh.parse(Pt),Ft=Ae.exports.compileJSONPointer(wt),qt=Mt.pointers[Ft];if(qt)return{path:wt,line:qt.key?qt.key.line:qt.value?qt.value.line:0,column:qt.key?qt.key.column:qt.value?qt.value.column:0,from:qt.key?qt.key.pos:qt.value?qt.value.pos:0,to:qt.keyEnd?qt.keyEnd.pos:qt.valueEnd?qt.valueEnd.pos:0}}catch(We){console.error(We)}return null}(k,tt);return{path:tt,isChildError:at,line:gt.line,column:gt.column,from:gt.from,to:gt.to,message:mt,severity:"warning",actions:[]}}function Rt($e,tt){var mt=$e.line,at=$e.column,gt=$e.position;return{path:null,line:mt,column:at,from:gt||0,to:gt||0,severity:"error",message:$e.message,actions:tt&&!p?[{name:"Auto repair",apply:function(){return ke()}}]:null}}function hn($e){var tt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];!o||tt?l&&$e!==f&&(M("setCodeMirrorValue length=",$e.length),f=$e,l.dispatch({changes:{from:0,to:l.state.doc.length,insert:s.escapeValue($e)}}),be()):M("not applying text: editor is disabled")}function ie(){M("forceUpdateText",{escapeUnicodeCharacters:O}),l&&l.dispatch({changes:{from:0,to:l.state.doc.length,insert:s.escapeValue(k)}})}function de(){if(l&&(f=l?s.unescapeValue(l.state.doc.toString()):"")!==k){var $e=f;M("text changed"),n(0,k=f),be(),Je(k,$e)}}function ge($e){return _v.of(typeof $e=="number"?" ".repeat($e):$e)}function be(){n(10,Z=GJ(l.state)>0),n(11,le=QJ(l.state)>0),M({canUndo:Z,canRedo:le})}J1({onMount:fo,onDestroy:ga,getWindow:function(){return fl(c)},hasFocus:function(){return Se&&document.hasFocus()||Rh(c)},onFocus:L,onBlur:U});var Te=Rl(de,300);function Je($e,tt){$&&$($e,tt)}var ct="valid",kt=null;return t.$$set=function($e){"readOnly"in $e&&n(1,p=$e.readOnly),"mainMenuBar"in $e&&n(2,m=$e.mainMenuBar),"statusBar"in $e&&n(3,y=$e.statusBar),"text"in $e&&n(0,k=$e.text),"indentation"in $e&&n(28,C=$e.indentation),"tabSize"in $e&&n(29,T=$e.tabSize),"escapeUnicodeCharacters"in $e&&n(30,O=$e.escapeUnicodeCharacters),"validator"in $e&&n(31,N=$e.validator),"onChange"in $e&&n(32,$=$e.onChange),"onSwitchToTreeMode"in $e&&n(4,Y=$e.onSwitchToTreeMode),"onError"in $e&&n(33,z=$e.onError),"onFocus"in $e&&n(34,L=$e.onFocus),"onBlur"in $e&&n(35,U=$e.onBlur),"onRenderMenu"in $e&&n(5,F=$e.onRenderMenu),"onSortModal"in $e&&n(36,E=$e.onSortModal),"onTransformModal"in $e&&n(37,x=$e.onTransformModal)},t.$$.update=function(){1&t.$$.dirty[0]&&n(15,r=k.length===0),1&t.$$.dirty[0]&&n(45,i=k&&k.length>10485760),18432&t.$$.dirty[1]&&n(14,o=i&&!we),1073741824&t.$$.dirty[0]&&(s=HP({escapeControlCharacters:!1,escapeUnicodeCharacters:O})),1&t.$$.dirty[0]&&hn(k),268435456&t.$$.dirty[0]&&function($e){l&&(M("updateIndentation",$e),l.dispatch({effects:H.reconfigure(ge($e))}))}(C),536870912&t.$$.dirty[0]&&function($e){l&&(M("updateTabSize",$e),l.dispatch({effects:I.reconfigure(er.tabSize.of($e))}))}(T),2&t.$$.dirty[0]&&function($e){l&&(M("updateReadOnly",$e),l.dispatch({effects:R.reconfigure(er.readOnly.of($e))}))}(p),1073741824&t.$$.dirty[0]|4096&t.$$.dirty[1]&&B!==O&&(n(43,B=O),ie()),2&t.$$.dirty[0]|1&t.$$.dirty[1]&&ie(),2&t.$$.dirty[0]|8192&t.$$.dirty[1]&&n(13,a=ct!=="repairable"||p?[]:[{icon:U1,text:"Auto repair",title:"Automatically repair JSON",onClick:ke}])},[k,p,m,y,Y,F,u,c,d,je,Z,le,kt,a,o,r,se,he,fe,function(){var $e;if(!p)try{var tt=JSON.parse(k);Se=!0,E({id:X,json:tt,selectedPath:[],onSort:($e=Nn(jt().mark(function mt(at){return jt().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:M("onSort",at),xe(at);case 2:case"end":return gt.stop()}},mt)})),function(mt){return $e.apply(this,arguments)}),onClose:function(){Se=!1,_e()}})}catch(mt){z(mt)}},function(){p||Oe({selectedPath:[]})},function(){l&&(u&&u.querySelector(".cm-search")?yb(l):gb(l))},function(){p||l&&(fb(l),_e())},function(){p||l&&(db(l),_e())},function(){n(42,we=!0),hn(k,!0)},function(){de()},function($e){M("select validation error",$e);var tt=st($e);Ve(tt.from,tt.to),_e()},De,C,T,O,N,$,z,L,U,E,x,_e,xe,Oe,function(){M("refresh");var $e=l.state.doc.length;l.dispatch({changes:{from:$e,to:$e,insert:" "}}),l.dispatch({changes:{from:$e,to:$e+1,insert:""}})},we,B,ct,i,function($e){tn[$e?"unshift":"push"](function(){n(6,u=$e)})},function(){return De(kt)},function($e){tn[$e?"unshift":"push"](function(){n(7,c=$e)})}]}Sb.style=function(t){return EG(t||[])};var LG=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,NG,IG,dn,{readOnly:1,mainMenuBar:2,statusBar:3,text:0,indentation:28,tabSize:29,escapeUnicodeCharacters:30,validator:31,onChange:32,onSwitchToTreeMode:4,onError:33,onFocus:34,onBlur:35,onRenderMenu:5,onSortModal:36,onTransformModal:37,focus:38,patch:39,openTransformModal:40,refresh:41},TG,[-1,-1,-1]),i}return ne(n,[{key:"focus",get:function(){return this.$$.ctx[38]}},{key:"patch",get:function(){return this.$$.ctx[39]}},{key:"openTransformModal",get:function(){return this.$$.ctx[40]}},{key:"refresh",get:function(){return this.$$.ctx[41]}}]),n}(),Bm=Ji("jsoneditor:AutoScrollHandler");function DG(t){var e,n;function r(a){return a<20?200:a<50?400:1200}function i(){if(t){var a=.05*e;t.scrollTop+=a}}function o(a){n&&a===e||(s(),Bm("startAutoScroll",a),e=a,n=setInterval(i,50))}function s(){n&&(Bm("stopAutoScroll"),clearInterval(n),n=void 0,e=void 0)}return Bm("createAutoScrollHandler",t),{onDrag:function(a){if(t){var u=a.clientY,l=t.getBoundingClientRect(),f=l.top,c=l.bottom;u<f?o(-r(f-u)):u>c?o(r(u-c)):s()}},onDragEnd:function(){s()}}}var RG=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},BG=function(){var t,e,n,r,i,o,s,a,u,l,f,c,d;function h(){return t.scrollY||t.pageYOffset||t.scrollTop}function p(g){return g.getBoundingClientRect().top-(t.getBoundingClientRect?t.getBoundingClientRect().top:0)+n}function v(g){t.scrollTo?t.scrollTo(0,g):t.scrollTop=g}function m(g){l||(l=g),v(o(f=g-l,n,a,u)),d=!0,f<u?requestAnimationFrame(m):function(){v(n+a),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof c=="function"&&c(),l=!1,d=!1}()}return function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(u=y.duration||1e3,i=y.offset||0,c=y.callback,o=y.easing||RG,s=y.a11y||!1,lt(y.container)){case"object":t=y.container;break;case"string":t=document.querySelector(y.container);break;default:t=window}switch(n=h(),lt(g)){case"number":e=void 0,s=!1,r=n+g;break;case"object":r=p(e=g);break;case"string":e=document.querySelector(g),r=p(e)}switch(a=r-n+i,lt(y.duration)){case"number":u=y.duration;break;case"function":u=y.duration(a)}d?l=!1:requestAnimationFrame(m)}};function Ff(t,e){for(var n=new Set(e),r=t.replace(/ \(copy( \d+)?\)$/,""),i=t,o=1;n.has(i);){var s="copy"+(o>1?" "+o:"");i="".concat(r," (").concat(s,")"),o++}return i}function u5(t,e){var n=e-3;return t.length>e?t.substr(0,n)+"...":t}function zG(t){if(t==="")return"";var e=t.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var n=Number(t),r=parseFloat(t);return isNaN(n)||isNaN(r)?t:n}}function Rd(t,e,n,r){var i=Zt(n),o=Ae.exports.getIn(t,i);if(Array.isArray(o)){var s=parseInt(pt(n),10);return r.map(function(f,c){return{op:"add",path:Ae.exports.compileJSONPointer(i.concat(s+c)),value:f.value}})}var a=pt(n),u=Yr(e,i),l=bv(u,a,!0);return[].concat(nn(r.map(function(f){var c=Ff(f.key,u);return{op:"add",path:Ae.exports.compileJSONPointer(i.concat(c)),value:f.value}})),nn(l.map(function(f){return bl(i,f)})))}function l5(t,e,n){var r=Ae.exports.getIn(t,e);if(Array.isArray(r)){var i=r.length;return n.map(function(o,s){return{op:"add",path:Ae.exports.compileJSONPointer(e.concat(i+s)),value:o.value}})}return n.map(function(o){var s=Ff(o.key,Object.keys(r));return{op:"add",path:Ae.exports.compileJSONPointer(e.concat(s)),value:o.value}})}function qf(t,e,n,r){var i=Ff(r,e.filter(function(s){return s!==n})),o=bv(e,n,!1);return[{op:"move",from:Ae.exports.compileJSONPointer(t.concat(n)),path:Ae.exports.compileJSONPointer(t.concat(i))}].concat(nn(o.map(function(s){return bl(t,s)})))}function c5(t,e,n,r){if(n.type===bn){var i=a6(r),o=Zt(n.focusPath);return qf(o,Yr(e,o),pt(n.focusPath),typeof i=="string"?i:r)}if(n.type===bt||n.type===Nt&&Kn(n.focusPath))try{return[{op:"replace",path:Ae.exports.compileJSONPointer(n.focusPath),value:Py(r,Ty)}]}catch{return[{op:"replace",path:Ae.exports.compileJSONPointer(n.focusPath),value:r}]}if(n.type===Nt){var s=zm(r);return function(w,C,_,T){var j=Zt(br(_)),O=Ae.exports.getIn(w,j);if(Array.isArray(O)){var S=br(_),N=S?parseInt(pt(S),10):0;return[].concat(nn(H0(_)),nn(T.map(function(D,U){return{op:"add",path:Ae.exports.compileJSONPointer(j.concat(U+N)),value:D.value}})))}var A=pt(_),$=Zt(A),q=pt(A),Y=Yr(C,$),z=bv(Y,q,!1),J=new Set(_.map(function(D){return pt(D)})),L=Y.filter(function(D){return!J.has(D)});return[].concat(nn(H0(_)),nn(T.map(function(D){var U=Ff(D.key,L);return{op:"add",path:Ae.exports.compileJSONPointer($.concat(U)),value:D.value}})),nn(z.map(function(D){return bl($,D)})))}(t,e,n.paths,s)}if(n.type===ei){var a=zm(r),u=n.focusPath,l=Zt(u),f=Ae.exports.getIn(t,l);if(Array.isArray(f)){var c=pt(u);return Rd(t,e,l.concat([c+1]),a)}var d=pt(u),h=Yr(e,l);if(Kn(h)||pt(h)===d)return l5(t,l,a);var p=h.indexOf(d),v=h[p+1];return Rd(t,e,l.concat([v]),a)}if(n.type===$r){var m=zm(r),g=n.focusPath,y=Ae.exports.getIn(t,g);if(Array.isArray(y))return Rd(t,e,g.concat([0]),m);var b=Yr(e,g);if(Kn(b))return l5(t,g,m);var k=br(b);return Rd(t,e,g.concat([k]),m)}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(n))}function H0(t){return t.map(function(e){return{op:"remove",path:Ae.exports.compileJSONPointer(e)}}).reverse()}function bl(t,e){return{op:"move",from:Ae.exports.compileJSONPointer(t.concat(e)),path:Ae.exports.compileJSONPointer(t.concat(e))}}function zm(t){var e=/^\s*{/.test(t),n=/^\s*\[/.test(t),r=a6(t),i=r!==void 0?r:Py(t,Ty);return e&&Sr(i)||n&&Array.isArray(i)?[{key:"New item",value:i}]:Array.isArray(i)?i.map(function(o,s){return{key:"New item "+s,value:o}}):Sr(i)?Object.keys(i).map(function(o){return{key:o,value:i[o]}}):[{key:"New item",value:i}]}function f5(t,e,n){if(n.type===bn){var r=Zt(n.focusPath),i=qf(r,Yr(e,r),pt(n.focusPath),"");return{operations:i,newSelection:cl(t,0,i)}}if(n.type===bt)return{operations:[{op:"replace",path:Ae.exports.compileJSONPointer(n.focusPath),value:""}],newSelection:n};if(n.type===Nt){var o=H0(n.paths),s=pt(n.paths);if(Kn(s))return{operations:[{op:"replace",path:"",value:""}],newSelection:an(t,e,{type:bt,path:[]})};var a=Zt(s),u=Ae.exports.getIn(t,a);if(Array.isArray(u)){var l=pt(br(n.paths));return{operations:o,newSelection:an(t,e,l===0?{type:$r,path:a}:{type:ei,path:a.concat([l-1])})}}var f=Yr(e,a),c=pt(br(n.paths)),d=f.indexOf(c),h=f[d-1];return{operations:o,newSelection:an(t,e,d===0?{type:$r,path:a}:{type:ei,path:a.concat([h])})}}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(n))}function FG(t,e,n){var r=e,i=function(u,l){var f={};return l.forEach(function(c){var d=c.path;if(!Ae.exports.existsIn(f,d)){var h=Ae.exports.getIn(u,d);f=Ae.exports.setIn(f,d,Array.isArray(h)?[]:{},!0)}f=Ae.exports.setIn(f,p5(c),c,!0)}),f}(t,r),o=n&&n.activeItem?p5(n.activeItem):void 0,s=o&&Ae.exports.existsIn(i,o)?Ae.exports.getIn(i,o):r[0],a=r.findIndex(function(u){return f=s,(l=u).start===f.start&&l.field===f.field&&$n(l.path,f.path);var l,f});return{items:i,itemsWithActive:i&&s&&a!==-1?Ae.exports.setIn(i,Cb(s),!0):i,flatItems:r,count:r.length,activeItem:s,activeIndex:a}}function qG(t){var e=t.activeIndex<t.flatItems.length-1?t.activeIndex+1:t.flatItems.length>0?0:-1,n=t.flatItems[e],r=n?Ae.exports.setIn(t.items,Cb(n),!0,!0):t.items;return dt(dt({},t),{},{itemsWithActive:r,activeItem:n,activeIndex:e})}function VG(t){var e=t.activeIndex>0?t.activeIndex-1:t.flatItems.length-1,n=t.flatItems[e],r=n?Ae.exports.setIn(t.items,Cb(n),!0,!0):t.items;return dt(dt({},t),{},{itemsWithActive:r,activeItem:n,activeIndex:e})}function O9(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,i=[],o=[];function s(l){i.length<r&&i.push(l)}function a(l,f,c){if(Array.isArray(f)){var d=o.length;o.push(0);for(var h=0;h<f.length;h++)if(o[d]=h,a(l,f[h],c?c[h]:void 0),i.length>=r)return;o.pop()}else if(f!==null&&lt(f)==="object"){var p=o.length;o.push(0);var v,m=ce(c?c[ho]:Object.keys(f));try{for(m.s();!(v=m.n()).done;){var g=v.value;if(o[p]=g,d5(g,l,o,sl,s),a(l,f[g],c?c[g]:void 0),i.length>=r)return}}catch(y){m.e(y)}finally{m.f()}o.pop()}else d5(f,l,o,qc,s)}if(typeof t=="string"&&t!==""){var u=t.toLowerCase();a(u,e,n)}return i}function d5(t,e,n,r,i){var o=String(t).toLowerCase(),s=0,a=-1,u=-1;do(u=o.indexOf(e,a))!==-1&&(a=u+e.length,i({path:n.slice(0),field:r,fieldIndex:s,start:u,end:a,active:!1}),s++);while(u!==-1)}function W0(t,e,n,r){return t.substring(0,n)+e+t.substring(r)}function h5(t,e,n){var r=t;return Jc(n,function(i){r=W0(r,e,i.start,i.end)}),r}function HG(t,e,n,r){var i=r.field,o=r.path,s=r.start,a=r.end;if(i===sl){var u=Zt(o),l=pt(o),f=qf(u,Yr(e,u),l,W0(l,n,s,a));return{newSelection:cl(t,0,f),operations:f}}if(i===qc){var c=Ae.exports.getIn(t,o);if(c===void 0)throw new Error("Cannot replace: path not found ".concat(Ae.exports.compileJSONPointer(o)));var d=typeof c=="string"?c:String(c),h=Ae.exports.getIn(e,o.concat([Di]))||!1,p=W0(d,n,s,a),v=[{op:"replace",path:Ae.exports.compileJSONPointer(o),value:h?p:kf(p)}];return{newSelection:cl(t,0,v),operations:v}}throw new Error("Cannot replace: unknown type of search result field ".concat(i))}function WG(t,e,n,r){for(var i=O9(n,t,e,1/0),o=[],s=0;s<i.length;s++){var a=i[s-1],u=i[s];s!==0&&u.field===a.field&&$n(u.path,a.path)?pt(o).items.push(u):o.push({path:u.path,field:u.field,items:[u]})}o.sort(function(c,d){return c.field!==d.field?c.field===sl?1:-1:d.path.length-c.path.length});var l=[],f=void 0;return o.forEach(function(c){var d=c.field,h=c.path,p=c.items;if(d===sl){var v=Zt(h),m=pt(h),g=qf(v,Yr(e,v),m,h5(m,r,p));l=l.concat(g),f=cl(t,0,g)}else{if(d!==qc)throw new Error("Cannot replace: unknown type of search result field ".concat(d));var y=Ae.exports.getIn(t,h);if(y===void 0)throw new Error("Cannot replace: path not found ".concat(Ae.exports.compileJSONPointer(h)));var b=typeof y=="string"?y:String(y),k=Ae.exports.getIn(e,h.concat([Di]))||!1,w=h5(b,r,p),C=[{op:"replace",path:Ae.exports.compileJSONPointer(h),value:k?w:kf(w)}];l=l.concat(C),f=cl(t,0,C)}}),{operations:l,newSelection:f}}function Cb(t){return t.path.concat(t.field,t.fieldIndex,"active")}function p5(t){return t.path.concat(t.field,t.fieldIndex)}function UG(t){zt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function JG(t){var e,n,r,i,o,s,a,u,l;return s=new Gt({props:{data:Pf}}),{c:function(){e=oe("div"),n=oe("div"),r=rt(t[0]),i=Ee(),o=oe("button"),Le(s.$$.fragment),P(n,"class","jse-title svelte-d01h2s"),P(o,"type","button"),P(o,"class","jse-close svelte-d01h2s"),P(e,"class","jse-header svelte-d01h2s")},m:function(f,c){ye(f,e,c),G(e,n),G(n,r),G(e,i),G(e,o),Pe(s,o,null),a=!0,u||(l=Fe(o,"click",t[1]),u=!0)},p:function(f,c){var d=Et(c,1)[0];(!a||1&d)&&on(r,f[0])},i:function(f){a||(Q(s.$$.fragment,f),a=!0)},o:function(f){re(s.$$.fragment,f),a=!1},d:function(f){f&&me(e),Me(s),u=!1,l()}}}function KG(t,e,n){var r=e.title,i=r===void 0?"Modal":r,o=Si("simple-modal").close;return t.$$set=function(s){"title"in s&&n(0,i=s.title)},[i,o]}var E9=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,KG,JG,dn,{title:0},UG),i}return ne(n)}();function GG(t){zt(t,"svelte-t45ah0",".jse-modal.svelte-t45ah0.svelte-t45ah0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-t45ah0 .jse-contents.svelte-t45ah0{padding:20px;overflow:auto}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions.svelte-t45ah0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts.svelte-t45ah0{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding)) 0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts .jse-shortcut .jse-key.svelte-t45ah0{font-size:200%;color:var(--jse-theme-color)}")}function QG(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T;return n=new E9({props:{title:"Copying and pasting"}}),{c:function(){e=oe("div"),Le(n.$$.fragment),r=Ee(),i=oe("div"),(o=oe("div")).textContent="These actions are unavailable via the menu. Please use:",s=Ee(),a=oe("div"),u=oe("div"),(l=oe("div")).textContent="".concat(t[1],"+C"),f=rt(`
        for copy`),c=Ee(),d=oe("div"),(h=oe("div")).textContent="".concat(t[1],"+X"),p=rt(`
        for cut`),v=Ee(),m=oe("div"),(g=oe("div")).textContent="".concat(t[1],"+V"),y=rt(`
        for paste`),b=Ee(),k=oe("div"),(w=oe("button")).textContent="Close",P(l,"class","jse-key svelte-t45ah0"),P(u,"class","jse-shortcut"),P(h,"class","jse-key svelte-t45ah0"),P(d,"class","jse-shortcut"),P(g,"class","jse-key svelte-t45ah0"),P(m,"class","jse-shortcut"),P(a,"class","jse-shortcuts svelte-t45ah0"),P(w,"type","button"),P(w,"class","jse-primary svelte-t45ah0"),P(k,"class","jse-actions svelte-t45ah0"),P(i,"class","jse-contents svelte-t45ah0"),P(e,"class","jse-modal jse-copy-paste svelte-t45ah0")},m:function(j,O){ye(j,e,O),Pe(n,e,null),G(e,r),G(e,i),G(i,o),G(i,s),G(i,a),G(a,u),G(u,l),G(u,f),G(a,c),G(a,d),G(d,h),G(d,p),G(a,v),G(a,m),G(m,g),G(m,y),G(i,b),G(i,k),G(k,w),C=!0,_||(T=Fe(w,"click",t[0]),_=!0)},p:Qe,i:function(j){C||(Q(n.$$.fragment,j),C=!0)},o:function(j){re(n.$$.fragment,j),C=!1},d:function(j){j&&me(e),Me(n),_=!1,T()}}}function YG(t){return[Si("simple-modal").close,YP?"\u2318":"Ctrl"]}var XG=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,YG,QG,dn,{},GG),i}return ne(n)}();function ZG(t){zt(t,"svelte-gz09vf",".jse-json-repair-component.svelte-gz09vf.svelte-gz09vf{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color);color:var(--jse-text-color)}.jse-json-repair-component.svelte-gz09vf .jse-menu .jse-info.svelte-gz09vf{padding:0 var(--jse-padding)}.jse-json-repair-component.svelte-gz09vf .jse-json-text.svelte-gz09vf{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-background-color);color:var(--jse-text-color);resize:none;outline:none}")}function eQ(t){var e;return{c:function(){(e=oe("div")).textContent="Repair invalid JSON, then click apply",P(e,"slot","left"),P(e,"class","jse-info svelte-gz09vf")},m:function(n,r){ye(n,e,r)},p:Qe,d:function(n){n&&me(e)}}}function tQ(t){var e,n;return e=new Au({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};32&i&&(o.actions=r[5]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function nQ(t){var e,n;return e=new Au({props:{type:"error",icon:ql,message:"Cannot parse JSON: ".concat(t[2].message),actions:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};4&i&&(o.message="Cannot parse JSON: ".concat(r[2].message)),64&i&&(o.actions=r[6]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function rQ(t){var e,n,r,i,o,s,a,u,l,f;n=new K1({props:{items:t[7],$$slots:{left:[eQ]},$$scope:{ctx:t}}});var c=[nQ,tQ],d=[];function h(p,v){return p[2]?0:1}return i=h(t),o=d[i]=c[i](t),{c:function(){e=oe("div"),Le(n.$$.fragment),r=Ee(),o.c(),s=Ee(),(a=oe("textarea")).value=t[0],a.readOnly=t[1],P(a,"class","jse-json-text svelte-gz09vf"),P(a,"autocomplete","off"),P(a,"autocapitalize","off"),P(a,"spellcheck","false"),P(e,"class","jse-json-repair-component svelte-gz09vf")},m:function(p,v){ye(p,e,v),Pe(n,e,null),G(e,r),d[i].m(e,null),G(e,s),G(e,a),t[21](a),t[22](e),u=!0,l||(f=Fe(a,"input",t[8]),l=!0)},p:function(p,v){var m=Et(v,1)[0],g={};128&m&&(g.items=p[7]),536870912&m&&(g.$$scope={dirty:m,ctx:p}),n.$set(g);var y=i;(i=h(p))===y?d[i].p(p,m):(Ke(),re(d[y],1,1,function(){d[y]=null}),Ge(),(o=d[i])?o.p(p,m):(o=d[i]=c[i](p)).c(),Q(o,1),o.m(e,s)),(!u||1&m)&&(a.value=p[0]),(!u||2&m)&&(a.readOnly=p[1])},i:function(p){u||(Q(n.$$.fragment,p),Q(o),u=!0)},o:function(p){re(n.$$.fragment,p),re(o),u=!1},d:function(p){p&&me(e),Me(n),d[i].d(),t[21](null),t[22](null),l=!1,f()}}}function iQ(t,e,n){var r,i,o,s,a,u,l,f,c,d,h=e.text,p=h===void 0?"":h,v=e.readOnly,m=v!==void 0&&v,g=e.onParse,y=e.onRepair,b=e.onChange,k=b===void 0?null:b,w=e.onApply,C=e.onCancel,_=e.onFocus,T=e.onBlur,j=e.onRenderMenu,O=j===void 0?fn:j,S=Ji("jsoneditor:JSONRepair");function N(){w(p)}return J1({onMount:fo,onDestroy:ga,getWindow:function(){return fl(c)},hasFocus:function(){return Rh(c)},onFocus:function(){_&&_()},onBlur:function(){T&&T()}}),t.$$set=function(A){"text"in A&&n(0,p=A.text),"readOnly"in A&&n(1,m=A.readOnly),"onParse"in A&&n(9,g=A.onParse),"onRepair"in A&&n(10,y=A.onRepair),"onChange"in A&&n(11,k=A.onChange),"onApply"in A&&n(12,w=A.onApply),"onCancel"in A&&n(13,C=A.onCancel),"onFocus"in A&&n(14,_=A.onFocus),"onBlur"in A&&n(15,T=A.onBlur),"onRenderMenu"in A&&n(16,O=A.onRenderMenu)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=function(A){try{return g(A),null}catch($){return l6(A,$.message)}}(p)),1&t.$$.dirty&&n(19,i=function(A){try{return y(A),!0}catch{return!1}}(p)),4&t.$$.dirty&&S("error",r),8192&t.$$.dirty&&n(20,o=[{space:!0},{icon:Pf,title:"Cancel repair",className:"jse-cancel",onClick:C}]),1114112&t.$$.dirty&&n(7,s=O("repair",o)||o),917504&t.$$.dirty&&n(6,l=i?[a,u]:[a]),2&t.$$.dirty&&n(5,f=[{icon:Wg,text:"Apply",title:"Apply fixed JSON",disabled:m,onClick:N}])},n(17,a={icon:HV,text:"Show me",title:"Scroll to the error location",onClick:function(){d&&r&&r.position!=null&&(d.setSelectionRange(r.position,r.position),setTimeout(function(){d.focus()}))}}),n(18,u={icon:U1,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,p=y(p)),k&&k(p)}catch{}}}),[p,m,r,c,d,f,l,s,function(A){S("handleChange");var $=A.target.value;p!==$&&(n(0,p=$),k&&k(p))},g,y,k,w,C,_,T,O,a,u,i,o,function(A){tn[A?"unshift":"push"](function(){n(4,d=A)})},function(A){tn[A?"unshift":"push"](function(){n(3,c=A)})}]}var oQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,iQ,rQ,dn,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onFocus:14,onBlur:15,onRenderMenu:16},ZG),i}return ne(n)}();function sQ(t){zt(t,"svelte-1ffm3pm",".jse-modal.jse-repair.svelte-1ffm3pm{flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-background-color);color:var(--jse-text-color)}")}function aQ(t){var e,n,r,i;function o(a){t[9](a)}var s={onParse:t[1],onRepair:t[2],onApply:t[6],onCancel:t[7],onFocus:t[3],onBlur:t[4],onRenderMenu:t[5]};return t[0]!==void 0&&(s.text=t[0]),n=new oQ({props:s}),tn.push(function(){return Ni(n,"text",o)}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-modal jse-repair svelte-1ffm3pm")},m:function(a,u){ye(a,e,u),Pe(n,e,null),i=!0},p:function(a,u){var l=Et(u,1)[0],f={};2&l&&(f.onParse=a[1]),4&l&&(f.onRepair=a[2]),8&l&&(f.onFocus=a[3]),16&l&&(f.onBlur=a[4]),32&l&&(f.onRenderMenu=a[5]),!r&&1&l&&(r=!0,f.text=a[0],io(function(){return r=!1})),n.$set(f)},i:function(a){i||(Q(n.$$.fragment,a),i=!0)},o:function(a){re(n.$$.fragment,a),i=!1},d:function(a){a&&me(e),Me(n)}}}function uQ(t,e,n){var r=e.text,i=e.onParse,o=e.onRepair,s=e.onApply,a=e.onFocus,u=e.onBlur,l=e.onRenderMenu,f=Si("simple-modal").close;return t.$$set=function(c){"text"in c&&n(0,r=c.text),"onParse"in c&&n(1,i=c.onParse),"onRepair"in c&&n(2,o=c.onRepair),"onApply"in c&&n(8,s=c.onApply),"onFocus"in c&&n(3,a=c.onFocus),"onBlur"in c&&n(4,u=c.onBlur),"onRenderMenu"in c&&n(5,l=c.onRenderMenu)},[r,i,o,a,u,l,function(c){f(),s(c)},function(){f()},s,function(c){n(0,r=c)}]}var lQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,uQ,aQ,dn,{text:0,onParse:1,onRepair:2,onApply:8,onFocus:3,onBlur:4,onRenderMenu:5},sQ),i}return ne(n)}();function cQ(t){zt(t,"svelte-mojfmz",".jse-dropdown-button.svelte-mojfmz.svelte-mojfmz{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-mojfmz ul.svelte-mojfmz{margin:0;padding:0}.jse-dropdown-button.svelte-mojfmz ul li.svelte-mojfmz{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);border-radius:0}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.jse-visible.svelte-mojfmz{background:var(--jse-context-menu-background)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.svelte-mojfmz{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);box-shadow:var(--jse-controls-box-shadow)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.jse-visible.svelte-mojfmz{display:block}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding);margin:0}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}")}function v5(t,e,n){var r=t.slice();return r[10]=e[n],r}var fQ=function(t){return{}},m5=function(t){return{}};function g5(t){var e,n;return e=new Gt({props:{data:t[10].icon}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1&i&&(o.data=r[10].icon),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function y5(t){var e,n,r,i,o,s,a,u,l,f,c=t[10].text+"",d=t[10].icon&&g5(t);function h(){return t[8](t[10])}return{c:function(){e=oe("li"),n=oe("button"),d&&d.c(),r=Ee(),i=rt(c),a=Ee(),P(n,"type","button"),P(n,"title",o=t[10].title),n.disabled=s=t[10].disabled,P(n,"class","svelte-mojfmz"),P(e,"class","svelte-mojfmz")},m:function(p,v){ye(p,e,v),G(e,n),d&&d.m(n,null),G(n,r),G(n,i),G(e,a),u=!0,l||(f=Fe(n,"click",h),l=!0)},p:function(p,v){(t=p)[10].icon?d?(d.p(t,v),1&v&&Q(d,1)):((d=g5(t)).c(),Q(d,1),d.m(n,r)):d&&(Ke(),re(d,1,1,function(){d=null}),Ge()),(!u||1&v)&&c!==(c=t[10].text+"")&&on(i,c),(!u||1&v&&o!==(o=t[10].title))&&P(n,"title",o),(!u||1&v&&s!==(s=t[10].disabled))&&(n.disabled=s)},i:function(p){u||(Q(d),u=!0)},o:function(p){re(d),u=!1},d:function(p){p&&me(e),d&&d.d(),l=!1,f()}}}function dQ(t){var e,n,r,i,o,s,a,u,l,f,c=t[7].defaultItem,d=Io(c,t,t[6],m5);i=new Gt({props:{data:ts}});for(var h=t[0],p=[],v=0;v<h.length;v+=1)p[v]=y5(v5(t,h,v));var m=function(g){return re(p[g],1,1,function(){p[g]=null})};return{c:function(){e=oe("div"),d&&d.c(),n=Ee(),r=oe("button"),Le(i.$$.fragment),o=Ee(),s=oe("div"),a=oe("ul");for(var g=0;g<p.length;g+=1)p[g].c();P(r,"type","button"),P(r,"class","jse-open-dropdown svelte-mojfmz"),P(r,"data-type","jse-open-dropdown"),Ze(r,"jse-visible",t[3]),P(a,"class","svelte-mojfmz"),P(s,"class","jse-dropdown-items svelte-mojfmz"),Yo(s,"width",t[2]),Ze(s,"jse-visible",t[3]),P(e,"class","jse-dropdown-button svelte-mojfmz"),P(e,"title",t[1])},m:function(g,y){ye(g,e,y),d&&d.m(e,null),G(e,n),G(e,r),Pe(i,r,null),G(e,o),G(e,s),G(s,a);for(var b=0;b<p.length;b+=1)p[b].m(a,null);u=!0,l||(f=[Fe(r,"click",t[4]),Fe(e,"click",t[5])],l=!0)},p:function(g,y){var b=Et(y,1)[0];if(d&&d.p&&(!u||64&b)&&Lo(d,c,g,g[6],u?No(c,g[6],b,fQ):Do(g[6]),m5),8&b&&Ze(r,"jse-visible",g[3]),1&b){var k;for(h=g[0],k=0;k<h.length;k+=1){var w=v5(g,h,k);p[k]?(p[k].p(w,b),Q(p[k],1)):(p[k]=y5(w),p[k].c(),Q(p[k],1),p[k].m(a,null))}for(Ke(),k=h.length;k<p.length;k+=1)m(k);Ge()}(!u||4&b)&&Yo(s,"width",g[2]),8&b&&Ze(s,"jse-visible",g[3]),(!u||2&b)&&P(e,"title",g[1])},i:function(g){if(!u){Q(d,g),Q(i.$$.fragment,g);for(var y=0;y<h.length;y+=1)Q(p[y]);u=!0}},o:function(g){re(d,g),re(i.$$.fragment,g),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)re(p[y]);u=!1},d:function(g){g&&me(e),d&&d.d(g),Me(i),Ai(p,g),l=!1,rr(f)}}}function hQ(t,e,n){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,s=e.items,a=s===void 0?[]:s,u=e.title,l=u===void 0?void 0:u,f=e.width,c=f===void 0?"120px":f,d=!1;function h(){n(3,d=!1)}function p(v){Fl(v)==="Escape"&&(v.preventDefault(),n(3,d=!1))}return fo(function(){document.addEventListener("click",h),document.addEventListener("keydown",p)}),ga(function(){document.removeEventListener("click",h),document.removeEventListener("keydown",p)}),t.$$set=function(v){"items"in v&&n(0,a=v.items),"title"in v&&n(1,l=v.title),"width"in v&&n(2,c=v.width),"$$scope"in v&&n(6,o=v.$$scope)},[a,l,c,d,function(){var v=d;setTimeout(function(){return n(3,d=!v)})},h,o,i,function(v){return v.onClick()}]}var Fm=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,hQ,dQ,dn,{items:0,title:1,width:2},cQ),i}return ne(n)}(),pQ={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]},vQ={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},gp={prefix:"far",iconName:"square",icon:[448,512,[9723,9724,61590,9632],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},yp={prefix:"far",iconName:"square-check",icon:[448,512,[9989,61510,9745,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function mQ(t){zt(t,"svelte-1yai37q",".jse-contextmenu.svelte-1yai37q.svelte-1yai37q{box-shadow:var(--jse-controls-box-shadow);font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-context-menu-background);color:var(--jse-context-menu-color)}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q:focus{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row.svelte-1yai37q{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-label.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:var(--jse-context-menu-color-disabled);line-height:normal}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip.svelte-1yai37q{flex:1;background:var(--jse-context-menu-tip-background);color:var(--jse-context-menu-tip-color);margin:calc(0.5 * var(--jse-padding));padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:center;gap:var(--jse-padding);border-radius:3px}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip div.svelte-1yai37q{vertical-align:middle}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:hover{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert.svelte-1yai37q{display:inline-block;position:relative;width:18px;height:18px;font-family:var(--jse-font-family-mono);font-weight:bold;font-size:16px}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-quote.svelte-1yai37q,.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-plus.svelte-1yai37q{position:absolute;top:-4px;left:2px;font-size:24px}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color)}.jse-contextmenu.svelte-1yai37q .jse-column button.svelte-1yai37q{text-align:left;min-width:130px}.jse-contextmenu.svelte-1yai37q .jse-separator.svelte-1yai37q{width:100%;height:1px;background:var(--jse-context-menu-separator-color)}")}function gQ(t){var e,n,r,i,o,s,a;return n=new Gt({props:{data:W1}}),{c:function(){e=oe("button"),Le(n.$$.fragment),r=rt(" Edit value"),P(e,"type","button"),P(e,"slot","defaultItem"),P(e,"title","Edit the value (Double-click on the value)"),e.disabled=i=!t[2],P(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Pe(n,e,null),G(e,r),o=!0,s||(a=Fe(e,"click",t[18]),s=!0)},p:function(u,l){(!o||4&l[0]&&i!==(i=!u[2]))&&(e.disabled=i)},i:function(u){o||(Q(n.$$.fragment,u),o=!0)},o:function(u){re(n.$$.fragment,u),o=!1},d:function(u){u&&me(e),Me(n),s=!1,a()}}}function yQ(t){var e,n,r,i,o,s,a;return n=new Gt({props:{data:Ug}}),{c:function(){e=oe("button"),Le(n.$$.fragment),r=rt(" Cut"),P(e,"type","button"),P(e,"slot","defaultItem"),P(e,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),e.disabled=i=!t[1],P(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Pe(n,e,null),G(e,r),o=!0,s||(a=Fe(e,"click",t[19]),s=!0)},p:function(u,l){(!o||2&l[0]&&i!==(i=!u[1]))&&(e.disabled=i)},i:function(u){o||(Q(n.$$.fragment,u),o=!0)},o:function(u){re(n.$$.fragment,u),o=!1},d:function(u){u&&me(e),Me(n),s=!1,a()}}}function bQ(t){var e,n,r,i,o,s,a;return n=new Gt({props:{data:zh}}),{c:function(){e=oe("button"),Le(n.$$.fragment),r=rt(" Copy"),P(e,"type","button"),P(e,"slot","defaultItem"),P(e,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),e.disabled=i=!t[1],P(e,"class","svelte-1yai37q")},m:function(u,l){ye(u,e,l),Pe(n,e,null),G(e,r),o=!0,s||(a=Fe(e,"click",t[20]),s=!0)},p:function(u,l){(!o||2&l[0]&&i!==(i=!u[1]))&&(e.disabled=i)},i:function(u){o||(Q(n.$$.fragment,u),o=!0)},o:function(u){re(n.$$.fragment,u),o=!1},d:function(u){u&&me(e),Me(n),s=!1,a()}}}function b5(t){var e,n,r,i,o,s,a;return i=new Gt({props:{data:vQ}}),{c:function(){e=oe("div"),n=oe("div"),r=oe("div"),Le(i.$$.fragment),o=Ee(),(s=oe("div")).textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",P(r,"class","svelte-1yai37q"),P(s,"class","svelte-1yai37q"),P(n,"class","jse-tip svelte-1yai37q"),P(e,"class","jse-row svelte-1yai37q")},m:function(u,l){ye(u,e,l),G(e,n),G(n,r),Pe(i,r,null),G(n,o),G(n,s),a=!0},p:Qe,i:function(u){a||(Q(i.$$.fragment,u),a=!0)},o:function(u){re(i.$$.fragment,u),a=!1},d:function(u){u&&me(e),Me(i)}}}function kQ(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T,j,O,S,N,A,$,q,Y,z,J,L,D,U,W,F,E,x,M,K,se,we,je,R,H,I,B,Z,le,X,V,_e,Se,xe,he,fe,ke,Oe,De,Ve,pe,He,st,Rt,hn,ie,de,ge,be,Te,Je,ct,kt,$e,tt,mt,at,gt,Pt,wt,Mt,Ft,qt,We,hr,yn,sn,pn,_r,Dr,Pn,Ki,Oi;i=new Gt({props:{data:W1}}),u=new Fm({props:{width:"11em",items:t[8],$$slots:{defaultItem:[gQ]},$$scope:{ctx:t}}}),h=new Fm({props:{width:"10em",items:t[7],$$slots:{defaultItem:[yQ]},$$scope:{ctx:t}}}),v=new Fm({props:{width:"12em",items:t[6],$$slots:{defaultItem:[bQ]},$$scope:{ctx:t}}}),y=new Gt({props:{data:XV}}),S=new Gt({props:{data:Pf}}),Y=new Gt({props:{data:KV}}),U=new Gt({props:{data:GV}}),M=new Gt({props:{data:q1}}),R=new Gt({props:{data:V1}}),Ft=new Gt({props:{data:eH}}),sn=new Gt({props:{data:ZV}});var Bn=t[0]&&b5();return{c:function(){e=oe("div"),n=oe("div"),r=oe("button"),Le(i.$$.fragment),o=rt(" Edit key"),a=Ee(),Le(u.$$.fragment),l=Ee(),f=oe("div"),c=Ee(),d=oe("div"),Le(h.$$.fragment),p=Ee(),Le(v.$$.fragment),m=Ee(),g=oe("button"),Le(y.$$.fragment),b=rt(" Paste"),w=Ee(),C=oe("div"),_=Ee(),T=oe("div"),j=oe("div"),O=oe("button"),Le(S.$$.fragment),N=rt(" Remove"),$=Ee(),q=oe("button"),Le(Y.$$.fragment),z=rt(" Duplicate"),L=Ee(),D=oe("button"),Le(U.$$.fragment),W=rt(" Extract"),E=Ee(),x=oe("button"),Le(M.$$.fragment),K=rt(" Sort"),we=Ee(),je=oe("button"),Le(R.$$.fragment),H=rt(" Transform"),B=Ee(),Z=oe("div"),le=oe("div"),X=rt(t[13]),V=rt(":"),_e=Ee(),Se=oe("button"),xe=oe("span"),(he=oe("span")).textContent="+",fe=rt(" Structure"),De=Ee(),Ve=oe("button"),(pe=oe("span")).textContent="{}",He=rt(" Object"),hn=Ee(),ie=oe("button"),(de=oe("span")).textContent="[]",ge=rt(" Array"),Je=Ee(),ct=oe("button"),(kt=oe("span")).innerHTML='<span class="jse-quote svelte-1yai37q">&quot;</span>',$e=rt(" Value"),at=Ee(),gt=oe("div"),Pt=Ee(),wt=oe("div"),Mt=oe("button"),Le(Ft.$$.fragment),qt=rt(" Insert before"),hr=Ee(),yn=oe("button"),Le(sn.$$.fragment),pn=rt(" Insert after"),Dr=Ee(),Bn&&Bn.c(),P(r,"type","button"),P(r,"title","Edit the key (Double-click on the key)"),r.disabled=s=!t[14],P(r,"class","svelte-1yai37q"),P(n,"class","jse-row svelte-1yai37q"),P(f,"class","jse-separator svelte-1yai37q"),P(g,"type","button"),P(g,"title","Paste clipboard contents (Ctrl+V)"),g.disabled=k=!t[3],P(g,"class","svelte-1yai37q"),P(d,"class","jse-row svelte-1yai37q"),P(C,"class","jse-separator svelte-1yai37q"),P(O,"type","button"),P(O,"title","Remove selected contents (Delete)"),O.disabled=A=!t[1],P(O,"class","svelte-1yai37q"),P(q,"type","button"),P(q,"title","Duplicate selected contents (Ctrl+D)"),q.disabled=J=!t[16],P(q,"class","svelte-1yai37q"),P(D,"type","button"),P(D,"title","Extract selected contents"),D.disabled=F=!t[15],P(D,"class","svelte-1yai37q"),P(x,"type","button"),P(x,"title","Sort array or object contents"),x.disabled=se=!t[1],P(x,"class","svelte-1yai37q"),P(je,"type","button"),P(je,"title","Transform array or object contents (filter, sort, project)"),je.disabled=I=!t[1],P(je,"class","svelte-1yai37q"),P(j,"class","jse-column svelte-1yai37q"),P(le,"class","jse-label svelte-1yai37q"),P(he,"class","jse-plus svelte-1yai37q"),P(xe,"class","jse-insert svelte-1yai37q"),P(Se,"type","button"),P(Se,"title",ke=t[13]+" structure"),Se.disabled=Oe=!t[12],P(Se,"class","svelte-1yai37q"),P(pe,"class","jse-insert svelte-1yai37q"),P(Ve,"type","button"),P(Ve,"title",st=t[13]+" object"),Ve.disabled=Rt=!t[11],P(Ve,"class","svelte-1yai37q"),P(de,"class","jse-insert svelte-1yai37q"),P(ie,"type","button"),P(ie,"title",be=t[13]+" array"),ie.disabled=Te=!t[10],P(ie,"class","svelte-1yai37q"),P(kt,"class","jse-insert svelte-1yai37q"),P(ct,"type","button"),P(ct,"title",tt=t[13]+" value"),ct.disabled=mt=!t[9],P(ct,"class","svelte-1yai37q"),P(Z,"class","jse-column svelte-1yai37q"),P(T,"class","jse-row svelte-1yai37q"),P(gt,"class","jse-separator svelte-1yai37q"),P(Mt,"type","button"),P(Mt,"title","Select area before current entry to insert or paste contents"),Mt.disabled=We=!t[1]||t[4],P(Mt,"class","svelte-1yai37q"),P(yn,"type","button"),P(yn,"title","Select area after current entry to insert or paste contents"),yn.disabled=_r=!t[1]||t[4],P(yn,"class","svelte-1yai37q"),P(wt,"class","jse-row svelte-1yai37q"),P(e,"class","jse-contextmenu svelte-1yai37q")},m:function(ht,Kt){ye(ht,e,Kt),G(e,n),G(n,r),Pe(i,r,null),G(r,o),G(n,a),Pe(u,n,null),G(e,l),G(e,f),G(e,c),G(e,d),Pe(h,d,null),G(d,p),Pe(v,d,null),G(d,m),G(d,g),Pe(y,g,null),G(g,b),G(e,w),G(e,C),G(e,_),G(e,T),G(T,j),G(j,O),Pe(S,O,null),G(O,N),G(j,$),G(j,q),Pe(Y,q,null),G(q,z),G(j,L),G(j,D),Pe(U,D,null),G(D,W),G(j,E),G(j,x),Pe(M,x,null),G(x,K),G(j,we),G(j,je),Pe(R,je,null),G(je,H),G(T,B),G(T,Z),G(Z,le),G(le,X),G(le,V),G(Z,_e),G(Z,Se),G(Se,xe),G(xe,he),G(Se,fe),G(Z,De),G(Z,Ve),G(Ve,pe),G(Ve,He),G(Z,hn),G(Z,ie),G(ie,de),G(ie,ge),G(Z,Je),G(Z,ct),G(ct,kt),G(ct,$e),G(e,at),G(e,gt),G(e,Pt),G(e,wt),G(wt,Mt),Pe(Ft,Mt,null),G(Mt,qt),G(wt,hr),G(wt,yn),Pe(sn,yn,null),G(yn,pn),G(e,Dr),Bn&&Bn.m(e,null),t[58](e),Pn=!0,Ki||(Oi=[Fe(r,"click",t[17]),Fe(g,"click",t[21]),Fe(O,"click",t[22]),Fe(q,"click",t[23]),Fe(D,"click",t[24]),Fe(x,"click",t[26]),Fe(je,"click",t[27]),Fe(Se,"click",t[54]),Fe(Ve,"click",t[55]),Fe(ie,"click",t[56]),Fe(ct,"click",t[57]),Fe(Mt,"click",t[28]),Fe(yn,"click",t[29]),Fe(e,"keydown",t[30])],Ki=!0)},p:function(ht,Kt){(!Pn||16384&Kt[0]&&s!==(s=!ht[14]))&&(r.disabled=s);var Gi={};256&Kt[0]&&(Gi.items=ht[8]),4&Kt[0]|1&Kt[2]&&(Gi.$$scope={dirty:Kt,ctx:ht}),u.$set(Gi);var Ei={};128&Kt[0]&&(Ei.items=ht[7]),2&Kt[0]|1&Kt[2]&&(Ei.$$scope={dirty:Kt,ctx:ht}),h.$set(Ei);var Ur={};64&Kt[0]&&(Ur.items=ht[6]),2&Kt[0]|1&Kt[2]&&(Ur.$$scope={dirty:Kt,ctx:ht}),v.$set(Ur),(!Pn||8&Kt[0]&&k!==(k=!ht[3]))&&(g.disabled=k),(!Pn||2&Kt[0]&&A!==(A=!ht[1]))&&(O.disabled=A),(!Pn||65536&Kt[0]&&J!==(J=!ht[16]))&&(q.disabled=J),(!Pn||32768&Kt[0]&&F!==(F=!ht[15]))&&(D.disabled=F),(!Pn||2&Kt[0]&&se!==(se=!ht[1]))&&(x.disabled=se),(!Pn||2&Kt[0]&&I!==(I=!ht[1]))&&(je.disabled=I),(!Pn||8192&Kt[0])&&on(X,ht[13]),(!Pn||8192&Kt[0]&&ke!==(ke=ht[13]+" structure"))&&P(Se,"title",ke),(!Pn||4096&Kt[0]&&Oe!==(Oe=!ht[12]))&&(Se.disabled=Oe),(!Pn||8192&Kt[0]&&st!==(st=ht[13]+" object"))&&P(Ve,"title",st),(!Pn||2048&Kt[0]&&Rt!==(Rt=!ht[11]))&&(Ve.disabled=Rt),(!Pn||8192&Kt[0]&&be!==(be=ht[13]+" array"))&&P(ie,"title",be),(!Pn||1024&Kt[0]&&Te!==(Te=!ht[10]))&&(ie.disabled=Te),(!Pn||8192&Kt[0]&&tt!==(tt=ht[13]+" value"))&&P(ct,"title",tt),(!Pn||512&Kt[0]&&mt!==(mt=!ht[9]))&&(ct.disabled=mt),(!Pn||18&Kt[0]&&We!==(We=!ht[1]||ht[4]))&&(Mt.disabled=We),(!Pn||18&Kt[0]&&_r!==(_r=!ht[1]||ht[4]))&&(yn.disabled=_r),ht[0]?Bn?(Bn.p(ht,Kt),1&Kt[0]&&Q(Bn,1)):((Bn=b5()).c(),Q(Bn,1),Bn.m(e,null)):Bn&&(Ke(),re(Bn,1,1,function(){Bn=null}),Ge())},i:function(ht){Pn||(Q(i.$$.fragment,ht),Q(u.$$.fragment,ht),Q(h.$$.fragment,ht),Q(v.$$.fragment,ht),Q(y.$$.fragment,ht),Q(S.$$.fragment,ht),Q(Y.$$.fragment,ht),Q(U.$$.fragment,ht),Q(M.$$.fragment,ht),Q(R.$$.fragment,ht),Q(Ft.$$.fragment,ht),Q(sn.$$.fragment,ht),Q(Bn),Pn=!0)},o:function(ht){re(i.$$.fragment,ht),re(u.$$.fragment,ht),re(h.$$.fragment,ht),re(v.$$.fragment,ht),re(y.$$.fragment,ht),re(S.$$.fragment,ht),re(Y.$$.fragment,ht),re(U.$$.fragment,ht),re(M.$$.fragment,ht),re(R.$$.fragment,ht),re(Ft.$$.fragment,ht),re(sn.$$.fragment,ht),re(Bn),Pn=!1},d:function(ht){ht&&me(e),Me(i),Me(u),Me(h),Me(v),Me(y),Me(S),Me(Y),Me(U),Me(M),Me(R),Me(Ft),Me(sn),Bn&&Bn.d(),t[58](null),Ki=!1,rr(Oi)}}}function wQ(t,e,n){var r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_=e.json,T=e.state,j=e.selection,O=e.showTip,S=e.onCloseContextMenu,N=e.onEditKey,A=e.onEditValue,$=e.onToggleEnforceString,q=e.onCut,Y=e.onCopy,z=e.onPaste,J=e.onRemove,L=e.onDuplicate,D=e.onExtract,U=e.onInsertBefore,W=e.onInsert,F=e.onConvert,E=e.onInsertAfter,x=e.onSort,M=e.onTransform;function K(){S(),A()}function se(){S(),$()}function we(){S(),q(!0)}function je(){S(),q(!1)}function R(){S(),Y(!0)}function H(){S(),Y(!1)}function I(B){S(),a?F(B):W(B)}return fo(function(){setTimeout(function(){var B=nn(C.querySelectorAll("button")).find(function(Z){return!Z.disabled});B&&B.focus()})}),t.$$set=function(B){"json"in B&&n(31,_=B.json),"state"in B&&n(32,T=B.state),"selection"in B&&n(33,j=B.selection),"showTip"in B&&n(0,O=B.showTip),"onCloseContextMenu"in B&&n(34,S=B.onCloseContextMenu),"onEditKey"in B&&n(35,N=B.onEditKey),"onEditValue"in B&&n(36,A=B.onEditValue),"onToggleEnforceString"in B&&n(37,$=B.onToggleEnforceString),"onCut"in B&&n(38,q=B.onCut),"onCopy"in B&&n(39,Y=B.onCopy),"onPaste"in B&&n(40,z=B.onPaste),"onRemove"in B&&n(41,J=B.onRemove),"onDuplicate"in B&&n(42,L=B.onDuplicate),"onExtract"in B&&n(43,D=B.onExtract),"onInsertBefore"in B&&n(44,U=B.onInsertBefore),"onInsert"in B&&n(45,W=B.onInsert),"onConvert"in B&&n(46,F=B.onConvert),"onInsertAfter"in B&&n(47,E=B.onInsertAfter),"onSort"in B&&n(48,x=B.onSort),"onTransform"in B&&n(49,M=B.onTransform)},t.$$.update=function(){1&t.$$.dirty[1]&&n(53,r=_!==void 0),4&t.$$.dirty[1]&&n(3,i=j!=null),8&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(4,o=i&&Kn(j.focusPath)),8&t.$$.dirty[0]|5&t.$$.dirty[1]&&n(51,s=i?Ae.exports.getIn(_,j.focusPath):void 0),4194308&t.$$.dirty[1]&&n(1,a=r&&j!=null&&(j.type===Nt||j.type===bn||j.type===bt)),18&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(16,u=r&&a&&!o),16&t.$$.dirty[0]|4194308&t.$$.dirty[1]&&n(15,l=r&&j!=null&&(j.type===Nt||j.type===bt)&&!o),16&t.$$.dirty[0]|4194309&t.$$.dirty[1]&&n(14,f=r&&j!=null&&Vg(j)&&!o&&!Array.isArray(Ae.exports.getIn(_,Zt(j.focusPath)))),5242884&t.$$.dirty[1]&&n(2,c=r&&j!=null&&Vg(j)&&!Er(s)),2&t.$$.dirty[0]&&n(52,d=a),2097152&t.$$.dirty[1]&&n(13,h=d?"Convert to":"Insert"),8&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&n(12,p=!d&&i),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(11,v=d?Xd(j)&&!Sr(s):i),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(10,m=d?Xd(j)&&!Array.isArray(s):i),8&t.$$.dirty[0]|3145732&t.$$.dirty[1]&&n(9,g=d?Xd(j)&&Er(s):i),6&t.$$.dirty[1]&&n(50,y=j!=null&&Ae.exports.getIn(T,j.focusPath.concat(Di))===!0),4&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(8,b=[{icon:W1,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:K,disabled:!c},{icon:y?yp:gp,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:se,disabled:!c}]),2&t.$$.dirty[0]&&n(7,k=[{icon:Ug,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:we,disabled:!a},{icon:Ug,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:je,disabled:!a}]),2&t.$$.dirty[0]&&n(6,w=[{icon:zh,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:R,disabled:!a},{icon:zh,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:H,disabled:!a}])},[O,a,c,i,o,C,w,k,b,g,m,v,p,h,f,l,u,function(){S(),N()},K,we,R,function(){S(),z()},function(){S(),J()},function(){S(),L()},function(){S(),D()},I,function(){S(),x()},function(){S(),M()},function(){S(),U()},function(){S(),E()},function(B){var Z=Fl(B).replace(/^Command\+/,"Ctrl+");if(Z==="Up"||Z==="Down"||Z==="Left"||Z==="Right"){B.preventDefault();var le=LV({allElements:Array.from(C.querySelectorAll("button:not([disabled])")),currentElement:B.target,direction:Z,hasPrio:function(X){return X.getAttribute("data-type")!=="jse-open-dropdown"}});le&&le.focus()}},_,T,j,S,N,A,$,q,Y,z,J,L,D,U,W,F,E,x,M,y,s,d,r,function(){return I("structure")},function(){return I("object")},function(){return I("array")},function(){return I("value")},function(B){tn[B?"unshift":"push"](function(){n(5,C=B)})}]}var xQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,wQ,kQ,dn,{json:31,state:32,selection:33,showTip:0,onCloseContextMenu:34,onEditKey:35,onEditValue:36,onToggleEnforceString:37,onCut:38,onCopy:39,onPaste:40,onRemove:41,onDuplicate:42,onExtract:43,onInsertBefore:44,onInsert:45,onConvert:46,onInsertAfter:47,onSort:48,onTransform:49},mQ,[-1,-1,-1]),i}return ne(n)}(),T9={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=lt(o);if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var u in o)e.call(o,u)&&o[u]&&r.push(u);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(T9);var kl=T9.exports;function jQ(t){zt(t,"svelte-1knbf5w","div.jse-collapsed-items.svelte-1knbf5w.svelte-1knbf5w{font-family:var(--jse-font-family);font-size:var(--jse-font-size);color:var(--jse-collapsed-items-link-color);padding:calc(0.5 * var(--jse-padding));border:8px solid transparent;border-width:8px 0;background-color:transparent;background-image:linear-gradient(var(--jse-collapsed-items-background-color), var(--jse-collapsed-items-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{margin:0 calc(0.5 * var(--jse-padding))}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w{display:inline}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:hover,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:focus{color:var(--jse-collapsed-items-link-color-highlight)}")}function k5(t,e,n){var r=t.slice();return r[12]=e[n],r}function w5(t){var e,n,r,i,o,s,a,u,l=t[12].start+"",f=t[12].end+"";function c(){return t[11](t[12])}return{c:function(){e=oe("button"),n=rt("show "),r=rt(l),i=rt("-"),o=rt(f),s=Ee(),P(e,"type","button"),P(e,"class","jse-expand-items svelte-1knbf5w")},m:function(d,h){ye(d,e,h),G(e,n),G(e,r),G(e,i),G(e,o),G(e,s),a||(u=Fe(e,"click",c),a=!0)},p:function(d,h){t=d,16&h&&l!==(l=t[12].start+"")&&on(r,l),16&h&&f!==(f=t[12].end+"")&&on(o,f)},d:function(d){d&&me(e),a=!1,u()}}}function _Q(t){for(var e,n,r,i,o,s,a,u,l,f,c,d=t[4],h=[],p=0;p<d.length;p+=1)h[p]=w5(k5(t,d,p));return{c:function(){e=oe("div"),n=oe("div"),r=oe("div"),i=rt("Items "),o=rt(t[3]),s=rt("-"),a=rt(t[2]),u=Ee();for(var v=0;v<h.length;v+=1)h[v].c();P(r,"class","jse-text svelte-1knbf5w"),P(e,"class","jse-collapsed-items svelte-1knbf5w"),P(e,"style",l=x5(t[0].length+2)),Ze(e,"jse-selected",t[5])},m:function(v,m){ye(v,e,m),G(e,n),G(n,r),G(r,i),G(r,o),G(r,s),G(r,a),G(n,u);for(var g=0;g<h.length;g+=1)h[g].m(n,null);f||(c=Fe(e,"mousemove",SQ),f=!0)},p:function(v,m){var g=Et(m,1)[0];if(8&g&&on(o,v[3]),4&g&&on(a,v[2]),19&g){var y;for(d=v[4],y=0;y<d.length;y+=1){var b=k5(v,d,y);h[y]?h[y].p(b,g):(h[y]=w5(b),h[y].c(),h[y].m(n,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}1&g&&l!==(l=x5(v[0].length+2))&&P(e,"style",l),32&g&&Ze(e,"jse-selected",v[5])},i:Qe,o:Qe,d:function(v){v&&me(e),Ai(h,v),f=!1,c()}}}function x5(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function SQ(t){t.stopPropagation()}function CQ(t,e,n){var r,i,o,s,a,u=e.visibleSections,l=e.sectionIndex,f=e.total,c=e.path,d=e.selection,h=e.onExpandSection;return t.$$set=function(p){"visibleSections"in p&&n(6,u=p.visibleSections),"sectionIndex"in p&&n(7,l=p.sectionIndex),"total"in p&&n(8,f=p.total),"path"in p&&n(0,c=p.path),"selection"in p&&n(9,d=p.selection),"onExpandSection"in p&&n(1,h=p.onExpandSection)},t.$$.update=function(){192&t.$$.dirty&&n(10,r=u[l]),1024&t.$$.dirty&&n(3,i=r.end),448&t.$$.dirty&&n(2,o=u[l+1]?u[l+1].start:f),521&t.$$.dirty&&n(5,s=!(!d||!d.pathsMap)&&d.pathsMap[Ae.exports.compileJSONPointer(c.concat(i))]===!0),12&t.$$.dirty&&n(4,a=function(p,v){var m={start:p,end:Math.min(Bg(p),v)},g=Math.max(Dh((p+v)/2),p),y={start:g,end:Math.min(Bg(g),v)},b=Dh(v),k=b===v?b-100:b,w={start:Math.max(k,p),end:v},C=[m],_=y.start>=m.end&&y.end<=w.start;return _&&C.push(y),w.start>=(_?y.end:m.end)&&C.push(w),C}(i,o))},[c,h,o,i,a,s,u,l,f,d,r,function(p){return h(c,p)}]}var $Q=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,CQ,_Q,dn,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1},jQ),i}return ne(n)}();function AQ(t){zt(t,"svelte-dol684",".jse-context-menu-button.svelte-dol684{position:absolute;top:calc(-0.5 * var(--jse-context-menu-button-size));right:calc(-0.5 * var(--jse-context-menu-button-size));width:var(--jse-context-menu-button-size);height:var(--jse-context-menu-button-size);padding:0;margin:0;z-index:2;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-button-background);color:var(--jse-context-menu-button-color);border:none;box-shadow:var(--jse-controls-box-shadow)}.jse-context-menu-button.svelte-dol684:hover{background:var(--jse-context-menu-button-background-highlight)}")}function OQ(t){var e,n,r,i,o;return n=new Gt({props:{data:ts}}),{c:function(){e=oe("button"),Le(n.$$.fragment),P(e,"type","button"),P(e,"class","jse-context-menu-button svelte-dol684"),P(e,"title",i6),Ze(e,"jse-selected",t[0])},m:function(s,a){ye(s,e,a),Pe(n,e,null),r=!0,i||(o=Fe(e,"click",t[1]),i=!0)},p:function(s,a){1&Et(a,1)[0]&&Ze(e,"jse-selected",s[0])},i:function(s){r||(Q(n.$$.fragment,s),r=!0)},o:function(s){re(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Me(n),i=!1,o()}}}function EQ(t,e,n){var r=e.selected,i=e.onContextMenu;return t.$$set=function(o){"selected"in o&&n(0,r=o.selected),"onContextMenu"in o&&n(2,i=o.onContextMenu)},[r,function(o){for(var s=o.target;s&&s.nodeName!=="BUTTON";)s=s.parentNode;s&&i({anchor:s,left:0,top:0,width:260,height:336,offsetTop:2,offsetLeft:0,showTip:!0})},i]}var Ou=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,EQ,OQ,dn,{selected:0,onContextMenu:2},AQ),i}return ne(n)}();function TQ(t){zt(t,"svelte-s6kbew",".jse-highlight.svelte-s6kbew{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-highlight.jse-active.svelte-s6kbew{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}")}function j5(t,e,n){var r=t.slice();return r[3]=e[n],r}function PQ(t){var e,n,r=hu(t[3].text)+"";return{c:function(){e=oe("span"),n=rt(r),P(e,"class","jse-highlight svelte-s6kbew"),Ze(e,"jse-active",t[3].active)},m:function(i,o){ye(i,e,o),G(e,n)},p:function(i,o){1&o&&r!==(r=hu(i[3].text)+"")&&on(n,r),1&o&&Ze(e,"jse-active",i[3].active)},d:function(i){i&&me(e)}}}function MQ(t){var e,n=t[3].text+"";return{c:function(){e=rt(n)},m:function(r,i){ye(r,e,i)},p:function(r,i){1&i&&n!==(n=r[3].text+"")&&on(e,n)},d:function(r){r&&me(e)}}}function _5(t){var e;function n(o,s){return o[3].type==="normal"?MQ:PQ}var r=n(t),i=r(t);return{c:function(){i.c(),e=wn()},m:function(o,s){i.m(o,s),ye(o,e,s)},p:function(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),(i=r(o))&&(i.c(),i.m(e.parentNode,e)))},d:function(o){i.d(o),o&&me(e)}}}function IQ(t){for(var e,n=t[0],r=[],i=0;i<n.length;i+=1)r[i]=_5(j5(t,n,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=wn()},m:function(o,s){for(var a=0;a<r.length;a+=1)r[a].m(o,s);ye(o,e,s)},p:function(o,s){var a=Et(s,1)[0];if(1&a){var u;for(n=o[0],u=0;u<n.length;u+=1){var l=j5(o,n,u);r[u]?r[u].p(l,a):(r[u]=_5(l),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},i:Qe,o:Qe,d:function(o){Ai(r,o),o&&me(e)}}}function NQ(t,e,n){var r,i=e.text,o=e.searchResult;return t.$$set=function(s){"text"in s&&n(1,i=s.text),"searchResult"in s&&n(2,o=s.searchResult)},t.$$.update=function(){6&t.$$.dirty&&n(0,r=function(s,a){var u,l=[],f=0,c=ce(a);try{for(c.s();!(u=c.n()).done;){var d=u.value,h=s.slice(f,d.start);h!==""&&l.push({type:"normal",text:h,active:!1});var p=s.slice(d.start,d.end);l.push({type:"highlight",text:p,active:d.active}),f=d.end}}catch(m){c.e(m)}finally{c.f()}var v=pt(a);return v.end<s.length&&l.push({type:"normal",text:s.slice(v.end),active:!1}),l}(String(i),o))},[r,i,o]}var P9=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,NQ,IQ,Ar,{text:1,searchResult:2},TQ),i}return ne(n)}();function LQ(t){zt(t,"svelte-rw77oa",".jse-value.jse-string.svelte-rw77oa{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rw77oa,.jse-value.jse-array.svelte-rw77oa{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rw77oa{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rw77oa{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rw77oa{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rw77oa{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rw77oa{color:var(--jse-value-color-url);text-decoration:underline}div.jse-editable-div.svelte-rw77oa{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-rw77oa{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-rw77oa{outline:var(--jse-edit-outline);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-rw77oa:not(:focus){outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-rw77oa::after{pointer-events:none;color:var(--jse-tag-background)}")}function DQ(t){var e,n,r,i;return{c:function(){P(e=oe("div"),"class",n=wr(kl("jse-editable-div",t[2],{"jse-short-text":t[0]}))+" svelte-rw77oa"),P(e,"contenteditable","true"),P(e,"spellcheck","false")},m:function(o,s){ye(o,e,s),t[13](e),r||(i=[Fe(e,"input",t[3]),Fe(e,"keydown",t[4]),Fe(e,"paste",t[5]),Fe(e,"blur",t[6])],r=!0)},p:function(o,s){5&Et(s,1)[0]&&n!==(n=wr(kl("jse-editable-div",o[2],{"jse-short-text":o[0]}))+" svelte-rw77oa")&&P(e,"class",n)},i:Qe,o:Qe,d:function(o){o&&me(e),t[13](null),r=!1,rr(i)}}}function RQ(t,e,n){var r,i=Ji("jsoneditor:EditableDiv"),o=e.value,s=e.shortText,a=s!==void 0&&s,u=e.onChange,l=e.onCancel,f=e.onFind,c=e.onPaste,d=c===void 0?fn:c,h=e.onValueClass,p=h===void 0?function(){return""}:h,v=p(o),m=!1;function g(){return function(b){return b.replace(/\n$/,"")}(r.innerText)}function y(b){n(1,r.innerText=hu(b),r)}return fo(function(){i("onMount",{value:o}),y(o),setTimeout(function(){return QP(r)})}),ga(function(){var b=g();i("onDestroy",{closed:m,value:o,newValue:b}),m||b===o||u(b,qB)}),t.$$set=function(b){"value"in b&&n(7,o=b.value),"shortText"in b&&n(0,a=b.shortText),"onChange"in b&&n(8,u=b.onChange),"onCancel"in b&&n(9,l=b.onCancel),"onFind"in b&&n(10,f=b.onFind),"onPaste"in b&&n(11,d=b.onPaste),"onValueClass"in b&&n(12,p=b.onValueClass)},[a,r,v,function(){var b=g();b===""&&y(""),n(2,v=p(b))},function(b){b.stopPropagation();var k=Fl(b).replace(/^Command\+/,"Ctrl+");if(k==="Escape"&&(m=!0,l()),k==="Enter"||k==="Tab"){m=!0;var w=g();u(w,$y)}k==="Ctrl+F"&&(b.preventDefault(),f(!1)),k==="Ctrl+H"&&(b.preventDefault(),f(!0))},function(b){if(d){var k=b.clipboardData.getData("text/plain");d(k)}},function(){var b=document.hasFocus(),k=g();i("handleBlur",{hasFocus:b,closed:m,value:o,newValue:k}),document.hasFocus()&&!m&&(m=!0,k!==o?u(k,Cy):l())},o,u,l,f,d,p,function(b){tn[b?"unshift":"push"](function(){n(1,r=b)})}]}var M9=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,RQ,DQ,dn,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},LQ),i}return ne(n)}();function BQ(t){zt(t,"svelte-566egb",'.jse-key.svelte-566egb{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.jse-empty.svelte-566egb{min-width:3em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-key.jse-empty.svelte-566egb::after{pointer-events:none;color:var(--jse-tag-background);content:"key"}')}function zQ(t){var e,n,r,i,o,s,a,u=[VQ,qQ],l=[];function f(c,d){return c[1]?0:1}return n=f(t),r=l[n]=u[n](t),{c:function(){e=oe("div"),r.c(),P(e,"data-type","selectable-key"),P(e,"class",i=wr(t[5](t[0]))+" svelte-566egb")},m:function(c,d){ye(c,e,d),l[n].m(e,null),o=!0,s||(a=Fe(e,"dblclick",t[4]),s=!0)},p:function(c,d){var h=n;(n=f(c))===h?l[n].p(c,d):(Ke(),re(l[h],1,1,function(){l[h]=null}),Ge(),(r=l[n])?r.p(c,d):(r=l[n]=u[n](c)).c(),Q(r,1),r.m(e,null)),(!o||1&d&&i!==(i=wr(c[5](c[0]))+" svelte-566egb"))&&P(e,"class",i)},i:function(c){o||(Q(r),o=!0)},o:function(c){re(r),o=!1},d:function(c){c&&me(e),l[n].d(),s=!1,a()}}}function FQ(t){var e,n;return e=new M9({props:{value:t[2].normalization.escapeValue(t[0]),shortText:!0,onChange:t[6],onCancel:t[7],onFind:t[2].onFind}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};5&i&&(o.value=r[2].normalization.escapeValue(r[0])),4&i&&(o.onFind=r[2].onFind),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function qQ(t){var e,n=hu(t[2].normalization.escapeValue(t[0]))+"";return{c:function(){e=rt(n)},m:function(r,i){ye(r,e,i)},p:function(r,i){5&i&&n!==(n=hu(r[2].normalization.escapeValue(r[0]))+"")&&on(e,n)},i:Qe,o:Qe,d:function(r){r&&me(e)}}}function VQ(t){var e,n;return e=new P9({props:{text:t[2].normalization.escapeValue(t[0]),searchResult:t[1]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};5&i&&(o.text=r[2].normalization.escapeValue(r[0])),2&i&&(o.searchResult=r[1]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function HQ(t){var e,n,r,i,o=[FQ,zQ],s=[];function a(u,l){return u[3]?0:1}return e=a(t),n=s[e]=o[e](t),{c:function(){n.c(),r=wn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),i=!0},p:function(u,l){var f=Et(l,1)[0],c=e;(e=a(u))===c?s[e].p(u,f):(Ke(),re(s[c],1,1,function(){s[c]=null}),Ge(),(n=s[e])?n.p(u,f):(n=s[e]=o[e](u)).c(),Q(n,1),n.m(r.parentNode,r))},i:function(u){i||(Q(n),i=!0)},o:function(u){re(n),i=!1},d:function(u){s[e].d(u),u&&me(r)}}}function WQ(t,e,n){var r,i,o=e.path,s=e.key,a=e.onUpdateKey,u=e.selection,l=e.searchResult,f=e.context;return t.$$set=function(c){"path"in c&&n(8,o=c.path),"key"in c&&n(0,s=c.key),"onUpdateKey"in c&&n(9,a=c.onUpdateKey),"selection"in c&&n(10,u=c.selection),"searchResult"in c&&n(1,l=c.searchResult),"context"in c&&n(2,f=c.context)},t.$$.update=function(){1024&t.$$.dirty&&n(11,r=u&&u.type===bn),3076&t.$$.dirty&&n(3,i=!f.readOnly&&r&&u&&u.edit===!0)},[s,l,f,i,function(c){i||f.readOnly||(c.preventDefault(),f.onSelect({type:bn,path:o,edit:!0}))},function(c){return kl("jse-key",{"jse-empty":c===""})},function(c,d){var h=a(s,f.normalization.unescapeValue(c)),p=Zt(o).concat(h);d===$y&&f.onSelect({type:bn,path:p,next:!0}),d===Cy&&f.onSelect({type:bn,path:p},{ensureFocus:!1})},function(){f.onSelect({type:bn,path:o})},o,a,u,r]}var UQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,WQ,HQ,dn,{path:8,key:0,onUpdateKey:9,selection:10,searchResult:1,context:2},BQ),i}return ne(n)}();function S5(t,e,n){var r=t.slice();return r[9]=e[n],r}function C5(t){var e,n,r,i=[t[9].props],o=t[9].component;function s(a){for(var u={},l=0;l<i.length;l+=1)u=Aa(u,i[l]);return{props:u}}return o&&(e=new o(s())),{c:function(){e&&Le(e.$$.fragment),n=wn()},m:function(a,u){e&&Pe(e,a,u),ye(a,n,u),r=!0},p:function(a,u){var l=1&u?wu(i,[Wp(a[9].props)]):{};if(o!==(o=a[9].component)){if(e){Ke();var f=e;re(f.$$.fragment,1,0,function(){Me(f,1)}),Ge()}o?(Le((e=new o(s())).$$.fragment),Q(e.$$.fragment,1),Pe(e,n.parentNode,n)):e=null}else o&&e.$set(l)},i:function(a){r||(e&&Q(e.$$.fragment,a),r=!0)},o:function(a){e&&re(e.$$.fragment,a),r=!1},d:function(a){a&&me(n),e&&Me(e,a)}}}function JQ(t){for(var e,n,r=t[0],i=[],o=0;o<r.length;o+=1)i[o]=C5(S5(t,r,o));var s=function(a){return re(i[a],1,1,function(){i[a]=null})};return{c:function(){for(var a=0;a<i.length;a+=1)i[a].c();e=wn()},m:function(a,u){for(var l=0;l<i.length;l+=1)i[l].m(a,u);ye(a,e,u),n=!0},p:function(a,u){var l=Et(u,1)[0];if(1&l){var f;for(r=a[0],f=0;f<r.length;f+=1){var c=S5(a,r,f);i[f]?(i[f].p(c,l),Q(i[f],1)):(i[f]=C5(c),i[f].c(),Q(i[f],1),i[f].m(e.parentNode,e))}for(Ke(),f=r.length;f<i.length;f+=1)s(f);Ge()}},i:function(a){if(!n){for(var u=0;u<r.length;u+=1)Q(i[u]);n=!0}},o:function(a){i=i.filter(Boolean);for(var u=0;u<i.length;u+=1)re(i[u]);n=!1},d:function(a){Ai(i,a),a&&me(e)}}}function KQ(t,e,n){var r,i,o,s=e.path,a=e.value,u=e.context,l=e.enforceString,f=e.selection,c=e.searchResult;return t.$$set=function(d){"path"in d&&n(1,s=d.path),"value"in d&&n(2,a=d.value),"context"in d&&n(3,u=d.context),"enforceString"in d&&n(4,l=d.enforceString),"selection"in d&&n(5,f=d.selection),"searchResult"in d&&n(6,c=d.searchResult)},t.$$.update=function(){34&t.$$.dirty&&n(8,r=!(!f||f.type!==bt)&&$n(f.focusPath,s)),296&t.$$.dirty&&n(7,i=!u.readOnly&&r&&f&&f.edit===!0),510&t.$$.dirty&&n(0,o=u.onRenderValue({path:s,value:a,readOnly:u.readOnly,enforceString:l,isSelected:r,isEditing:i,normalization:u.normalization,selection:f,searchResult:c,onPatch:u.onPatch,onPasteJson:u.onPasteJson,onSelect:u.onSelect,onFind:u.onFind}))},[o,s,a,u,l,f,c,i,r]}var GQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,KQ,JQ,dn,{path:1,value:2,context:3,enforceString:4,selection:5,searchResult:6}),i}return ne(n)}(),Br={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function QQ(t){zt(t,"svelte-r4omvg",".jse-tooltip.svelte-r4omvg{font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);border-radius:3px;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);white-space:nowrap;box-shadow:var(--jse-controls-box-shadow)}")}function YQ(t){var e,n;return{c:function(){e=oe("div"),n=rt(t[0]),P(e,"class","jse-tooltip svelte-r4omvg")},m:function(r,i){ye(r,e,i),G(e,n)},p:function(r,i){1&Et(i,1)[0]&&on(n,r[0])},i:Qe,o:Qe,d:function(r){r&&me(e)}}}function XQ(t,e,n){var r=e.text;return t.$$set=function(i){"text"in i&&n(0,r=i.text)},[r]}var ZQ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,XQ,YQ,Ar,{text:0},QQ),i}return ne(n)}();function I9(t,e){var n=e.text,r=e.openAbsolutePopup,i=e.closeAbsolutePopup;function o(){r(ZQ,{text:n},{position:"top",width:10*n.length,offsetTop:3,anchor:t,closeOnOuterClick:!0})}function s(){i()}return t.addEventListener("mouseover",o),t.addEventListener("mouseout",s),{destroy:function(){t.removeEventListener("mouseover",o),t.removeEventListener("mouseout",s)}}}function eY(t){zt(t,"svelte-1q62mys","button.jse-validation-error.svelte-1q62mys{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;color:var(--jse-warning-color);padding:0 5px;margin:0;font-size:var(--jse-font-size-mono);height:var(--jse-line-height);overflow:hidden}")}function tY(t){var e,n,r,i,o,s;return n=new Gt({props:{data:ql}}),{c:function(){e=oe("button"),Le(n.$$.fragment),P(e,"type","button"),P(e,"class","jse-validation-error svelte-1q62mys")},m:function(a,u){ye(a,e,u),Pe(n,e,null),i=!0,o||(s=[Fe(e,"click",function(){Co(t[0])&&t[0].apply(this,arguments)}),yf(r=I9.call(null,e,dt({text:t[1]},t[2])))],o=!0)},p:function(a,u){var l=Et(u,1)[0];t=a,r&&Co(r.update)&&2&l&&r.update.call(null,dt({text:t[1]},t[2]))},i:function(a){i||(Q(n.$$.fragment,a),i=!0)},o:function(a){re(n.$$.fragment,a),i=!1},d:function(a){a&&me(e),Me(n),o=!1,rr(s)}}}function nY(t,e,n){var r,i=Si("absolute-popup"),o=e.validationError,s=e.onExpand;return t.$$set=function(a){"validationError"in a&&n(3,o=a.validationError),"onExpand"in a&&n(0,s=a.onExpand)},t.$$.update=function(){8&t.$$.dirty&&n(1,r=o.isChildError?"Contains invalid data":o.message)},[s,r,i,o]}var $b=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,nY,tY,Ar,{validationError:3,onExpand:0},eY),i}return ne(n)}();function $5(t){var e=t.fullJson,n=t.fullState,r=t.fullSelection,i=t.deltaY,o=t.items,s=i<0?function(p){for(var v=p.items,m=p.fullSelection,g=p.deltaY,y=rm(m),b=v.findIndex(function(j){return $n(j.path,y)}),k=function(){var j;return(j=v[w-1])===null||j===void 0?void 0:j.height},w=b,C=0;k()!==void 0&&Math.abs(g)>C+k()/2;)C+=k(),w-=1;var _=v[w].path,T=w-b;return w!==b&&v[w]!==void 0?{beforePath:_,indexOffset:T}:void 0}({fullSelection:r,deltaY:i,items:o}):function(p){for(var v,m=p.items,g=p.fullSelection,y=p.deltaY,b=J4(g),k=m.findIndex(function(S){return $n(S.path,b)}),w=function(){var S;return(S=m[_+1])===null||S===void 0?void 0:S.height},C=0,_=k;w()!==void 0&&Math.abs(y)>C+w()/2;)C+=w(),_+=1;var T=typeof pt(b)=="number",j=(v=m[T?_:_+1])===null||v===void 0?void 0:v.path,O=_-k;return j?{beforePath:j,indexOffset:O}:{append:!0,indexOffset:O}}({fullSelection:r,deltaY:i,items:o});if(!s||s.indexOffset===0)return{operations:void 0,updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:0};var a=function(p,v,m,g){var y=g.beforePath,b=g.append,k=Zt(m.focusPath),w=Ae.exports.getIn(p,k);if(b||y&&Kc(y,k)&&y.length>k.length){var C=m.paths?br(m.paths):m.focusPath,_=m.paths?pt(m.paths):m.focusPath,T=pt(C),j=pt(_),O=y?y[k.length]:void 0;if(!Sr(w)){var S=T,N=O;return L1(j-S+1,N<S?function(z){return{op:"move",from:Ae.exports.compileJSONPointer(k.concat(S+z)),path:Ae.exports.compileJSONPointer(k.concat(N+z))}}:function(){return{op:"move",from:Ae.exports.compileJSONPointer(k.concat(S)),path:Ae.exports.compileJSONPointer(k.concat(N))}})}var A=Ae.exports.getIn(v,k.concat(ho)),$=A.indexOf(T),q=A.indexOf(j),Y=b?A.length:A.indexOf(O);if($!==-1&&q!==-1&&Y!==-1)return Y>$?[].concat(nn(A.slice($,q+1)),nn(A.slice(Y,A.length))).map(function(z){return bl(k,z)}):[].concat(nn(A.slice(Y,$)),nn(A.slice(q+1,A.length))).map(function(z){return bl(k,z)})}}(e,n,r,s),u=BP(e,n,a),l=Zt(rm(r)),f=Ae.exports.getIn(e,l);if(Array.isArray(f)){var c=function(p){var v,m,g=p.items,y=p.fullJson,b=p.fullState,k=p.fullSelection,w=p.indexOffset,C=rm(k),_=J4(k),T=g.findIndex(function(N){return $n(N.path,C)}),j=g.findIndex(function(N){return $n(N.path,_)}),O=(v=g[T+w])===null||v===void 0?void 0:v.path,S=(m=g[j+w])===null||m===void 0?void 0:m.path;return an(y,b,{type:Nt,anchorPath:O,focusPath:S})}({items:o,fullJson:e,fullState:n,fullSelection:r,indexOffset:s.indexOffset}),d=VP(e,c),h=Ae.exports.getIn(d,l);return{operations:a,updatedValue:Ae.exports.getIn(u.json,l),updatedState:Ae.exports.getIn(u.state,l),updatedSelection:h,updatedFullSelection:c,indexOffset:s.indexOffset}}return{operations:a,updatedValue:Ae.exports.getIn(u.json,l),updatedState:Ae.exports.getIn(u.state,l),updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:s.indexOffset}}function rY(t){zt(t,"svelte-uj4yd7",".jse-json-node.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative;color:var(--jse-text-color)}.jse-json-node.jse-root.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7 .jse-context-menu-button,.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7 .jse-context-menu-button{top:0;right:calc(-2px - var(--jse-context-menu-button-size))}.jse-json-node.jse-root.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7.svelte-uj4yd7{padding-left:0}.jse-json-node.jse-hovered.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-hovered.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-hover-background-color)}.jse-json-node.svelte-uj4yd7 .jse-props.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-items.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-footer-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-header .jse-meta.svelte-uj4yd7>.jse-meta-inner.svelte-uj4yd7.svelte-uj4yd7{display:flex;justify-content:center}.jse-json-node.svelte-uj4yd7 .jse-contents-outer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex}.jse-json-node.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;flex-direction:row}.jse-json-node.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-left:var(--jse-indent-size)}.jse-json-node.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;padding-left:calc(var(--jse-indent-size) + 5px)}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding));flex:1}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-inside.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:inline-flex;align-items:center}.jse-json-node.svelte-uj4yd7 .jse-insert-selection-area.jse-after.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;align-items:flex-end}.jse-json-node.svelte-uj4yd7:hover>.jse-contents-outer .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-header-outer.svelte-uj4yd7:hover>.jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected),.jse-json-node.svelte-uj4yd7 .jse-footer-outer:hover .jse-insert-selection-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:not(.jse-selected){visibility:visible;z-index:1}.jse-json-node.svelte-uj4yd7 .jse-context-menu-button-anchor.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{position:relative}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{display:flex;position:relative;max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding));outline:1px solid}.jse-json-node.svelte-uj4yd7 .jse-insert-area.svelte-uj4yd7 .jse-context-menu-button{right:-1px;background:var(--jse-selection-background-color)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-hovered.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{outline-color:var(--jse-selection-background-color)}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color) !important;cursor:grab}.jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-color) !important}.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-context-menu-button-background)}.jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-context-menu-button-background-highlight)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color) !important;cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{cursor:pointer}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-identifier>.jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-identifier>.jse-key{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-contents-outer.svelte-uj4yd7>.jse-contents.svelte-uj4yd7>.jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-collapsed-items.jse-selected,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-uj4yd7 .jse-collapsed-items,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-collapsed-items{background-color:var(--jse-selection-background-light-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{background:var(--jse-selection-background-light-color) !important}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-header-outer.svelte-uj4yd7>.jse-header.svelte-uj4yd7>.jse-meta.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7>.jse-footer-outer.svelte-uj4yd7>.jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-props .jse-expand.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-contents.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-header.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-footer.svelte-uj4yd7 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-uj4yd7 .jse-items .jse-expand.svelte-uj4yd7 .jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{z-index:2;outline-color:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button{background:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-uj4yd7 .jse-insert-area.jse-selected.svelte-uj4yd7 .jse-context-menu-button:hover{background:var(--jse-selection-background-color)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{width:var(--jse-indent-size);padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color);font-size:var(--jse-font-size-mono);height:var(--jse-line-height)}.jse-expand.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-meta.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-separator.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7,.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;color:var(--jse-delimiter-color)}.jse-index.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 calc(0.5 * var(--jse-padding))}.jse-bracket.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding:0 2px}.jse-bracket.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{padding-right:var(--jse-padding)}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{border:none;font-size:80%;font-family:var(--jse-font-family);color:var(--jse-tag-color);background:var(--jse-tag-background);border-radius:2px;cursor:pointer;position:relative;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{opacity:0.7;cursor:inherit}.jse-identifier.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7.svelte-uj4yd7{vertical-align:top;position:relative}")}var iY=function(t){return{}},A5=function(t){return{}};function O5(t,e,n){var r=t.slice();return r[57]=e[n],r}var oY=function(t){return{}},E5=function(t){return{}};function T5(t,e,n){var r=t.slice();return r[51]=e[n],r[53]=n,r}function P5(t,e,n){var r=t.slice();return r[54]=e[n],r[56]=n,r}var sY=function(t){return{}},M5=function(t){return{}};function aY(t){var e,n,r,i,o,s,a,u,l,f=!t[4].readOnly&&t[7]&&(t[7].type===bt||t[7].type===Nt)&&!t[7].edit&&$n(t[7].focusPath,t[1]),c=t[39].identifier,d=Io(c,t,t[40],A5),h=!t[10]&&I5();o=new GQ({props:{path:t[1],value:t[0],enforceString:t[5]?t[5][Di]:void 0,selection:t[7],searchResult:t[2]?t[2][qc]:void 0,context:t[4]}});var p=f&&N5(t),v=t[15]&&L5(t),m=!t[10]&&D5(t);return{c:function(){e=oe("div"),n=oe("div"),d&&d.c(),r=Ee(),h&&h.c(),i=Ee(),Le(o.$$.fragment),s=Ee(),p&&p.c(),a=Ee(),v&&v.c(),u=Ee(),m&&m.c(),P(n,"class","jse-contents svelte-uj4yd7"),P(e,"class","jse-contents-outer svelte-uj4yd7"),P(e,"style",t[13])},m:function(g,y){ye(g,e,y),G(e,n),d&&d.m(n,null),G(n,r),h&&h.m(n,null),G(n,i),Pe(o,n,null),G(n,s),p&&p.m(n,null),G(e,a),v&&v.m(e,null),G(e,u),m&&m.m(e,null),l=!0},p:function(g,y){d&&d.p&&(!l||512&y[1])&&Lo(d,c,g,g[40],l?No(c,g[40],y,iY):Do(g[40]),A5),g[10]?h&&(h.d(1),h=null):h||((h=I5()).c(),h.m(n,i));var b={};2&y[0]&&(b.path=g[1]),1&y[0]&&(b.value=g[0]),32&y[0]&&(b.enforceString=g[5]?g[5][Di]:void 0),128&y[0]&&(b.selection=g[7]),4&y[0]&&(b.searchResult=g[2]?g[2][qc]:void 0),16&y[0]&&(b.context=g[4]),o.$set(b),146&y[0]&&(f=!g[4].readOnly&&g[7]&&(g[7].type===bt||g[7].type===Nt)&&!g[7].edit&&$n(g[7].focusPath,g[1])),f?p?(p.p(g,y),146&y[0]&&Q(p,1)):((p=N5(g)).c(),Q(p,1),p.m(n,null)):p&&(Ke(),re(p,1,1,function(){p=null}),Ge()),g[15]?v?(v.p(g,y),32768&y[0]&&Q(v,1)):((v=L5(g)).c(),Q(v,1),v.m(e,u)):v&&(Ke(),re(v,1,1,function(){v=null}),Ge()),g[10]?m&&(m.d(1),m=null):m?m.p(g,y):((m=D5(g)).c(),m.m(e,null)),(!l||8192&y[0])&&P(e,"style",g[13])},i:function(g){l||(Q(d,g),Q(o.$$.fragment,g),Q(p),Q(v),l=!0)},o:function(g){re(d,g),re(o.$$.fragment,g),re(p),re(v),l=!1},d:function(g){g&&me(e),d&&d.d(g),h&&h.d(),Me(o),p&&p.d(),v&&v.d(),m&&m.d()}}}function uY(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b=!t[4].readOnly&&t[7]&&(t[7].type===bt||t[7].type===Nt)&&!t[7].edit&&$n(t[7].focusPath,t[1]),k=[fY,cY],w=[];function C(L,D){return L[12]?0:1}i=C(t),o=w[i]=k[i](t);var _=t[39].identifier,T=Io(_,t,t[40],E5),j=!t[10]&&R5();function O(L,D){return L[12]?hY:dY}var S=O(t),N=S(t),A=b&&B5(t),$=t[15]&&(!t[12]||!t[15].isChildError)&&z5(t);function q(L,D){return L[12]?vY:L[10]?void 0:pY}var Y=q(t),z=Y&&Y(t),J=t[12]&&F5(t);return{c:function(){e=oe("div"),n=oe("div"),r=oe("button"),o.c(),s=Ee(),T&&T.c(),a=Ee(),j&&j.c(),u=Ee(),l=oe("div"),f=oe("div"),N.c(),c=Ee(),A&&A.c(),d=Ee(),$&&$.c(),h=Ee(),z&&z.c(),p=Ee(),J&&J.c(),v=wn(),P(r,"type","button"),P(r,"class","jse-expand svelte-uj4yd7"),P(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),P(f,"class","jse-meta-inner svelte-uj4yd7"),P(l,"class","jse-meta svelte-uj4yd7"),P(l,"data-type","selectable-value"),P(n,"class","jse-header svelte-uj4yd7"),P(e,"class","jse-header-outer svelte-uj4yd7"),P(e,"style",t[13])},m:function(L,D){ye(L,e,D),G(e,n),G(n,r),w[i].m(r,null),G(n,s),T&&T.m(n,null),G(n,a),j&&j.m(n,null),G(n,u),G(n,l),G(l,f),N.m(f,null),G(n,c),A&&A.m(n,null),G(e,d),$&&$.m(e,null),G(e,h),z&&z.m(e,null),ye(L,p,D),J&&J.m(L,D),ye(L,v,D),m=!0,g||(y=Fe(r,"click",t[23]),g=!0)},p:function(L,D){var U=i;(i=C(L))===U?w[i].p(L,D):(Ke(),re(w[U],1,1,function(){w[U]=null}),Ge(),(o=w[i])?o.p(L,D):(o=w[i]=k[i](L)).c(),Q(o,1),o.m(r,null)),T&&T.p&&(!m||512&D[1])&&Lo(T,_,L,L[40],m?No(_,L[40],D,oY):Do(L[40]),E5),L[10]?j&&(j.d(1),j=null):j||((j=R5()).c(),j.m(n,u)),S===(S=O(L))&&N?N.p(L,D):(N.d(1),(N=S(L))&&(N.c(),N.m(f,null))),146&D[0]&&(b=!L[4].readOnly&&L[7]&&(L[7].type===bt||L[7].type===Nt)&&!L[7].edit&&$n(L[7].focusPath,L[1])),b?A?(A.p(L,D),146&D[0]&&Q(A,1)):((A=B5(L)).c(),Q(A,1),A.m(n,null)):A&&(Ke(),re(A,1,1,function(){A=null}),Ge()),!L[15]||L[12]&&L[15].isChildError?$&&(Ke(),re($,1,1,function(){$=null}),Ge()):$?($.p(L,D),36864&D[0]&&Q($,1)):(($=z5(L)).c(),Q($,1),$.m(e,h)),Y===(Y=q(L))&&z?z.p(L,D):(z&&z.d(1),(z=Y&&Y(L))&&(z.c(),z.m(e,null))),(!m||8192&D[0])&&P(e,"style",L[13]),L[12]?J?(J.p(L,D),4096&D[0]&&Q(J,1)):((J=F5(L)).c(),Q(J,1),J.m(v.parentNode,v)):J&&(Ke(),re(J,1,1,function(){J=null}),Ge())},i:function(L){m||(Q(o),Q(T,L),Q(A),Q($),Q(J),m=!0)},o:function(L){re(o),re(T,L),re(A),re($),re(J),m=!1},d:function(L){L&&me(e),w[i].d(),T&&T.d(L),j&&j.d(),N.d(),A&&A.d(),$&&$.d(),z&&z.d(),L&&me(p),J&&J.d(L),L&&me(v),g=!1,y()}}}function lY(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b=!t[4].readOnly&&t[7]&&(t[7].type===bt||t[7].type===Nt)&&!t[7].edit&&$n(t[7].focusPath,t[1]),k=[yY,gY],w=[];function C(L,D){return L[12]?0:1}i=C(t),o=w[i]=k[i](t);var _=t[39].identifier,T=Io(_,t,t[40],M5),j=!t[10]&&U5();function O(L,D){return L[12]?kY:bY}var S=O(t),N=S(t),A=b&&J5(t),$=t[15]&&(!t[12]||!t[15].isChildError)&&K5(t);function q(L,D){return L[12]?xY:wY}var Y=q(t),z=Y(t),J=t[12]&&G5(t);return{c:function(){e=oe("div"),n=oe("div"),r=oe("button"),o.c(),s=Ee(),T&&T.c(),a=Ee(),j&&j.c(),u=Ee(),l=oe("div"),f=oe("div"),N.c(),c=Ee(),A&&A.c(),d=Ee(),$&&$.c(),h=Ee(),z.c(),p=Ee(),J&&J.c(),v=wn(),P(r,"type","button"),P(r,"class","jse-expand svelte-uj4yd7"),P(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),P(f,"class","jse-meta-inner svelte-uj4yd7"),P(f,"data-type","selectable-value"),P(l,"class","jse-meta svelte-uj4yd7"),P(n,"class","jse-header svelte-uj4yd7"),P(e,"class","jse-header-outer svelte-uj4yd7"),P(e,"style",t[13])},m:function(L,D){ye(L,e,D),G(e,n),G(n,r),w[i].m(r,null),G(n,s),T&&T.m(n,null),G(n,a),j&&j.m(n,null),G(n,u),G(n,l),G(l,f),N.m(f,null),G(n,c),A&&A.m(n,null),G(e,d),$&&$.m(e,null),G(e,h),z.m(e,null),ye(L,p,D),J&&J.m(L,D),ye(L,v,D),m=!0,g||(y=Fe(r,"click",t[23]),g=!0)},p:function(L,D){var U=i;(i=C(L))===U?w[i].p(L,D):(Ke(),re(w[U],1,1,function(){w[U]=null}),Ge(),(o=w[i])?o.p(L,D):(o=w[i]=k[i](L)).c(),Q(o,1),o.m(r,null)),T&&T.p&&(!m||512&D[1])&&Lo(T,_,L,L[40],m?No(_,L[40],D,sY):Do(L[40]),M5),L[10]?j&&(j.d(1),j=null):j||((j=U5()).c(),j.m(n,u)),S===(S=O(L))&&N?N.p(L,D):(N.d(1),(N=S(L))&&(N.c(),N.m(f,null))),146&D[0]&&(b=!L[4].readOnly&&L[7]&&(L[7].type===bt||L[7].type===Nt)&&!L[7].edit&&$n(L[7].focusPath,L[1])),b?A?(A.p(L,D),146&D[0]&&Q(A,1)):((A=J5(L)).c(),Q(A,1),A.m(n,null)):A&&(Ke(),re(A,1,1,function(){A=null}),Ge()),!L[15]||L[12]&&L[15].isChildError?$&&(Ke(),re($,1,1,function(){$=null}),Ge()):$?($.p(L,D),36864&D[0]&&Q($,1)):(($=K5(L)).c(),Q($,1),$.m(e,h)),Y===(Y=q(L))&&z?z.p(L,D):(z.d(1),(z=Y(L))&&(z.c(),z.m(e,null))),(!m||8192&D[0])&&P(e,"style",L[13]),L[12]?J?(J.p(L,D),4096&D[0]&&Q(J,1)):((J=G5(L)).c(),Q(J,1),J.m(v.parentNode,v)):J&&(Ke(),re(J,1,1,function(){J=null}),Ge())},i:function(L){m||(Q(o),Q(T,L),Q(A),Q($),Q(J),m=!0)},o:function(L){re(o),re(T,L),re(A),re($),re(J),m=!1},d:function(L){L&&me(e),w[i].d(),T&&T.d(L),j&&j.d(),N.d(),A&&A.d(),$&&$.d(),z.d(),L&&me(p),J&&J.d(L),L&&me(v),g=!1,y()}}}function I5(t){var e;return{c:function(){(e=oe("div")).textContent=":",P(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function N5(t){var e,n,r;return n=new Ou({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(i,o){ye(i,e,o),Pe(n,e,null),r=!0},p:function(i,o){var s={};16&o[0]&&(s.onContextMenu=i[4].onContextMenu),n.$set(s)},i:function(i){r||(Q(n.$$.fragment,i),r=!0)},o:function(i){re(n.$$.fragment,i),r=!1},d:function(i){i&&me(e),Me(n)}}}function L5(t){var e,n;return e=new $b({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function D5(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[32]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function cY(t){var e,n;return e=new Gt({props:{data:oa}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function fY(t){var e,n;return e=new Gt({props:{data:ts}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function R5(t){var e;return{c:function(){(e=oe("div")).textContent=":",P(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function dY(t){var e,n,r,i,o,s,a,u,l,f,c=Object.keys(t[6]).length+"",d=Object.keys(t[6]).length===1?"prop":"props";return{c:function(){(e=oe("div")).textContent="{",n=Ee(),r=oe("button"),i=rt(c),o=Ee(),s=rt(d),a=Ee(),(u=oe("div")).textContent="}",P(e,"class","jse-bracket svelte-uj4yd7"),P(r,"type","button"),P(r,"class","jse-tag svelte-uj4yd7"),P(u,"class","jse-bracket svelte-uj4yd7")},m:function(h,p){ye(h,e,p),ye(h,n,p),ye(h,r,p),G(r,i),G(r,o),G(r,s),ye(h,a,p),ye(h,u,p),l||(f=Fe(r,"click",t[24]),l=!0)},p:function(h,p){64&p[0]&&c!==(c=Object.keys(h[6]).length+"")&&on(i,c),64&p[0]&&d!==(d=Object.keys(h[6]).length===1?"prop":"props")&&on(s,d)},d:function(h){h&&me(e),h&&me(n),h&&me(r),h&&me(a),h&&me(u),l=!1,f()}}}function hY(t){var e;return{c:function(){(e=oe("div")).textContent="{",P(e,"class","jse-bracket jse-expanded svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},p:Qe,d:function(n){n&&me(e)}}}function B5(t){var e,n,r;return n=new Ou({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(i,o){ye(i,e,o),Pe(n,e,null),r=!0},p:function(i,o){var s={};16&o[0]&&(s.onContextMenu=i[4].onContextMenu),n.$set(s)},i:function(i){r||(Q(n.$$.fragment,i),r=!0)},o:function(i){re(n.$$.fragment,i),r=!1},d:function(i){i&&me(e),Me(n)}}}function z5(t){var e,n;return e=new $b({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function pY(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[32]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function vY(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),P(e,"data-type","insert-selection-area-inside")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[31]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function F5(t){for(var e,n,r,i,o,s,a,u=[],l=new Map,f=!t[4].readOnly&&(t[9]==="hover-insert-inside"||t[19])&&q5(t),c=t[11],d=function(g){return g[5][g[57]][Ts]},h=0;h<c.length;h+=1){var p=O5(t,c,h),v=d(p);l.set(v,u[h]=H5(v,p))}var m=!t[10]&&W5(t);return{c:function(){e=oe("div"),f&&f.c(),n=Ee();for(var g=0;g<u.length;g+=1)u[g].c();r=Ee(),i=oe("div"),(o=oe("div")).innerHTML='<div class="jse-bracket svelte-uj4yd7">}</div>',s=Ee(),m&&m.c(),P(e,"class","jse-props svelte-uj4yd7"),P(o,"data-type","selectable-value"),P(o,"class","jse-footer svelte-uj4yd7"),P(i,"class","jse-footer-outer svelte-uj4yd7"),P(i,"style",t[13])},m:function(g,y){ye(g,e,y),f&&f.m(e,null),G(e,n);for(var b=0;b<u.length;b+=1)u[b].m(e,null);ye(g,r,y),ye(g,i,y),G(i,o),G(i,s),m&&m.m(i,null),a=!0},p:function(g,y){g[4].readOnly||g[9]!=="hover-insert-inside"&&!g[19]?f&&(Ke(),re(f,1,1,function(){f=null}),Ge()):f?(f.p(g,y),524816&y[0]&&Q(f,1)):((f=q5(g)).c(),Q(f,1),f.m(e,n)),306186622&y[0]&&(c=g[11],Ke(),u=Ol(u,y,d,1,g,c,l,e,bf,H5,null,O5),Ge()),g[10]?m&&(m.d(1),m=null):m?m.p(g,y):((m=W5(g)).c(),m.m(i,null)),(!a||8192&y[0])&&P(i,"style",g[13])},i:function(g){if(!a){Q(f);for(var y=0;y<c.length;y+=1)Q(u[y]);a=!0}},o:function(g){re(f);for(var y=0;y<u.length;y+=1)re(u[y]);a=!1},d:function(g){g&&me(e),f&&f.d();for(var y=0;y<u.length;y+=1)u[y].d();g&&me(r),g&&me(i),m&&m.d()}}}function q5(t){var e,n,r,i;return n=new Ou({props:{selected:t[19],onContextMenu:t[33]}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-insert-area jse-inside svelte-uj4yd7"),P(e,"data-type","insert-selection-area-inside"),P(e,"style",r=hf(t[1].length+1)),P(e,"title",Sy),Ze(e,"jse-hovered",t[9]==="hover-insert-inside"),Ze(e,"jse-selected",t[19])},m:function(o,s){ye(o,e,s),Pe(n,e,null),i=!0},p:function(o,s){var a={};524288&s[0]&&(a.selected=o[19]),n.$set(a),(!i||2&s[0]&&r!==(r=hf(o[1].length+1)))&&P(e,"style",r),512&s[0]&&Ze(e,"jse-hovered",o[9]==="hover-insert-inside"),524288&s[0]&&Ze(e,"jse-selected",o[19])},i:function(o){i||(Q(n.$$.fragment,o),i=!0)},o:function(o){re(n.$$.fragment,o),i=!1},d:function(o){o&&me(e),Me(n)}}}function V5(t){var e,n;return e=new Ou({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};16&i[0]&&(o.onContextMenu=r[4].onContextMenu),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function mY(t){var e,n,r,i,o,s,a,u,l,f=!t[4].readOnly&&X4(t[1],t[57],t[8]);s=new UQ({props:{path:t[22](t[1].concat(t[57])),key:t[57],context:t[4],selection:(e=t[8])===null||e===void 0||(n=e[t[57]])===null||n===void 0?void 0:n[Vc],searchResult:(r=t[2])===null||r===void 0||(i=r[t[57]])===null||i===void 0?void 0:i[sl],onUpdateKey:t[25]}});var c=f&&V5(t);return{c:function(){o=oe("div"),Le(s.$$.fragment),a=Ee(),c&&c.c(),u=Ee(),P(o,"slot","identifier"),P(o,"class","jse-identifier svelte-uj4yd7")},m:function(d,h){ye(d,o,h),Pe(s,o,null),G(o,a),c&&c.m(o,null),G(o,u),l=!0},p:function(d,h){var p,v,m,g,y={};2050&h[0]&&(y.path=d[22](d[1].concat(d[57]))),2048&h[0]&&(y.key=d[57]),16&h[0]&&(y.context=d[4]),2304&h[0]&&(y.selection=(p=d[8])===null||p===void 0||(v=p[d[57]])===null||v===void 0?void 0:v[Vc]),2052&h[0]&&(y.searchResult=(m=d[2])===null||m===void 0||(g=m[d[57]])===null||g===void 0?void 0:g[sl]),s.$set(y),2322&h[0]&&(f=!d[4].readOnly&&X4(d[1],d[57],d[8])),f?c?(c.p(d,h),2322&h[0]&&Q(c,1)):((c=V5(d)).c(),Q(c,1),c.m(o,u)):c&&(Ke(),re(c,1,1,function(){c=null}),Ge())},i:function(d){l||(Q(s.$$.fragment,d),Q(c),l=!0)},o:function(d){re(s.$$.fragment,d),re(c),l=!1},d:function(d){d&&me(o),Me(s),c&&c.d()}}}function H5(t,e){var n,r,i;return r=new Ab({props:{value:e[6][e[57]],path:e[22](e[1].concat(e[57])),state:e[5][e[57]],selection:e[8]?e[8][e[57]]:void 0,searchResult:e[2]?e[2][e[57]]:void 0,validationErrors:e[3]?e[3][e[57]]:void 0,context:e[4],onDragSelectionStart:e[28],$$slots:{identifier:[mY]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=wn(),Le(r.$$.fragment),this.first=n},m:function(o,s){ye(o,n,s),Pe(r,o,s),i=!0},p:function(o,s){e=o;var a={};2112&s[0]&&(a.value=e[6][e[57]]),2050&s[0]&&(a.path=e[22](e[1].concat(e[57]))),2080&s[0]&&(a.state=e[5][e[57]]),2304&s[0]&&(a.selection=e[8]?e[8][e[57]]:void 0),2052&s[0]&&(a.searchResult=e[2]?e[2][e[57]]:void 0),2056&s[0]&&(a.validationErrors=e[3]?e[3][e[57]]:void 0),16&s[0]&&(a.context=e[4]),2326&s[0]|512&s[1]&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i:function(o){i||(Q(r.$$.fragment,o),i=!0)},o:function(o){re(r.$$.fragment,o),i=!1},d:function(o){o&&me(n),Me(r,o)}}}function W5(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[32]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function gY(t){var e,n;return e=new Gt({props:{data:oa}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function yY(t){var e,n;return e=new Gt({props:{data:ts}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function U5(t){var e;return{c:function(){(e=oe("div")).textContent=":",P(e,"class","jse-separator svelte-uj4yd7")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function bY(t){var e,n,r,i,o,s,a,u,l,f,c=t[6].length+"",d=t[6].length===1?"item":"items";return{c:function(){(e=oe("div")).textContent="[",n=Ee(),r=oe("button"),i=rt(c),o=Ee(),s=rt(d),a=Ee(),(u=oe("div")).textContent="]",P(e,"class","jse-bracket svelte-uj4yd7"),P(r,"type","button"),P(r,"class","jse-tag svelte-uj4yd7"),P(u,"class","jse-bracket svelte-uj4yd7")},m:function(h,p){ye(h,e,p),ye(h,n,p),ye(h,r,p),G(r,i),G(r,o),G(r,s),ye(h,a,p),ye(h,u,p),l||(f=Fe(r,"click",t[24]),l=!0)},p:function(h,p){64&p[0]&&c!==(c=h[6].length+"")&&on(i,c),64&p[0]&&d!==(d=h[6].length===1?"item":"items")&&on(s,d)},d:function(h){h&&me(e),h&&me(n),h&&me(r),h&&me(a),h&&me(u),l=!1,f()}}}function kY(t){var e,n,r,i,o,s,a=t[6].length+"",u=t[6].length===1?"item":"items";return{c:function(){(e=oe("div")).textContent="[",n=Ee(),r=oe("span"),i=rt(a),o=Ee(),s=rt(u),P(e,"class","jse-bracket svelte-uj4yd7"),P(r,"class","jse-tag jse-expanded svelte-uj4yd7")},m:function(l,f){ye(l,e,f),ye(l,n,f),ye(l,r,f),G(r,i),G(r,o),G(r,s)},p:function(l,f){64&f[0]&&a!==(a=l[6].length+"")&&on(i,a),64&f[0]&&u!==(u=l[6].length===1?"item":"items")&&on(s,u)},d:function(l){l&&me(e),l&&me(n),l&&me(r)}}}function J5(t){var e,n,r;return n=new Ou({props:{selected:!0,onContextMenu:t[4].onContextMenu}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m:function(i,o){ye(i,e,o),Pe(n,e,null),r=!0},p:function(i,o){var s={};16&o[0]&&(s.onContextMenu=i[4].onContextMenu),n.$set(s)},i:function(i){r||(Q(n.$$.fragment,i),r=!0)},o:function(i){re(n.$$.fragment,i),r=!1},d:function(i){i&&me(e),Me(n)}}}function K5(t){var e,n;return e=new $b({props:{validationError:t[15],onExpand:t[24]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function wY(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[32]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function xY(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),P(e,"data-type","insert-selection-area-inside")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[31]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function G5(t){for(var e,n,r,i,o,s,a,u=[],l=new Map,f=!t[4].readOnly&&(t[9]==="hover-insert-inside"||t[19])&&Q5(t),c=t[16],d=function(g){return g[53]},h=0;h<c.length;h+=1){var p=T5(t,c,h),v=d(p);l.set(v,u[h]=Z5(v,p))}var m=!t[10]&&e$(t);return{c:function(){e=oe("div"),f&&f.c(),n=Ee();for(var g=0;g<u.length;g+=1)u[g].c();r=Ee(),i=oe("div"),(o=oe("div")).innerHTML='<span class="jse-bracket svelte-uj4yd7">]</span>',s=Ee(),m&&m.c(),P(e,"class","jse-items svelte-uj4yd7"),P(o,"data-type","selectable-value"),P(o,"class","jse-footer svelte-uj4yd7"),P(i,"class","jse-footer-outer svelte-uj4yd7"),P(i,"style",t[13])},m:function(g,y){ye(g,e,y),f&&f.m(e,null),G(e,n);for(var b=0;b<u.length;b+=1)u[b].m(e,null);ye(g,r,y),ye(g,i,y),G(i,o),G(i,s),m&&m.m(i,null),a=!0},p:function(g,y){g[4].readOnly||g[9]!=="hover-insert-inside"&&!g[19]?f&&(Ke(),re(f,1,1,function(){f=null}),Ge()):f?(f.p(g,y),524816&y[0]&&Q(f,1)):((f=Q5(g)).c(),Q(f,1),f.m(e,n)),272695806&y[0]&&(c=g[16],Ke(),u=Ol(u,y,d,1,g,c,l,e,bf,Z5,null,T5),Ge()),g[10]?m&&(m.d(1),m=null):m?m.p(g,y):((m=e$(g)).c(),m.m(i,null)),(!a||8192&y[0])&&P(i,"style",g[13])},i:function(g){if(!a){Q(f);for(var y=0;y<c.length;y+=1)Q(u[y]);a=!0}},o:function(g){re(f);for(var y=0;y<u.length;y+=1)re(u[y]);a=!1},d:function(g){g&&me(e),f&&f.d();for(var y=0;y<u.length;y+=1)u[y].d();g&&me(r),g&&me(i),m&&m.d()}}}function Q5(t){var e,n,r,i;return n=new Ou({props:{selected:t[19],onContextMenu:t[33]}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-insert-area jse-inside svelte-uj4yd7"),P(e,"data-type","insert-selection-area-inside"),P(e,"style",r=hf(t[1].length+1)),P(e,"title",Sy),Ze(e,"jse-hovered",t[9]==="hover-insert-inside"),Ze(e,"jse-selected",t[19])},m:function(o,s){ye(o,e,s),Pe(n,e,null),i=!0},p:function(o,s){var a={};524288&s[0]&&(a.selected=o[19]),n.$set(a),(!i||2&s[0]&&r!==(r=hf(o[1].length+1)))&&P(e,"style",r),512&s[0]&&Ze(e,"jse-hovered",o[9]==="hover-insert-inside"),524288&s[0]&&Ze(e,"jse-selected",o[19])},i:function(o){i||(Q(n.$$.fragment,o),i=!0)},o:function(o){re(n.$$.fragment,o),i=!1},d:function(o){o&&me(e),Me(n)}}}function jY(t){var e,n,r,i=t[51].start+t[56]+"";return{c:function(){e=oe("div"),n=oe("div"),r=rt(i),P(n,"class","jse-index svelte-uj4yd7"),P(e,"slot","identifier"),P(e,"class","jse-identifier svelte-uj4yd7")},m:function(o,s){ye(o,e,s),G(e,n),G(n,r)},p:function(o,s){65600&s[0]&&i!==(i=o[51].start+o[56]+"")&&on(r,i)},d:function(o){o&&me(e)}}}function Y5(t,e){var n,r,i;return r=new Ab({props:{value:e[54],path:e[22](e[1].concat(e[51].start+e[56])),state:e[5][e[51].start+e[56]],selection:e[8]?e[8][e[51].start+e[56]]:void 0,searchResult:e[2]?e[2][e[51].start+e[56]]:void 0,validationErrors:e[3]?e[3][e[51].start+e[56]]:void 0,context:e[4],onDragSelectionStart:e[28],$$slots:{identifier:[jY]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=wn(),Le(r.$$.fragment),this.first=n},m:function(o,s){ye(o,n,s),Pe(r,o,s),i=!0},p:function(o,s){e=o;var a={};65600&s[0]&&(a.value=e[54]),65602&s[0]&&(a.path=e[22](e[1].concat(e[51].start+e[56]))),65632&s[0]&&(a.state=e[5][e[51].start+e[56]]),65856&s[0]&&(a.selection=e[8]?e[8][e[51].start+e[56]]:void 0),65604&s[0]&&(a.searchResult=e[2]?e[2][e[51].start+e[56]]:void 0),65608&s[0]&&(a.validationErrors=e[3]?e[3][e[51].start+e[56]]:void 0),16&s[0]&&(a.context=e[4]),65600&s[0]|512&s[1]&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i:function(o){i||(Q(r.$$.fragment,o),i=!0)},o:function(o){re(r.$$.fragment,o),i=!1},d:function(o){o&&me(n),Me(r,o)}}}function X5(t){var e,n;return e=new $Q({props:{visibleSections:t[16],sectionIndex:t[53],total:t[6].length,path:t[1],onExpandSection:t[4].onExpandSection,selection:t[7]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};65536&i[0]&&(o.visibleSections=r[16]),65536&i[0]&&(o.sectionIndex=r[53]),64&i[0]&&(o.total=r[6].length),2&i[0]&&(o.path=r[1]),16&i[0]&&(o.onExpandSection=r[4].onExpandSection),128&i[0]&&(o.selection=r[7]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function Z5(t,e){for(var n,r,i,o,s=[],a=new Map,u=e[6].slice(e[51].start,Math.min(e[51].end,e[6].length)),l=function(p){return p[56]},f=0;f<u.length;f+=1){var c=P5(e,u,f),d=l(c);a.set(d,s[f]=Y5(d,c))}var h=e[51].end<e[6].length&&X5(e);return{key:t,first:null,c:function(){n=wn();for(var p=0;p<s.length;p+=1)s[p].c();r=Ee(),h&&h.c(),i=wn(),this.first=n},m:function(p,v){ye(p,n,v);for(var m=0;m<s.length;m+=1)s[m].m(p,v);ye(p,r,v),h&&h.m(p,v),ye(p,i,v),o=!0},p:function(p,v){e=p,272695678&v[0]&&(u=e[6].slice(e[51].start,Math.min(e[51].end,e[6].length)),Ke(),s=Ol(s,v,l,1,e,u,a,r.parentNode,bf,Y5,r,P5),Ge()),e[51].end<e[6].length?h?(h.p(e,v),65600&v[0]&&Q(h,1)):((h=X5(e)).c(),Q(h,1),h.m(i.parentNode,i)):h&&(Ke(),re(h,1,1,function(){h=null}),Ge())},i:function(p){if(!o){for(var v=0;v<u.length;v+=1)Q(s[v]);Q(h),o=!0}},o:function(p){for(var v=0;v<s.length;v+=1)re(s[v]);re(h),o=!1},d:function(p){p&&me(n);for(var v=0;v<s.length;v+=1)s[v].d(p);p&&me(r),h&&h.d(p),p&&me(i)}}}function e$(t){var e,n,r;return{c:function(){P(e=oe("div"),"class","jse-insert-selection-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after")},m:function(i,o){ye(i,e,o),n||(r=Fe(e,"click",t[32]),n=!0)},p:Qe,d:function(i){i&&me(e),n=!1,r()}}}function t$(t){var e,n,r;return n=new Ou({props:{selected:t[20],onContextMenu:t[34]}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-insert-area jse-after svelte-uj4yd7"),P(e,"data-type","insert-selection-area-after"),P(e,"style",t[13]),P(e,"title",Sy),Ze(e,"jse-hovered",t[9]==="hover-insert-after"),Ze(e,"jse-selected",t[20])},m:function(i,o){ye(i,e,o),Pe(n,e,null),r=!0},p:function(i,o){var s={};1048576&o[0]&&(s.selected=i[20]),n.$set(s),(!r||8192&o[0])&&P(e,"style",i[13]),512&o[0]&&Ze(e,"jse-hovered",i[9]==="hover-insert-after"),1048576&o[0]&&Ze(e,"jse-selected",i[20])},i:function(i){r||(Q(n.$$.fragment,i),r=!0)},o:function(i){re(n.$$.fragment,i),r=!1},d:function(i){i&&me(e),Me(n)}}}function _Y(t){var e,n,r,i,o,s,a,u,l,f=[lY,uY,aY],c=[];function d(p,v){return p[14]==="array"?0:p[14]==="object"?1:2}n=d(t),r=c[n]=f[n](t);var h=!t[4].readOnly&&(t[9]==="hover-insert-after"||t[20])&&t$(t);return{c:function(){e=oe("div"),r.c(),i=Ee(),h&&h.c(),P(e,"class",o=wr(kl("jse-json-node",{"jse-expanded":t[12]},t[4].onClassName(t[1],t[6])))+" svelte-uj4yd7"),P(e,"data-path",s=Hg(t[1])),Ze(e,"jse-root",t[10]),Ze(e,"jse-selected",t[21]),Ze(e,"jse-selected-key",t[18]),Ze(e,"jse-selected-value",t[17]),Ze(e,"jse-hovered",t[9]==="hover-collection")},m:function(p,v){ye(p,e,v),c[n].m(e,null),G(e,i),h&&h.m(e,null),a=!0,u||(l=[Fe(e,"mousedown",t[26]),Fe(e,"mousemove",t[27]),Fe(e,"mouseover",t[29]),Fe(e,"mouseout",t[30]),Fe(e,"focus",void 0),Fe(e,"blur",void 0)],u=!0)},p:function(p,v){var m=n;(n=d(p))===m?c[n].p(p,v):(Ke(),re(c[m],1,1,function(){c[m]=null}),Ge(),(r=c[n])?r.p(p,v):(r=c[n]=f[n](p)).c(),Q(r,1),r.m(e,i)),p[4].readOnly||p[9]!=="hover-insert-after"&&!p[20]?h&&(Ke(),re(h,1,1,function(){h=null}),Ge()):h?(h.p(p,v),1049104&v[0]&&Q(h,1)):((h=t$(p)).c(),Q(h,1),h.m(e,null)),(!a||4178&v[0]&&o!==(o=wr(kl("jse-json-node",{"jse-expanded":p[12]},p[4].onClassName(p[1],p[6])))+" svelte-uj4yd7"))&&P(e,"class",o),(!a||2&v[0]&&s!==(s=Hg(p[1])))&&P(e,"data-path",s),5202&v[0]&&Ze(e,"jse-root",p[10]),2101330&v[0]&&Ze(e,"jse-selected",p[21]),266322&v[0]&&Ze(e,"jse-selected-key",p[18]),135250&v[0]&&Ze(e,"jse-selected-value",p[17]),4690&v[0]&&Ze(e,"jse-hovered",p[9]==="hover-collection")},i:function(p){a||(Q(r),Q(h),a=!0)},o:function(p){re(r),re(h),a=!1},d:function(p){p&&me(e),c[n].d(),h&&h.d(),u=!1,rr(l)}}}function hf(t){return"margin-left: calc(".concat(t," * var(--jse-indent-size))")}function SY(t,e,n){var r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b=e.$$slots,k=b===void 0?{}:b,w=e.$$scope,C=e.value,_=e.path,T=e.state,j=e.selection,O=e.searchResult,S=e.validationErrors,N=e.context,A=e.onDragSelectionStart,$=Ji("jsoneditor:JSONNode"),q=void 0,Y=void 0,z=void 0,J=Il(function(x){return x},Ls);function L(x){N.onDrag(x)}function D(x){Br.selecting&&(Br.selecting=!1,x.stopPropagation()),N.onDragEnd(),document.removeEventListener("mousemove",L,!0),document.removeEventListener("mouseup",D)}function U(){var x,M;return((M=(x=N.findElement([]))===null||x===void 0?void 0:x.getBoundingClientRect())===null||M===void 0?void 0:M.top)||0}function W(x,M){var K=U()-x.initialContentTop;return M.clientY-x.initialClientY-K}function F(x){if(z){var M=W(z,x),K=$5({fullJson:N.getFullJson(),fullState:N.getFullState(),fullSelection:N.getFullSelection(),deltaY:M,items:z.items}),se=K.updatedValue,we=K.updatedState,je=K.updatedSelection,R=K.indexOffset;R!==z.indexOffset&&($("drag selection",R,M,je),n(38,z=dt(dt({},z),{},{updatedValue:se,updatedState:we,updatedSelection:je,indexOffset:R,didMoveItems:!0})))}}function E(x){if(z){var M=W(z,x),K=$5({fullJson:N.getFullJson(),fullState:N.getFullState(),fullSelection:N.getFullSelection(),deltaY:M,items:z.items}),se=K.operations,we=K.updatedFullSelection;se?N.onPatch(se,function(){return{selection:we||N.getFullSelection()}}):x.target!==z.initialTarget||z.didMoveItems||N.onSelect({type:im(x.target),path:NV(x.target)}),n(38,z=void 0),Br.dragging=!1,document.removeEventListener("mousemove",F,!0),document.removeEventListener("mouseup",E)}}return t.$$set=function(x){"value"in x&&n(0,C=x.value),"path"in x&&n(1,_=x.path),"state"in x&&n(35,T=x.state),"selection"in x&&n(36,j=x.selection),"searchResult"in x&&n(2,O=x.searchResult),"validationErrors"in x&&n(3,S=x.validationErrors),"context"in x&&n(4,N=x.context),"onDragSelectionStart"in x&&n(37,A=x.onDragSelectionStart),"$$scope"in x&&n(40,w=x.$$scope)},t.$$.update=function(){1&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(6,r=(z==null?void 0:z.updatedValue)!==void 0?z.updatedValue:C),144&t.$$.dirty[1]&&n(5,i=(z==null?void 0:z.updatedState)!==void 0?z.updatedState:T),160&t.$$.dirty[1]&&n(8,o=(z==null?void 0:z.updatedSelection)!=null?z.updatedSelection:j),256&t.$$.dirty[0]&&n(7,s=o&&o[Vc]),128&t.$$.dirty[0]&&n(21,a=!(!s||!s.pathsMap)),128&t.$$.dirty[0]&&n(20,u=!(!s||s.type!==ei)),128&t.$$.dirty[0]&&n(19,l=!(!s||s.type!==$r)),128&t.$$.dirty[0]&&n(18,f=!(!s||s.type!==bn)),128&t.$$.dirty[0]&&n(17,c=!(!s||s.type!==bt)),32&t.$$.dirty[0]&&n(12,d=i[ai]),32&t.$$.dirty[0]&&n(16,h=i[os]),32&t.$$.dirty[0]&&n(11,p=i[ho]),8&t.$$.dirty[0]&&n(15,v=S&&S[wg]),2&t.$$.dirty[0]&&n(10,m=_.length===0),64&t.$$.dirty[0]&&n(14,g=Ay(r)),2&t.$$.dirty[0]&&n(13,y=hf(_.length))},[C,_,O,S,N,i,r,s,o,q,m,p,d,y,g,v,h,c,f,l,u,a,J,function(x){x.stopPropagation();var M=x.ctrlKey;N.onExpand(_,!d,M)},function(x){x.stopPropagation(),N.onExpand(_,!0)},function(x,M){var K=qf(_,p,x,M);return N.onPatch(K),pt(Ae.exports.parseJSONPointer(K[0].path))},function(x){if(!(function(we){return we.nodeName==="DIV"&&we.contentEditable==="true"}(x.target)||x.which===1&&GP(x.target,"BUTTON"))){x.stopPropagation(),x.preventDefault(),document.addEventListener("mousemove",L,!0),document.addEventListener("mouseup",D);var M=im(x.target);if(function(we,je,R){if(!we)return!1;var H=je.slice(0);if(we.type===Nt)for(;H.length>0;){if(we.pathsMap[Ae.exports.compileJSONPointer(H)]===!0)return!0;H.pop()}return we.type===bn?R===bn&&$n(we.focusPath,je):!!(we.type===bt&&(R===bt&&$n(we.focusPath,je)||Kc(je,we.focusPath)&&je.length>we.focusPath.length&&(R===bn||R===bt||R===Nt)))}(N.getFullSelection(),_,M))x.button===0&&(N.focus(),A(x));else if(Br.selecting=!0,Br.selectionAnchor=_,Br.selectionAnchorType=M,Br.selectionFocus=_,x.shiftKey){var K=N.getFullSelection();K&&N.onSelect({type:Nt,anchorPath:K.anchorPath,focusPath:_})}else switch(M){case bn:case bt:case ei:case $r:N.onSelect({type:M,path:_});break;case Nt:if(m&&x.target.hasAttribute("data-path")){var se=pt(zP(r,i));N.onSelect(se)}else N.onSelect({type:Nt,anchorPath:_,focusPath:_})}}},function(x){if(Br.selecting){x.preventDefault(),x.stopPropagation(),Br.selectionFocus==null&&window.getSelection&&window.getSelection().empty();var M=im(x.target);$n(_,Br.selectionFocus)&&M===Br.selectionAnchorType||(Br.selectionFocus=_,N.onSelect({anchorPath:Br.selectionAnchor,focusPath:Br.selectionFocus}))}},function(x){if(!N.readOnly){var M=N.getFullSelection(),K=Zt(M.focusPath);if($n(_,K)){var se=function(we){var je=[];function R(_e){var Se=_.concat(_e),xe=N.findElement(Se);xe!=null&&je.push({path:Se,height:xe.clientHeight})}if(Array.isArray(C)){var H=br(we.paths)||we.focusPath,I=pt(we.paths)||we.focusPath,B=pt(H),Z=pt(I),le=T[os].find(function(_e){return B>=_e.start&&Z<=_e.end});if(!le)return null;var X=le.start,V=le.end;Ey(X,Math.min(C.length,V),R)}else B1(T,R);return je}(M);$("dragSelectionStart",{fullSelection:M,items:se}),se?(n(38,z={initialTarget:x.target,initialClientY:x.clientY,initialContentTop:U(),updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,items:se,indexOffset:0,didMoveItems:!1}),Br.dragging=!0,document.addEventListener("mousemove",F,!0),document.addEventListener("mouseup",E)):$("Cannot drag the current selection (probably spread over multiple sections)")}else A(x)}},function(x){Br.selecting||Br.dragging||(x.stopPropagation(),eu(x.target,"data-type","selectable-value")?n(9,q="hover-collection"):eu(x.target,"data-type","insert-selection-area-inside")?n(9,q="hover-insert-inside"):eu(x.target,"data-type","insert-selection-area-after")&&n(9,q="hover-insert-after"),clearTimeout(Y))},function(x){x.stopPropagation(),Y=setTimeout(function(){return n(9,q=void 0)})},function(x){x.shiftKey||(x.stopPropagation(),x.preventDefault(),N.onSelect({type:$r,path:_}))},function(x){x.shiftKey||(x.stopPropagation(),x.preventDefault(),N.onSelect({type:ei,path:_}))},function(x){N.onSelect({type:$r,path:_}),N.onContextMenu(x)},function(x){N.onSelect({type:ei,path:_}),N.onContextMenu(x)},T,j,A,z,k,w]}var Ab=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,SY,_Y,dn,{value:0,path:1,state:35,selection:36,searchResult:2,validationErrors:3,context:4,onDragSelectionStart:37},rY,[-1,-1]),i}return ne(n)}();function CY(t){var e,n;return e=new K1({props:{items:t[0]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1&Et(i,1)[0]&&(o.items=r[0]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function $Y(t,e,n){var r,i,o,s,a,u,l,f=e.json,c=e.selection,d=e.readOnly,h=e.showSearch,p=h!==void 0&&h,v=e.historyState,m=e.onExpandAll,g=e.onCollapseAll,y=e.onUndo,b=e.onRedo,k=e.onSort,w=e.onTransform,C=e.onContextMenu,_=e.onCopy,T=e.onRenderMenu,j=T===void 0?fn:T;function O(){n(1,p=!p)}return t.$$set=function(S){"json"in S&&n(2,f=S.json),"selection"in S&&n(3,c=S.selection),"readOnly"in S&&n(4,d=S.readOnly),"showSearch"in S&&n(1,p=S.showSearch),"historyState"in S&&n(5,v=S.historyState),"onExpandAll"in S&&n(6,m=S.onExpandAll),"onCollapseAll"in S&&n(7,g=S.onCollapseAll),"onUndo"in S&&n(8,y=S.onUndo),"onRedo"in S&&n(9,b=S.onRedo),"onSort"in S&&n(10,k=S.onSort),"onTransform"in S&&n(11,w=S.onTransform),"onContextMenu"in S&&n(12,C=S.onContextMenu),"onCopy"in S&&n(13,_=S.onCopy),"onRenderMenu"in S&&n(14,j=S.onRenderMenu)},t.$$.update=function(){4&t.$$.dirty&&n(20,r=f!==void 0),t.$$.dirty,1048584&t.$$.dirty&&n(17,i=r&&c!=null&&(c.type===Nt||c.type===bn||c.type===bt)),68&t.$$.dirty&&n(19,o={icon:CH,title:"Expand all",className:"jse-expand-all",onClick:m,disabled:!Er(f)}),132&t.$$.dirty&&n(18,s={icon:$H,title:"Collapse all",className:"jse-collapse-all",onClick:g,disabled:!Er(f)}),4&t.$$.dirty&&n(16,a={icon:H1,title:"Search (Ctrl+F)",className:"jse-search",onClick:O,disabled:f===void 0}),999220&t.$$.dirty&&n(15,u=d?[o,s,{separator:!0},{icon:zh,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:_,disabled:!i},{separator:!0},a,{space:!0}]:[o,s,{separator:!0},{icon:q1,title:"Sort",className:"jse-sort",onClick:k,disabled:d||f===void 0},{icon:V1,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:w,disabled:d||f===void 0},a,{icon:QV,title:i6,className:"jse-contextmenu",onClick:C},{separator:!0},{icon:eM,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:y,disabled:!v.canUndo},{icon:tM,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:b,disabled:!v.canRedo},{space:!0}]),49152&t.$$.dirty&&n(0,l=j("tree",u)||u)},[l,p,f,c,d,v,m,g,y,b,k,w,C,_,j,u,a,i,s,o,r]}var AY=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,$Y,CY,dn,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14}),i}return ne(n)}();function OY(t){zt(t,"svelte-1q2qkk2",'@charset "UTF-8";.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2{flex:1;overflow:auto;font-family:var(--jse-font-family);font-size:var(--jse-font-size);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2:last-child{border-bottom:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-before.svelte-1q2qkk2{flex:1}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-after.svelte-1q2qkk2{flex:2}.jse-welcome.svelte-1q2qkk2 .jse-contents.svelte-1q2qkk2{margin:2em var(--jse-padding) 0;color:var(--jse-panel-color-readonly)}.jse-welcome.svelte-1q2qkk2 .jse-contents ul.svelte-1q2qkk2{list-style:"\u25CF";list-style-position:outside;padding-left:20px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li.svelte-1q2qkk2{padding-left:10px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li span.jse-bold.svelte-1q2qkk2{font-family:var(--jse-font-family-mono);font-weight:bold}')}function n$(t){var e;return{c:function(){(e=oe("ul")).innerHTML=`<li class="svelte-1q2qkk2">Click inside the editor</li> 
        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> 
        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> 
        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>`,P(e,"class","svelte-1q2qkk2")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function EY(t){var e,n,r,i,o,s,a,u=!t[0]&&n$();return{c:function(){e=oe("div"),n=oe("div"),r=Ee(),i=oe("div"),o=rt(`Empty document
    `),u&&u.c(),s=Ee(),a=oe("div"),P(n,"class","jse-space jse-before svelte-1q2qkk2"),P(i,"class","jse-contents svelte-1q2qkk2"),P(a,"class","jse-space jse-after svelte-1q2qkk2"),P(e,"class","jse-welcome svelte-1q2qkk2")},m:function(l,f){ye(l,e,f),G(e,n),G(e,r),G(e,i),G(i,o),u&&u.m(i,null),G(e,s),G(e,a)},p:function(l,f){Et(f,1)[0],l[0]?u&&(u.d(1),u=null):u||((u=n$()).c(),u.m(i,null))},i:Qe,o:Qe,d:function(l){l&&me(e),u&&u.d()}}}function TY(t,e,n){var r=e.readOnly;return t.$$set=function(i){"readOnly"in i&&n(0,r=i.readOnly)},[r]}var PY=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,TY,EY,dn,{readOnly:0},OY),i}return ne(n)}();function MY(t){zt(t,"svelte-6hb2gf",".jse-navigation-bar-dropdown.svelte-6hb2gf.svelte-6hb2gf{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color);box-shadow:var(--jse-controls-box-shadow);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding)) 36px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:focus,.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:hover{background:var(--jse-navigation-bar-background-highlight)}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.jse-selected.svelte-6hb2gf{background:var(--jse-navigation-bar-dropdown-color);color:var(--jse-navigation-bar-background)}")}function r$(t,e,n){var r=t.slice();return r[4]=e[n],r}function i$(t,e){var n,r,i,o,s,a=u5(e[4],s$)+"";function u(){return e[3](e[4])}return{key:t,first:null,c:function(){n=oe("button"),r=rt(a),P(n,"type","button"),P(n,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),P(n,"title",i=e[4]),Ze(n,"jse-selected",e[4]===e[1]),this.first=n},m:function(l,f){ye(l,n,f),G(n,r),o||(s=Fe(n,"click",YO(u)),o=!0)},p:function(l,f){e=l,1&f&&a!==(a=u5(e[4],s$)+"")&&on(r,a),1&f&&i!==(i=e[4])&&P(n,"title",i),3&f&&Ze(n,"jse-selected",e[4]===e[1])},d:function(l){l&&me(n),o=!1,s()}}}function o$(t){var e,n;return{c:function(){e=oe("button"),n=rt("..."),P(e,"type","button"),P(e,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),P(e,"title","Limited to "+hc+" items")},m:function(r,i){ye(r,e,i),G(e,n)},p:Qe,d:function(r){r&&me(e)}}}function IY(t){for(var e,n,r=[],i=new Map,o=e4(t[0],hc),s=function(c){return c[4]},a=0;a<o.length;a+=1){var u=r$(t,o,a),l=s(u);i.set(l,r[a]=i$(l,u))}var f=t[0].length>hc&&o$();return{c:function(){e=oe("div");for(var c=0;c<r.length;c+=1)r[c].c();n=Ee(),f&&f.c(),P(e,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m:function(c,d){ye(c,e,d);for(var h=0;h<r.length;h+=1)r[h].m(e,null);G(e,n),f&&f.m(e,null)},p:function(c,d){var h=Et(d,1)[0];7&h&&(o=e4(c[0],hc),r=Ol(r,h,s,1,c,o,i,e,CB,i$,n,r$)),c[0].length>hc?f?f.p(c,h):((f=o$()).c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Qe,o:Qe,d:function(c){c&&me(e);for(var d=0;d<r.length;d+=1)r[d].d();f&&f.d()}}}var hc=100,s$=30;function NY(t,e,n){var r=e.items,i=e.selectedItem,o=e.onSelect;return t.$$set=function(s){"items"in s&&n(0,r=s.items),"selectedItem"in s&&n(1,i=s.selectedItem),"onSelect"in s&&n(2,o=s.onSelect)},[r,i,o,function(s){return o(s)}]}var LY=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,NY,IY,dn,{items:0,selectedItem:1,onSelect:2},MY),i}return ne(n)}();function DY(t){zt(t,"svelte-1r1k9th",".jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th{position:relative;display:flex}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:focus,.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:hover{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight)}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1r1k9th{padding:2px var(--jse-padding) 0}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-1r1k9th{background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color)}.jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th:last-child{padding-right:var(--jse-padding)}")}function a$(t){var e,n,r,i;return{c:function(){e=oe("button"),n=rt(t[2]),P(e,"type","button"),P(e,"class","jse-navigation-bar-button svelte-1r1k9th")},m:function(o,s){ye(o,e,s),G(e,n),r||(i=Fe(e,"click",t[9]),r=!0)},p:function(o,s){4&s&&on(n,o[2])},d:function(o){o&&me(e),r=!1,i()}}}function RY(t){var e,n,r,i,o,s,a;r=new Gt({props:{data:ZP}});var u=t[2]!==void 0&&a$(t);return{c:function(){e=oe("div"),n=oe("button"),Le(r.$$.fragment),i=Ee(),u&&u.c(),P(n,"type","button"),P(n,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),Ze(n,"jse-open",t[1]),P(e,"class","jse-navigation-bar-item svelte-1r1k9th")},m:function(l,f){ye(l,e,f),G(e,n),Pe(r,n,null),G(e,i),u&&u.m(e,null),t[10](e),o=!0,s||(a=Fe(n,"click",t[4]),s=!0)},p:function(l,f){var c=Et(f,1)[0];2&c&&Ze(n,"jse-open",l[1]),l[2]!==void 0?u?u.p(l,c):((u=a$(l)).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:function(l){o||(Q(r.$$.fragment,l),o=!0)},o:function(l){re(r.$$.fragment,l),o=!1},d:function(l){l&&me(e),Me(r),u&&u.d(),t[10](null),s=!1,a()}}}function BY(t,e,n){var r,i,o,s=Si("absolute-popup"),a=s.openAbsolutePopup,u=s.closeAbsolutePopup,l=e.path,f=e.index,c=e.onSelect,d=e.getItems,h=!1;function p(v){u(),c(r.concat(v))}return t.$$set=function(v){"path"in v&&n(5,l=v.path),"index"in v&&n(6,f=v.index),"onSelect"in v&&n(7,c=v.onSelect),"getItems"in v&&n(8,d=v.getItems)},t.$$.update=function(){96&t.$$.dirty&&(r=l.slice(0,f)),96&t.$$.dirty&&n(2,i=l[f])},[o,h,i,p,function(){if(o){n(1,h=!0);var v={items:d(r),selectedItem:i,onSelect:p};a(LY,v,{anchor:o,closeOnOuterClick:!0,onClose:function(){n(1,h=!1)}})}},l,f,c,d,function(){return p(i)},function(v){tn[v?"unshift":"push"](function(){n(0,o=v)})}]}var N9=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,BY,RY,dn,{path:5,index:6,onSelect:7,getItems:8},DY),i}return ne(n)}(),L9={exports:{}},u$=function(t,e){var n,r,i=1,o=0,s=0,a=String.alphabet;function u(l,f,c){if(c){for(n=f;(c=u(l,n))<76&&c>65;)++n;return+l.slice(f-1,n)}return(c=a&&a.indexOf(l.charAt(f)))>-1?c+76:(c=l.charCodeAt(f)||0)<45||c>127?c:c<46?65:c<48?c-1:c<58?c+18:c<65?c-11:c<91?c+11:c<97?c-37:c<123?c+5:c-63}if((t+="")!=(e+="")){for(;i;)if(r=u(t,o++),i=u(e,s++),r<76&&i<76&&r>66&&i>66&&(r=u(t,o,o),i=u(e,s,o=n),s=n),r!=i)return r<i?-1:1}return 0};try{L9.exports=u$}catch{String.naturalCompare=u$}function Ob(t,e){var n=typeof t=="string"?t.toLowerCase():t,r=typeof e=="string"?e.toLowerCase():e;return L9.exports(n,r)}function zY(t,e){return function(n,r){var i=Ae.exports.getIn(n,t),o=Ae.exports.getIn(r,t);return i===void 0?e:o===void 0?-e:typeof i!="string"&&typeof o!="string"?i>o?e:i<o?-e:0:e*Ob(i,o)}}function FY(t){zt(t,"svelte-5lwyke",".jse-navigation-bar.svelte-5lwyke.svelte-5lwyke{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-panel-background);color:var(--jse-panel-button-color);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-navigation-bar.svelte-5lwyke .jse-navigation-bar-space.svelte-5lwyke{padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);color:var(--jse-navigation-bar-color)}")}function l$(t,e,n){var r=t.slice();return r[12]=e[n],r[14]=n,r}function c$(t,e){var n,r,i;return r=new N9({props:{getItems:e[4],path:e[1],index:e[14],onSelect:e[5]}}),{key:t,first:null,c:function(){n=wn(),Le(r.$$.fragment),this.first=n},m:function(o,s){ye(o,n,s),Pe(r,o,s),i=!0},p:function(o,s){e=o;var a={};2&s&&(a.path=e[1]),2&s&&(a.index=e[14]),r.$set(a)},i:function(o){i||(Q(r.$$.fragment,o),i=!0)},o:function(o){re(r.$$.fragment,o),i=!1},d:function(o){o&&me(n),Me(r,o)}}}function f$(t){var e,n;return e=new N9({props:{getItems:t[4],path:t[1],index:void 0,onSelect:t[5]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};2&i&&(o.path=r[1]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function qY(t){for(var e,n,r,i,o,s,a=[],u=new Map,l=Er(t[0])?"\xA0":"Navigation bar",f=t[1],c=function(m){return m[14]},d=0;d<f.length;d+=1){var h=l$(t,f,d),p=c(h);u.set(p,a[d]=c$(p,h))}var v=t[3]&&f$(t);return{c:function(){e=oe("div");for(var m=0;m<a.length;m+=1)a[m].c();n=Ee(),v&&v.c(),r=Ee(),i=oe("div"),o=rt(l),P(i,"class","jse-navigation-bar-space svelte-5lwyke"),P(e,"class","jse-navigation-bar svelte-5lwyke")},m:function(m,g){ye(m,e,g);for(var y=0;y<a.length;y+=1)a[y].m(e,null);G(e,n),v&&v.m(e,null),G(e,r),G(e,i),G(i,o),t[9](e),s=!0},p:function(m,g){var y=Et(g,1)[0];50&y&&(f=m[1],Ke(),a=Ol(a,y,c,1,m,f,u,e,bf,c$,n,l$),Ge()),m[3]?v?(v.p(m,y),8&y&&Q(v,1)):((v=f$(m)).c(),Q(v,1),v.m(e,r)):v&&(Ke(),re(v,1,1,function(){v=null}),Ge()),(!s||1&y)&&l!==(l=Er(m[0])?"\xA0":"Navigation bar")&&on(o,l)},i:function(m){if(!s){for(var g=0;g<f.length;g+=1)Q(a[g]);Q(v),s=!0}},o:function(m){for(var g=0;g<a.length;g+=1)re(a[g]);re(v),s=!1},d:function(m){m&&me(e);for(var g=0;g<a.length;g+=1)a[g].d();v&&v.d(),t[9](null)}}}function VY(t,e,n){var r,i,o,s=Ji("jsoneditor:NavigationBar"),a=e.json,u=e.state,l=e.selection,f=e.onSelect;return t.$$set=function(c){"json"in c&&n(0,a=c.json),"state"in c&&n(6,u=c.state),"selection"in c&&n(7,l=c.selection),"onSelect"in c&&n(8,f=c.onSelect)},t.$$.update=function(){128&t.$$.dirty&&n(1,r=l?l.focusPath:[]),3&t.$$.dirty&&n(3,i=Er(Ae.exports.getIn(a,r))),2&t.$$.dirty&&setTimeout(function(){if(o&&o.scrollTo){var c=o.scrollWidth-o.clientWidth;c>0&&(s("scrollTo ",c),o.scrollTo({left:c,behavior:"smooth"}))}})},[a,r,o,i,function(c){s("get items for path",c);var d=Ae.exports.getIn(a,c);if(Array.isArray(d))return P1(0,d.length);if(Sr(d)){var h=(Ae.exports.getIn(u,c.concat(ho))||Object.keys(d)).slice(0);return h.sort(Ob),h}return[]},function(c){s("select path",JSON.stringify(c));var d=an(a,u,{type:Nt,anchorPath:c,focusPath:c});f(d)},u,l,f,function(c){tn[c?"unshift":"push"](function(){n(2,o=c)})}]}var HY=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,VY,qY,dn,{json:0,state:6,selection:7,onSelect:8},FY),i}return ne(n)}();function WY(t){zt(t,"svelte-18vllqh",".jse-search-box.svelte-18vllqh.svelte-18vllqh{border:var(--jse-panel-border);border-radius:3px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);box-shadow:var(--jse-controls-box-shadow);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-18vllqh .jse-search-form.svelte-18vllqh{display:flex;align-items:stretch}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh,.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{font-family:inherit;font-size:inherit}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color);background:var(--jse-panel-button-background)}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{color:var(--jse-panel-color);border:var(--jse-input-border);border-radius:3px;background:var(--jse-input-background);height:28px;padding:0 5px;margin:0;flex:1;outline:none}.jse-search-box.svelte-18vllqh .jse-search-form .jse-replace-toggle.svelte-18vllqh{padding:var(--jse-padding) calc(0.5 * var(--jse-padding));min-width:20px;background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents.svelte-18vllqh{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding));gap:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section.svelte-18vllqh{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-18vllqh{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding));left:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-18vllqh{flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-18vllqh{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-18vllqh{visibility:visible}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section.svelte-18vllqh{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section button.svelte-18vllqh{width:auto}")}function d$(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T,j,O,S,N,A=(t[3]!==-1?"".concat(t[3]+1,"/"):"")+"",$=!t[4]&&h$(t),q=[JY,UY],Y=[];function z(L,D){return L[2]?0:1}a=z(t),u=Y[a]=q[a](t),y=new Gt({props:{data:WV}}),w=new Gt({props:{data:UV}}),T=new Gt({props:{data:Pf}});var J=t[0]&&!t[4]&&p$(t);return{c:function(){e=oe("div"),n=oe("form"),$&&$.c(),r=Ee(),i=oe("div"),o=oe("div"),s=oe("div"),u.c(),l=Ee(),f=oe("label"),c=oe("input"),d=Ee(),h=oe("div"),p=rt(A),v=rt(t[10]),m=Ee(),g=oe("button"),Le(y.$$.fragment),b=Ee(),k=oe("button"),Le(w.$$.fragment),C=Ee(),_=oe("button"),Le(T.$$.fragment),j=Ee(),J&&J.c(),P(s,"class","jse-search-icon svelte-18vllqh"),P(c,"class","jse-search-input svelte-18vllqh"),P(c,"title","Enter text to search"),P(c,"type","text"),P(c,"placeholder","Find"),P(f,"class","jse-search-input-label svelte-18vllqh"),P(f,"about","jse-search input"),P(h,"class","jse-search-count svelte-18vllqh"),Ze(h,"jse-visible",t[8]!==""),P(g,"type","button"),P(g,"class","jse-search-next svelte-18vllqh"),P(g,"title","Go to next search result (Enter)"),P(k,"type","button"),P(k,"class","jse-search-previous svelte-18vllqh"),P(k,"title","Go to previous search result (Shift+Enter)"),P(_,"type","button"),P(_,"class","jse-search-clear svelte-18vllqh"),P(_,"title","Close search box (Esc)"),P(o,"class","jse-search-section svelte-18vllqh"),P(i,"class","jse-search-contents svelte-18vllqh"),P(n,"class","jse-search-form svelte-18vllqh"),P(e,"class","jse-search-box svelte-18vllqh")},m:function(L,D){ye(L,e,D),G(e,n),$&&$.m(n,null),G(n,r),G(n,i),G(i,o),G(o,s),Y[a].m(s,null),G(o,l),G(o,f),G(f,c),ma(c,t[8]),G(o,d),G(o,h),G(h,p),G(h,v),G(o,m),G(o,g),Pe(y,g,null),G(o,b),G(o,k),Pe(w,k,null),G(o,C),G(o,_),Pe(T,_,null),G(i,j),J&&J.m(i,null),O=!0,S||(N=[Fe(c,"input",t[21]),yf(GY.call(null,c)),Fe(g,"click",t[22]),Fe(k,"click",t[23]),Fe(_,"click",t[24]),Fe(n,"submit",t[12]),Fe(n,"keydown",t[13])],S=!0)},p:function(L,D){L[4]?$&&(Ke(),re($,1,1,function(){$=null}),Ge()):$?($.p(L,D),16&D&&Q($,1)):(($=h$(L)).c(),Q($,1),$.m(n,r));var U=a;(a=z(L))===U?Y[a].p(L,D):(Ke(),re(Y[U],1,1,function(){Y[U]=null}),Ge(),(u=Y[a])?u.p(L,D):(u=Y[a]=q[a](L)).c(),Q(u,1),u.m(s,null)),256&D&&c.value!==L[8]&&ma(c,L[8]),(!O||8&D)&&A!==(A=(L[3]!==-1?"".concat(L[3]+1,"/"):"")+"")&&on(p,A),(!O||1024&D)&&on(v,L[10]),256&D&&Ze(h,"jse-visible",L[8]!==""),L[0]&&!L[4]?J?J.p(L,D):((J=p$(L)).c(),J.m(i,null)):J&&(J.d(1),J=null)},i:function(L){O||(Q($),Q(u),Q(y.$$.fragment,L),Q(w.$$.fragment,L),Q(T.$$.fragment,L),O=!0)},o:function(L){re($),re(u),re(y.$$.fragment,L),re(w.$$.fragment,L),re(T.$$.fragment,L),O=!1},d:function(L){L&&me(e),$&&$.d(),Y[a].d(),Me(y),Me(w),Me(T),J&&J.d(),S=!1,rr(N)}}}function h$(t){var e,n,r,i,o;return n=new Gt({props:{data:t[0]?ts:oa}}),{c:function(){e=oe("button"),Le(n.$$.fragment),P(e,"type","button"),P(e,"class","jse-replace-toggle svelte-18vllqh"),P(e,"title","Toggle visibility of replace options (Ctrl+H)")},m:function(s,a){ye(s,e,a),Pe(n,e,null),r=!0,i||(o=Fe(e,"click",t[11]),i=!0)},p:function(s,a){var u={};1&a&&(u.data=s[0]?ts:oa),n.$set(u)},i:function(s){r||(Q(n.$$.fragment,s),r=!0)},o:function(s){re(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Me(n),i=!1,o()}}}function UY(t){var e,n;return e=new Gt({props:{data:H1}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function JY(t){var e,n;return e=new Gt({props:{data:JV,spin:!0}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function p$(t){var e,n,r,i,o,s,a,u;return{c:function(){e=oe("div"),n=oe("input"),r=Ee(),(i=oe("button")).textContent="Replace",o=Ee(),(s=oe("button")).textContent="All",P(n,"class","jse-replace-input svelte-18vllqh"),P(n,"title","Enter replacement text"),P(n,"type","text"),P(n,"placeholder","Replace"),P(i,"type","button"),P(i,"title","Replace current occurrence (Ctrl+Enter)"),P(i,"class","svelte-18vllqh"),P(s,"type","button"),P(s,"title","Replace all occurrences"),P(s,"class","svelte-18vllqh"),P(e,"class","jse-replace-section svelte-18vllqh")},m:function(l,f){ye(l,e,f),G(e,n),ma(n,t[9]),G(e,r),G(e,i),G(e,o),G(e,s),a||(u=[Fe(n,"input",t[25]),Fe(i,"click",t[14]),Fe(s,"click",t[15])],a=!0)},p:function(l,f){512&f&&n.value!==l[9]&&ma(n,l[9])},d:function(l){l&&me(e),a=!1,rr(u)}}}function KY(t){var e,n,r=t[1]&&d$(t);return{c:function(){r&&r.c(),e=wn()},m:function(i,o){r&&r.m(i,o),ye(i,e,o),n=!0},p:function(i,o){var s=Et(o,1)[0];i[1]?r?(r.p(i,s),2&s&&Q(r,1)):((r=d$(i)).c(),Q(r,1),r.m(e.parentNode,e)):r&&(Ke(),re(r,1,1,function(){r=null}),Ge())},i:function(i){n||(Q(r),n=!0)},o:function(i){re(r),n=!1},d:function(i){r&&r.d(i),i&&me(e)}}}function GY(t){t.select()}function QY(t,e,n){var r,i,o=e.show,s=o!==void 0&&o,a=e.searching,u=e.resultCount,l=u===void 0?0:u,f=e.activeIndex,c=f===void 0?0:f,d=e.showReplace,h=d!==void 0&&d,p=e.readOnly,v=p!==void 0&&p,m=e.onChange,g=m===void 0?fn:m,y=e.onPrevious,b=y===void 0?fn:y,k=e.onNext,w=k===void 0?fn:k,C=e.onReplace,_=C===void 0?fn:C,T=e.onReplaceAll,j=T===void 0?fn:T,O=e.onClose,S=O===void 0?fn:O,N="",A="",$="";function q(){n(0,h=!h&&!v)}function Y(){v||_(N,$)}return t.$$set=function(z){"show"in z&&n(1,s=z.show),"searching"in z&&n(2,a=z.searching),"resultCount"in z&&n(16,l=z.resultCount),"activeIndex"in z&&n(3,c=z.activeIndex),"showReplace"in z&&n(0,h=z.showReplace),"readOnly"in z&&n(4,v=z.readOnly),"onChange"in z&&n(17,g=z.onChange),"onPrevious"in z&&n(5,b=z.onPrevious),"onNext"in z&&n(6,w=z.onNext),"onReplace"in z&&n(18,_=z.onReplace),"onReplaceAll"in z&&n(19,j=z.onReplaceAll),"onClose"in z&&n(7,S=z.onClose)},t.$$.update=function(){65536&t.$$.dirty&&n(10,r=l>=1e3?"".concat(999,"+"):String(l)),131072&t.$$.dirty&&n(20,i=Rl(g,300)),1048832&t.$$.dirty&&i(N),2&t.$$.dirty&&s&&N!==""&&g(N)},[h,s,a,c,v,b,w,S,N,$,r,q,function(z){z.preventDefault(),N!==A?(A=N,i.cancel(),g(N)):w()},function(z){z.stopPropagation();var J=Fl(z);J==="Enter"&&(z.preventDefault(),w()),J==="Shift+Enter"&&(z.preventDefault(),b()),J!=="Ctrl+Enter"&&J!=="Command+Enter"||(z.preventDefault(),h?Y():w()),J==="Ctrl+H"&&(z.preventDefault(),q()),J==="Escape"&&(z.preventDefault(),S())},Y,function(){v||j(N,$)},l,g,_,j,i,function(){N=this.value,n(8,N)},function(){return w()},function(){return b()},function(){return S()},function(){$=this.value,n(9,$)}]}var YY=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,QY,KY,dn,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},WY),i}return ne(n)}(),XY=jy.window;function ZY(t){zt(t,"svelte-1wno2xw",".jse-tree-mode.svelte-1wno2xw.svelte-1wno2xw{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label.svelte-1wno2xw{position:absolute;right:0;top:0;width:0;height:0}.jse-tree-mode.svelte-1wno2xw .jse-hidden-input-label .jse-hidden-input.svelte-1wno2xw{width:0;height:0;padding:0;border:0;outline:none}.jse-tree-mode.svelte-1wno2xw .jse-search-box-container.svelte-1wno2xw{position:relative;height:0;top:var(--jse-padding);margin-right:calc(var(--jse-padding) + 20px);margin-left:var(--jse-padding);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-1wno2xw.svelte-1wno2xw{border-top:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw{border-left:var(--jse-main-border);border-right:var(--jse-main-border);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-1wno2xw .jse-contents.svelte-1wno2xw:last-child{border-bottom:var(--jse-main-border)}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading-space.svelte-1wno2xw{flex:1}.jse-tree-mode.svelte-1wno2xw .jse-contents .jse-loading.svelte-1wno2xw{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-tree-mode.svelte-1wno2xw .jse-preview.svelte-1wno2xw{flex:1;color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;padding:2px}")}function v$(t){var e,n,r;function i(s){t[72](s)}var o={json:t[7],selection:t[9],readOnly:t[0],historyState:t[20],onExpandAll:t[39],onCollapseAll:t[40],onUndo:t[35],onRedo:t[36],onSort:t[37],onTransform:t[38],onContextMenu:t[44],onCopy:t[33],onRenderMenu:t[4]};return t[16]!==void 0&&(o.showSearch=t[16]),e=new AY({props:o}),tn.push(function(){return Ni(e,"showSearch",i)}),{c:function(){Le(e.$$.fragment)},m:function(s,a){Pe(e,s,a),r=!0},p:function(s,a){var u={};128&a[0]&&(u.json=s[7]),512&a[0]&&(u.selection=s[9]),1&a[0]&&(u.readOnly=s[0]),1048576&a[0]&&(u.historyState=s[20]),16&a[0]&&(u.onRenderMenu=s[4]),!n&&65536&a[0]&&(n=!0,u.showSearch=s[16],io(function(){return n=!1})),e.$set(u)},i:function(s){r||(Q(e.$$.fragment,s),r=!0)},o:function(s){re(e.$$.fragment,s),r=!1},d:function(s){Me(e,s)}}}function m$(t){var e,n;return e=new HY({props:{json:t[7],state:t[14],selection:t[9],onSelect:t[47]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};128&i[0]&&(o.json=r[7]),16384&i[0]&&(o.state=r[14]),512&i[0]&&(o.selection=r[9]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function eX(t){var e;return{c:function(){(e=oe("div")).innerHTML=`<div class="jse-loading-space svelte-1wno2xw"></div> 
      <div class="jse-loading svelte-1wno2xw">loading...</div>`,P(e,"class","jse-contents svelte-1wno2xw")},m:function(n,r){ye(n,e,r)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e)}}}function tX(t){var e,n,r,i,o,s,a,u,l,f=[rX,nX],c=[];function d(h,p){return h[7]===void 0?0:1}return i=d(t),o=c[i]=f[i](t),{c:function(){e=oe("label"),n=oe("input"),r=Ee(),o.c(),s=wn(),P(n,"class","jse-hidden-input svelte-1wno2xw"),P(n,"tabindex","-1"),P(e,"class","jse-hidden-input-label svelte-1wno2xw")},m:function(h,p){ye(h,e,p),G(e,n),t[73](n),ye(h,r,p),c[i].m(h,p),ye(h,s,p),a=!0,u||(l=Fe(n,"paste",t[34]),u=!0)},p:function(h,p){var v=i;(i=d(h))===v?c[i].p(h,p):(Ke(),re(c[v],1,1,function(){c[v]=null}),Ge(),(o=c[i])?o.p(h,p):(o=c[i]=f[i](h)).c(),Q(o,1),o.m(s.parentNode,s))},i:function(h){a||(Q(o),a=!0)},o:function(h){re(o),a=!1},d:function(h){h&&me(e),t[73](null),h&&me(r),c[i].d(h),h&&me(s),u=!1,l()}}}function nX(t){var e,n,r,i,o,s,a,u,l,f;n=new YY({props:{show:t[16],resultCount:t[19]?t[19].count:0,activeIndex:t[19]?t[19].activeIndex:0,showReplace:t[17],searching:t[18],readOnly:t[0],onChange:t[26],onNext:t[27],onPrevious:t[28],onReplace:t[29],onReplaceAll:t[30],onClose:t[31]}}),o=new Ab({props:{value:t[7],path:t[25],state:t[14],selection:t[23],searchResult:t[19]&&t[19].itemsWithActive,validationErrors:t[22],context:t[10],onDragSelectionStart:fn}});var c=t[15]&&g$(t),d=t[21]&&y$(t);return l=new nM({props:{validationErrors:t[11],selectError:t[32]}}),{c:function(){e=oe("div"),Le(n.$$.fragment),r=Ee(),i=oe("div"),Le(o.$$.fragment),s=Ee(),c&&c.c(),a=Ee(),d&&d.c(),u=Ee(),Le(l.$$.fragment),P(e,"class","jse-search-box-container svelte-1wno2xw"),P(i,"class","jse-contents svelte-1wno2xw"),P(i,"data-jsoneditor-scrollable-contents",!0)},m:function(h,p){ye(h,e,p),Pe(n,e,null),ye(h,r,p),ye(h,i,p),Pe(o,i,null),t[74](i),ye(h,s,p),c&&c.m(h,p),ye(h,a,p),d&&d.m(h,p),ye(h,u,p),Pe(l,h,p),f=!0},p:function(h,p){var v={};65536&p[0]&&(v.show=h[16]),524288&p[0]&&(v.resultCount=h[19]?h[19].count:0),524288&p[0]&&(v.activeIndex=h[19]?h[19].activeIndex:0),131072&p[0]&&(v.showReplace=h[17]),262144&p[0]&&(v.searching=h[18]),1&p[0]&&(v.readOnly=h[0]),n.$set(v);var m={};128&p[0]&&(m.value=h[7]),16384&p[0]&&(m.state=h[14]),8388608&p[0]&&(m.selection=h[23]),524288&p[0]&&(m.searchResult=h[19]&&h[19].itemsWithActive),4194304&p[0]&&(m.validationErrors=h[22]),1024&p[0]&&(m.context=h[10]),o.$set(m),h[15]?c?(c.p(h,p),32768&p[0]&&Q(c,1)):((c=g$(h)).c(),Q(c,1),c.m(a.parentNode,a)):c&&(Ke(),re(c,1,1,function(){c=null}),Ge()),h[21]?d?(d.p(h,p),2097152&p[0]&&Q(d,1)):((d=y$(h)).c(),Q(d,1),d.m(u.parentNode,u)):d&&(Ke(),re(d,1,1,function(){d=null}),Ge());var g={};2048&p[0]&&(g.validationErrors=h[11]),l.$set(g)},i:function(h){f||(Q(n.$$.fragment,h),Q(o.$$.fragment,h),Q(c),Q(d),Q(l.$$.fragment,h),f=!0)},o:function(h){re(n.$$.fragment,h),re(o.$$.fragment,h),re(c),re(d),re(l.$$.fragment,h),f=!1},d:function(h){h&&me(e),Me(n),h&&me(r),h&&me(i),Me(o),t[74](null),h&&me(s),c&&c.d(h),h&&me(a),d&&d.d(h),h&&me(u),Me(l,h)}}}function rX(t){var e,n,r,i,o=[oX,iX],s=[];function a(u,l){return u[8]===""||u[8]===void 0?0:1}return e=a(t),n=s[e]=o[e](t),{c:function(){n.c(),r=wn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),i=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ke(),re(s[f],1,1,function(){s[f]=null}),Ge(),(n=s[e])?n.p(u,l):(n=s[e]=o[e](u)).c(),Q(n,1),n.m(r.parentNode,r))},i:function(u){i||(Q(n),i=!0)},o:function(u){re(n),i=!1},d:function(u){s[e].d(u),u&&me(r)}}}function g$(t){var e,n;return e=new Au({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(t[15].contents)?"array":"object"," as text"),actions:[{icon:U1,text:"Paste as JSON instead",onMouseDown:t[45]},{text:"Leave as is",onClick:t[46]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};32768&i[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(r[15].contents)?"array":"object"," as text")),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function y$(t){var e,n;return e=new Au({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:t[0]?[]:[{icon:Wg,text:"Ok",onClick:t[5]},{icon:Bh,text:"Repair manually instead",onClick:t[3]}]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};9&i[0]&&(o.actions=r[0]?[]:[{icon:Wg,text:"Ok",onClick:r[5]},{icon:Bh,text:"Repair manually instead",onClick:r[3]}]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function iX(t){var e,n,r,i,o;return e=new Au({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:t[0]?[]:[{icon:Bh,text:"Repair manually",onClick:t[3]}]}}),{c:function(){Le(e.$$.fragment),n=Ee(),r=oe("div"),i=rt(t[8]),P(r,"class","jse-preview svelte-1wno2xw")},m:function(s,a){Pe(e,s,a),ye(s,n,a),ye(s,r,a),G(r,i),o=!0},p:function(s,a){var u={};9&a[0]&&(u.actions=s[0]?[]:[{icon:Bh,text:"Repair manually",onClick:s[3]}]),e.$set(u),(!o||256&a[0])&&on(i,s[8])},i:function(s){o||(Q(e.$$.fragment,s),o=!0)},o:function(s){re(e.$$.fragment,s),o=!1},d:function(s){Me(e,s),s&&me(n),s&&me(r)}}}function oX(t){var e,n;return e=new PY({props:{readOnly:t[0]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1&i[0]&&(o.readOnly=r[0]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function sX(t){var e,n,r,i,o,s,a,u,l=t[1]&&v$(t),f=t[2]&&m$(t),c=[tX,eX],d=[];return i=function(h,p){return h[24]?1:0}(t),o=d[i]=c[i](t),{c:function(){e=oe("div"),l&&l.c(),n=Ee(),f&&f.c(),r=Ee(),o.c(),P(e,"class","jse-tree-mode svelte-1wno2xw"),Ze(e,"no-main-menu",!t[1])},m:function(h,p){ye(h,e,p),l&&l.m(e,null),G(e,n),f&&f.m(e,null),G(e,r),d[i].m(e,null),t[75](e),s=!0,a||(u=[Fe(XY,"mousedown",t[48]),Fe(e,"keydown",t[41]),Fe(e,"mousedown",t[42]),Fe(e,"contextmenu",t[43])],a=!0)},p:function(h,p){h[1]?l?(l.p(h,p),2&p[0]&&Q(l,1)):((l=v$(h)).c(),Q(l,1),l.m(e,n)):l&&(Ke(),re(l,1,1,function(){l=null}),Ge()),h[2]?f?(f.p(h,p),4&p[0]&&Q(f,1)):((f=m$(h)).c(),Q(f,1),f.m(e,r)):f&&(Ke(),re(f,1,1,function(){f=null}),Ge()),o.p(h,p),2&p[0]&&Ze(e,"no-main-menu",!h[1])},i:function(h){s||(Q(l),Q(f),Q(o),s=!0)},o:function(h){re(l),re(f),re(o),s=!1},d:function(h){h&&me(e),l&&l.d(),f&&f.d(),d[i].d(),t[75](null),a=!1,rr(u)}}}function Gs(t){return t.length<1||t.length===1&&t[0]===0}function Bd(){return!0}function aX(t,e,n){var r,i,o,s,a,u,l=Ji("jsoneditor:TreeMode"),f=typeof window>"u";l("isSSR:",f);var c,d,h,p,v,m=Si("simple-modal").open,g=Po(),y=Po(),b=Si("absolute-popup"),k=b.openAbsolutePopup,w=b.closeAbsolutePopup,C=!1,_=BG(),T=e.readOnly,j=T!==void 0&&T,O=e.externalContent,S=e.mainMenuBar,N=S===void 0||S,A=e.navigationBar,$=A===void 0||A,q=e.escapeControlCharacters,Y=q!==void 0&&q,z=e.escapeUnicodeCharacters,J=z!==void 0&&z,L=e.validator,D=L===void 0?null:L,U=e.indentation,W=U===void 0?2:U,F=e.onError,E=e.onChange,x=e.onRenderValue,M=e.onRequestRepair,K=M===void 0?fn:M,se=e.onRenderMenu,we=se===void 0?fn:se,je=e.onClassName,R=e.onFocus,H=e.onBlur,I=e.onSortModal,B=e.onTransformModal,Z=!1;J1({onMount:fo,onDestroy:ga,getWindow:function(){return fl(h)},hasFocus:function(){return Z&&document.hasFocus()||Rh(h)},onFocus:function(){C=!0,R&&R()},onBlur:function(){C=!1,H&&H()}});var le,X=si({},void 0,[],Gs),V=null;function _e(ae){return r4({json:ae},10240)?Gs:Bd}var Se,xe=!1,he=!1,fe=!1,ke="";function Oe(ae){return De.apply(this,arguments)}function De(){return(De=Nn(jt().mark(function ae(Ce){return jt().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return l("search text updated",Ce),n(69,ke=Ce),Ie.next=4,vr();case 4:return Ie.next=6,Rt(Se&&Se.activeItem);case 6:case"end":return Ie.stop()}},ae)}))).apply(this,arguments)}function Ve(){return(Ve=Nn(jt().mark(function ae(){return jt().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return n(19,Se=Se&&qG(Se)),Ce.next=3,Rt(Se&&Se.activeItem);case 3:case"end":return Ce.stop()}},ae)}))).apply(this,arguments)}function pe(){return(pe=Nn(jt().mark(function ae(){return jt().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return n(19,Se=Se&&VG(Se)),Ce.next=3,Rt(Se&&Se.activeItem);case 3:case"end":return Ce.stop()}},ae)}))).apply(this,arguments)}function He(){return(He=Nn(jt().mark(function ae(Ce,Ie){var Re,qe,Ye,it;return jt().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(Re=Se.activeItem,l("handleReplace",{replacementText:Ie,activeItem:Re}),Se&&Re){ut.next=4;break}return ut.abrupt("return");case 4:return qe=HG(p,X,Ie,Re),Ye=qe.operations,it=qe.newSelection,Rr(Ye,function(){return{selection:it}}),ut.next=8,vr();case 8:return ut.next=10,Rt(Se&&Se.activeItem);case 10:case"end":return ut.stop()}},ae)}))).apply(this,arguments)}function st(){return(st=Nn(jt().mark(function ae(Ce,Ie){var Re,qe,Ye;return jt().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return l("handleReplaceAll",{text:Ce,replacementText:Ie}),Re=WG(p,X,Ce,Ie),qe=Re.operations,Ye=Re.newSelection,Rr(qe,function(){return{selection:Ye}}),it.next=5,vr();case 5:return it.next=7,Rt(Se&&Se.activeItem);case 7:case"end":return it.stop()}},ae)}))).apply(this,arguments)}function Rt(ae){return hn.apply(this,arguments)}function hn(){return(hn=Nn(jt().mark(function ae(Ce){var Ie;return jt().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(!Ce){Re.next=8;break}return Ie=Ce.path,n(14,X=W4(p,X,Ie)),n(9,V=null),Re.next=6,vr();case 6:return Re.next=8,bs(Ie);case 8:case"end":return Re.stop()}},ae)}))).apply(this,arguments)}var ie=N1(function(){ke!==""?(n(18,fe=!0),setTimeout(function(){l("searching...",ke);var ae=O9(ke,p,X,1e3);n(19,Se=FG(p,ae,Se)),n(18,fe=!1)})):n(19,Se=void 0)},300),de=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=ae.maxItems||1e3,Ie=[],Re=0;function qe(){return Re<Ie.length}function Ye(){return Re>0}function it(){return{canUndo:qe(),canRedo:Ye(),length:Ie.length}}function ut(){ae.onChange&&ae.onChange(it())}function Lt(gr){Ie=[gr].concat(Ie.slice(Re)).slice(0,Ce),Re=0,ut()}function Xt(){Ie=[],Re=0,ut()}function An(){if(qe()){var gr=Ie[Re];return Re+=1,ut(),gr}}function zn(){if(Ye())return Re-=1,ut(),Ie[Re]}return{add:Lt,clear:Xt,getState:it,undo:An,redo:zn}}({onChange:function(ae){n(20,ge=ae)}}),ge=de.getState(),be=!1;function Te(ae){ae.json!==void 0&&function(Ce){if(Ce!==void 0){var Ie=!$n(p,Ce),Re=p===void 0;if(l("update external json",{isChanged:Ie,isText:Re}),!!Ie){var qe=X,Ye=p,it=v,ut=be,Lt=V;n(7,p=Ce),n(14,X=si(p,qe,[],_e(p),!1)),n(8,v=void 0),n(21,be=!1),n(9,V=Je(V,p)),ct({previousJson:Ye,previousState:qe,previousText:it,previousTextIsRepaired:ut,previousSelection:Lt}),ie()}}}(ae.json),ae.text!==void 0&&function(Ce){if(!(Ce===void 0||O.json!==void 0)&&Ce!==v){l("update external text");var Ie=p,Re=X,qe=v,Ye=be,it=V;try{n(7,p=JSON.parse(Ce)),n(14,X=si(p,Re,[],_e(p),!1)),n(8,v=Ce),n(21,be=!1),n(9,V=Je(V,p))}catch{try{n(7,p=JSON.parse(la(Ce))),n(14,X=si(p,Re,[],_e(p),!1)),n(8,v=Ce),n(21,be=!0),n(9,V=Je(V,p))}catch{n(7,p=void 0),n(14,X=void 0),n(8,v=O.text),n(21,be=!1),n(9,V=Je(V,p))}}V||p!==void 0||v!==""&&v!==void 0||n(9,V=kt()),ct({previousJson:Ie,previousState:Re,previousText:qe,previousTextIsRepaired:Ye,previousSelection:it}),ie()}}(ae.text)}function Je(ae,Ce){return ae&&Ae.exports.existsIn(Ce,ae.anchorPath)&&Ae.exports.existsIn(Ce,ae.focusPath)?ae:(l("clearing selection: path does not exist anymore"),null)}function ct(ae){var Ce=ae.previousJson,Ie=ae.previousState,Re=ae.previousText,qe=ae.previousTextIsRepaired,Ye=ae.previousSelection;Ce===void 0&&Re===void 0||(p!==void 0?Ce!==void 0?de.add({undo:{patch:[{op:"replace",path:"",value:Ce}],state:Ie,text:Re,textIsRepaired:qe,selection:Ks(Ye)},redo:{patch:[{op:"replace",path:"",value:p}],state:X,text:v,textIsRepaired:be,selection:Ks(V)}}):de.add({undo:{state:Ie,text:Re,textIsRepaired:qe,selection:Ks(Ye)},redo:{json:p,state:X,text:v,textIsRepaired:be,selection:Ks(V)}}):Ce!==void 0&&de.add({undo:{json:Ce,state:Ie,text:Re,textIsRepaired:qe,selection:Ks(Ye)},redo:{text:v,textIsRepaired:be,state:X,selection:Ks(V)}}))}function kt(){return an(p||{},X,{type:Nt,anchorPath:[],focusPath:[]})}function $e(ae,Ce){if(p===void 0)throw new Error("Cannot apply patch: no JSON");var Ie=p,Re=X,qe=v,Ye=be,it=V;l("patch",ae,Ce);var ut=Ae.exports.revertJSONPatch(p,ae),Lt=BP(p,X,ae),Xt=typeof Ce=="function"?Ce(Lt.json,Lt.state,V):void 0;return n(7,p=Xt&&Xt.json!==void 0?Xt.json:Lt.json),n(14,X=Xt&&Xt.state!==void 0?Xt.state:Lt.state),n(8,v=void 0),n(21,be=!1),n(9,V=Xt&&Xt.selection?Xt.selection:cl(Ie,0,ae)),n(9,V=Je(V,p)),de.add({undo:{patch:ut,state:Re,text:qe,textIsRepaired:Ye,selection:Ks(it)},redo:{patch:ae,state:X,text:v,textIsRepaired:be,selection:Ks(V)}}),{json:p,previousJson:Ie,undo:ut,redo:ae}}function tt(){return V&&(V.type===Nt||V.type===bn||V.type===bt)}function mt(){!j&&V&&n(9,V=an(p,X,{type:bn,path:V.focusPath,edit:!0}))}function at(){!j&&V&&n(9,V=an(p,X,{type:bt,path:V.focusPath,edit:!0}))}function gt(){if(!j&&V&&V.type===bt){var ae=V.focusPath,Ce=ae.concat(Di),Ie=!Ae.exports.getIn(X,Ce);n(14,X=Ae.exports.setIn(X,Ce,Ie,!0));var Re=Ae.exports.getIn(p,ae),qe=Ie?String(Re):kf(Re);qe!==Re&&Rr([{op:"replace",path:Ae.exports.compileJSONPointer(ae),value:qe}])}}function Pt(){return wt.apply(this,arguments)}function wt(){return(wt=Nn(jt().mark(function ae(){var Ce,Ie,Re,qe,Ye,it=arguments;return jt().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(Ce=!(it.length>0&&it[0]!==void 0)||it[0],!j&&tt()){ut.next=3;break}return ut.abrupt("return");case 3:if((Ie=Y4(p,V,Ce?W:null))!=null){ut.next=7;break}return ut.abrupt("return");case 7:return l("cut",{selection:V,clipboard:Ie,indent:Ce}),ut.prev=8,ut.next=11,navigator.clipboard.writeText(Ie);case 11:ut.next=16;break;case 13:ut.prev=13,ut.t0=ut.catch(8),F(ut.t0);case 16:Re=f5(p,X,V),qe=Re.operations,Ye=Re.newSelection,Rr(qe,function(){return{selection:Ye}});case 18:case"end":return ut.stop()}},ae,null,[[8,13]])}))).apply(this,arguments)}function Mt(){return Ft.apply(this,arguments)}function Ft(){return(Ft=Nn(jt().mark(function ae(){var Ce,Ie,Re=arguments;return jt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(Ce=!(Re.length>0&&Re[0]!==void 0)||Re[0],(Ie=Y4(p,V,Ce?W:null))!=null){qe.next=5;break}return qe.abrupt("return");case 5:return l("copy",{clipboard:Ie,indent:Ce}),qe.prev=6,qe.next=9,navigator.clipboard.writeText(Ie);case 9:qe.next=14;break;case 11:qe.prev=11,qe.t0=qe.catch(6),F(qe.t0);case 14:case"end":return qe.stop()}},ae,null,[[6,11]])}))).apply(this,arguments)}function qt(){m(XG,{},dt(dt({},qu),{},{styleWindow:dt(dt({},qu.styleWindow),{},{width:"450px"})}),{onClose:function(){return setTimeout(R)}})}function We(ae){if(p!==void 0){var Ce=V||kt(),Ie=c5(p,X,Ce,ae);l("paste",{clipboardText:ae,operations:Ie,selectionOrDefault:Ce}),Rr(Ie,function(Re,qe){var Ye=qe;return Ie.filter(function(it){return Er(it.value)}).forEach(function(it){var ut=cu(p,it.path);Ye=go(Re,Ye,ut)}),{state:Ye}})}else l("paste text",{clipboardText:ae}),function(Re,qe){var Ye=X,it=p,ut=v,Lt={json:p,text:v},Xt=be,An=V;try{n(7,p=JSON.parse(Re)),n(14,X=si(p,Ye,[],Gs)),n(8,v=void 0),n(21,be=!1)}catch{try{n(7,p=JSON.parse(la(Re))),n(14,X=si(p,Ye,[],Gs)),n(8,v=Re),n(21,be=!0)}catch{n(7,p=void 0),n(14,X=si(p,zg(p),[],Gs)),n(8,v=Re),n(21,be=!1)}}if(typeof qe=="function"){var zn=qe(p,X,V);n(7,p=zn&&zn.json?zn.json:p),n(14,X=zn&&zn.state?zn.state:X),n(9,V=zn&&zn.selection?zn.selection:V)}n(9,V=Je(V,p)),ct({previousJson:it,previousState:Ye,previousText:ut,previousTextIsRepaired:Xt,previousSelection:An}),Hs(Lt,null)}(ae,function(Re,qe){if(Re)return{state:go(Re,qe,[])}})}function hr(){if(!j&&V){var ae=V.type===bn||V.type===bt?an(p,X,{type:Nt,anchorPath:V.anchorPath,focusPath:V.focusPath}):V;if(Kn(V.focusPath))l("remove root",{selection:V}),E({text:"",json:void 0},{text:v,json:p},null);else{var Ce=f5(p,X,ae),Ie=Ce.operations,Re=Ce.newSelection;l("remove",{operations:Ie,selection:V,newSelection:Re}),Rr(Ie,function(){return{selection:Re}})}}}function yn(){j||!tt()||Kn(V.focusPath)||(l("duplicate",{selection:V}),Rr(function(ae,Ce,Ie){var Re=pt(Ie);if(Kn(Re))throw new Error("Cannot duplicate root object");var qe=Zt(Re),Ye=pt(Re),it=Ae.exports.getIn(ae,qe);if(Array.isArray(it)){var ut=pt(Ie),Lt=ut?parseInt(pt(ut),10)+1:0;return nn(Ie.map(function(zn,gr){return{op:"copy",from:Ae.exports.compileJSONPointer(zn),path:Ae.exports.compileJSONPointer(qe.concat(gr+Lt))}}))}var Xt=Yr(Ce,qe),An=bv(Xt,Ye,!1);return[].concat(nn(Ie.map(function(zn){var gr=Ff(pt(zn),Xt);return{op:"copy",from:Ae.exports.compileJSONPointer(zn),path:Ae.exports.compileJSONPointer(qe.concat(gr))}})),nn(An.map(function(zn){return bl(qe,zn)})))}(p,X,V.paths||[V.focusPath])))}function sn(){j||!V||V.type!==Nt&&V.type!==bt||Kn(V.focusPath)||(l("extract",{selection:V}),Rr(function(ae,Ce,Ie){if(Ie.type===bt)return[{op:"move",from:Ae.exports.compileJSONPointer(Ie.focusPath),path:""}];if(Ie.type===Nt){var Re=Zt(Ie.focusPath),qe=Ae.exports.getIn(ae,Re);if(Array.isArray(qe))return[{op:"replace",path:"",value:Ie.paths.map(function(it){var ut=pt(it);return qe[ut]})}];var Ye={};return Ie.paths.forEach(function(it){var ut=pt(it);Ye[ut]=qe[ut]}),[{op:"replace",path:"",value:Ye}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(Ie))}(p,0,V),function(ae,Ce){if(Er(ae))return{state:go(ae,Ce,[])}}),ur())}function pn(ae){if(!j&&V){var Ce=function(it,ut,Lt){if(Lt==="object")return{};if(Lt==="array")return[];if(Lt==="structure"){var Xt=FP(ut),An=Ae.exports.getIn(it,Xt);if(Array.isArray(An)&&!Kn(An)){var zn=br(An);return Er(zn)?e1(zn,function(gr){return Array.isArray(gr)?[]:Sr(gr)?void 0:""}):""}}return""}(p,V,ae);if(p!==void 0){var Ie=JSON.stringify(Ce),Re=c5(p,X,V,Ie);l("handleInsert",{type:ae,operations:Re,newValue:Ce,data:Ie});var qe=pt(Re.filter(function(it){return it.op==="add"||it.op==="replace"}));Rr(Re,function(it,ut){if(qe){var Lt=cu(it,qe.path);return Er(Ce)?{state:nm(it,ut,Lt,Bd),selection:an(it||{},ut,{type:$r,path:Lt})}:Ce===""?{selection:an(it,ut,{type:Sr(Kn(Lt)?null:Ae.exports.getIn(it,Zt(Lt)))?bn:bt,path:Lt,edit:!0})}:void 0}}),qe&&(ur(),Ce===""&&vr().then(function(){setTimeout(function(){return Oi("",!0)})}))}else{l("handleInsert",{type:ae,newValue:Ce});var Ye=[];Wl(Ce,function(it,ut){return{state:go(it,ut,Ye),selection:an(it,ut,{type:$r,path:Ye})}}),ur()}}}function _r(ae){V.type===bn&&n(9,V=an(p,X,{type:bt,path:V.focusPath})),pn(ae)}function Dr(ae){if(!j&&V)if(Xd(V))try{var Ce=V.anchorPath,Ie=Ae.exports.getIn(p,Ce),Re=function(Ye,it){if(it==="array"){if(Array.isArray(Ye))return Ye;if(Sr(Ye))return n4(Ye);if(typeof Ye=="string"){var ut=JSON.parse(Ye);if(Array.isArray(ut))return ut;if(Sr(ut))return n4(ut)}}if(it==="object"){if(Array.isArray(Ye))return t4(Ye);if(Sr(Ye))return Ye;if(typeof Ye=="string"){var Lt=JSON.parse(Ye);if(Sr(Lt))return Lt;if(Array.isArray(Lt))return t4(Lt)}}if(it==="value")return Er(Ye)?JSON.stringify(Ye):Ye;throw new Error("Cannot convert ".concat(Ay(Ye)," to ").concat(it))}(Ie,ae);if(Re===Ie)return;var qe=[{op:"replace",path:Ae.exports.compileJSONPointer(Ce),value:Re}];l("handleConvert",{selection:V,path:Ce,type:ae,operations:qe}),Rr(qe,function(Ye,it){return{state:go(Ye,it,V.focusPath)}}),ur()}catch(Ye){F(Ye)}else F(new Error("Cannot convert current selection to ".concat(ae)))}function Pn(){var ae=K4(p,X,V,!1),Ce=Zt(V.focusPath);!Kn(ae.focusPath)&&$n(Ce,Zt(ae.focusPath))?n(9,V=an(p,X,{type:ei,path:ae.focusPath})):n(9,V=an(p,X,{type:$r,path:Ce})),l("insert before",{selection:V,selectionBefore:ae,parentPath:Ce}),vr().then(yo)}function Ki(){var ae=V.paths?pt(V.paths):V.focusPath;l("insert after",ae),n(9,V=an(p,X,{type:ei,path:ae})),vr().then(yo)}function Oi(ae,Ce){var Ie=fl(h).document.activeElement;Ie.isContentEditable&&(Ie.textContent=Ce?ae:Ie.textContent+ae,QP(Ie))}function Bn(ae){return ht.apply(this,arguments)}function ht(){return(ht=Nn(jt().mark(function ae(Ce){var Ie,Re;return jt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!j&&V){qe.next=2;break}return qe.abrupt("return");case 2:if(V.type!==bn){qe.next=9;break}return Ie=!V.edit,n(9,V=dt(dt({},V),{},{edit:!0})),qe.next=7,vr();case 7:return setTimeout(function(){return Oi(Ce,Ie)}),qe.abrupt("return");case 9:if(Ce!=="{"){qe.next=13;break}pn("object"),qe.next=28;break;case 13:if(Ce!=="["){qe.next=17;break}pn("array"),qe.next=28;break;case 17:if(V.type!==bt){qe.next=26;break}if(Er(Ae.exports.getIn(p,V.focusPath))){qe.next=24;break}return Re=!V.edit,n(9,V=dt(dt({},V),{},{edit:!0})),qe.next=23,vr();case 23:setTimeout(function(){return Oi(Ce,Re)});case 24:qe.next=28;break;case 26:return qe.next=28,Kt(Ce);case 28:case"end":return qe.stop()}},ae)}))).apply(this,arguments)}function Kt(ae){return Gi.apply(this,arguments)}function Gi(){return(Gi=Nn(jt().mark(function ae(Ce){var Ie,Re,qe;return jt().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(!j&&V){Ye.next=2;break}return Ye.abrupt("return");case 2:return pn("value"),Ie=!V.edit,Re=V.focusPath,qe=Ae.exports.getIn(p,Zt(Re)),n(9,V=an(p,X,{type:Array.isArray(qe)||!qe||V.type===bt?bt:bn,path:Re,edit:!0})),Ye.next=9,vr();case 9:setTimeout(function(){return Oi(Ce,Ie)});case 10:case"end":return Ye.stop()}},ae)}))).apply(this,arguments)}function Ei(){if(!j&&de.getState().canUndo){var ae=de.undo();if(ae){var Ce={json:p,text:v};n(9,V=ae.undo.selection),n(7,p=ae.undo.patch?Ae.exports.immutableJSONPatch(p,ae.undo.patch):ae.undo.json),n(14,X=ae.undo.state),n(8,v=ae.undo.text),n(21,be=ae.undo.textIsRepaired),l("undo",{item:ae,json:p,state:X,selection:V}),Hs(Ce,{json:p,previousJson:Ce.json,redo:ae.undo.patch,undo:ae.redo.patch}),ur(),V&&bs(V.focusPath)}}}function Ur(){if(!j&&de.getState().canRedo){var ae=de.redo();if(ae){var Ce={json:p,text:v};n(9,V=ae.redo.selection),n(7,p=ae.redo.patch?Ae.exports.immutableJSONPatch(p,ae.redo.patch):ae.redo.json),n(14,X=ae.redo.state),n(8,v=ae.redo.text),n(21,be=ae.redo.textIsRepaired),l("redo",{item:ae,json:p,state:X,selection:V}),Hs(Ce,{json:p,previousJson:Ce.json,redo:ae.redo.patch,undo:ae.undo.patch}),ur(),V&&bs(V.focusPath)}}}function Vl(ae){var Ce;j||(Z=!0,I({id:g,json:p,selectedPath:ae,onSort:(Ce=Nn(jt().mark(function Ie(Re){return jt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:l("onSort",ae,Re),Rr(Re,function(Ye,it){return{state:go(Ye,it,ae),selection:an(Ye,it,{type:bt,path:ae})}});case 2:case"end":return qe.stop()}},Ie)})),function(Ie){return Ce.apply(this,arguments)}),onClose:function(){Z=!1,ur()}}))}function Hf(){V&&Vl(Q4(p,V))}function Na(ae){var Ce=ae.id,Ie=ae.selectedPath,Re=ae.onTransform,qe=ae.onClose;Z=!0,B({id:Ce||y,json:p,selectedPath:Ie,onTransform:Re?function(Ye){Re({operations:Ye,json:p,transformedJson:Ae.exports.immutableJSONPatch(p,Ye)})}:function(Ye){l("onTransform",Ie,Ye),Rr(Ye,function(it,ut){return{state:go(it,ut,Ie),selection:an(it,ut,{type:bt,path:Ie})}})},onClose:function(){Z=!1,ur(),qe&&qe()}})}function Wf(){V&&Na({selectedPath:Q4(p,V)})}function bs(ae){return Hl.apply(this,arguments)}function Hl(){return(Hl=Nn(jt().mark(function ae(Ce){var Ie,Re;return jt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return n(14,X=W4(p,X,Ce)),qe.next=3,vr();case 3:(Ie=Vs(Ce))&&(l("scrollTo",{path:Ce,elem:Ie,refContents:c}),Re=-c.getBoundingClientRect().height/4,_(Ie,{container:c,offset:Re,duration:300}));case 5:case"end":return qe.stop()}},ae)}))).apply(this,arguments)}function Vs(ae){return c?c.querySelector('div[data-path="'.concat(Hg(ae),'"]')):null}function La(ae){var Ce=Vs(ae);if(Ce&&c){var Ie=c.getBoundingClientRect(),Re=Ce.getBoundingClientRect(),qe=Er(Ae.exports.getIn(p,ae))?20:Re.height;Re.top<Ie.top+20?_(Ce,{container:c,offset:-20,duration:0}):Re.top+qe>Ie.bottom-20&&_(Ce,{container:c,offset:-(Ie.height-qe-20),duration:0})}}function Hs(ae,Ce){v!==void 0?E({text:v,json:void 0},ae,Ce):p!==void 0&&E({text:void 0,json:p},ae,Ce)}function Rr(ae,Ce){if(!j){l("handlePatch",ae,Ce);var Ie={json:p,text:v},Re=$e(ae,Ce);return n(15,le=void 0),Hs(Ie,Re),Re}}function Wl(ae,Ce){var Ie=X,Re=p,qe=v,Ye={json:p,text:v},it=be,ut=V,Lt=si(ae,Ie,[],Gs),Xt=typeof Ce=="function"?Ce(ae,Lt,V):void 0;n(7,p=Xt&&Xt.json!==void 0?Xt.json:ae),n(14,X=Xt&&Xt.state!==void 0?Xt.state:Lt),n(8,v=void 0),n(21,be=!1),n(9,V=Xt&&Xt.selection?Xt.selection:V),n(9,V=Je(V,p)),ct({previousJson:Re,previousState:Ie,previousText:qe,previousTextIsRepaired:it,previousSelection:ut}),Hs(Ye,null)}function go(ae,Ce,Ie){return nm(ae,Ce,Ie,r4({json:Ae.exports.getIn(ae,Ie)},10240)?Gs:Bd)}function Da(ae,Ce){var Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];n(14,X=Ce?nm(p,X,ae,Ie?Bd:Gs):wV(p,X,ae)),V&&!Ce&&$V(V,ae)&&n(9,V=null),setTimeout(function(){Rh(h)||ur()})}function Uf(ae,Ce){n(9,V=ae?an(p,X,ae):null),(Ce==null?void 0:Ce.ensureFocus)!==!1&&setTimeout(function(){return ur()})}function Ra(ae){l("openFind",{findAndReplace:ae}),n(16,xe=!1),n(17,he=!1),vr().then(function(){n(16,xe=!0),n(17,he=ae)})}function Lv(ae,Ce){l("handleExpandSection",ae,Ce),n(14,X=function(Ie,Re,qe,Ye){return si(Ie,Ae.exports.updateIn(Re,qe.concat(os),function(it){return DP(it.concat(Ye))}),qe,function(){return!1})}(p,X,ae,Ce))}function Jf(ae){l("pasted json as text",ae),n(15,le=ae)}function In(ae){var Ce=ae.anchor,Ie=ae.left,Re=ae.top,qe=ae.width,Ye=ae.height,it=ae.offsetTop,ut=ae.offsetLeft,Lt=ae.showTip;Z=!0,k(xQ,{json:p,state:X,selection:V,showTip:Lt,onEditKey:mt,onEditValue:at,onToggleEnforceString:gt,onCut:Pt,onCopy:Mt,onPaste:qt,onRemove:hr,onDuplicate:yn,onExtract:sn,onInsertBefore:Pn,onInsert:_r,onConvert:Dr,onInsertAfter:Ki,onSort:Hf,onTransform:Wf,onCloseContextMenu:function(){w(),ur()}},{left:Ie,top:Re,offsetTop:it,offsetLeft:ut,width:qe,height:Ye,anchor:Ce,closeOnOuterClick:!0,onClose:function(){Z=!1,ur()}})}function yo(ae){if(!j&&!(V!=null&&V.edit)){if(ae&&(ae.stopPropagation(),ae.preventDefault()),ae&&ae.type==="contextmenu"&&ae.target!==d)In({left:ae.clientX,top:ae.clientY,width:260,height:336,showTip:!1});else{var Ce=c==null?void 0:c.querySelector(".jse-context-menu-button.jse-selected");if(Ce)In({anchor:Ce,offsetTop:2,width:260,height:336,showTip:!1});else{var Ie=c==null?void 0:c.getBoundingClientRect();Ie&&In({top:Ie.top+2,left:Ie.left+2,width:260,height:336,showTip:!1})}}return!1}}function Eu(){return(Eu=Nn(jt().mark(function ae(){var Ce,Ie,Re;return jt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return l("apply pasted json",le),Ie=(Ce=le).path,Re=Ce.contents,n(9,V=an(p,X,{type:bt,path:Ie})),qe.next=5,vr();case 5:Rr([{op:"replace",path:Ae.exports.compileJSONPointer(Ie),value:Re}],function(Ye,it){return{state:go(Ye,it,Ie)}});case 7:case"end":return qe.stop()}},ae)}))).apply(this,arguments)}function ur(){d&&(d.focus(),d.select())}function Ul(){return p}function Jl(){return X}function Ws(){return V}return t.$$set=function(ae){"readOnly"in ae&&n(0,j=ae.readOnly),"externalContent"in ae&&n(49,O=ae.externalContent),"mainMenuBar"in ae&&n(1,N=ae.mainMenuBar),"navigationBar"in ae&&n(2,$=ae.navigationBar),"escapeControlCharacters"in ae&&n(50,Y=ae.escapeControlCharacters),"escapeUnicodeCharacters"in ae&&n(51,J=ae.escapeUnicodeCharacters),"validator"in ae&&n(52,D=ae.validator),"indentation"in ae&&n(53,W=ae.indentation),"onError"in ae&&n(54,F=ae.onError),"onChange"in ae&&n(55,E=ae.onChange),"onRenderValue"in ae&&n(56,x=ae.onRenderValue),"onRequestRepair"in ae&&n(3,K=ae.onRequestRepair),"onRenderMenu"in ae&&n(4,we=ae.onRenderMenu),"onClassName"in ae&&n(57,je=ae.onClassName),"onFocus"in ae&&n(58,R=ae.onFocus),"onBlur"in ae&&n(59,H=ae.onBlur),"onSortModal"in ae&&n(60,I=ae.onSortModal),"onTransformModal"in ae&&n(61,B=ae.onTransformModal)},t.$$.update=function(){1572864&t.$$.dirty[1]&&n(71,r=HP({escapeControlCharacters:Y,escapeUnicodeCharacters:J})),640&t.$$.dirty[0]&&n(23,i=VP(p,V)),128&t.$$.dirty[0]|128&t.$$.dirty[2]&&ie(ke,p),262144&t.$$.dirty[1]&&Te(O),t.$$.dirty[0],128&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&n(11,o=D?D(p):[]),2048&t.$$.dirty[0]&&n(22,s=function(ae){var Ce;return ae.forEach(function(Ie){var Re=Ie.path.concat([wg]);Ce=Ae.exports.setIn(Ce,Re,Ie,!0)}),ae.forEach(function(Ie){for(var Re=Ie.path;Re.length>0;){var qe=(Re=Zt(Re)).concat([wg]);if(!Ae.exports.existsIn(Ce,qe)){var Ye={isChildError:!0,path:Re,message:"Contains invalid data"};Ce=Ae.exports.setIn(Ce,qe,Ye,!0)}}}),Ce}(o)),64&t.$$.dirty[0]&&n(70,u=DG(c)),1&t.$$.dirty[0]|100663296&t.$$.dirty[1]|768&t.$$.dirty[2]&&n(10,a={readOnly:j,normalization:r,getFullJson:Ul,getFullState:Jl,getFullSelection:Ws,findElement:Vs,focus:ur,onPatch:Rr,onInsert:pn,onExpand:Da,onSelect:Uf,onFind:Ra,onPasteJson:Jf,onExpandSection:Lv,onRenderValue:x,onContextMenu:In,onClassName:je||fn,onDrag:u.onDrag,onDragEnd:u.onDragEnd}),1024&t.$$.dirty[0]&&l("context changed",a)},[j,N,$,K,we,function(){return be&&p!==void 0&&Wl(p),{json:p,text:v}},c,p,v,V,a,o,d,h,X,le,xe,he,fe,Se,ge,be,s,i,f,[],Oe,function(){return Ve.apply(this,arguments)},function(){return pe.apply(this,arguments)},function(ae,Ce){return He.apply(this,arguments)},function(ae,Ce){return st.apply(this,arguments)},function(){n(16,xe=!1),n(17,he=!1),Oe(""),ur()},function(ae){l("select validation error",ae),n(9,V=an(p,X,{type:bt,path:ae.path})),bs(ae.path),ur()},Mt,function(ae){if(ae.preventDefault(),!j){var Ce=ae.clipboardData.getData("text/plain");try{We(Ce)}catch{(function(Re,qe){m(lQ,{text:Re,onParse:Py,onRepair:rz,onApply:qe,onRenderMenu:we,onFocus:R,onBlur:H},dt(dt({},qu),{},{styleWindow:dt(dt({},qu.styleWindow),{},{width:"600px",height:"500px"}),styleContent:{padding:0,height:"100%"}}),{onClose:function(){return ur()}})})(Ce,function(Re){l("repaired pasted text: ",Re),We(Re)})}}},Ei,Ur,function(){Vl([])},function(){Na({selectedPath:[]})},function(){Da([],!0,!0)},function(){Da([],!1,!0)},function(ae){var Ce=Fl(ae).replace(/^Command\+/,"Ctrl+"),Ie=ae.shiftKey;if(Ce==="Ctrl+X"&&(ae.preventDefault(),Pt(!0)),Ce==="Ctrl+Shift+X"&&(ae.preventDefault(),Pt(!1)),Ce==="Ctrl+C"&&(ae.preventDefault(),Mt(!0)),Ce==="Ctrl+Shift+C"&&(ae.preventDefault(),Mt(!1)),Ce==="Ctrl+D"&&(ae.preventDefault(),yn()),Ce!=="Delete"&&Ce!=="Backspace"||(ae.preventDefault(),hr()),Ce==="Insert"&&(ae.preventDefault(),pn("structure")),Ce==="Ctrl+A"&&(ae.preventDefault(),n(9,V={type:bt,anchorPath:[],focusPath:[]})),Ce==="Ctrl+Q"&&yo(ae),Ce!=="Up"&&Ce!=="Shift+Up"||(ae.preventDefault(),n(9,V=V?K4(p,X,V,Ie,!0)||V:pd(p,X)),La(V.focusPath)),Ce!=="Down"&&Ce!=="Shift+Down"||(ae.preventDefault(),n(9,V=V?qP(p,X,V,Ie,!0)||V:pd(p,X)),La(V.focusPath)),Ce!=="Left"&&Ce!=="Shift+Left"||(ae.preventDefault(),n(9,V=V?function(Lt,Xt,An){var zn=arguments.length>3&&arguments[3]!==void 0&&arguments[3],gr=G4(Lt,Xt,An,!(arguments.length>4&&arguments[4]!==void 0)||arguments[4]),ve=gr.caret,xt=gr.previous;if(zn)return An.type!==Nt?an(Lt,Xt,{type:Nt,anchorPath:An.anchorPath,focusPath:An.focusPath}):null;if(ve&&xt)return an(Lt,Xt,{type:xt.type,path:xt.path});var Dt=Zt(An.focusPath),xn=Ae.exports.getIn(Lt,Dt);return An.type===bt&&Array.isArray(xn)?an(Lt,Xt,{type:Nt,anchorPath:An.focusPath,focusPath:An.focusPath}):An.type!==Nt||Array.isArray(xn)?null:an(Lt,Xt,{type:bn,path:An.focusPath})}(p,X,V,Ie,!j)||V:pd(p,X)),La(V.focusPath)),Ce!=="Right"&&Ce!=="Shift+Right"||(ae.preventDefault(),n(9,V=V?function(Lt,Xt,An){var zn=arguments.length>3&&arguments[3]!==void 0&&arguments[3],gr=G4(Lt,Xt,An,!(arguments.length>4&&arguments[4]!==void 0)||arguments[4]),ve=gr.caret,xt=gr.next;return zn?An.type!==Nt?an(Lt,Xt,{type:Nt,anchorPath:An.anchorPath,focusPath:An.focusPath}):null:ve&&xt?an(Lt,Xt,{type:xt.type,path:xt.path}):An.type===Nt?an(Lt,Xt,{type:bt,path:An.focusPath}):null}(p,X,V,Ie,!j)||V:pd(p,X)),La(V.focusPath)),Ce==="Enter"&&V){if(!j&&V.type===Nt&&V.paths.length===1){var Re=V.focusPath,qe=Ae.exports.getIn(p,Zt(Re));Array.isArray(qe)&&n(9,V=an(p,X,{type:bt,path:Re}))}j||V.type!==bn||(ae.preventDefault(),n(9,V=dt(dt({},V),{},{edit:!0}))),V.type===bt&&(ae.preventDefault(),Er(Ae.exports.getIn(p,V.focusPath))?Da(V.focusPath,!0):j||n(9,V=dt(dt({},V),{},{edit:!0})))}if(Ce.length===(Ce.startsWith("Shift+")?7:1)&&V)return ae.preventDefault(),void Bn(ae.key);if(Ce==="Enter"&&(V.type===ei||V.type===$r))return ae.preventDefault(),void Bn("");if(Ce==="Ctrl+Enter"&&V&&V.type===bt){var Ye=Ae.exports.getIn(p,V.focusPath);Oy(Ye)&&window.open(Ye,"_blank")}if(Ce==="Escape"&&V&&(ae.preventDefault(),n(9,V=null)),Ce==="Ctrl+F"&&(ae.preventDefault(),Ra(!1)),Ce==="Ctrl+H"&&(ae.preventDefault(),Ra(!0)),Ce==="Ctrl+Z"){ae.preventDefault();var it=document.activeElement;it&&it.blur&&it.focus?(it.blur(),setTimeout(function(){Ei(),setTimeout(function(){return it.select()})})):Ei()}if(Ce==="Ctrl+Shift+Z"){ae.preventDefault();var ut=document.activeElement;ut&&ut.blur&&ut.focus?(ut.blur(),setTimeout(function(){Ur(),setTimeout(function(){return ut.select()})})):Ur()}},function(ae){l("handleMouseDown",ae),setTimeout(function(){setTimeout(function(){C||GP(ae.target,"BUTTON")||(ur(),V||p!==void 0||v!==""&&v!==void 0||n(9,V=kt()))})})},yo,function(ae){j||In({anchor:IV(ae.target,"BUTTON"),offsetTop:0,width:260,height:336,showTip:!0})},function(){return Eu.apply(this,arguments)},function(){l("clear pasted json"),n(15,le=void 0)},function(ae){n(9,V=ae),ur(),bs(ae.focusPath)},function(ae){!Tf(ae.target,function(Ce){return Ce===h})&&V&&V.edit&&(l("click outside the editor, stop edit mode"),n(9,V=dt(dt({},V),{},{edit:!1})),C&&d&&(d.focus(),d.blur()),vr().then(function(){setTimeout(function(){d&&d.blur()})}))},O,Y,J,D,W,F,E,x,je,R,H,I,B,function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!0};n(14,X=si(p,X,[],ae,!0))},function(){return p},$e,Na,bs,Vs,ur,ke,u,r,function(ae){n(16,xe=ae)},function(ae){tn[ae?"unshift":"push"](function(){n(12,d=ae)})},function(ae){tn[ae?"unshift":"push"](function(){n(6,c=ae)})},function(ae){tn[ae?"unshift":"push"](function(){n(13,h=ae)})}]}var Eb=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,aX,sX,dn,{readOnly:0,externalContent:49,mainMenuBar:1,navigationBar:2,escapeControlCharacters:50,escapeUnicodeCharacters:51,validator:52,indentation:53,onError:54,onChange:55,onRenderValue:56,onRequestRepair:3,onRenderMenu:4,onClassName:57,onFocus:58,onBlur:59,onSortModal:60,onTransformModal:61,expand:62,get:63,patch:64,acceptAutoRepair:5,openTransformModal:65,scrollTo:66,findElement:67,focus:68},ZY,[-1,-1,-1,-1,-1]),i}return ne(n,[{key:"expand",get:function(){return this.$$.ctx[62]}},{key:"get",get:function(){return this.$$.ctx[63]}},{key:"patch",get:function(){return this.$$.ctx[64]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[5]}},{key:"openTransformModal",get:function(){return this.$$.ctx[65]}},{key:"scrollTo",get:function(){return this.$$.ctx[66]}},{key:"findElement",get:function(){return this.$$.ctx[67]}},{key:"focus",get:function(){return this.$$.ctx[68]}}]),n}(),uX={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(t,e){var n=e.filter,r=e.sort,i=e.projection,o=[];if(n&&n.path&&n.relation&&n.value){var s="item => item".concat(Va(n.path)),a=typeof zG(n.value)=="string"?"'".concat(n.value,"'"):n.value;o.push("  data = data.filter(".concat(s," ").concat(n.relation," ").concat(a,`)
`))}if(r&&r.path&&r.direction&&(r.direction==="desc"?o.push(`  data = data.slice().sort((a, b) => {
    // sort descending
`+"    const valueA = a".concat(Va(r.path),`
`)+"    const valueB = b".concat(Va(r.path),`
`)+`    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
  })
`):o.push(`  data = data.slice().sort((a, b) => {
    // sort ascending
`+"    const valueA = a".concat(Va(r.path),`
`)+"    const valueB = b".concat(Va(r.path),`
`)+`    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
  })
`)),i&&i.paths)if(i.paths.length>1){var u=i.paths.map(function(f){var c=f[f.length-1]||"item",d="item".concat(Va(f));return"    ".concat(JSON.stringify(c),": ").concat(d)});o.push(`  data = data.map(item => ({
`.concat(u.join(`,
`),`})
  )
`))}else{var l="item".concat(Va(i.paths[0]));o.push("  data = data.map(item => ".concat(l,`)
`))}return o.push(`  return data
`),`function query (data) {
`.concat(o.join(""),"}")},executeQuery:function(t,e){var n=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(t);return n!==void 0?n:null}};function lX(t){zt(t,"svelte-zs5o25",".jse-boolean-toggle.svelte-zs5o25{color:var(--jse-value-color-boolean);position:relative;padding-left:calc(0.5 * var(--jse-padding));padding-top:1px;height:var(--jse-line-height)}")}function cX(t){var e,n,r,i,o,s;return n=new Gt({props:{data:t[0]===!0?yp:gp}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-boolean-toggle svelte-zs5o25"),P(e,"title",r=t[1]?"Boolean value ".concat(t[0]):"Click to toggle this boolean value")},m:function(a,u){ye(a,e,u),Pe(n,e,null),i=!0,o||(s=Fe(e,"mousedown",t[2]),o=!0)},p:function(a,u){var l=Et(u,1)[0],f={};1&l&&(f.data=a[0]===!0?yp:gp),n.$set(f),(!i||3&l&&r!==(r=a[1]?"Boolean value ".concat(a[0]):"Click to toggle this boolean value"))&&P(e,"title",r)},i:function(a){i||(Q(n.$$.fragment,a),i=!0)},o:function(a){re(n.$$.fragment,a),i=!1},d:function(a){a&&me(e),Me(n),o=!1,s()}}}function fX(t,e,n){var r=e.path,i=e.value,o=e.readOnly,s=e.onPatch,a=e.onSelect;return t.$$set=function(u){"path"in u&&n(3,r=u.path),"value"in u&&n(0,i=u.value),"readOnly"in u&&n(1,o=u.readOnly),"onPatch"in u&&n(4,s=u.onPatch),"onSelect"in u&&n(5,a=u.onSelect)},[i,o,function(u){u.stopPropagation(),o||(s([{op:"replace",path:Ae.exports.compileJSONPointer(r),value:!i}]),a({type:bt,path:r}))},r,s,a]}var dX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,fX,cX,dn,{path:3,value:0,readOnly:1,onPatch:4,onSelect:5},lX),i}return ne(n)}();function hX(t){zt(t,"svelte-1gn8yt9",".jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background);line-height:normal}.jse-color-picker-popup.svelte-1gn8yt9 .picker_slider,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sl,.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sample,.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input{background:var(--jse-background-color);color:var(--jse-text-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{background:var(--jse-button-background);color:var(--jse-button-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button:hover{background:var(--jse-button-background-highlight)}")}function pX(t){var e;return{c:function(){P(e=oe("div"),"class","jse-color-picker-popup svelte-1gn8yt9")},m:function(n,r){ye(n,e,r),t[4](e)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e),t[4](null)}}}function vX(t,e,n){var r,i,o=e.color,s=e.onChange,a=e.showOnTop;return fo(Nn(jt().mark(function u(){var l;return jt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.resolve().then(function(){return see});case 2:l=f.sent.default,(i=new l({parent:r,color:o,popup:a?"top":"bottom",onDone:function(c){var d=c.rgba[3]===1?c.hex.substring(0,7):c.hex;s(d)}})).show();case 5:case"end":return f.stop()}},u)}))),ga(function(){i&&i.destroy()}),t.$$set=function(u){"color"in u&&n(1,o=u.color),"onChange"in u&&n(2,s=u.onChange),"showOnTop"in u&&n(3,a=u.showOnTop)},[r,o,s,a,function(u){tn[u?"unshift":"push"](function(){n(0,r=u)})}]}var mX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,vX,pX,Ar,{color:1,onChange:2,showOnTop:3},hX),i}return ne(n)}();function gX(t){zt(t,"svelte-fk1u9y",".jse-color-picker-button.svelte-fk1u9y{font-size:var(--jse-font-size-mono);width:var(--jse-color-picker-button-size);height:var(--jse-color-picker-button-size);box-sizing:border-box;padding:0;margin:2px;border:1px solid var(--jse-text-color);border-radius:2px;background:inherit;outline:none;cursor:pointer}")}function yX(t){var e,n,r,i;return{c:function(){P(e=oe("button"),"class","jse-color-picker-button svelte-fk1u9y"),Yo(e,"background",t[2]),P(e,"title",n=t[1]?"Color ".concat(t[0]):"Click to open a color picker")},m:function(o,s){ye(o,e,s),r||(i=Fe(e,"click",t[3]),r=!0)},p:function(o,s){var a=Et(s,1)[0];4&a&&Yo(e,"background",o[2]),3&a&&n!==(n=o[1]?"Color ".concat(o[0]):"Click to open a color picker")&&P(e,"title",n)},i:Qe,o:Qe,d:function(o){o&&me(e),r=!1,i()}}}function bX(t,e,n){var r,i=Si("absolute-popup").openAbsolutePopup,o=e.path,s=e.value,a=e.readOnly,u=e.onPatch,l=e.onSelect;function f(d){u([{op:"replace",path:Ae.exports.compileJSONPointer(o),value:d}]),c()}function c(){l({type:bt,path:o})}return t.$$set=function(d){"path"in d&&n(4,o=d.path),"value"in d&&n(0,s=d.value),"readOnly"in d&&n(1,a=d.readOnly),"onPatch"in d&&n(5,u=d.onPatch),"onSelect"in d&&n(6,l=d.onSelect)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=o6(s))},[s,a,r,function(d){if(!a){var h=d.target.getBoundingClientRect().top,p=fl(d.target).innerHeight;i(mX,{color:s,onChange:f,showOnTop:p-h<300&&h>300},{anchor:d.target,closeOnOuterClick:!0,onClose:c,offsetTop:18,offsetLeft:-8,height:300})}},o,u,l]}var kX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,bX,yX,dn,{path:4,value:0,readOnly:1,onPatch:5,onSelect:6},gX),i}return ne(n)}();function pf(t){var e=Ay(t);return kl("jse-value","jse-"+e,{"jse-url":Oy(t),"jse-empty":typeof t=="string"&&t.length===0})}function wX(t){var e,n;return e=new M9({props:{value:t[1].escapeValue(t[0]),onChange:t[3],onCancel:t[4],onPaste:t[5],onFind:t[2],onValueClass:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o=Et(i,1)[0],s={};3&o&&(s.value=r[1].escapeValue(r[0])),4&o&&(s.onFind=r[2]),e.$set(s)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function xX(t,e,n){var r=e.path,i=e.value,o=e.normalization,s=e.enforceString,a=e.onPatch,u=e.onPasteJson,l=e.onSelect,f=e.onFind;function c(d){return s?d:kf(d)}return t.$$set=function(d){"path"in d&&n(7,r=d.path),"value"in d&&n(0,i=d.value),"normalization"in d&&n(1,o=d.normalization),"enforceString"in d&&n(8,s=d.enforceString),"onPatch"in d&&n(9,a=d.onPatch),"onPasteJson"in d&&n(10,u=d.onPasteJson),"onSelect"in d&&n(11,l=d.onSelect),"onFind"in d&&n(2,f=d.onFind)},[i,o,f,function(d,h){a([{op:"replace",path:Ae.exports.compileJSONPointer(r),value:c(o.unescapeValue(d))}]),h===$y&&l({type:bt,path:r,nextInside:!0}),h===Cy&&l({type:bt,path:r},{ensureFocus:!1})},function(){l({type:bt,path:r})},function(d){try{var h=JSON.parse(d);Er(h)&&u({path:r,contents:h})}catch{}},function(d){return pf(c(o.unescapeValue(d)))},r,s,a,u,l]}var jX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,xX,wX,dn,{path:7,value:0,normalization:1,enforceString:8,onPatch:9,onPasteJson:10,onSelect:11,onFind:2}),i}return ne(n)}();function _X(t){zt(t,"svelte-6ci2p7",'.jse-value.jse-string.svelte-6ci2p7{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-6ci2p7,.jse-value.jse-array.svelte-6ci2p7{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-6ci2p7{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-6ci2p7{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-6ci2p7{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-6ci2p7{color:var(--jse-text-color)}.jse-value.jse-url.svelte-6ci2p7{color:var(--jse-value-color-url);text-decoration:underline}.jse-value.svelte-6ci2p7{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-6ci2p7:hover{background:var(--jse-hover-background-color)}.jse-value.jse-empty.svelte-6ci2p7{min-width:4em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-value.jse-empty.svelte-6ci2p7::after{pointer-events:none;color:var(--jse-tag-background);content:"value"}')}function SX(t){var e,n=hu(t[1].escapeValue(t[0]))+"";return{c:function(){e=rt(n)},m:function(r,i){ye(r,e,i)},p:function(r,i){3&i&&n!==(n=hu(r[1].escapeValue(r[0]))+"")&&on(e,n)},i:Qe,o:Qe,d:function(r){r&&me(e)}}}function CX(t){var e,n;return e=new P9({props:{text:t[1].escapeValue(t[0]),searchResult:t[2]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};3&i&&(o.text=r[1].escapeValue(r[0])),4&i&&(o.searchResult=r[2]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function $X(t){var e,n,r,i,o,s,a,u,l=[CX,SX],f=[];function c(d,h){return d[2]?0:1}return n=c(t),r=f[n]=l[n](t),{c:function(){e=oe("div"),r.c(),P(e,"data-type","selectable-value"),P(e,"class",i=wr(pf(t[0]))+" svelte-6ci2p7"),P(e,"title",o=t[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m:function(d,h){ye(d,e,h),f[n].m(e,null),s=!0,a||(u=[Fe(e,"click",t[4]),Fe(e,"dblclick",t[5])],a=!0)},p:function(d,h){var p=Et(h,1)[0],v=n;(n=c(d))===v?f[n].p(d,p):(Ke(),re(f[v],1,1,function(){f[v]=null}),Ge(),(r=f[n])?r.p(d,p):(r=f[n]=l[n](d)).c(),Q(r,1),r.m(e,null)),(!s||1&p&&i!==(i=wr(pf(d[0]))+" svelte-6ci2p7"))&&P(e,"class",i),(!s||8&p&&o!==(o=d[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&P(e,"title",o)},i:function(d){s||(Q(r),s=!0)},o:function(d){re(r),s=!1},d:function(d){d&&me(e),f[n].d(),a=!1,rr(u)}}}function AX(t,e,n){var r,i=e.path,o=e.value,s=e.readOnly,a=e.normalization,u=e.onSelect,l=e.searchResult;return t.$$set=function(f){"path"in f&&n(6,i=f.path),"value"in f&&n(0,o=f.value),"readOnly"in f&&n(7,s=f.readOnly),"normalization"in f&&n(1,a=f.normalization),"onSelect"in f&&n(8,u=f.onSelect),"searchResult"in f&&n(2,l=f.searchResult)},t.$$.update=function(){1&t.$$.dirty&&n(3,r=Oy(o))},[o,a,l,r,function(f){typeof o=="string"&&r&&f.ctrlKey&&(f.preventDefault(),f.stopPropagation(),window.open(o,"_blank"))},function(f){s||(f.preventDefault(),u({type:bt,path:i,edit:!0}))},i,s,u]}var OX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,AX,$X,dn,{path:6,value:0,readOnly:7,normalization:1,onSelect:8,searchResult:2},_X),i}return ne(n)}();function EX(t){zt(t,"svelte-1u00zub",".jse-timestamp.svelte-1u00zub{padding:0;margin:0;height:var(--jse-line-height);color:var(--jse-value-color-number);border-radius:3px}")}function TX(t){var e,n,r,i,o,s;return n=new Gt({props:{data:pQ}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-timestamp svelte-1u00zub")},m:function(a,u){ye(a,e,u),Pe(n,e,null),i=!0,o||(s=yf(r=I9.call(null,e,dt({text:t[0]},t[1]))),o=!0)},p:function(a,u){var l=Et(u,1)[0];r&&Co(r.update)&&1&l&&r.update.call(null,dt({text:a[0]},a[1]))},i:function(a){i||(Q(n.$$.fragment,a),i=!0)},o:function(a){re(n.$$.fragment,a),i=!1},d:function(a){a&&me(e),Me(n),o=!1,s()}}}function PX(t,e,n){var r,i=Si("absolute-popup"),o=e.value;return t.$$set=function(s){"value"in s&&n(2,o=s.value)},t.$$.update=function(){4&t.$$.dirty&&n(0,r="Time: ".concat(new Date(o).toString()))},[r,i,o]}var MX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,PX,TX,dn,{value:2},EX),i}return ne(n)}();function IX(t){var e=t.path,n=t.value,r=t.readOnly,i=t.enforceString,o=t.searchResult,s=t.isEditing,a=t.normalization,u=t.onPatch,l=t.onPasteJson,f=t.onSelect,c=t.onFind,d=[];return!s&&function(h){return h===!0||h===!1}(n)&&d.push({component:dX,props:{path:e,value:n,readOnly:r,onPatch:u,onSelect:f}}),!s&&function(h){return typeof h=="string"&&!!o6(h)}(n)&&d.push({component:kX,props:{path:e,value:n,readOnly:r,onPatch:u,onSelect:f}}),s&&d.push({component:jX,props:{path:e,value:n,enforceString:i,normalization:a,onPatch:u,onPasteJson:l,onSelect:f,onFind:c}}),s||d.push({component:OX,props:{path:e,value:n,readOnly:r,normalization:a,searchResult:o,onSelect:f}}),!s&&function(h){return typeof h=="number"&&h>9466848e5&&isFinite(h)&&Math.floor(h)===h&&!isNaN(new Date(h).valueOf())}(n)&&d.push({component:MX,props:{value:n}}),d}var xo={};function NX(t){zt(t,"svelte-3e0qet",".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")}function LX(t){var e,n,r=t[0](t[1],t[2])+"";return{c:function(){P(e=oe("div"),"class",n="item "+t[3]+" svelte-3e0qet")},m:function(i,o){ye(i,e,o),e.innerHTML=r},p:function(i,o){var s=Et(o,1)[0];7&s&&r!==(r=i[0](i[1],i[2])+"")&&(e.innerHTML=r),8&s&&n!==(n="item "+i[3]+" svelte-3e0qet")&&P(e,"class",n)},i:Qe,o:Qe,d:function(i){i&&me(e)}}}function DX(t,e,n){var r=e.isActive,i=r!==void 0&&r,o=e.isFirst,s=o!==void 0&&o,a=e.isHover,u=a!==void 0&&a,l=e.isSelectable,f=l!==void 0&&l,c=e.getOptionLabel,d=c===void 0?void 0:c,h=e.item,p=h===void 0?void 0:h,v=e.filterText,m=v===void 0?"":v,g="";return t.$$set=function(y){"isActive"in y&&n(4,i=y.isActive),"isFirst"in y&&n(5,s=y.isFirst),"isHover"in y&&n(6,u=y.isHover),"isSelectable"in y&&n(7,f=y.isSelectable),"getOptionLabel"in y&&n(0,d=y.getOptionLabel),"item"in y&&n(1,p=y.item),"filterText"in y&&n(2,m=y.filterText)},t.$$.update=function(){if(242&t.$$.dirty){var y=[];i&&y.push("active"),s&&y.push("first"),u&&y.push("hover"),p.isGroupHeader&&y.push("groupHeader"),p.isGroupItem&&y.push("groupItem"),f||y.push("notSelectable"),n(3,g=y.join(" "))}},[d,p,m,g,i,s,u,f]}var D9=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,DX,LX,Ar,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2},NX),i}return ne(n)}();function RX(t){zt(t,"svelte-1uyqfml",".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}")}function b$(t,e,n){var r=t.slice();return r[41]=e[n],r[42]=n,r}function BX(t){for(var e,n,r=t[1],i=[],o=0;o<r.length;o+=1)i[o]=x$(b$(t,r,o));var s=function(u){return re(i[u],1,1,function(){i[u]=null})},a=null;return r.length||(a=k$(t)),{c:function(){for(var u=0;u<i.length;u+=1)i[u].c();e=wn(),a&&a.c()},m:function(u,l){for(var f=0;f<i.length;f+=1)i[f].m(u,l);ye(u,e,l),a&&a.m(u,l),n=!0},p:function(u,l){if(114390&l[0]){var f;for(r=u[1],f=0;f<r.length;f+=1){var c=b$(u,r,f);i[f]?(i[f].p(c,l),Q(i[f],1)):(i[f]=x$(c),i[f].c(),Q(i[f],1),i[f].m(e.parentNode,e))}for(Ke(),f=r.length;f<i.length;f+=1)s(f);Ge(),!r.length&&a?a.p(u,l):r.length?a&&(a.d(1),a=null):((a=k$(u)).c(),a.m(e.parentNode,e))}},i:function(u){if(!n){for(var l=0;l<r.length;l+=1)Q(i[l]);n=!0}},o:function(u){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)re(i[l]);n=!1},d:function(u){Ai(i,u),u&&me(e),a&&a.d(u)}}}function zX(t){var e,n,r,i=t[3];function o(s){return{props:{items:s[1],itemHeight:s[8],$$slots:{default:[VX,function(a){return{41:a.item,42:a.i}},function(a){return[0,(a.item?1024:0)|(a.i?2048:0)]}]},$$scope:{ctx:s}}}}return i&&(e=new i(o(t))),{c:function(){e&&Le(e.$$.fragment),n=wn()},m:function(s,a){e&&Pe(e,s,a),ye(s,n,a),r=!0},p:function(s,a){var u={};if(2&a[0]&&(u.items=s[1]),256&a[0]&&(u.itemHeight=s[8]),9814&a[0]|11264&a[1]&&(u.$$scope={dirty:a,ctx:s}),i!==(i=s[3])){if(e){Ke();var l=e;re(l.$$.fragment,1,0,function(){Me(l,1)}),Ge()}i?(Le((e=new i(o(s))).$$.fragment),Q(e.$$.fragment,1),Pe(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i:function(s){r||(e&&Q(e.$$.fragment,s),r=!0)},o:function(s){e&&re(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Me(e,s)}}}function k$(t){var e,n=!t[11]&&w$(t);return{c:function(){n&&n.c(),e=wn()},m:function(r,i){n&&n.m(r,i),ye(r,e,i)},p:function(r,i){r[11]?n&&(n.d(1),n=null):n?n.p(r,i):((n=w$(r)).c(),n.m(e.parentNode,e))},d:function(r){n&&n.d(r),r&&me(e)}}}function w$(t){var e,n;return{c:function(){e=oe("div"),n=rt(t[12]),P(e,"class","empty svelte-1uyqfml")},m:function(r,i){ye(r,e,i),G(e,n)},p:function(r,i){4096&i[0]&&on(n,r[12])},d:function(r){r&&me(e)}}}function FX(t){var e,n,r,i,o,s,a=t[4];function u(d){return{props:{item:d[41],filterText:d[13],getOptionLabel:d[6],isFirst:U0(d[42]),isActive:bp(d[41],d[9],d[10]),isHover:kp(d[2],d[41],d[42],d[1]),isSelectable:yu(d[41])}}}function l(){return t[29](t[42])}function f(){return t[30](t[42])}function c(){for(var d,h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];return(d=t)[31].apply(d,[t[41],t[42]].concat(p))}return a&&(n=new a(u(t))),{c:function(){e=oe("div"),n&&Le(n.$$.fragment),r=Ee(),P(e,"class","listItem"),P(e,"tabindex","-1")},m:function(d,h){ye(d,e,h),n&&Pe(n,e,null),G(e,r),i=!0,o||(s=[Fe(e,"mouseover",l),Fe(e,"focus",f),Fe(e,"click",c)],o=!0)},p:function(d,h){t=d;var p={};if(2&h[0]&&(p.item=t[41]),8192&h[0]&&(p.filterText=t[13]),64&h[0]&&(p.getOptionLabel=t[6]),1538&h[0]&&(p.isActive=bp(t[41],t[9],t[10])),6&h[0]&&(p.isHover=kp(t[2],t[41],t[42],t[1])),2&h[0]&&(p.isSelectable=yu(t[41])),a!==(a=t[4])){if(n){Ke();var v=n;re(v.$$.fragment,1,0,function(){Me(v,1)}),Ge()}a?(Le((n=new a(u(t))).$$.fragment),Q(n.$$.fragment,1),Pe(n,e,r)):n=null}else a&&n.$set(p)},i:function(d){i||(n&&Q(n.$$.fragment,d),i=!0)},o:function(d){n&&re(n.$$.fragment,d),i=!1},d:function(d){d&&me(e),n&&Me(n),o=!1,rr(s)}}}function qX(t){var e,n,r=t[7](t[41])+"";return{c:function(){e=oe("div"),n=rt(r),P(e,"class","listGroupTitle svelte-1uyqfml")},m:function(i,o){ye(i,e,o),G(e,n)},p:function(i,o){130&o[0]&&r!==(r=i[7](i[41])+"")&&on(n,r)},i:Qe,o:Qe,d:function(i){i&&me(e)}}}function x$(t){var e,n,r,i,o=[qX,FX],s=[];function a(u,l){return u[41].isGroupHeader&&!u[41].isSelectable?0:1}return e=a(t),n=s[e]=o[e](t),{c:function(){n.c(),r=wn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),i=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ke(),re(s[f],1,1,function(){s[f]=null}),Ge(),(n=s[e])?n.p(u,l):(n=s[e]=o[e](u)).c(),Q(n,1),n.m(r.parentNode,r))},i:function(u){i||(Q(n),i=!0)},o:function(u){re(n),i=!1},d:function(u){s[e].d(u),u&&me(r)}}}function VX(t){var e,n,r,i,o,s=t[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:U0(c[42]),isActive:bp(c[41],c[9],c[10]),isHover:kp(c[2],c[41],c[42],c[1]),isSelectable:yu(c[41])}}}function u(){return t[26](t[42])}function l(){return t[27](t[42])}function f(){for(var c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return(c=t)[28].apply(c,[t[41],t[42]].concat(h))}return s&&(n=new s(a(t))),{c:function(){e=oe("div"),n&&Le(n.$$.fragment),P(e,"class","listItem")},m:function(c,d){ye(c,e,d),n&&Pe(n,e,null),r=!0,i||(o=[Fe(e,"mouseover",u),Fe(e,"focus",l),Fe(e,"click",f)],i=!0)},p:function(c,d){t=c;var h={};if(1024&d[1]&&(h.item=t[41]),8192&d[0]&&(h.filterText=t[13]),64&d[0]&&(h.getOptionLabel=t[6]),2048&d[1]&&(h.isFirst=U0(t[42])),1536&d[0]|1024&d[1]&&(h.isActive=bp(t[41],t[9],t[10])),6&d[0]|3072&d[1]&&(h.isHover=kp(t[2],t[41],t[42],t[1])),1024&d[1]&&(h.isSelectable=yu(t[41])),s!==(s=t[4])){if(n){Ke();var p=n;re(p.$$.fragment,1,0,function(){Me(p,1)}),Ge()}s?(Le((n=new s(a(t))).$$.fragment),Q(n.$$.fragment,1),Pe(n,e,null)):n=null}else s&&n.$set(h)},i:function(c){r||(n&&Q(n.$$.fragment,c),r=!0)},o:function(c){n&&re(n.$$.fragment,c),r=!1},d:function(c){c&&me(e),n&&Me(n),i=!1,rr(o)}}}function HX(t){var e,n,r,i,o,s,a=[zX,BX],u=[];function l(f,c){return f[5]?0:1}return n=l(t),r=u[n]=a[n](t),{c:function(){e=oe("div"),r.c(),P(e,"class","listContainer svelte-1uyqfml"),P(e,"style",t[14]),Ze(e,"virtualList",t[5])},m:function(f,c){ye(f,e,c),u[n].m(e,null),t[32](e),i=!0,o||(s=[Fe(window,"keydown",t[17]),Fe(window,"resize",t[18])],o=!0)},p:function(f,c){var d=n;(n=l(f))===d?u[n].p(f,c):(Ke(),re(u[d],1,1,function(){u[d]=null}),Ge(),(r=u[n])?r.p(f,c):(r=u[n]=a[n](f)).c(),Q(r,1),r.m(e,null)),(!i||16384&c[0])&&P(e,"style",f[14]),32&c[0]&&Ze(e,"virtualList",f[5])},i:function(f){i||(Q(r),i=!0)},o:function(f){re(r),i=!1},d:function(f){f&&me(e),u[n].d(),t[32](null),o=!1,rr(s)}}}function bp(t,e,n){return e&&e[n]===t[n]}function U0(t){return t===0}function kp(t,e,n,r){return yu(e)&&(t===n||r.length===1)}function yu(t){return t.isGroupHeader&&t.isSelectable||t.selectable||!t.hasOwnProperty("selectable")}function WX(t,e,n){var r,i,o=Hp(),s=e.container,a=s===void 0?void 0:s,u=e.VirtualList,l=u===void 0?null:u,f=e.Item,c=f===void 0?D9:f,d=e.isVirtualList,h=d!==void 0&&d,p=e.items,v=p===void 0?[]:p,m=e.labelIdentifier,g=m===void 0?"label":m,y=e.getOptionLabel,b=y===void 0?function(he,fe){if(he)return he.isCreator?'Create "'.concat(fe,'"'):he[g]}:y,k=e.getGroupHeaderLabel,w=k===void 0?null:k,C=e.itemHeight,_=C===void 0?40:C,T=e.hoverItemIndex,j=T===void 0?0:T,O=e.value,S=O===void 0?void 0:O,N=e.optionIdentifier,A=N===void 0?"value":N,$=e.hideEmptyState,q=$!==void 0&&$,Y=e.noOptionsMessage,z=Y===void 0?"No options":Y,J=e.isMulti,L=J!==void 0&&J,D=e.activeItemIndex,U=D===void 0?0:D,W=e.filterText,F=W===void 0?"":W,E=e.parent,x=E===void 0?null:E,M=e.listPlacement,K=M===void 0?null:M,se=e.listAutoWidth,we=se===void 0?null:se,je=e.listOffset,R=je===void 0?5:je,H=0,I=!1;function B(he){he.isCreator||o("itemSelected",he)}function Z(he){I||n(2,j=he)}function le(he){var fe=he.item,ke=he.i;if(he.event.stopPropagation(),S&&!L&&S[A]===fe[A])return X();fe.isCreator?o("itemCreated",F):yu(fe)&&(n(19,U=ke),n(2,j=ke),B(fe))}function X(){o("closeList")}function V(he){return _e.apply(this,arguments)}function _e(){return(_e=Nn(jt().mark(function he(fe){var ke;return jt().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!h){Oe.next=2;break}return Oe.abrupt("return");case 2:for(ke=!0;ke;)fe>0&&j===v.length-1?n(2,j=0):n(2,fe<0&&j===0?j=v.length-1:j+=fe),ke=!yu(v[j]);return Oe.next=6,vr();case 6:Se("hover");case 7:case"end":return Oe.stop()}},he)}))).apply(this,arguments)}function Se(he){if(!h&&a){var fe,ke=a.querySelector(".listItem .".concat(he));ke&&(fe=a.getBoundingClientRect().bottom-ke.getBoundingClientRect().bottom),n(0,a.scrollTop-=fe,a)}}function xe(){var he=x.getBoundingClientRect(),fe=he.height,ke=he.width;n(14,i=""),n(14,i+="min-width:".concat(ke,"px;width:").concat(we?"auto":"100%",";")),K==="top"||K==="auto"&&function(Oe,De){var Ve=Oe.getBoundingClientRect(),pe=De.getBoundingClientRect(),He={};return He.top=Ve.top<0,He.left=Ve.left<0,He.bottom=Ve.bottom+pe.height>(window.innerHeight||document.documentElement.clientHeight),He.right=Ve.right>(window.innerWidth||document.documentElement.clientWidth),He.any=He.top||He.left||He.bottom||He.right,He}(x,a).bottom?n(14,i+="bottom:".concat(fe+R,"px;")):n(14,i+="top:".concat(fe+R,"px;"))}return fo(function(){if(v.length>0&&!L&&S){var he=v.findIndex(function(fe){return fe[A]===S[A]});he&&n(2,j=he)}Se("active"),a.addEventListener("scroll",function(){clearTimeout(H),H=setTimeout(function(){I=!1},100)},!1)}),ZO(function(){v||n(1,v=[]),v!==r&&v.length>0&&n(2,j=0),r=v}),t.$$set=function(he){"container"in he&&n(0,a=he.container),"VirtualList"in he&&n(3,l=he.VirtualList),"Item"in he&&n(4,c=he.Item),"isVirtualList"in he&&n(5,h=he.isVirtualList),"items"in he&&n(1,v=he.items),"labelIdentifier"in he&&n(20,g=he.labelIdentifier),"getOptionLabel"in he&&n(6,b=he.getOptionLabel),"getGroupHeaderLabel"in he&&n(7,w=he.getGroupHeaderLabel),"itemHeight"in he&&n(8,_=he.itemHeight),"hoverItemIndex"in he&&n(2,j=he.hoverItemIndex),"value"in he&&n(9,S=he.value),"optionIdentifier"in he&&n(10,A=he.optionIdentifier),"hideEmptyState"in he&&n(11,q=he.hideEmptyState),"noOptionsMessage"in he&&n(12,z=he.noOptionsMessage),"isMulti"in he&&n(21,L=he.isMulti),"activeItemIndex"in he&&n(19,U=he.activeItemIndex),"filterText"in he&&n(13,F=he.filterText),"parent"in he&&n(22,x=he.parent),"listPlacement"in he&&n(23,K=he.listPlacement),"listAutoWidth"in he&&n(24,we=he.listAutoWidth),"listOffset"in he&&n(25,R=he.listOffset)},t.$$.update=function(){4194305&t.$$.dirty[0]&&x&&a&&xe()},[a,v,j,l,c,h,b,w,_,S,A,q,z,F,i,Z,le,function(he){switch(he.key){case"Escape":he.preventDefault(),X();break;case"ArrowDown":he.preventDefault(),v.length&&V(1);break;case"ArrowUp":he.preventDefault(),v.length&&V(-1);break;case"Enter":if(he.preventDefault(),v.length===0)break;var fe=v[j];if(S&&!L&&S[A]===fe[A]){X();break}fe.isCreator?o("itemCreated",F):(n(19,U=j),B(v[j]));break;case"Tab":if(he.preventDefault(),v.length===0||S&&S[A]===v[j][A])return X();n(19,U=j),B(v[j])}},xe,U,g,L,x,K,we,R,function(he){return Z(he)},function(he){return Z(he)},function(he,fe,ke){return le({item:he,i:fe,event:ke})},function(he){return Z(he)},function(he){return Z(he)},function(he,fe,ke){return le({item:he,i:fe,event:ke})},function(he){tn[he?"unshift":"push"](function(){n(0,a=he)})}]}var UX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,WX,HX,Ar,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},RX,[-1,-1]),i}return ne(n)}();function JX(t){zt(t,"svelte-pu1q1n",".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}")}function KX(t){var e,n=t[0](t[1])+"";return{c:function(){P(e=oe("div"),"class","selection svelte-pu1q1n")},m:function(r,i){ye(r,e,i),e.innerHTML=n},p:function(r,i){3&Et(i,1)[0]&&n!==(n=r[0](r[1])+"")&&(e.innerHTML=n)},i:Qe,o:Qe,d:function(r){r&&me(e)}}}function GX(t,e,n){var r=e.getSelectionLabel,i=r===void 0?void 0:r,o=e.item,s=o===void 0?void 0:o;return t.$$set=function(a){"getSelectionLabel"in a&&n(0,i=a.getSelectionLabel),"item"in a&&n(1,s=a.item)},[i,s]}var QX=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,GX,KX,Ar,{getSelectionLabel:0,item:1},JX),i}return ne(n)}();function YX(t){zt(t,"svelte-liu9pa",".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}")}function j$(t,e,n){var r=t.slice();return r[9]=e[n],r[11]=n,r}function _$(t){var e,n,r;function i(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=t)[6].apply(o,[t[11]].concat(a))}return{c:function(){(e=oe("div")).innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',P(e,"class","multiSelectItem_clear svelte-liu9pa")},m:function(o,s){ye(o,e,s),n||(r=Fe(e,"click",i),n=!0)},p:function(o,s){t=o},d:function(o){o&&me(e),n=!1,r()}}}function S$(t){var e,n,r,i,o,s,a,u=t[4](t[9])+"",l=!t[2]&&!t[3]&&_$(t);function f(){for(var c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return(c=t)[7].apply(c,[t[11]].concat(h))}return{c:function(){e=oe("div"),n=oe("div"),r=Ee(),l&&l.c(),i=Ee(),P(n,"class","multiSelectItem_label svelte-liu9pa"),P(e,"class",o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-liu9pa")},m:function(c,d){ye(c,e,d),G(e,n),n.innerHTML=u,G(e,r),l&&l.m(e,null),G(e,i),s||(a=Fe(e,"click",f),s=!0)},p:function(c,d){t=c,17&d&&u!==(u=t[4](t[9])+"")&&(n.innerHTML=u),t[2]||t[3]?l&&(l.d(1),l=null):l?l.p(t,d):((l=_$(t)).c(),l.m(e,i)),6&d&&o!==(o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-liu9pa")&&P(e,"class",o)},d:function(c){c&&me(e),l&&l.d(),s=!1,a()}}}function XX(t){for(var e,n=t[0],r=[],i=0;i<n.length;i+=1)r[i]=S$(j$(t,n,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=wn()},m:function(o,s){for(var a=0;a<r.length;a+=1)r[a].m(o,s);ye(o,e,s)},p:function(o,s){var a=Et(s,1)[0];if(63&a){var u;for(n=o[0],u=0;u<n.length;u+=1){var l=j$(o,n,u);r[u]?r[u].p(l,a):(r[u]=S$(l),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},i:Qe,o:Qe,d:function(o){Ai(r,o),o&&me(e)}}}function ZX(t,e,n){var r=Hp(),i=e.value,o=i===void 0?[]:i,s=e.activeValue,a=s===void 0?void 0:s,u=e.isDisabled,l=u!==void 0&&u,f=e.multiFullItemClearable,c=f!==void 0&&f,d=e.getSelectionLabel,h=d===void 0?void 0:d;function p(v,m){m.stopPropagation(),r("multiItemClear",{i:v})}return t.$$set=function(v){"value"in v&&n(0,o=v.value),"activeValue"in v&&n(1,a=v.activeValue),"isDisabled"in v&&n(2,l=v.isDisabled),"multiFullItemClearable"in v&&n(3,c=v.multiFullItemClearable),"getSelectionLabel"in v&&n(4,h=v.getSelectionLabel)},[o,a,l,c,h,p,function(v,m){return p(v,m)},function(v,m){return c?p(v,m):{}}]}var eZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,ZX,XX,Ar,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4},YX),i}return ne(n)}();function tZ(t){zt(t,"svelte-g2cagw","svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}")}function C$(t,e,n){var r=t.slice();return r[23]=e[n],r}var nZ=function(t){return{item:32&t,i:32&t,hoverItemIndex:2&t}},$$=function(t){return{item:t[23].data,i:t[23].index,hoverItemIndex:t[1]}};function A$(t,e){var n,r,i,o=e[15].default,s=Io(o,e,e[14],$$),a=s||function(u){var l;return{c:function(){l=rt("Missing template")},m:function(f,c){ye(f,l,c)},d:function(f){f&&me(l)}}}();return{key:t,first:null,c:function(){n=oe("svelte-virtual-list-row"),a&&a.c(),r=Ee(),gg(n,"class","svelte-g2cagw"),this.first=n},m:function(u,l){ye(u,n,l),a&&a.m(n,null),G(n,r),i=!0},p:function(u,l){e=u,s&&s.p&&(!i||16418&l)&&Lo(s,o,e,e[14],i?No(o,e[14],l,nZ):Do(e[14]),$$)},i:function(u){i||(Q(a,u),i=!0)},o:function(u){re(a,u),i=!1},d:function(u){u&&me(n),a&&a.d(u)}}}function rZ(t){for(var e,n,r,i,o,s,a=[],u=new Map,l=t[5],f=function(p){return p[23].index},c=0;c<l.length;c+=1){var d=C$(t,l,c),h=f(d);u.set(h,a[c]=A$(h,d))}return{c:function(){e=oe("svelte-virtual-list-viewport"),n=oe("svelte-virtual-list-contents");for(var p=0;p<a.length;p+=1)a[p].c();Yo(n,"padding-top",t[6]+"px"),Yo(n,"padding-bottom",t[7]+"px"),gg(n,"class","svelte-g2cagw"),Yo(e,"height",t[0]),gg(e,"class","svelte-g2cagw"),ya(function(){return t[18].call(e)})},m:function(p,v){ye(p,e,v),G(e,n);for(var m=0;m<a.length;m+=1)a[m].m(n,null);t[16](n),t[17](e),r=function(g,y){getComputedStyle(g).position==="static"&&(g.style.position="relative");var b=oe("iframe");b.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),b.setAttribute("aria-hidden","true"),b.tabIndex=-1;var k,w=bB();return w?(b.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",k=Fe(window,"message",function(C){C.source===b.contentWindow&&y()})):(b.src="about:blank",b.onload=function(){k=Fe(b.contentWindow,"resize",y)}),G(g,b),function(){(w||k&&b.contentWindow)&&k(),me(b)}}(e,t[18].bind(e)),i=!0,o||(s=Fe(e,"scroll",t[8]),o=!0)},p:function(p,v){var m=Et(v,1)[0];16418&m&&(l=p[5],Ke(),a=Ol(a,m,f,1,p,l,u,n,bf,A$,null,C$),Ge()),(!i||64&m)&&Yo(n,"padding-top",p[6]+"px"),(!i||128&m)&&Yo(n,"padding-bottom",p[7]+"px"),(!i||1&m)&&Yo(e,"height",p[0])},i:function(p){if(!i){for(var v=0;v<l.length;v+=1)Q(a[v]);i=!0}},o:function(p){for(var v=0;v<a.length;v+=1)re(a[v]);i=!1},d:function(p){p&&me(e);for(var v=0;v<a.length;v+=1)a[v].d();t[16](null),t[17](null),r(),o=!1,s()}}}function iZ(t,e,n){var r,i,o,s,a,u,l=e.$$slots,f=l===void 0?{}:l,c=e.$$scope,d=e.items,h=d===void 0?void 0:d,p=e.height,v=p===void 0?"100%":p,m=e.itemHeight,g=m===void 0?40:m,y=e.hoverItemIndex,b=y===void 0?0:y,k=e.start,w=k===void 0?0:k,C=e.end,_=C===void 0?0:C,T=[],j=0,O=0,S=0;function N(){return(N=Nn(jt().mark(function $(q,Y,z){var J,L,D,U,W,F;return jt().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return J=i.scrollTop,E.next=3,vr();case 3:L=O-J,D=w;case 5:if(!(L<Y&&D<q.length)){E.next=17;break}if(U=r[D-w]){E.next=12;break}return n(10,_=D+1),E.next=11,vr();case 11:U=r[D-w];case 12:W=T[D]=z||U.offsetHeight,L+=W,D+=1,E.next=5;break;case 17:n(10,_=D),F=q.length-_,n(7,S=F*(u=(O+L)/_)),T.length=q.length,i&&n(3,i.scrollTop=0,i);case 23:case"end":return E.stop()}},$)}))).apply(this,arguments)}function A(){return(A=Nn(jt().mark(function $(){var q,Y,z,J,L,D,U,W,F,E,x;return jt().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:for(q=i.scrollTop,Y=w,z=0;z<r.length;z+=1)T[w+z]=g||r[z].offsetHeight;J=0,L=0;case 5:if(!(J<h.length)){M.next=15;break}if(D=T[J]||u,!(L+D>q)){M.next=11;break}return n(9,w=J),n(6,O=L),M.abrupt("break",15);case 11:L+=D,J+=1,M.next=5;break;case 15:if(!(J<h.length)){M.next=22;break}if(L+=T[J]||u,J+=1,!(L>q+j)){M.next=20;break}return M.abrupt("break",22);case 20:M.next=15;break;case 22:for(n(10,_=J),U=h.length-_,u=L/_;J<h.length;)T[J++]=u;if(n(7,S=U*u),!(w<Y)){M.next=35;break}return M.next=30,vr();case 30:for(W=0,F=0,E=w;E<Y;E+=1)r[E-w]&&(W+=T[E],F+=g||r[E-w].offsetHeight);x=F-W,i.scrollTo(0,q+x);case 35:case"end":return M.stop()}},$)}))).apply(this,arguments)}return fo(function(){r=o.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)}),t.$$set=function($){"items"in $&&n(11,h=$.items),"height"in $&&n(0,v=$.height),"itemHeight"in $&&n(12,g=$.itemHeight),"hoverItemIndex"in $&&n(1,b=$.hoverItemIndex),"start"in $&&n(9,w=$.start),"end"in $&&n(10,_=$.end),"$$scope"in $&&n(14,c=$.$$scope)},t.$$.update=function(){3584&t.$$.dirty&&n(5,s=h.slice(w,_).map(function($,q){return{index:q+w,data:$}})),14340&t.$$.dirty&&a&&function($,q,Y){N.apply(this,arguments)}(h,j,g)},[v,b,j,i,o,s,O,S,function(){return A.apply(this,arguments)},w,_,h,g,a,c,f,function($){tn[$?"unshift":"push"](function(){n(4,o=$)})},function($){tn[$?"unshift":"push"](function(){n(3,i=$)})},function(){j=this.offsetHeight,n(2,j)}]}var oZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,iZ,rZ,Ar,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10},tZ),i}return ne(n)}();function sZ(t){var e,n;return{c:function(){e=Is("svg"),P(n=Is("path"),"fill","currentColor"),P(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),P(e,"width","100%"),P(e,"height","100%"),P(e,"viewBox","-2 -2 50 50"),P(e,"focusable","false"),P(e,"aria-hidden","true"),P(e,"role","presentation")},m:function(r,i){ye(r,e,i),G(e,n)},p:Qe,i:Qe,o:Qe,d:function(r){r&&me(e)}}}var aZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,null,sZ,Ar,{}),i}return ne(n)}();function uZ(t){zt(t,"svelte-17l1npl",".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}")}function O$(t,e,n){var r=t.slice();return r[103]=e[n],r}function E$(t){var e,n,r,i,o;return{c:function(){e=oe("span"),n=rt(t[33]),r=Ee(),i=oe("span"),o=rt(t[32]),P(e,"id","aria-selection"),P(i,"id","aria-context")},m:function(s,a){ye(s,e,a),G(e,n),ye(s,r,a),ye(s,i,a),G(i,o)},p:function(s,a){4&a[1]&&on(n,s[33]),2&a[1]&&on(o,s[32])},d:function(s){s&&me(e),s&&me(r),s&&me(i)}}}function T$(t){var e,n,r,i=[t[18]],o=t[17];function s(a){for(var u={},l=0;l<i.length;l+=1)u=Aa(u,i[l]);return{props:u}}return o&&(e=new o(s())),{c:function(){e&&Le(e.$$.fragment),n=wn()},m:function(a,u){e&&Pe(e,a,u),ye(a,n,u),r=!0},p:function(a,u){var l=262144&u[0]?wu(i,[Wp(a[18])]):{};if(o!==(o=a[17])){if(e){Ke();var f=e;re(f.$$.fragment,1,0,function(){Me(f,1)}),Ge()}o?(Le((e=new o(s())).$$.fragment),Q(e.$$.fragment,1),Pe(e,n.parentNode,n)):e=null}else o&&e.$set(l)},i:function(a){r||(e&&Q(e.$$.fragment,a),r=!0)},o:function(a){e&&re(e.$$.fragment,a),r=!1},d:function(a){a&&me(n),e&&Me(e,a)}}}function P$(t){var e,n,r,i=t[26];function o(s){return{props:{value:s[2],getSelectionLabel:s[12],activeValue:s[30],isDisabled:s[9],multiFullItemClearable:s[8]}}}return i&&((e=new i(o(t))).$on("multiItemClear",t[38]),e.$on("focus",t[40])),{c:function(){e&&Le(e.$$.fragment),n=wn()},m:function(s,a){e&&Pe(e,s,a),ye(s,n,a),r=!0},p:function(s,a){var u={};if(4&a[0]&&(u.value=s[2]),4096&a[0]&&(u.getSelectionLabel=s[12]),1073741824&a[0]&&(u.activeValue=s[30]),512&a[0]&&(u.isDisabled=s[9]),256&a[0]&&(u.multiFullItemClearable=s[8]),i!==(i=s[26])){if(e){Ke();var l=e;re(l.$$.fragment,1,0,function(){Me(l,1)}),Ge()}i?((e=new i(o(s))).$on("multiItemClear",s[38]),e.$on("focus",s[40]),Le(e.$$.fragment),Q(e.$$.fragment,1),Pe(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i:function(s){r||(e&&Q(e.$$.fragment,s),r=!0)},o:function(s){e&&re(e.$$.fragment,s),r=!1},d:function(s){s&&me(n),e&&Me(e,s)}}}function M$(t){var e,n,r,i,o,s=t[25];function a(u){return{props:{item:u[2],getSelectionLabel:u[12]}}}return s&&(n=new s(a(t))),{c:function(){e=oe("div"),n&&Le(n.$$.fragment),P(e,"class","selectedItem svelte-17l1npl")},m:function(u,l){ye(u,e,l),n&&Pe(n,e,null),r=!0,i||(o=Fe(e,"focus",t[40]),i=!0)},p:function(u,l){var f={};if(4&l[0]&&(f.item=u[2]),4096&l[0]&&(f.getSelectionLabel=u[12]),s!==(s=u[25])){if(n){Ke();var c=n;re(c.$$.fragment,1,0,function(){Me(c,1)}),Ge()}s?(Le((n=new s(a(u))).$$.fragment),Q(n.$$.fragment,1),Pe(n,e,null)):n=null}else s&&n.$set(f)},i:function(u){r||(n&&Q(n.$$.fragment,u),r=!0)},o:function(u){n&&re(n.$$.fragment,u),r=!1},d:function(u){u&&me(e),n&&Me(n),i=!1,o()}}}function I$(t){var e,n,r,i,o,s=t[23];return s&&(n=new s({})),{c:function(){e=oe("div"),n&&Le(n.$$.fragment),P(e,"class","clearSelect svelte-17l1npl"),P(e,"aria-hidden","true")},m:function(a,u){var l;ye(a,e,u),n&&Pe(n,e,null),r=!0,i||(o=Fe(e,"click",(l=t[27],function(f){return f.preventDefault(),l.call(this,f)})),i=!0)},p:function(a,u){if(s!==(s=a[23])){if(n){Ke();var l=n;re(l.$$.fragment,1,0,function(){Me(l,1)}),Ge()}s?(Le((n=new s({})).$$.fragment),Q(n.$$.fragment,1),Pe(n,e,null)):n=null}},i:function(a){r||(n&&Q(n.$$.fragment,a),r=!0)},o:function(a){n&&re(n.$$.fragment,a),r=!1},d:function(a){a&&me(e),n&&Me(n),i=!1,o()}}}function N$(t){var e;function n(o,s){return o[22]?cZ:lZ}var r=n(t),i=r(t);return{c:function(){e=oe("div"),i.c(),P(e,"class","indicator svelte-17l1npl"),P(e,"aria-hidden","true")},m:function(o,s){ye(o,e,s),i.m(e,null)},p:function(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),(i=r(o))&&(i.c(),i.m(e,null)))},d:function(o){o&&me(e),i.d()}}}function lZ(t){var e,n;return{c:function(){e=Is("svg"),P(n=Is("path"),"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),P(e,"width","100%"),P(e,"height","100%"),P(e,"viewBox","0 0 20 20"),P(e,"focusable","false"),P(e,"aria-hidden","true"),P(e,"class","svelte-17l1npl")},m:function(r,i){ye(r,e,i),G(e,n)},p:Qe,d:function(r){r&&me(e)}}}function cZ(t){var e,n;return{c:function(){e=new kB(!1),n=wn(),e.a=n},m:function(r,i){e.m(t[22],r,i),ye(r,n,i)},p:function(r,i){4194304&i[0]&&e.p(r[22])},d:function(r){r&&me(n),r&&e.d()}}}function L$(t){var e;return{c:function(){(e=oe("div")).innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',P(e,"class","spinner svelte-17l1npl")},m:function(n,r){ye(n,e,r)},d:function(n){n&&me(e)}}}function D$(t){var e,n,r,i,o=[t[34]];function s(l){t[84](l)}var a=t[24];function u(l){for(var f={},c=0;c<o.length;c+=1)f=Aa(f,o[c]);return l[28]!==void 0&&(f.hoverItemIndex=l[28]),{props:f}}return a&&(e=new a(u(t)),tn.push(function(){return Ni(e,"hoverItemIndex",s)}),e.$on("itemSelected",t[43]),e.$on("itemCreated",t[44]),e.$on("closeList",t[45])),{c:function(){e&&Le(e.$$.fragment),r=wn()},m:function(l,f){e&&Pe(e,l,f),ye(l,r,f),i=!0},p:function(l,f){var c=8&f[1]?wu(o,[Wp(l[34])]):{};if(!n&&268435456&f[0]&&(n=!0,c.hoverItemIndex=l[28],io(function(){return n=!1})),a!==(a=l[24])){if(e){Ke();var d=e;re(d.$$.fragment,1,0,function(){Me(d,1)}),Ge()}a?(e=new a(u(l)),tn.push(function(){return Ni(e,"hoverItemIndex",s)}),e.$on("itemSelected",l[43]),e.$on("itemCreated",l[44]),e.$on("closeList",l[45]),Le(e.$$.fragment),Q(e.$$.fragment,1),Pe(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i:function(l){i||(e&&Q(e.$$.fragment,l),i=!0)},o:function(l){e&&re(e.$$.fragment,l),i=!1},d:function(l){l&&me(r),e&&Me(e,l)}}}function R$(t){var e,n,r;return{c:function(){P(e=oe("input"),"name",n=t[16].name),P(e,"type","hidden"),e.value=r=t[2]?t[12](t[2]):null,P(e,"class","svelte-17l1npl")},m:function(i,o){ye(i,e,o)},p:function(i,o){65536&o[0]&&n!==(n=i[16].name)&&P(e,"name",n),4100&o[0]&&r!==(r=i[2]?i[12](i[2]):null)&&(e.value=r)},d:function(i){i&&me(e)}}}function B$(t){for(var e,n=t[2],r=[],i=0;i<n.length;i+=1)r[i]=z$(O$(t,n,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=wn()},m:function(o,s){for(var a=0;a<r.length;a+=1)r[a].m(o,s);ye(o,e,s)},p:function(o,s){if(69636&s[0]){var a;for(n=o[2],a=0;a<n.length;a+=1){var u=O$(o,n,a);r[a]?r[a].p(u,s):(r[a]=z$(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d:function(o){Ai(r,o),o&&me(e)}}}function z$(t){var e,n,r;return{c:function(){P(e=oe("input"),"name",n=t[16].name),P(e,"type","hidden"),e.value=r=t[103]?t[12](t[103]):null,P(e,"class","svelte-17l1npl")},m:function(i,o){ye(i,e,o)},p:function(i,o){65536&o[0]&&n!==(n=i[16].name)&&P(e,"name",n),4100&o[0]&&r!==(r=i[103]?i[12](i[103]):null)&&(e.value=r)},d:function(i){i&&me(e)}}}function fZ(t){for(var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b=t[1]&&E$(t),k=t[17]&&T$(t),w=t[35]&&P$(t),C=[{readOnly:a=!t[13]},t[31],{placeholder:t[36]},{style:t[14]},{disabled:t[9]}],_={},T=0;T<C.length;T+=1)_=Aa(_,C[T]);var j=!t[7]&&t[29]&&M$(t),O=t[37]&&I$(t),S=!t[37]&&(t[20]||t[19]&&!t[2]||!t[13]&&!t[9]&&!t[4]&&(t[29]&&!t[15]||!t[29]))&&N$(t),N=t[4]&&L$(),A=t[5]&&D$(t),$=(!t[7]||t[7]&&!t[35])&&R$(t),q=t[7]&&t[35]&&B$(t);return{c:function(){e=oe("div"),n=oe("span"),b&&b.c(),r=Ee(),k&&k.c(),i=Ee(),w&&w.c(),o=Ee(),s=oe("input"),u=Ee(),j&&j.c(),l=Ee(),O&&O.c(),f=Ee(),S&&S.c(),c=Ee(),N&&N.c(),d=Ee(),A&&A.c(),h=Ee(),$&&$.c(),p=Ee(),q&&q.c(),P(n,"aria-live","polite"),P(n,"aria-atomic","false"),P(n,"aria-relevant","additions text"),P(n,"class","a11yText svelte-17l1npl"),J_(s,_),Ze(s,"svelte-17l1npl",!0),P(e,"class",v="selectContainer "+t[21]+" svelte-17l1npl"),P(e,"style",t[11]),Ze(e,"hasError",t[10]),Ze(e,"multiSelect",t[7]),Ze(e,"disabled",t[9]),Ze(e,"focused",t[1])},m:function(Y,z){ye(Y,e,z),G(e,n),b&&b.m(n,null),G(e,r),k&&k.m(e,null),G(e,i),w&&w.m(e,null),G(e,o),G(e,s),s.autofocus&&s.focus(),t[82](s),ma(s,t[3]),G(e,u),j&&j.m(e,null),G(e,l),O&&O.m(e,null),G(e,f),S&&S.m(e,null),G(e,c),N&&N.m(e,null),G(e,d),A&&A.m(e,null),G(e,h),$&&$.m(e,null),G(e,p),q&&q.m(e,null),t[85](e),m=!0,g||(y=[Fe(window,"click",t[41]),Fe(window,"focusin",t[41]),Fe(window,"keydown",t[39]),Fe(s,"focus",t[40]),Fe(s,"input",t[83]),Fe(e,"click",t[42])],g=!0)},p:function(Y,z){Y[1]?b?b.p(Y,z):((b=E$(Y)).c(),b.m(n,null)):b&&(b.d(1),b=null),Y[17]?k?(k.p(Y,z),131072&z[0]&&Q(k,1)):((k=T$(Y)).c(),Q(k,1),k.m(e,i)):k&&(Ke(),re(k,1,1,function(){k=null}),Ge()),Y[35]?w?(w.p(Y,z),16&z[1]&&Q(w,1)):((w=P$(Y)).c(),Q(w,1),w.m(e,o)):w&&(Ke(),re(w,1,1,function(){w=null}),Ge()),J_(s,_=wu(C,[(!m||8192&z[0]&&a!==(a=!Y[13]))&&{readOnly:a},1&z[1]&&Y[31],(!m||32&z[1])&&{placeholder:Y[36]},(!m||16384&z[0])&&{style:Y[14]},(!m||512&z[0])&&{disabled:Y[9]}])),8&z[0]&&s.value!==Y[3]&&ma(s,Y[3]),Ze(s,"svelte-17l1npl",!0),!Y[7]&&Y[29]?j?(j.p(Y,z),536871040&z[0]&&Q(j,1)):((j=M$(Y)).c(),Q(j,1),j.m(e,l)):j&&(Ke(),re(j,1,1,function(){j=null}),Ge()),Y[37]?O?(O.p(Y,z),64&z[1]&&Q(O,1)):((O=I$(Y)).c(),Q(O,1),O.m(e,f)):O&&(Ke(),re(O,1,1,function(){O=null}),Ge()),Y[37]||!(Y[20]||Y[19]&&!Y[2])&&(Y[13]||Y[9]||Y[4]||(!Y[29]||Y[15])&&Y[29])?S&&(S.d(1),S=null):S?S.p(Y,z):((S=N$(Y)).c(),S.m(e,c)),Y[4]?N||((N=L$()).c(),N.m(e,d)):N&&(N.d(1),N=null),Y[5]?A?(A.p(Y,z),32&z[0]&&Q(A,1)):((A=D$(Y)).c(),Q(A,1),A.m(e,h)):A&&(Ke(),re(A,1,1,function(){A=null}),Ge()),!Y[7]||Y[7]&&!Y[35]?$?$.p(Y,z):(($=R$(Y)).c(),$.m(e,p)):$&&($.d(1),$=null),Y[7]&&Y[35]?q?q.p(Y,z):((q=B$(Y)).c(),q.m(e,null)):q&&(q.d(1),q=null),(!m||2097152&z[0]&&v!==(v="selectContainer "+Y[21]+" svelte-17l1npl"))&&P(e,"class",v),(!m||2048&z[0])&&P(e,"style",Y[11]),2098176&z[0]&&Ze(e,"hasError",Y[10]),2097280&z[0]&&Ze(e,"multiSelect",Y[7]),2097664&z[0]&&Ze(e,"disabled",Y[9]),2097154&z[0]&&Ze(e,"focused",Y[1])},i:function(Y){m||(Q(k),Q(w),Q(j),Q(O),Q(A),m=!0)},o:function(Y){re(k),re(w),re(j),re(O),re(A),m=!1},d:function(Y){Y&&me(e),b&&b.d(),k&&k.d(),w&&w.d(),t[82](null),j&&j.d(),O&&O.d(),S&&S.d(),N&&N.d(),A&&A.d(),$&&$.d(),q&&q.d(),t[85](null),g=!1,rr(y)}}}function F$(t){return t.map(function(e,n){return{index:n,value:e,label:"".concat(e)}})}function dZ(t,e,n){var r,i,o,s,a,u,l,f,c=Hp(),d=e.id,h=d===void 0?null:d,p=e.container,v=p===void 0?void 0:p,m=e.input,g=m===void 0?void 0:m,y=e.isMulti,b=y!==void 0&&y,k=e.multiFullItemClearable,w=k!==void 0&&k,C=e.isDisabled,_=C!==void 0&&C,T=e.isCreatable,j=T!==void 0&&T,O=e.isFocused,S=O!==void 0&&O,N=e.value,A=N===void 0?null:N,$=e.filterText,q=$===void 0?"":$,Y=e.placeholder,z=Y===void 0?"Select...":Y,J=e.placeholderAlwaysShow,L=J!==void 0&&J,D=e.items,U=D===void 0?null:D,W=e.itemFilter,F=W===void 0?function(ve,xt,Dt){return"".concat(ve).toLowerCase().includes(xt.toLowerCase())}:W,E=e.groupBy,x=E===void 0?void 0:E,M=e.groupFilter,K=M===void 0?function(ve){return ve}:M,se=e.isGroupHeaderSelectable,we=se!==void 0&&se,je=e.getGroupHeaderLabel,R=je===void 0?function(ve){return ve[I]||ve.id}:je,H=e.labelIdentifier,I=H===void 0?"label":H,B=e.getOptionLabel,Z=B===void 0?function(ve,xt){return ve.isCreator?'Create "'.concat(xt,'"'):ve[I]}:B,le=e.optionIdentifier,X=le===void 0?"value":le,V=e.loadOptions,_e=V===void 0?void 0:V,Se=e.hasError,xe=Se!==void 0&&Se,he=e.containerStyles,fe=he===void 0?"":he,ke=e.getSelectionLabel,Oe=ke===void 0?function(ve){return ve?ve[I]:null}:ke,De=e.createGroupHeaderItem,Ve=De===void 0?function(ve){return{value:ve,label:ve}}:De,pe=e.createItem,He=pe===void 0?function(ve){return{value:ve,label:ve}}:pe,st=e.isSearchable,Rt=st===void 0||st,hn=e.inputStyles,ie=hn===void 0?"":hn,de=e.isClearable,ge=de===void 0||de,be=e.isWaiting,Te=be!==void 0&&be,Je=e.listPlacement,ct=Je===void 0?"auto":Je,kt=e.listOpen,$e=kt!==void 0&&kt,tt=e.isVirtualList,mt=tt!==void 0&&tt,at=e.loadOptionsInterval,gt=at===void 0?300:at,Pt=e.noOptionsMessage,wt=Pt===void 0?"No options":Pt,Mt=e.hideEmptyState,Ft=Mt!==void 0&&Mt,qt=e.inputAttributes,We=qt===void 0?{}:qt,hr=e.listAutoWidth,yn=hr===void 0||hr,sn=e.itemHeight,pn=sn===void 0?40:sn,_r=e.Icon,Dr=_r===void 0?void 0:_r,Pn=e.iconProps,Ki=Pn===void 0?{}:Pn,Oi=e.showChevron,Bn=Oi!==void 0&&Oi,ht=e.showIndicator,Kt=ht!==void 0&&ht,Gi=e.containerClasses,Ei=Gi===void 0?"":Gi,Ur=e.indicatorSvg,Vl=Ur===void 0?void 0:Ur,Hf=e.listOffset,Na=Hf===void 0?5:Hf,Wf=e.ClearIcon,bs=Wf===void 0?aZ:Wf,Hl=e.Item,Vs=Hl===void 0?D9:Hl,La=e.List,Hs=La===void 0?UX:La,Rr=e.Selection,Wl=Rr===void 0?QX:Rr,go=e.MultiSelection,Da=go===void 0?eZ:go,Uf=e.VirtualList,Ra=Uf===void 0?oZ:Uf;function Lv(ve){if(!(ve.loadOptions&&ve.filterText.length>0)){if(!ve.items)return[];ve.items&&ve.items.length>0&&lt(ve.items[0])!=="object"&&(ve.items=F$(ve.items));var xt=ve.items.filter(function(Dt){var xn=F(Z(Dt,ve.filterText),ve.filterText,Dt);return xn&&ve.isMulti&&ve.value&&Array.isArray(ve.value)&&(xn=!ve.value.some(function(bo){return bo[ve.optionIdentifier]===Dt[ve.optionIdentifier]})),xn});return ve.groupBy&&(xt=function(Dt){var xn=[],bo={};Dt.forEach(function(Ba){var ko=x(Ba);xn.includes(ko)||(xn.push(ko),bo[ko]=[],ko&&bo[ko].push(Object.assign(Ve(ko,Ba),{id:ko,isGroupHeader:!0,isSelectable:we}))),bo[ko].push(Object.assign({isGroupItem:!!ko},Ba))});var Tu=[];return K(xn).forEach(function(Ba){Tu.push.apply(Tu,nn(bo[Ba]))}),Tu}(xt)),ve.isCreatable&&(xt=Jf(xt,ve.filterText)),xt}}function Jf(ve,xt){if(xt.length===0)return ve;var Dt=He(xt);return ve[0]&&xt===ve[0][I]?ve:(Dt.isCreator=!0,[].concat(nn(ve),[Dt]))}var In,yo,Eu,ur,Ul,Jl,Ws,ae=e.selectedValue,Ce=ae===void 0?null:ae,Ie=function(ve,xt,Dt){var xn;return function(){var bo=this,Tu=arguments,Ba=function(){xn=null,Dt||ve.apply(bo,Tu)},ko=Dt&&!xn;clearTimeout(xn),xn=setTimeout(Ba,xt),ko&&ve.apply(bo,Tu)}}(Nn(jt().mark(function ve(){var xt;return jt().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return n(4,Te=!0),Dt.next=3,_e(q).catch(function(xn){console.warn("svelte-select loadOptions error :>> ",xn),c("error",{type:"loadOptions",details:xn})});case 3:(xt=Dt.sent)&&!xt.cancelled&&(xt?(xt&&xt.length>0&&lt(xt[0])!=="object"&&(xt=F$(xt)),n(81,r=nn(xt)),c("loaded",{items:r})):n(81,r=[]),j&&n(81,r=Jf(r,q)),n(4,Te=!1),n(1,S=!0),n(5,$e=!0));case 5:case"end":return Dt.stop()}},ve)})),gt);function Re(){var ve=!0;if(A){var xt=[],Dt=[];A.forEach(function(xn){xt.includes(xn[X])?ve=!1:(xt.push(xn[X]),Dt.push(xn))}),ve||n(2,A=Dt)}return ve}function qe(ve){var xt=ve?ve[X]:A[X];return U.find(function(Dt){return Dt[X]===xt})}function Ye(ve){var xt=ve.detail,Dt=A[xt?xt.i:A.length-1];A.length===1?n(2,A=void 0):n(2,A=A.filter(function(xn){return xn!==Dt})),c("clear",Dt)}function it(){n(1,S=!0),g&&g.focus()}ZO(Nn(jt().mark(function ve(){return jt().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:n(77,yo=A),n(78,Eu=q),n(79,ur=S),n(80,Ul=b);case 4:case"end":return xt.stop()}},ve)}))),fo(function(){S&&g&&g.focus()});var ut=e.ariaValues,Lt=ut===void 0?function(ve){return"Option ".concat(ve,", selected.")}:ut,Xt=e.ariaListOpen,An=Xt===void 0?function(ve,xt){return"You are currently focused on option ".concat(ve,". There are ").concat(xt," results available.")}:Xt,zn=e.ariaFocused,gr=zn===void 0?function(){return"Select is focused, type to refine list, press down to open the menu."}:zn;return t.$$set=function(ve){"id"in ve&&n(46,h=ve.id),"container"in ve&&n(0,v=ve.container),"input"in ve&&n(6,g=ve.input),"isMulti"in ve&&n(7,b=ve.isMulti),"multiFullItemClearable"in ve&&n(8,w=ve.multiFullItemClearable),"isDisabled"in ve&&n(9,_=ve.isDisabled),"isCreatable"in ve&&n(47,j=ve.isCreatable),"isFocused"in ve&&n(1,S=ve.isFocused),"value"in ve&&n(2,A=ve.value),"filterText"in ve&&n(3,q=ve.filterText),"placeholder"in ve&&n(48,z=ve.placeholder),"placeholderAlwaysShow"in ve&&n(49,L=ve.placeholderAlwaysShow),"items"in ve&&n(50,U=ve.items),"itemFilter"in ve&&n(51,F=ve.itemFilter),"groupBy"in ve&&n(52,x=ve.groupBy),"groupFilter"in ve&&n(53,K=ve.groupFilter),"isGroupHeaderSelectable"in ve&&n(54,we=ve.isGroupHeaderSelectable),"getGroupHeaderLabel"in ve&&n(55,R=ve.getGroupHeaderLabel),"labelIdentifier"in ve&&n(56,I=ve.labelIdentifier),"getOptionLabel"in ve&&n(57,Z=ve.getOptionLabel),"optionIdentifier"in ve&&n(58,X=ve.optionIdentifier),"loadOptions"in ve&&n(59,_e=ve.loadOptions),"hasError"in ve&&n(10,xe=ve.hasError),"containerStyles"in ve&&n(11,fe=ve.containerStyles),"getSelectionLabel"in ve&&n(12,Oe=ve.getSelectionLabel),"createGroupHeaderItem"in ve&&n(60,Ve=ve.createGroupHeaderItem),"createItem"in ve&&n(61,He=ve.createItem),"isSearchable"in ve&&n(13,Rt=ve.isSearchable),"inputStyles"in ve&&n(14,ie=ve.inputStyles),"isClearable"in ve&&n(15,ge=ve.isClearable),"isWaiting"in ve&&n(4,Te=ve.isWaiting),"listPlacement"in ve&&n(63,ct=ve.listPlacement),"listOpen"in ve&&n(5,$e=ve.listOpen),"isVirtualList"in ve&&n(64,mt=ve.isVirtualList),"loadOptionsInterval"in ve&&n(65,gt=ve.loadOptionsInterval),"noOptionsMessage"in ve&&n(66,wt=ve.noOptionsMessage),"hideEmptyState"in ve&&n(67,Ft=ve.hideEmptyState),"inputAttributes"in ve&&n(16,We=ve.inputAttributes),"listAutoWidth"in ve&&n(68,yn=ve.listAutoWidth),"itemHeight"in ve&&n(69,pn=ve.itemHeight),"Icon"in ve&&n(17,Dr=ve.Icon),"iconProps"in ve&&n(18,Ki=ve.iconProps),"showChevron"in ve&&n(19,Bn=ve.showChevron),"showIndicator"in ve&&n(20,Kt=ve.showIndicator),"containerClasses"in ve&&n(21,Ei=ve.containerClasses),"indicatorSvg"in ve&&n(22,Vl=ve.indicatorSvg),"listOffset"in ve&&n(70,Na=ve.listOffset),"ClearIcon"in ve&&n(23,bs=ve.ClearIcon),"Item"in ve&&n(71,Vs=ve.Item),"List"in ve&&n(24,Hs=ve.List),"Selection"in ve&&n(25,Wl=ve.Selection),"MultiSelection"in ve&&n(26,Da=ve.MultiSelection),"VirtualList"in ve&&n(72,Ra=ve.VirtualList),"selectedValue"in ve&&n(73,Ce=ve.selectedValue),"ariaValues"in ve&&n(74,Lt=ve.ariaValues),"ariaListOpen"in ve&&n(75,An=ve.ariaListOpen),"ariaFocused"in ve&&n(76,gr=ve.ariaFocused)},t.$$.update=function(){var ve,xt;140&t.$$.dirty[0]|405340160&t.$$.dirty[1]&&n(81,r=Lv({loadOptions:_e,filterText:q,items:U,value:A,isMulti:b,optionIdentifier:X,groupBy:x,isCreatable:j})),2048&t.$$.dirty[2]&&Ce&&console.warn("selectedValue is no longer used. Please use value instead."),524288&t.$$.dirty[1]&&function(Dt){Dt&&Dt.length!==0&&!Dt.some(function(xn){return lt(xn)!=="object"})&&A&&(b?!A.some(function(xn){return!xn||!xn[X]}):A[X])&&(Array.isArray(A)?n(2,A=A.map(function(xn){return qe(xn)||xn})):n(2,A=qe()||A))}(U),4&t.$$.dirty[0]&&A&&(typeof A=="string"?n(2,(ol(ve={},X,A),ol(ve,"label",A),A=ve)):b&&Array.isArray(A)&&A.length>0&&n(2,A=A.map(function(Dt){return typeof Dt=="string"?{value:Dt,label:Dt}:Dt}))),73728&t.$$.dirty[0]&&(!We&&Rt||(n(31,Ws=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},We)),h&&n(31,Ws.id=h,Ws),Rt||n(31,Ws.readonly=!0,Ws))),128&t.$$.dirty[0]|262144&t.$$.dirty[2]&&(b&&A&&(Array.isArray(A)?n(2,A=nn(A)):n(2,A=[A])),Ul&&!b&&A&&n(2,A=null)),132&t.$$.dirty[0]&&b&&A&&A.length>1&&Re(),4&t.$$.dirty[0]&&A&&(b?JSON.stringify(A)!==JSON.stringify(yo)&&Re()&&c("select",A):yo&&JSON.stringify(A[X])===JSON.stringify(yo[X])||c("select",A)),132&t.$$.dirty[0]|32768&t.$$.dirty[2]&&!A&&b&&yo&&c("select",A),2&t.$$.dirty[0]|131072&t.$$.dirty[2]&&S!==ur&&(S||$e?it():g&&g.blur()),8&t.$$.dirty[0]|65536&t.$$.dirty[2]&&q!==Eu&&q.length!==0&&(n(1,S=!0),n(5,$e=!0),_e?Ie():(n(5,$e=!0),b&&n(30,In=void 0))),12&t.$$.dirty[0]&&n(29,i=A&&q.length===0),536904208&t.$$.dirty[0]&&n(37,o=i&&ge&&!_&&!Te),132&t.$$.dirty[0]|393216&t.$$.dirty[1]&&n(36,s=L&&b?z:A?"":z),132&t.$$.dirty[0]&&n(35,a=b&&A&&A.length>0),141&t.$$.dirty[0]|218103808&t.$$.dirty[1]|526326&t.$$.dirty[2]&&n(34,u={Item:Vs,filterText:q,optionIdentifier:X,noOptionsMessage:wt,hideEmptyState:Ft,isVirtualList:mt,VirtualList:Ra,value:A,isMulti:b,getGroupHeaderLabel:R,items:r,itemHeight:pn,getOptionLabel:Z,listPlacement:ct,parent:v,listAutoWidth:yn,listOffset:Na}),132&t.$$.dirty[0]&&n(33,l=A?(xt=void 0,xt=b&&A.length>0?A.map(function(Dt){return Oe(Dt)}).join(", "):Oe(A),Lt(xt)):""),268435490&t.$$.dirty[0]|524288&t.$$.dirty[2]&&n(32,f=function(){if(!S||!r||r.length===0)return"";var Dt=r[Jl];if($e&&Dt){var xn=Oe(Dt),bo=r?r.length:0;return An(xn,bo)}return gr()}())},[v,S,A,q,Te,$e,g,b,w,_,xe,fe,Oe,Rt,ie,ge,We,Dr,Ki,Bn,Kt,Ei,Vl,bs,Hs,Wl,Da,function(){n(2,A=void 0),n(5,$e=!1),c("clear",A),it()},Jl,i,In,Ws,f,l,u,a,s,o,Ye,function(ve){if(S)switch(ve.key){case"ArrowDown":case"ArrowUp":ve.preventDefault(),n(5,$e=!0),n(30,In=void 0);break;case"Tab":$e||n(1,S=!1);break;case"Backspace":if(!b||q.length>0)return;if(b&&A&&A.length>0){if(Ye(In!==void 0?In:A.length-1),In===0||In===void 0)break;n(30,In=A.length>In?In-1:void 0)}break;case"ArrowLeft":if(!b||q.length>0)return;In===void 0?n(30,In=A.length-1):A.length>In&&In!==0&&n(30,In-=1);break;case"ArrowRight":if(!b||q.length>0||In===void 0)return;In===A.length-1?n(30,In=void 0):In<A.length-1&&n(30,In+=1)}},it,function(ve){if(v){var xt=ve.path&&ve.path.length>0?ve.path[0]:ve.target;v.contains(xt)||v.contains(ve.relatedTarget)||(n(1,S=!1),n(5,$e=!1),n(30,In=void 0),g&&g.blur())}},function(){_||(n(1,S=!0),n(5,$e=!$e))},function(ve){var xt=ve.detail;if(xt){n(3,q="");var Dt=Object.assign({},xt);Dt.isGroupHeader&&!Dt.isSelectable||(n(2,A=b?A?A.concat([Dt]):[Dt]:Dt),n(2,A),setTimeout(function(){n(5,$e=!1),n(30,In=void 0)}))}},function(ve){var xt=ve.detail;b?(n(2,A=A||[]),n(2,A=[].concat(nn(A),[He(xt)]))):n(2,A=He(xt)),c("itemCreated",xt),n(3,q=""),n(5,$e=!1),n(30,In=void 0)},function(){n(3,q=""),n(5,$e=!1)},h,j,z,L,U,F,x,K,we,R,I,Z,X,_e,Ve,He,function(){return r},ct,mt,gt,wt,Ft,yn,pn,Na,Vs,Ra,Ce,Lt,An,gr,yo,Eu,ur,Ul,r,function(ve){tn[ve?"unshift":"push"](function(){n(6,g=ve)})},function(){q=this.value,n(3,q)},function(ve){n(28,Jl=ve)},function(ve){tn[ve?"unshift":"push"](function(){n(0,v=ve)})}]}var Ya=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,dZ,fZ,Ar,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},uZ,[-1,-1,-1,-1]),i}return ne(n,[{key:"getFilteredItems",get:function(){return this.$$.ctx[62]}},{key:"handleClear",get:function(){return this.$$.ctx[27]}}]),n}();function hZ(t){zt(t,"svelte-13taczd","table.jse-transform-wizard.svelte-13taczd.svelte-13taczd{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-13taczd input.svelte-13taczd{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-13taczd tr th.svelte-13taczd{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer input{box-sizing:border-box}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd{flex:4;padding:4px 8px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);outline:none;background:var(--jse-input-background);color:inherit}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd:focus{border:var(--jse-input-border-focus)}")}function pZ(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T,j,O,S,N,A,$,q,Y,z,J,L;function D(je){t[18](je)}var U={containerClasses:"jse-filter-path",showIndicator:!0,items:t[6]};function W(je){t[19](je)}t[0]!==void 0&&(U.value=t[0]),a=new Ya({props:U}),tn.push(function(){return Ni(a,"value",D)});var F={containerClasses:"jse-filter-relation",showIndicator:!0,items:t[8]};function E(je){t[21](je)}t[1]!==void 0&&(F.value=t[1]),f=new Ya({props:F}),tn.push(function(){return Ni(f,"value",W)});var x={containerClasses:"jse-sort-path",showIndicator:!0,items:t[6]};function M(je){t[22](je)}t[3]!==void 0&&(x.value=t[3]),k=new Ya({props:x}),tn.push(function(){return Ni(k,"value",E)});var K={containerClasses:"jse-sort-direction",showIndicator:!0,items:t[9]};function se(je){t[23](je)}t[4]!==void 0&&(K.value=t[4]),_=new Ya({props:K}),tn.push(function(){return Ni(_,"value",M)});var we={containerClasses:"jse-projection-paths",isMulti:!0,showIndicator:!0,items:t[7]};return t[5]!==void 0&&(we.value=t[5]),q=new Ya({props:we}),tn.push(function(){return Ni(q,"value",se)}),{c:function(){e=oe("table"),n=oe("tr"),(r=oe("th")).textContent="Filter",i=Ee(),o=oe("td"),s=oe("div"),Le(a.$$.fragment),l=Ee(),Le(f.$$.fragment),d=Ee(),h=oe("input"),p=Ee(),v=oe("tr"),(m=oe("th")).textContent="Sort",g=Ee(),y=oe("td"),b=oe("div"),Le(k.$$.fragment),C=Ee(),Le(_.$$.fragment),j=Ee(),O=oe("tr"),(S=oe("th")).textContent="Pick",N=Ee(),A=oe("td"),$=oe("div"),Le(q.$$.fragment),P(r,"class","svelte-13taczd"),P(h,"class","jse-filter-value svelte-13taczd"),P(s,"class","jse-horizontal svelte-13taczd"),P(m,"class","svelte-13taczd"),P(b,"class","jse-horizontal svelte-13taczd"),P(S,"class","svelte-13taczd"),P($,"class","jse-horizontal svelte-13taczd"),P(e,"class","jse-transform-wizard svelte-13taczd")},m:function(je,R){ye(je,e,R),G(e,n),G(n,r),G(n,i),G(n,o),G(o,s),Pe(a,s,null),G(s,l),Pe(f,s,null),G(s,d),G(s,h),ma(h,t[2]),G(e,p),G(e,v),G(v,m),G(v,g),G(v,y),G(y,b),Pe(k,b,null),G(b,C),Pe(_,b,null),G(e,j),G(e,O),G(O,S),G(O,N),G(O,A),G(A,$),Pe(q,$,null),z=!0,J||(L=Fe(h,"input",t[20]),J=!0)},p:function(je,R){var H={};64&R[0]&&(H.items=je[6]),!u&&1&R[0]&&(u=!0,H.value=je[0],io(function(){return u=!1})),a.$set(H);var I={};!c&&2&R[0]&&(c=!0,I.value=je[1],io(function(){return c=!1})),f.$set(I),4&R[0]&&h.value!==je[2]&&ma(h,je[2]);var B={};64&R[0]&&(B.items=je[6]),!w&&8&R[0]&&(w=!0,B.value=je[3],io(function(){return w=!1})),k.$set(B);var Z={};!T&&16&R[0]&&(T=!0,Z.value=je[4],io(function(){return T=!1})),_.$set(Z);var le={};128&R[0]&&(le.items=je[7]),!Y&&32&R[0]&&(Y=!0,le.value=je[5],io(function(){return Y=!1})),q.$set(le)},i:function(je){z||(Q(a.$$.fragment,je),Q(f.$$.fragment,je),Q(k.$$.fragment,je),Q(_.$$.fragment,je),Q(q.$$.fragment,je),z=!0)},o:function(je){re(a.$$.fragment,je),re(f.$$.fragment,je),re(k.$$.fragment,je),re(_.$$.fragment,je),re(q.$$.fragment,je),z=!1},d:function(je){je&&me(e),Me(a),Me(f),Me(k),Me(_),Me(q),J=!1,L()}}}function vZ(t,e,n){var r,i,o,s,a,u,l,f,c,d,h,p,v=Ji("jsoneditor:TransformWizard"),m=e.json,g=e.queryOptions,y=g===void 0?{}:g,b=e.onChange,k=["==","!=","<","<=",">",">="].map(function(A){return{value:A,label:A}}),w=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],C=!((u=y==null?void 0:y.filter)===null||u===void 0)&&u.path?N(y.filter.path):null,_=!((l=y==null?void 0:y.filter)===null||l===void 0)&&l.relation?k.find(function(A){return A.value===y.filter.relation}):null,T=((f=y==null?void 0:y.filter)===null||f===void 0?void 0:f.value)||"",j=!((c=y==null?void 0:y.sort)===null||c===void 0)&&c.path?N(y.sort.path):null,O=!((d=y==null?void 0:y.sort)===null||d===void 0)&&d.direction?w.find(function(A){return A.value===y.sort.direction}):null,S=!((h=y==null?void 0:y.projection)===null||h===void 0)&&h.paths?y.projection.paths.map(N):null;function N(A){return{value:A,label:Kn(A)?"(whole item)":Ls(A)}}return t.$$set=function(A){"json"in A&&n(11,m=A.json),"queryOptions"in A&&n(10,y=A.queryOptions),"onChange"in A&&n(12,b=A.onChange)},t.$$.update=function(){2048&t.$$.dirty[0]&&n(17,r=Array.isArray(m)),133120&t.$$.dirty[0]&&n(16,i=r?jg(m):[]),133120&t.$$.dirty[0]&&n(15,o=r?jg(m,!0):[]),65536&t.$$.dirty[0]&&n(6,s=i.map(N)),32768&t.$$.dirty[0]&&n(7,a=o?o.map(N):[]),17472&t.$$.dirty[0]&&(n(14,p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.path)&&s.find(function(A){var $;return $n(A.value,($=y==null?void 0:y.filter)===null||$===void 0?void 0:$.path)}),1&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.filter)===null||$===void 0?void 0:$.path,A)||(v("changeFilterPath",A),n(10,y=Ae.exports.setIn(y,["filter","path"],A,!0)),b(y))}((C==null?void 0:C.value)||null),2&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.filter)===null||$===void 0?void 0:$.relation,A)||(v("changeFilterRelation",A),n(10,y=Ae.exports.setIn(y,["filter","relation"],A,!0)),b(y))}((_==null?void 0:_.value)||null),4&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.filter)===null||$===void 0?void 0:$.value,A)||(v("changeFilterValue",A),n(10,y=Ae.exports.setIn(y,["filter","value"],A,!0)),b(y))}(T||null),8&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.sort)===null||$===void 0?void 0:$.path,A)||(v("changeSortPath",A),n(10,y=Ae.exports.setIn(y,["sort","path"],A,!0)),b(y))}((j==null?void 0:j.value)||null),16&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.sort)===null||$===void 0?void 0:$.direction,A)||(v("changeSortDirection",A),n(10,y=Ae.exports.setIn(y,["sort","direction"],A,!0)),b(y))}((O==null?void 0:O.value)||null),32&t.$$.dirty[0]&&function(A){var $;$n(($=y==null?void 0:y.projection)===null||$===void 0?void 0:$.paths,A)||(v("changeProjectionPaths",A),n(10,y=Ae.exports.setIn(y,["projection","paths"],A,!0)),b(y))}(S?S.map(function(A){return A.value}):null)},[C,_,T,j,O,S,s,a,k,w,y,m,b,u,p,o,i,r,function(A){n(0,C=A)},function(A){n(1,_=A)},function(){T=this.value,n(2,T)},function(A){n(3,j=A)},function(A){n(4,O=A)},function(A){n(5,S=A)}]}var mZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,vZ,pZ,dn,{json:11,queryOptions:10,onChange:12},hZ,[-1,-1]),i}return ne(n)}();function gZ(t){zt(t,"svelte-19cxesy",".jse-select-query-language.svelte-19cxesy.svelte-19cxesy{position:relative;width:32px}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container.svelte-19cxesy{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;text-align:left;padding:var(--jse-padding) calc(2 * var(--jse-padding));white-space:nowrap;color:var(--jse-context-menu-color);background:var(--jse-context-menu-background)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy:hover{background:var(--jse-context-menu-background-highlight)}")}function q$(t,e,n){var r=t.slice();return r[5]=e[n],r}function yZ(t){var e,n;return e=new Gt({props:{data:gp}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function bZ(t){var e,n;return e=new Gt({props:{data:yp}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:Qe,i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function V$(t){var e,n,r,i,o,s,a,u,l,f,c=t[5].name+"",d=[bZ,yZ],h=[];function p(m,g){return m[5].id===m[0]?0:1}function v(){return t[4](t[5])}return n=p(t),r=h[n]=d[n](t),{c:function(){e=oe("button"),r.c(),i=Ee(),o=rt(c),s=Ee(),P(e,"type","button"),P(e,"class","jse-query-language svelte-19cxesy"),P(e,"title",a="Select ".concat(t[5].name," as query language")),Ze(e,"selected",t[5].id===t[0])},m:function(m,g){ye(m,e,g),h[n].m(e,null),G(e,i),G(e,o),G(e,s),u=!0,l||(f=Fe(e,"click",v),l=!0)},p:function(m,g){var y=n;(n=p(t=m))===y?h[n].p(t,g):(Ke(),re(h[y],1,1,function(){h[y]=null}),Ge(),(r=h[n])?r.p(t,g):(r=h[n]=d[n](t)).c(),Q(r,1),r.m(e,i)),(!u||2&g)&&c!==(c=t[5].name+"")&&on(o,c),(!u||2&g&&a!==(a="Select ".concat(t[5].name," as query language")))&&P(e,"title",a),3&g&&Ze(e,"selected",t[5].id===t[0])},i:function(m){u||(Q(r),u=!0)},o:function(m){re(r),u=!1},d:function(m){m&&me(e),h[n].d(),l=!1,f()}}}function kZ(t){for(var e,n,r,i=t[1],o=[],s=0;s<i.length;s+=1)o[s]=V$(q$(t,i,s));var a=function(u){return re(o[u],1,1,function(){o[u]=null})};return{c:function(){e=oe("div"),n=oe("div");for(var u=0;u<o.length;u+=1)o[u].c();P(n,"class","jse-select-query-language-container svelte-19cxesy"),P(e,"class","jse-select-query-language svelte-19cxesy")},m:function(u,l){ye(u,e,l),G(e,n);for(var f=0;f<o.length;f+=1)o[f].m(n,null);r=!0},p:function(u,l){var f=Et(l,1)[0];if(7&f){var c;for(i=u[1],c=0;c<i.length;c+=1){var d=q$(u,i,c);o[c]?(o[c].p(d,f),Q(o[c],1)):(o[c]=V$(d),o[c].c(),Q(o[c],1),o[c].m(n,null))}for(Ke(),c=i.length;c<o.length;c+=1)a(c);Ge()}},i:function(u){if(!r){for(var l=0;l<i.length;l+=1)Q(o[l]);r=!0}},o:function(u){o=o.filter(Boolean);for(var l=0;l<o.length;l+=1)re(o[l]);r=!1},d:function(u){u&&me(e),Ai(o,u)}}}function wZ(t,e,n){var r=e.queryLanguages,i=e.queryLanguageId,o=e.onChangeQueryLanguage;function s(a){n(0,i=a),o(a)}return t.$$set=function(a){"queryLanguages"in a&&n(1,r=a.queryLanguages),"queryLanguageId"in a&&n(0,i=a.queryLanguageId),"onChangeQueryLanguage"in a&&n(3,o=a.onChangeQueryLanguage)},[i,r,s,o,function(a){return s(a.id)}]}var xZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,wZ,kZ,Ar,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},gZ),i}return ne(n)}();function jZ(t){zt(t,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function H$(t){var e,n,r,i,o;return n=new Gt({props:{data:YV}}),{c:function(){e=oe("button"),Le(n.$$.fragment),P(e,"type","button"),P(e,"class","jse-config svelte-d01h2s"),P(e,"title","Select a query language")},m:function(s,a){ye(s,e,a),Pe(n,e,null),t[6](e),r=!0,i||(o=Fe(e,"click",t[3]),i=!0)},p:Qe,i:function(s){r||(Q(n.$$.fragment,s),r=!0)},o:function(s){re(n.$$.fragment,s),r=!1},d:function(s){s&&me(e),Me(n),t[6](null),i=!1,o()}}}function _Z(t){var e,n,r,i,o,s,a,u,l,f=t[0].length>1&&H$(t);return s=new Gt({props:{data:Pf}}),{c:function(){e=oe("div"),(n=oe("div")).textContent="Transform",r=Ee(),f&&f.c(),i=Ee(),o=oe("button"),Le(s.$$.fragment),P(n,"class","jse-title svelte-d01h2s"),P(o,"type","button"),P(o,"class","jse-close svelte-d01h2s"),P(e,"class","jse-header svelte-d01h2s")},m:function(c,d){ye(c,e,d),G(e,n),G(e,r),f&&f.m(e,null),G(e,i),G(e,o),Pe(s,o,null),a=!0,u||(l=Fe(o,"click",t[2]),u=!0)},p:function(c,d){var h=Et(d,1)[0];c[0].length>1?f?(f.p(c,h),1&h&&Q(f,1)):((f=H$(c)).c(),Q(f,1),f.m(e,i)):f&&(Ke(),re(f,1,1,function(){f=null}),Ge())},i:function(c){a||(Q(f),Q(s.$$.fragment,c),a=!0)},o:function(c){re(f),re(s.$$.fragment,c),a=!1},d:function(c){c&&me(e),f&&f.d(),Me(s),u=!1,l()}}}function SZ(t,e,n){var r,i=e.queryLanguages,o=e.queryLanguageId,s=e.onChangeQueryLanguage,a=Si("simple-modal").close,u=Si("absolute-popup"),l=u.openAbsolutePopup,f=u.closeAbsolutePopup;return t.$$set=function(c){"queryLanguages"in c&&n(0,i=c.queryLanguages),"queryLanguageId"in c&&n(4,o=c.queryLanguageId),"onChangeQueryLanguage"in c&&n(5,s=c.onChangeQueryLanguage)},[i,r,a,function(){l(xZ,{queryLanguages:i,queryLanguageId:o,onChangeQueryLanguage:function(c){f(),s(c)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},o,s,function(c){tn[c?"unshift":"push"](function(){n(1,r=c)})}]}var CZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,SZ,_Z,dn,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},jZ),i}return ne(n)}();function $Z(t){zt(t,"svelte-15uz9w0",".jse-modal.svelte-15uz9w0.svelte-15uz9w0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{padding:20px;overflow:auto}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex:1;display:flex;gap:calc(2 * var(--jse-padding));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding)) var(--jse-padding)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p{margin:var(--jse-padding) 0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 code{background:var(--jse-modal-code-background);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-15uz9w0{flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-15uz9w0{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{padding:var(--jse-padding) calc(2 * var(--jse-padding)) calc(2 * var(--jse-padding))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0 .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label.svelte-15uz9w0{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner.svelte-15uz9w0{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:focus,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:read-only,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-preview.jse-error.svelte-15uz9w0{flex:1;background:var(--jse-input-background-readonly);border:var(--jse-input-border);color:var(--jse-error-color);padding:calc(0.5 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 a{color:var(--jse-a-color)}.jse-modal.jse-transform.svelte-15uz9w0 a:hover{color:var(--jse-a-color-highlight)}")}function W$(t){var e,n,r,i,o,s=[OZ,AZ],a=[];function u(l,f){return 512&f[0]&&(e=null),e==null&&(e=!!Array.isArray(l[9])),e?0:1}return n=u(t,[-1,-1]),r=a[n]=s[n](t),{c:function(){r.c(),i=wn()},m:function(l,f){a[n].m(l,f),ye(l,i,f),o=!0},p:function(l,f){var c=n;(n=u(l,f))===c?a[n].p(l,f):(Ke(),re(a[c],1,1,function(){a[c]=null}),Ge(),(r=a[n])?r.p(l,f):(r=a[n]=s[n](l)).c(),Q(r,1),r.m(i.parentNode,i))},i:function(l){o||(Q(r),o=!0)},o:function(l){re(r),o=!1},d:function(l){a[n].d(l),l&&me(i)}}}function AZ(t){var e;return{c:function(){e=rt("(Only available for arrays, not for objects)")},m:function(n,r){ye(n,e,r)},p:Qe,i:Qe,o:Qe,d:function(n){n&&me(e)}}}function OZ(t){var e,n;return e=new mZ({props:{queryOptions:t[7],json:t[9],onChange:t[16]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};128&i[0]&&(o.queryOptions=r[7]),512&i[0]&&(o.json=r[9]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function U$(t){var e,n;return e=new Eb({props:{externalContent:t[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:t[2],escapeUnicodeCharacters:t[3],onRenderValue:t[5],onError:console.error,onChange:fn,onFocus:fn,onBlur:fn,onSortModal:fn,onTransformModal:fn,onClassName:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};16384&i[0]&&(o.externalContent=r[14]),4&i[0]&&(o.escapeControlCharacters=r[2]),8&i[0]&&(o.escapeUnicodeCharacters=r[3]),32&i[0]&&(o.onRenderValue=r[5]),64&i[0]&&(o.onClassName=r[6]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function EZ(t){var e,n,r=t[12].toString()+"";return{c:function(){e=oe("div"),n=rt(r),P(e,"class","jse-preview jse-error svelte-15uz9w0")},m:function(i,o){ye(i,e,o),G(e,n)},p:function(i,o){4096&o[0]&&r!==(r=i[12].toString()+"")&&on(n,r)},i:Qe,o:Qe,d:function(i){i&&me(e)}}}function TZ(t){var e,n;return e=new Eb({props:{externalContent:t[13],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:t[2],escapeUnicodeCharacters:t[3],onRenderValue:t[5],onError:console.error,onChange:fn,onFocus:fn,onBlur:fn,onSortModal:fn,onTransformModal:fn,onClassName:t[6]}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};8192&i[0]&&(o.externalContent=r[13]),4&i[0]&&(o.escapeControlCharacters=r[2]),8&i[0]&&(o.escapeUnicodeCharacters=r[3]),32&i[0]&&(o.onRenderValue=r[5]),64&i[0]&&(o.onClassName=r[6]),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function PZ(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T,j,O,S,N,A,$,q,Y,z,J,L,D,U,W,F,E,x,M,K,se,we,je,R,H=t[15](t[0]).description+"";e=new CZ({props:{queryLanguages:t[4],queryLanguageId:t[0],onChangeQueryLanguage:t[21]}}),y=new Gt({props:{data:t[10]?ts:oa}});var I=t[10]&&W$(t);q=new Gt({props:{data:t[11]?ts:oa}});var B=t[11]&&U$(t),Z=[TZ,EZ],le=[];function X(V,_e){return V[12]?1:0}return W=X(t),F=le[W]=Z[W](t),{c:function(){Le(e.$$.fragment),n=Ee(),r=oe("div"),i=oe("div"),o=oe("div"),(s=oe("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Language</div>',a=Ee(),u=oe("div"),l=Ee(),(f=oe("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Path</div>',c=Ee(),d=oe("input"),p=Ee(),v=oe("div"),m=oe("div"),g=oe("button"),Le(y.$$.fragment),b=rt(`
                Wizard`),k=Ee(),I&&I.c(),w=Ee(),(C=oe("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Query</div>',_=Ee(),T=oe("textarea"),j=Ee(),O=oe("div"),S=oe("div"),N=oe("div"),A=oe("div"),$=oe("button"),Le(q.$$.fragment),Y=rt(`
                  Original`),z=Ee(),B&&B.c(),J=Ee(),L=oe("div"),(D=oe("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Preview</div>',U=Ee(),F.c(),E=Ee(),x=oe("div"),M=oe("button"),K=rt("Transform"),P(s,"class","jse-label svelte-15uz9w0"),P(u,"class","jse-description svelte-15uz9w0"),P(f,"class","jse-label svelte-15uz9w0"),P(d,"class","jse-path svelte-15uz9w0"),P(d,"type","text"),d.readOnly=!0,P(d,"title","Selected path"),d.value=h=Kn(t[1])?"(whole document)":Ls(t[1]),P(g,"type","button"),P(g,"class","svelte-15uz9w0"),P(m,"class","jse-label-inner svelte-15uz9w0"),P(v,"class","jse-label svelte-15uz9w0"),P(C,"class","jse-label svelte-15uz9w0"),P(T,"class","jse-query svelte-15uz9w0"),P(T,"spellcheck","false"),T.value=t[8],P(o,"class","jse-query-contents svelte-15uz9w0"),P($,"type","button"),P($,"class","svelte-15uz9w0"),P(A,"class","jse-label-inner svelte-15uz9w0"),P(N,"class","jse-label svelte-15uz9w0"),P(S,"class","jse-original-data svelte-15uz9w0"),Ze(S,"jse-hide",!t[11]),P(D,"class","jse-label svelte-15uz9w0"),P(L,"class","jse-preview-data svelte-15uz9w0"),P(O,"class","jse-data-contents svelte-15uz9w0"),Ze(O,"jse-hide-original-data",!t[11]),P(i,"class","jse-main-contents svelte-15uz9w0"),P(M,"type","button"),P(M,"class","jse-primary svelte-15uz9w0"),M.disabled=se=!!t[12],P(x,"class","jse-actions svelte-15uz9w0"),P(r,"class","jse-contents svelte-15uz9w0")},m:function(V,_e){Pe(e,V,_e),ye(V,n,_e),ye(V,r,_e),G(r,i),G(i,o),G(o,s),G(o,a),G(o,u),u.innerHTML=H,G(o,l),G(o,f),G(o,c),G(o,d),G(o,p),G(o,v),G(v,m),G(m,g),Pe(y,g,null),G(g,b),G(o,k),I&&I.m(o,null),G(o,w),G(o,C),G(o,_),G(o,T),G(i,j),G(i,O),G(O,S),G(S,N),G(N,A),G(A,$),Pe(q,$,null),G($,Y),G(S,z),B&&B.m(S,null),G(O,J),G(O,L),G(L,D),G(L,U),le[W].m(L,null),G(r,E),G(r,x),G(x,M),G(M,K),we=!0,je||(R=[Fe(g,"click",t[19]),Fe(T,"input",t[17]),Fe($,"click",t[20]),Fe(M,"click",t[18]),yf(IZ.call(null,M))],je=!0)},p:function(V,_e){var Se={};16&_e[0]&&(Se.queryLanguages=V[4]),1&_e[0]&&(Se.queryLanguageId=V[0]),e.$set(Se),(!we||1&_e[0])&&H!==(H=V[15](V[0]).description+"")&&(u.innerHTML=H),(!we||2&_e[0]&&h!==(h=Kn(V[1])?"(whole document)":Ls(V[1]))&&d.value!==h)&&(d.value=h);var xe={};1024&_e[0]&&(xe.data=V[10]?ts:oa),y.$set(xe),V[10]?I?(I.p(V,_e),1024&_e[0]&&Q(I,1)):((I=W$(V)).c(),Q(I,1),I.m(o,w)):I&&(Ke(),re(I,1,1,function(){I=null}),Ge()),(!we||256&_e[0])&&(T.value=V[8]);var he={};2048&_e[0]&&(he.data=V[11]?ts:oa),q.$set(he),V[11]?B?(B.p(V,_e),2048&_e[0]&&Q(B,1)):((B=U$(V)).c(),Q(B,1),B.m(S,null)):B&&(Ke(),re(B,1,1,function(){B=null}),Ge()),2048&_e[0]&&Ze(S,"jse-hide",!V[11]);var fe=W;(W=X(V))===fe?le[W].p(V,_e):(Ke(),re(le[fe],1,1,function(){le[fe]=null}),Ge(),(F=le[W])?F.p(V,_e):(F=le[W]=Z[W](V)).c(),Q(F,1),F.m(L,null)),2048&_e[0]&&Ze(O,"jse-hide-original-data",!V[11]),(!we||4096&_e[0]&&se!==(se=!!V[12]))&&(M.disabled=se)},i:function(V){we||(Q(e.$$.fragment,V),Q(y.$$.fragment,V),Q(I),Q(q.$$.fragment,V),Q(B),Q(F),we=!0)},o:function(V){re(e.$$.fragment,V),re(y.$$.fragment,V),re(I),re(q.$$.fragment,V),re(B),re(F),we=!1},d:function(V){Me(e,V),V&&me(n),V&&me(r),Me(y),I&&I.d(),Me(q),B&&B.d(),le[W].d(),je=!1,rr(R)}}}function MZ(t){var e,n,r;return n=new XP({props:{$$slots:{default:[PZ]},$$scope:{ctx:t}}}),{c:function(){e=oe("div"),Le(n.$$.fragment),P(e,"class","jse-modal jse-transform svelte-15uz9w0")},m:function(i,o){ye(i,e,o),Pe(n,e,null),r=!0},p:function(i,o){var s={};32767&o[0]|8&o[1]&&(s.$$scope={dirty:o,ctx:i}),n.$set(s)},i:function(i){r||(Q(n.$$.fragment,i),r=!0)},o:function(i){re(n.$$.fragment,i),r=!1},d:function(i){i&&me(e),Me(n)}}}function IZ(t){t.focus()}function NZ(t,e,n){var r,i,o=Ji("jsoneditor:TransformModal"),s=e.id,a=s===void 0?"transform-modal-"+xg():s,u=e.json,l=e.selectedPath,f=l===void 0?[]:l,c=e.escapeControlCharacters,d=e.escapeUnicodeCharacters,h=e.queryLanguages,p=e.queryLanguageId,v=e.onChangeQueryLanguage,m=e.onRenderValue,g=e.onClassName,y=e.onTransform,b=Si("simple-modal").close,k="".concat(a,":").concat(Ae.exports.compileJSONPointer(f)),w=xo[k]||{},C=xo.showWizard!==!1,_=xo.showOriginal!==!1,T=w.queryOptions||{},j=p===w.queryLanguageId&&w.query?w.query:A(p).createQuery(u,w.queryOptions||{}),O=w.isManual||!1,S=void 0,N={text:""};function A(q){return h.find(function(Y){return Y.id===q})||h[0]}var $=Rl(function(q,Y){try{o("previewTransform",{query:Y});var z=A(p).executeQuery(q,Y);n(13,N={json:z}),n(12,S=void 0)}catch(J){n(13,N={text:""}),n(12,S=J)}},300);return t.$$set=function(q){"id"in q&&n(22,a=q.id),"json"in q&&n(23,u=q.json),"selectedPath"in q&&n(1,f=q.selectedPath),"escapeControlCharacters"in q&&n(2,c=q.escapeControlCharacters),"escapeUnicodeCharacters"in q&&n(3,d=q.escapeUnicodeCharacters),"queryLanguages"in q&&n(4,h=q.queryLanguages),"queryLanguageId"in q&&n(0,p=q.queryLanguageId),"onChangeQueryLanguage"in q&&n(24,v=q.onChangeQueryLanguage),"onRenderValue"in q&&n(5,m=q.onRenderValue),"onClassName"in q&&n(6,g=q.onClassName),"onTransform"in q&&n(25,y=q.onTransform)},t.$$.update=function(){8388610&t.$$.dirty[0]&&n(9,r=Ae.exports.getIn(u,f)),512&t.$$.dirty[0]&&n(14,i={json:r}),768&t.$$.dirty[0]&&$(r,j),201326977&t.$$.dirty[0]&&(n(26,xo[k]={queryOptions:T,query:j,queryLanguageId:p,isManual:O},xo),o("store state in memory",k,xo[k]))},[p,f,c,d,h,m,g,T,j,r,C,_,S,N,i,A,function(q){n(7,T=q),n(8,j=A(p).createQuery(u,q)),n(27,O=!1),o("updateQueryByWizard",{queryOptions:T,query:j,isManual:O})},function(q){n(8,j=q.target.value),n(27,O=!0),o("handleChangeQuery",{query:j,isManual:O})},function(){try{o("handleTransform",{query:j});var q=A(p).executeQuery(r,j);y([{op:"replace",path:Ae.exports.compileJSONPointer(f),value:q}]),b()}catch(Y){console.error(Y),n(13,N={text:""}),n(12,S=Y.toString())}},function(){n(10,C=!C),n(26,xo.showWizard=C,xo)},function(){n(11,_=!_),n(26,xo.showOriginal=_,xo)},function(q){o("handleChangeQueryLanguage",q),n(0,p=q),v(q);var Y=A(p);n(8,j=Y.createQuery(u,T)),n(27,O=!1)},a,u,v,y,xo,O]}var LZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,NZ,MZ,dn,{id:22,json:23,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,queryLanguages:4,queryLanguageId:0,onChangeQueryLanguage:24,onRenderValue:5,onClassName:6,onTransform:25},$Z,[-1,-1]),i}return ne(n)}(),Qs={};function DZ(t){zt(t,"svelte-ery7bx",".jse-modal.svelte-ery7bx.svelte-ery7bx{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-ery7bx .jse-contents.svelte-ery7bx{padding:20px;overflow:auto}.jse-modal.svelte-ery7bx .jse-contents .jse-actions.svelte-ery7bx{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-ery7bx .jse-contents .jse-actions button.svelte-ery7bx:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-sort.svelte-ery7bx table.svelte-ery7bx{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding)}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-ery7bx table th input.jse-path.svelte-ery7bx:read-only,.jse-modal.jse-sort.svelte-ery7bx table td input.jse-path.svelte-ery7bx:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-sort.svelte-ery7bx table th.svelte-ery7bx .selectContainer input,.jse-modal.jse-sort.svelte-ery7bx table td.svelte-ery7bx .selectContainer input{box-sizing:border-box}.jse-modal.jse-sort.svelte-ery7bx .jse-space.svelte-ery7bx{height:200px}")}function J$(t){var e,n,r,i,o,s,a;function u(f){t[12](f)}var l={showIndicator:!0,items:t[4]};return t[1]!==void 0&&(l.value=t[1]),o=new Ya({props:l}),tn.push(function(){return Ni(o,"value",u)}),{c:function(){e=oe("tr"),(n=oe("th")).textContent="Property",r=Ee(),i=oe("td"),Le(o.$$.fragment),P(n,"class","svelte-ery7bx"),P(i,"class","svelte-ery7bx")},m:function(f,c){ye(f,e,c),G(e,n),G(e,r),G(e,i),Pe(o,i,null),a=!0},p:function(f,c){var d={};16&c&&(d.items=f[4]),!s&&2&c&&(s=!0,d.value=f[1],io(function(){return s=!1})),o.$set(d)},i:function(f){a||(Q(o.$$.fragment,f),a=!0)},o:function(f){re(o.$$.fragment,f),a=!1},d:function(f){f&&me(e),Me(o)}}}function RZ(t){var e,n,r,i,o,s,a,u,l,f,c,d,h,p,v,m,g,y,b,k,w,C,_,T,j,O,S,N,A,$,q,Y;n=new E9({props:{title:t[3]?"Sort array items":"Sort object keys"}});var z=t[3]&&(t[4].length>1||t[1]===void 0)&&J$(t);function J(D){t[13](D)}var L={showIndicator:!0,items:t[5],isClearable:!1};return t[2]!==void 0&&(L.value=t[2]),w=new Ya({props:L}),tn.push(function(){return Ni(w,"value",J)}),{c:function(){e=oe("div"),Le(n.$$.fragment),r=Ee(),i=oe("div"),o=oe("table"),(s=oe("colgroup")).innerHTML=`<col width="25%"/> 
        <col width="75%"/>`,a=Ee(),u=oe("tbody"),l=oe("tr"),(f=oe("th")).textContent="Path",c=Ee(),d=oe("td"),h=oe("input"),v=Ee(),z&&z.c(),m=Ee(),g=oe("tr"),(y=oe("th")).textContent="Direction",b=Ee(),k=oe("td"),Le(w.$$.fragment),_=Ee(),T=oe("div"),j=Ee(),O=oe("div"),S=oe("button"),N=rt("Sort"),P(f,"class","svelte-ery7bx"),P(h,"class","jse-path svelte-ery7bx"),P(h,"type","text"),h.readOnly=!0,P(h,"title","Selected path"),h.value=p=Kn(t[0])?"(whole document)":Ls(t[0]),P(d,"class","svelte-ery7bx"),P(y,"class","svelte-ery7bx"),P(k,"class","svelte-ery7bx"),P(o,"class","svelte-ery7bx"),P(T,"class","jse-space svelte-ery7bx"),P(S,"type","button"),P(S,"class","jse-primary svelte-ery7bx"),S.disabled=A=!!t[3]&&!t[1],P(O,"class","jse-actions svelte-ery7bx"),P(i,"class","jse-contents svelte-ery7bx"),P(e,"class","jse-modal jse-sort svelte-ery7bx")},m:function(D,U){ye(D,e,U),Pe(n,e,null),G(e,r),G(e,i),G(i,o),G(o,s),G(o,a),G(o,u),G(u,l),G(l,f),G(l,c),G(l,d),G(d,h),G(u,v),z&&z.m(u,null),G(u,m),G(u,g),G(g,y),G(g,b),G(g,k),Pe(w,k,null),G(i,_),G(i,T),G(i,j),G(i,O),G(O,S),G(S,N),$=!0,q||(Y=[Fe(S,"click",t[6]),yf(BZ.call(null,S))],q=!0)},p:function(D,U){var W=Et(U,1)[0],F={};8&W&&(F.title=D[3]?"Sort array items":"Sort object keys"),n.$set(F),(!$||1&W&&p!==(p=Kn(D[0])?"(whole document)":Ls(D[0]))&&h.value!==p)&&(h.value=p),D[3]&&(D[4].length>1||D[1]===void 0)?z?(z.p(D,W),26&W&&Q(z,1)):((z=J$(D)).c(),Q(z,1),z.m(u,m)):z&&(Ke(),re(z,1,1,function(){z=null}),Ge());var E={};!C&&4&W&&(C=!0,E.value=D[2],io(function(){return C=!1})),w.$set(E),(!$||10&W&&A!==(A=!!D[3]&&!D[1]))&&(S.disabled=A)},i:function(D){$||(Q(n.$$.fragment,D),Q(z),Q(w.$$.fragment,D),$=!0)},o:function(D){re(n.$$.fragment,D),re(z),re(w.$$.fragment,D),$=!1},d:function(D){D&&me(e),Me(n),z&&z.d(),Me(w),q=!1,rr(Y)}}}function BZ(t){t.focus()}function zZ(t,e,n){var r,i,o,s=Ji("jsoneditor:SortModal"),a=e.id,u=e.json,l=e.selectedPath,f=e.onSort,c=Si("simple-modal").close,d="".concat(a,":").concat(Ae.exports.compileJSONPointer(l)),h=Ae.exports.getIn(u,l),p={value:1,label:"ascending"},v=[p,{value:-1,label:"descending"}],m=Qs[d]&&Qs[d].selectedProperty||void 0,g=Qs[d]&&Qs[d].selectedDirection||p;function y(b){return{value:b,label:Kn(b)?"(whole item)":Ls(b)}}return t.$$set=function(b){"id"in b&&n(7,a=b.id),"json"in b&&n(8,u=b.json),"selectedPath"in b&&n(0,l=b.selectedPath),"onSort"in b&&n(9,f=b.onSort)},t.$$.update=function(){8&t.$$.dirty&&n(11,i=r?jg(h):void 0),2048&t.$$.dirty&&n(4,o=i?i.map(y):void 0),18&t.$$.dirty&&m===void 0&&o&&o.length===1&&n(1,m=o[0]),1030&t.$$.dirty&&(n(10,Qs[d]={selectedProperty:m,selectedDirection:g},Qs),s("store state in memory",d,Qs[d]))},n(3,r=Array.isArray(h)),[l,m,g,r,o,v,function(){if(r){if(!m)return;var b=m.value,k=g.value,w=function(T){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=zY(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],arguments.length>3&&arguments[3]!==void 0?arguments[3]:1),S=Ae.exports.getIn(T,j);return[{op:"replace",path:Ae.exports.compileJSONPointer(j),value:S.slice(0).sort(O)}]}(u,l,b,k);f(w)}else if(Sr(h)){var C=g.value,_=function(T){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=Ae.exports.getIn(T,j),N=Object.keys(S).slice();N.sort(function(z,J){return O*Ob(z,J)});for(var A=[],$=0;$<N.length;$++){var q=N[$],Y=Ae.exports.compileJSONPointer(j.concat(q));A.push({op:"move",from:Y,path:Y})}return A}(u,l,C);f(_)}else console.error("Cannot sort: no array or object");c()},a,u,f,Qs,i,function(b){n(1,m=b),n(4,o),n(11,i),n(3,r)},function(b){n(2,g=b)}]}var FZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,zZ,RZ,dn,{id:7,json:8,selectedPath:0,onSort:9},DZ),i}return ne(n)}();function qZ(t,e,n){var r=Si("simple-modal");return[r.open,r.close]}var VZ=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,qZ,null,dn,{open:0,close:1}),i}return ne(n,[{key:"open",get:function(){return this.$$.ctx[0]}},{key:"close",get:function(){return this.$$.ctx[1]}}]),n}();function HZ(t){return t&&t.space===!0&&Object.keys(t).length===1}function WZ(t){zt(t,"svelte-1ogdbp0",`:root{--jse-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
    Cantarell, "Helvetica Neue", sans-serif;--jse-font-family-mono:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;--jse-font-size-mono:14px;--jse-font-size:16px;--jse-font-size-code-mode-search:80%;--jse-line-height:calc(1em + 4px);--jse-indent-size:calc(1em + 4px);--jse-color-picker-button-size:1em;--jse-padding:10px;--jse-theme-color:#3883fa;--jse-theme-color-highlight:#5f9dff;--jse-background-color:#fff;--jse-text-color:#4d4d4d;--jse-text-color-inverse:#fff;--jse-error-color:#ee5341;--jse-warning-color:#fdc539;--jse-main-border:1px solid #d7d7d7;--jse-menu-color:var(--jse-text-color-inverse);--jse-menu-button-size:32px;--jse-modal-background:#f5f5f5;--jse-modal-overlay-background:rgba(0, 0, 0, 0.3);--jse-modal-code-background:rgba(0, 0, 0, 0.05);--jse-panel-background:#ebebeb;--jse-panel-color:var(--jse-text-color);--jse-panel-color-readonly:#b2b2b2;--jse-panel-border:var(--jse-main-border);--jse-panel-button-color:inherit;--jse-panel-button-background:transparent;--jse-panel-button-color-highlight:var(--jse-text-color);--jse-panel-button-background-highlight:#e0e0e0;--jse-navigation-bar-color:#656565;--jse-navigation-bar-background:var(--jse-background-color);--jse-navigation-bar-background-highlight:#e5e5e5;--jse-navigation-bar-dropdown-color:#656565;--jse-context-menu-background:#656565;--jse-context-menu-background-highlight:#7a7a7a;--jse-context-menu-color:var(--jse-text-color-inverse);--jse-context-menu-color-disabled:#9d9d9d;--jse-context-menu-separator-color:#7a7a7a;--jse-context-menu-button-background:var(--jse-context-menu-background);--jse-context-menu-button-background-highlight:var(--jse-context-menu-background-highlight);--jse-context-menu-button-color:var(--jse-context-menu-color);--jse-context-menu-button-size:calc(1em + 4px);--jse-context-menu-tip-background:rgba(255, 255, 255, 0.2);--jse-context-menu-tip-color:inherit;--jse-key-color:#1a1a1a;--jse-value-color:#1a1a1a;--jse-value-color-number:#ee422e;--jse-value-color-boolean:#ff8c00;--jse-value-color-null:#004ed0;--jse-value-color-string:#008000;--jse-value-color-url:#008000;--jse-delimiter-color:rgba(0, 0, 0, 0.38);--jse-edit-outline:2px solid #656565;--jse-hover-background-color:rgba(0, 0, 0, 0.06);--jse-selection-background-color:#d3d3d3;--jse-selection-background-light-color:#e8e8e8;--jse-collapsed-items-background-color:#f5f5f5;--jse-collapsed-items-selected-background-color:#c2c2c2;--jse-collapsed-items-link-color:rgba(0, 0, 0, 0.38);--jse-collapsed-items-link-color-highlight:#ee5341;--jse-search-match-color:#ffe665;--jse-search-match-outline:1px solid #ffd700;--jse-search-match-active-color:#ffd700;--jse-search-match-active-outline:1px solid #e1be00;--jse-tag-background:rgba(0, 0, 0, 0.2);--jse-tag-color:var(--jse-text-color-inverse);--jse-controls-box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);--jse-input-background:var(--jse-background-color);--jse-input-background-readonly:transparent;--jse-input-border:1px solid #d8dbdf;--jse-input-border-focus:1px solid var(--jse-theme-color);--jse-input-radius:3px;--jse-button-background:#e0e0e0;--jse-button-background-highlight:#e7e7e7;--jse-button-color:var(--jse-text-color);--jse-button-primary-background:var(--jse-theme-color);--jse-button-primary-background-highlight:var(--jse-theme-color-highlight);--jse-button-primary-background-disabled:#9d9d9d;--jse-button-primary-color:var(--jse-text-color-inverse);--jse-a-color:#156fc5;--jse-a-color-highlight:#0f508d;--jse-message-error-background:var(--jse-error-color);--jse-message-error-color:var(--jse-text-color-inverse);--jse-message-warning-background:#ffde5c;--jse-message-warning-color:var(--jse-text-color);--jse-message-success-background:#9ac45d;--jse-message-success-color:var(--jse-text-color-inverse);--jse-message-info-background:#9d9d9d;--jse-message-info-color:var(--jse-text-color-inverse);--jse-message-action-background:rgba(255, 255, 255, 0.2);--jse-message-action-background-highlight:rgba(255, 255, 255, 0.3);--itemIsActiveBG:#3883fa;--border:1px solid #d8dbdf;--borderRadius:3px;--background:#fff;--jse-color-picker-background:var(--jse-panel-background);--jse-color-picker-border-box-shadow:#cbcbcb 0 0 0 1px}.jse-main.svelte-1ogdbp0{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;position:relative;display:flex;flex-direction:row}`)}function UZ(t){var e,n,r={readOnly:t[2],indentation:t[3],externalContent:t[0],mainMenuBar:t[5],navigationBar:t[6],escapeControlCharacters:t[8],escapeUnicodeCharacters:t[9],validator:t[10],onError:t[13],onChange:t[21],onRequestRepair:t[23],onRenderValue:t[11],onClassName:t[12],onFocus:t[25],onBlur:t[26],onRenderMenu:t[27],onSortModal:t[29],onTransformModal:t[28]};return e=new Eb({props:r}),t[54](e),{c:function(){Le(e.$$.fragment)},m:function(i,o){Pe(e,i,o),n=!0},p:function(i,o){var s={};4&o[0]&&(s.readOnly=i[2]),8&o[0]&&(s.indentation=i[3]),1&o[0]&&(s.externalContent=i[0]),32&o[0]&&(s.mainMenuBar=i[5]),64&o[0]&&(s.navigationBar=i[6]),256&o[0]&&(s.escapeControlCharacters=i[8]),512&o[0]&&(s.escapeUnicodeCharacters=i[9]),1024&o[0]&&(s.validator=i[10]),8192&o[0]&&(s.onError=i[13]),2048&o[0]&&(s.onRenderValue=i[11]),4096&o[0]&&(s.onClassName=i[12]),e.$set(s)},i:function(i){n||(Q(e.$$.fragment,i),n=!0)},o:function(i){re(e.$$.fragment,i),n=!1},d:function(i){t[54](null),Me(e,i)}}}function JZ(t){var e,n,r={text:t[20](t[0]),readOnly:t[2],indentation:t[3],tabSize:t[4],mainMenuBar:t[5],statusBar:t[7],escapeUnicodeCharacters:t[9],validator:t[10],onChange:t[22],onSwitchToTreeMode:t[24],onError:t[13],onFocus:t[25],onBlur:t[26],onRenderMenu:t[27],onSortModal:t[29],onTransformModal:t[28]};return e=new LG({props:r}),t[53](e),{c:function(){Le(e.$$.fragment)},m:function(i,o){Pe(e,i,o),n=!0},p:function(i,o){var s={};1&o[0]&&(s.text=i[20](i[0])),4&o[0]&&(s.readOnly=i[2]),8&o[0]&&(s.indentation=i[3]),16&o[0]&&(s.tabSize=i[4]),32&o[0]&&(s.mainMenuBar=i[5]),128&o[0]&&(s.statusBar=i[7]),512&o[0]&&(s.escapeUnicodeCharacters=i[9]),1024&o[0]&&(s.validator=i[10]),8192&o[0]&&(s.onError=i[13]),e.$set(s)},i:function(i){n||(Q(e.$$.fragment,i),n=!0)},o:function(i){re(e.$$.fragment,i),n=!1},d:function(i){t[53](null),Me(e,i)}}}function K$(t){var e,n,r,i,o=[JZ,UZ],s=[];function a(u,l){return u[1]===Du?0:1}return e=a(t),n=s[e]=o[e](t),{c:function(){n.c(),r=wn()},m:function(u,l){s[e].m(u,l),ye(u,r,l),i=!0},p:function(u,l){var f=e;(e=a(u))===f?s[e].p(u,l):(Ke(),re(s[f],1,1,function(){s[f]=null}),Ge(),(n=s[e])?n.p(u,l):(n=s[e]=o[e](u)).c(),Q(n,1),n.m(r.parentNode,r))},i:function(u){i||(Q(n),i=!0)},o:function(u){re(n),i=!1},d:function(u){s[e].d(u),u&&me(r)}}}function KZ(t){var e,n,r=t[14],i=K$(t);return{c:function(){e=oe("div"),i.c(),P(e,"class","jse-main svelte-1ogdbp0"),Ze(e,"jse-focus",t[15])},m:function(o,s){ye(o,e,s),i.m(e,null),t[55](e),n=!0},p:function(o,s){16384&s[0]&&dn(r,r=o[14])?(Ke(),re(i,1,1,Qe),Ge(),(i=K$(o)).c(),Q(i,1),i.m(e,null)):i.p(o,s),32768&s[0]&&Ze(e,"jse-focus",o[15])},i:function(o){n||(Q(i),n=!0)},o:function(o){re(i),n=!1},d:function(o){o&&me(e),i.d(o),t[55](null)}}}function GZ(t){var e,n,r,i,o;function s(u){t[52](u)}var a={};return t[19]!==void 0&&(a.open=t[19]),e=new VZ({props:a}),tn.push(function(){return Ni(e,"open",s)}),i=new XP({props:{$$slots:{default:[KZ]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment),r=Ee(),Le(i.$$.fragment)},m:function(u,l){Pe(e,u,l),ye(u,r,l),Pe(i,u,l),o=!0},p:function(u,l){var f={};!n&&524288&l[0]&&(n=!0,f.open=u[19],io(function(){return n=!1})),e.$set(f);var c={};524287&l[0]|1073741824&l[1]&&(c.$$scope={dirty:l,ctx:u}),i.$set(c)},i:function(u){o||(Q(e.$$.fragment,u),Q(i.$$.fragment,u),o=!0)},o:function(u){re(e.$$.fragment,u),re(i.$$.fragment,u),o=!1},d:function(u){Me(e,u),u&&me(r),Me(i,u)}}}function QZ(t){var e,n;return e=new BB({props:{$$slots:{default:[GZ]},$$scope:{ctx:t}}}),{c:function(){Le(e.$$.fragment)},m:function(r,i){Pe(e,r,i),n=!0},p:function(r,i){var o={};1048575&i[0]|1073741824&i[1]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i:function(r){n||(Q(e.$$.fragment,r),n=!0)},o:function(r){re(e.$$.fragment,r),n=!1},d:function(r){Me(e,r)}}}function R9(t){this.$set(t)}function B9(){this.$destroy()}function YZ(t,e,n){var r,i,o,s,a,u,l=Ji("jsoneditor:Main"),f=e.content,c=f===void 0?{text:""}:f,d=e.readOnly,h=d!==void 0&&d,p=e.indentation,v=p===void 0?2:p,m=e.tabSize,g=m===void 0?4:m,y=e.mode,b=y===void 0?Gl:y,k=e.mainMenuBar,w=k===void 0||k,C=e.navigationBar,_=C===void 0||C,T=e.statusBar,j=T===void 0||T,O=e.escapeControlCharacters,S=O!==void 0&&O,N=e.escapeUnicodeCharacters,A=N!==void 0&&N,$=e.validator,q=$===void 0?null:$,Y=e.queryLanguages,z=Y===void 0?[uX]:Y,J=e.queryLanguageId,L=J===void 0?z[0].id:J,D=e.onChangeQueryLanguage,U=D===void 0?fn:D,W=e.onChange,F=W===void 0?null:W,E=e.onRenderValue,x=E===void 0?IX:E,M=e.onClassName,K=M===void 0?fn:M,se=e.onRenderMenu,we=se===void 0?fn:se,je=e.onChangeMode,R=je===void 0?fn:je,H=e.onError,I=H===void 0?function(pe){console.error(pe),alert(pe.toString())}:H,B=e.onFocus,Z=B===void 0?fn:B,le=e.onBlur,X=le===void 0?fn:le,V=xg(),_e=!1;function Se(){s?s.focus():o&&o.focus()}function xe(pe,He,st){n(0,c=pe),F&&F(pe,He,st)}function he(){return(he=Nn(jt().mark(function pe(){return jt().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return n(1,b=Du),He.next=3,vr();case 3:R(Du);case 4:case"end":return He.stop()}},pe)}))).apply(this,arguments)}function fe(){return(fe=Nn(jt().mark(function pe(){return jt().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return n(1,b=Gl),He.next=3,vr();case 3:R(Gl);case 4:case"end":return He.stop()}},pe)}))).apply(this,arguments)}function ke(pe){return Oe.apply(this,arguments)}function Oe(){return(Oe=Nn(jt().mark(function pe(He){return jt().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(b!==He){st.next=2;break}return st.abrupt("return");case 2:return n(1,b=He),st.next=5,vr();case 5:Se(),R(He);case 7:case"end":return st.stop()}},pe)}))).apply(this,arguments)}var De={separator:!0};function Ve(pe){l("handleChangeQueryLanguage",pe),n(30,L=pe),U(pe)}return t.$$set=function(pe){"content"in pe&&n(0,c=pe.content),"readOnly"in pe&&n(2,h=pe.readOnly),"indentation"in pe&&n(3,v=pe.indentation),"tabSize"in pe&&n(4,g=pe.tabSize),"mode"in pe&&n(1,b=pe.mode),"mainMenuBar"in pe&&n(5,w=pe.mainMenuBar),"navigationBar"in pe&&n(6,_=pe.navigationBar),"statusBar"in pe&&n(7,j=pe.statusBar),"escapeControlCharacters"in pe&&n(8,S=pe.escapeControlCharacters),"escapeUnicodeCharacters"in pe&&n(9,A=pe.escapeUnicodeCharacters),"validator"in pe&&n(10,q=pe.validator),"queryLanguages"in pe&&n(31,z=pe.queryLanguages),"queryLanguageId"in pe&&n(30,L=pe.queryLanguageId),"onChangeQueryLanguage"in pe&&n(32,U=pe.onChangeQueryLanguage),"onChange"in pe&&n(33,F=pe.onChange),"onRenderValue"in pe&&n(11,x=pe.onRenderValue),"onClassName"in pe&&n(12,K=pe.onClassName),"onRenderMenu"in pe&&n(34,we=pe.onRenderMenu),"onChangeMode"in pe&&n(35,R=pe.onChangeMode),"onError"in pe&&n(13,I=pe.onError),"onFocus"in pe&&n(36,Z=pe.onFocus),"onBlur"in pe&&n(37,X=pe.onBlur)},t.$$.update=function(){if(1&t.$$.dirty[0]){var pe=Kv(c);pe&&console.error("Error: "+pe)}2&t.$$.dirty[0]&&n(51,r=b===Du),2&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&(u=[{text:"code",title:"Switch to code mode (current mode: ".concat(b,")"),className:"jse-group-button jse-first"+(r?" jse-selected":""),onClick:function(){return ke(Du)}},{text:"tree",title:"Switch to tree mode (current mode: ".concat(b,")"),className:"jse-group-button jse-last"+(r?"":" jse-selected"),onClick:function(){return ke(Gl)}}])},[c,b,h,v,g,w,_,j,S,A,q,x,K,I,V,_e,i,o,s,a,function(pe){return _g(pe)?pe.text:JSON.stringify(pe.json,null,v)},xe,function(pe,He){xe({text:pe,json:void 0},{text:He,json:void 0},null)},function(){return he.apply(this,arguments)},function(){return fe.apply(this,arguments)},function(){n(15,_e=!0),Z&&Z()},function(){n(15,_e=!1),X&&X()},function(pe,He){var st=pe===Gl||pe===Du?HZ(He[0])?u.concat(He):u.concat([De],He):He;return we(pe,st)||st},function(pe){var He=pe.id,st=pe.json,Rt=pe.selectedPath,hn=pe.onTransform,ie=pe.onClose;console.log("json",st),h||a(LZ,{id:He,json:st,selectedPath:Rt,escapeControlCharacters:S,escapeUnicodeCharacters:A,queryLanguages:z,queryLanguageId:L,onChangeQueryLanguage:Ve,onRenderValue:x,onClassName:K,onTransform:hn},FB,{onClose:ie})},function(pe){var He=pe.id,st=pe.json,Rt=pe.selectedPath,hn=pe.onSort,ie=pe.onClose;h||a(FZ,{id:He,json:st,selectedPath:Rt,onSort:hn},zB,{onClose:ie})},L,z,U,F,we,R,Z,X,function(){return c},function(pe){l("set");var He=Kv(pe);if(He)throw new Error(He);n(14,V=xg()),n(0,c=pe)},function(pe){l("update");var He=Kv(pe);if(He)throw new Error(He);n(0,c=pe)},function(pe){if(_g(c))try{n(0,c={json:JSON.parse(c.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}return o?o.patch(pe):s?s.patch(pe):void 0},function(pe){if(o)return o.expand(pe);throw new Error('Method expand is not available in mode "'.concat(b,'"'))},function(pe){if(s)s.openTransformModal(pe);else{if(!o)throw new Error('Method transform is not available in mode "'.concat(b,'"'));o.openTransformModal(pe)}},function(){return o?o.acceptAutoRepair():c},function(pe){if(o)return o.scrollTo(pe);throw new Error('Method scrollTo is not available in mode "'.concat(b,'"'))},function(pe){if(o)return o.findElement(pe);throw new Error('Method findElement is not available in mode "'.concat(b,'"'))},Se,function(){s&&s.refresh()},R9,B9,r,function(pe){n(19,a=pe)},function(pe){tn[pe?"unshift":"push"](function(){n(18,s=pe)})},function(pe){tn[pe?"unshift":"push"](function(){n(17,o=pe)})},function(pe){tn[pe?"unshift":"push"](function(){n(16,i=pe)})}]}var G$=function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,YZ,QZ,dn,{content:0,readOnly:2,indentation:3,tabSize:4,mode:1,mainMenuBar:5,navigationBar:6,statusBar:7,escapeControlCharacters:8,escapeUnicodeCharacters:9,validator:10,queryLanguages:31,queryLanguageId:30,onChangeQueryLanguage:32,onChange:33,onRenderValue:11,onClassName:12,onRenderMenu:34,onChangeMode:35,onError:13,onFocus:36,onBlur:37,get:38,set:39,update:40,patch:41,expand:42,transform:43,acceptAutoRepair:44,scrollTo:45,findElement:46,focus:47,refresh:48,updateProps:49,destroy:50},WZ,[-1,-1]),i}return ne(n,[{key:"get",get:function(){return this.$$.ctx[38]}},{key:"set",get:function(){return this.$$.ctx[39]}},{key:"update",get:function(){return this.$$.ctx[40]}},{key:"patch",get:function(){return this.$$.ctx[41]}},{key:"expand",get:function(){return this.$$.ctx[42]}},{key:"transform",get:function(){return this.$$.ctx[43]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[44]}},{key:"scrollTo",get:function(){return this.$$.ctx[45]}},{key:"findElement",get:function(){return this.$$.ctx[46]}},{key:"focus",get:function(){return this.$$.ctx[47]}},{key:"refresh",get:function(){return this.$$.ctx[48]}},{key:"updateProps",get:function(){return R9}},{key:"destroy",get:function(){return B9}}]),n}();function XZ(t){zt(t,"svelte-rc6e9m",".jse-value.jse-string.svelte-rc6e9m{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rc6e9m,.jse-value.jse-array.svelte-rc6e9m{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rc6e9m{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rc6e9m{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rc6e9m{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rc6e9m{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rc6e9m{color:var(--jse-value-color-url);text-decoration:underline}.jse-enum-value.svelte-rc6e9m{background:var(--jse-hover-background-color);border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-rc6e9m{background:var(--jse-selection-background-color);color:inherit}.jse-enum-value.jse-value.svelte-rc6e9m:focus{color:var(--jse-text-color)}.jse-json-node.jse-selected .jse-enum-value.svelte-rc6e9m{background:transparent}")}function Q$(t,e,n){var r=t.slice();return r[13]=e[n],r}function Y$(t){var e,n,r,i=t[13].text+"";return{c:function(){e=oe("option"),n=rt(i),e.__value=r=t[13].value,e.value=e.__value},m:function(o,s){ye(o,e,s),G(e,n)},p:function(o,s){2&s&&i!==(i=o[13].text+"")&&on(n,i),2&s&&r!==(r=o[13].value)&&(e.__value=r,e.value=e.__value)},d:function(o){o&&me(e)}}}function ZZ(t){for(var e,n,r,i,o=t[1],s=[],a=0;a<o.length;a+=1)s[a]=Y$(Q$(t,o,a));return{c:function(){e=oe("select");for(var u=0;u<s.length;u+=1)s[u].c();P(e,"class",n=wr("jse-enum-value ".concat(pf(t[3])))+" svelte-rc6e9m"),t[3]===void 0&&ya(function(){return t[10].call(e)}),Ze(e,"jse-selected",t[0])},m:function(u,l){ye(u,e,l);for(var f=0;f<s.length;f+=1)s[f].m(e,null);K_(e,t[3]),t[11](e),r||(i=[Fe(e,"change",t[10]),Fe(e,"change",t[4]),Fe(e,"mousedown",eee)],r=!0)},p:function(u,l){var f=Et(l,1)[0];if(2&f){var c;for(o=u[1],c=0;c<o.length;c+=1){var d=Q$(u,o,c);s[c]?s[c].p(d,f):(s[c]=Y$(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}8&f&&n!==(n=wr("jse-enum-value ".concat(pf(u[3])))+" svelte-rc6e9m")&&P(e,"class",n),8&f&&K_(e,u[3]),9&f&&Ze(e,"jse-selected",u[0])},i:Qe,o:Qe,d:function(u){u&&me(e),Ai(s,u),t[11](null),r=!1,rr(i)}}}function eee(t){t.stopPropagation()}function tee(t,e,n){var r,i=e.path,o=e.value,s=e.readOnly,a=e.isSelected,u=e.onPatch,l=e.onSelect,f=e.options,c=o;return t.$$set=function(d){"path"in d&&n(5,i=d.path),"value"in d&&n(6,o=d.value),"readOnly"in d&&n(7,s=d.readOnly),"isSelected"in d&&n(0,a=d.isSelected),"onPatch"in d&&n(8,u=d.onPatch),"onSelect"in d&&n(9,l=d.onSelect),"options"in d&&n(1,f=d.options)},t.$$.update=function(){64&t.$$.dirty&&n(3,c=o),1&t.$$.dirty&&function(d){d&&r&&r.focus()}(a)},[a,f,r,c,function(d){d.stopPropagation(),s||(u([{op:"replace",path:Ae.exports.compileJSONPointer(i),value:c}]),l({type:bt,path:i}))},i,o,s,u,l,function(){var d,h;h=(d=this).querySelector(":checked")||d.options[0],c=h&&h.__value,n(3,c),n(6,o)},function(d){tn[d?"unshift":"push"](function(){n(2,r=d),n(1,f)})}]}(function(t){Be(n,At);var e=ze(n);function n(r){var i;return te(this,n),$t(_t(i=e.call(this)),r,tee,ZZ,dn,{path:5,value:6,readOnly:7,isSelected:0,onPatch:8,onSelect:9,options:1},XZ),i}return ne(n)})();function qm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}HB(function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){if(!u&&qm)return qm(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(c){return i(e[a][1][c]||c)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o=qm,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.regexpCode=n.getEsmExportName=n.getProperty=n.safeStringify=n.stringify=n.strConcat=n.addCodeArg=n.str=n._=n.nil=n._Code=n.Name=n.IDENTIFIER=n._CodeOrName=void 0;var r=ne(function d(){te(this,d)});n._CodeOrName=r,n.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var i=function(d){Be(p,d);var h=ze(p);function p(v){var m;if(te(this,p),m=h.call(this),!n.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");return m.str=v,VO(m)}return ne(p,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return ol({},this.str,1)}}]),p}(r);n.Name=i;var o=function(d){Be(p,d);var h=ze(p);function p(v){var m;return te(this,p),(m=h.call(this))._items=typeof v=="string"?[v]:v,m}return ne(p,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var v=this._items[0];return v===""||v==='""'}},{key:"str",get:function(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce(function(m,g){return"".concat(m).concat(g)},"")}},{key:"names",get:function(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce(function(m,g){return g instanceof i&&(m[g.str]=(m[g.str]||0)+1),m},{})}}]),p}(r);function s(d){for(var h=[d[0]],p=0,v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];for(;p<m.length;)l(h,m[p]),h.push(d[++p]);return new o(h)}n._Code=o,n.nil=new o(""),n._=s;var a=new o("+");function u(d){for(var h=[c(d[0])],p=0,v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];for(;p<m.length;)h.push(a),l(h,m[p]),h.push(a,c(d[++p]));return function(y){for(var b=1;b<y.length-1;){if(y[b]===a){var k=f(y[b-1],y[b+1]);if(k!==void 0){y.splice(b-1,3,k);continue}y[b++]="+"}b++}}(h),new o(h)}function l(d,h){var p;h instanceof o?d.push.apply(d,nn(h._items)):d.push(h instanceof i?h:typeof(p=h)=="number"||typeof p=="boolean"||p===null?p:c(Array.isArray(p)?p.join(","):p))}function f(d,h){return h==='""'?d:d==='""'?h:typeof d=="string"?h instanceof i||d[d.length-1]!=='"'?void 0:typeof h!="string"?"".concat(d.slice(0,-1)).concat(h,'"'):h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0:typeof h!="string"||h[0]!=='"'||d instanceof i?void 0:'"'.concat(d).concat(h.slice(1))}function c(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}n.str=u,n.addCodeArg=l,n.strConcat=function(d,h){return h.emptyStr()?d:d.emptyStr()?h:u(Tk||(Tk=ue(["","",""])),d,h)},n.stringify=function(d){return new o(c(d))},n.safeStringify=c,n.getProperty=function(d){return typeof d=="string"&&n.IDENTIFIER.test(d)?new o(".".concat(d)):s(Pk||(Pk=ue(["[","]"])),d)},n.getEsmExportName=function(d){if(typeof d=="string"&&n.IDENTIFIER.test(d))return new o("".concat(d));throw new Error("CodeGen: invalid export name: ".concat(d,", use explicit $id name mapping"))},n.regexpCode=function(d){return new o(d.toString())}},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=n.and=n.not=n.CodeGen=n.operators=n.varKinds=n.ValueScopeName=n.ValueScope=n.Scope=n.Name=n.regexpCode=n.stringify=n.getProperty=n.nil=n.strConcat=n.str=n._=void 0;var r=t("./code"),i=t("./scope"),o=t("./code");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(n,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(n,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(n,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return o.Name}});var s=t("./scope");Object.defineProperty(n,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(n,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(n,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(n,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),n.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};var a=function(){function W(){te(this,W)}return ne(W,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(F,E){return this}}]),W}(),u=function(W){Be(E,W);var F=ze(E);function E(x,M,K){var se;return te(this,E),(se=F.call(this)).varKind=x,se.name=M,se.rhs=K,se}return ne(E,[{key:"render",value:function(x){var M=x.es5,K=x._n;return"".concat(M?i.varKinds.var:this.varKind," ").concat(this.name).concat(this.rhs===void 0?"":" = ".concat(this.rhs),";")+K}},{key:"optimizeNames",value:function(x,M){if(x[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,x,M)),this}},{key:"names",get:function(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}]),E}(a),l=function(W){Be(E,W);var F=ze(E);function E(x,M,K){var se;return te(this,E),(se=F.call(this)).lhs=x,se.rhs=M,se.sideEffects=K,se}return ne(E,[{key:"render",value:function(x){var M=x._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+M}},{key:"optimizeNames",value:function(x,M){if(!(this.lhs instanceof r.Name)||x[this.lhs.str]||this.sideEffects)return this.rhs=q(this.rhs,x,M),this}},{key:"names",get:function(){return $(this.lhs instanceof r.Name?{}:dt({},this.lhs.names),this.rhs)}}]),E}(a),f=function(W){Be(E,W);var F=ze(E);function E(x,M,K,se){var we;return te(this,E),(we=F.call(this,x,K,se)).op=M,we}return ne(E,[{key:"render",value:function(x){var M=x._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+M}}]),E}(l),c=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).label=x,M.names={},M}return ne(E,[{key:"render",value:function(x){var M=x._n;return"".concat(this.label,":")+M}}]),E}(a),d=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).label=x,M.names={},M}return ne(E,[{key:"render",value:function(x){var M=x._n;return"break".concat(this.label?" ".concat(this.label):"",";")+M}}]),E}(a),h=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).error=x,M}return ne(E,[{key:"render",value:function(x){var M=x._n;return"throw ".concat(this.error,";")+M}},{key:"names",get:function(){return this.error.names}}]),E}(a),p=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).code=x,M}return ne(E,[{key:"render",value:function(x){var M=x._n;return"".concat(this.code,";")+M}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(x,M){return this.code=q(this.code,x,M),this}},{key:"names",get:function(){return this.code instanceof r._CodeOrName?this.code.names:{}}}]),E}(a),v=function(W){Be(E,W);var F=ze(E);function E(){var x,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te(this,E),(x=F.call(this)).nodes=M,x}return ne(E,[{key:"render",value:function(x){return this.nodes.reduce(function(M,K){return M+K.render(x)},"")}},{key:"optimizeNodes",value:function(){for(var x=this.nodes,M=x.length;M--;){var K=x[M].optimizeNodes();Array.isArray(K)?x.splice.apply(x,[M,1].concat(nn(K))):K?x[M]=K:x.splice(M,1)}return x.length>0?this:void 0}},{key:"optimizeNames",value:function(x,M){for(var K=this.nodes,se=K.length;se--;){var we=K[se];we.optimizeNames(x,M)||(Y(x,we.names),K.splice(se,1))}return K.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce(function(x,M){return A(x,M.names)},{})}}]),E}(a),m=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E,[{key:"render",value:function(x){return"{"+x._n+mn(un(E.prototype),"render",this).call(this,x)+"}"+x._n}}]),E}(v),g=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E)}(v),y=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E)}(m);y.kind="else";var b=function(W){Be(E,W);var F=ze(E);function E(x,M){var K;return te(this,E),(K=F.call(this,M)).condition=x,K}return ne(E,[{key:"render",value:function(x){var M="if(".concat(this.condition,")")+mn(un(E.prototype),"render",this).call(this,x);return this.else&&(M+="else "+this.else.render(x)),M}},{key:"optimizeNodes",value:function(){mn(un(E.prototype),"optimizeNodes",this).call(this);var x=this.condition;if(x===!0)return this.nodes;var M=this.else;if(M){var K=M.optimizeNodes();M=this.else=Array.isArray(K)?new y(K):K}return M?x===!1?M instanceof E?M:M.nodes:this.nodes.length?this:new E(z(x),M instanceof E?[M]:M.nodes):x!==!1&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(x,M){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(x,M),mn(un(E.prototype),"optimizeNames",this).call(this,x,M)||this.else)return this.condition=q(this.condition,x,M),this}},{key:"names",get:function(){var x=mn(un(E.prototype),"names",this);return $(x,this.condition),this.else&&A(x,this.else.names),x}}]),E}(m);b.kind="if";var k=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E)}(m);k.kind="for";var w=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).iteration=x,M}return ne(E,[{key:"render",value:function(x){return"for(".concat(this.iteration,")")+mn(un(E.prototype),"render",this).call(this,x)}},{key:"optimizeNames",value:function(x,M){if(mn(un(E.prototype),"optimizeNames",this).call(this,x,M))return this.iteration=q(this.iteration,x,M),this}},{key:"names",get:function(){return A(mn(un(E.prototype),"names",this),this.iteration.names)}}]),E}(k),C=function(W){Be(E,W);var F=ze(E);function E(x,M,K,se){var we;return te(this,E),(we=F.call(this)).varKind=x,we.name=M,we.from=K,we.to=se,we}return ne(E,[{key:"render",value:function(x){var M=x.es5?i.varKinds.var:this.varKind,K=this.name,se=this.from,we=this.to;return"for(".concat(M," ").concat(K,"=").concat(se,"; ").concat(K,"<").concat(we,"; ").concat(K,"++)")+mn(un(E.prototype),"render",this).call(this,x)}},{key:"names",get:function(){var x=$(mn(un(E.prototype),"names",this),this.from);return $(x,this.to)}}]),E}(k),_=function(W){Be(E,W);var F=ze(E);function E(x,M,K,se){var we;return te(this,E),(we=F.call(this)).loop=x,we.varKind=M,we.name=K,we.iterable=se,we}return ne(E,[{key:"render",value:function(x){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+mn(un(E.prototype),"render",this).call(this,x)}},{key:"optimizeNames",value:function(x,M){if(mn(un(E.prototype),"optimizeNames",this).call(this,x,M))return this.iterable=q(this.iterable,x,M),this}},{key:"names",get:function(){return A(mn(un(E.prototype),"names",this),this.iterable.names)}}]),E}(k),T=function(W){Be(E,W);var F=ze(E);function E(x,M,K){var se;return te(this,E),(se=F.call(this)).name=x,se.args=M,se.async=K,se}return ne(E,[{key:"render",value:function(x){return"".concat(this.async?"async ":"","function ").concat(this.name,"(").concat(this.args,")")+mn(un(E.prototype),"render",this).call(this,x)}}]),E}(m);T.kind="func";var j=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E,[{key:"render",value:function(x){return"return "+mn(un(E.prototype),"render",this).call(this,x)}}]),E}(v);j.kind="return";var O=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E,[{key:"render",value:function(x){var M="try"+mn(un(E.prototype),"render",this).call(this,x);return this.catch&&(M+=this.catch.render(x)),this.finally&&(M+=this.finally.render(x)),M}},{key:"optimizeNodes",value:function(){var x,M;return mn(un(E.prototype),"optimizeNodes",this).call(this),(x=this.catch)===null||x===void 0||x.optimizeNodes(),(M=this.finally)===null||M===void 0||M.optimizeNodes(),this}},{key:"optimizeNames",value:function(x,M){var K,se;return mn(un(E.prototype),"optimizeNames",this).call(this,x,M),(K=this.catch)===null||K===void 0||K.optimizeNames(x,M),(se=this.finally)===null||se===void 0||se.optimizeNames(x,M),this}},{key:"names",get:function(){var x=mn(un(E.prototype),"names",this);return this.catch&&A(x,this.catch.names),this.finally&&A(x,this.finally.names),x}}]),E}(m),S=function(W){Be(E,W);var F=ze(E);function E(x){var M;return te(this,E),(M=F.call(this)).error=x,M}return ne(E,[{key:"render",value:function(x){return"catch(".concat(this.error,")")+mn(un(E.prototype),"render",this).call(this,x)}}]),E}(m);S.kind="catch";var N=function(W){Be(E,W);var F=ze(E);function E(){return te(this,E),F.apply(this,arguments)}return ne(E,[{key:"render",value:function(x){return"finally"+mn(un(E.prototype),"render",this).call(this,x)}}]),E}(m);function A(W,F){for(var E in F)W[E]=(W[E]||0)+(F[E]||0);return W}function $(W,F){return F instanceof r._CodeOrName?A(W,F.names):W}function q(W,F,E){return W instanceof r.Name?M(W):(x=W)instanceof r._Code&&x._items.some(function(K){return K instanceof r.Name&&F[K.str]===1&&E[K.str]!==void 0})?new r._Code(W._items.reduce(function(K,se){return se instanceof r.Name&&(se=M(se)),se instanceof r._Code?K.push.apply(K,nn(se._items)):K.push(se),K},[])):W;var x;function M(K){var se=E[K.str];return se===void 0||F[K.str]!==1?K:(delete F[K.str],se)}}function Y(W,F){for(var E in F)W[E]=(W[E]||0)-(F[E]||0)}function z(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:r._(Mk||(Mk=ue(["!",""])),U(W))}N.kind="finally",n.CodeGen=function(){function W(F){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te(this,W),this._values={},this._blockStarts=[],this._constants={},this.opts=dt(dt({},E),{},{_n:E.lines?`
`:""}),this._extScope=F,this._scope=new i.Scope({parent:F}),this._nodes=[new g]}return ne(W,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(F){return this._scope.name(F)}},{key:"scopeName",value:function(F){return this._extScope.name(F)}},{key:"scopeValue",value:function(F,E){var x=this._extScope.value(F,E);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}},{key:"getScopeValue",value:function(F,E){return this._extScope.getValue(F,E)}},{key:"scopeRefs",value:function(F){return this._extScope.scopeRefs(F,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(F,E,x,M){var K=this._scope.toName(E);return x!==void 0&&M&&(this._constants[K.str]=x),this._leafNode(new u(F,K,x)),K}},{key:"const",value:function(F,E,x){return this._def(i.varKinds.const,F,E,x)}},{key:"let",value:function(F,E,x){return this._def(i.varKinds.let,F,E,x)}},{key:"var",value:function(F,E,x){return this._def(i.varKinds.var,F,E,x)}},{key:"assign",value:function(F,E,x){return this._leafNode(new l(F,E,x))}},{key:"add",value:function(F,E){return this._leafNode(new f(F,n.operators.ADD,E))}},{key:"code",value:function(F){return typeof F=="function"?F():F!==r.nil&&this._leafNode(new p(F)),this}},{key:"object",value:function(){for(var F=["{"],E=arguments.length,x=new Array(E),M=0;M<E;M++)x[M]=arguments[M];for(var K=0,se=x;K<se.length;K++){var we=Et(se[K],2),je=we[0],R=we[1];F.length>1&&F.push(","),F.push(je),(je!==R||this.opts.es5)&&(F.push(":"),(0,r.addCodeArg)(F,R))}return F.push("}"),new r._Code(F)}},{key:"if",value:function(F,E,x){if(this._blockNode(new b(F)),E&&x)this.code(E).else().code(x).endIf();else if(E)this.code(E).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(F){return this._elseNode(new b(F))}},{key:"else",value:function(){return this._elseNode(new y)}},{key:"endIf",value:function(){return this._endBlockNode(b,y)}},{key:"_for",value:function(F,E){return this._blockNode(F),E&&this.code(E).endFor(),this}},{key:"for",value:function(F,E){return this._for(new w(F),E)}},{key:"forRange",value:function(F,E,x,M){var K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.es5?i.varKinds.var:i.varKinds.let,se=this._scope.toName(F);return this._for(new C(K,se,E,x),function(){return M(se)})}},{key:"forOf",value:function(F,E,x){var M=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.varKinds.const,se=this._scope.toName(F);if(this.opts.es5){var we=E instanceof r.Name?E:this.var("_arr",E);return this.forRange("_i",0,r._(Ik||(Ik=ue(["",".length"])),we),function(je){M.var(se,r._(Nk||(Nk=ue(["","[","]"])),we,je)),x(se)})}return this._for(new _("of",K,se,E),function(){return x(se)})}},{key:"forIn",value:function(F,E,x){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.es5?i.varKinds.var:i.varKinds.const;if(this.opts.ownProperties)return this.forOf(F,r._(Lk||(Lk=ue(["Object.keys(",")"])),E),x);var K=this._scope.toName(F);return this._for(new _("in",M,K,E),function(){return x(K)})}},{key:"endFor",value:function(){return this._endBlockNode(k)}},{key:"label",value:function(F){return this._leafNode(new c(F))}},{key:"break",value:function(F){return this._leafNode(new d(F))}},{key:"return",value:function(F){var E=new j;if(this._blockNode(E),this.code(F),E.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(j)}},{key:"try",value:function(F,E,x){if(!E&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');var M=new O;if(this._blockNode(M),this.code(F),E){var K=this.name("e");this._currNode=M.catch=new S(K),E(K)}return x&&(this._currNode=M.finally=new N,this.code(x)),this._endBlockNode(S,N)}},{key:"throw",value:function(F){return this._leafNode(new h(F))}},{key:"block",value:function(F,E){return this._blockStarts.push(this._nodes.length),F&&this.code(F).endBlock(E),this}},{key:"endBlock",value:function(F){var E=this._blockStarts.pop();if(E===void 0)throw new Error("CodeGen: not in self-balancing block");var x=this._nodes.length-E;if(x<0||F!==void 0&&x!==F)throw new Error("CodeGen: wrong number of nodes: ".concat(x," vs ").concat(F," expected"));return this._nodes.length=E,this}},{key:"func",value:function(F){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.nil,x=arguments.length>2?arguments[2]:void 0,M=arguments.length>3?arguments[3]:void 0;return this._blockNode(new T(F,E,x)),M&&this.code(M).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(T)}},{key:"optimize",value:function(){for(var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(F){return this._currNode.nodes.push(F),this}},{key:"_blockNode",value:function(F){this._currNode.nodes.push(F),this._nodes.push(F)}},{key:"_endBlockNode",value:function(F,E){var x=this._currNode;if(x instanceof F||E&&x instanceof E)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(E?"".concat(F.kind,"/").concat(E.kind):F.kind,'"'))}},{key:"_elseNode",value:function(F){var E=this._currNode;if(!(E instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=E.else=F,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var F=this._nodes;return F[F.length-1]},set:function(F){var E=this._nodes;E[E.length-1]=F}}]),W}(),n.not=z;var J=D(n.operators.AND);n.and=function(){for(var W=arguments.length,F=new Array(W),E=0;E<W;E++)F[E]=arguments[E];return F.reduce(J)};var L=D(n.operators.OR);function D(W){return function(F,E){return F===r.nil?E:E===r.nil?F:r._(Dk||(Dk=ue([""," "," ",""])),U(F),W,U(E))}}function U(W){return W instanceof r.Name?W:r._(Rk||(Rk=ue(["(",")"])),W)}n.or=function(){for(var W=arguments.length,F=new Array(W),E=0;E<W;E++)F[E]=arguments[E];return F.reduce(L)}},{"./code":1,"./scope":3}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueScope=n.ValueScopeName=n.Scope=n.varKinds=n.UsedValueState=void 0;var r,i=t("./code"),o=function(l){Be(c,Jd(Error));var f=ze(c);function c(d){var h;return te(this,c),(h=f.call(this,'CodeGen: "code" for '.concat(d," not defined"))).value=d.value,h}return ne(c)}();(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=n.UsedValueState||(n.UsedValueState={})),n.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};var s=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=f.prefixes,d=f.parent;te(this,l),this._names={},this._prefixes=c,this._parent=d}return ne(l,[{key:"toName",value:function(f){return f instanceof i.Name?f:this.name(f)}},{key:"name",value:function(f){return new i.Name(this._newName(f))}},{key:"_newName",value:function(f){return"".concat(f).concat((this._names[f]||this._nameGroup(f)).index++)}},{key:"_nameGroup",value:function(f){var c,d;if(((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0?void 0:d.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error('CodeGen: prefix "'.concat(f,'" is not allowed in this scope'));return this._names[f]={prefix:f,index:0}}}]),l}();n.Scope=s;var a=function(l){Be(c,l);var f=ze(c);function c(d,h){var p;return te(this,c),(p=f.call(this,h)).prefix=d,p}return ne(c,[{key:"setValue",value:function(d,h){var p=h.property,v=h.itemIndex;this.value=d,this.scopePath=i._(Bk||(Bk=ue([".","[","]"])),new i.Name(p),v)}}]),c}(i.Name);n.ValueScopeName=a;var u=i._(zk||(zk=ue([`
`],["\\n"])));n.ValueScope=function(l){Be(c,l);var f=ze(c);function c(d){var h;return te(this,c),(h=f.call(this,d))._values={},h._scope=d.scope,h.opts=dt(dt({},d),{},{_n:d.lines?u:i.nil}),h}return ne(c,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(d){return new a(d,this._newName(d))}},{key:"value",value:function(d,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var v=this.toName(d),m=v.prefix,g=(p=h.key)!==null&&p!==void 0?p:h.ref,y=this._values[m];if(y){var b=y.get(g);if(b)return b}else y=this._values[m]=new Map;y.set(g,v);var k=this._scope[m]||(this._scope[m]=[]),w=k.length;return k[w]=h.ref,v.setValue(h,{property:m,itemIndex:w}),v}},{key:"getValue",value:function(d,h){var p=this._values[d];if(p)return p.get(h)}},{key:"scopeRefs",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._values;return this._reduceValues(h,function(p){if(p.scopePath===void 0)throw new Error('CodeGen: name "'.concat(p,'" has no value'));return i._(Fk||(Fk=ue(["","",""])),d,p.scopePath)})}},{key:"scopeCode",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._values,h=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0;return this._reduceValues(d,function(v){if(v.value===void 0)throw new Error('CodeGen: name "'.concat(v,'" has no value'));return v.value.code},h,p)}},{key:"_reduceValues",value:function(d,h){var p=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3?arguments[3]:void 0,g=i.nil,y=function(k){var w=d[k];if(!w)return"continue";var C=v[k]=v[k]||new Map;w.forEach(function(_){if(!C.has(_)){C.set(_,r.Started);var T=h(_);if(T)g=i._(qk||(qk=ue(["",""," "," = ",";",""])),g,p.opts.es5?n.varKinds.var:n.varKinds.const,_,T,p.opts._n);else{if(!(T=m==null?void 0:m(_)))throw new o(_);g=i._(Vk||(Vk=ue(["","","",""])),g,T,p.opts._n)}C.set(_,r.Completed)}})};for(var b in d)y(b);return g}}]),c}(s)},{"./code":1}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendErrors=n.resetErrorsCount=n.reportExtraError=n.reportError=n.keyword$DataError=n.keywordError=void 0;var r=t("./codegen"),i=t("./util"),o=t("./names");function s(d,h){var p=d.const("err",h);d.if(r._(Hk||(Hk=ue([""," === null"])),o.default.vErrors),function(){return d.assign(o.default.vErrors,r._(Wk||(Wk=ue(["[","]"])),p))},r._(Uk||(Uk=ue(["",".push(",")"])),o.default.vErrors,p)),d.code(r._(Jk||(Jk=ue(["","++"])),o.default.errors))}function a(d,h){var p=d.gen,v=d.validateName;d.schemaEnv.$async?p.throw(r._(Kk||(Kk=ue(["new ","(",")"])),d.ValidationError,h)):(p.assign(r._(Gk||(Gk=ue(["",".errors"])),v),h),p.return(!1))}n.keywordError={message:function(d){var h=d.keyword;return r.str(Qk||(Qk=ue(['must pass "','" keyword validation'])),h)}},n.keyword$DataError={message:function(d){var h=d.keyword,p=d.schemaType;return p?r.str(Yk||(Yk=ue(['"','" keyword must be '," ($data)"])),h,p):r.str(Xk||(Xk=ue(['"','" keyword is invalid ($data)'])),h)}},n.reportError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.keywordError,p=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,m=d.it,g=m.gen,y=m.compositeRule,b=m.allErrors,k=l(d,h,p);(v!=null?v:y||b)?s(g,k):a(m,r._(Zk||(Zk=ue(["[","]"])),k))},n.reportExtraError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.keywordError,p=arguments.length>2?arguments[2]:void 0,v=d.it,m=v.gen,g=v.compositeRule,y=v.allErrors;s(m,l(d,h,p)),g||y||a(v,o.default.vErrors)},n.resetErrorsCount=function(d,h){d.assign(o.default.errors,h),d.if(r._(ew||(ew=ue([""," !== null"])),o.default.vErrors),function(){return d.if(h,function(){return d.assign(r._(tw||(tw=ue(["",".length"])),o.default.vErrors),h)},function(){return d.assign(o.default.vErrors,null)})})},n.extendErrors=function(d){var h=d.gen,p=d.keyword,v=d.schemaValue,m=d.data,g=d.errsCount,y=d.it;if(g===void 0)throw new Error("ajv implementation error");var b=h.name("err");h.forRange("i",g,o.default.errors,function(k){h.const(b,r._(nw||(nw=ue(["","[","]"])),o.default.vErrors,k)),h.if(r._(rw||(rw=ue(["",".instancePath === undefined"])),b),function(){return h.assign(r._(iw||(iw=ue(["",".instancePath"])),b),(0,r.strConcat)(o.default.instancePath,y.errorPath))}),h.assign(r._(ow||(ow=ue(["",".schemaPath"])),b),r.str(sw||(sw=ue(["","/",""])),y.errSchemaPath,p)),y.opts.verbose&&(h.assign(r._(aw||(aw=ue(["",".schema"])),b),v),h.assign(r._(uw||(uw=ue(["",".data"])),b),m))})};var u={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function l(d,h,p){return d.it.createErrors===!1?r._(lw||(lw=ue(["{}"]))):function(v,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=v.gen,b=[f(v.it,g),c(v,g)];return function(k,w,C){var _=w.params,T=w.message,j=k.keyword,O=k.data,S=k.schemaValue,N=k.it,A=N.opts,$=N.propertyName,q=N.topSchemaRef,Y=N.schemaPath;C.push([u.keyword,j],[u.params,typeof _=="function"?_(k):_||r._(cw||(cw=ue(["{}"])))]),A.messages&&C.push([u.message,typeof T=="function"?T(k):T]),A.verbose&&C.push([u.schema,S],[u.parentSchema,r._(fw||(fw=ue(["","",""])),q,Y)],[o.default.data,O]),$&&C.push([u.propertyName,$])}(v,m,b),y.object.apply(y,b)}(d,h,p)}function f(d,h){var p=d.errorPath,v=h.instancePath,m=v?r.str(dw||(dw=ue(["","",""])),p,(0,i.getErrorPath)(v,i.Type.Str)):p;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,m)]}function c(d,h){var p=d.keyword,v=d.it.errSchemaPath,m=h.schemaPath,g=h.parentSchema?v:r.str(hw||(hw=ue(["","/",""])),v,p);return m&&(g=r.str(pw||(pw=ue(["","",""])),g,(0,i.getErrorPath)(m,i.Type.Str))),[u.schemaPath,g]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveSchema=n.getCompilingSchema=n.resolveRef=n.compileSchema=n.SchemaEnv=void 0;var r=t("./codegen"),i=t("../runtime/validation_error"),o=t("./names"),s=t("./resolve"),a=t("./util"),u=t("./validate"),l=ne(function g(y){var b,k;te(this,g),this.refs={},this.dynamicAnchors={},lt(y.schema)=="object"&&(k=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(b=y.baseId)!==null&&b!==void 0?b:(0,s.normalizeId)(k==null?void 0:k[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=k==null?void 0:k.$async,this.refs={}});function f(g){var y=d.call(this,g);if(y)return y;var b,k=(0,s.getFullPath)(this.opts.uriResolver,g.root.baseId),w=this.opts.code,C=w.es5,_=w.lines,T=this.opts.ownProperties,j=new r.CodeGen(this.scope,{es5:C,lines:_,ownProperties:T});g.$async&&(b=j.scopeValue("Error",{ref:i.default,code:r._(vw||(vw=ue(['require("ajv/dist/runtime/validation_error").default'])))}));var O=j.scopeName("validate");g.validateName=O;var S,N={gen:j,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:j.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,r.stringify)(g.schema)}:{ref:g.schema}),validateName:O,ValidationError:b,schema:g.schema,schemaEnv:g,rootId:k,baseId:g.baseId||k,schemaPath:r.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._(mw||(mw=ue(['""']))),opts:this.opts,self:this};try{this._compilations.add(g),(0,u.validateFunctionCode)(N),j.optimize(this.opts.code.optimize);var A=j.toString();S="".concat(j.scopeRefs(o.default.scope),"return ").concat(A),this.opts.code.process&&(S=this.opts.code.process(S,g));var $=new Function("".concat(o.default.self),"".concat(o.default.scope),S)(this,this.scope.get());if(this.scope.value(O,{ref:$}),$.errors=null,$.schema=g.schema,$.schemaEnv=g,g.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:O,validateCode:A,scopeValues:j._values}),this.opts.unevaluated){var q=N.props,Y=N.items;$.evaluated={props:q instanceof r.Name?void 0:q,items:Y instanceof r.Name?void 0:Y,dynamicProps:q instanceof r.Name,dynamicItems:Y instanceof r.Name},$.source&&($.source.evaluated=(0,r.stringify)($.evaluated))}return g.validate=$,g}catch(z){throw delete g.validate,delete g.validateName,S&&this.logger.error("Error compiling schema, function code:",S),z}finally{this._compilations.delete(g)}}function c(g){return(0,s.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:f.call(this,g)}function d(g){var y,b,k,w=ce(this._compilations);try{for(w.s();!(y=w.n()).done;){var C=y.value;if((b=C).schema===(k=g).schema&&b.root===k.root&&b.baseId===k.baseId)return C}}catch(_){w.e(_)}finally{w.f()}}function h(g,y){for(var b;typeof(b=this.refs[y])=="string";)y=b;return b||this.schemas[y]||p.call(this,g,y)}function p(g,y){var b=this.opts.uriResolver.parse(y),k=(0,s._getFullPath)(this.opts.uriResolver,b),w=(0,s.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&k===w)return m.call(this,b,g);var C=(0,s.normalizeId)(k),_=this.refs[C]||this.schemas[C];if(typeof _=="string"){var T=p.call(this,g,_);return lt(T==null?void 0:T.schema)!="object"?void 0:m.call(this,b,T)}if(lt(_==null?void 0:_.schema)=="object"){if(_.validate||f.call(this,_),C===(0,s.normalizeId)(y)){var j=_.schema,O=this.opts.schemaId,S=j[O];return S&&(w=(0,s.resolveUrl)(this.opts.uriResolver,w,S)),new l({schema:j,schemaId:O,root:g,baseId:w})}return m.call(this,b,_)}}n.SchemaEnv=l,n.compileSchema=f,n.resolveRef=function(g,y,b){var k;b=(0,s.resolveUrl)(this.opts.uriResolver,y,b);var w=g.refs[b];if(w)return w;var C=h.call(this,g,b);if(C===void 0){var _=(k=g.localRefs)===null||k===void 0?void 0:k[b],T=this.opts.schemaId;_&&(C=new l({schema:_,schemaId:T,root:g,baseId:y}))}return C!==void 0?g.refs[b]=c.call(this,C):void 0},n.getCompilingSchema=d,n.resolveSchema=p;var v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,y){var b,k=y.baseId,w=y.schema,C=y.root;if(((b=g.fragment)===null||b===void 0?void 0:b[0])==="/"){var _,T,j=ce(g.fragment.slice(1).split("/"));try{for(j.s();!(_=j.n()).done;){var O=_.value;if(typeof w=="boolean")return;var S=w[(0,a.unescapeFragment)(O)];if(S===void 0)return;var N=lt(w=S)=="object"&&w[this.opts.schemaId];!v.has(O)&&N&&(k=(0,s.resolveUrl)(this.opts.uriResolver,k,N))}}catch(q){j.e(q)}finally{j.f()}if(typeof w!="boolean"&&w.$ref&&!(0,a.schemaHasRulesButRef)(w,this.RULES)){var A=(0,s.resolveUrl)(this.opts.uriResolver,k,w.$ref);T=p.call(this,C,A)}var $=this.opts.schemaId;return(T=T||new l({schema:w,schemaId:$,root:C,baseId:k})).schema!==T.root.schema?T:void 0}}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./codegen"),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};n.default=i},{"./codegen":2}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./resolve"),i=function(o){Be(a,Jd(Error));var s=ze(a);function a(u,l,f,c){var d;return te(this,a),(d=s.call(this,c||"can't resolve reference ".concat(f," from id ").concat(l))).missingRef=(0,r.resolveUrl)(u,l,f),d.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(u,d.missingRef)),d}return ne(a)}();n.default=i},{"./resolve":8}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSchemaRefs=n.resolveUrl=n.normalizeId=n._getFullPath=n.getFullPath=n.inlineRef=void 0;var r=t("./util"),i=t("fast-deep-equal"),o=t("json-schema-traverse"),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);n.inlineRef=function(v){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return typeof v=="boolean"||(m===!0?!u(v):!!m&&l(v)<=m)};var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(v){for(var m in v){if(a.has(m))return!0;var g=v[m];if(Array.isArray(g)&&g.some(u)||lt(g)=="object"&&u(g))return!0}return!1}function l(v){var m=0;for(var g in v)if(g==="$ref"||(m++,!s.has(g)&&(lt(v[g])=="object"&&(0,r.eachItem)(v[g],function(y){return m+=l(y)}),1/0===m)))return 1/0;return m}function f(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(arguments.length>2?arguments[2]:void 0)!==!1&&(m=h(m));var g=v.parse(m);return c(v,g)}function c(v,m){return v.serialize(m).split("#")[0]+"#"}n.getFullPath=f,n._getFullPath=c;var d=/#\/?$/;function h(v){return v?v.replace(d,""):""}n.normalizeId=h,n.resolveUrl=function(v,m,g){return g=h(g),v.resolve(m,g)};var p=/^[a-z_][-a-z0-9._]*$/i;n.getSchemaRefs=function(v,m){var g=this;if(typeof v=="boolean")return{};var y=this.opts,b=y.schemaId,k=y.uriResolver,w=h(v[b]||m),C={"":w},_=f(k,w,!1),T={},j=new Set;return o(v,{allKeys:!0},function(N,A,$,q){if(q!==void 0){var Y=_+A,z=C[q];typeof N[b]=="string"&&(z=J.call(g,N[b])),L.call(g,N.$anchor),L.call(g,N.$dynamicAnchor),C[A]=z}function J(D){if(D=h(z?(0,this.opts.uriResolver.resolve)(z,D):D),j.has(D))throw S(D);j.add(D);var U=this.refs[D];return typeof U=="string"&&(U=this.refs[U]),lt(U)=="object"?O(N,U.schema,D):D!==h(Y)&&(D[0]==="#"?(O(N,T[D],D),T[D]=N):this.refs[D]=Y),D}function L(D){if(typeof D=="string"){if(!p.test(D))throw new Error('invalid anchor "'.concat(D,'"'));J.call(this,"#".concat(D))}}}),T;function O(N,A,$){if(A!==void 0&&!i(N,A))throw S($)}function S(N){return new Error('reference "'.concat(N,'" resolves to more than one schema'))}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRules=n.isJSONType=void 0;var r=new Set(["string","number","integer","boolean","null","object","array"]);n.isJSONType=function(i){return typeof i=="string"&&r.has(i)},n.getRules=function(){var i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:dt(dt({},i),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkStrictMode=n.getErrorPath=n.Type=n.useFunc=n.setEvaluated=n.evaluatedPropsToName=n.mergeEvaluated=n.eachItem=n.unescapeJsonPointer=n.escapeJsonPointer=n.escapeFragment=n.unescapeFragment=n.schemaRefOrVal=n.schemaHasRulesButRef=n.schemaHasRules=n.checkUnknownRules=n.alwaysValidSchema=n.toHash=void 0;var r=t("./codegen"),i=t("./codegen/code");function o(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.schema,g=v.opts,y=v.self;if(g.strictSchema&&typeof m!="boolean"){var b=y.RULES.keywords;for(var k in m)b[k]||p(v,'unknown keyword: "'.concat(k,'"'))}}function s(v,m){if(typeof v=="boolean")return!v;for(var g in v)if(m[g])return!0;return!1}function a(v){return typeof v=="number"?"".concat(v):v.replace(/~/g,"~0").replace(/\//g,"~1")}function u(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}function l(v){var m=v.mergeNames,g=v.mergeToName,y=v.mergeValues,b=v.resultToName;return function(k,w,C,_){var T=C===void 0?w:C instanceof r.Name?(w instanceof r.Name?m(k,w,C):g(k,w,C),C):w instanceof r.Name?(g(k,C,w),w):y(w,C);return _!==r.Name||T instanceof r.Name?T:b(k,T)}}function f(v,m){if(m===!0)return v.var("props",!0);var g=v.var("props",r._(gw||(gw=ue(["{}"]))));return m!==void 0&&c(v,g,m),g}function c(v,m,g){Object.keys(g).forEach(function(y){return v.assign(r._(yw||(yw=ue(["","",""])),m,(0,r.getProperty)(y)),!0)})}n.toHash=function(v){var m,g={},y=ce(v);try{for(y.s();!(m=y.n()).done;)g[m.value]=!0}catch(b){y.e(b)}finally{y.f()}return g},n.alwaysValidSchema=function(v,m){return typeof m=="boolean"?m:Object.keys(m).length===0||(o(v,m),!s(m,v.self.RULES.all))},n.checkUnknownRules=o,n.schemaHasRules=s,n.schemaHasRulesButRef=function(v,m){if(typeof v=="boolean")return!v;for(var g in v)if(g!=="$ref"&&m.all[g])return!0;return!1},n.schemaRefOrVal=function(v,m,g,y){var b=v.topSchemaRef,k=v.schemaPath;if(!y){if(typeof m=="number"||typeof m=="boolean")return m;if(typeof m=="string")return r._(bw||(bw=ue(["",""])),m)}return r._(kw||(kw=ue(["","","",""])),b,k,(0,r.getProperty)(g))},n.unescapeFragment=function(v){return u(decodeURIComponent(v))},n.escapeFragment=function(v){return encodeURIComponent(a(v))},n.escapeJsonPointer=a,n.unescapeJsonPointer=u,n.eachItem=function(v,m){if(Array.isArray(v)){var g,y=ce(v);try{for(y.s();!(g=y.n()).done;)m(g.value)}catch(b){y.e(b)}finally{y.f()}}else m(v)},n.mergeEvaluated={props:l({mergeNames:function(v,m,g){return v.if(r._(ww||(ww=ue([""," !== true && "," !== undefined"])),g,m),function(){v.if(r._(xw||(xw=ue([""," === true"])),m),function(){return v.assign(g,!0)},function(){return v.assign(g,r._(jw||(jw=ue([""," || {}"])),g)).code(r._(_w||(_w=ue(["Object.assign(",", ",")"])),g,m))})})},mergeToName:function(v,m,g){return v.if(r._(Sw||(Sw=ue([""," !== true"])),g),function(){m===!0?v.assign(g,!0):(v.assign(g,r._(Cw||(Cw=ue([""," || {}"])),g)),c(v,g,m))})},mergeValues:function(v,m){return v===!0||dt(dt({},v),m)},resultToName:f}),items:l({mergeNames:function(v,m,g){return v.if(r._($w||($w=ue([""," !== true && "," !== undefined"])),g,m),function(){return v.assign(g,r._(Aw||(Aw=ue([""," === true ? true : "," > "," ? "," : ",""])),m,g,m,g,m))})},mergeToName:function(v,m,g){return v.if(r._(Ow||(Ow=ue([""," !== true"])),g),function(){return v.assign(g,m===!0||r._(Ew||(Ew=ue([""," > "," ? "," : ",""])),g,m,g,m))})},mergeValues:function(v,m){return v===!0||Math.max(v,m)},resultToName:function(v,m){return v.var("items",m)}})},n.evaluatedPropsToName=f,n.setEvaluated=c;var d,h={};function p(v,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.opts.strictSchema;if(g){if(m="strict mode: ".concat(m),g===!0)throw new Error(m);v.self.logger.warn(m)}}n.useFunc=function(v,m){return v.scopeValue("func",{ref:m,code:h[m.code]||(h[m.code]=new i._Code(m.code))})},function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"}(d=n.Type||(n.Type={})),n.getErrorPath=function(v,m,g){if(v instanceof r.Name){var y=m===d.Num;return g?y?r._(Tw||(Tw=ue(['"[" + ',' + "]"'])),v):r._(Pw||(Pw=ue([`"['" + `,` + "']"`])),v):y?r._(Mw||(Mw=ue(['"/" + ',""])),v):r._(Iw||(Iw=ue(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),v)}return g?(0,r.getProperty)(v).toString():"/"+a(v)},n.checkStrictMode=p},{"./codegen":2,"./codegen/code":1}],11:[function(t,e,n){function r(o,s){return s.rules.some(function(a){return i(o,a)})}function i(o,s){var a;return o[s.keyword]!==void 0||((a=s.definition.implements)===null||a===void 0?void 0:a.some(function(u){return o[u]!==void 0}))}Object.defineProperty(n,"__esModule",{value:!0}),n.shouldUseRule=n.shouldUseGroup=n.schemaHasRulesForType=void 0,n.schemaHasRulesForType=function(o,s){var a=o.schema,u=o.self.RULES.types[s];return u&&u!==!0&&r(a,u)},n.shouldUseGroup=r,n.shouldUseRule=i},{}],12:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.boolOrEmptySchema=n.topBoolOrEmptySchema=void 0;var r=t("../errors"),i=t("../codegen"),o=t("../names"),s={message:"boolean schema is false"};function a(u,l){var f=u.gen,c=u.data;(0,r.reportError)({gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u},s,void 0,l)}n.topBoolOrEmptySchema=function(u){var l=u.gen,f=u.schema,c=u.validateName;f===!1?a(u,!1):lt(f)=="object"&&f.$async===!0?l.return(o.default.data):(l.assign(i._(Nw||(Nw=ue(["",".errors"])),c),null),l.return(!0))},n.boolOrEmptySchema=function(u,l){var f=u.gen;u.schema===!1?(f.var(l,!1),a(u)):f.var(l,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reportTypeError=n.checkDataTypes=n.checkDataType=n.coerceAndCheckDataType=n.getJSONTypes=n.getSchemaTypes=n.DataType=void 0;var r,i=t("../rules"),o=t("./applicability"),s=t("../errors"),a=t("../codegen"),u=t("../util");function l(v){var m=Array.isArray(v)?v:v?[v]:[];if(m.every(i.isJSONType))return m;throw new Error("type must be JSONType or JSONType[]: "+m.join(","))}(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(r=n.DataType||(n.DataType={})),n.getSchemaTypes=function(v){var m=l(v.type);if(m.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!m.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&m.push("null")}return m},n.getJSONTypes=l,n.coerceAndCheckDataType=function(v,m){var g=v.gen,y=v.data,b=v.opts,k=function(_,T){return T?_.filter(function(j){return f.has(j)||T==="array"&&j==="array"}):[]}(m,b.coerceTypes),w=m.length>0&&!(k.length===0&&m.length===1&&(0,o.schemaHasRulesForType)(v,m[0]));if(w){var C=d(m,y,b.strictNumbers,r.Wrong);g.if(C,function(){k.length?function(_,T,j){var O=_.gen,S=_.data,N=_.opts,A=O.let("dataType",a._(Lw||(Lw=ue(["typeof ",""])),S)),$=O.let("coerced",a._(Dw||(Dw=ue(["undefined"]))));N.coerceTypes==="array"&&O.if(a._(Rw||(Rw=ue([""," == 'object' && Array.isArray(",") && ",".length == 1"])),A,S,S),function(){return O.assign(S,a._(Bw||(Bw=ue(["","[0]"])),S)).assign(A,a._(zw||(zw=ue(["typeof ",""])),S)).if(d(T,S,N.strictNumbers),function(){return O.assign($,S)})}),O.if(a._(Fw||(Fw=ue([""," !== undefined"])),$));var q,Y=ce(j);try{for(Y.s();!(q=Y.n()).done;){var z=q.value;(f.has(z)||z==="array"&&N.coerceTypes==="array")&&J(z)}}catch(L){Y.e(L)}finally{Y.f()}function J(L){switch(L){case"string":return void O.elseIf(a._(qw||(qw=ue(["",' == "number" || ',' == "boolean"'])),A,A)).assign($,a._(Vw||(Vw=ue(['"" + ',""])),S)).elseIf(a._(Hw||(Hw=ue([""," === null"])),S)).assign($,a._(Ww||(Ww=ue(['""']))));case"number":return void O.elseIf(a._(Uw||(Uw=ue(["",' == "boolean" || ',` === null
	              || (`,' == "string" && '," && "," == +",")"])),A,S,A,S,S,S)).assign($,a._(Jw||(Jw=ue(["+",""])),S));case"integer":return void O.elseIf(a._(Kw||(Kw=ue(["",' === "boolean" || ',` === null
	              || (`,' === "string" && '," && "," == +"," && !("," % 1))"])),A,S,A,S,S,S,S)).assign($,a._(Gw||(Gw=ue(["+",""])),S));case"boolean":return void O.elseIf(a._(Qw||(Qw=ue(["",' === "false" || '," === 0 || "," === null"])),S,S,S)).assign($,!1).elseIf(a._(Yw||(Yw=ue(["",' === "true" || '," === 1"])),S,S)).assign($,!0);case"null":return O.elseIf(a._(Xw||(Xw=ue(["",' === "" || '," === 0 || "," === false"])),S,S,S)),void O.assign($,null);case"array":O.elseIf(a._(Zw||(Zw=ue(["",' === "string" || ',` === "number"
	              || `,' === "boolean" || '," === null"])),A,A,A,S)).assign($,a._(ex||(ex=ue(["[","]"])),S))}}O.else(),p(_),O.endIf(),O.if(a._(tx||(tx=ue([""," !== undefined"])),$),function(){O.assign(S,$),function(L,D){var U=L.gen,W=L.parentData,F=L.parentDataProperty;U.if(a._(nx||(nx=ue([""," !== undefined"])),W),function(){return U.assign(a._(rx||(rx=ue(["","[","]"])),W,F),D)})}(_,$)})}(v,m,k):p(v)})}return w};var f=new Set(["string","number","integer","boolean","null"]);function c(v,m,g){var y,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.Correct,k=b===r.Correct?a.operators.EQ:a.operators.NEQ;switch(v){case"null":return a._(ix||(ix=ue([""," "," null"])),m,k);case"array":y=a._(ox||(ox=ue(["Array.isArray(",")"])),m);break;case"object":y=a._(sx||(sx=ue([""," && typeof ",' == "object" && !Array.isArray(',")"])),m,m,m);break;case"integer":y=w(a._(ax||(ax=ue(["!("," % 1) && !isNaN(",")"])),m,m));break;case"number":y=w();break;default:return a._(ux||(ux=ue(["typeof "," "," ",""])),m,k,v)}return b===r.Correct?y:(0,a.not)(y);function w(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.nil;return(0,a.and)(a._(lx||(lx=ue(["typeof ",' == "number"'])),m),C,g?a._(cx||(cx=ue(["isFinite(",")"])),m):a.nil)}}function d(v,m,g,y){if(v.length===1)return c(v[0],m,g,y);var b,k=(0,u.toHash)(v);if(k.array&&k.object){var w=a._(fx||(fx=ue(["typeof ",' != "object"'])),m);b=k.null?w:a._(dx||(dx=ue(["!"," || ",""])),m,w),delete k.null,delete k.array,delete k.object}else b=a.nil;for(var C in k.number&&delete k.integer,k)b=(0,a.and)(b,c(C,m,g,y));return b}n.checkDataType=c,n.checkDataTypes=d;var h={message:function(v){var m=v.schema;return"must be ".concat(m)},params:function(v){var m=v.schema,g=v.schemaValue;return typeof m=="string"?a._(hx||(hx=ue(["{type: ","}"])),m):a._(px||(px=ue(["{type: ","}"])),g)}};function p(v){var m=function(g){var y=g.gen,b=g.data,k=g.schema,w=(0,u.schemaRefOrVal)(g,k,"type");return{gen:y,keyword:"type",data:b,schema:k.type,schemaCode:w,schemaValue:w,parentSchema:k,params:{},it:g}}(v);(0,s.reportError)(m,h)}n.reportTypeError=p},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assignDefaults=void 0;var r=t("../codegen"),i=t("../util");function o(s,a,u){var l=s.gen,f=s.compositeRule,c=s.data,d=s.opts;if(u!==void 0){var h=r._(vx||(vx=ue(["","",""])),c,(0,r.getProperty)(a));if(f)(0,i.checkStrictMode)(s,"default is ignored for: ".concat(h));else{var p=r._(mx||(mx=ue([""," === undefined"])),h);d.useDefaults==="empty"&&(p=r._(gx||(gx=ue([""," || "," === null || ",' === ""'])),p,h,h)),l.if(p,r._(yx||(yx=ue([""," = ",""])),h,(0,r.stringify)(u)))}}}n.assignDefaults=function(s,a){var u=s.schema,l=u.properties,f=u.items;if(a==="object"&&l)for(var c in l)o(s,c,l[c].default);else a==="array"&&Array.isArray(f)&&f.forEach(function(d,h){return o(s,h,d.default)})}},{"../codegen":2,"../util":10}],15:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getData=n.KeywordCxt=n.validateFunctionCode=void 0;var r=t("./boolSchema"),i=t("./dataType"),o=t("./applicability"),s=t("./dataType"),a=t("./defaults"),u=t("./keyword"),l=t("./subschema"),f=t("../codegen"),c=t("../names"),d=t("../resolve"),h=t("../util"),p=t("../errors");function v(z,J){var L=z.gen,D=z.validateName,U=z.schema,W=z.schemaEnv,F=z.opts;F.code.es5?L.func(D,f._(bx||(bx=ue(["",", ",""])),c.default.data,c.default.valCxt),W.$async,function(){L.code(f._(kx||(kx=ue(['"use strict"; ',""])),m(U,F))),function(E,x){E.if(c.default.valCxt,function(){E.var(c.default.instancePath,f._(wx||(wx=ue(["",".",""])),c.default.valCxt,c.default.instancePath)),E.var(c.default.parentData,f._(xx||(xx=ue(["",".",""])),c.default.valCxt,c.default.parentData)),E.var(c.default.parentDataProperty,f._(jx||(jx=ue(["",".",""])),c.default.valCxt,c.default.parentDataProperty)),E.var(c.default.rootData,f._(_x||(_x=ue(["",".",""])),c.default.valCxt,c.default.rootData)),x.dynamicRef&&E.var(c.default.dynamicAnchors,f._(Sx||(Sx=ue(["",".",""])),c.default.valCxt,c.default.dynamicAnchors))},function(){E.var(c.default.instancePath,f._(Cx||(Cx=ue(['""'])))),E.var(c.default.parentData,f._($x||($x=ue(["undefined"])))),E.var(c.default.parentDataProperty,f._(Ax||(Ax=ue(["undefined"])))),E.var(c.default.rootData,c.default.data),x.dynamicRef&&E.var(c.default.dynamicAnchors,f._(Ox||(Ox=ue(["{}"]))))})}(L,F),L.code(J)}):L.func(D,f._(Ex||(Ex=ue(["",", ",""])),c.default.data,function(E){return f._(Tx||(Tx=ue(["{",'="", ',", ",", ","=","","}={}"])),c.default.instancePath,c.default.parentData,c.default.parentDataProperty,c.default.rootData,c.default.data,E.dynamicRef?f._(Px||(Px=ue([", ","={}"])),c.default.dynamicAnchors):f.nil)}(F)),W.$async,function(){return L.code(m(U,F)).code(J)})}function m(z,J){var L=lt(z)=="object"&&z[J.schemaId];return L&&(J.code.source||J.code.process)?f._(Mx||(Mx=ue(["/*# sourceURL="," */"])),L):f.nil}function g(z,J){b(z)&&(k(z),y(z))?function(L,D){var U=L.schema,W=L.gen;L.opts.$comment&&U.$comment&&C(L),function(E){var x=E.schema[E.opts.schemaId];x&&(E.baseId=(0,d.resolveUrl)(E.opts.uriResolver,E.baseId,x))}(L),function(E){if(E.schema.$async&&!E.schemaEnv.$async)throw new Error("async schema in sync schema")}(L);var F=W.const("_errs",c.default.errors);w(L,F),W.var(D,f._(Ix||(Ix=ue([""," === ",""])),F,c.default.errors))}(z,J):(0,r.boolOrEmptySchema)(z,J)}function y(z){var J=z.schema,L=z.self;if(typeof J=="boolean")return!J;for(var D in J)if(L.RULES.all[D])return!0;return!1}function b(z){return typeof z.schema!="boolean"}function k(z){(0,h.checkUnknownRules)(z),function(J){var L=J.schema,D=J.errSchemaPath,U=J.opts,W=J.self;L.$ref&&U.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(L,W.RULES)&&W.logger.warn('$ref: keywords ignored in schema at path "'.concat(D,'"'))}(z)}function w(z,J){if(z.opts.jtd)return _(z,[],!1,J);var L=(0,i.getSchemaTypes)(z.schema);_(z,L,!(0,i.coerceAndCheckDataType)(z,L),J)}function C(z){var J=z.gen,L=z.schemaEnv,D=z.schema,U=z.errSchemaPath,W=z.opts,F=D.$comment;if(W.$comment===!0)J.code(f._(Nx||(Nx=ue(["",".logger.log(",")"])),c.default.self,F));else if(typeof W.$comment=="function"){var E=f.str(Lx||(Lx=ue(["","/$comment"])),U),x=J.scopeValue("root",{ref:L.root});J.code(f._(Dx||(Dx=ue(["",".opts.$comment(",", ",", ",".schema)"])),c.default.self,F,E,x))}}function _(z,J,L,D){var U=z.gen,W=z.schema,F=z.data,E=z.allErrors,x=z.opts,M=z.self.RULES;function K(se){(0,o.shouldUseGroup)(W,se)&&(se.type?(U.if((0,s.checkDataType)(se.type,F,x.strictNumbers)),T(z,se),J.length===1&&J[0]===se.type&&L&&(U.else(),(0,s.reportTypeError)(z)),U.endIf()):T(z,se),E||U.if(f._(Rx||(Rx=ue([""," === ",""])),c.default.errors,D||0)))}!W.$ref||!x.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(W,M)?(x.jtd||function(se,we){!se.schemaEnv.meta&&se.opts.strictTypes&&(function(je,R){R.length&&(je.dataTypes.length?(R.forEach(function(H){O(je.dataTypes,H)||S(je,'type "'.concat(H,'" not allowed by context "').concat(je.dataTypes.join(","),'"'))}),je.dataTypes=je.dataTypes.filter(function(H){return O(R,H)})):je.dataTypes=R)}(se,we),se.opts.allowUnionTypes||function(je,R){R.length>1&&(R.length!==2||!R.includes("null"))&&S(je,"use allowUnionTypes to allow union type keyword")}(se,we),function(je,R){var H=je.self.RULES.all;for(var I in H){var B=H[I];if(lt(B)=="object"&&(0,o.shouldUseRule)(je.schema,B)){var Z=B.definition.type;Z.length&&!Z.some(function(le){return j(R,le)})&&S(je,'missing type "'.concat(Z.join(","),'" for keyword "').concat(I,'"'))}}}(se,se.dataTypes))}(z,J),U.block(function(){var se,we=ce(M.rules);try{for(we.s();!(se=we.n()).done;)K(se.value)}catch(je){we.e(je)}finally{we.f()}K(M.post)})):U.block(function(){return A(z,"$ref",M.all.$ref.definition)})}function T(z,J){var L=z.gen,D=z.schema;z.opts.useDefaults&&(0,a.assignDefaults)(z,J.type),L.block(function(){var U,W=ce(J.rules);try{for(W.s();!(U=W.n()).done;){var F=U.value;(0,o.shouldUseRule)(D,F)&&A(z,F.keyword,F.definition,J.type)}}catch(E){W.e(E)}finally{W.f()}})}function j(z,J){return z.includes(J)||J==="number"&&z.includes("integer")}function O(z,J){return z.includes(J)||J==="integer"&&z.includes("number")}function S(z,J){(0,h.checkStrictMode)(z,J+=' at "'.concat(z.schemaEnv.baseId+z.errSchemaPath,'" (strictTypes)'),z.opts.strictTypes)}n.validateFunctionCode=function(z){b(z)&&(k(z),y(z))?function(J){var L=J.schema,D=J.opts,U=J.gen;v(J,function(){D.$comment&&L.$comment&&C(J),function(W){var F=W.schema,E=W.opts;F.default!==void 0&&E.useDefaults&&E.strictSchema&&(0,h.checkStrictMode)(W,"default is ignored in the schema root")}(J),U.let(c.default.vErrors,null),U.let(c.default.errors,0),D.unevaluated&&function(W){var F=W.gen,E=W.validateName;W.evaluated=F.const("evaluated",f._(Bx||(Bx=ue(["",".evaluated"])),E)),F.if(f._(zx||(zx=ue(["",".dynamicProps"])),W.evaluated),function(){return F.assign(f._(Fx||(Fx=ue(["",".props"])),W.evaluated),f._(qx||(qx=ue(["undefined"]))))}),F.if(f._(Vx||(Vx=ue(["",".dynamicItems"])),W.evaluated),function(){return F.assign(f._(Hx||(Hx=ue(["",".items"])),W.evaluated),f._(Wx||(Wx=ue(["undefined"]))))})}(J),w(J),function(W){var F=W.gen,E=W.schemaEnv,x=W.validateName,M=W.ValidationError,K=W.opts;E.$async?F.if(f._(Ux||(Ux=ue([""," === 0"])),c.default.errors),function(){return F.return(c.default.data)},function(){return F.throw(f._(Jx||(Jx=ue(["new ","(",")"])),M,c.default.vErrors))}):(F.assign(f._(Kx||(Kx=ue(["",".errors"])),x),c.default.vErrors),K.unevaluated&&function(se){var we=se.gen,je=se.evaluated,R=se.props,H=se.items;R instanceof f.Name&&we.assign(f._(Gx||(Gx=ue(["",".props"])),je),R),H instanceof f.Name&&we.assign(f._(Qx||(Qx=ue(["",".items"])),je),H)}(W),F.return(f._(Yx||(Yx=ue([""," === 0"])),c.default.errors)))}(J)})}(z):v(z,function(){return(0,r.topBoolOrEmptySchema)(z)})};var N=function(){function z(J,L,D){if(te(this,z),(0,u.validateKeywordUsage)(J,L,D),this.gen=J.gen,this.allErrors=J.allErrors,this.keyword=D,this.data=J.data,this.schema=J.schema[D],this.$data=L.$data&&J.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(J,this.schema,D,this.$data),this.schemaType=L.schemaType,this.parentSchema=J.schema,this.params={},this.it=J,this.def=L,this.$data)this.schemaCode=J.gen.const("vSchema",Y(this.$data,J));else if(this.schemaCode=this.schemaValue,!(0,u.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error("".concat(D," value must be ").concat(JSON.stringify(L.schemaType)));("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=J.gen.const("_errs",c.default.errors))}return ne(z,[{key:"result",value:function(J,L,D){this.failResult((0,f.not)(J),L,D)}},{key:"failResult",value:function(J,L,D){this.gen.if(J),D?D():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(J,L){this.failResult((0,f.not)(J),void 0,L)}},{key:"fail",value:function(J){if(J===void 0)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(J),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(J){if(!this.$data)return this.fail(J);var L=this.schemaCode;this.fail(f._(Xx||(Xx=ue([""," !== undefined && (",")"])),L,(0,f.or)(this.invalid$data(),J)))}},{key:"error",value:function(J,L,D){if(L)return this.setParams(L),this._error(J,D),void this.setParams({});this._error(J,D)}},{key:"_error",value:function(J,L){(J?p.reportExtraError:p.reportError)(this,this.def.error,L)}},{key:"$dataError",value:function(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}},{key:"reset",value:function(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(J){this.allErrors||this.gen.if(J)}},{key:"setParams",value:function(J,L){L?Object.assign(this.params,J):this.params=J}},{key:"block$data",value:function(J,L){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.nil;this.gen.block(function(){D.check$data(J,U),L()})}},{key:"check$data",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.nil,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.nil;if(this.$data){var D=this.gen,U=this.schemaCode,W=this.schemaType,F=this.def;D.if((0,f.or)(f._(Zx||(Zx=ue([""," === undefined"])),U),L)),J!==f.nil&&D.assign(J,!0),(W.length||F.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),J!==f.nil&&D.assign(J,!1)),D.else()}}},{key:"invalid$data",value:function(){var J=this.gen,L=this.schemaCode,D=this.schemaType,U=this.def,W=this.it;return(0,f.or)(function(){if(D.length){if(!(L instanceof f.Name))throw new Error("ajv implementation error");var F=Array.isArray(D)?D:[D];return f._(e2||(e2=ue(["",""])),(0,s.checkDataTypes)(F,L,W.opts.strictNumbers,s.DataType.Wrong))}return f.nil}(),function(){if(U.validateSchema){var F=J.scopeValue("validate$data",{ref:U.validateSchema});return f._(t2||(t2=ue(["!","(",")"])),F,L)}return f.nil}())}},{key:"subschema",value:function(J,L){var D=(0,l.getSubschema)(this.it,J);(0,l.extendSubschemaData)(D,this.it,J),(0,l.extendSubschemaMode)(D,J);var U=dt(dt(dt({},this.it),D),{},{items:void 0,props:void 0});return g(U,L),U}},{key:"mergeEvaluated",value:function(J,L){var D=this.it,U=this.gen;D.opts.unevaluated&&(D.props!==!0&&J.props!==void 0&&(D.props=h.mergeEvaluated.props(U,J.props,D.props,L)),D.items!==!0&&J.items!==void 0&&(D.items=h.mergeEvaluated.items(U,J.items,D.items,L)))}},{key:"mergeValidEvaluated",value:function(J,L){var D=this,U=this.it,W=this.gen;if(U.opts.unevaluated&&(U.props!==!0||U.items!==!0))return W.if(L,function(){return D.mergeEvaluated(J,f.Name)}),!0}}]),z}();function A(z,J,L,D){var U=new N(z,L,J);"code"in L?L.code(U,D):U.$data&&L.validate?(0,u.funcKeywordCode)(U,L):"macro"in L?(0,u.macroKeywordCode)(U,L):(L.compile||L.validate)&&(0,u.funcKeywordCode)(U,L)}n.KeywordCxt=N;var $=/^\/(?:[^~]|~0|~1)*$/,q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(z,J){var L,D,U=J.dataLevel,W=J.dataNames,F=J.dataPathArr;if(z==="")return c.default.rootData;if(z[0]==="/"){if(!$.test(z))throw new Error("Invalid JSON-pointer: ".concat(z));L=z,D=c.default.rootData}else{var E=q.exec(z);if(!E)throw new Error("Invalid JSON-pointer: ".concat(z));var x=+E[1];if((L=E[2])==="#"){if(x>=U)throw new Error(je("property/index",x));return F[U-x]}if(x>U)throw new Error(je("data",x));if(D=W[U-x],!L)return D}var M,K=D,se=ce(L.split("/"));try{for(se.s();!(M=se.n()).done;){var we=M.value;we&&(D=f._(n2||(n2=ue(["","",""])),D,(0,f.getProperty)((0,h.unescapeJsonPointer)(we))),K=f._(r2||(r2=ue([""," && ",""])),K,D))}}catch(R){se.e(R)}finally{se.f()}return K;function je(R,H){return"Cannot access ".concat(R," ").concat(H," levels up, current level is ").concat(U)}}n.getData=Y},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateKeywordUsage=n.validSchemaType=n.funcKeywordCode=n.macroKeywordCode=void 0;var r=t("../codegen"),i=t("../names"),o=t("../../vocabularies/code"),s=t("../errors");function a(l){var f=l.gen,c=l.data,d=l.it;f.if(d.parentData,function(){return f.assign(c,r._(i2||(i2=ue(["","[","]"])),d.parentData,d.parentDataProperty))})}function u(l,f,c){if(c===void 0)throw new Error('keyword "'.concat(f,'" failed to compile'));return l.scopeValue("keyword",typeof c=="function"?{ref:c}:{ref:c,code:(0,r.stringify)(c)})}n.macroKeywordCode=function(l,f){var c=l.gen,d=l.keyword,h=l.schema,p=l.parentSchema,v=l.it,m=f.macro.call(v.self,h,p,v),g=u(c,d,m);v.opts.validateSchema!==!1&&v.self.validateSchema(m,!0);var y=c.name("valid");l.subschema({schema:m,schemaPath:r.nil,errSchemaPath:"".concat(v.errSchemaPath,"/").concat(d),topSchemaRef:g,compositeRule:!0},y),l.pass(y,function(){return l.error(!0)})},n.funcKeywordCode=function(l,f){var c,d=l.gen,h=l.keyword,p=l.schema,v=l.parentSchema,m=l.$data,g=l.it;(function(_,T){var j=_.schemaEnv;if(T.async&&!j.$async)throw new Error("async keyword in sync schema")})(g,f);var y=!m&&f.compile?f.compile.call(g.self,p,v,g):f.validate,b=u(d,h,y),k=d.let("valid");function w(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.async?r._(o2||(o2=ue(["await "]))):r.nil;d.assign(k,r._(s2||(s2=ue(["","",""])),_,(0,o.callValidateCode)(l,b,g.opts.passContext?i.default.this:i.default.self,!("compile"in f&&!m||f.schema===!1))),f.modifying)}function C(_){var T;d.if((0,r.not)((T=f.valid)!==null&&T!==void 0?T:k),_)}l.block$data(k,function(){if(f.errors===!1)w(),f.modifying&&a(l),C(function(){return l.error()});else{var _=f.async?function(){var T=d.let("ruleErrs",null);return d.try(function(){return w(r._(a2||(a2=ue(["await "]))))},function(j){return d.assign(k,!1).if(r._(u2||(u2=ue([""," instanceof ",""])),j,g.ValidationError),function(){return d.assign(T,r._(l2||(l2=ue(["",".errors"])),j))},function(){return d.throw(j)})}),T}():function(){var T=r._(c2||(c2=ue(["",".errors"])),b);return d.assign(T,null),w(r.nil),T}();f.modifying&&a(l),C(function(){return function(T,j){var O=T.gen;O.if(r._(f2||(f2=ue(["Array.isArray(",")"])),j),function(){O.assign(i.default.vErrors,r._(d2||(d2=ue([""," === null ? "," : ",".concat(",")"])),i.default.vErrors,j,i.default.vErrors,j)).assign(i.default.errors,r._(h2||(h2=ue(["",".length"])),i.default.vErrors)),(0,s.extendErrors)(T)},function(){return T.error()})}(l,_)})}}),l.ok((c=f.valid)!==null&&c!==void 0?c:k)},n.validSchemaType=function(l,f){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return!f.length||f.some(function(d){return d==="array"?Array.isArray(l):d==="object"?l&&lt(l)=="object"&&!Array.isArray(l):lt(l)==d||c&&l===void 0})},n.validateKeywordUsage=function(l,f,c){var d=l.schema,h=l.opts,p=l.self,v=l.errSchemaPath;if(Array.isArray(f.keyword)?!f.keyword.includes(c):f.keyword!==c)throw new Error("ajv implementation error");var m=f.dependencies;if(m!=null&&m.some(function(y){return!Object.prototype.hasOwnProperty.call(d,y)}))throw new Error("parent schema must have dependencies of ".concat(c,": ").concat(m.join(",")));if(f.validateSchema&&!f.validateSchema(d[c])){var g='keyword "'.concat(c,'" value is invalid at path "').concat(v,'": ')+p.errorsText(f.validateSchema.errors);if(h.validateSchema!=="log")throw new Error(g);p.logger.error(g)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendSubschemaMode=n.extendSubschemaData=n.getSubschema=void 0;var r=t("../codegen"),i=t("../util");n.getSubschema=function(o,s){var a=s.keyword,u=s.schemaProp,l=s.schema,f=s.schemaPath,c=s.errSchemaPath,d=s.topSchemaRef;if(a!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){var h=o.schema[a];return u===void 0?{schema:h,schemaPath:r._(p2||(p2=ue(["","",""])),o.schemaPath,(0,r.getProperty)(a)),errSchemaPath:"".concat(o.errSchemaPath,"/").concat(a)}:{schema:h[u],schemaPath:r._(v2||(v2=ue(["","","",""])),o.schemaPath,(0,r.getProperty)(a),(0,r.getProperty)(u)),errSchemaPath:"".concat(o.errSchemaPath,"/").concat(a,"/").concat((0,i.escapeFragment)(u))}}if(l!==void 0){if(f===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')},n.extendSubschemaData=function(o,s,a){var u=a.dataProp,l=a.dataPropType,f=a.data,c=a.dataTypes,d=a.propertyName;if(f!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var h=s.gen;if(u!==void 0){var p=s.errorPath,v=s.dataPathArr,m=s.opts;g(h.let("data",r._(m2||(m2=ue(["","",""])),s.data,(0,r.getProperty)(u)),!0)),o.errorPath=r.str(g2||(g2=ue(["","",""])),p,(0,i.getErrorPath)(u,l,m.jsPropertySyntax)),o.parentDataProperty=r._(y2||(y2=ue(["",""])),u),o.dataPathArr=[].concat(nn(v),[o.parentDataProperty])}function g(y){o.data=y,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[].concat(nn(s.dataNames),[y])}f!==void 0&&(g(f instanceof r.Name?f:h.let("data",f,!0)),d!==void 0&&(o.propertyName=d)),c&&(o.dataTypes=c)},n.extendSubschemaMode=function(o,s){var a=s.jtdDiscriminator,u=s.jtdMetadata,l=s.compositeRule,f=s.createErrors,c=s.allErrors;l!==void 0&&(o.compositeRule=l),f!==void 0&&(o.createErrors=f),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=a,o.jtdMetadata=u}},{"../codegen":2,"../util":10}],18:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=t("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var i=t("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});var o=t("./runtime/validation_error"),s=t("./compile/ref_error"),a=t("./compile/rules"),u=t("./compile"),l=t("./compile/codegen"),f=t("./compile/resolve"),c=t("./compile/validate/dataType"),d=t("./compile/util"),h=t("./refs/data.json"),p=t("./runtime/uri"),v=function(D,U){return new RegExp(D,U)};v.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function k(D){var U,W,F,E,x,M,K,se,we,je,R,H,I,B,Z,le,X,V,_e,Se,xe,he,fe,ke,Oe,De=D.strict,Ve=(U=D.code)===null||U===void 0?void 0:U.optimize,pe=Ve===!0||Ve===void 0?1:Ve||0,He=(F=(W=D.code)===null||W===void 0?void 0:W.regExp)!==null&&F!==void 0?F:v,st=(E=D.uriResolver)!==null&&E!==void 0?E:p.default;return{strictSchema:(M=(x=D.strictSchema)!==null&&x!==void 0?x:De)===null||M===void 0||M,strictNumbers:(se=(K=D.strictNumbers)!==null&&K!==void 0?K:De)===null||se===void 0||se,strictTypes:(je=(we=D.strictTypes)!==null&&we!==void 0?we:De)!==null&&je!==void 0?je:"log",strictTuples:(H=(R=D.strictTuples)!==null&&R!==void 0?R:De)!==null&&H!==void 0?H:"log",strictRequired:(B=(I=D.strictRequired)!==null&&I!==void 0?I:De)!==null&&B!==void 0&&B,code:D.code?dt(dt({},D.code),{},{optimize:pe,regExp:He}):{optimize:pe,regExp:He},loopRequired:(Z=D.loopRequired)!==null&&Z!==void 0?Z:200,loopEnum:(le=D.loopEnum)!==null&&le!==void 0?le:200,meta:(X=D.meta)===null||X===void 0||X,messages:(V=D.messages)===null||V===void 0||V,inlineRefs:(_e=D.inlineRefs)===null||_e===void 0||_e,schemaId:(Se=D.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(xe=D.addUsedSchema)===null||xe===void 0||xe,validateSchema:(he=D.validateSchema)===null||he===void 0||he,validateFormats:(fe=D.validateFormats)===null||fe===void 0||fe,unicodeRegExp:(ke=D.unicodeRegExp)===null||ke===void 0||ke,int32range:(Oe=D.int32range)===null||Oe===void 0||Oe,uriResolver:st}}var w=function(){function D(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,D),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,U=this.opts=dt(dt({},U),k(U));var W=this.opts.code,F=W.es5,E=W.lines;this.scope=new l.ValueScope({scope:{},prefixes:g,es5:F,lines:E}),this.logger=function(M){if(M===!1)return N;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}(U.logger);var x=U.validateFormats;U.validateFormats=!1,this.RULES=(0,a.getRules)(),C.call(this,y,U,"NOT SUPPORTED"),C.call(this,b,U,"DEPRECATED","warn"),this._metaOpts=S.call(this),U.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),U.keywords&&O.call(this,U.keywords),lt(U.meta)=="object"&&this.addMetaSchema(U.meta),T.call(this),U.validateFormats=x}return ne(D,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var U=this.opts,W=U.$data,F=U.meta,E=U.schemaId,x=h;E==="id"&&((x=dt({},h)).id=x.$id,delete x.$id),F&&W&&this.addMetaSchema(x,x[E],!1)}},{key:"defaultMeta",value:function(){var U=this.opts,W=U.meta,F=U.schemaId;return this.opts.defaultMeta=lt(W)=="object"?W[F]||W:void 0}},{key:"validate",value:function(U,W){var F;if(typeof U=="string"){if(!(F=this.getSchema(U)))throw new Error('no schema with key or ref "'.concat(U,'"'))}else F=this.compile(U);var E=F(W);return"$async"in F||(this.errors=F.errors),E}},{key:"compile",value:function(U,W){var F=this._addSchema(U,W);return F.validate||this._compileSchemaEnv(F)}},{key:"compileAsync",value:function(U,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");var F=this.opts.loadSchema;return E.call(this,U,W);function E(Z,le){return x.apply(this,arguments)}function x(){return(x=Nn(jt().mark(function Z(le,X){var V;return jt().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,M.call(this,le.$schema);case 2:return V=this._addSchema(le,X),_e.abrupt("return",V.validate||se.call(this,V));case 4:case"end":return _e.stop()}},Z,this)}))).apply(this,arguments)}function M(Z){return K.apply(this,arguments)}function K(){return(K=Nn(jt().mark(function Z(le){return jt().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(X.t0=le&&!this.getSchema(le),!X.t0){X.next=4;break}return X.next=4,E.call(this,{$ref:le},!0);case 4:case"end":return X.stop()}},Z,this)}))).apply(this,arguments)}function se(Z){return we.apply(this,arguments)}function we(){return(we=Nn(jt().mark(function Z(le){return jt().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.prev=0,X.abrupt("return",this._compileSchemaEnv(le));case 4:if(X.prev=4,X.t0=X.catch(0),X.t0 instanceof s.default){X.next=8;break}throw X.t0;case 8:return je.call(this,X.t0),X.next=11,R.call(this,X.t0.missingSchema);case 11:return X.abrupt("return",se.call(this,le));case 12:case"end":return X.stop()}},Z,this,[[0,4]])}))).apply(this,arguments)}function je(Z){var le=Z.missingSchema,X=Z.missingRef;if(this.refs[le])throw new Error("AnySchema ".concat(le," is loaded but ").concat(X," cannot be resolved"))}function R(Z){return H.apply(this,arguments)}function H(){return(H=Nn(jt().mark(function Z(le){var X;return jt().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,I.call(this,le);case 2:if(X=V.sent,V.t0=this.refs[le],V.t0){V.next=7;break}return V.next=7,M.call(this,X.$schema);case 7:this.refs[le]||this.addSchema(X,le,W);case 8:case"end":return V.stop()}},Z,this)}))).apply(this,arguments)}function I(Z){return B.apply(this,arguments)}function B(){return(B=Nn(jt().mark(function Z(le){var X;return jt().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(X=this._loading[le])){V.next=3;break}return V.abrupt("return",X);case 3:return V.prev=3,V.next=6,this._loading[le]=F(le);case 6:return V.abrupt("return",V.sent);case 7:return V.prev=7,delete this._loading[le],V.finish(7);case 10:case"end":return V.stop()}},Z,this,[[3,,7,10]])}))).apply(this,arguments)}}},{key:"addSchema",value:function(U,W,F){var E,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema;if(Array.isArray(U)){var M,K=ce(U);try{for(K.s();!(M=K.n()).done;){var se=M.value;this.addSchema(se,void 0,F,x)}}catch(je){K.e(je)}finally{K.f()}return this}if(lt(U)=="object"){var we=this.opts.schemaId;if((E=U[we])!==void 0&&typeof E!="string")throw new Error("schema ".concat(we," must be string"))}return W=(0,f.normalizeId)(W||E),this._checkUnique(W),this.schemas[W]=this._addSchema(U,F,W,x,!0),this}},{key:"addMetaSchema",value:function(U,W){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.validateSchema;return this.addSchema(U,W,!0,F),this}},{key:"validateSchema",value:function(U,W){if(typeof U=="boolean")return!0;var F;if((F=U.$schema)!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(!(F=F||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var E=this.validate(F,U);if(!E&&W){var x="schema is invalid: "+this.errorsText();if(this.opts.validateSchema!=="log")throw new Error(x);this.logger.error(x)}return E}},{key:"getSchema",value:function(U){for(var W;typeof(W=_.call(this,U))=="string";)U=W;if(W===void 0){var F=this.opts.schemaId,E=new u.SchemaEnv({schema:{},schemaId:F});if(!(W=u.resolveSchema.call(this,E,U)))return;this.refs[U]=W}return W.validate||this._compileSchemaEnv(W)}},{key:"removeSchema",value:function(U){if(U instanceof RegExp)return this._removeAllSchemas(this.schemas,U),this._removeAllSchemas(this.refs,U),this;switch(lt(U)){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var W=_.call(this,U);return lt(W)=="object"&&this._cache.delete(W.schema),delete this.schemas[U],delete this.refs[U],this;case"object":this._cache.delete(U);var F=U[this.opts.schemaId];return F&&(F=(0,f.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(U){var W,F=ce(U);try{for(F.s();!(W=F.n()).done;){var E=W.value;this.addKeyword(E)}}catch(x){F.e(x)}finally{F.f()}return this}},{key:"addKeyword",value:function(U,W){var F,E=this;if(typeof U=="string")F=U,lt(W)=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=F);else{if(lt(U)!="object"||W!==void 0)throw new Error("invalid addKeywords parameters");if(F=(W=U).keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if($.call(this,F,W),!W)return(0,d.eachItem)(F,function(M){return q.call(E,M)}),this;z.call(this,W);var x=dt(dt({},W),{},{type:(0,c.getJSONTypes)(W.type),schemaType:(0,c.getJSONTypes)(W.schemaType)});return(0,d.eachItem)(F,x.type.length===0?function(M){return q.call(E,M,x)}:function(M){return x.type.forEach(function(K){return q.call(E,M,x,K)})}),this}},{key:"getKeyword",value:function(U){var W=this.RULES.all[U];return lt(W)=="object"?W.definition:!!W}},{key:"removeKeyword",value:function(U){var W=this.RULES;delete W.keywords[U],delete W.all[U];var F,E=ce(W.rules);try{for(E.s();!(F=E.n()).done;){var x=F.value,M=x.rules.findIndex(function(K){return K.keyword===U});M>=0&&x.rules.splice(M,1)}}catch(K){E.e(K)}finally{E.f()}return this}},{key:"addFormat",value:function(U,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[U]=W,this}},{key:"errorsText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.errors,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=W.separator,E=F===void 0?", ":F,x=W.dataVar,M=x===void 0?"data":x;return U&&U.length!==0?U.map(function(K){return"".concat(M).concat(K.instancePath," ").concat(K.message)}).reduce(function(K,se){return K+E+se}):"No errors"}},{key:"$dataMetaSchema",value:function(U,W){var F=this.RULES.all;U=JSON.parse(JSON.stringify(U));var E,x=ce(W);try{for(x.s();!(E=x.n()).done;){var M,K=E.value.split("/").slice(1),se=U,we=ce(K);try{for(we.s();!(M=we.n()).done;)se=se[M.value]}catch(B){we.e(B)}finally{we.f()}for(var je in F){var R=F[je];if(lt(R)=="object"){var H=R.definition.$data,I=se[je];H&&I&&(se[je]=L(I))}}}}catch(B){x.e(B)}finally{x.f()}return U}},{key:"_removeAllSchemas",value:function(U,W){for(var F in U){var E=U[F];W&&!W.test(F)||(typeof E=="string"?delete U[F]:E&&!E.meta&&(this._cache.delete(E.schema),delete U[F]))}}},{key:"_addSchema",value:function(U,W,F){var E,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.addUsedSchema,K=this.opts.schemaId;if(lt(U)=="object")E=U[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof U!="boolean")throw new Error("schema must be object or boolean")}var se=this._cache.get(U);if(se!==void 0)return se;F=(0,f.normalizeId)(E||F);var we=f.getSchemaRefs.call(this,U,F);return se=new u.SchemaEnv({schema:U,schemaId:K,meta:W,baseId:F,localRefs:we}),this._cache.set(se.schema,se),M&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=se),x&&this.validateSchema(U,!0),se}},{key:"_checkUnique",value:function(U){if(this.schemas[U]||this.refs[U])throw new Error('schema with key or id "'.concat(U,'" already exists'))}},{key:"_compileSchemaEnv",value:function(U){if(U.meta?this._compileMetaSchema(U):u.compileSchema.call(this,U),!U.validate)throw new Error("ajv implementation error");return U.validate}},{key:"_compileMetaSchema",value:function(U){var W=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,U)}finally{this.opts=W}}}]),D}();function C(D,U,W){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"error";for(var E in D){var x=E;x in U&&this.logger[F]("".concat(W,": option ").concat(E,". ").concat(D[x]))}}function _(D){return D=(0,f.normalizeId)(D),this.schemas[D]||this.refs[D]}function T(){var D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(var U in D)this.addSchema(D[U],U)}function j(){for(var D in this.opts.formats){var U=this.opts.formats[D];U&&this.addFormat(D,U)}}function O(D){if(Array.isArray(D))this.addVocabulary(D);else for(var U in this.logger.warn("keywords option as map is deprecated, pass array"),D){var W=D[U];W.keyword||(W.keyword=U),this.addKeyword(W)}}function S(){var D,U=dt({},this.opts),W=ce(m);try{for(W.s();!(D=W.n()).done;)delete U[D.value]}catch(F){W.e(F)}finally{W.f()}return U}n.default=w,w.ValidationError=o.default,w.MissingRefError=s.default;var N={log:function(){},warn:function(){},error:function(){}},A=/^[a-z_$][a-z0-9_$:-]*$/i;function $(D,U){var W=this.RULES;if((0,d.eachItem)(D,function(F){if(W.keywords[F])throw new Error("Keyword ".concat(F," is already defined"));if(!A.test(F))throw new Error("Keyword ".concat(F," has invalid name"))}),U&&U.$data&&!("code"in U)&&!("validate"in U))throw new Error('$data keyword must have "code" or "validate" function')}function q(D,U,W){var F,E=this,x=U==null?void 0:U.post;if(W&&x)throw new Error('keyword with "post" flag cannot have "type"');var M=this.RULES,K=x?M.post:M.rules.find(function(we){return we.type===W});if(K||(K={type:W,rules:[]},M.rules.push(K)),M.keywords[D]=!0,U){var se={keyword:D,definition:dt(dt({},U),{},{type:(0,c.getJSONTypes)(U.type),schemaType:(0,c.getJSONTypes)(U.schemaType)})};U.before?Y.call(this,K,se,U.before):K.rules.push(se),M.all[D]=se,(F=U.implements)===null||F===void 0||F.forEach(function(we){return E.addKeyword(we)})}}function Y(D,U,W){var F=D.rules.findIndex(function(E){return E.keyword===W});F>=0?D.rules.splice(F,0,U):(D.rules.push(U),this.logger.warn("rule ".concat(W," is not defined")))}function z(D){var U=D.metaSchema;U!==void 0&&(D.$data&&this.opts.$data&&(U=L(U)),D.validateSchema=this.compile(U,!0))}var J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(D){return{anyOf:[D,J]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(t,e,n){e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(t,e,n){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("fast-deep-equal");r.code='require("ajv/dist/runtime/equal").default',n.default=r},{"fast-deep-equal":63}],22:[function(t,e,n){function r(i){for(var o,s=i.length,a=0,u=0;u<s;)a++,(o=i.charCodeAt(u++))>=55296&&o<=56319&&u<s&&(64512&(o=i.charCodeAt(u)))==56320&&u++;return a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("uri-js");r.code='require("ajv/dist/runtime/uri").default',n.default=r},{"uri-js":65}],24:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(i){Be(s,Jd(Error));var o=ze(s);function s(a){var u;return te(this,s),(u=o.call(this,"validation failed")).errors=a,u.ajv=u.validation=!0,u}return ne(s)}();n.default=r},{}],25:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAdditionalItems=void 0;var r=t("../../compile/codegen"),i=t("../../compile/util"),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(a){var u=a.params.len;return r.str(b2||(b2=ue(["must NOT have more than "," items"])),u)},params:function(a){var u=a.params.len;return r._(k2||(k2=ue(["{limit: ","}"])),u)}},code:function(a){var u=a.parentSchema,l=a.it,f=u.items;Array.isArray(f)?s(a,f):(0,i.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(a,u){var l=a.gen,f=a.schema,c=a.data,d=a.keyword,h=a.it;h.items=!0;var p=l.const("len",r._(w2||(w2=ue(["",".length"])),c));if(f===!1)a.setParams({len:u.length}),a.pass(r._(x2||(x2=ue([""," <= ",""])),p,u.length));else if(lt(f)=="object"&&!(0,i.alwaysValidSchema)(h,f)){var v=l.var("valid",r._(j2||(j2=ue([""," <= ",""])),p,u.length));l.if((0,r.not)(v),function(){return function(m){l.forRange("i",u.length,p,function(g){a.subschema({keyword:d,dataProp:g,dataPropType:i.Type.Num},m),h.allErrors||l.if((0,r.not)(m),function(){return l.break()})})}(v)}),a.ok(v)}}n.validateAdditionalItems=s,n.default=o},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),i=t("../../compile/codegen"),o=t("../../compile/names"),s=t("../../compile/util");n.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(a){var u=a.params;return i._(_2||(_2=ue(["{additionalProperty: ","}"])),u.additionalProperty)}},code:function(a){var u=a.gen,l=a.schema,f=a.parentSchema,c=a.data,d=a.errsCount,h=a.it;if(!d)throw new Error("ajv implementation error");var p=h.allErrors,v=h.opts;if(h.props=!0,v.removeAdditional==="all"||!(0,s.alwaysValidSchema)(h,l)){var m=(0,r.allSchemaProperties)(f.properties),g=(0,r.allSchemaProperties)(f.patternProperties);u.forIn("key",c,function(w){m.length||g.length?u.if(function(C){var _;if(m.length>8){var T=(0,s.schemaRefOrVal)(h,f.properties,"properties");_=(0,r.isOwnProperty)(u,T,C)}else _=m.length?i.or.apply(void 0,nn(m.map(function(j){return i._(C2||(C2=ue([""," === ",""])),C,j)}))):i.nil;return g.length&&(_=i.or.apply(void 0,[_].concat(nn(g.map(function(j){return i._($2||($2=ue(["",".test(",")"])),(0,r.usePattern)(a,j),C)}))))),(0,i.not)(_)}(w),function(){return b(w)}):b(w)}),a.ok(i._(A2||(A2=ue([""," === ",""])),d,o.default.errors))}function y(w){u.code(i._(S2||(S2=ue(["delete ","[","]"])),c,w))}function b(w){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1)y(w);else{if(l===!1)return a.setParams({additionalProperty:w}),a.error(),void(p||u.break());if(lt(l)=="object"&&!(0,s.alwaysValidSchema)(h,l)){var C=u.name("valid");v.removeAdditional==="failing"?(k(w,C,!1),u.if((0,i.not)(C),function(){a.reset(),y(w)})):(k(w,C),p||u.if((0,i.not)(C),function(){return u.break()}))}}}function k(w,C,_){var T={keyword:"additionalProperties",dataProp:w,dataPropType:s.Type.Str};_===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(T,C)}}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:"allOf",schemaType:"array",code:function(i){var o=i.gen,s=i.schema,a=i.it;if(!Array.isArray(s))throw new Error("ajv implementation error");var u=o.name("valid");s.forEach(function(l,f){if(!(0,r.alwaysValidSchema)(a,l)){var c=i.subschema({keyword:"allOf",schemaProp:f},u);i.ok(u),i.mergeEvaluated(c)}})}}},{"../../compile/util":10}],28:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code");n.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util");n.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(o){var s=o.params,a=s.min,u=s.max;return u===void 0?r.str(O2||(O2=ue(["must contain at least "," valid item(s)"])),a):r.str(E2||(E2=ue(["must contain at least "," and no more than "," valid item(s)"])),a,u)},params:function(o){var s=o.params,a=s.min,u=s.max;return u===void 0?r._(T2||(T2=ue(["{minContains: ","}"])),a):r._(P2||(P2=ue(["{minContains: ",", maxContains: ","}"])),a,u)}},code:function(o){var s,a,u=o.gen,l=o.schema,f=o.parentSchema,c=o.data,d=o.it,h=f.minContains,p=f.maxContains;d.opts.next?(s=h===void 0?1:h,a=p):s=1;var v=u.const("len",r._(M2||(M2=ue(["",".length"])),c));if(o.setParams({min:s,max:a}),a!==void 0||s!==0){if(a!==void 0&&s>a)return(0,i.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),void o.fail();if((0,i.alwaysValidSchema)(d,l)){var m=r._(I2||(I2=ue([""," >= ",""])),v,s);return a!==void 0&&(m=r._(N2||(N2=ue([""," && "," <= ",""])),m,v,a)),void o.pass(m)}d.items=!0;var g=u.name("valid");a===void 0&&s===1?b(g,function(){return u.if(g,function(){return u.break()})}):s===0?(u.let(g,!0),a!==void 0&&u.if(r._(z2||(z2=ue(["",".length > 0"])),c),y)):(u.let(g,!1),y()),o.result(g,function(){return o.reset()})}else(0,i.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function y(){var k=u.name("_valid"),w=u.let("count",0);b(k,function(){return u.if(k,function(){return function(C){u.code(r._(L2||(L2=ue(["","++"])),C)),a===void 0?u.if(r._(D2||(D2=ue([""," >= ",""])),C,s),function(){return u.assign(g,!0).break()}):(u.if(r._(R2||(R2=ue([""," > ",""])),C,a),function(){return u.assign(g,!1).break()}),s===1?u.assign(g,!0):u.if(r._(B2||(B2=ue([""," >= ",""])),C,s),function(){return u.assign(g,!0)}))}(w)})})}function b(k,w){u.forRange("i",0,v,function(C){o.subschema({keyword:"contains",dataProp:C,dataPropType:i.Type.Num,compositeRule:!0},k),w()})}}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../code");n.error={message:function(l){var f=l.params,c=f.property,d=f.depsCount,h=f.deps;return r.str(F2||(F2=ue(["must have "," "," when property "," is present"])),d===1?"property":"properties",h,c)},params:function(l){var f=l.params,c=f.property,d=f.depsCount,h=f.deps,p=f.missingProperty;return r._(q2||(q2=ue(["{property: ",`,
	    missingProperty: `,`,
	    depsCount: `,`,
	    deps: `,"}"])),c,p,d,h)}};var s={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code:function(l){var f=Et(function(h){var p=h.schema,v={},m={};for(var g in p)g!=="__proto__"&&((Array.isArray(p[g])?v:m)[g]=p[g]);return[v,m]}(l),2),c=f[0],d=f[1];a(l,c),u(l,d)}};function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.schema,c=l.gen,d=l.data,h=l.it;if(Object.keys(f).length!==0){var p=c.let("missing"),v=function(g){var y=f[g];if(y.length===0)return"continue";var b=(0,o.propertyInData)(c,d,g,h.opts.ownProperties);l.setParams({property:g,depsCount:y.length,deps:y.join(", ")}),h.allErrors?c.if(b,function(){var k,w=ce(y);try{for(w.s();!(k=w.n()).done;){var C=k.value;(0,o.checkReportMissingProp)(l,C)}}catch(_){w.e(_)}finally{w.f()}}):(c.if(r._(V2||(V2=ue([""," && (",")"])),b,(0,o.checkMissingProp)(l,y,p))),(0,o.reportMissingProp)(l,p),c.else())};for(var m in f)v(m)}}function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.schema,c=l.gen,d=l.data,h=l.keyword,p=l.it,v=c.name("valid"),m=function(y){(0,i.alwaysValidSchema)(p,f[y])||(c.if((0,o.propertyInData)(c,d,y,p.opts.ownProperties),function(){var b=l.subschema({keyword:h,schemaProp:y},v);l.mergeValidEvaluated(b,v)},function(){return c.var(v,!0)}),l.ok(v))};for(var g in f)m(g)}n.validatePropertyDeps=a,n.validateSchemaDeps=u,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util");function o(s,a){var u=s.schema[a];return u!==void 0&&!(0,i.alwaysValidSchema)(s,u)}n.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(s){var a=s.params;return r.str(H2||(H2=ue(['must match "','" schema'])),a.ifClause)},params:function(s){var a=s.params;return r._(W2||(W2=ue(["{failingKeyword: ","}"])),a.ifClause)}},code:function(s){var a=s.gen,u=s.parentSchema,l=s.it;u.then===void 0&&u.else===void 0&&(0,i.checkStrictMode)(l,'"if" without "then" and "else" is ignored');var f=o(l,"then"),c=o(l,"else");if(f||c){var d=a.let("valid",!0),h=a.name("_valid");if(function(){var m=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);s.mergeEvaluated(m)}(),s.reset(),f&&c){var p=a.let("ifClause");s.setParams({ifClause:p}),a.if(h,v("then",p),v("else",p))}else f?a.if(h,v("then")):a.if((0,r.not)(h),v("else"));s.pass(d,function(){return s.error(!0)})}function v(m,g){return function(){var y=s.subschema({keyword:m},h);a.assign(d,h),s.mergeValidEvaluated(y,d),g?a.assign(g,r._(U2||(U2=ue(["",""])),m)):s.setParams({ifClause:m})}}}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./additionalItems"),i=t("./prefixItems"),o=t("./items"),s=t("./items2020"),a=t("./contains"),u=t("./dependencies"),l=t("./propertyNames"),f=t("./additionalProperties"),c=t("./properties"),d=t("./patternProperties"),h=t("./not"),p=t("./anyOf"),v=t("./oneOf"),m=t("./allOf"),g=t("./if"),y=t("./thenElse");n.default=function(){var b=arguments.length>0&&arguments[0]!==void 0&&arguments[0],k=[h.default,p.default,v.default,m.default,g.default,y.default,l.default,f.default,u.default,c.default,d.default];return b?k.push(i.default,s.default):k.push(r.default,o.default),k.push(a.default),k}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTuple=void 0;var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../code"),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(u){var l=u.schema,f=u.it;if(Array.isArray(l))return a(u,"additionalItems",l);f.items=!0,(0,i.alwaysValidSchema)(f,l)||u.ok((0,o.validateArray)(u))}};function a(u,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.schema,c=u.gen,d=u.parentSchema,h=u.data,p=u.keyword,v=u.it;(function(y){var b=v.opts,k=v.errSchemaPath,w=f.length,C=w===y.minItems&&(w===y.maxItems||y[l]===!1);b.strictTuples&&!C&&(0,i.checkStrictMode)(v,'"'.concat(p,'" is ').concat(w,"-tuple, but minItems or maxItems/").concat(l,' are not specified or different at path "').concat(k,'"'),b.strictTuples)})(d),v.opts.unevaluated&&f.length&&v.items!==!0&&(v.items=i.mergeEvaluated.items(c,f.length,v.items));var m=c.name("valid"),g=c.const("len",r._(J2||(J2=ue(["",".length"])),h));f.forEach(function(y,b){(0,i.alwaysValidSchema)(v,y)||(c.if(r._(K2||(K2=ue([""," > ",""])),g,b),function(){return u.subschema({keyword:p,schemaProp:b,dataProp:b},m)}),u.ok(m))})}n.validateTuple=a,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../code"),s=t("./additionalItems");n.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(a){var u=a.params.len;return r.str(G2||(G2=ue(["must NOT have more than "," items"])),u)},params:function(a){var u=a.params.len;return r._(Q2||(Q2=ue(["{limit: ","}"])),u)}},code:function(a){var u=a.schema,l=a.parentSchema,f=a.it,c=l.prefixItems;f.items=!0,(0,i.alwaysValidSchema)(f,u)||(c?(0,s.validateAdditionalItems)(a,c):a.ok((0,o.validateArray)(a)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(i){var o=i.gen,s=i.schema,a=i.it;if((0,r.alwaysValidSchema)(a,s))i.fail();else{var u=o.name("valid");i.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),i.failResult(u,function(){return i.reset()},function(){return i.error()})}},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util");n.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(o){var s=o.params;return r._(Y2||(Y2=ue(["{passingSchemas: ","}"])),s.passing)}},code:function(o){var s=o.gen,a=o.schema,u=o.parentSchema,l=o.it;if(!Array.isArray(a))throw new Error("ajv implementation error");if(!l.opts.discriminator||!u.discriminator){var f=a,c=s.let("valid",!1),d=s.let("passing",null),h=s.name("_valid");o.setParams({passing:d}),s.block(function(){f.forEach(function(p,v){var m;(0,i.alwaysValidSchema)(l,p)?s.var(h,!0):m=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},h),v>0&&s.if(r._(X2||(X2=ue([""," && ",""])),h,c)).assign(c,!1).assign(d,r._(Z2||(Z2=ue(["[",", ","]"])),d,v)).else(),s.if(h,function(){s.assign(c,!0),s.assign(d,v),m&&o.mergeEvaluated(m,r.Name)})})}),o.result(c,function(){return o.reset()},function(){return o.error(!0)})}}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),i=t("../../compile/codegen"),o=t("../../compile/util"),s=t("../../compile/util");n.default={keyword:"patternProperties",type:"object",schemaType:"object",code:function(a){var u=a.gen,l=a.schema,f=a.data,c=a.parentSchema,d=a.it,h=d.opts,p=(0,r.allSchemaProperties)(l),v=p.filter(function(w){return(0,o.alwaysValidSchema)(d,l[w])});if(p.length!==0&&(v.length!==p.length||d.opts.unevaluated&&d.props!==!0)){var m=h.strictSchema&&!h.allowMatchingProperties&&c.properties,g=u.name("valid");d.props===!0||d.props instanceof i.Name||(d.props=(0,s.evaluatedPropsToName)(u,d.props));var y=d.props;(function(){var w,C=ce(p);try{for(C.s();!(w=C.n()).done;){var _=w.value;m&&b(_),d.allErrors?k(_):(u.var(g,!0),k(_),u.if(g))}}catch(T){C.e(T)}finally{C.f()}})()}function b(w){for(var C in m)new RegExp(w).test(C)&&(0,o.checkStrictMode)(d,"property ".concat(C," matches pattern ").concat(w," (use allowMatchingProperties)"))}function k(w){u.forIn("key",f,function(C){u.if(i._(ej||(ej=ue(["",".test(",")"])),(0,r.usePattern)(a,w),C),function(){var _=v.includes(w);_||a.subschema({keyword:"patternProperties",schemaProp:w,dataProp:C,dataPropType:s.Type.Str},g),d.opts.unevaluated&&y!==!0?u.assign(i._(tj||(tj=ue(["","[","]"])),y,C),!0):_||d.allErrors||u.if((0,i.not)(g),function(){return u.break()})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./items");n.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(i){return(0,r.validateTuple)(i,"items")}}},{"./items":33}],39:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/validate"),i=t("../code"),o=t("../../compile/util"),s=t("./additionalProperties");n.default={keyword:"properties",type:"object",schemaType:"object",code:function(a){var u=a.gen,l=a.schema,f=a.parentSchema,c=a.data,d=a.it;d.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&s.default.code(new r.KeywordCxt(d,s.default,"additionalProperties"));var h,p=(0,i.allSchemaProperties)(l),v=ce(p);try{for(v.s();!(h=v.n()).done;){var m=h.value;d.definedProperties.add(m)}}catch(T){v.e(T)}finally{v.f()}d.opts.unevaluated&&p.length&&d.props!==!0&&(d.props=o.mergeEvaluated.props(u,(0,o.toHash)(p),d.props));var g=p.filter(function(T){return!(0,o.alwaysValidSchema)(d,l[T])});if(g.length!==0){var y,b=u.name("valid"),k=ce(g);try{for(k.s();!(y=k.n()).done;){var w=y.value;C(w)?_(w):(u.if((0,i.propertyInData)(u,c,w,d.opts.ownProperties)),_(w),d.allErrors||u.else().var(b,!0),u.endIf()),a.it.definedProperties.add(w),a.ok(b)}}catch(T){k.e(T)}finally{k.f()}}function C(T){return d.opts.useDefaults&&!d.compositeRule&&l[T].default!==void 0}function _(T){a.subschema({keyword:"properties",schemaProp:T,dataProp:T},b)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util");n.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(o){var s=o.params;return r._(nj||(nj=ue(["{propertyName: ","}"])),s.propertyName)}},code:function(o){var s=o.gen,a=o.schema,u=o.data,l=o.it;if(!(0,i.alwaysValidSchema)(l,a)){var f=s.name("valid");s.forIn("key",u,function(c){o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,r.not)(f),function(){o.error(!0),l.allErrors||s.break()})}),o.ok(f)}}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/util");n.default={keyword:["then","else"],schemaType:["object","boolean"],code:function(i){var o=i.keyword,s=i.parentSchema,a=i.it;s.if===void 0&&(0,r.checkStrictMode)(a,'"'.concat(o,'" without "if" is ignored'))}}},{"../../compile/util":10}],42:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateUnion=n.validateArray=n.usePattern=n.callValidateCode=n.schemaProperties=n.allSchemaProperties=n.noPropertyInData=n.propertyInData=n.isOwnProperty=n.hasPropFunc=n.reportMissingProp=n.checkMissingProp=n.checkReportMissingProp=void 0;var r=t("../compile/codegen"),i=t("../compile/util"),o=t("../compile/names"),s=t("../compile/util");function a(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._(rj||(rj=ue(["Object.prototype.hasOwnProperty"])))})}function u(d,h,p){return r._(ij||(ij=ue(["",".call(",", ",")"])),a(d),h,p)}function l(d,h,p,v){var m=r._(oj||(oj=ue(["",""," === undefined"])),h,(0,r.getProperty)(p));return v?(0,r.or)(m,(0,r.not)(u(d,h,p))):m}function f(d){return d?Object.keys(d).filter(function(h){return h!=="__proto__"}):[]}n.checkReportMissingProp=function(d,h){var p=d.gen,v=d.data,m=d.it;p.if(l(p,v,h,m.opts.ownProperties),function(){d.setParams({missingProperty:r._(sj||(sj=ue(["",""])),h)},!0),d.error()})},n.checkMissingProp=function(d,h,p){var v=d.gen,m=d.data,g=d.it.opts;return r.or.apply(void 0,nn(h.map(function(y){return(0,r.and)(l(v,m,y,g.ownProperties),r._(aj||(aj=ue([""," = ",""])),p,y))})))},n.reportMissingProp=function(d,h){d.setParams({missingProperty:h},!0),d.error()},n.hasPropFunc=a,n.isOwnProperty=u,n.propertyInData=function(d,h,p,v){var m=r._(uj||(uj=ue(["",""," !== undefined"])),h,(0,r.getProperty)(p));return v?r._(lj||(lj=ue([""," && ",""])),m,u(d,h,p)):m},n.noPropertyInData=l,n.allSchemaProperties=f,n.schemaProperties=function(d,h){return f(h).filter(function(p){return!(0,i.alwaysValidSchema)(d,h[p])})},n.callValidateCode=function(d,h,p,v){var m=d.schemaCode,g=d.data,y=d.it,b=y.gen,k=y.topSchemaRef,w=y.schemaPath,C=y.errorPath,_=d.it,T=v?r._(cj||(cj=ue(["",", ",", ","",""])),m,g,k,w):g,j=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,C)],[o.default.parentData,_.parentData],[o.default.parentDataProperty,_.parentDataProperty],[o.default.rootData,o.default.rootData]];_.opts.dynamicRef&&j.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);var O=r._(fj||(fj=ue(["",", ",""])),T,b.object.apply(b,j));return p!==r.nil?r._(dj||(dj=ue(["",".call(",", ",")"])),h,p,O):r._(hj||(hj=ue(["","(",")"])),h,O)};var c=r._(pj||(pj=ue(["new RegExp"])));n.usePattern=function(d,h){var p=d.gen,v=d.it.opts,m=v.unicodeRegExp?"u":"",g=v.code.regExp,y=g(h,m);return p.scopeValue("pattern",{key:y.toString(),ref:y,code:r._(vj||(vj=ue(["","(",", ",")"])),g.code==="new RegExp"?c:(0,s.useFunc)(p,g),h,m)})},n.validateArray=function(d){var h=d.gen,p=d.data,v=d.keyword,m=d.it,g=h.name("valid");if(m.allErrors){var y=h.let("valid",!0);return b(function(){return h.assign(y,!1)}),y}return h.var(g,!0),b(function(){return h.break()}),g;function b(k){var w=h.const("len",r._(mj||(mj=ue(["",".length"])),p));h.forRange("i",0,w,function(C){d.subschema({keyword:v,dataProp:C,dataPropType:i.Type.Num},g),h.if((0,r.not)(g),k)})}},n.validateUnion=function(d){var h=d.gen,p=d.schema,v=d.keyword,m=d.it;if(!Array.isArray(p))throw new Error("ajv implementation error");if(!p.some(function(b){return(0,i.alwaysValidSchema)(m,b)})||m.opts.unevaluated){var g=h.let("valid",!1),y=h.name("_valid");h.block(function(){return p.forEach(function(b,k){var w=d.subschema({keyword:v,schemaProp:k,compositeRule:!0},y);h.assign(g,r._(gj||(gj=ue([""," || ",""])),g,y)),d.mergeValidEvaluated(w,y)||h.if((0,r.not)(g))})}),d.result(g,function(){return d.reset()},function(){return d.error(!0)})}}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./id"),i=t("./ref");n.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default]},{"./id":43,"./ref":45}],45:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.callRef=n.getValidate=void 0;var r=t("../../compile/ref_error"),i=t("../code"),o=t("../../compile/codegen"),s=t("../../compile/names"),a=t("../../compile"),u=t("../../compile/util"),l={keyword:"$ref",schemaType:"string",code:function(d){var h=d.gen,p=d.schema,v=d.it,m=v.baseId,g=v.schemaEnv,y=v.validateName,b=v.opts,k=v.self,w=g.root;if((p==="#"||p==="#/")&&m===w.baseId)return function(){if(g===w)return c(d,y,g,g.$async);var _=h.scopeValue("root",{ref:w});return c(d,o._(yj||(yj=ue(["",".validate"])),_),w,w.$async)}();var C=a.resolveRef.call(k,w,m,p);if(C===void 0)throw new r.default(v.opts.uriResolver,m,p);return C instanceof a.SchemaEnv?function(_){var T=f(d,_);c(d,T,_,_.$async)}(C):function(_){var T=h.scopeValue("schema",b.code.source===!0?{ref:_,code:(0,o.stringify)(_)}:{ref:_}),j=h.name("valid"),O=d.subschema({schema:_,dataTypes:[],schemaPath:o.nil,topSchemaRef:T,errSchemaPath:p},j);d.mergeEvaluated(O),d.ok(j)}(C)}};function f(d,h){var p=d.gen;return h.validate?p.scopeValue("validate",{ref:h.validate}):o._(bj||(bj=ue(["",".validate"])),p.scopeValue("wrapper",{ref:h}))}function c(d,h,p,v){var m=d.gen,g=d.it,y=g.allErrors,b=g.schemaEnv,k=g.opts.passContext?s.default.this:o.nil;function w(_){var T=o._(kj||(kj=ue(["",".errors"])),_);m.assign(s.default.vErrors,o._(wj||(wj=ue([""," === null ? "," : ",".concat(",")"])),s.default.vErrors,T,s.default.vErrors,T)),m.assign(s.default.errors,o._(xj||(xj=ue(["",".length"])),s.default.vErrors))}function C(_){var T;if(g.opts.unevaluated){var j=(T=p==null?void 0:p.validate)===null||T===void 0?void 0:T.evaluated;if(g.props!==!0)if(j&&!j.dynamicProps)j.props!==void 0&&(g.props=u.mergeEvaluated.props(m,j.props,g.props));else{var O=m.var("props",o._(jj||(jj=ue(["",".evaluated.props"])),_));g.props=u.mergeEvaluated.props(m,O,g.props,o.Name)}if(g.items!==!0)if(j&&!j.dynamicItems)j.items!==void 0&&(g.items=u.mergeEvaluated.items(m,j.items,g.items));else{var S=m.var("items",o._(_j||(_j=ue(["",".evaluated.items"])),_));g.items=u.mergeEvaluated.items(m,S,g.items,o.Name)}}}v?function(){if(!b.$async)throw new Error("async schema referenced by sync schema");var _=m.let("valid");m.try(function(){m.code(o._(Sj||(Sj=ue(["await ",""])),(0,i.callValidateCode)(d,h,k))),C(h),y||m.assign(_,!0)},function(T){m.if(o._(Cj||(Cj=ue(["!("," instanceof ",")"])),T,g.ValidationError),function(){return m.throw(T)}),w(T),y||m.assign(_,!1)}),d.ok(_)}():d.result((0,i.callValidateCode)(d,h,k),function(){return C(h)},function(){return w(h)})}n.getValidate=f,n.callRef=c,n.default=l},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../discriminator/types"),o=t("../../compile"),s=t("../../compile/util");n.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(a){var u=a.params,l=u.discrError,f=u.tagName;return l===i.DiscrError.Tag?'tag "'.concat(f,'" must be string'):'value of tag "'.concat(f,'" must be in oneOf')},params:function(a){var u=a.params,l=u.discrError,f=u.tag,c=u.tagName;return r._($j||($j=ue(["{error: ",", tag: ",", tagValue: ","}"])),l,c,f)}},code:function(a){var u=a.gen,l=a.data,f=a.schema,c=a.parentSchema,d=a.it,h=c.oneOf;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");var p=f.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");var v=u.let("valid",!1),m=u.const("tag",r._(Aj||(Aj=ue(["","",""])),l,(0,r.getProperty)(p)));function g(y){var b=u.name("valid"),k=a.subschema({keyword:"oneOf",schemaProp:y},b);return a.mergeEvaluated(k,r.Name),b}u.if(r._(Oj||(Oj=ue(["typeof ",' == "string"'])),m),function(){return function(){var y=function(){for(var k,w={},C=S(c),_=!0,T=0;T<h.length;T++){var j=h[T];(j==null?void 0:j.$ref)&&!(0,s.schemaHasRulesButRef)(j,d.self.RULES)&&(j=o.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,j==null?void 0:j.$ref))instanceof o.SchemaEnv&&(j=j.schema);var O=(k=j==null?void 0:j.properties)===null||k===void 0?void 0:k[p];if(lt(O)!="object")throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(p,'"'));_=_&&(C||S(j)),N(O,T)}if(!_)throw new Error('discriminator: "'.concat(p,'" must be required'));return w;function S($){var q=$.required;return Array.isArray(q)&&q.includes(p)}function N($,q){if($.const)A($.const,q);else{if(!$.enum)throw new Error('discriminator: "properties/'.concat(p,'" must have "const" or "enum"'));var Y,z=ce($.enum);try{for(z.s();!(Y=z.n()).done;)A(Y.value,q)}catch(J){z.e(J)}finally{z.f()}}}function A($,q){if(typeof $!="string"||$ in w)throw new Error('discriminator: "'.concat(p,'" values must be unique strings'));w[$]=q}}();for(var b in u.if(!1),y)u.elseIf(r._(Ej||(Ej=ue([""," === ",""])),m,b)),u.assign(v,g(y[b]));u.else(),a.error(!1,{discrError:i.DiscrError.Mapping,tag:m,tagName:p}),u.endIf()}()},function(){return a.error(!1,{discrError:i.DiscrError.Tag,tag:m,tagName:p})}),a.ok(v)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscrError=void 0,function(r){r.Tag="tag",r.Mapping="mapping"}(n.DiscrError||(n.DiscrError={}))},{}],48:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./core"),i=t("./validation"),o=t("./applicator"),s=t("./format"),a=t("./metadata"),u=[r.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];n.default=u},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(i){var o=i.schemaCode;return r.str(Tj||(Tj=ue(['must match format "','"'])),o)},params:function(i){var o=i.schemaCode;return r._(Pj||(Pj=ue(["{format: ","}"])),o)}},code:function(i,o){var s=i.gen,a=i.data,u=i.$data,l=i.schema,f=i.schemaCode,c=i.it,d=c.opts,h=c.errSchemaPath,p=c.schemaEnv,v=c.self;d.validateFormats&&(u?function(){var m=s.scopeValue("formats",{ref:v.formats,code:d.code.formats}),g=s.const("fDef",r._(Mj||(Mj=ue(["","[","]"])),m,f)),y=s.let("fType"),b=s.let("format");s.if(r._(Ij||(Ij=ue(["typeof ",' == "object" && !('," instanceof RegExp)"])),g,g),function(){return s.assign(y,r._(Nj||(Nj=ue(["",'.type || "string"'])),g)).assign(b,r._(Lj||(Lj=ue(["",".validate"])),g))},function(){return s.assign(y,r._(Dj||(Dj=ue(['"string"'])))).assign(b,g)}),i.fail$data((0,r.or)(d.strictSchema===!1?r.nil:r._(Rj||(Rj=ue([""," && !",""])),f,b),function(){var k=p.$async?r._(Bj||(Bj=ue(["(",".async ? await ","(",") : ","(","))"])),g,b,a,b,a):r._(zj||(zj=ue(["","(",")"])),b,a),w=r._(Fj||(Fj=ue(["(typeof ",' == "function" ? '," : ",".test(","))"])),b,k,b,a);return r._(qj||(qj=ue([""," && "," !== true && "," === "," && !",""])),b,b,y,o,w)}()))}():function(){var m=v.formats[l];if(m){if(m!==!0){var g=Et(function(w){var C=w instanceof RegExp?(0,r.regexpCode)(w):d.code.formats?r._(Vj||(Vj=ue(["","",""])),d.code.formats,(0,r.getProperty)(l)):void 0,_=s.scopeValue("formats",{key:l,ref:w,code:C});return lt(w)!="object"||w instanceof RegExp?["string",w,_]:[w.type||"string",w.validate,r._(Hj||(Hj=ue(["",".validate"])),_)]}(m),3),y=g[0],b=g[1],k=g[2];y===o&&i.pass(function(){if(lt(m)=="object"&&!(m instanceof RegExp)&&m.async){if(!p.$async)throw new Error("async format in sync schema");return r._(Wj||(Wj=ue(["await ","(",")"])),k,a)}return typeof b=="function"?r._(Uj||(Uj=ue(["","(",")"])),k,a):r._(Jj||(Jj=ue(["",".test(",")"])),k,a)}())}}else(function(){if(d.strictSchema!==!1)throw new Error(w());function w(){return'unknown format "'.concat(l,'" ignored in schema at path "').concat(h,'"')}v.logger.warn(w())})()}())}}},{"../../compile/codegen":2}],50:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./format");n.default=[r.default]},{"./format":49}],51:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.contentVocabulary=n.metadataVocabulary=void 0,n.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],n.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../../runtime/equal");n.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(s){var a=s.schemaCode;return r._(Kj||(Kj=ue(["{allowedValue: ","}"])),a)}},code:function(s){var a=s.gen,u=s.data,l=s.$data,f=s.schemaCode,c=s.schema;l||c&&lt(c)=="object"?s.fail$data(r._(Gj||(Gj=ue(["!","(",", ",")"])),(0,i.useFunc)(a,o.default),u,f)):s.fail(r._(Qj||(Qj=ue([""," !== ",""])),c,u))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../../runtime/equal");n.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(s){var a=s.schemaCode;return r._(Yj||(Yj=ue(["{allowedValues: ","}"])),a)}},code:function(s){var a,u=s.gen,l=s.data,f=s.$data,c=s.schema,d=s.schemaCode,h=s.it;if(!f&&c.length===0)throw new Error("enum must have non-empty array");var p,v=function(){return a!=null?a:a=(0,i.useFunc)(u,o.default)};if(c.length>=h.opts.loopEnum||f)p=u.let("valid"),s.block$data(p,function(){u.assign(p,!1),u.forOf("v",d,function(g){return u.if(r._(Xj||(Xj=ue(["","(",", ",")"])),v(),l,g),function(){return u.assign(p,!0).break()})})});else{if(!Array.isArray(c))throw new Error("ajv implementation error");var m=u.const("vSchema",d);p=r.or.apply(void 0,nn(c.map(function(g,y){return function(b,k){var w=c[k];return lt(w)=="object"&&w!==null?r._(Zj||(Zj=ue(["","(",", ","[","])"])),v(),l,b,k):r._(e_||(e_=ue([""," === ",""])),l,w)}(m,y)})))}s.pass(p)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./limitNumber"),i=t("./multipleOf"),o=t("./limitLength"),s=t("./pattern"),a=t("./limitProperties"),u=t("./required"),l=t("./limitItems"),f=t("./uniqueItems"),c=t("./const"),d=t("./enum");n.default=[r.default,i.default,o.default,s.default,a.default,u.default,l.default,f.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,d.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(i){var o=i.keyword,s=i.schemaCode;return r.str(t_||(t_=ue(["must NOT have "," than "," items"])),o==="maxItems"?"more":"fewer",s)},params:function(i){var o=i.schemaCode;return r._(n_||(n_=ue(["{limit: ","}"])),o)}},code:function(i){var o=i.keyword,s=i.data,a=i.schemaCode;i.fail$data(r._(r_||(r_=ue(["",".length "," ",""])),s,o==="maxItems"?r.operators.GT:r.operators.LT,a))}}},{"../../compile/codegen":2}],56:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=t("../../compile/util"),o=t("../../runtime/ucs2length");n.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(s){var a=s.keyword,u=s.schemaCode;return r.str(i_||(i_=ue(["must NOT have "," than "," characters"])),a==="maxLength"?"more":"fewer",u)},params:function(s){var a=s.schemaCode;return r._(o_||(o_=ue(["{limit: ","}"])),a)}},code:function(s){var a=s.keyword,u=s.data,l=s.schemaCode,f=s.it,c=a==="maxLength"?r.operators.GT:r.operators.LT,d=f.opts.unicode===!1?r._(s_||(s_=ue(["",".length"])),u):r._(a_||(a_=ue(["","(",")"])),(0,i.useFunc)(s.gen,o.default),u);s.fail$data(r._(u_||(u_=ue([""," "," ",""])),d,c,l))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen"),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:function(u){var l=u.keyword,f=u.schemaCode;return r.str(l_||(l_=ue(["must be "," ",""])),o[l].okStr,f)},params:function(u){var l=u.keyword,f=u.schemaCode;return r._(c_||(c_=ue(["{comparison: ",", limit: ","}"])),o[l].okStr,f)}},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code:function(u){var l=u.keyword,f=u.data,c=u.schemaCode;u.fail$data(r._(f_||(f_=ue([""," "," "," || isNaN(",")"])),f,o[l].fail,c,f))}};n.default=a},{"../../compile/codegen":2}],58:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(i){var o=i.keyword,s=i.schemaCode;return r.str(d_||(d_=ue(["must NOT have "," than "," properties"])),o==="maxProperties"?"more":"fewer",s)},params:function(i){var o=i.schemaCode;return r._(h_||(h_=ue(["{limit: ","}"])),o)}},code:function(i){var o=i.keyword,s=i.data,a=i.schemaCode;i.fail$data(r._(p_||(p_=ue(["Object.keys(",").length "," ",""])),s,o==="maxProperties"?r.operators.GT:r.operators.LT,a))}}},{"../../compile/codegen":2}],59:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/codegen");n.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(i){var o=i.schemaCode;return r.str(v_||(v_=ue(["must be multiple of ",""])),o)},params:function(i){var o=i.schemaCode;return r._(m_||(m_=ue(["{multipleOf: ","}"])),o)}},code:function(i){var o=i.gen,s=i.data,a=i.schemaCode,u=i.it.opts.multipleOfPrecision,l=o.let("res"),f=u?r._(g_||(g_=ue(["Math.abs(Math.round(",") - ",") > 1e-",""])),l,l,u):r._(y_||(y_=ue([""," !== parseInt(",")"])),l,l);i.fail$data(r._(b_||(b_=ue(["("," === 0 || ("," = ","/",", ","))"])),a,l,s,a,f))}}},{"../../compile/codegen":2}],60:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),i=t("../../compile/codegen");n.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(o){var s=o.schemaCode;return i.str(k_||(k_=ue(['must match pattern "','"'])),s)},params:function(o){var s=o.schemaCode;return i._(w_||(w_=ue(["{pattern: ","}"])),s)}},code:function(o){var s=o.data,a=o.$data,u=o.schema,l=o.schemaCode,f=o.it,c=a?i._(x_||(x_=ue(["(new RegExp(",", ","))"])),l,f.opts.unicodeRegExp?"u":""):(0,r.usePattern)(o,u);o.fail$data(i._(j_||(j_=ue(["!",".test(",")"])),c,s))}}},{"../../compile/codegen":2,"../code":42}],61:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../code"),i=t("../../compile/codegen"),o=t("../../compile/util");n.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(s){var a=s.params.missingProperty;return i.str(__||(__=ue(["must have required property '","'"])),a)},params:function(s){var a=s.params.missingProperty;return i._(S_||(S_=ue(["{missingProperty: ","}"])),a)}},code:function(s){var a=s.gen,u=s.schema,l=s.schemaCode,f=s.data,c=s.$data,d=s.it,h=d.opts;if(c||u.length!==0){var p=u.length>=h.loopRequired;if(d.allErrors?function(){if(p||c)s.block$data(i.nil,k);else{var w,C=ce(u);try{for(C.s();!(w=C.n()).done;){var _=w.value;(0,r.checkReportMissingProp)(s,_)}}catch(T){C.e(T)}finally{C.f()}}}():function(){var w=a.let("missing");if(p||c){var C=a.let("valid",!0);s.block$data(C,function(){return function(_,T){s.setParams({missingProperty:_}),a.forOf(_,l,function(){a.assign(T,(0,r.propertyInData)(a,f,_,h.ownProperties)),a.if((0,i.not)(T),function(){s.error(),a.break()})},i.nil)}(w,C)}),s.ok(C)}else a.if((0,r.checkMissingProp)(s,u,w)),(0,r.reportMissingProp)(s,w),a.else()}(),h.strictRequired){var v,m=s.parentSchema.properties,g=s.it.definedProperties,y=ce(u);try{for(y.s();!(v=y.n()).done;){var b=v.value;(m==null?void 0:m[b])!==void 0||g.has(b)||(0,o.checkStrictMode)(d,'required property "'.concat(b,'" is not defined at "').concat(d.schemaEnv.baseId+d.errSchemaPath,'" (strictRequired)'),d.opts.strictRequired)}}catch(w){y.e(w)}finally{y.f()}}}function k(){a.forOf("prop",l,function(w){s.setParams({missingProperty:w}),a.if((0,r.noPropertyInData)(a,f,w,h.ownProperties),function(){return s.error()})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../compile/validate/dataType"),i=t("../../compile/codegen"),o=t("../../compile/util"),s=t("../../runtime/equal");n.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(a){var u=a.params,l=u.i,f=u.j;return i.str(C_||(C_=ue(["must NOT have duplicate items (items ## "," and "," are identical)"])),f,l)},params:function(a){var u=a.params,l=u.i,f=u.j;return i._($_||($_=ue(["{i: ",", j: ","}"])),l,f)}},code:function(a){var u=a.gen,l=a.data,f=a.$data,c=a.schema,d=a.parentSchema,h=a.schemaCode,p=a.it;if(f||c){var v=u.let("valid"),m=d.items?(0,r.getSchemaTypes)(d.items):[];a.block$data(v,function(){var b=u.let("i",i._(z_||(z_=ue(["",".length"])),l)),k=u.let("j");a.setParams({i:b,j:k}),u.assign(v,!0),u.if(i._(F_||(F_=ue([""," > 1"])),b),function(){return(m.length>0&&!m.some(function(w){return w==="object"||w==="array"})?g:y)(b,k)})},i._(q_||(q_=ue([""," === false"])),h)),a.ok(v)}function g(b,k){var w=u.name("item"),C=(0,r.checkDataTypes)(m,w,p.opts.strictNumbers,r.DataType.Wrong),_=u.const("indices",i._(A_||(A_=ue(["{}"]))));u.for(i._(O_||(O_=ue([";","--;"])),b),function(){u.let(w,i._(E_||(E_=ue(["","[","]"])),l,b)),u.if(C,i._(T_||(T_=ue(["continue"])))),m.length>1&&u.if(i._(P_||(P_=ue(["typeof ",' == "string"'])),w),i._(M_||(M_=ue(["",' += "_"'])),w)),u.if(i._(I_||(I_=ue(["typeof ","[",'] == "number"'])),_,w),function(){u.assign(k,i._(N_||(N_=ue(["","[","]"])),_,w)),a.error(),u.assign(v,!1).break()}).code(i._(L_||(L_=ue(["","[","] = ",""])),_,w,b))})}function y(b,k){var w=(0,o.useFunc)(u,s.default),C=u.name("outer");u.label(C).for(i._(D_||(D_=ue([";","--;"])),b),function(){return u.for(i._(R_||(R_=ue([""," = ","; ","--;"])),k,b,k),function(){return u.if(i._(B_||(B_=ue(["","(","[","], ","[","])"])),w,l,b,l,k),function(){a.error(),u.assign(v,!1).break(C)})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(t,e,n){e.exports=function r(i,o){if(i===o)return!0;if(i&&o&&lt(i)=="object"&&lt(o)=="object"){if(i.constructor!==o.constructor)return!1;var s,a,u;if(Array.isArray(i)){if((s=i.length)!=o.length)return!1;for(a=s;a--!=0;)if(!r(i[a],o[a]))return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===o.toString();if((s=(u=Object.keys(i)).length)!==Object.keys(o).length)return!1;for(a=s;a--!=0;)if(!Object.prototype.hasOwnProperty.call(o,u[a]))return!1;for(a=s;a--!=0;){var l=u[a];if(!r(i[l],o[l]))return!1}return!0}return i!=i&&o!=o}},{}],64:[function(t,e,n){var r=e.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),i(s,typeof(a=s.cb||a)=="function"?a:a.pre||function(){},a.post||function(){},o,"",o)};function i(o,s,a,u,l,f,c,d,h,p){if(u&&lt(u)=="object"&&!Array.isArray(u)){for(var v in s(u,l,f,c,d,h,p),u){var m=u[v];if(Array.isArray(m)){if(v in r.arrayKeywords)for(var g=0;g<m.length;g++)i(o,s,a,m[g],l+"/"+v+"/"+g,f,l,v,u,g)}else if(v in r.propsKeywords){if(m&&lt(m)=="object")for(var y in m)i(o,s,a,m[y],l+"/"+v+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),f,l,v,u,y)}else(v in r.keywords||o.allKeys&&!(v in r.skipKeywords))&&i(o,s,a,m,l+"/"+v,f,l,v,u)}a(u,l,f,c,d,h,p)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(t,e,n){/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(r,i){i(lt(n)=="object"&&e!==void 0?n:r.URI=r.URI||{})})(this,function(r){function i(){for(var ie=arguments.length,de=Array(ie),ge=0;ge<ie;ge++)de[ge]=arguments[ge];if(de.length>1){de[0]=de[0].slice(0,-1);for(var be=de.length-1,Te=1;Te<be;++Te)de[Te]=de[Te].slice(1,-1);return de[be]=de[be].slice(1),de.join("")}return de[0]}function o(ie){return"(?:"+ie+")"}function s(ie){return ie===void 0?"undefined":ie===null?"null":Object.prototype.toString.call(ie).split(" ").pop().split("]").shift().toLowerCase()}function a(ie){return ie.toUpperCase()}function u(ie){var de="[A-Za-z]",ge="[0-9]",be=i(ge,"[A-Fa-f]"),Te=o(o("%[EFef]"+be+"%"+be+be+"%"+be+be)+"|"+o("%[89A-Fa-f]"+be+"%"+be+be)+"|"+o("%"+be+be)),Je="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ct=i("[\\:\\/\\?\\#\\[\\]\\@]",Je),kt=ie?"[\\uE000-\\uF8FF]":"[]",$e=i(de,ge,"[\\-\\.\\_\\~]",ie?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");o(de+i(de,ge,"[\\+\\-\\.]")+"*"),o(o(Te+"|"+i($e,Je,"[\\:]"))+"*");var tt=o(o("25[0-5]")+"|"+o("2[0-4][0-9]")+"|"+o("1[0-9][0-9]")+"|"+o("0?[1-9][0-9]")+"|0?0?"+ge),mt=o(tt+"\\."+tt+"\\."+tt+"\\."+tt),at=o(be+"{1,4}"),gt=o(o(at+"\\:"+at)+"|"+mt),Pt=o(o(at+"\\:")+"{6}"+gt),wt=o("\\:\\:"+o(at+"\\:")+"{5}"+gt),Mt=o(o(at)+"?\\:\\:"+o(at+"\\:")+"{4}"+gt),Ft=o(o(o(at+"\\:")+"{0,1}"+at)+"?\\:\\:"+o(at+"\\:")+"{3}"+gt),qt=o(o(o(at+"\\:")+"{0,2}"+at)+"?\\:\\:"+o(at+"\\:")+"{2}"+gt),We=o(o(o(at+"\\:")+"{0,3}"+at)+"?\\:\\:"+at+"\\:"+gt),hr=o(o(o(at+"\\:")+"{0,4}"+at)+"?\\:\\:"+gt),yn=o(o(o(at+"\\:")+"{0,5}"+at)+"?\\:\\:"+at),sn=o(o(o(at+"\\:")+"{0,6}"+at)+"?\\:\\:"),pn=o([Pt,wt,Mt,Ft,qt,We,hr,yn,sn].join("|")),_r=o(o($e+"|"+Te)+"+");o("[vV]"+be+"+\\."+i($e,Je,"[\\:]")+"+"),o(o(Te+"|"+i($e,Je))+"*");var Dr=o(Te+"|"+i($e,Je,"[\\:\\@]"));return o(o(Te+"|"+i($e,Je,"[\\@]"))+"+"),o(o(Dr+"|"+i("[\\/\\?]",kt))+"*"),{NOT_SCHEME:new RegExp(i("[^]",de,ge,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",$e,Je),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",$e,Je),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",$e,Je),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",$e,Je),"g"),NOT_QUERY:new RegExp(i("[^\\%]",$e,Je,"[\\:\\@\\/\\?]",kt),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",$e,Je,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",$e,Je),"g"),UNRESERVED:new RegExp($e,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",$e,ct),"g"),PCT_ENCODED:new RegExp(Te,"g"),IPV4ADDRESS:new RegExp("^("+mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+pn+")"+o(o("\\%25|\\%(?!"+be+"{2})")+"("+_r+")")+"?\\]?$")}}var l=u(!1),f=u(!0),c=function(ie,de){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return function(ge,be){var Te=[],Je=!0,ct=!1,kt=void 0;try{for(var $e,tt=ge[Symbol.iterator]();!(Je=($e=tt.next()).done)&&(Te.push($e.value),!be||Te.length!==be);Je=!0);}catch(mt){ct=!0,kt=mt}finally{try{!Je&&tt.return&&tt.return()}finally{if(ct)throw kt}}return Te}(ie,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=2147483647,h=36,p=/^xn--/,v=/[^\0-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function k(ie){throw new RangeError(g[ie])}function w(ie,de){var ge=ie.split("@"),be="";ge.length>1&&(be=ge[0]+"@",ie=ge[1]);var Te=function(Je,ct){for(var kt=[],$e=Je.length;$e--;)kt[$e]=ct(Je[$e]);return kt}((ie=ie.replace(m,".")).split("."),de).join(".");return be+Te}function C(ie){for(var de=[],ge=0,be=ie.length;ge<be;){var Te=ie.charCodeAt(ge++);if(Te>=55296&&Te<=56319&&ge<be){var Je=ie.charCodeAt(ge++);(64512&Je)==56320?de.push(((1023&Te)<<10)+(1023&Je)+65536):(de.push(Te),ge--)}else de.push(Te)}return de}var _=function(ie,de){return ie+22+75*(ie<26)-((de!=0)<<5)},T=function(ie,de,ge){var be=0;for(ie=ge?y(ie/700):ie>>1,ie+=y(ie/de);ie>455;be+=h)ie=y(ie/35);return y(be+36*ie/(ie+38))},j=function(ie){var de,ge=[],be=ie.length,Te=0,Je=128,ct=72,kt=ie.lastIndexOf("-");kt<0&&(kt=0);for(var $e=0;$e<kt;++$e)ie.charCodeAt($e)>=128&&k("not-basic"),ge.push(ie.charCodeAt($e));for(var tt=kt>0?kt+1:0;tt<be;){for(var mt=Te,at=1,gt=h;;gt+=h){tt>=be&&k("invalid-input");var Pt=(de=ie.charCodeAt(tt++))-48<10?de-22:de-65<26?de-65:de-97<26?de-97:h;(Pt>=h||Pt>y((d-Te)/at))&&k("overflow"),Te+=Pt*at;var wt=gt<=ct?1:gt>=ct+26?26:gt-ct;if(Pt<wt)break;var Mt=h-wt;at>y(d/Mt)&&k("overflow"),at*=Mt}var Ft=ge.length+1;ct=T(Te-mt,Ft,mt==0),y(Te/Ft)>d-Je&&k("overflow"),Je+=y(Te/Ft),Te%=Ft,ge.splice(Te++,0,Je)}return String.fromCodePoint.apply(String,ge)},O=function(ie){var de=[],ge=(ie=C(ie)).length,be=128,Te=0,Je=72,ct=!0,kt=!1,$e=void 0;try{for(var tt,mt=ie[Symbol.iterator]();!(ct=(tt=mt.next()).done);ct=!0){var at=tt.value;at<128&&de.push(b(at))}}catch(Ur){kt=!0,$e=Ur}finally{try{!ct&&mt.return&&mt.return()}finally{if(kt)throw $e}}var gt=de.length,Pt=gt;for(gt&&de.push("-");Pt<ge;){var wt=d,Mt=!0,Ft=!1,qt=void 0;try{for(var We,hr=ie[Symbol.iterator]();!(Mt=(We=hr.next()).done);Mt=!0){var yn=We.value;yn>=be&&yn<wt&&(wt=yn)}}catch(Ur){Ft=!0,qt=Ur}finally{try{!Mt&&hr.return&&hr.return()}finally{if(Ft)throw qt}}var sn=Pt+1;wt-be>y((d-Te)/sn)&&k("overflow"),Te+=(wt-be)*sn,be=wt;var pn=!0,_r=!1,Dr=void 0;try{for(var Pn,Ki=ie[Symbol.iterator]();!(pn=(Pn=Ki.next()).done);pn=!0){var Oi=Pn.value;if(Oi<be&&++Te>d&&k("overflow"),Oi==be){for(var Bn=Te,ht=h;;ht+=h){var Kt=ht<=Je?1:ht>=Je+26?26:ht-Je;if(Bn<Kt)break;var Gi=Bn-Kt,Ei=h-Kt;de.push(b(_(Kt+Gi%Ei,0))),Bn=y(Gi/Ei)}de.push(b(_(Bn,0))),Je=T(Te,sn,Pt==gt),Te=0,++Pt}}}catch(Ur){_r=!0,Dr=Ur}finally{try{!pn&&Ki.return&&Ki.return()}finally{if(_r)throw Dr}}++Te,++be}return de.join("")},S=function(ie){return w(ie,function(de){return v.test(de)?"xn--"+O(de):de})},N=function(ie){return w(ie,function(de){return p.test(de)?j(de.slice(4).toLowerCase()):de})},A={};function $(ie){var de=ie.charCodeAt(0);return de<16?"%0"+de.toString(16).toUpperCase():de<128?"%"+de.toString(16).toUpperCase():de<2048?"%"+(de>>6|192).toString(16).toUpperCase()+"%"+(63&de|128).toString(16).toUpperCase():"%"+(de>>12|224).toString(16).toUpperCase()+"%"+(de>>6&63|128).toString(16).toUpperCase()+"%"+(63&de|128).toString(16).toUpperCase()}function q(ie){for(var de="",ge=0,be=ie.length;ge<be;){var Te=parseInt(ie.substr(ge+1,2),16);if(Te<128)de+=String.fromCharCode(Te),ge+=3;else if(Te>=194&&Te<224){if(be-ge>=6){var Je=parseInt(ie.substr(ge+4,2),16);de+=String.fromCharCode((31&Te)<<6|63&Je)}else de+=ie.substr(ge,6);ge+=6}else if(Te>=224){if(be-ge>=9){var ct=parseInt(ie.substr(ge+4,2),16),kt=parseInt(ie.substr(ge+7,2),16);de+=String.fromCharCode((15&Te)<<12|(63&ct)<<6|63&kt)}else de+=ie.substr(ge,9);ge+=9}else de+=ie.substr(ge,3),ge+=3}return de}function Y(ie,de){function ge(be){var Te=q(be);return Te.match(de.UNRESERVED)?Te:be}return ie.scheme&&(ie.scheme=String(ie.scheme).replace(de.PCT_ENCODED,ge).toLowerCase().replace(de.NOT_SCHEME,"")),ie.userinfo!==void 0&&(ie.userinfo=String(ie.userinfo).replace(de.PCT_ENCODED,ge).replace(de.NOT_USERINFO,$).replace(de.PCT_ENCODED,a)),ie.host!==void 0&&(ie.host=String(ie.host).replace(de.PCT_ENCODED,ge).toLowerCase().replace(de.NOT_HOST,$).replace(de.PCT_ENCODED,a)),ie.path!==void 0&&(ie.path=String(ie.path).replace(de.PCT_ENCODED,ge).replace(ie.scheme?de.NOT_PATH:de.NOT_PATH_NOSCHEME,$).replace(de.PCT_ENCODED,a)),ie.query!==void 0&&(ie.query=String(ie.query).replace(de.PCT_ENCODED,ge).replace(de.NOT_QUERY,$).replace(de.PCT_ENCODED,a)),ie.fragment!==void 0&&(ie.fragment=String(ie.fragment).replace(de.PCT_ENCODED,ge).replace(de.NOT_FRAGMENT,$).replace(de.PCT_ENCODED,a)),ie}function z(ie){return ie.replace(/^0*(.*)/,"$1")||"0"}function J(ie,de){var ge=ie.match(de.IPV4ADDRESS)||[],be=c(ge,2)[1];return be?be.split(".").map(z).join("."):ie}function L(ie,de){var ge=ie.match(de.IPV6ADDRESS)||[],be=c(ge,3),Te=be[1],Je=be[2];if(Te){for(var ct=Te.toLowerCase().split("::").reverse(),kt=c(ct,2),$e=kt[0],tt=kt[1],mt=tt?tt.split(":").map(z):[],at=$e.split(":").map(z),gt=de.IPV4ADDRESS.test(at[at.length-1]),Pt=gt?7:8,wt=at.length-Pt,Mt=Array(Pt),Ft=0;Ft<Pt;++Ft)Mt[Ft]=mt[Ft]||at[wt+Ft]||"";gt&&(Mt[Pt-1]=J(Mt[Pt-1],de));var qt=Mt.reduce(function(sn,pn,_r){if(!pn||pn==="0"){var Dr=sn[sn.length-1];Dr&&Dr.index+Dr.length===_r?Dr.length++:sn.push({index:_r,length:1})}return sn},[]).sort(function(sn,pn){return pn.length-sn.length})[0],We=void 0;if(qt&&qt.length>1){var hr=Mt.slice(0,qt.index),yn=Mt.slice(qt.index+qt.length);We=hr.join(":")+"::"+yn.join(":")}else We=Mt.join(":");return Je&&(We+="%"+Je),We}return ie}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,U="".match(/(){0}/)[1]===void 0;function W(ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge={},be=de.iri!==!1?f:l;de.reference==="suffix"&&(ie=(de.scheme?de.scheme+":":"")+"//"+ie);var Te=ie.match(D);if(Te){U?(ge.scheme=Te[1],ge.userinfo=Te[3],ge.host=Te[4],ge.port=parseInt(Te[5],10),ge.path=Te[6]||"",ge.query=Te[7],ge.fragment=Te[8],isNaN(ge.port)&&(ge.port=Te[5])):(ge.scheme=Te[1]||void 0,ge.userinfo=ie.indexOf("@")!==-1?Te[3]:void 0,ge.host=ie.indexOf("//")!==-1?Te[4]:void 0,ge.port=parseInt(Te[5],10),ge.path=Te[6]||"",ge.query=ie.indexOf("?")!==-1?Te[7]:void 0,ge.fragment=ie.indexOf("#")!==-1?Te[8]:void 0,isNaN(ge.port)&&(ge.port=ie.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Te[4]:void 0)),ge.host&&(ge.host=L(J(ge.host,be),be)),ge.reference=ge.scheme!==void 0||ge.userinfo!==void 0||ge.host!==void 0||ge.port!==void 0||ge.path||ge.query!==void 0?ge.scheme===void 0?"relative":ge.fragment===void 0?"absolute":"uri":"same-document",de.reference&&de.reference!=="suffix"&&de.reference!==ge.reference&&(ge.error=ge.error||"URI is not a "+de.reference+" reference.");var Je=A[(de.scheme||ge.scheme||"").toLowerCase()];if(de.unicodeSupport||Je&&Je.unicodeSupport)Y(ge,be);else{if(ge.host&&(de.domainHost||Je&&Je.domainHost))try{ge.host=S(ge.host.replace(be.PCT_ENCODED,q).toLowerCase())}catch(ct){ge.error=ge.error||"Host's domain name can not be converted to ASCII via punycode: "+ct}Y(ge,l)}Je&&Je.parse&&Je.parse(ge,de)}else ge.error=ge.error||"URI can not be parsed.";return ge}function F(ie,de){var ge=de.iri!==!1?f:l,be=[];return ie.userinfo!==void 0&&(be.push(ie.userinfo),be.push("@")),ie.host!==void 0&&be.push(L(J(String(ie.host),ge),ge).replace(ge.IPV6ADDRESS,function(Te,Je,ct){return"["+Je+(ct?"%25"+ct:"")+"]"})),typeof ie.port!="number"&&typeof ie.port!="string"||(be.push(":"),be.push(String(ie.port))),be.length?be.join(""):void 0}var E=/^\.\.?\//,x=/^\/\.(\/|$)/,M=/^\/\.\.(\/|$)/,K=/^\/?(?:.|\n)*?(?=\/|$)/;function se(ie){for(var de=[];ie.length;)if(ie.match(E))ie=ie.replace(E,"");else if(ie.match(x))ie=ie.replace(x,"/");else if(ie.match(M))ie=ie.replace(M,"/"),de.pop();else if(ie==="."||ie==="..")ie="";else{var ge=ie.match(K);if(!ge)throw new Error("Unexpected dot segment condition");var be=ge[0];ie=ie.slice(be.length),de.push(be)}return de.join("")}function we(ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=de.iri?f:l,be=[],Te=A[(de.scheme||ie.scheme||"").toLowerCase()];if(Te&&Te.serialize&&Te.serialize(ie,de),ie.host&&!ge.IPV6ADDRESS.test(ie.host)){if(de.domainHost||Te&&Te.domainHost)try{ie.host=de.iri?N(ie.host):S(ie.host.replace(ge.PCT_ENCODED,q).toLowerCase())}catch(kt){ie.error=ie.error||"Host's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+kt}}Y(ie,ge),de.reference!=="suffix"&&ie.scheme&&(be.push(ie.scheme),be.push(":"));var Je=F(ie,de);if(Je!==void 0&&(de.reference!=="suffix"&&be.push("//"),be.push(Je),ie.path&&ie.path.charAt(0)!=="/"&&be.push("/")),ie.path!==void 0){var ct=ie.path;de.absolutePath||Te&&Te.absolutePath||(ct=se(ct)),Je===void 0&&(ct=ct.replace(/^\/\//,"/%2F")),be.push(ct)}return ie.query!==void 0&&(be.push("?"),be.push(ie.query)),ie.fragment!==void 0&&(be.push("#"),be.push(ie.fragment)),be.join("")}function je(ie,de){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be={};return arguments[3]||(ie=W(we(ie,ge),ge),de=W(we(de,ge),ge)),!(ge=ge||{}).tolerant&&de.scheme?(be.scheme=de.scheme,be.userinfo=de.userinfo,be.host=de.host,be.port=de.port,be.path=se(de.path||""),be.query=de.query):(de.userinfo!==void 0||de.host!==void 0||de.port!==void 0?(be.userinfo=de.userinfo,be.host=de.host,be.port=de.port,be.path=se(de.path||""),be.query=de.query):(de.path?(de.path.charAt(0)==="/"?be.path=se(de.path):(be.path=ie.userinfo===void 0&&ie.host===void 0&&ie.port===void 0||ie.path?ie.path?ie.path.slice(0,ie.path.lastIndexOf("/")+1)+de.path:de.path:"/"+de.path,be.path=se(be.path)),be.query=de.query):(be.path=ie.path,be.query=de.query!==void 0?de.query:ie.query),be.userinfo=ie.userinfo,be.host=ie.host,be.port=ie.port),be.scheme=ie.scheme),be.fragment=de.fragment,be}function R(ie,de){return ie&&ie.toString().replace(de&&de.iri?f.PCT_ENCODED:l.PCT_ENCODED,q)}var H={scheme:"http",domainHost:!0,parse:function(ie,de){return ie.host||(ie.error=ie.error||"HTTP URIs must have a host."),ie},serialize:function(ie,de){var ge=String(ie.scheme).toLowerCase()==="https";return ie.port!==(ge?443:80)&&ie.port!==""||(ie.port=void 0),ie.path||(ie.path="/"),ie}},I={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function B(ie){return typeof ie.secure=="boolean"?ie.secure:String(ie.scheme).toLowerCase()==="wss"}var Z={scheme:"ws",domainHost:!0,parse:function(ie,de){var ge=ie;return ge.secure=B(ge),ge.resourceName=(ge.path||"/")+(ge.query?"?"+ge.query:""),ge.path=void 0,ge.query=void 0,ge},serialize:function(ie,de){if(ie.port!==(B(ie)?443:80)&&ie.port!==""||(ie.port=void 0),typeof ie.secure=="boolean"&&(ie.scheme=ie.secure?"wss":"ws",ie.secure=void 0),ie.resourceName){var ge=ie.resourceName.split("?"),be=c(ge,2),Te=be[0],Je=be[1];ie.path=Te&&Te!=="/"?Te:void 0,ie.query=Je,ie.resourceName=void 0}return ie.fragment=void 0,ie}},le={scheme:"wss",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize},X={},V="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",_e="[0-9A-Fa-f]",Se=o(o("%[EFef][0-9A-Fa-f]%"+_e+_e+"%"+_e+_e)+"|"+o("%[89A-Fa-f][0-9A-Fa-f]%"+_e+_e)+"|"+o("%"+_e+_e)),xe=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),he=new RegExp(V,"g"),fe=new RegExp(Se,"g"),ke=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',xe),"g"),Oe=new RegExp(i("[^]",V,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),De=Oe;function Ve(ie){var de=q(ie);return de.match(he)?de:ie}var pe={scheme:"mailto",parse:function(ie,de){var ge=ie,be=ge.to=ge.path?ge.path.split(","):[];if(ge.path=void 0,ge.query){for(var Te=!1,Je={},ct=ge.query.split("&"),kt=0,$e=ct.length;kt<$e;++kt){var tt=ct[kt].split("=");switch(tt[0]){case"to":for(var mt=tt[1].split(","),at=0,gt=mt.length;at<gt;++at)be.push(mt[at]);break;case"subject":ge.subject=R(tt[1],de);break;case"body":ge.body=R(tt[1],de);break;default:Te=!0,Je[R(tt[0],de)]=R(tt[1],de)}}Te&&(ge.headers=Je)}ge.query=void 0;for(var Pt=0,wt=be.length;Pt<wt;++Pt){var Mt=be[Pt].split("@");if(Mt[0]=R(Mt[0]),de.unicodeSupport)Mt[1]=R(Mt[1],de).toLowerCase();else try{Mt[1]=S(R(Mt[1],de).toLowerCase())}catch(Ft){ge.error=ge.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ft}be[Pt]=Mt.join("@")}return ge},serialize:function(ie,de){var ge,be=ie,Te=(ge=ie.to)!=null?ge instanceof Array?ge:typeof ge.length!="number"||ge.split||ge.setInterval||ge.call?[ge]:Array.prototype.slice.call(ge):[];if(Te){for(var Je=0,ct=Te.length;Je<ct;++Je){var kt=String(Te[Je]),$e=kt.lastIndexOf("@"),tt=kt.slice(0,$e).replace(fe,Ve).replace(fe,a).replace(ke,$),mt=kt.slice($e+1);try{mt=de.iri?N(mt):S(R(mt,de).toLowerCase())}catch(wt){be.error=be.error||"Email address's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+wt}Te[Je]=tt+"@"+mt}be.path=Te.join(",")}var at=ie.headers=ie.headers||{};ie.subject&&(at.subject=ie.subject),ie.body&&(at.body=ie.body);var gt=[];for(var Pt in at)at[Pt]!==X[Pt]&&gt.push(Pt.replace(fe,Ve).replace(fe,a).replace(Oe,$)+"="+at[Pt].replace(fe,Ve).replace(fe,a).replace(De,$));return gt.length&&(be.query=gt.join("&")),be}},He=/^([^\:]+)\:(.*)/,st={scheme:"urn",parse:function(ie,de){var ge=ie.path&&ie.path.match(He),be=ie;if(ge){var Te=de.scheme||be.scheme||"urn",Je=ge[1].toLowerCase(),ct=ge[2],kt=A[Te+":"+(de.nid||Je)];be.nid=Je,be.nss=ct,be.path=void 0,kt&&(be=kt.parse(be,de))}else be.error=be.error||"URN can not be parsed.";return be},serialize:function(ie,de){var ge=ie.nid,be=A[(de.scheme||ie.scheme||"urn")+":"+(de.nid||ge)];be&&(ie=be.serialize(ie,de));var Te=ie;return Te.path=(ge||de.nid)+":"+ie.nss,Te}},Rt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,hn={scheme:"urn:uuid",parse:function(ie,de){var ge=ie;return ge.uuid=ge.nss,ge.nss=void 0,de.tolerant||ge.uuid&&ge.uuid.match(Rt)||(ge.error=ge.error||"UUID is not valid."),ge},serialize:function(ie,de){var ge=ie;return ge.nss=(ie.uuid||"").toLowerCase(),ge}};A[H.scheme]=H,A[I.scheme]=I,A[Z.scheme]=Z,A[le.scheme]=le,A[pe.scheme]=pe,A[st.scheme]=st,A[hn.scheme]=hn,r.SCHEMES=A,r.pctEncChar=$,r.pctDecChars=q,r.parse=W,r.removeDotSegments=se,r.serialize=we,r.resolveComponents=je,r.resolve=function(ie,de,ge){var be=function(Te,Je){var ct={scheme:"null"};if(Je)for(var kt in Je)ct[kt]=Je[kt];return ct}(0,ge);return we(je(W(ie,be),W(de,be),be,!0),be)},r.normalize=function(ie,de){return typeof ie=="string"?ie=we(W(ie,de),de):s(ie)==="object"&&(ie=W(we(ie,de),de)),ie},r.equal=function(ie,de,ge){return typeof ie=="string"?ie=we(W(ie,ge),ge):s(ie)==="object"&&(ie=we(ie,ge)),typeof de=="string"?de=we(W(de,ge),ge):s(de)==="object"&&(de=we(de,ge)),ie===de},r.escapeComponent=function(ie,de){return ie&&ie.toString().replace(de&&de.iri?f.ESCAPE:l.ESCAPE,$)},r.unescapeComponent=R,Object.defineProperty(r,"__esModule",{value:!0})})},{}],ajv:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=t("./core"),i=t("./vocabularies/draft7"),o=t("./vocabularies/discriminator"),s=t("./refs/json-schema-draft-07.json"),a=["/properties"],u="http://json-schema.org/draft-07/schema",l=function(d){Be(p,d);var h=ze(p);function p(){return te(this,p),h.apply(this,arguments)}return ne(p,[{key:"_addVocabularies",value:function(){var v=this;mn(un(p.prototype),"_addVocabularies",this).call(this),i.default.forEach(function(m){return v.addVocabulary(m)}),this.opts.discriminator&&this.addKeyword(o.default)}},{key:"_addDefaultMetaSchema",value:function(){if(mn(un(p.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var v=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(v,u,!1),this.refs["http://json-schema.org/schema"]=u}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=mn(un(p.prototype),"defaultMeta",this).call(this)||(this.getSchema(u)?u:void 0)}}]),p}(r.default);e.exports=n=l,Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var f=t("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var c=t("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}})},{"./compile/codegen":2,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv"));var nee={};(function(t){function e(R){return R!==null&&Object.prototype.toString.call(R)==="[object Array]"}function n(R){return R!==null&&Object.prototype.toString.call(R)==="[object Object]"}function r(R,H){if(R===H)return!0;if(Object.prototype.toString.call(R)!==Object.prototype.toString.call(H))return!1;if(e(R)===!0){if(R.length!==H.length)return!1;for(var I=0;I<R.length;I++)if(r(R[I],H[I])===!1)return!1;return!0}if(n(R)===!0){var B={};for(var Z in R)if(hasOwnProperty.call(R,Z)){if(r(R[Z],H[Z])===!1)return!1;B[Z]=!0}for(var le in H)if(hasOwnProperty.call(H,le)&&B[le]!==!0)return!1;return!0}return!1}function i(R){if(R===""||R===!1||R===null||e(R)&&R.length===0)return!0;if(n(R)){for(var H in R)if(R.hasOwnProperty(H))return!1;return!0}return!1}var o;o=typeof String.prototype.trimLeft=="function"?function(R){return R.trimLeft()}:function(R){return R.match(/^\s*(.*)/)[1]};var s=0,a=2,u={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},l="EOF",f="UnquotedIdentifier",c="QuotedIdentifier",d="Rbracket",h="Rparen",p="Comma",v="Colon",m="Rbrace",g="Number",y="Current",b="Expref",k="Pipe",w="Or",C="And",_="EQ",T="GT",j="LT",O="GTE",S="LTE",N="NE",A="Flatten",$="Star",q="Filter",Y="Dot",z="Not",J="Lbrace",L="Lbracket",D="Lparen",U="Literal",W={".":Y,"*":$,",":p,":":v,"{":J,"}":m,"]":d,"(":D,")":h,"@":y},F={"<":!0,">":!0,"=":!0,"!":!0},E={" ":!0,"	":!0,"\n":!0};function x(R){return R>="0"&&R<="9"||R==="-"}function M(){}M.prototype={tokenize:function(R){var H,I,B,Z,le=[];for(this._current=0;this._current<R.length;)if((Z=R[this._current])>="a"&&Z<="z"||Z>="A"&&Z<="Z"||Z==="_")H=this._current,I=this._consumeUnquotedIdentifier(R),le.push({type:f,value:I,start:H});else if(W[R[this._current]]!==void 0)le.push({type:W[R[this._current]],value:R[this._current],start:this._current}),this._current++;else if(x(R[this._current]))B=this._consumeNumber(R),le.push(B);else if(R[this._current]==="[")B=this._consumeLBracket(R),le.push(B);else if(R[this._current]==='"')H=this._current,I=this._consumeQuotedIdentifier(R),le.push({type:c,value:I,start:H});else if(R[this._current]==="'")H=this._current,I=this._consumeRawStringLiteral(R),le.push({type:U,value:I,start:H});else if(R[this._current]==="`"){H=this._current;var X=this._consumeLiteral(R);le.push({type:U,value:X,start:H})}else if(F[R[this._current]]!==void 0)le.push(this._consumeOperator(R));else if(E[R[this._current]]!==void 0)this._current++;else if(R[this._current]==="&")H=this._current,this._current++,R[this._current]==="&"?(this._current++,le.push({type:C,value:"&&",start:H})):le.push({type:b,value:"&",start:H});else{if(R[this._current]!=="|"){var V=new Error("Unknown character:"+R[this._current]);throw V.name="LexerError",V}H=this._current,this._current++,R[this._current]==="|"?(this._current++,le.push({type:w,value:"||",start:H})):le.push({type:k,value:"|",start:H})}return le},_consumeUnquotedIdentifier:function(R){var H,I=this._current;for(this._current++;this._current<R.length&&((H=R[this._current])>="a"&&H<="z"||H>="A"&&H<="Z"||H>="0"&&H<="9"||H==="_");)this._current++;return R.slice(I,this._current)},_consumeQuotedIdentifier:function(R){var H=this._current;this._current++;for(var I=R.length;R[this._current]!=='"'&&this._current<I;){var B=this._current;R[B]!=="\\"||R[B+1]!=="\\"&&R[B+1]!=='"'?B++:B+=2,this._current=B}return this._current++,JSON.parse(R.slice(H,this._current))},_consumeRawStringLiteral:function(R){var H=this._current;this._current++;for(var I=R.length;R[this._current]!=="'"&&this._current<I;){var B=this._current;R[B]!=="\\"||R[B+1]!=="\\"&&R[B+1]!=="'"?B++:B+=2,this._current=B}return this._current++,R.slice(H+1,this._current-1).replace("\\'","'")},_consumeNumber:function(R){var H=this._current;this._current++;for(var I=R.length;x(R[this._current])&&this._current<I;)this._current++;var B=parseInt(R.slice(H,this._current));return{type:g,value:B,start:H}},_consumeLBracket:function(R){var H=this._current;return this._current++,R[this._current]==="?"?(this._current++,{type:q,value:"[?",start:H}):R[this._current]==="]"?(this._current++,{type:A,value:"[]",start:H}):{type:L,value:"[",start:H}},_consumeOperator:function(R){var H=this._current,I=R[H];return this._current++,I==="!"?R[this._current]==="="?(this._current++,{type:N,value:"!=",start:H}):{type:z,value:"!",start:H}:I==="<"?R[this._current]==="="?(this._current++,{type:S,value:"<=",start:H}):{type:j,value:"<",start:H}:I===">"?R[this._current]==="="?(this._current++,{type:O,value:">=",start:H}):{type:T,value:">",start:H}:I==="="&&R[this._current]==="="?(this._current++,{type:_,value:"==",start:H}):void 0},_consumeLiteral:function(R){this._current++;for(var H,I=this._current,B=R.length;R[this._current]!=="`"&&this._current<B;){var Z=this._current;R[Z]!=="\\"||R[Z+1]!=="\\"&&R[Z+1]!=="`"?Z++:Z+=2,this._current=Z}var le=o(R.slice(I,this._current));return le=le.replace("\\`","`"),H=this._looksLikeJSON(le)?JSON.parse(le):JSON.parse('"'+le+'"'),this._current++,H},_looksLikeJSON:function(R){if(R==="")return!1;if('[{"'.indexOf(R[0])>=0||["true","false","null"].indexOf(R)>=0)return!0;if(!("-0123456789".indexOf(R[0])>=0))return!1;try{return JSON.parse(R),!0}catch{return!1}}};var K={};function se(){}function we(R){this.runtime=R}function je(R){this._interpreter=R,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}K.EOF=0,K.UnquotedIdentifier=0,K.QuotedIdentifier=0,K.Rbracket=0,K.Rparen=0,K.Comma=0,K.Rbrace=0,K.Number=0,K.Current=0,K.Expref=0,K.Pipe=1,K.Or=2,K.And=3,K.EQ=5,K.GT=5,K.LT=5,K.GTE=5,K.LTE=5,K.NE=5,K.Flatten=9,K.Star=20,K.Filter=21,K.Dot=40,K.Not=45,K.Lbrace=50,K.Lbracket=55,K.Lparen=60,se.prototype={parse:function(R){this._loadTokens(R),this.index=0;var H=this.expression(0);if(this._lookahead(0)!==l){var I=this._lookaheadToken(0),B=new Error("Unexpected token type: "+I.type+", value: "+I.value);throw B.name="ParserError",B}return H},_loadTokens:function(R){var H=new M().tokenize(R);H.push({type:l,value:"",start:R.length}),this.tokens=H},expression:function(R){var H=this._lookaheadToken(0);this._advance();for(var I=this.nud(H),B=this._lookahead(0);R<K[B];)this._advance(),I=this.led(B,I),B=this._lookahead(0);return I},_lookahead:function(R){return this.tokens[this.index+R].type},_lookaheadToken:function(R){return this.tokens[this.index+R]},_advance:function(){this.index++},nud:function(R){var H,I;switch(R.type){case U:return{type:"Literal",value:R.value};case f:return{type:"Field",name:R.value};case c:var B={type:"Field",name:R.value};if(this._lookahead(0)===D)throw new Error("Quoted identifier not allowed for function names.");return B;case z:return{type:"NotExpression",children:[H=this.expression(K.Not)]};case $:return H=null,{type:"ValueProjection",children:[{type:"Identity"},H=this._lookahead(0)===d?{type:"Identity"}:this._parseProjectionRHS(K.Star)]};case q:return this.led(R.type,{type:"Identity"});case J:return this._parseMultiselectHash();case A:return{type:"Projection",children:[{type:A,children:[{type:"Identity"}]},H=this._parseProjectionRHS(K.Flatten)]};case L:return this._lookahead(0)===g||this._lookahead(0)===v?(H=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},H)):this._lookahead(0)===$&&this._lookahead(1)===d?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},H=this._parseProjectionRHS(K.Star)]}):this._parseMultiselectList();case y:return{type:y};case b:return{type:"ExpressionReference",children:[I=this.expression(K.Expref)]};case D:for(var Z=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(I={type:y},this._advance()):I=this.expression(0),Z.push(I);return this._match(h),Z[0];default:this._errorToken(R)}},led:function(R,H){var I;switch(R){case Y:var B=K.Dot;return this._lookahead(0)!==$?{type:"Subexpression",children:[H,I=this._parseDotRHS(B)]}:(this._advance(),{type:"ValueProjection",children:[H,I=this._parseProjectionRHS(B)]});case k:return I=this.expression(K.Pipe),{type:k,children:[H,I]};case w:return{type:"OrExpression",children:[H,I=this.expression(K.Or)]};case C:return{type:"AndExpression",children:[H,I=this.expression(K.And)]};case D:for(var Z,le=H.name,X=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(Z={type:y},this._advance()):Z=this.expression(0),this._lookahead(0)===p&&this._match(p),X.push(Z);return this._match(h),{type:"Function",name:le,children:X};case q:var V=this.expression(0);return this._match(d),{type:"FilterProjection",children:[H,I=this._lookahead(0)===A?{type:"Identity"}:this._parseProjectionRHS(K.Filter),V]};case A:return{type:"Projection",children:[{type:A,children:[H]},this._parseProjectionRHS(K.Flatten)]};case _:case N:case T:case O:case j:case S:return this._parseComparator(H,R);case L:var _e=this._lookaheadToken(0);return _e.type===g||_e.type===v?(I=this._parseIndexExpression(),this._projectIfSlice(H,I)):(this._match($),this._match(d),{type:"Projection",children:[H,I=this._parseProjectionRHS(K.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(R){if(this._lookahead(0)!==R){var H=this._lookaheadToken(0),I=new Error("Expected "+R+", got: "+H.type);throw I.name="ParserError",I}this._advance()},_errorToken:function(R){var H=new Error("Invalid token ("+R.type+'): "'+R.value+'"');throw H.name="ParserError",H},_parseIndexExpression:function(){if(this._lookahead(0)===v||this._lookahead(1)===v)return this._parseSliceExpression();var R={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(d),R},_projectIfSlice:function(R,H){var I={type:"IndexExpression",children:[R,H]};return H.type==="Slice"?{type:"Projection",children:[I,this._parseProjectionRHS(K.Star)]}:I},_parseSliceExpression:function(){for(var R=[null,null,null],H=0,I=this._lookahead(0);I!==d&&H<3;){if(I===v)H++,this._advance();else{if(I!==g){var B=this._lookahead(0),Z=new Error("Syntax error, unexpected token: "+B.value+"("+B.type+")");throw Z.name="Parsererror",Z}R[H]=this._lookaheadToken(0).value,this._advance()}I=this._lookahead(0)}return this._match(d),{type:"Slice",children:R}},_parseComparator:function(R,H){return{type:"Comparator",name:H,children:[R,this.expression(K[H])]}},_parseDotRHS:function(R){var H=this._lookahead(0);return[f,c,$].indexOf(H)>=0?this.expression(R):H===L?(this._match(L),this._parseMultiselectList()):H===J?(this._match(J),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(R){var H;if(K[this._lookahead(0)]<10)H={type:"Identity"};else if(this._lookahead(0)===L)H=this.expression(R);else if(this._lookahead(0)===q)H=this.expression(R);else{if(this._lookahead(0)!==Y){var I=this._lookaheadToken(0),B=new Error("Sytanx error, unexpected token: "+I.value+"("+I.type+")");throw B.name="ParserError",B}this._match(Y),H=this._parseDotRHS(R)}return H},_parseMultiselectList:function(){for(var R=[];this._lookahead(0)!==d;){var H=this.expression(0);if(R.push(H),this._lookahead(0)===p&&(this._match(p),this._lookahead(0)===d))throw new Error("Unexpected token Rbracket")}return this._match(d),{type:"MultiSelectList",children:R}},_parseMultiselectHash:function(){for(var R,H,I,B=[],Z=[f,c];;){if(R=this._lookaheadToken(0),Z.indexOf(R.type)<0)throw new Error("Expecting an identifier token, got: "+R.type);if(H=R.value,this._advance(),this._match(v),I={type:"KeyValuePair",name:H,value:this.expression(0)},B.push(I),this._lookahead(0)===p)this._match(p);else if(this._lookahead(0)===m){this._match(m);break}}return{type:"MultiSelectHash",children:B}}},we.prototype={search:function(R,H){return this.visit(R,H)},visit:function(R,H){var I,B,Z,le,X,V,_e,Se,xe;switch(R.type){case"Field":return H!==null&&n(H)?(V=H[R.name])===void 0?null:V:null;case"Subexpression":for(Z=this.visit(R.children[0],H),xe=1;xe<R.children.length;xe++)if((Z=this.visit(R.children[1],Z))===null)return null;return Z;case"IndexExpression":return _e=this.visit(R.children[0],H),this.visit(R.children[1],_e);case"Index":if(!e(H))return null;var he=R.value;return he<0&&(he=H.length+he),(Z=H[he])===void 0&&(Z=null),Z;case"Slice":if(!e(H))return null;var fe=R.children.slice(0),ke=this.computeSliceParams(H.length,fe),Oe=ke[0],De=ke[1],Ve=ke[2];if(Z=[],Ve>0)for(xe=Oe;xe<De;xe+=Ve)Z.push(H[xe]);else for(xe=Oe;xe>De;xe+=Ve)Z.push(H[xe]);return Z;case"Projection":var pe=this.visit(R.children[0],H);if(!e(pe))return null;for(Se=[],xe=0;xe<pe.length;xe++)(B=this.visit(R.children[1],pe[xe]))!==null&&Se.push(B);return Se;case"ValueProjection":if(!n(pe=this.visit(R.children[0],H)))return null;Se=[];var He=function(Je){for(var ct=Object.keys(Je),kt=[],$e=0;$e<ct.length;$e++)kt.push(Je[ct[$e]]);return kt}(pe);for(xe=0;xe<He.length;xe++)(B=this.visit(R.children[1],He[xe]))!==null&&Se.push(B);return Se;case"FilterProjection":if(!e(pe=this.visit(R.children[0],H)))return null;var st=[],Rt=[];for(xe=0;xe<pe.length;xe++)i(I=this.visit(R.children[2],pe[xe]))||st.push(pe[xe]);for(var hn=0;hn<st.length;hn++)(B=this.visit(R.children[1],st[hn]))!==null&&Rt.push(B);return Rt;case"Comparator":switch(le=this.visit(R.children[0],H),X=this.visit(R.children[1],H),R.name){case _:Z=r(le,X);break;case N:Z=!r(le,X);break;case T:Z=le>X;break;case O:Z=le>=X;break;case j:Z=le<X;break;case S:Z=le<=X;break;default:throw new Error("Unknown comparator: "+R.name)}return Z;case A:var ie=this.visit(R.children[0],H);if(!e(ie))return null;var de=[];for(xe=0;xe<ie.length;xe++)e(B=ie[xe])?de.push.apply(de,B):de.push(B);return de;case"Identity":return H;case"MultiSelectList":if(H===null)return null;for(Se=[],xe=0;xe<R.children.length;xe++)Se.push(this.visit(R.children[xe],H));return Se;case"MultiSelectHash":if(H===null)return null;var ge;for(Se={},xe=0;xe<R.children.length;xe++)Se[(ge=R.children[xe]).name]=this.visit(ge.value,H);return Se;case"OrExpression":return i(I=this.visit(R.children[0],H))&&(I=this.visit(R.children[1],H)),I;case"AndExpression":return i(le=this.visit(R.children[0],H))===!0?le:this.visit(R.children[1],H);case"NotExpression":return i(le=this.visit(R.children[0],H));case"Literal":return R.value;case k:return _e=this.visit(R.children[0],H),this.visit(R.children[1],_e);case y:return H;case"Function":var be=[];for(xe=0;xe<R.children.length;xe++)be.push(this.visit(R.children[xe],H));return this.runtime.callFunction(R.name,be);case"ExpressionReference":var Te=R.children[0];return Te.jmespathType=b,Te;default:throw new Error("Unknown node type: "+R.type)}},computeSliceParams:function(R,H){var I=H[0],B=H[1],Z=H[2],le=[null,null,null];if(Z===null)Z=1;else if(Z===0){var X=new Error("Invalid slice, step cannot be 0");throw X.name="RuntimeError",X}var V=Z<0;return I=I===null?V?R-1:0:this.capSliceRange(R,I,Z),B=B===null?V?-1:R:this.capSliceRange(R,B,Z),le[0]=I,le[1]=B,le[2]=Z,le},capSliceRange:function(R,H,I){return H<0?(H+=R)<0&&(H=I<0?-1:0):H>=R&&(H=I<0?R-1:R),H}},je.prototype={callFunction:function(R,H){var I=this.functionTable[R];if(I===void 0)throw new Error("Unknown function: "+R+"()");return this._validateArgs(R,H,I._signature),I._func.call(this,H)},_validateArgs:function(R,H,I){var B,Z,le,X;if(I[I.length-1].variadic){if(H.length<I.length)throw B=I.length===1?" argument":" arguments",new Error("ArgumentError: "+R+"() takes at least"+I.length+B+" but received "+H.length)}else if(H.length!==I.length)throw B=I.length===1?" argument":" arguments",new Error("ArgumentError: "+R+"() takes "+I.length+B+" but received "+H.length);for(var V=0;V<I.length;V++){X=!1,Z=I[V].types,le=this._getTypeName(H[V]);for(var _e=0;_e<Z.length;_e++)if(this._typeMatches(le,Z[_e],H[V])){X=!0;break}if(!X){var Se=Z.map(function(xe){return u[xe]}).join(",");throw new Error("TypeError: "+R+"() expected argument "+(V+1)+" to be type "+Se+" but received type "+u[le]+" instead.")}}},_typeMatches:function(R,H,I){if(H===1)return!0;if(H!==9&&H!==8&&H!==3)return R===H;if(H===3)return R===3;if(R===3){var B;H===8?B=s:H===9&&(B=a);for(var Z=0;Z<I.length;Z++)if(!this._typeMatches(this._getTypeName(I[Z]),B,I[Z]))return!1;return!0}},_getTypeName:function(R){switch(Object.prototype.toString.call(R)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return R.jmespathType===b?6:4}},_functionStartsWith:function(R){return R[0].lastIndexOf(R[1])===0},_functionEndsWith:function(R){var H=R[0],I=R[1];return H.indexOf(I,H.length-I.length)!==-1},_functionReverse:function(R){if(this._getTypeName(R[0])===a){for(var H=R[0],I="",B=H.length-1;B>=0;B--)I+=H[B];return I}var Z=R[0].slice(0);return Z.reverse(),Z},_functionAbs:function(R){return Math.abs(R[0])},_functionCeil:function(R){return Math.ceil(R[0])},_functionAvg:function(R){for(var H=0,I=R[0],B=0;B<I.length;B++)H+=I[B];return H/I.length},_functionContains:function(R){return R[0].indexOf(R[1])>=0},_functionFloor:function(R){return Math.floor(R[0])},_functionLength:function(R){return n(R[0])?Object.keys(R[0]).length:R[0].length},_functionMap:function(R){for(var H=[],I=this._interpreter,B=R[0],Z=R[1],le=0;le<Z.length;le++)H.push(I.visit(B,Z[le]));return H},_functionMerge:function(R){for(var H={},I=0;I<R.length;I++){var B=R[I];for(var Z in B)H[Z]=B[Z]}return H},_functionMax:function(R){if(R[0].length>0){if(this._getTypeName(R[0][0])===s)return Math.max.apply(Math,R[0]);for(var H=R[0],I=H[0],B=1;B<H.length;B++)I.localeCompare(H[B])<0&&(I=H[B]);return I}return null},_functionMin:function(R){if(R[0].length>0){if(this._getTypeName(R[0][0])===s)return Math.min.apply(Math,R[0]);for(var H=R[0],I=H[0],B=1;B<H.length;B++)H[B].localeCompare(I)<0&&(I=H[B]);return I}return null},_functionSum:function(R){for(var H=0,I=R[0],B=0;B<I.length;B++)H+=I[B];return H},_functionType:function(R){switch(this._getTypeName(R[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(R){return Object.keys(R[0])},_functionValues:function(R){for(var H=R[0],I=Object.keys(H),B=[],Z=0;Z<I.length;Z++)B.push(H[I[Z]]);return B},_functionJoin:function(R){var H=R[0];return R[1].join(H)},_functionToArray:function(R){return this._getTypeName(R[0])===3?R[0]:[R[0]]},_functionToString:function(R){return this._getTypeName(R[0])===a?R[0]:JSON.stringify(R[0])},_functionToNumber:function(R){var H,I=this._getTypeName(R[0]);return I===s?R[0]:I!==a||(H=+R[0],isNaN(H))?null:H},_functionNotNull:function(R){for(var H=0;H<R.length;H++)if(this._getTypeName(R[H])!==7)return R[H];return null},_functionSort:function(R){var H=R[0].slice(0);return H.sort(),H},_functionSortBy:function(R){var H=R[0].slice(0);if(H.length===0)return H;var I=this._interpreter,B=R[1],Z=this._getTypeName(I.visit(B,H[0]));if([s,a].indexOf(Z)<0)throw new Error("TypeError");for(var le=this,X=[],V=0;V<H.length;V++)X.push([V,H[V]]);X.sort(function(Se,xe){var he=I.visit(B,Se[1]),fe=I.visit(B,xe[1]);if(le._getTypeName(he)!==Z)throw new Error("TypeError: expected "+Z+", received "+le._getTypeName(he));if(le._getTypeName(fe)!==Z)throw new Error("TypeError: expected "+Z+", received "+le._getTypeName(fe));return he>fe?1:he<fe?-1:Se[0]-xe[0]});for(var _e=0;_e<X.length;_e++)H[_e]=X[_e][1];return H},_functionMaxBy:function(R){for(var H,I,B=R[1],Z=R[0],le=this.createKeyFunction(B,[s,a]),X=-1/0,V=0;V<Z.length;V++)(I=le(Z[V]))>X&&(X=I,H=Z[V]);return H},_functionMinBy:function(R){for(var H,I,B=R[1],Z=R[0],le=this.createKeyFunction(B,[s,a]),X=1/0,V=0;V<Z.length;V++)(I=le(Z[V]))<X&&(X=I,H=Z[V]);return H},createKeyFunction:function(R,H){var I=this,B=this._interpreter;return function(Z){var le=B.visit(R,Z);if(H.indexOf(I._getTypeName(le))<0){var X="TypeError: expected one of "+H+", received "+I._getTypeName(le);throw new Error(X)}return le}}},t.tokenize=function(R){return new M().tokenize(R)},t.compile=function(R){return new se().parse(R)},t.search=function(R,H){var I=new se,B=new je,Z=new we(B);B._interpreter=Z;var le=I.parse(H);return Z.search(le,R)},t.strictDeepEqual=r})(nee);/*!
* vanilla-picker v2.12.1
* https://vanilla-picker.js.org
*
* Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
* Released under the ISC license.
*/var Tb=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Pb=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zd=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(n,r){var i=[],o=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done)&&(i.push(u.value),!r||i.length!==r);o=!0);}catch(f){s=!0,a=f}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var ree={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function X$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var iee=function(){function t(e,n,r,i){Tb(this,t);var o=this;if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var s=e&&""+e;s&&function(a){if(a.startsWith("hsl")){var u=a.match(/([\-\d\.e]+)/g).map(Number),l=zd(u,4),f=l[0],c=l[1],d=l[2],h=l[3];h===void 0&&(h=1),f/=360,c/=100,d/=100,o.hsla=[f,c,d,h]}else if(a.startsWith("rgb")){var p=a.match(/([\-\d\.e]+)/g).map(Number),v=zd(p,4),m=v[0],g=v[1],y=v[2],b=v[3];b===void 0&&(b=1),o.rgba=[m,g,y,b]}else a.startsWith("#")?o.rgba=t.hexToRgb(a):o.rgba=t.nameToRgb(a)||t.hexToRgb(a)}(s.toLowerCase())}else this.rgba=[e,n,r,i===void 0?1:i]}return Pb(t,[{key:"printRGB",value:function(e){var n=(e?this.rgba:this.rgba.slice(0,3)).map(function(r,i){return X$(r,i===3?3:0)});return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var n=[360,100,100,1],r=["","%","%",""],i=(e?this.hsla:this.hsla.slice(0,3)).map(function(o,s){return X$(o*n[s],s===3?3:1)+r[s]});return e?"hsla("+i+")":"hsl("+i+")"}},{key:"printHex",value:function(e){var n=this.hex;return e?n:n.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(e,n){return n<3?e.toString(16):Math.round(255*e).toString(16)}).map(function(e){return e.padStart(2,"0")}).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var n=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!n.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var r=n.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(e){var n=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=ree[n];return r===void 0?r:t.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var n=zd(e,4),r=n[0],i=n[1],o=n[2],s=n[3];r/=255,i/=255,o/=255;var a=Math.max(r,i,o),u=Math.min(r,i,o),l=void 0,f=void 0,c=(a+u)/2;if(a===u)l=f=0;else{var d=a-u;switch(f=c>.5?d/(2-a-u):d/(a+u),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4}l/=6}return[l,f,c,s]}},{key:"hslToRgb",value:function(e){var n=zd(e,4),r=n[0],i=n[1],o=n[2],s=n[3],a=void 0,u=void 0,l=void 0;if(i===0)a=u=l=o;else{var f=function(p,v,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?p+6*(v-p)*m:m<.5?v:m<.6666666666666666?p+(v-p)*(.6666666666666666-m)*6:p},c=o<.5?o*(1+i):o+i-o*i,d=2*o-c;a=f(d,c,r+1/3),u=f(d,c,r),l=f(d,c,r-1/3)}var h=[255*a,255*u,255*l].map(Math.round);return h[3]=s,h}}]),t}(),oee=function(){function t(){Tb(this,t),this._events=[]}return Pb(t,[{key:"add",value:function(e,n,r){e.addEventListener(n,r,!1),this._events.push({target:e,type:n,handler:r})}},{key:"remove",value:function(e,n,r){this._events=this._events.filter(function(i){var o=!0;return e&&e!==i.target&&(o=!1),n&&n!==i.type&&(o=!1),r&&r!==i.handler&&(o=!1),o&&t._doRemove(i.target,i.type,i.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(e){return t._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,n,r){e.removeEventListener(n,r,!1)}}]),t}();function Vm(t,e,n){var r=!1;function i(u,l,f){return Math.max(l,Math.min(u,f))}function o(u,l,f){if(f&&(r=!0),r){u.preventDefault();var c=e.getBoundingClientRect(),d=c.width,h=c.height,p=l.clientX,v=l.clientY,m=i(p-c.left,0,d),g=i(v-c.top,0,h);n(m/d,g/h)}}function s(u,l){(u.buttons===void 0?u.which:u.buttons)===1?o(u,u,l):r=!1}function a(u,l){u.touches.length===1?o(u,u.touches[0],l):r=!1}t.add(e,"mousedown",function(u){s(u,!0)}),t.add(e,"touchstart",function(u){a(u,!0)}),t.add(window,"mousemove",s),t.add(e,"touchmove",a),t.add(window,"mouseup",function(u){r=!1}),t.add(e,"touchend",function(u){r=!1}),t.add(e,"touchcancel",function(u){r=!1})}function Uo(t,e){return(e||document).querySelector(t)}function z9(t){t.preventDefault(),t.stopPropagation()}function Hm(t,e,n,r,i){t.add(e,"keydown",function(o){n.indexOf(o.key)>=0&&(i&&z9(o),r(o))})}var F9=function(){function t(e){Tb(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new oee,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return Pb(t,[{key:"setOptions",value:function(e){var n=this;if(e){var r=this.settings;if(e instanceof HTMLElement)r.parent=e;else{r.parent&&e.parent&&r.parent!==e.parent&&(this._events.remove(r.parent),this._popupInited=!1),function(a,u,l){for(var f in a)l&&l.indexOf(f)>=0||(u[f]=a[f])}(e,r),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var i=e.color||e.colour;i&&this._setColor(i)}var o=r.parent;if(o&&r.popup&&!this._popupInited){var s=function(a){return n.openHandler(a)};this._events.add(o,"click",s),Hm(this._events,o,[" ","Spacebar","Enter"],s),this._popupInited=!0}else e.parent&&!r.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var n=e&&e.type==="keydown"?this._domEdit:this.domElement;setTimeout(function(){return n.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var n=e&&e.type,r=!1;if(e)if(n==="mousedown"||n==="focusin"){var i=(this.__containedEvent||0)+100;e.timeStamp>i&&(r=!0)}else z9(e),r=!0;else r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!=="mousedown"&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,n){this.closeHandler(),this.setOptions(e),n&&this.openHandler()}},{key:"setColor",value:function(e,n){this._setColor(e,{silent:n})}},{key:"_setColor",value:function(e,n){if(typeof e=="string"&&(e=e.trim()),e){n=n||{};var r=void 0;try{r=new iee(e)}catch(o){if(n.failSilently)return;throw o}if(!this.settings.alpha){var i=r.hsla;i[3]=1,r.hsla=i}this.colour=this.color=r,this._setHSLA(null,null,null,null,n)}}},{key:"setColour",value:function(e,n){this.setColor(e,n)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var n,r,i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=(n=i,(r=document.createElement("div")).innerHTML=n,r.firstElementChild);return this.domElement=o,this._domH=Uo(".picker_hue",o),this._domSL=Uo(".picker_sl",o),this._domA=Uo(".picker_alpha",o),this._domEdit=Uo(".picker_editor input",o),this._domSample=Uo(".picker_sample",o),this._domOkay=Uo(".picker_done button",o),this._domCancel=Uo(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup(function(){return o.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,n=this,r=this.domElement,i=this._events;function o(u,l,f){i.add(u,l,f)}o(r,"click",function(u){return u.preventDefault()}),Vm(i,this._domH,function(u,l){return n._setHSLA(u)}),Vm(i,this._domSL,function(u,l){return n._setHSLA(null,u,1-l)}),this.settings.alpha&&Vm(i,this._domA,function(u,l){return n._setHSLA(null,null,null,1-l)});var s=this._domEdit;o(s,"input",function(u){n._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(s,"focus",function(u){var l=this;l.selectionStart===l.selectionEnd&&l.select()}),this._ifPopup(function(){var u=function(f){return e.closeHandler(f)};o(window,"mousedown",u),o(window,"focusin",u),Hm(i,r,["Esc","Escape"],u);var l=function(f){e.__containedEvent=f.timeStamp};o(r,"mousedown",l),o(r,"focusin",l),o(e._domCancel,"click",u)});var a=function(u){e._ifPopup(function(){return e.closeHandler(u)}),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",a),Hm(i,r,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this.settings.parent,n=this.domElement;e!==n.parentNode&&e.appendChild(n),this._ifPopup(function(r){getComputedStyle(e).position==="static"&&(e.style.position="relative");var i=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===i?n.classList.add(o):n.classList.remove(o)}),n.classList.add(i)})}},{key:"_setHSLA",value:function(e,n,r,i,o){o=o||{};var s=this.colour,a=s.hsla;[e,n,r,i].forEach(function(u,l){(u||u===0)&&(a[l]=u)}),s.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(s)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var n=this.colour,r=n.hsla,i="hsl("+360*r[0]+", 100%, 50%)",o=n.hslString,s=n.hslaString,a=this._domH,u=this._domSL,l=this._domA,f=Uo(".picker_selector",a),c=Uo(".picker_selector",u),d=Uo(".picker_selector",l);b(0,f,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,b(0,c,r[1]),k(0,c,1-r[2]),u.style.color=o,k(0,d,1-r[3]);var h=o,p=h.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[h,p]+")";if(this._domA.style.background=v+`, linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,y=void 0;switch(m){case"rgb":y=n.printRGB(g);break;case"hsl":y=n.printHSL(g);break;default:y=n.printHex(g)}this._domEdit.value=y}this._domSample.style.color=s}function b(w,C,_){C.style.left=100*_+"%"}function k(w,C,_){C.style.top=100*_+"%"}}},{key:"_ifPopup",value:function(e,n){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):n&&n()}},{key:"_toggleDOM",value:function(e){var n=this.domElement;if(!n)return!1;var r=e?"":"none",i=n.style.display!==r;return i&&(n.style.display=r),i}}]),t}(),Wm=document.createElement("style");Wm.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Wm),F9.StyleElement=Wm;var see=Object.freeze({__proto__:null,default:F9});Ae.exports.compileJSONPointer;Ae.exports.deleteIn;Ae.exports.existsIn;Ae.exports.getIn;Ae.exports.immutableJSONPatch;Ae.exports.insertAt;Ae.exports.parseJSONPointer;Ae.exports.revertJSONPatch;Ae.exports.setIn;Ae.exports.updateIn;function Mb(t){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=function(){r.status>=200&&r.status<300?e(r.responseText):(Ln(`Failed to load file ${t}`,r.status),n(r.status))},r.open("GET",t),r.send()})}const aee={gameTitle:"Narrat Game Example",images:{narrat:"img/backgrounds/narrat.png"},layout:{backgrounds:{width:880,height:720},dialogBottomPadding:70,minTextWidth:475,mobileDialogHeightPercentage:60,verticalLayoutThreshold:1e3,portraits:{width:100,height:100}},gameFlow:{},screens:{default:{background:"narrat",buttons:[]},map:{background:"map",buttons:["shopButton","parkButton"]}},buttons:{},skills:{},skillOptions:{xpPerLevel:10,notifyLevelUp:!0},transitions:{},skillChecks:{rollRange:100,skillMultiplier:10,failureChance:1,difficultyText:[[0,"Very Easy"],[10,"Easy"],[30,"Medium"],[50,"Hard"],[70,"Very Hard"],[80,"Extremely Hard"],[90,"Near Impossible"]]},scripts:["data/example.rpy"],audio:{},audioOptions:{volume:.5,musicFadeInTime:.5,musicFadeInDelay:.5,musicFadeOutTime:.5},notifications:{timeOnScreen:3,alsoPrintInDialogue:!1},hudStats:{},items:{},interactionTags:{default:{onlyInteractOutsideOfScripts:!0}},quests:{},audioTriggers:{},menuButtons:{},debugging:{showScriptFinishedMessage:!0},saves:{mode:"game-slots"}},dh={};function uee(t){var e;return(e=dh[t])!=null?e:{}}let ki;function lee(t){if(ki={...aee,...t},ki.transitions)for(const e in ki.transitions)dh[e]?Object.assign(dh[e],ki.transitions[e]):dh[e]=ki.transitions[e]}function vt(){return ki}function q9(t){const e=ki.skills[t];return e||Ln(`Skill config for skill ${t} doesn't exist`),e}function Z$(t){return ki.images[t]?bu(ki.images[t]):bu(t)}function bu(t){return ki.baseAssetsPath?`${ki.baseAssetsPath}${t}`:t}function rc(t){return ki.buttons[t]}function eA(t){const e=ki.items[t];return e||Ln(`Item config for skill ${t} doesn't exist`),e}function wp(t){return ki.quests[t]}function J0(t,e){return wp(t).objectives[e]}var ha={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var d=this||n;if(c=parseFloat(c),d.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(d._volume=c,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),v=0;v<p.length;v++){var m=d._howls[h]._soundById(p[v]);m&&m._node&&(m._node.volume=m._volume*c)}return d}return d._volume},mute:function(c){var d=this||n;d.ctx||f(),d._muted=c,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),v=0;v<p.length;v++){var m=d._howls[h]._soundById(p[v]);m&&m._node&&(m._node.muted=c?!0:m._muted)}return d},stop:function(){for(var c=this||n,d=0;d<c._howls.length;d++)c._howls[d].stop();return c},unload:function(){for(var c=this||n,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var d=new Audio;d.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return c}if(!d||typeof d.canPlayType!="function")return c;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),p=c._navigator?c._navigator.userAgent:"",v=p.match(/OPR\/([0-6].)/g),m=v&&parseInt(v[0].split("/")[1],10)<33,g=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,y=p.match(/Version\/(.*?) /),b=g&&y&&parseInt(y[1],10)<15;return c._codecs={mp3:!!(!m&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var d=function(h){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,c._releaseHtml5Audio(p)}catch{c.noAudio=!0;break}for(var v=0;v<c._howls.length;v++)if(!c._howls[v]._webAudio)for(var m=c._howls[v]._getSoundIds(),g=0;g<m.length;g++){var y=c._howls[v]._soundById(m[g]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}c._autoResume();var b=c.ctx.createBufferSource();b.buffer=c._scratchBuffer,b.connect(c.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),b.onended=function(){b.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var k=0;k<c._howls.length;k++)c._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var d=this||n;return c._unlocked&&d._html5AudioPool.push(c),d},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<c._howls.length;d++)if(c._howls[d]._webAudio){for(var h=0;h<c._howls[d]._sounds.length;h++)if(!c._howls[d]._sounds[h]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(!!c.autoSuspend){c._suspendTimer=null,c.state="suspending";var p=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(p,p)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var d=0;d<c._howls.length;d++)c._howls[d]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var d=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(c)};r.prototype={init:function(c){var d=this;return n.ctx||f(),d._autoplay=c.autoplay||!1,d._format=typeof c.format!="string"?c.format:[c.format],d._html5=c.html5||!1,d._muted=c.mute||!1,d._loop=c.loop||!1,d._pool=c.pool||5,d._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,d._rate=c.rate||1,d._sprite=c.sprite||{},d._src=typeof c.src!="string"?c.src:[c.src],d._volume=c.volume!==void 0?c.volume:1,d._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=c.onend?[{fn:c.onend}]:[],d._onfade=c.onfade?[{fn:c.onfade}]:[],d._onload=c.onload?[{fn:c.onload}]:[],d._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],d._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],d._onpause=c.onpause?[{fn:c.onpause}]:[],d._onplay=c.onplay?[{fn:c.onplay}]:[],d._onstop=c.onstop?[{fn:c.onstop}]:[],d._onmute=c.onmute?[{fn:c.onmute}]:[],d._onvolume=c.onvolume?[{fn:c.onvolume}]:[],d._onrate=c.onrate?[{fn:c.onrate}]:[],d._onseek=c.onseek?[{fn:c.onseek}]:[],d._onunlock=c.onunlock?[{fn:c.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var c=this,d=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var h=0;h<c._src.length;h++){var p,v;if(c._format&&c._format[h])p=c._format[h];else{if(v=c._src[h],typeof v!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(v),p||(p=/\.([^.]+)$/.exec(v.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){d=c._src[h];break}}if(!d){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=d,c._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&s(c),c},play:function(c,d){var h=this,p=null;if(typeof c=="number")p=c,c=null;else{if(typeof c=="string"&&h._state==="loaded"&&!h._sprite[c])return null;if(typeof c>"u"&&(c="__default",!h._playLock)){for(var v=0,m=0;m<h._sounds.length;m++)h._sounds[m]._paused&&!h._sounds[m]._ended&&(v++,p=h._sounds[m]._id);v===1?c=null:p=null}}var g=p?h._soundById(p):h._inactiveSound();if(!g)return null;if(p&&!c&&(c=g._sprite||"__default"),h._state!=="loaded"){g._sprite=c,g._ended=!1;var y=g._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(p&&!g._paused)return d||h._loadQueue("play"),g._id;h._webAudio&&n._autoResume();var b=Math.max(0,g._seek>0?g._seek:h._sprite[c][0]/1e3),k=Math.max(0,(h._sprite[c][0]+h._sprite[c][1])/1e3-b),w=k*1e3/Math.abs(g._rate),C=h._sprite[c][0]/1e3,_=(h._sprite[c][0]+h._sprite[c][1])/1e3;g._sprite=c,g._ended=!1;var T=function(){g._paused=!1,g._seek=b,g._start=C,g._stop=_,g._loop=!!(g._loop||h._sprite[c][2])};if(b>=_){h._ended(g);return}var j=g._node;if(h._webAudio){var O=function(){h._playLock=!1,T(),h._refreshBuffer(g);var $=g._muted||h._muted?0:g._volume;j.gain.setValueAtTime($,n.ctx.currentTime),g._playStart=n.ctx.currentTime,typeof j.bufferSource.start>"u"?g._loop?j.bufferSource.noteGrainOn(0,b,86400):j.bufferSource.noteGrainOn(0,b,k):g._loop?j.bufferSource.start(0,b,86400):j.bufferSource.start(0,b,k),w!==1/0&&(h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),w)),d||setTimeout(function(){h._emit("play",g._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?O():(h._playLock=!0,h.once("resume",O),h._clearTimer(g._id))}else{var S=function(){j.currentTime=b,j.muted=g._muted||h._muted||n._muted||j.muted,j.volume=g._volume*n.volume(),j.playbackRate=g._rate;try{var $=j.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(h._playLock=!0,T(),$.then(function(){h._playLock=!1,j._unlocked=!0,d?h._loadQueue():h._emit("play",g._id)}).catch(function(){h._playLock=!1,h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):d||(h._playLock=!1,T(),h._emit("play",g._id)),j.playbackRate=g._rate,j.paused){h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||g._loop?h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),w):(h._endTimers[g._id]=function(){h._ended(g),j.removeEventListener("ended",h._endTimers[g._id],!1)},j.addEventListener("ended",h._endTimers[g._id],!1))}catch(q){h._emit("playerror",g._id,q)}};j.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(j.src=h._src,j.load());var N=window&&window.ejecta||!j.readyState&&n._navigator.isCocoonJS;if(j.readyState>=3||N)S();else{h._playLock=!0,h._state="loading";var A=function(){h._state="loaded",S(),j.removeEventListener(n._canPlayEvent,A,!1)};j.addEventListener(n._canPlayEvent,A,!1),h._clearTimer(g._id)}}return g._id},pause:function(c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(c)}}),d;for(var h=d._getSoundIds(c),p=0;p<h.length;p++){d._clearTimer(h[p]);var v=d._soundById(h[p]);if(v&&!v._paused&&(v._seek=d.seek(h[p]),v._rateSeek=0,v._paused=!0,d._stopFade(h[p]),v._node))if(d._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||d._emit("pause",v?v._id:null)}return d},stop:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(c)}}),h;for(var p=h._getSoundIds(c),v=0;v<p.length;v++){h._clearTimer(p[v]);var m=h._soundById(p[v]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,h._stopFade(p[v]),m._node&&(h._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),h._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&h._clearSound(m._node))),d||h._emit("stop",m._id))}return h},mute:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(c,d)}}),h;if(typeof d>"u")if(typeof c=="boolean")h._muted=c;else return h._muted;for(var p=h._getSoundIds(d),v=0;v<p.length;v++){var m=h._soundById(p[v]);m&&(m._muted=c,m._interval&&h._stopFade(m._id),h._webAudio&&m._node?m._node.gain.setValueAtTime(c?0:m._volume,n.ctx.currentTime):m._node&&(m._node.muted=n._muted?!0:c),h._emit("mute",m._id))}return h},volume:function(){var c=this,d=arguments,h,p;if(d.length===0)return c._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var v=c._getSoundIds(),m=v.indexOf(d[0]);m>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var g;if(typeof h<"u"&&h>=0&&h<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,d)}}),c;typeof p>"u"&&(c._volume=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)g=c._soundById(p[y]),g&&(g._volume=h,d[2]||c._stopFade(p[y]),c._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(h,n.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=h*n.volume()),c._emit("volume",g._id))}else return g=p?c._soundById(p):c._sounds[0],g?g._volume:0;return c},fade:function(c,d,h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(c,d,h,p)}}),v;c=Math.min(Math.max(0,parseFloat(c)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),v.volume(c,p);for(var m=v._getSoundIds(p),g=0;g<m.length;g++){var y=v._soundById(m[g]);if(y){if(p||v._stopFade(m[g]),v._webAudio&&!y._muted){var b=n.ctx.currentTime,k=b+h/1e3;y._volume=c,y._node.gain.setValueAtTime(c,b),y._node.gain.linearRampToValueAtTime(d,k)}v._startFadeInterval(y,c,d,h,m[g],typeof p>"u")}}return v},_startFadeInterval:function(c,d,h,p,v,m){var g=this,y=d,b=h-d,k=Math.abs(b/.01),w=Math.max(4,k>0?p/k:p),C=Date.now();c._fadeTo=h,c._interval=setInterval(function(){var _=(Date.now()-C)/p;C=Date.now(),y+=b*_,y=Math.round(y*100)/100,b<0?y=Math.max(h,y):y=Math.min(h,y),g._webAudio?c._volume=y:g.volume(y,c._id,!0),m&&(g._volume=y),(h<d&&y<=h||h>d&&y>=h)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,g.volume(h,c._id),g._emit("fade",c._id))},w)},_stopFade:function(c){var d=this,h=d._soundById(c);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,c),h._fadeTo=null,d._emit("fade",c)),d},loop:function(){var c=this,d=arguments,h,p,v;if(d.length===0)return c._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],c._loop=h;else return v=c._soundById(parseInt(d[0],10)),v?v._loop:!1;else d.length===2&&(h=d[0],p=parseInt(d[1],10));for(var m=c._getSoundIds(p),g=0;g<m.length;g++)v=c._soundById(m[g]),v&&(v._loop=h,c._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=h,h&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,c.playing(m[g])&&(c.pause(m[g],!0),c.play(m[g],!0)))));return c},rate:function(){var c=this,d=arguments,h,p;if(d.length===0)p=c._sounds[0]._id;else if(d.length===1){var v=c._getSoundIds(),m=v.indexOf(d[0]);m>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var g;if(typeof h=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,d)}}),c;typeof p>"u"&&(c._rate=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)if(g=c._soundById(p[y]),g){c.playing(p[y])&&(g._rateSeek=c.seek(p[y]),g._playStart=c._webAudio?n.ctx.currentTime:g._playStart),g._rate=h,c._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):g._node&&(g._node.playbackRate=h);var b=c.seek(p[y]),k=(c._sprite[g._sprite][0]+c._sprite[g._sprite][1])/1e3-b,w=k*1e3/Math.abs(g._rate);(c._endTimers[p[y]]||!g._paused)&&(c._clearTimer(p[y]),c._endTimers[p[y]]=setTimeout(c._ended.bind(c,g),w)),c._emit("rate",g._id)}}else return g=c._soundById(p),g?g._rate:c._rate;return c},seek:function(){var c=this,d=arguments,h,p;if(d.length===0)c._sounds.length&&(p=c._sounds[0]._id);else if(d.length===1){var v=c._getSoundIds(),m=v.indexOf(d[0]);m>=0?p=parseInt(d[0],10):c._sounds.length&&(p=c._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var g=c._soundById(p);if(g)if(typeof h=="number"&&h>=0){var y=c.playing(p);y&&c.pause(p,!0),g._seek=h,g._ended=!1,c._clearTimer(p),!c._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=h);var b=function(){y&&c.play(p,!0),c._emit("seek",p)};if(y&&!c._webAudio){var k=function(){c._playLock?setTimeout(k,0):b()};setTimeout(k,0)}else b()}else if(c._webAudio){var w=c.playing(p)?n.ctx.currentTime-g._playStart:0,C=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(C+w*Math.abs(g._rate))}else return g._node.currentTime;return c},playing:function(c){var d=this;if(typeof c=="number"){var h=d._soundById(c);return h?!h._paused:!1}for(var p=0;p<d._sounds.length;p++)if(!d._sounds[p]._paused)return!0;return!1},duration:function(c){var d=this,h=d._duration,p=d._soundById(c);return p&&(h=d._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var c=this,d=c._sounds,h=0;h<d.length;h++)d[h]._paused||c.stop(d[h]._id),c._webAudio||(c._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,c._clearTimer(d[h]._id);var p=n._howls.indexOf(c);p>=0&&n._howls.splice(p,1);var v=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===c._src||c._src.indexOf(n._howls[h]._src)>=0){v=!1;break}return o&&v&&delete o[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,d,h,p){var v=this,m=v["_on"+c];return typeof d=="function"&&m.push(p?{id:h,fn:d,once:p}:{id:h,fn:d}),v},off:function(c,d,h){var p=this,v=p["_on"+c],m=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(m=0;m<v.length;m++){var g=h===v[m].id;if(d===v[m].fn&&g||!d&&g){v.splice(m,1);break}}else if(c)p["_on"+c]=[];else{var y=Object.keys(p);for(m=0;m<y.length;m++)y[m].indexOf("_on")===0&&Array.isArray(p[y[m]])&&(p[y[m]]=[])}return p},once:function(c,d,h){var p=this;return p.on(c,d,h,1),p},_emit:function(c,d,h){for(var p=this,v=p["_on"+c],m=v.length-1;m>=0;m--)(!v[m].id||v[m].id===d||c==="load")&&(setTimeout(function(g){g.call(this,d,h)}.bind(p,v[m].fn),0),v[m].once&&p.off(c,v[m].fn,v[m].id));return p._loadQueue(c),p},_loadQueue:function(c){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===c&&(d._queue.shift(),d._loadQueue()),c||h.action()}return d},_ended:function(c){var d=this,h=c._sprite;if(!d._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(d._ended.bind(d,c),100),d;var p=!!(c._loop||d._sprite[h][2]);if(d._emit("end",c._id),!d._webAudio&&p&&d.stop(c._id,!0).play(c._id),d._webAudio&&p){d._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var v=(c._stop-c._start)*1e3/Math.abs(c._rate);d._endTimers[c._id]=setTimeout(d._ended.bind(d,c),v)}return d._webAudio&&!p&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,d._clearTimer(c._id),d._cleanBuffer(c._node),n._autoSuspend()),!d._webAudio&&!p&&d.stop(c._id,!0),d},_clearTimer:function(c){var d=this;if(d._endTimers[c]){if(typeof d._endTimers[c]!="function")clearTimeout(d._endTimers[c]);else{var h=d._soundById(c);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[c],!1)}delete d._endTimers[c]}return d},_soundById:function(c){for(var d=this,h=0;h<d._sounds.length;h++)if(c===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var c=this;c._drain();for(var d=0;d<c._sounds.length;d++)if(c._sounds[d]._ended)return c._sounds[d].reset();return new i(c)},_drain:function(){var c=this,d=c._pool,h=0,p=0;if(!(c._sounds.length<d)){for(p=0;p<c._sounds.length;p++)c._sounds[p]._ended&&h++;for(p=c._sounds.length-1;p>=0;p--){if(h<=d)return;c._sounds[p]._ended&&(c._webAudio&&c._sounds[p]._node&&c._sounds[p]._node.disconnect(0),c._sounds.splice(p,1),h--)}}},_getSoundIds:function(c){var d=this;if(typeof c>"u"){for(var h=[],p=0;p<d._sounds.length;p++)h.push(d._sounds[p]._id);return h}else return[c]},_refreshBuffer:function(c){var d=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=o[d._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),d},_cleanBuffer:function(c){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),h))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,d},_clearSound:function(c){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,d._sounds.push(c),c.create(),c},create:function(){var c=this,d=c._parent,h=n._muted||c._muted||c._parent._muted?0:c._volume;return d._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(h,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=d._src,c._node.preload=d._preload===!0?"auto":d._preload,c._node.volume=h*n.volume(),c._node.load()),c},reset:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,d=c._parent;d._duration=Math.ceil(c._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,d=c._parent;d._duration===1/0&&(d._duration=Math.ceil(c._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var o={},s=function(c){var d=c._src;if(o[d]){c._duration=o[d].duration,l(c);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),p=new Uint8Array(h.length),v=0;v<h.length;++v)p[v]=h.charCodeAt(v);u(p.buffer,c)}else{var m=new XMLHttpRequest;m.open(c._xhr.method,d,!0),m.withCredentials=c._xhr.withCredentials,m.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(g){m.setRequestHeader(g,c._xhr.headers[g])}),m.onload=function(){var g=(m.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}u(m.response,c)},m.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete o[d],c.load())},a(m)}},a=function(c){try{c.send()}catch{c.onerror()}},u=function(c,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},p=function(v){v&&d._sounds.length>0?(o[d._src]=v,l(d,v)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(p).catch(h):n.ctx.decodeAudioData(c,p,h)},l=function(c,d){d&&!c._duration&&(c._duration=d.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(c&&h&&h<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof ra<"u"?(ra.HowlerGlobal=e,ra.Howler=n,ra.Howl=r,ra.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(r=typeof r!="number"?o._pos[1]:r,i=typeof i!="number"?o._pos[2]:i,typeof n=="number")o._pos=[n,r,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(n,r,i,o,s,a){var u=this;if(!u.ctx||!u.ctx.listener)return u;var l=u._orientation;if(r=typeof r!="number"?l[1]:r,i=typeof i!="number"?l[2]:i,o=typeof o!="number"?l[3]:o,s=typeof s!="number"?l[4]:s,a=typeof a!="number"?l[5]:a,typeof n=="number")u._orientation=[n,r,i,o,s,a],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(n,r,i,o,s,a);else return l;return u},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u)if(typeof n=="number")u._stereo=n,u._pos=[n,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,o),o==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(n,0,0):u._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",u._id);else return u._stereo}return i},Howl.prototype.pos=function(n,r,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,i,o)}}),s;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof n=="number")s._pos=[n,r,i];else return s._pos;for(var a=s._getSoundIds(o),u=0;u<a.length;u++){var l=s._soundById(a[u]);if(l)if(typeof n=="number")l._pos=[n,r,i],l._node&&((!l._panner||l._panner.pan)&&e(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(n,r,i)),s._emit("pos",l._id);else return l._pos}return s},Howl.prototype.orientation=function(n,r,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,i,o)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,i=typeof i!="number"?s._orientation[2]:i,typeof o>"u")if(typeof n=="number")s._orientation=[n,r,i];else return s._orientation;for(var a=s._getSoundIds(o),u=0;u<a.length;u++){var l=s._soundById(a[u]);if(l)if(typeof n=="number")l._orientation=[n,r,i],l._node&&(l._panner||(l._pos||(l._pos=s._pos||[0,0,-.5]),e(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(n,r,i)),s._emit("orientation",l._id);else return l._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,o,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],o=parseInt(r[1],10));for(var a=n._getSoundIds(o),u=0;u<a.length;u++)if(s=n._soundById(a[u]),s){var l=s._pannerAttr;l={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:l.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:l.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:l.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:l.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:l.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:l.panningModel};var f=s._panner;f?(f.coneInnerAngle=l.coneInnerAngle,f.coneOuterAngle=l.coneOuterAngle,f.coneOuterGain=l.coneOuterGain,f.distanceModel=l.distanceModel,f.maxDistance=l.maxDistance,f.refDistance=l.refDistance,f.rolloffFactor=l.rolloffFactor,f.panningModel=l.panningModel):(s._pos||(s._pos=n._pos||[0,0,-.5]),e(s,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(ha);function Mi(t){return new Promise((e,n)=>{setTimeout(e,t)})}const cee=t=>t.reduce((e,n)=>({...e,[n]:n}),{});var fee=!1;/*!
  * pinia v2.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let V9;const Iv=t=>V9=t,H9=Symbol();function K0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Tc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Tc||(Tc={}));function dee(){const t=xA(!0),e=t.run(()=>Tr({}));let n=[],r=[];const i=rl({install(o){Iv(i),i._a=o,o.provide(H9,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!fee?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const W9=()=>{};function tA(t,e,n,r=W9){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&zp()&&hy(i),i}function Mu(t,...e){t.slice().forEach(n=>{n(...e)})}function G0(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];K0(i)&&K0(r)&&t.hasOwnProperty(n)&&!yr(r)&&!aa(r)?t[n]=G0(i,r):t[n]=r}return t}const hee=Symbol();function pee(t){return!K0(t)||!t.hasOwnProperty(hee)}const{assign:ws}=Object;function vee(t){return!!(yr(t)&&t.effect)}function mee(t,e,n,r){const{state:i,actions:o,getters:s}=e,a=n.state.value[t];let u;function l(){a||(n.state.value[t]=i?i():{});const f=uL(n.state.value[t]);return ws(f,o,Object.keys(s||{}).reduce((c,d)=>(c[d]=rl(Ht(()=>{Iv(n);const h=n._s.get(t);return s[d].call(h,h)})),c),{}))}return u=U9(t,l,e,n,r,!0),u.$reset=function(){const c=i?i():{};this.$patch(d=>{ws(d,c)})},u}function U9(t,e,n={},r,i,o){let s;const a=ws({actions:{}},n),u={deep:!0};let l,f,c=rl([]),d=rl([]),h;const p=r.state.value[t];!o&&!p&&(r.state.value[t]={}),Tr({});let v;function m(_){let T;l=f=!1,typeof _=="function"?(_(r.state.value[t]),T={type:Tc.patchFunction,storeId:t,events:h}):(G0(r.state.value[t],_),T={type:Tc.patchObject,payload:_,storeId:t,events:h});const j=v=Symbol();RA().then(()=>{v===j&&(l=!0)}),f=!0,Mu(c,T,r.state.value[t])}const g=W9;function y(){s.stop(),c=[],d=[],r._s.delete(t)}function b(_,T){return function(){Iv(r);const j=Array.from(arguments),O=[],S=[];function N(q){O.push(q)}function A(q){S.push(q)}Mu(d,{args:j,name:_,store:w,after:N,onError:A});let $;try{$=T.apply(this&&this.$id===t?this:w,j)}catch(q){throw Mu(S,q),q}return $ instanceof Promise?$.then(q=>(Mu(O,q),q)).catch(q=>(Mu(S,q),Promise.reject(q))):(Mu(O,$),$)}}const k={_p:r,$id:t,$onAction:tA.bind(null,d),$patch:m,$reset:g,$subscribe(_,T={}){const j=tA(c,_,T.detached,()=>O()),O=s.run(()=>mc(()=>r.state.value[t],S=>{(T.flush==="sync"?f:l)&&_({storeId:t,type:Tc.direct,events:h},S)},ws({},u,T)));return j},$dispose:y},w=Zo(ws({},k));r._s.set(t,w);const C=r._e.run(()=>(s=xA(),s.run(()=>e())));for(const _ in C){const T=C[_];if(yr(T)&&!vee(T)||aa(T))o||(p&&pee(T)&&(yr(T)?T.value=p[_]:G0(T,p[_])),r.state.value[t][_]=T);else if(typeof T=="function"){const j=b(_,T);C[_]=j,a.actions[_]=T}}return ws(w,C),ws(Cn(w),C),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:_=>{m(T=>{ws(T,_)})}}),r._p.forEach(_=>{ws(w,s.run(()=>_({store:w,app:r._a,pinia:r,options:a})))}),p&&o&&n.hydrate&&n.hydrate(w.$state,p),l=!0,f=!0,w}function zo(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(a,u){const l=zp();return a=a||l&&Wd(H9),a&&Iv(a),a=V9,a._s.has(r)||(o?U9(r,e,i,a):mee(r,i,a)),a._s.get(r)}return s.$id=r,s}function ps(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const i=t(this.$pinia),o=e[r];return typeof o=="function"?o.call(this,i):i[o]},n),{})}const J9=["music","ambiant","sound"],Q0=cee(J9),Jr=zo("audio",{state:()=>{const t=new Map;for(const e in Q0)t.set(e,{channels:[],options:{volume:1}});return{modes:t,masterVolume:1}},actions:{stopAll(){this.modes.forEach(t=>{t.channels.forEach((e,n)=>{e&&(this.actuallyStopChannel(e),t.channels[n]=null)})})},async stopChannel(t,e){const n=this.getAudioChannel(t,e);if(!!n){if(this.setAudioChannel(t,e,null),vt().audioOptions.musicFadeOutTime){const r=Fu(n.audio);r&&r.fade(r.volume(n.howlerId),0,vt().audioOptions.musicFadeOutTime*1e3,n.howlerId),await Mi(vt().audioOptions.musicFadeOutTime*1e3)}this.actuallyStopChannel(n)}},async pauseChannel(t,e){const n=this.getAudioChannel(t,e);if(!n)return;const r=Fu(n.audio);if(!r){Ln(`Could not find audio ${n.audio}`);return}r.pause(n.howlerId)},async playChannel(t,e,n){const r=this.getAudioChannel(t,n);if(t==="sound")return this.actuallyPlayChannel(t,n,e);r&&r.audio!==e?await this.changeChannel(t,e,n):r&&r.audio===e||await this.actuallyPlayChannel(t,n,e)},async changeChannel(t,e,n){this.getAudioChannel(t,n)&&t!=="sound"&&await this.stopChannel(t,n),await this.actuallyPlayChannel(t,n,e)},actuallyStopChannel(t){bee(t.audio,t.howlerId)},getAudioChannel(t,e){return this.modes.get(t).channels[e]||null},setAudioChannel(t,e,n){this.modes.get(t).channels[e]=n},async actuallyPlayChannel(t,e,n){const r=Fu(n);if(!r){Ln(`Could not find audio ${n}`);return}if(t!=="sound"){const i=r.play();r.volume(0,i),r.pause(i),this.setAudioChannel(t,e,{audio:n,howlerId:i}),await Mi(vt().audioOptions.musicFadeInDelay*1e3);const o=this.getAudioChannel(t,e);o!==null&&o.audio===n&&(r.play(i),r.fade(0,this.modeVolume(t),vt().audioOptions.musicFadeInTime*1e3,i))}else if(t==="sound"){const i=r.play();r.volume(this.modeVolume(t),i),this.setAudioChannel(t,e,{audio:n,howlerId:i})}},reloadAudio(t){for(const e in t.modes){if(e==="sound")continue;const n=e;this.modes.get(n).options=t.modes[n].options;for(const r in t.modes[n].channels){const i=t.modes[n].channels[r];i&&(this.actuallyPlayChannel(n,Number(r),i.audio),this.setAudioChannel(n,Number(r),i))}}},stopSound(t){const e=Fu(t);e&&e.stop()},generateSaveData(){const t={};for(const e in Q0)t[e]=this.modes.get(e);return{modes:t,masterVolume:this.masterVolume}},loadSaveData(t){this.masterVolume=t.masterVolume},reset(){this.stopAll()},setModeVolume(t,e){const n=this.modes.get(t);n.options.volume=e;for(const r in n.channels){const i=n.channels[r];if(i){const o=Fu(i.audio);o&&o.volume(this.modeVolume(t),i.howlerId)}}},setMasterVolume(t){this.masterVolume=t,ha.Howler.volume(t)},modeVolume(t){return this.masterVolume*this.modes.get(t).options.volume}}}),K9={};ha.Howler.volume(.5);let Y0={};async function gee(t){To.log("Loading audio");const e=[];ha.Howler.volume(t.audioOptions.volume);for(const n in t.music){const r={loop:!0,...t.music[n]};t.audio[n]=r,console.warn("Music config is deprecated, instead you can now add musics to the `audio` config as they behave the same as other sounds!")}for(const n in t.sound)t.audio[n]=t.sound[n];for(const n in t.audio){const r=t.audio[n];r.src||(r.src=r.path,r.path||console.error(`Audio config for ${n} doesn't have any \`src\` value to find the file`),console.warn("Using `path` for audio and musics is deprecated. Please replace `path` with `src` in your config file!")),e.push(yee(n,t.audio[n]))}return t.audioTriggers&&(Y0=t.audioTriggers),Promise.all(e)}function xp(t){Y0[t]&&Jr().playChannel("sound",Y0[t],0)}async function yee(t,e){return new Promise((n,r)=>{To.log(`Loading audio ${e.src}`);const i=new ha.Howl({...e,src:bu(e.src)});i.load(),K9[t]=i,n()})}function bee(t,e){const n=Fu(t);if(!n){Ln(`Could not find music ${t}`);return}n.stop(e)}function Fu(t){return K9[t]}let Ib;function kee(t){Ib=t}function Nb(t){return Ib.characters[t]}function wee(t,e){const n=Nb(t);if(e||(e="default"),n.sprites)return`${Ib.config.imagesPath}${n.sprites[e]}`}function Fd(t){return t?Nb(t).style||{}:{}}const nA={};let rA=0,iA=0;function xee(t){return To.log("Loading images"),new Promise((e,n)=>{if(Object.keys(t.images).length<1){e();return}for(const r in t.images){const i=t.images[r];qd(r,i,e,n)}for(const r in t.screens){const i=t.screens[r];if(i.background&&!t.images[i.background]&&qd(i.background,i.background,e,n),i.buttons)for(const o in i.buttons){const s=i.buttons[o];typeof s=="object"&&s.background&&!t.images[s.background]&&qd(s.background,s.background,e,n)}}for(const r in t.buttons){const i=t.buttons[r];typeof i=="object"&&i.background&&!t.images[i.background]&&qd(i.background,i.background,e,n)}})}function qd(t,e,n,r){if(nA[t])return;rA++,To.log(`Loading image ${t} at ${e}`);const i=new Image;i.onload=()=>{iA+=1,nA[t]=i,To.log(`Loaded image ${t} successfully`),iA>=rA&&(To.log("All images loaded"),n())},i.onerror=o=>{Ln(`Failed to load image ${t} at ${e}`,o),r(o)},i.src=bu(e)}function Vf(){return`${Date.now()}-${Math.floor(Math.random()*1e11)}-${Math.floor(Math.random()*1e11)}`}const G9="gameSave",jp="###_--_~=:;_JUMP",Lb="###_--_~=:;_RETURN",jee="###_--_~=:;_OK",_p="###_--_~=:;_STOP";function _ee(t){return t===jp||t===Lb||t===jee||t===_p}function oA(t){if(typeof t=="object"){const e=t;if(e.version||!e.slots)return!0;if(e.slots)return!1}throw new Error("Invalid save file")}const See=(t,e)=>{const n={};for(const r in t)n[r]=e(t[r]);return n},sA=(t,e)=>{const n={};for(const r in t)e(t[r])&&(n[r]=t[r]);return n},Cee="1.3.0";let Xn;function Pc(){var t;if(Xn)return Xn;if(Xn)throw new Error("Invalid save file");{const e=localStorage.getItem(G9);if(e&&typeof JSON.parse(e)=="object"){const n=JSON.parse(e);try{if(oA(n))Xn={slots:[n],slotsCounter:1};else if(n&&!oA(n))Xn=n,Xn.slotsCounter=(t=Xn.slotsCounter)!=null?t:0;else throw new Error("Invalid save file")}catch{Xn={slots:[],slotsCounter:0}}}else Xn={slots:[],slotsCounter:0}}return Xn.slots=Xn.slots.filter(e=>e!==null),Xn.slots.forEach((e,n)=>Tee(e,n)),Xn}function aA(t,e){const n=Aee(e);Xn.slots[n]?Xn.slots[n]=t:(Xn.slotsCounter++,Xn.slots.push(t)),Db()}function $ee(t){Xn.lastSaveSlot=t}function Db(){localStorage.setItem(G9,JSON.stringify(Xn))}function Q9(){return Vf()}function Aee(t){return Xn.slots.findIndex(e=>e.metadata.id===t)}function Sp(t){return Xn.slots.find(e=>e.metadata.id===t)}function uA(){return Xn.slots.find(t=>t.metadata.slotType==="auto")}function Oee(t){const e=Xn.slots.findIndex(n=>n.metadata.id===t);Xn.slots.splice(e,1),Db()}function Eee(t,e){const n=Sp(t);n&&(n.metadata.name=e),Db()}function Tee(t,e){if(!!t){if(t.version==="1.0.0"&&(t.metadata={saveDate:new Date().toISOString()},t.version="1.1.0"),t.version==="1.1.0"){const n=t;if(n.audio.currentMusic){const r=lA();r.modes.music.channels[0]={audio:n.audio.currentMusic,howlerId:0},t.audio=r}else t.audio=lA();t.version="1.2.0"}t.version==="1.2.0"&&(t.metadata.name=`Game Save ${e+1}`,t.metadata.slotType="auto",t.metadata.id=Vf(),t.metadata.createdCounter=e,t.version="1.3.0")}}function Pee(){return{saveDate:new Date().toISOString(),name:"New Save",slotType:"auto",id:Vf(),createdCounter:Xn.slotsCounter+1}}function lA(){var e;return{modes:See(Q0,n=>({channels:[],options:{volume:1}})),masterVolume:(e=vt().audioOptions.volume)!=null?e:1}}var Mee=function(e){return Iee(e)&&!Nee(e)};function Iee(t){return!!t&&typeof t=="object"}function Nee(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Ree(t)}var Lee=typeof Symbol=="function"&&Symbol.for,Dee=Lee?Symbol.for("react.element"):60103;function Ree(t){return t.$$typeof===Dee}function Bee(t){return Array.isArray(t)?[]:{}}function vf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?wl(Bee(t),t,e):t}function zee(t,e,n){return t.concat(e).map(function(r){return vf(r,n)})}function Fee(t,e){if(!e.customMerge)return wl;var n=e.customMerge(t);return typeof n=="function"?n:wl}function qee(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function cA(t){return Object.keys(t).concat(qee(t))}function Y9(t,e){try{return e in t}catch{return!1}}function Vee(t,e){return Y9(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Hee(t,e,n){var r={};return n.isMergeableObject(t)&&cA(t).forEach(function(i){r[i]=vf(t[i],n)}),cA(e).forEach(function(i){Vee(t,i)||(Y9(t,i)&&n.isMergeableObject(e[i])?r[i]=Fee(i,n)(t[i],e[i],n):r[i]=vf(e[i],n))}),r}function wl(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||zee,n.isMergeableObject=n.isMergeableObject||Mee,n.cloneUnlessOtherwiseSpecified=vf;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):Hee(t,e,n):vf(e,n)}wl.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return wl(r,i,n)},{})};var Wee=wl,Cp=Wee;const Os=zo("hud",{state:()=>({hudStats:{}}),actions:{setupHudStats(t){for(const e in t)this.hudStats[e]={value:t[e].startingValue}},setStat(t,e){this.hudStats[t].value=e},addStat(t,e){this.hudStats[t].value+=e},getStat(t){return this.hudStats[t]},getStatValue(t){return this.hudStats[t].value},generateSaveData(){return{hudStats:this.hudStats}},loadSaveData(t){this.hudStats=Cp(this.hudStats,t.hudStats)}}}),so=zo("notifications",{state:()=>({notifications:{},enabled:!0}),actions:{async addNotification(t){if(!this.enabled)return;t=Bb(t);const e=`${Date.now()}-${Math.random()*1e4}`;this.notifications[e]={text:t},vt().notifications.alsoPrintInDialogue&&lN(`[NOTIFICATION] ${t}`),await Mi(vt().notifications.timeOnScreen*1e3),this.deleteNotification(e)},deleteNotification(t){delete this.notifications[t]},disableNotifications(){this.enabled=!1;for(const t in this.notifications)this.deleteNotification(t)},enableNotifications(){this.enabled=!0}}}),Fr=zo("inventory",{state:()=>({items:{},interactionTags:{}}),actions:{generateSaveData(){return{items:this.items,interactionTags:this.interactionTags}},loadSaveData(t){this.items={...this.items,...t.items},this.interactionTags={...t.interactionTags}},setupItems(t){Object.keys(t).forEach(e=>{this.items[e]={amount:0,id:e}})},hasItem(t,e){var n;return e||(e=1),((n=this.items[t])==null?void 0:n.amount)>=e},getExistingItem(t){return this.items[t]},getItemAmount(t){var e;return((e=this.getExistingItem(t))==null?void 0:e.amount)||0},add(t){const e=this.getExistingItem(t.id);e?e.amount+=t.amount:this.items[t.id]={...t},so().addNotification(`Received item: ${eA(t.id).name} x ${t.amount}`)},enableInteraction(t){t||(t="default"),this.interactionTags[t]={blockedInteraction:!1}},disableInteraction(t){t||(t="default"),this.interactionTags[t]={blockedInteraction:!0}},onScriptStart(){const t=vt().interactionTags;Object.keys(t).forEach(e=>{t[e].onlyInteractOutsideOfScripts&&this.disableInteraction(e)})},onScriptEnd(){const t=vt().interactionTags;Object.keys(t).forEach(e=>{t[e].onlyInteractOutsideOfScripts&&this.enableInteraction(e)})},isInteractionTagBlocked(t){return t||(t="default"),this.interactionTags[t]?this.interactionTags[t].blockedInteraction:!1},remove(t){const e=this.getExistingItem(t.id);e&&(e.amount-=t.amount,so().addNotification(`Lost item: ${eA(t.id).name} x ${t.amount}`),e.amount<=0&&this.deleteItem(t.id))},deleteItem(t){this.getExistingItem(t)&&(this.items[t].amount=0)}}}),hi=zo("quests",{state:()=>({quests:{}}),actions:{getQuest(t){const e=this.quests[t];if(e)return e;{const n=`Quest ${t} doesn't exist!`;throw Ln(n),new Error(n)}},getObjective(t,e){const n=this.getQuest(t);if(!n){const o=`Quest ${t} doesn't exist!`;throw Ln(o),new Error(o)}const r=n.objectives[e];if(r)return r;const i=`Objective ${e} doesn't exist in quest ${t}!`;throw Ln(i),new Error(i)},setupQuests(t){for(const e of Object.keys(t)){const n=t[e];this.quests[e]={id:e,state:"hidden",objectives:{}};for(const r of Object.keys(n.objectives)){const i=n.objectives[r];this.quests[e].objectives[r]={id:r,state:i.hidden?"hidden":"unlocked"}}}},startQuest(t){const e=this.getQuest(t);e?(e.state="unlocked",so().addNotification(`Started quest: ${wp(t).title}`)):Ln(`Quest ${t} doesn't exist!`)},startObjective(t,e){const n=this.getObjective(t,e);n?(n.state="unlocked",so().addNotification(`New quest objective: ${J0(t,e).description}`)):Ln(`Objective ${e} doesn't exist in quest ${t}!`)},completeObjective(t,e){const n=this.getObjective(t,e);n?(n.state="completed",so().addNotification(`Completed quest objective: ${J0(t,e).description}`)):Ln(`Objective ${e} doesn't exist in quest ${t}!`)},completeQuest(t,e){const n=this.getQuest(t);n?(n.state="completed",n.ending=e,so().addNotification(`Completed quest: ${wp(t).title}`)):Ln(`Quest ${t} doesn't exist!`)},isQuestCompleted(t){const e=this.getQuest(t);return e?e.state==="completed":!1},isObjectiveCompleted(t,e){const n=this.getObjective(t,e);return n?n.state==="completed":!1},isQuestStarted(t){const e=this.getQuest(t);return e&&e.state==="unlocked"},isObjectiveStarted(t,e){return this.getObjective(t,e).state==="unlocked"},removeQuest(t){delete this.quests[t]},generateSaveData(){return{quests:{...this.quests}}},loadSaveData(t){this.quests=t.quests}}}),is=zo("screens",{state:()=>({layers:[{screen:"default"}],buttons:{}}),actions:{setScreen(t,e,n){return new Promise(r=>{var s,a,u,l;const i=this.layers[e||0];let o;if(i){if(i.screen===t){r();return}if(n){const f=uee(n.transition),c=(a=(s=n.duration)!=null?s:f.duration)!=null?a:500,d=(l=(u=n.delay)!=null?u:f.delay)!=null?l:0;o={...n,resolve:r,duration:c,delay:d,oldScreen:i.screen}}}this.layers[e||0]={screen:t,transition:o},n||r()})},finishTransition(t){var e;if((e=this.layers[t])!=null&&e.transition){const n=this.layers[t].transition.resolve;delete this.layers[t].transition,n()}},transitionScreen(t,e,n){return this.setScreen(t,n!=null?n:0,e)},emptyLayer(t){delete this.layers[t]},setButtons(t){const{buttons:e,screens:n,images:r}=t;for(const i in e)this.buttons[i]={state:e[i].enabled};for(const i in n)if(n[i].buttons){const o=n[i];o.background&&r[o.background]&&(o.background=r[o.background]);for(const s in o.buttons){const a=o.buttons[s];typeof a=="object"&&(e[a.id]=a,o.buttons[s]=a.id,this.buttons[a.id]={state:a.enabled})}}},changeButton(t,e){this.buttons[t].state=e},generateSaveData(){return{layers:this.layers.map(t=>t.screen),buttons:this.buttons}},loadSaveData(t){this.layers=t.layers.map(e=>({screen:e})),this.buttons=Cp(this.buttons,t.buttons)}}}),X9=new TO;X9.setupDebugger(!1);const eo=X9.logger;function Uee(t,e,n){const r={fileName:n,currentLine:0,error:(s,a)=>t(r,s,a),processCommandsFunction:X0,indentSize:0};r.indentSize=tte(r,e);const i=Xee(r,e);r.currentLine=0,eo.log(i);const o={};for(const s of i){s.code.search(":")===-1&&r.error(s.line,"First indentation level should only be used to specify labels");const u=s.code.replace(":","").split(/ +/g),l=u[0],f=u.slice(1);s.branch||r.error(s.line,"This line should have a branch but doesn't"),o[l]={branch:X0(r,s.branch,void 0),args:f}}return o}function X0(t,e,n){const r=t.currentLine,i={processCommandsFunction:X0,parserContext:t,lines:e,currentLine:0,line:e[0]},o=[];if(!e){let s=0;return n&&(s=n.line),t.error(s,"Processing of command failed because the current branch has no lines inside"),[]}for(;i.currentLine<e.length;){const s=e[i.currentLine];i.line=s;const a=Z9(t,s,s.expression),u=qr.commands[a.command.operator];let l=u==null?void 0:u.parser;l||(l=qr.commands.text.parser),eo.log(qr.commands.text);const{newLine:f}=l(i,a);i.currentLine=f,t.currentLine=r+f,o.push(a)}return o}function Z9(t,e,n){eo.log(n),typeof n[0]!="string"&&t.error(e.line,"Expression operator should be a string");const r={code:e.code,fileName:t.fileName,line:e.line,command:{staticOptions:{},commandType:n[0],operator:n[0],args:n.slice(1).map(s=>Jee(t,e,s)),options:{}}},i=n[0];if(!qr.commands[i]){const s=["else","success","failure"];!rte(i)&&!s.includes(i)&&t.error(e.line,`Unknown command ${i}`)}return r}function Jee(t,e,n){return Array.isArray(n)?Z9(t,e,n):n}function Kee(t){return t==="true"?!0:t==="false"?!1:t==="undefined"?void 0:t===null?null:isNaN(Number(t))?t:Number(t)}function Gee(t,e){e.charAt(e.length-1)===":"&&(e=e.substr(0,e.length-1));const n=Qee(e),[r]=eN(t,n);return r}function Qee(t){const e=/(["'])(?:\\\1|.)*?\1/g,n=[];let r;for(;(r=e.exec(t))!=null;)n.push(r);let i=0,o=[];for(const s of n){const a=s.index;if(a>i){const l=t.substr(i,a-i),f=fA(l);o=[...o,...f]}const u=s[0].replace(/\\/g,"");o.push(`$$"${u.substring(1,u.length-1)}`),i=a+s[0].length}return o=[...o,...fA(t.substr(i))],o.push(")"),o}function fA(t){t=t.replace(/: *$/g,"");let e=t.split(" ").filter(n=>n);return e=e.reduce((n,r)=>[...n,...r.split(/(\(|\))/g)].filter(i=>i&&i),[]),e.map(n=>Kee(n))}function eN(t,e){eo.log("===============");let n=[],r=0,i=dA(e)+r,o=Um(e)+r;for(eo.log(`Parsing expression: ${e}`),eo.log(`Parenthesis start index: ${i} - end: ${o}`);i!==-1&&o>i;){n=[...n,...e.slice(r,i)];const u=e.slice(i+1);eo.log(`Found a sub expression. Before: ${n} - After: ${u}`),r=i;const[l,f]=eN(t,u),c=r+f;n.push(l),r=c+1;const d=e.slice(r);eo.log(`Sub expression came back: ${l} - rest of string: ${d}`),i=dA(d),i!==-1&&(i+=r),o=Um(d),o!==-1&&(o+=r)}o!==-1&&eo.log("Found parenthesis end before new opening parenthesis, close this expression");const s=Um(e.slice(r))+r;if(s===-1)return t.error(t.currentLine,'Expression is not closed (missing ")" closing parenthesis)'),[n,s];const a=e.slice(r,s);return eo.log(`End of expression: ${s} - ${a}`),eo.log("==================="),n=[...n,...a],Yee(t,n),[n,s+1]}function Yee(t,e){e.length<1&&t.error(t.currentLine,"Expression is empty")}function dA(t){return t.findIndex(e=>e==="(")}function Um(t){return t.findIndex(e=>e===")")}function Xee(t,e){const n=e.split(/\r?\n|$/).map(i=>{const o=i.search(/ *\/\//g);return o!==-1?i.substr(0,o):i});return tN(t,n,0,0).lines}function tN(t,e,n,r){let i=!0,o=n;const s=[];for(;i&&!(o>=e.length);){let a=e[o];if(a.search(/^\s*$/)!==-1)o++;else{const u=ete(t,a);if(a=a.substring(u*t.indentSize),Zee(t,u,o),u<r)i=!1;else if(u>r){(s.length===0||u-r!==1)&&t.error(o,"Wrong double indentation");const l=tN(t,e,o,u);s[s.length-1].branch=l.lines,o=l.endLine}else{const l=Gee(t,a),f={code:a,indentation:u,line:o,expression:l};s.push(f),o++,t.currentLine=o}}}return{lines:s,endLine:o}}function Zee(t,e,n){e%1!==0&&t.error(n,`Indentation level of ${e} incorrect. Expected indentation of ${t.indentSize} spaces for this file.`)}function ete(t,e){return e.search(/[^ ]/)/t.indentSize}function tte(t,e){const n=/\n( *)/,r=e.match(n);return!r||r.length<2?(t.error(0,"Can't detect indentation level. Make sure you indent with at least 2 spaces and consistently"),0):(eo.log(r),r[1].length)}const kn=zo("vm",{state:()=>({stack:[],data:{},lastLabel:"main",script:{},labelStack:["main"],commandsWaitingForPlayerAnswer:[],hasJumped:!1}),actions:{generateSaveData(){return{lastLabel:this.lastLabel,data:this.data}},loadSaveData(t){this.lastLabel=t.lastLabel,this.data=t.data},setReturnValue(t){this.currentFrame.returnValue=t},waitForPlayerAnswer(t){this.commandsWaitingForPlayerAnswer.push(t)},popAnswerQueue(){return this.commandsWaitingForPlayerAnswer.pop()},addScopedVariable(t,e){this.currentFrame&&(this.currentFrame.scope[t]=e)},async loadScripts(t){const e=[];for(const s of t)e.push(Mb(bu(s)));const n=await Promise.all(e),r=Date.now();let i={};for(const s in n){const a=n[s];i={...i,...Uee((u,l,f)=>vte(u,l,f),a,t[s])}}const o=Date.now();To.log(`script parsed in ${o-r} ms`),this.setScript(i)},start(){this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"}),this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"})},setLastLabel(t){this.lastLabel=t},reset(){this.stack=[],this.data={},this.hasJumped=!0,this.setStack({currentIndex:0,branchData:{branch:this.script.main.branch},label:"main"})},setScript(t){this.script=t},overrideData(t){this.data=t},setStack(t){this.stack=[];const e=this.frameOptionsToFrame(t);this.lastLabel=t.label,this.stack.push(e)},frameOptionsToFrame(t){const e=t.branchData,n={...t,blocks:[],scope:{},returnValue:null};if(this.addBlock(n,{branchData:e,currentIndex:t.currentIndex}),t.scope&&(n.scope=t.scope),t.args&&t.branchData.args)for(const[r,i]of t.branchData.args.entries())t.args.length>r&&(n.scope[i]=t.args[r]);return n},addBlock(t,e){t.blocks.push(e)},async addAndRunBlock(t){const e=this.currentFrame;if(!e)throw new Error("No frame to add block to");return this.addBlock(e,t),await this.runBlock()},setData(t,e){const n=xl();nN(n,t,e)},addInstruction(t,e){const n=xl();rN(n,t,e)},addFrame(t){if(!t.label)if(this.currentFrame)t.label=this.currentFrame.label;else throw new Error("Tried to add a new frame but no label was passed and there is no current frame label");const e=this.frameOptionsToFrame(t);this.stack.push(e)},async addAndRunFrame(t){return await this.addFrame(t),await this.runFrame()},async runFrame(){if(!this.currentFrame)throw new Error("Tried to run a frame but there is no current frame");let e;for(;this.currentBlock;){const n=await this.runBlock();if(n===jp||n===_p)return this.cleanFrame(),n;if(n===Lb)return this.cleanFrame()}return this.cleanFrame(),e},cleanFrame(){const t=this.currentFrame,{returnValue:e}=t;return this.stack.splice(this.stack.length-1,1),e},async runBlock(){const t=this.currentBlock;if(!t)throw new Error("Tried to run a block but there is no current block");let e;for(;this.currentLine;){if(e=await this.runLineOnly(),_ee(e))return this.cleanBlock(),e;t.currentIndex++}return this.cleanBlock(),e},cleanBlock(){this.currentFrame.blocks.splice(this.currentFrame.blocks.length-1,1)},async runGame(){let t=await this.runFrame();for(;t===jp;){const e=this.jumpTarget;if(!e){Ln("Tried to jump but no target was set");return}this.hasJumped=!0,this.setStack(e),await Qt().autoSaveGame({}),t=await this.runFrame()}t!==_p&&this.stack.length===0&&this.reachedEndOfScript()},async nextLineOnly(){return this.stack.length===0||this.isBlockFinished()?!1:(this.currentBlock.currentIndex++,!0)},isBlockFinished(){return!this.currentBlock||this.currentBlock&&this.currentBlock.currentIndex>=this.currentBlock.branchData.branch.length},reachedEndOfScript(){if(vt().gameFlow.labelToJumpOnScriptEnd&&this.lastLabel!==vt().gameFlow.labelToJumpOnScriptEnd){this.jumpToLabel(vt().gameFlow.labelToJumpOnScriptEnd);return}if(Fr().onScriptEnd(),Qt().options.debug){const e=_i();vt().debugging.showScriptFinishedMessage&&e.addDialog({speaker:"game",text:"[DEBUG] Game Script is finished. This is the end of the game flow. This message only appears in debug mode."})}},async runLineOnly(){const t=this.currentLine;if(!t){Ln("There is no line of script to run.");return}return Fr().onScriptStart(),await cN(t)},async runLabelFunction(t,...e){const n=this.script[t];if(!n){Ln(`Tried to run a label that doesn't exist: ${t}`);return}const r={currentIndex:0,branchData:n,label:t,args:e};return this.addAndRunFrame(r)},runCustomFrame(t){this.addAndRunFrame(t)},async jumpToLabel(t,...e){const n=this.script[t];if(!n){Ln(`Label ${t} doesn't exist. Is the file with this label added in the list of script files to load in the config?`);return}t!==this.lastLabel&&(this.hasJumped=!0),this.setLastLabel(t),this.setStack({currentIndex:0,branchData:n,args:e,label:t}),await Qt().autoSaveGame({}),this.runGame()},async runThenGoBackToPreviousDialog(t,...e){const n=_i(),r=n.dialog[n.dialog.length-1],i=await this.runLabelFunction(t,...e);return n.dialog.push(r),i}},getters:{currentFrame(t){return t.stack[t.stack.length-1]},scope(){var t,e;return(e=(t=this.currentFrame)==null?void 0:t.scope)!=null?e:{}},currentBlock(){const t=this.currentFrame;return t?t.blocks[t.blocks.length-1]:void 0},currentLine(){const t=this.currentBlock;if(t&&t.branchData.branch.length>t.currentIndex)return t.branchData.branch[t.currentIndex]},commandWaitingForAnswer(){if(this.commandsWaitingForPlayerAnswer.length>0)return this.commandsWaitingForPlayerAnswer[0]}}});function Rb(t,e){const n=e.split(".");let r=t;const i=n.length-1;let o=n[0],s=0;for(s=0;s<i;s++)o=n[s],r[o]||(r[o]={}),r=r[o];return o=n[s],[r,o]}function nte(t,e){const n=e.split(".");let r=t;const i=n.length-1;let o=n[0],s=0;for(s=0;s<i;s++)o=n[s],r[o]||(r[o]={}),r=r[o];return o=n[s],typeof r[o]>"u"&&(r[o]=null),[r,o]}function nN(t,e,n){const[r,i]=Rb(t,e);r[i]=n}function rN(t,e,n){const[r,i]=Rb(t,e),o=r[i]||0;r[i]=n+o}function xl(){const t=kn(),e=Mr(),n=is(),r=Fr(),i=kn().scope,o={data:t.data,skills:e.skills,buttons:n.buttons,items:r.items,quests:hi().quests,stats:Os().hudStats,scope:i,config:vt(),gameOptions:Qt().options};return new Proxy(o,{get:(a,u,l)=>{const f=kn().scope,c=kn().data;return typeof f[u]<"u"?f[u]:typeof c[u]<"u"?c[u]:Reflect.get(a,u,l)},set:(a,u,l,f)=>{const c=kn().scope,d=kn().data;if(typeof c[u]<"u")c[u]=l;else{if(typeof a[u]<"u")return Reflect.set(a,u,l,f);typeof l=="object"?d[u]={}:d[u]=l}return!0}})}function Bb(t){return t.replace(/%{[^}]*}/g,e=>{const n=e.substr(2,e.length-3),r=xl(),[i,o]=Rb(r,n);return i[o]})}const iN=/\$\$"/,rte=t=>typeof t=="string"&&t.search(iN)===0,_i=zo("dialog",{state:()=>({dialog:[]}),actions:{generateSaveData(){return{dialog:this.dialog}},loadSaveData(t){this.dialog=t.dialog},addDialog(t){var e;this.dialog.push({...t,interactive:(e=t.interactive)!=null?e:!1,id:Vf(),text:Bb(t.text)})},clearDialog(){this.dialog.splice(0,this.dialog.length)},reset(){this.dialog=[]}},getters:{currentDialog(){return this.dialog[this.dialog.length-1]}}});function ite(t,e){return t-e*vt().skillChecks.skillMultiplier}function oN(t,e){const n=ite(t,e),r=vt().skillChecks;let i=!1,o=0,s=r.difficultyText[0][1];for(;!i;)r.difficultyText.length>o&&n>=r.difficultyText[o][0]?s=r.difficultyText[o][1]:i=!0,o++;return s}function ote({skill:t,skillCheckId:e,value:n}){const r=Mr(),i=r.getSkillCheck(e),o=q9(t),s=r.skills[t].level,a=oN(n,s);let u=!0,l=`<span class='skill-check'>[<span class='skill-check-name'>${o.name}</span> - `;return i.happened?i.succeeded?l="":(u=!1,l+=` <span class='skill-check-difficulty'>${a}</span> - <span class='skill-check-failed'>FAILED</span>]</span>`):l+=` <span class='skill-check-difficulty'>${a}</span>]</span>`,{difficultyText:l,allowed:u}}function ste(t,e){const n=Mr(),r=q9(e.skill),i=oN(e.value,n.skills[e.skill].level);return`<span class='passive-skill-check skill-check'>[<span class='skill-check-name'>${r.name}</span> - <span class='skill-check-difficulty'>${i}</span> - ${t?'<span class="skill-check-success">Success</span>':'<span class="skill-check-failed">Failure</span>'}]</span>`}function ate(t){const{skillChecks:e}=vt(),n=Mr(),r=Math.floor(Math.random()*e.rollRange),i=n.skills[t].level*e.skillMultiplier,o=r+i;return To.log(`[SKILL CHECK] Roll: ${o}. (Base roll: ${r}, modifier: ${i} - Skill level: ${n.skills[t].level})`),{roll:o,unmodifiedRoll:r}}function ute(t){const{skills:e,skillChecks:n}=vt();let r=!0;const{roll:i}=ate(t.skill);i<=n.failureChance-1&&(r=!1);const o=e[t.skill];return i<t.value&&(r=!1),To.log(`[SKILL CHECK ${o.name}]: ${r?"\u2705":"\u274C"}`,`(${t.id}) - ${i}/${t.value}`),xp(r?"onSkillCheckSuccess":"onSkillCheckFailure"),r}function sN(t){const e=Mr(),n=e.getSkillCheck(t.id);if(n&&n.happened)return n;const r=ute(t);return lN(ste(r,t)),r?e.passSkillCheck(t.id,t.hideAfterRoll):e.failSkillCheck(t.id,t.hideAfterRoll),e.getSkillCheck(t.id)}function lte(t){const e=t.options,n=t.staticOptions,r=!!e.condition;if(To.log(r),r)return n.success;if(!r&&n.failure)return n.failure}function aN(t){return typeof t=="object"}function uN(t){return typeof t=="string"&&t.search(/\$/)===0}function lN(t){const e={speaker:"game",text:t,interactive:!1};_i().addDialog(e)}async function zb(t){_i().addDialog(t)}function cte(t,e){if(e<t.length)return t[e]}class fte{constructor(){Qi(this,"plugins",[]);Qi(this,"commands",{})}addCommand(e){this.commands[e.keyword]=e}addPlugin(e){if(this.plugins.push(e),e.customCommands)for(const n of e.customCommands)this.addCommand(n)}callHook(e,...n){for(const r of this.plugins)typeof r[e]=="function"&&r[e](...n)}}const qr=new fte;async function cN(t,e){var r;const n=kn();try{return await Fb(t,e)}catch(i){console.error(i),console.error(t),Ln(`Narrat script runtime error at  <span class="error-filename">${t.fileName}:${t.line+1}</span>
      <b>${i}</b>
      Script: ${t.code}
      Label: ${((r=n.currentFrame)==null?void 0:r.label)||"none"}`)}}async function dte(t,e){const n=t.command,r=qr.commands[n.commandType];if(r){const i={args:[],options:{},operator:n.operator,staticOptions:n.staticOptions,code:t.code,commandType:n.commandType,fileName:t.fileName,line:t.line},o=r.argTypes;i.options={};for(const[s,a]of n.args.entries()){let u;if(aN(a))u=await Fb(a,e);else if(typeof a=="string")if(a.search(iN)===0)u=a.substring(3);else if(uN(a)){const l=xl(),f=nte(l,a.substring(1));if(f){const[c,d]=f;u=c[d]}else u=a}else u=a;else u=a;if(i.args.push(u),Array.isArray(o)&&o.length>s){const l=o[s];u!==null&&(i.options[l.name]=u)}}return i}else throw new Error(`${n.commandType} is not a valid command`)}async function Fb(t,e){const n=await dte(t,e),r=qr.commands[n.commandType];if(r)return await r.run(n,e);throw new Error(`${n.commandType} is not a valid command`)}async function hte(t){xp("onPlayerAnswered");const e=kn(),n=e.popAnswerQueue(),r=e.currentLine;try{if(n){const i=qr.commands[n.commandType];if(i)return await i.processPlayerAnswer(n,t)}}catch(i){console.error(i),Ln(`Error after player answer at ${r.fileName}:${r.line+1} (${r.code}<br /> - Error: ${i}`)}}const ku=zo("rendering",{state:()=>({screenHeight:window.innerHeight,screenWidth:window.innerWidth,canvasWidth:window.innerWidth,canvasHeight:window.innerHeight,renderRatio:1,topOffset:0,leftOffset:0,layoutMode:"horizontal"}),actions:{updateScreenSize(t,e,n){this.screenHeight=e,this.screenWidth=t,this.renderRatio=1,this.topOffset=0,this.leftOffset=0,t<vt().layout.verticalLayoutThreshold?this.layoutMode="vertical":this.layoutMode="horizontal"}}});class fN{constructor(){Qi(this,"listeners",{})}on(e,n){return this.listeners[e]||this.addEventToMap(e),this.listeners[e].add(n),n}off(e,n){return this.listeners[e]&&this.listeners[e].delete(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};return this.on(e,r)}emit(e,...n){this.listeners[e]&&this.listeners[e].forEach(r=>r(...n))}clear(){Object.keys(this.listeners).forEach(e=>{delete this.listeners[e]})}addEventToMap(e){this.listeners[e]=new Set}}class pte extends fN{}const Qt=zo("main",{state:()=>({ready:!1,playing:!1,errors:[],playTime:{start:0,previousPlaytime:0},saveSlot:"",options:{logging:!1,debug:!1},flowState:"engine-splash",modal:!1,paused:!1,appConfig:{baseAssetsPath:"",charactersPath:"data/characters.json",configPath:"data/config.json"},loading:{step:"Loading",percentage:.1,loaded:!1},alerts:[],saving:null,listener:new pte}),actions:{async setup(){var n;const t=vt(),e=t.scripts;Jr().setMasterVolume((n=t.audioOptions.volume)!=null?n:1),await kn().loadScripts(e),this.resetAllStores()},async engineLoading(){this.loading.step="Characters";const t=await Mb(this.appConfig.charactersPath);await kee(JSON.parse(t)),this.loading.percentage=.2,this.loading.step="Data",this.loading.percentage=.3,this.loading.step="Images",await xee(vt()),this.loading.percentage=.7,this.loading.step="Audio",await gee(vt()),qr.callHook("onAssetsLoaded"),this.loading.percentage=.95,this.loading.step="Starting...",await this.setup(),qr.callHook("onGameSetup"),this.loading.loaded=!0,this.listener.emit("gameLoaded")},async alert(t,e){return new Promise(n=>{this.alerts.push({title:t,text:e,resolver:n,id:Vf()})})},closeAlert(t){const e=this.alerts.findIndex(n=>n.id===t);e!==-1&&(this.alerts[e].resolver(),this.alerts.splice(e,1))},startMachine(){Jr().stopAll(),xp("onPressStart"),kn().start(),this.ready=!0,this.startPlaying(),qr.callHook("onGameStart"),this.setFlowState("playing")},setSaveSlot(t){this.saveSlot=t,$ee(t)},async startGame(t){if(vt().saves.mode==="manual"){const e=uA();e&&(t=e.metadata.id)}this.setSaveSlot(t),this.startMachine(),await this.autoSaveGame({slotId:t}),kn().runGame()},async loadGame(t,e){if(this.setSaveSlot(e),this.startMachine(),t&&(this.setLoadedData(t),Jr().reloadAudio(t.audio),kn().jumpToLabel(t.vm.lastLabel)),vt().saves.mode==="manual"){const n=uA();n&&this.setSaveSlot(n.metadata.id)}},manualSave({saveName:t,withPrompt:e}){return new Promise(n=>{kn().hasJumped?this.saving={name:t,withPrompt:e,resolver:n}:n()})},finishManualSave(t,e){var n,r;if(!this.saving){Ln("Trying to save but there is no saving request!");return}if(!e||!t){this.saving.resolver(),this.saving=null;return}this.saveData?(aA({...this.saveData,main:{...this.saveData.main,playTime:wh(this.playTime.start,this.playTime.previousPlaytime)},metadata:{...this.saveData.metadata,id:t.slotId,name:(r=(n=this.saving)==null?void 0:n.name)!=null?r:`Manual Save #${Pc().slotsCounter+1}`,slotType:"manual",saveDate:new Date().toISOString(),createdCounter:Pc().slotsCounter+1}},t.slotId),this.alert("Success","Game saved!")):Ln("There was no data to save!"),this.saving.resolver(),this.saving=null},playerAnswered(t){hte(t)},menuReturn(){this.reset(),this.setFlowState("menu"),vt().audioOptions.defaultMusic&&Jr().playChannel("music",vt().audioOptions.defaultMusic,0)},createError(t){this.errors.push({text:t})},clearErrors(){this.errors=[]},setFlowState(t){this.flowState=t},openModal(t){this.modal=t},closeModal(){this.modal=!1},toggleMenu(){this.modal?this.modal=!1:this.modal="menu"},pause(){this.paused=!0},unpause(){this.paused=!1},setOptions(t){this.options=t},startPlaying(){this.playing=!0,this.playTime.start=Date.now()},reset(){this.ready=!1,this.errors=[],this.modal=!1,this.paused=!1,kn().reset(),Jr().reset(),this.resetAllStores(),this.playing=!1,this.ready=!0},resetAllStores(){const t=is(),e=vt();t.setButtons(e),Mr().setupSkills(e.skills),Os().setupHudStats(e.hudStats),Fr().setupItems(e.items),hi().setupQuests(e.quests)},generateSaveData(){return{playTime:wh(this.playTime.start,this.playTime.previousPlaytime)}},loadSaveData(t){this.playTime.previousPlaytime=t.playTime},autoSaveGame({slotId:t,name:e}){const n=t!=null?t:this.saveSlot,r=Sp(n),i=Pee();r?(i.name=r.metadata.name,i.slotType=r.metadata.slotType):i.name=e!=null?e:`Autosave ${Pc().slotsCounter+1}`,vt().saves.mode==="manual"&&(i.name="Autosave",i.createdCounter=0),i.id=n;const o=is(),s=Mr(),a=_i(),u=kn(),l=Qt(),f=Os(),c=Jr(),d=Fr(),h={version:Cee,screen:o.generateSaveData(),skills:s.generateSaveData(),dialog:a.generateSaveData(),vm:u.generateSaveData(),main:l.generateSaveData(),hud:f.generateSaveData(),audio:c.generateSaveData(),inventory:d.generateSaveData(),quests:hi().generateSaveData(),metadata:i};this.saveData=h,aA(h,this.saveSlot)},setLoadedData(t){const e=is(),n=Mr(),r=_i(),i=kn(),o=Qt(),s=Os(),a=Jr(),u=Fr();e.loadSaveData(t.screen),n.loadSaveData(t.skills),r.loadSaveData(t.dialog),i.loadSaveData(t.vm),o.loadSaveData(t.main),s.loadSaveData(t.hud),a.loadSaveData(t.audio),u.loadSaveData(t.inventory),hi().loadSaveData(t.quests)},getAllStates(){return{main:this,screens:is(),skills:Mr(),dialog:_i(),vm:kn(),hud:Os(),audio:Jr(),rendering:ku(),notifications:so(),inventory:Fr(),quests:hi()}},overrideStates(t){const e=this.getAllStates();for(const n in t){const r=t[n];Object.assign(e[n],r)}}},getters:{isInGame(t){return t.flowState==="playing"}}});function vte(t,e,n){console.error(`Parser error: ${t.fileName}:${t.currentLine}`,n);const r=`[Parser Error] in <span class="error-filename">${t.fileName}:${e+1}</span> - <b>${n}</b>`;Ln(r)}function Ln(t,...e){const n=Qt();console.error(t,...e),t=t.replace(/[\r\n]/g,`
<br />`),n.createError(`\u274C ${t}`)}const Mr=zo("skills",{state:()=>({skillChecks:{},skills:{}}),actions:{setupSkillCheck(t,e){this.skillChecks[e]=t},passSkillCheck(t,e){this.skillChecks[t].happened=!0,this.skillChecks[t].succeeded=!0,e&&(this.skillChecks[t].hidden=!0)},failSkillCheck(t,e){this.skillChecks[t].happened=!0,this.skillChecks[t].succeeded=!1,e&&(this.skillChecks[t].hidden=!0)},generateSaveData(){return{skillChecks:this.skillChecks,skills:this.skills}},getSkillCheck(t){return this.skillChecks[t]||this.setupSkillCheck(this.createSkillCheckState(),t),this.skillChecks[t]},createSkillCheckState(){return{happened:!1,succeeded:!1,hidden:!1}},loadSaveData(t){this.skillChecks=Cp(this.skillChecks,t.skillChecks),this.skills=Cp(this.skills,t.skills)},setupSkills(t){for(const e in t)this.skills[e]={id:e,level:t[e].startingLevel||0,xp:0}},getSkill(t){return this.skills[t]},getSkillLevel(t){return this.getSkill(t).level},getSkillXp(t){return this.getSkill(t).xp},addXp(t,e){const n=this.getSkill(t);n||Ln(`Skill ${t} doesn't exist`),n.xp+=e,n.xp>=vt().skillOptions.xpPerLevel&&(n.xp=0,n.level++,this.levelledUp(t))},setSkillLevel(t,e){const n=this.getSkill(t);n||Ln(`Skill ${t} doesn't exist`),n.level=e,this.levelledUp(t)},incrementSkill(t,e){this.getSkill(t).level+=e,this.levelledUp(t)},levelledUp(t){const e=vt().skills[t].name,n=this.skills[t].level;vt().skillOptions.notifyLevelUp&&so().addNotification(`Your skill in ${e} is now level ${n}`)}}});let hA;const mte=Qn({components:{Modal:Ca},setup(){const t=Mr(),e=Ht(()=>t.skills),n=Ht(()=>t.skillChecks);return{skills:e,skillChecks:n}},data(){return{showDebug:!1,jumping:!1,searchString:"",matches:[],matchCursor:0}},mounted(){window.addEventListener("keydown",t=>{if(this.jumping||(t.key==="d"&&this.toggle(),t.key==="j"&&this.jump()),t.key==="ArrowDown"&&(t.preventDefault(),this.matches.length>this.matchCursor+1?this.matchCursor+=1:this.matchCursor=0),t.key==="ArrowUp"&&(t.preventDefault(),this.matchCursor>0?this.matchCursor-=1:this.matchCursor=this.matches.length-1),t.key==="Escape"&&(this.finishJumping(),this.showDebug=!1),this.jumping&&t.key==="Enter"&&this.matchCursor<this.matches.length){const e=this.matches[this.matchCursor];kn().jumpToLabel(e),this.finishJumping()}})},methods:{finishJumping(){this.jumping=!1,this.matches=[],this.searchString=""},labelSelected(t){const e=t.target.value;kn().jumpToLabel(e),this.close()},close(){this.showDebug=!1},closeErrors(){Qt().clearErrors()},open(){this.showDebug=!0;const t=kn(),e=Qt(),n=hi(),r=Fr(),i=Mr();this.$nextTick(()=>{new G$({target:this.$refs.variablesViewer,props:{content:{text:void 0,json:{data:this.variables,quests:n.quests,items:r.items,skills:i.skills,skillChecks:i.skillChecks}},onChange:o=>{t.overrideData(o.json.data),n.quests=o.json.quests,r.items=o.json.items,i.skills=o.json.skills,i.skillChecks=o.json.skillChecks}}}),new G$({target:this.$refs.stateViewer,props:{content:{text:void 0,json:e.getAllStates()},onChange:o=>{e.overrideStates(o.json)}}})})},toggle(){this.showDebug?this.showDebug=!1:this.jumping?this.finishJumping():this.open()},jump(){hA=new $l(this.labels,{includeScore:!0}),this.jumping=!0,setTimeout(()=>{this.$nextTick(()=>{this.$refs.search.focus()})},10),this.matchCursor=0,this.matches=this.labels},getMatchResultStyle(t){if(t===this.matchCursor)return{background:"var(--light-background)"}},onSearchInput(){const t=this.searchString;console.log(t);const e=hA.search(t);this.matches=e.map(n=>n.item),this.matches.length>0&&this.matchCursor>this.matches.length-1&&(this.matchCursor=this.matches.length-1)},save(){Qt().autoSaveGame({})},wordCount(){const e=Object.values(this.script).reduce((n,r)=>(To.log(n),n+this.countWordsInScriptBranch(r.branch)),0);alert(`You have ${e} words`)},countWordsInScriptLine(t){if(t.command.commandType==="talk"&&typeof t.command.args[2]=="string")return this.countWordsInString(t.command.args[2]);if(t.command.commandType==="text")return this.countWordsInString(t.code);if(t.command.commandType==="choice"){const e=t.command.staticOptions;let n=this.countWordsInScriptLine(e.prompt);return n+=e.choices.reduce((i,o)=>i+this.countWordsInString(o.prompt.code),0),e.choices.reduce((i,o)=>o.branch?i+this.countWordsInScriptBranch(o.branch):i,n)}if(t.command.commandType==="if"){const e=t.command.staticOptions;return[e.success,e.failure].reduce((r,i)=>i?r+this.countWordsInScriptBranch(i):r,0)}return 0},countWordsInString(t){return t.split(" ").length},countWordsInScriptBranch(t){return t.reduce((e,n)=>n?e+this.countWordsInScriptLine(n):e,0)},getPlayTimeString(){const t=wh(this.playTime.start,this.playTime.previousPlaytime);return yy(t/1e3)}},computed:{...ps(kn,["script","data"]),...ps(Qt,["playTime","errors","playing","flowState"]),labels(){const t=this.script;return Object.keys(t).sort()},variables(){return this.data}}});const gte={class:"debug-menu"},yte={key:0,class:"debug-info"},bte=Ne("h3",null,"Debug mode is ON",-1),kte=Ne("ul",null,[Ne("li",null,[Ne("b",null,"j"),Es(": Quick Label Jump")]),Ne("li",null,[Ne("b",null,"d"),Es(": Debug Menu")]),Ne("li",null,[Ne("b",null,"Escape"),Es(": Toggle Menu")])],-1),wte=[bte,kte],xte=Ne("h3",{class:"title"},"Jump to label",-1),jte={key:0,class:"search-results"},_te={key:1},Ste=Ne("h3",null,"No matches found",-1),Cte=[Ste],$te=Ne("h3",{class:"title"},"Error(s)",-1),Ate=Es(" There are errors in your dialogue scripts. Open the developer console for more details. "),Ote=["innerHTML"],Ete=Ne("h3",{class:"title"},"Debug Menu!",-1),Tte={class:"container"},Pte=Es(" Hello this is the debug menu. "),Mte=Ne("option",{class:"option",selected:"",disabled:""},"Jump to a label",-1),Ite=["value"],Nte={class:"grid grid-cols-3 gap-4"},Lte=Ne("h2",null,"Variables Editor",-1),Dte={ref:"variablesViewer"},Rte=Ne("h2",null,"Skill Checks",-1),Bte={class:"table-auto"},zte=Ne("thead",null,[Ne("tr",null,[Ne("th",null,"Skill Check"),Ne("th",null,"Happened"),Ne("th",null,"Succeeded")])],-1),Fte=Ne("h2",null,"App State editor (entire app and engine",-1),qte=Ne("h3",{style:{color:"pink"}}," Use for debugging, editing some of those things can cause issues ",-1),Vte={ref:"stateViewer"};function Hte(t,e,n,r,i,o){const s=Ti("modal");return Ue(),ft("div",gte,[Ne("button",{onClick:e[0]||(e[0]=(...a)=>t.open&&t.open(...a)),class:"button debug-button"},"Debug Menu"),!t.playing&&t.flowState==="menu"?(Ue(),ft("div",yte,wte)):Rn("",!0),t.jumping?(Ue(),gn(s,{key:1,onClose:t.finishJumping,containerCssClass:"jump-menu-container"},{header:Dn(()=>[xte]),body:Dn(()=>[Rp(Ne("input",{type:"text",class:"label-input input",ref:"search","onUpdate:modelValue":e[1]||(e[1]=a=>t.searchString=a),onInput:e[2]||(e[2]=(...a)=>t.onSearchInput&&t.onSearchInput(...a))},null,544),[[qp,t.searchString]]),t.matches.length>0?(Ue(),ft("div",jte,[(Ue(!0),ft(_n,null,Cr(t.matches,(a,u)=>(Ue(),ft("div",{class:"search-result",style:Wn(t.getMatchResultStyle(u)),key:u},en(a),5))),128))])):(Ue(),ft("div",_te,Cte))]),_:1},8,["onClose"])):Rn("",!0),t.errors.length>0?(Ue(),gn(s,{key:2,onClose:t.closeErrors,containerCssClass:"debug-menu-container"},{header:Dn(()=>[$te]),body:Dn(()=>[Ate,Ne("ul",null,[(Ue(!0),ft(_n,null,Cr(t.errors,(a,u)=>(Ue(),ft("li",{key:u,class:"error-message list-disc",innerHTML:a.text},null,8,Ote))),128))])]),_:1},8,["onClose"])):Rn("",!0),t.showDebug?(Ue(),gn(s,{key:3,onClose:t.close,containerCssClass:"debug-menu-container"},{header:Dn(()=>[Ete]),body:Dn(()=>[Ne("div",Tte,[Pte,Ne("select",{class:"select",name:"label-selector",onChange:e[3]||(e[3]=a=>t.labelSelected(a))},[Mte,(Ue(!0),ft(_n,null,Cr(t.labels,a=>(Ue(),ft("option",{class:"option",value:a,key:a},en(a),9,Ite))),128))],32),Ne("div",Nte,[Ne("button",{onClick:e[4]||(e[4]=(...a)=>t.wordCount&&t.wordCount(...a)),class:"button"},"Word Count"),Ne("button",{onClick:e[5]||(e[5]=(...a)=>t.save&&t.save(...a)),class:"button"},"Save Game")]),Ne("h3",null,"Play time: "+en(t.getPlayTimeString()),1),Lte,Ne("div",Dte,null,512),Rte,Ne("table",Bte,[zte,Ne("tbody",null,[(Ue(!0),ft(_n,null,Cr(t.skillChecks,(a,u)=>(Ue(),ft("tr",{key:u},[Ne("td",null,en(u),1),Ne("td",null,en(a.happened?"\u2705":"\u274C"),1),Ne("td",null,en(a.happened?a.succeeded?"\u2705":"\u274C":"NA"),1)]))),128))])]),Fte,qte,Ne("div",Vte,null,512)])]),_:1},8,["onClose"])):Rn("",!0)])}const Wte=$i(mte,[["render",Hte]]),Ute=Qn({data(){},methods:{},computed:{...ps(so,["notifications"])}});const Jte=["innerHTML"];function Kte(t,e,n,r,i,o){return Ue(),gn(gy,{name:"notification",tag:"div",class:"notifications-holder"},{default:Dn(()=>[(Ue(!0),ft(_n,null,Cr(t.notifications,(s,a)=>(Ue(),ft("div",{class:"notification",key:a},[Ne("h3",{innerHTML:s.text},null,8,Jte)]))),128))]),_:1})}const Gte=$i(Ute,[["render",Kte]]);function Qte(t,e,n,r){const i=t/n,o=e/r;return Math.min(i,o)}function dN(t,e=50,n={}){var c,d;let r;const i=(c=n.isImmediate)!=null?c:!1,o=(d=n.callback)!=null?d:!1,s=n.maxWait;let a=Date.now(),u=[];function l(){if(s!==void 0){const h=Date.now()-a;if(h+e>=s)return s-h}return e}const f=function(...h){const p=this;return new Promise((v,m)=>{const g=function(){if(r=void 0,a=Date.now(),!i){const k=t.apply(p,h);o&&o(k),u.forEach(({resolve:w})=>w(k)),u=[]}},y=i&&r===void 0;r!==void 0&&clearTimeout(r);const b=l();if(r=setTimeout(g,b),y){const k=t.apply(p,h);return o&&o(k),v(k)}u.push({resolve:v,reject:m})})};return f.cancel=function(h){r!==void 0&&clearTimeout(r),u.forEach(({reject:p})=>p(h)),u=[]},f}const Yte={class:"save-slot flex flex-row"},Xte={class:"used-save-slot flex flex-row justify-between items-center grow"},Zte={class:"flex flex-col"},ene={class:"flex flex-col"},tne={class:"flex flex-row"},nne=["onClick"],rne=Qn({__name:"save-slot",props:{saveSlot:{type:Object,required:!0},id:{type:String,required:!0},actions:{type:Array,required:!0}},emits:["choice"],setup(t,{emit:e}){const n=t,r=Tr(n.saveSlot.metadata.name);function i(a){e("choice",a)}function o(a){return yy(a.main.playTime/1e3)}function s(){Eee(n.saveSlot.metadata.id,r.value)}return(a,u)=>(Ue(),ft("div",Yte,[Ne("div",Xte,[Ne("div",Zte,[Rp(Ne("input",{type:"text",class:"save-name","onUpdate:modelValue":u[0]||(u[0]=l=>r.value=l),onInput:s},null,544),[[qp,r.value]]),Ne("div",ene,[Ne("p",null,"Play time: "+en(o(t.saveSlot)),1),Ne("p",null," Last save: "+en(new Date(t.saveSlot.metadata.saveDate).toLocaleString()),1),Ne("p",null,en(t.saveSlot.metadata.slotType==="auto"?"Auto Save":"Manual Save"),1)])]),Ne("div",tne,[(Ue(!0),ft(_n,null,Cr(t.actions,(l,f)=>(Ue(),ft("button",{class:"button",onClick:()=>i(f),key:f},[Ne("h3",null,en(l),1)],8,nne))),128))])])]))}});const ine=Ne("h3",{class:"title"},"Confirmation",-1),one={class:"flex justify-center"},$p=Qn({__name:"yes-no",props:{prompt:{type:String,required:!0},onConfirm:{type:Function,required:!1},onRefuse:{type:Function,required:!1}},emits:["choice"],setup(t,{emit:e}){const n=t;function r(i){i===!0&&n.onConfirm?n.onConfirm():i===!1&&n.onRefuse&&n.onRefuse(),e("choice",i)}return(i,o)=>(Ue(),gn(Ca,{onClose:o[2]||(o[2]=()=>r(!1)),containerCssClass:"yes-no-modal"},{header:Dn(()=>[ine]),body:Dn(()=>[Ne("h3",null,en(t.prompt),1),Ne("div",one,[Ne("button",{class:"button",onClick:o[0]||(o[0]=()=>r(!0))},"Yes"),Ne("button",{class:"button",onClick:o[1]||(o[1]=()=>r(!1))},"No")])]),_:1}))}});const sne={class:"title"},ane={class:"saves-container flex flex-col"},hN=Qn({__name:"save-slots",props:{mode:{type:String,required:!0}},emits:["chosen","close"],setup(t,{emit:e}){const n=t,r=Zo([]),i=Zo(n.mode==="load"?["Load","Delete"]:["Choose"]),o=Zo({prompt:"Are you sure you want to delete this save file?",saveToDelete:null,onConfirm:()=>{f(o.saveToDelete),o.saveToDelete=null},onRefuse:()=>{o.saveToDelete=null}}),s=Zo({prompt:"Are you sure you want to overwrite this save file?",saveToOverwrite:null,onConfirm:()=>{u(s.saveToOverwrite),s.saveToOverwrite=null},onRefuse:()=>{s.saveToOverwrite=null}});Cl(()=>{let p=Pc().slots.sort((v,m)=>new Date(m.metadata.saveDate).getTime()-new Date(v.metadata.saveDate).getTime());n.mode==="pick"&&(p=p.filter(v=>v.metadata.slotType!=="auto")),console.log(p),p.forEach((v,m)=>{r[m]=v})});function a(){const p=Q9();u(p)}function u(p){const v={saveData:h(p),slotId:p};e("chosen",v)}function l(p){const v=h(p);if(v){if(vt().saves.mode==="manual"&&v.metadata.slotType==="auto"){Qt().alert("Sorry","Can't delete the auto save slot!");return}o.saveToDelete=p}}function f(p){Oee(p);const v=r.findIndex(m=>m.metadata.id===p);r.splice(v,1)}function c(){n.mode!=="pick"&&e("close")}function d(p,v){const m=i[v];m==="Load"?u(p):m==="Delete"?l(p):m==="Choose"&&(s.saveToOverwrite=p)}function h(p){return r.find(v=>v.metadata.id===p)}return(p,v)=>(Ue(),gn(Ca,{onClose:c,containerCssClass:"save-modal",cantClose:n.mode==="pick"},{header:Dn(()=>[Ne("h3",sne,en(t.mode==="load"?"Choose a save to load":"Pick a slot to save the game"),1)]),body:Dn(()=>[Ne("div",{class:"flex justify-center"},[Ne("button",{class:"button",onClick:a},"Create a new save")]),Ne("div",ane,[Un(gy,{name:"list",tag:"div"},{default:Dn(()=>[(Ue(!0),ft(_n,null,Cr(r,m=>(Ue(),gn(rne,{key:m.metadata.id,saveSlot:m,id:m.metadata.id,actions:i,onChoice:g=>d(m.metadata.id,g)},null,8,["saveSlot","id","actions","onChoice"]))),128))]),_:1})]),o.saveToDelete?(Ue(),gn($p,{key:0,prompt:o.prompt,onRefuse:o.onRefuse,onConfirm:o.onConfirm},null,8,["prompt","onRefuse","onConfirm"])):Rn("",!0),s.saveToOverwrite?(Ue(),gn($p,{key:1,prompt:s.prompt,onRefuse:s.onRefuse,onConfirm:s.onConfirm},null,8,["prompt","onRefuse","onConfirm"])):Rn("",!0)]),_:1},8,["cantClose"]))}});const une={id:"game-menu"},lne={id:"game-header",class:"flex flex-col justify-between items-center"},cne={id:"game-title-container"},fne={id:"game-title-text"},dne={class:"flex flex-col start-menu-buttons-container"},hne=Qn({__name:"StartMenu",setup(t){const e=Tr(!1),n=Tr(null),r=Tr(null),i=Tr(!1),o=Tr(!1);async function s(){e.value&&vt().saves.mode==="manual"?o.value=!0:a()}async function a(){const p=Qt();r.value===null&&(r.value=Q9()),o.value=!1,await p.startGame(r.value)}function u(){o.value=!1}async function l(){if(!r.value)return;const p=Sp(r.value);if(!p){Ln("No save file found");return}Qt().loadGame(p,r.value)}function f(){typeof n.value=="string"&&(r.value=n.value,l())}function c(){i.value=!0}function d({saveData:p,slotId:v}){r.value=v,p?l():s()}Cl(()=>{const p=vt();p.audioOptions.defaultMusic&&Jr().playChannel("music",p.audioOptions.defaultMusic,0);const v=Pc();v.slots.length>0&&(e.value=!0),v.lastSaveSlot&&Sp(v.lastSaveSlot)&&(n.value=v.lastSaveSlot)});const h=Ht(()=>vt().gameTitle);return(p,v)=>(Ue(),ft("div",une,[i.value?(Ue(),gn(hN,{key:0,mode:"load",onChosen:d,onClose:v[0]||(v[0]=m=>i.value=!1)})):Rn("",!0),o.value?(Ue(),gn($p,{key:1,prompt:"This will override your previous autosave, are you sure?",onConfirm:a,onRefuse:u})):Rn("",!0),Ne("div",lne,[Ne("div",cne,[Ne("h1",fne,en(En(h)),1)]),Ne("div",dne,[n.value?(Ue(),ft("button",{key:0,class:"button menu-button main-menu-button large continue-button override",onClick:f}," Continue ")):Rn("",!0),Ne("button",{class:"button menu-button main-menu-button large start-button override",onClick:s}," New Game "),e.value?(Ue(),ft("button",{key:1,class:"button menu-button main-menu-button large continue-button override",onClick:c}," Load Game ")):Rn("",!0)])])]))}});class pne extends fN{setup(e=!1){const r=e?"keydown":"keyup",i=dN(o=>{mf.emit("debouncedKeydown",o)},10,{isImmediate:!0,maxWait:10});window.addEventListener("keydown",o=>{mf.emit("keydown",o)}),window.addEventListener(r,o=>{i(o)})}}const mf=new pne,vne={class:"title"},mne=Qn({__name:"alert-modal",props:{title:{type:String,required:!1},text:{type:String,required:!1}},setup(t){return(e,n)=>(Ue(),gn(Ca,{onClose:n[0]||(n[0]=r=>e.$emit("close")),containerCssClass:"yes-no-modal"},{header:Dn(()=>{var r;return[Ne("h3",vne,en((r=t.title)!=null?r:"Alert"),1)]}),body:Dn(()=>[Ne("h3",null,en(t.text),1)]),_:1}))}});const gne=Qn({setup(){const t=Fr(),e=_i(),n=Ht(()=>t.items),r=Ht(()=>e.currentDialog.choices);return{items:n,currentlyChoosing:r}},components:{Modal:Ca},data(){return{chosenId:!1}},mounted(){},methods:{close(){this.$emit("close")},getItemStyle(t){return{backgroundImage:`url(${this.itemConf[t].icon})`}},getItemName(t){return this.itemConf[t].name},getItemConf(t){return this.itemConf[t]},clickItem(t){this.chosenId=t},closeItem(){this.chosenId=!1},useItem(){if(this.chosenItem&&this.canUseChosenItem&&this.chosenItemConf){const t=this.chosenItemConf.onUse;this.close(),t.action==="jump"?kn().jumpToLabel(t.label):t.action==="run"?kn().runThenGoBackToPreviousDialog(t.label,!0):Ln(`Unknown action ${t.action}`)}},canUseItem(t){const e=this.itemConf[t.id];return!!(e&&e.onUse&&!Fr().isInteractionTagBlocked(e.tag)&&!this.currentlyChoosing)}},computed:{itemsToDisplay(){const t={};for(const e in this.items)this.items[e].amount>0&&(t[e]=this.items[e]);return t},chosenItem(){return this.chosenId?this.items[this.chosenId]:null},canUseChosenItem(){return this.canUseItem(this.chosenItem)},chosenItemConf(){return this.chosenId?this.itemConf[this.chosenId]:null},itemConf(){return vt().items}}});const yne=Ne("h3",{class:"title"},"Inventory",-1),bne={key:0,class:"inventory-container"},kne=["onClick"],wne={class:"item-title"},xne={class:"item-amount"},jne={key:1},_ne={class:"flex flex-row item-description-container"},Sne={class:"flex item-left"},Cne={class:"flex item-right"},$ne=Ne("hr",{class:"hr-solid"},null,-1),Ane={key:2},One=Ne("h2",null,"The inventory is empty!",-1),Ene=[One];function Tne(t,e,n,r,i,o){const s=Ti("modal");return Ue(),gn(s,{class:"menu",onClose:t.close,containerCssClass:"inventory-modal"},{header:Dn(()=>[yne]),body:Dn(()=>[!t.chosenItem&&Object.keys(t.itemsToDisplay).length>0?(Ue(),ft("div",bne,[(Ue(!0),ft(_n,null,Cr(t.itemsToDisplay,a=>(Ue(),ft("button",{onClick:()=>t.clickItem(a.id),class:"item-display",style:Wn(t.getItemStyle(a.id)),key:a.id},[Ne("h3",wne,en(t.getItemName(a.id)),1),Ne("h3",xne,en(a.amount),1)],12,kne))),128))])):typeof t.chosenId=="string"?(Ue(),ft("div",jne,[Ne("div",_ne,[Ne("div",Sne,[Ne("div",{class:"item-display",style:Wn(t.getItemStyle(t.chosenId))},null,4)]),Ne("div",Cne,[Ne("h2",null,en(t.getItemName(t.chosenId)),1),$ne,Ne("h3",null,"Amount: "+en(t.chosenItem.amount),1),Ne("p",null,en(t.chosenItemConf.description),1),Ne("button",{onClick:e[0]||(e[0]=(...a)=>t.useItem&&t.useItem(...a)),class:xi(["button",t.canUseChosenItem?"":"disabled"])}," Use ",2)])]),Ne("button",{class:"button",onClick:e[1]||(e[1]=(...a)=>t.closeItem&&t.closeItem(...a))},en("<--"))])):(Ue(),ft("div",Ane,Ene))]),_:1},8,["onClose"])}const Pne=$i(gne,[["render",Tne]]),Mne=Qn({props:{pictureUrl:String},methods:{getAssetUrl(t){return bu(t)}},computed:{...ps(ku,["layoutMode"]),boxStyle(){const t=vt().layout;let e=0,n=0;return this.layoutMode==="vertical"?(e="50%",n=`${t.mobileDialogHeightPercentage-5}%`):(e=`${t.minTextWidth-10}px`,n="20%"),{right:e,bottom:n,width:`${t.portraits.width}px`,height:`${t.portraits.height}px`}}}});const Ine=["src"];function Nne(t,e,n,r,i,o){return Ue(),ft("div",{class:"dialog-picture override",style:Wn(t.boxStyle)},[Ne("img",{src:t.getAssetUrl(t.pictureUrl),class:"picture override"},null,8,Ine)],4)}const Lne=$i(Mne,[["render",Nne]]),Dne=Qn({data(){return{playerText:"",passed:!1,listener:null,timeout:null}},props:{options:{type:Object,required:!0},active:Boolean},mounted(){if(this.canInteract){const t=e=>{if(this.canInteract&&this.options.textField&&e.key==="Enter"&&this.submitText(),this.canInteract&&!this.options.textField){let n=-1;switch(e.key){case" ":n=0;break;case"1":n=0;break;case"2":n=1;break;case"3":n=2;break;case"4":n=3;break;case"5":n=4;break;case"6":n=5;break;case"7":n=6;break;case"8":n=7;break}n!==-1&&(this.choices&&n<this.choices.length?this.chooseOption(this.choices[n]):this.chooseOption(n))}};this.listener=mf.on("debouncedKeydown",t),this.timeout=setTimeout(()=>{this.options.textField&&this.$refs.playerInput.focus()},10)}},unmounted(){this.clearListeners()},computed:{...ps(Qt,["paused"]),preText(){return this.options.title?" &nbsp;\u2013&nbsp; ":""},style(){return Fd(this.options.styleId)},dialogBoxStyle(){const t=Fd(this.options.styleId),e={opacity:this.options.old?"0.7":"1"};return this.options.title||(e.marginTop="-20px"),{...t.boxCss,...e}},titleStyle(){const t=Fd(this.options.styleId);return{color:t.color,...t.nameCss}},textStyle(){return Fd(this.options.styleId).textCss},choices(){if(this.options.choices)return this.options.choices},canInteract(){return this.active&&!this.passed&&this.options.interactive&&!this.paused}},methods:{clearListeners(){this.listener&&(mf.off("keydown",this.listener),this.listener=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},chooseOption(t){this.finishLine();let e;typeof t=="object"?e=t.originalIndex:e=t,Qt().playerAnswered(e)},finishLine(){this.clearListeners(),this.passed=!0},dialogStyle(t){const e={};return t.allowed||(e.pointerEvents="none",e.textDecoration="line-through"),e},dialogClass(t){if(!t.allowed)return"strike-anim"},submitText(){const t=this.playerText;Qt().playerAnswered(t)}}});const Rne={class:"dialog-content"},Bne=["innerHTML"],zne=["innerHTML"],Fne=["innerHTML"],qne={key:1,class:"dialog-choices"},Vne=["onClick","innerHTML"],Hne={key:2},Wne={key:3,class:"buttons-container"};function Une(t,e,n,r,i,o){return Ue(),ft("div",{class:"dialog-box w-full override",style:Wn(t.dialogBoxStyle)},[Ne("div",Rne,[t.options.title?(Ue(),ft("span",{key:0,class:"dialog-title override",style:Wn(t.titleStyle),innerHTML:t.options.title},null,12,Bne)):Rn("",!0),Ne("span",{class:"dialog-text dialog-separator override",style:Wn(t.textStyle),innerHTML:t.preText},null,12,zne),Ne("span",{class:xi(["dialog-text override",t.options.cssClass]),style:Wn(t.textStyle),innerHTML:t.options.text},null,14,Fne),t.canInteract&&t.choices?(Ue(),ft("div",qne,[(Ue(!0),ft(_n,null,Cr(t.choices,(s,a)=>(Ue(),ft("p",{key:a,style:Wn(t.dialogStyle(s)),class:xi([t.dialogClass(s),"dialog-choice override"]),onClick:u=>t.chooseOption(s),ref_for:!0,ref:"choices",innerHTML:`${a+1}. \u2013\xA0 ${s.choice}`},null,14,Vne))),128))])):t.canInteract&&t.options.textField?(Ue(),ft("div",Hne,[Rp(Ne("input",{type:"text",class:"label-input input",ref:"playerInput",id:"player-input-field","onUpdate:modelValue":e[0]||(e[0]=s=>t.playerText=s)},null,512),[[qp,t.playerText]]),Ne("button",{onClick:e[1]||(e[1]=(...s)=>t.submitText&&t.submitText(...s)),class:"button",id:"player-input-submit"}," Submit ")])):t.canInteract?(Ue(),ft("div",Wne,[Ne("div",{onClick:e[2]||(e[2]=s=>t.chooseOption(0)),ref:"continue",class:"interact-button button override"}," Continue ",512)])):Rn("",!0)])],4)}const Jne=$i(Dne,[["render",Une]]),Kne=Ne("div",{class:"anchor"},null,-1),Gne=Qn({__name:"game-dialog",props:{layoutMode:String,inGame:Boolean},setup(t){const e=t,n=kn(),r=Ht(()=>n.stack),i=_i(),o=Ht(()=>i.dialog),s=Tr(null),a=Ht(()=>e.layoutMode==="vertical"?{}:{paddingBottom:`${vt().layout.dialogBottomPadding}px`}),u=Ht(()=>{if(o.value.length>0)return o.value[o.value.length-1]}),l=Ht(()=>{if(u.value)return wee(u.value.speaker,u.value.pose)}),f=Ht(()=>vt().layout.minTextWidth),c=Ht(()=>{let p;const v="100%";return e.layoutMode,{width:e.layoutMode==="horizontal"?`${f.value}px`:"100%",height:v,transform:p,transformOrigin:"right"}});function d(p,v){let g=Nb(p.speaker).name;return v>=1&&o.value[v-1].speaker===p.speaker&&(g=void 0),p.choices&&p.choices.forEach(y=>{y.choice=Bb(y.choice)}),{title:g!=null?g:"",text:p.text,cssClass:p.cssClass,styleId:p.speaker,choices:p.choices,old:v<o.value.length-1,interactive:p.interactive,textField:p.textField}}function h(p){return p===i.dialog.length-1&&r.value.length>0}return mc(o.value,p=>{if(s.value){const v=s.value;v.scrollTop=v.scrollHeight+1e8}}),(p,v)=>(Ue(),ft(_n,null,[Un(gf,{name:"fade"},{default:Dn(()=>[En(l)?(Ue(),gn(Lne,{key:0,pictureUrl:En(l)},null,8,["pictureUrl"])):Rn("",!0)]),_:1}),t.inGame?(Ue(),ft("div",{key:0,class:"dialog override",ref_key:"dialogRef",ref:s,style:Wn(En(c))},[Un(gy,{name:"list",tag:"div",class:"dialog-container w-full override",style:Wn(En(a))},{default:Dn(()=>[(Ue(!0),ft(_n,null,Cr(En(o),(m,g)=>(Ue(),gn(Jne,{key:m.id,options:d(m,g),active:h(g)},null,8,["options","active"]))),128))]),_:1},8,["style"]),Kne],4)):Rn("",!0)],64))}});const Qne=Qn({setup(){const t=hi();return{quests:Ht(()=>t.quests)}},computed:{questsToDisplay(){return sA(this.quests,t=>t.state!=="hidden")}},methods:{close(){this.$emit("close")},getQuestData(t){return wp(t)},getObjectiveData(t,e){return J0(t,e)},getDisplayTextForQuestState(t){switch(t.state){case"hidden":return" Hidden";case"unlocked":return"";case"completed":return" (Completed)";default:return" Unknown"}},getQuestDescription(t){return t.ending?t.ending:this.getQuestData(t.id).description},getAvailableObjectives(t){return sA(t.objectives,e=>e.state!=="hidden")}},components:{Modal:Ca}});const Yne=Ne("h3",{class:"title"},"Quests",-1),Xne={key:0,class:"quests-container"},Zne={class:"quest-title"},ere={class:"quest-description"},tre={key:0,class:"quest-objectives-container list-disc"},nre={key:1,class:"menu-container"},rre=Ne("h2",{class:"title"},"There are no quests!",-1),ire=[rre];function ore(t,e,n,r,i,o){const s=Ti("modal");return Ue(),gn(s,{class:"quests",onClose:t.close,containerCssClass:"quests-modal"},{header:Dn(()=>[Yne]),body:Dn(()=>[Object.keys(t.questsToDisplay).length>0?(Ue(),ft("div",Xne,[(Ue(!0),ft(_n,null,Cr(t.questsToDisplay,a=>(Ue(),ft("div",{class:"quest-display",key:a.id},[Ne("div",{class:xi(["quest-header",a.state==="completed"?"quest-completed":"quest-in-progress"])},[Ne("h3",Zne,en(t.getQuestData(a.id).title)+" "+en(t.getDisplayTextForQuestState(a)),1)],2),Ne("p",ere,en(t.getQuestDescription(a)),1),a.state!=="completed"?(Ue(),ft("ul",tre,[(Ue(!0),ft(_n,null,Cr(t.getAvailableObjectives(a),u=>(Ue(),ft("li",{class:"quest-objective-display",key:u.id},[Ne("p",{class:xi(["quest-objective-description",u.state==="completed"?"quest-objective-completed":"quest-objctive-in-progress"])},en(t.getObjectiveData(a.id,u.id).description),3)]))),128))])):Rn("",!0)]))),128))])):(Ue(),ft("div",nre,ire))]),_:1},8,["onClose"])}const sre=$i(Qne,[["render",ore]]),are=Qn({data(){return{buttons:[{id:"menu",cssId:"menu-button",text:"Menu"},{id:"skills",cssId:"skills-menu-button",text:"Skills",condition:()=>this.showSkills},{id:"inventory",cssId:"inventory-menu-button",text:"Items",condition:()=>this.showInventory},{id:"quests",cssId:"quests-menu-button",text:"Quests",condition:()=>this.showQuests}],activeMenu:!1}},mounted(){document.addEventListener("keydown",t=>{t.key==="Escape"&&this.toggleMenu()}),qr.callHook("onGameMounted")},unmounted(){qr.callHook("onGameUnmounted")},methods:{buttonClick(t){t.onClick?t.onClick():Qt().openModal(t.id)},openMenu(){Qt().openModal("menu")},openSkills(){Qt().openModal("skills")},openInventory(){Qt().openModal("inventory")},openQuests(){Qt().openModal("quests")},closeMenu(){Qt().closeModal()},toggleMenu(){Qt().toggleMenu()}},computed:{buttonsToShow(){return this.buttons.map(t=>{const e=vt().menuButtons[t.id]||{};return{...t,...e}}).filter(t=>t.condition?t.condition():!0)},showSkills(){return Object.entries(vt().skills).length>0},showInventory(){return Object.entries(vt().items).length>0},showQuests(){return Object.entries(vt().quests).length>0}}});const ure={class:"menu-container"},lre=["onClick","id"];function cre(t,e,n,r,i,o){return Ue(),ft("div",ure,[(Ue(!0),ft(_n,null,Cr(t.buttonsToShow,s=>(Ue(),ft("button",{key:s.id,onClick:a=>t.buttonClick(s),id:s.cssId,class:"button menu-toggle-button"},en(s.text),9,lre))),128))])}const fre=$i(are,[["render",cre]]),dre=["id"],hre=["id","onClick"],Jm=Qn({__name:"screen-layer",props:{layer:String,transitioning:{type:Boolean,default:!1}},setup(t){const e=t,n=kn(),r=Qt(),i=is(),o=Ht(()=>vt().layout.backgrounds.width),s=Ht(()=>vt().layout.backgrounds.height),a=Ht(()=>e.layer),u=Ht(()=>i.buttons),l=Ht(()=>{const b=vt().screens[a.value];if(!b)throw new Error(`Screen ${a.value} doesn't have a config`);return b}),f=Ht(()=>l.value.buttons||[]),c=Ht(()=>r.isInGame);function d(b){const w=rc(b).background;if(!!w)return Z$(w)}function h(b){const k=rc(b),w=u.value[b],C=k.tag||"default",_=w.state;return _===!0&&Fr().isInteractionTagBlocked(C)?"greyed":_}function p(b){const k=h(b);return k==="hidden"||k==="greyed"||k===!1}function v(b){const k=h(b),w={};return k===!0?w.interactable=!0:(w.disabled=!0,k==="greyed"?w.greyed=!0:(k==="hidden"||k===!1)&&(w.hidden=!0)),w}function m(b){const k=rc(b),w={};h(b),k.position.width&&(w.width=`${k.position.width}px`),k.position.height&&(w.height=`${k.position.height}px`),k.background&&(w.backgroundImage=`url(${d(b)})`);let C=k.position.left,_=k.position.top;return k.anchor&&(C=k.position.left-k.position.width*k.anchor.x,_=k.position.top-k.position.height*k.anchor.y),{...w,left:`${C}px`,top:`${_}px`}}function g(b){if(p(b)||e.transitioning)return;const k=rc(b);if(u.value[b].state===!0){const C=k.action;k.actionType==="run"?n.runLabelFunction(C):n.jumpToLabel(C)}}const y=Ht(()=>({backgroundImage:`url(${Z$(l.value.background)})`,width:`${o.value}px`,height:`${s.value}px`}));return(b,k)=>En(c)?(Ue(),ft("div",{key:0,class:"viewport-layer",id:`viewport-layer-${En(a)}`,style:Wn(En(y))},[(Ue(!0),ft(_n,null,Cr(En(f),(w,C)=>(Ue(),ft("div",{key:C,tabindex:"-1",class:xi(["viewport-button",v(w)]),id:`viewport-button-${w}`,onClick:_=>g(w),style:Wn(m(w))},en(En(rc)(w).text),15,hre))),128))],12,dre)):Rn("",!0)}});const pre=Qn({__name:"NarratTransition",props:{name:{type:String,required:!0},duration:{type:Number,required:!0},delay:Number},emits:["complete"],setup(t,{emit:e}){const n=t,r=Tr("start"),i=Zo({oldSlotClasses:{},oldSlotStyle:{},newSlotClasses:{},newSlotStyle:{}});return Cl(async()=>{var s;const o=`narrat-transition-${n.name}`;i.newSlotClasses={[`${o}-enter-from`]:!0,[`${o}-enter-active`]:!0},i.oldSlotStyle={transitionDuration:`${n.duration/1e3}s`},i.newSlotStyle={transitionDuration:`${n.duration/1e3}s`},i.oldSlotClasses={[`${o}-leave-active`]:!0},await Mi(30),i.oldSlotClasses[`${o}-leave-to`]=!0,await Mi((s=n.delay)!=null?s:0),delete i.newSlotClasses[`${o}-enter-from`],await Mi(n.duration),delete i.newSlotClasses[`${o}-enter-active`],delete i.oldSlotClasses[`${o}-leave-active`],r.value="end",e("complete")}),(o,s)=>(Ue(),ft(_n,null,[r.value!=="end"?(Ue(),ft("div",{key:0,class:xi(["transition-holder",i.oldSlotClasses]),style:Wn(i.oldSlotStyle)},[yc(o.$slots,"oldElement",{class:xi(i.oldSlotClasses)})],6)):Rn("",!0),Ne("div",{class:xi(["transition-holder",i.newSlotClasses]),style:Wn(i.newSlotStyle)},[yc(o.$slots,"newElement")],6)],64))}});const vre=Qn({__name:"screens",setup(t){const e=ku(),n=Qt(),r=is(),i=Ht(()=>r.layers.filter(c=>c)),o=Ht(()=>e.layoutMode),s=Ht(()=>vt().layout.backgrounds.width),a=Ht(()=>vt().layout.backgrounds.height),u=Ht(()=>n.isInGame);function l(c){r.finishTransition(c)}const f=Ht(()=>{const c=`${s.value}px`;let d=`${a.value}px`;return o.value==="vertical"&&(d=`${100-vt().layout.mobileDialogHeightPercentage}%`),{height:d,width:c}});return(c,d)=>En(u)?(Ue(),ft("div",{key:0,class:"viewport",id:"narrat-viewport",style:Wn(En(f))},[(Ue(!0),ft(_n,null,Cr(En(i),(h,p)=>(Ue(),ft("div",{key:p,class:"layer-container"},[h.transition?(Ue(),gn(pre,{key:0,name:h.transition.transition,duration:h.transition.duration,delay:h.transition.delay,onComplete:()=>l(p)},{oldElement:Dn(()=>[Un(Jm,{layer:h.transition.oldScreen,transitioning:!0},null,8,["layer"])]),newElement:Dn(()=>[Un(Jm,{layer:h.screen,transitioning:!0},null,8,["layer"])]),_:2},1032,["name","duration","delay","onComplete"])):(Ue(),gn(Jm,{key:1,layer:h.screen},null,8,["layer"]))]))),128))],4)):Rn("",!0)}});const mre=Qn({setup(){const t=Mr();return{skills:Ht(()=>t.skills)}},components:{Modal:Ca},data(){return{chosenSkill:!1}},mounted(){},methods:{getSkillStyle(t){return{backgroundImage:`url(${this.skillConf[t].icon})`}},getSkillName(t){return this.skillConf[t].name},clickSkill(t){this.chosenSkill=t},closeSkill(){this.chosenSkill=!1},xpBarWidth(t){return{width:`${Math.floor(t/this.xpPerLevel*100)}%`}}},computed:{skillsToDisplay(){const t={};for(const e in this.skills)this.skillConf[e].hidden&&this.skills[e].level<1||(t[e]=this.skills[e]);return t},skillConf(){return vt().skills},xpPerLevel(){return vt().skillOptions.xpPerLevel}}});const gre=Ne("h3",{class:"title"},"Skills",-1),yre={key:0,class:"skills-container"},bre=["onClick"],kre={class:"skill-title"},wre={class:"skill-xp-container"},xre={class:"skill-xp-text"},jre={class:"skill-level"},_re={key:1},Sre={class:"flex flex-row skill-description-container"},Cre={class:"flex skill-left"},$re={class:"flex skill-right"},Are=Ne("hr",{class:"hr-solid"},null,-1);function Ore(t,e,n,r,i,o){const s=Ti("modal");return Ue(),gn(s,{class:"menu",onClose:e[1]||(e[1]=a=>t.$emit("close")),containerCssClass:"skills-modal"},{header:Dn(()=>[gre]),body:Dn(()=>[t.chosenSkill?typeof t.chosenSkill=="string"?(Ue(),ft("div",_re,[Ne("div",Sre,[Ne("div",Cre,[Ne("div",{class:"skill-display",style:Wn(t.getSkillStyle(t.chosenSkill))},null,4)]),Ne("div",$re,[Ne("h2",null,en(t.getSkillName(t.chosenSkill)),1),Are,Ne("h3",null,"Level: "+en(t.skills[t.chosenSkill].level),1),Ne("p",null,en(t.skillConf[t.chosenSkill].description),1)])]),Ne("button",{class:"button",onClick:e[0]||(e[0]=(...a)=>t.closeSkill&&t.closeSkill(...a))},en("<--"))])):Rn("",!0):(Ue(),ft("div",yre,[(Ue(!0),ft(_n,null,Cr(t.skillsToDisplay,a=>(Ue(),ft("button",{onClick:()=>t.clickSkill(a.id),class:"skill-display",style:Wn(t.getSkillStyle(a.id)),key:a.id},[Ne("h3",kre,en(t.getSkillName(a.id)),1),Ne("div",wre,[Ne("div",{class:"skill-xp-bar",style:Wn(t.xpBarWidth(a.xp))},null,4),Ne("h3",xre,en(a.xp)+" / "+en(t.xpPerLevel)+" XP",1)]),Ne("h3",jre,en(a.level),1)],12,bre))),128))]))]),_:1})}const Ere=$i(mre,[["render",Ore]]),Tre=Qn({data(){return{muted:!1,volumes:[],modeNames:{master:"Master volume:",music:"Music:",ambiant:"Ambiant:",sound:"Sound effects:"}}},mounted(){const t=Jr(),e=ha.Howler.volume();this.volumes.push({mode:"master",volume:e}),t.modes.forEach((n,r)=>{this.volumes.push({mode:r,volume:t.modes.get(r).options.volume})})},methods:{changeVolume(t,e){const n=e.target;t==="master"?Jr().setMasterVolume(n.value):Jr().setModeVolume(t,n.value)},toggleMute(){this.muted?(ha.Howler.mute(!1),this.muted=!1):(ha.Howler.mute(!0),this.muted=!0)}}});const Pre={class:"volume-controls"},Mre=Ne("h3",{class:"subtitle"},"Volume",-1),Ire={for:"volume",class:"volume-label"},Nre=["onUpdate:modelValue","onChange"];function Lre(t,e,n,r,i,o){return Ue(),ft("div",Pre,[Mre,(Ue(!0),ft(_n,null,Cr(t.volumes,(s,a)=>(Ue(),ft("div",{class:"volume-control",key:s.mode},[Ne("label",Ire,en(t.modeNames[s.mode]),1),Rp(Ne("input",{ref_for:!0,ref:"slider",class:"volume-slider",type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1","onUpdate:modelValue":u=>t.volumes[a].volume=u,onChange:u=>t.changeVolume(s.mode,u)},null,40,Nre),[[qp,t.volumes[a].volume]])]))),128))])}const Dre=$i(Tre,[["render",Lre]]),Rre=Qn({components:{Modal:Ca,VolumeControls:Dre},data(){return{}},mounted(){},methods:{quit(){window.close()},mainMenu(){Qt().menuReturn(),this.closeMenu()},closeMenu(){this.$emit("close")},getPlayTimeString(){const t=wh(this.playTime.start,this.playTime.previousPlaytime);return yy(t/1e3)}},computed:{...ps(Qt,["playTime"])}});const Bre=Ne("h3",{class:"title"},"Menu",-1),zre={class:"menu-content"};function Fre(t,e,n,r,i,o){const s=Ti("VolumeControls"),a=Ti("modal");return Ue(),gn(a,{class:"menu",onClose:e[2]||(e[2]=u=>t.$emit("close")),containerCssClass:"main-menu-modal"},{header:Dn(()=>[Bre]),body:Dn(()=>[Ne("div",zre,[Ne("h3",null,"Play time: "+en(t.getPlayTimeString()),1),Un(s),Ne("button",{class:"button title quit-button",onClick:e[0]||(e[0]=(...u)=>t.mainMenu&&t.mainMenu(...u))}," Main Menu "),Ne("button",{class:"button title quit-button",onClick:e[1]||(e[1]=(...u)=>t.quit&&t.quit(...u))},"Exit")])]),_:1})}const qre=$i(Rre,[["render",Fre]]),Vre=Qn({data(){return{}},methods:{getStatImage(t){return bu(this.statsConfig[t].icon)}},computed:{...ps(Os,["hudStats"]),...ps(ku,["layoutMode"]),statsConfig(){return vt().hudStats},stats(){return this.hudStats},hudStyle(){let t="0";return this.layoutMode==="horizontal"&&(t=`${vt().layout.minTextWidth}px`),{right:t}}}});const Hre=["src"],Wre={class:"bold hud-text"},Ure=Es(": ");function Jre(t,e,n,r,i,o){return Ue(),ft("div",{class:"hud",style:Wn(t.hudStyle)},[(Ue(!0),ft(_n,null,Cr(t.stats,(s,a)=>(Ue(),ft("div",{key:a,class:"hud-stat"},[Ne("img",{class:"hud-icon",src:t.getStatImage(a)},null,8,Hre),Ne("span",Wre,en(t.statsConfig[a].name),1),Ure,Ne("span",null,en(Math.floor(s.value*100)/100),1)]))),128))],4)}const Kre=$i(Vre,[["render",Jre]]),Gre=Qn({__name:"in-game",setup(t){const e=Qt(),n=ku(),r=Ht(()=>e.modal),i=Ht(()=>n.layoutMode),o=Ht(()=>e.saving),s=Tr(null),a=Ht(()=>o.value&&!o.value.withPrompt||o.value&&s.value);function u(){Qt().closeModal()}const l=Ht(()=>{let h="row";return i.value==="vertical"&&(h="column"),{flexDirection:h}});function f(h){if(s.value=null,h===null){Qt().finishManualSave(h,!1);return}Qt().finishManualSave(h,!0)}function c(){s.value=!0}function d(){s.value=!1,e.finishManualSave(null,!1),s.value=null}return(h,p)=>(Ue(),ft("div",{class:"game",style:Wn(En(l))},[Un(Kre),Un(fre,{class:"menu-toggle"}),En(r)==="skills"?(Ue(),gn(Ere,{key:0,onClose:u})):Rn("",!0),En(r)==="inventory"?(Ue(),gn(Pne,{key:1,onClose:u})):Rn("",!0),En(r)==="quests"?(Ue(),gn(sre,{key:2,onClose:u})):Rn("",!0),En(r)==="menu"?(Ue(),gn(qre,{key:3,onClose:u})):Rn("",!0),Un(vre),Un(Gne,{inGame:!0,layoutMode:En(i)},null,8,["layoutMode"]),En(a)?(Ue(),gn(hN,{key:4,mode:"pick",onChosen:f,onClose:p[0]||(p[0]=()=>f(null))})):Rn("",!0),En(o)&&En(o).withPrompt&&s.value===null?(Ue(),gn($p,{key:5,prompt:"Would you like to save the game?",onConfirm:c,onRefuse:d})):Rn("",!0)],4))}});const Qre=Qn({props:{percentage:Number,step:String},methods:{loadingStyle(){return{width:`${this.percentage*60}vw`}}},computed:{}});const Yre={id:"loading-bar"},Xre={id:"loading-text"};function Zre(t,e,n,r,i,o){return Ue(),ft("div",Yre,[Ne("div",{id:"inner-loading-bar",style:Wn(t.loadingStyle())},null,4),Ne("div",Xre,[Ne("h3",null,"Loading "+en(Math.floor(t.percentage*100))+"% - "+en(t.step),1)])])}const eie=$i(Qre,[["render",Zre]]),tie=""+new URL("logo.1df8a3df.svg",import.meta.url).href,nie={id:"engine-splash-screen",class:"flex justify-center items-center"},rie=Ne("h1",{id:"engine-splash-title"},"Made with narrat engine",-1),iie=["src"],oie=Qn({__name:"engine-splash",emits:["finished"],setup(t,{emit:e}){const i=Tr("hidden"),o=Ht(()=>({transitionDuration:`${2}s`})),s=Ht(()=>({invisible:i.value!=="appear"})),a=Qt();return Ht(()=>vt().gameTitle||"Narrat Game"),Cl(async()=>{await Mi(10),i.value="appear",a.options.debug?(await Mi(500),i.value="disappear",await Mi(500)):(await Mi(2*1e3),await Mi(3*1e3),i.value="disappear",await Mi(2*1e3)),a.loading.loaded?e("finished"):a.listener.once("gameLoaded",()=>{e("finished")})}),(u,l)=>(Ue(),ft("div",nie,[Ne("div",{id:"engine-splash-header",class:xi(["flex justify-center flex-col items-center",En(s)]),style:Wn(En(o))},[rie,Ne("img",{src:En(tie),alt:"Narrat Logo",id:"engine-splash-logo"},null,8,iie),Un(eie,{percentage:En(a).loading.percentage,step:En(a).loading.step},null,8,["percentage","step"])],6)]))}});const sie={id:"game-splash-screen",style:{height:"100%",padding:"20px"},class:"flex justify-center items-center"},aie={id:"game-splash-screen-header flex justify-center flex-col items-center",class:"flex justify-center flex-col items-center"},uie={class:"title",id:"game-splash-title"},lie=Qn({__name:"game-splash",setup(t){const e=Qt(),n=Ht(()=>e.loading.loaded),r=Ht(()=>vt().gameTitle||"Narrat Game");function i(){e.flowState="menu"}return(o,s)=>(Ue(),ft("div",sie,[Ne("div",aie,[Ne("h1",uie,en(En(r)),1),En(n)?(Ue(),ft("button",{key:0,class:"button menu-button main-menu-button large splash-start-button override",onClick:i}," Press to start ")):Rn("",!0)])]))}});const cie=Qn({setup(){const t=_i(),e=kn(),n=Qt();return{dialog:Ht(()=>t.dialog),stack:Ht(()=>e.stack),modal:Ht(()=>n.modal),flowState:Ht(()=>n.flowState),alerts:Ht(()=>n.alerts)}},$refs:{dialogContainer:HTMLInputElement},inject:["mq"],components:{DebugMenu:Wte,NotificationToast:Gte,StartMenu:hne,AlertModal:mne,InGame:Gre,EngineSplash:oie,GameSplash:lie},data(){return{lineTitle:"title",lineText:"hello"}},props:{config:Object,options:Object},async mounted(){qr.callHook("onAppMounted"),await Qt().engineLoading(),window.addEventListener("resize",dN(()=>{this.updateScreenSize()},100,{maxWait:200})),mf.setup(this.options.debug),setTimeout(()=>{this.updateScreenSize()},50)},computed:{...ps(ku,["screenWidth","screenHeight","canvasWidth","canvasHeight","topOffset","leftOffset","layoutMode"]),...ps(kn,["currentLine"]),backgroundStyle(){let t;return this.layoutMode==="vertical"&&(t=`${100-vt().layout.mobileDialogHeightPercentage}%`),{backgroundColor:"red",height:t}},layoutWidth(){return vt().layout.backgrounds.width},layoutHeight(){return vt().layout.backgrounds.height},backgroundSize(){return{width:this.canvasWidth,height:this.canvasHeight,top:this.topOffset,left:this.leftOffset}},gameWidth(){const t=vt();return this.layoutMode==="vertical"?window.innerWidth:t.layout.backgrounds.width+t.layout.minTextWidth},gameHeight(){const t=vt();return this.layoutMode==="vertical"?window.innerHeight:t.layout.backgrounds.height},appStyle(){const t=vt();if(this.screenWidth&&this.screenHeight&&t&&this.layoutMode==="horizontal"){const e=Qte(this.screenWidth,this.screenHeight,this.gameWidth,this.gameHeight);return{transform:`scale(${e}, ${e})`,width:`${this.gameWidth}px`,height:`${this.gameHeight}px`}}return{}},gameStyle(){let t="row";return this.layoutMode==="vertical"&&(t="column"),{flexDirection:t}},screenRatio(){const t=vt(),e=t.layout.minTextWidth+t.layout.backgrounds.width;return this.screenWidth/e}},methods:{closeAlert(t){Qt().closeAlert(t)},engineSplashDone(){Qt().flowState="game-splash"},updateScreenSize(){ku().updateScreenSize(window.innerWidth,window.innerHeight,this.layoutMode==="horizontal"?vt().layout.minTextWidth*this.screenRatio:0)}}});function fie(t,e,n,r,i,o){const s=Ti("EngineSplash"),a=Ti("GameSplash"),u=Ti("StartMenu"),l=Ti("InGame"),f=Ti("DebugMenu"),c=Ti("NotificationToast"),d=Ti("AlertModal");return Ue(),ft("div",{id:"app",style:Wn(t.appStyle)},[t.flowState==="engine-splash"?(Ue(),gn(s,{key:0,onFinished:t.engineSplashDone},null,8,["onFinished"])):(Ue(),gn(gf,{key:1,name:"screens-fade"},{default:Dn(()=>[t.flowState==="game-splash"?(Ue(),gn(a,{key:"1"})):t.flowState==="menu"?(Ue(),gn(u,{key:"2"})):t.flowState==="playing"?(Ue(),gn(l,{key:"3"})):Rn("",!0)]),_:1})),t.options.debug?(Ue(),gn(f,{key:2})):Rn("",!0),Un(c),(Ue(!0),ft(_n,null,Cr(t.alerts,h=>(Ue(),gn(d,{key:h.id,title:h.title,text:h.text,onClose:()=>t.closeAlert(h.id)},null,8,["title","text","onClose"]))),128))],4)}const die=$i(cie,[["render",fie]]);function Sn(t,e){console.error("Runtime error ========================="),console.error(`Command: ${t.commandType}`),console.error("Args: ",t.args),console.error("Options: ",t.options),Ln(`Runtime error at ${t.fileName}:${t.line} (${t.commandType}) ${t.code}. - 
  <br />
  Error: ${e}`),console.error("============================")}function hie(t,...e){console.log(`[${t.fileName}:${t.line}] log: `,...e)}class nt{constructor(e,n,r,i){Qi(this,"keyword");Qi(this,"runner");Qi(this,"argTypes");Qi(this,"parser");Qi(this,"onPlayerAnswered");Qi(this,"returnAfterPlayerAnswer");this.keyword=e,this.runner=r,this.argTypes=n,i?this.parser=i:this.parser=Nv(this.keyword,this.argTypes),this.returnAfterPlayerAnswer=!1}async run(e,n){let r=await this.runner(e,n);return this.returnAfterPlayerAnswer&&(r=await new Promise((i,o)=>{kn().waitForPlayerAnswer(e),e.finishCommand=i})),r}async processPlayerAnswer(e,n){let r=n;return this.onPlayerAnswered&&(r=await this.onPlayerAnswered(e,n)),this.returnAfterPlayerAnswer&&e.finishCommand&&e.finishCommand(r),r}static FromOptions(e){var r;const n=new nt(e.keyword,e.argTypes,e.runner,e.parser);return n.onPlayerAnswered=e.onPlayerAnswered,n.returnAfterPlayerAnswer=(r=e.returnAfterPlayerAnswer)!=null?r:!1,n}}function Nv(t,e){let n=[];if(e!=="any"){n=[];const r=e.reduce((i,o)=>o.optional?i+1:i,0);r>=1?n.push(e.length-r):n.push(e.length),n.push(e.length)}return(r,i)=>{const o={newLine:r.currentLine+1},s=i.command.args;return e!=="any"&&(s.length<n[0]||s.length>n[1])?(console.log("Error details"),console.log(i.command),console.log(s),r.parserContext.error(r.line.line,`Command ${t}: Expected ${n.join(" to ")} arguments but got ${s.length}`),o):(i.command.commandType=t,e!=="any"&&i.command.args.forEach((a,u)=>{const l=e[u];!aN(a)&&!uN(a)&&(l.type==="any"||typeof a===l.type||r.parserContext.error(r.line.line,`Command ${t}: Argument #${u+1} (${l.name}) should be a ${l.type}, but got type ${typeof a}: ${JSON.stringify(a)}`))}),{newLine:r.currentLine+1})}}const pie=new nt("add_level",[{name:"skillKey",type:"string"},{name:"amount",type:"number"}],async t=>{let{skillKey:e,amount:n}=t.options;if((!e||!n)&&Sn(t,"add_level command needs a skill id and a value as parameters"),!Number.isInteger(n)){const r=n;n=Math.round(n),console.warn(`add_level expects a level to be an integer. Auto Rounding ${r} to ${n}`)}Mr().incrementSkill(e,n)}),vie=nt.FromOptions({keyword:"set_level",argTypes:[{name:"skill",type:"string"},{name:"level",type:"number"}],runner:async t=>{let{skill:e,level:n}=t.options;if((!e||!n)&&Sn(t,"set_level command needs a skill id and a value as parameters"),!Number.isInteger(n)){const r=n;n=Math.round(n),console.warn(`set_level expects a level to be an integer. Auto Rounding ${r} to ${n}`)}Mr().setSkillLevel(e,n)}}),mie=new nt("add_xp",[{name:"xpKey",type:"string"},{name:"xpToAdd",type:"number"}],async t=>{const{xpKey:e,xpToAdd:n}=t.options;(!e||!n)&&Sn(t,"add_xp command needs a skill id and a value as parameters"),Mr().addXp(e,n)}),gie=new nt("get_level",[{name:"skillKey",type:"string"}],async t=>{const{skillKey:e}=t.options;e||Sn(t,"get_level command needs a skill id as parameter");const n=Mr().getSkill(e);return n||Sn(t,`Skill ${e} not found`),n.level}),yie=new nt("get_xp",[{name:"xpKey",type:"string"}],async t=>{const{xpKey:e}=t.options;e||Sn(t,"get_xp command needs a skill id as parameter");const n=Mr().getSkillXp(e);return n||Sn(t,`XP ${e} not found`),n}),bie=new nt("roll",[{name:"id",type:"string"},{name:"skill",type:"string"},{name:"value",type:"number"},{name:"hideAfterRoll",type:"boolean",optional:!0}],async t=>{const{id:e,skill:n,value:r,hideAfterRoll:i}=t.options;return sN({id:e,skill:n,value:r,hideAfterRoll:i}).succeeded}),kie=new nt("add_stat",[{name:"statKey",type:"string"},{name:"amountToAdd",type:"number"}],async t=>{const{statKey:e,amountToAdd:n}=t.options;(!e||typeof n!="number")&&Sn(t,"add_stat command needs a stat id and a value as parameters"),Os().addStat(e,n)}),wie=new nt("set_stat",[{name:"statKey",type:"string"},{name:"value",type:"number"}],async t=>{const{statKey:e,value:n}=t.options;(!e||typeof n!="number")&&Sn(t,"set_stat command needs a stat id and a value as parameters"),Os().setStat(e,n)}),xie=new nt("get_stat_value",[{name:"statKey",type:"string"}],async t=>{const{statKey:e}=t.options;return e||Sn(t,"get_stat_value command needs a stat id as parameter"),Os().getStatValue(e)}),jie=nt.FromOptions({keyword:"jump",argTypes:"any",runner:async t=>{(t.args.length<1||typeof t.args[0]!="string")&&Sn(t,"requires a label argument");const e=t.args[0],n=kn(),r={branchData:n.script[e],label:e,args:t.args.splice(1),currentIndex:0};if(!n.script[e]){Ln(`Trying to jump but label ${e} not found`);return}return n.jumpTarget=r,jp}}),_ie=nt.FromOptions({keyword:"run",argTypes:"any",runner:async t=>{(t.args.length<1||typeof t.args[0]!="string")&&Sn(t,"run command needs a label to argument run");const e=t.args[0];return await kn().runLabelFunction(e,...t.args.slice(1))}}),Sie=nt.FromOptions({keyword:"var",argTypes:[{name:"name",type:"string"},{name:"value",type:"any"}],runner:async t=>{const{name:e,value:n}=t.options;kn().addScopedVariable(e,n)}}),Cie=nt.FromOptions({keyword:"return",argTypes:[{name:"value",type:"any"}],runner:async t=>{const{value:e}=t.options;return kn().setReturnValue(e),Lb}}),$ie=nt.FromOptions({keyword:"log",argTypes:"any",runner:async t=>{hie(t,...t.args)}}),Aie=nt.FromOptions({keyword:"menu_return",argTypes:[],runner:async t=>(Qt().menuReturn(),_p)}),Oie=nt.FromOptions({keyword:"save",argTypes:[{name:"name",type:"string",optional:!0}],runner:async t=>{await Qt().manualSave({saveName:t.options.name})}}),Eie=nt.FromOptions({keyword:"save_prompt",argTypes:[{name:"name",type:"string",optional:!0}],runner:async t=>{await Qt().manualSave({saveName:t.options.name,withPrompt:!0})}}),Tie=[{name:"mode",type:"string"},{name:"audio",type:"string"},{name:"channel",type:"number",optional:!0}],Pie=new nt("play",Tie,async t=>{const e=Jr(),{mode:n,audio:r,channel:i}=t.options,o=qb(t,n);o&&e.playChannel(o,r,i!=null?i:0)}),Mie=new nt("pause",[{name:"mode",type:"string"},{name:"channel",type:"number",optional:!0}],async t=>{const e=Jr(),{mode:n,channel:r}=t.options,i=qb(t,n);i&&e.pauseChannel(i,r!=null?r:0)}),Iie=new nt("stop",[{name:"mode",type:"string"},{name:"channel",type:"number",optional:!0}],async t=>{const e=Jr(),{mode:n,channel:r}=t.options,i=qb(t,n);i&&e.stopChannel(i,r!=null?r:0)});function qb(t,e){return Nie(e)?e:(Sn(t,`${e} is not a valid audio mode.`),!1)}function Nie(t){return!!J9.includes(t)}const Lie=new nt("set",[{name:"key",type:"string"},{name:"value",type:"any"}],async t=>{const e=xl();nN(e,t.options.key,t.options.value)}),Die=new nt("add",[{name:"key",type:"string"},{name:"value",type:"any"}],async t=>{const e=xl();rN(e,t.options.key,t.options.value)}),Rie=new nt("set_screen",[{name:"screen",type:"string"},{name:"layer",type:"number",optional:!0},{name:"transitionName",type:"string",optional:!0},{name:"transitionDuration",type:"number",optional:!0},{name:"transitionDelay",type:"number",optional:!0}],async t=>{var n;const e=is();return t.options.transitionName?e.transitionScreen(t.options.screen,{transition:t.options.transitionName,duration:t.options.transitionDuration,delay:t.options.transitionDelay},t.options.layer):e.setScreen(t.options.screen,(n=t.options.layer)!=null?n:0)}),Bie=new nt("empty_layer",[{name:"layer",type:"number"}],async t=>{is().emptyLayer(t.options.layer)}),zie=new nt("set_button",[{name:"buttonId",type:"string"},{name:"state",type:"any"}],async t=>{const{buttonId:e,state:n}=t.options;is().changeButton(e,n)}),Fie=nt.FromOptions({keyword:"talk",argTypes:[{name:"speaker",type:"string"},{name:"pose",type:"string"},{name:"text",type:"string"}],runner:async(t,e)=>{await zb({speaker:t.options.speaker,pose:t.options.pose,cssClass:"talk-command",text:`"${t.options.text}"`,choices:e,interactive:!0})},returnAfterPlayerAnswer:!0}),qie=nt.FromOptions({keyword:"think",argTypes:[{name:"speaker",type:"string"},{name:"pose",type:"string"},{name:"text",type:"string"}],runner:async(t,e)=>{await zb({speaker:t.options.speaker,pose:t.options.pose,cssClass:"think-command",text:`${t.options.text}`,choices:e,interactive:!0})},returnAfterPlayerAnswer:!0}),Vie=()=>{const t=Nv("text",[]);return(e,n)=>{const r=t(e,n);return n.command.staticOptions={text:n.code.substring(1,n.code.length-1)},r}},Hie=nt.FromOptions({keyword:"text",argTypes:[],runner:async(t,e)=>{await zb({speaker:"game",cssClass:"text-command",text:t.staticOptions.text,choices:e,interactive:!0})},parser:Vie(),returnAfterPlayerAnswer:!0}),Wie=new nt("add_item",[{name:"id",type:"string"},{name:"amount",type:"number"}],async t=>{const{id:e,amount:n}=t.options;Fr().add({id:e,amount:n})}),Uie=new nt("remove_item",[{name:"id",type:"string"},{name:"amount",type:"number"}],async t=>{const{id:e,amount:n}=t.options;Fr().remove({id:e,amount:n})}),Jie=new nt("has_item?",[{name:"id",type:"string"},{name:"amount",type:"number",optional:!0}],async t=>{const{id:e,amount:n}=t.options;return Fr().hasItem(e,n)}),Kie=new nt("item_amount?",[{name:"id",type:"string"}],async t=>{const{id:e}=t.options;return Fr().getItemAmount(e)}),Gie=new nt("enable_interaction",[{name:"tag",type:"string"}],async t=>{const e=t.options.tag;Fr().enableInteraction(e)}),Qie=new nt("disable_interaction",[{name:"tag",type:"string"}],async t=>{const e=t.options.tag;Fr().disableInteraction(e)}),Yie=new nt("start_quest",[{name:"questId",type:"string"}],async t=>{const e=t.options.questId;hi().startQuest(e)}),Xie=new nt("start_objective",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;hi().startObjective(e,n)}),Zie=new nt("complete_objective",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;hi().completeObjective(e,n)}),eoe=new nt("complete_quest",[{name:"questId",type:"string"},{name:"ending",type:"string",optional:!0}],async t=>{const{questId:e,ending:n}=t.options;hi().completeQuest(e,n)}),toe=new nt("quest_completed?",[{name:"questId",type:"string"}],async t=>{const{questId:e}=t.options;return hi().isQuestCompleted(e)}),noe=new nt("objective_completed?",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;return hi().isObjectiveCompleted(e,n)}),roe=new nt("quest_started?",[{name:"questId",type:"string"}],async t=>{const{questId:e}=t.options;return hi().isQuestStarted(e)}),ioe=new nt("objective_started?",[{name:"questId",type:"string"},{name:"objectiveId",type:"string"}],async t=>{const{questId:e,objectiveId:n}=t.options;return hi().isObjectiveStarted(e,n)}),ooe=nt.FromOptions({keyword:"wait",argTypes:[{name:"duration",type:"number"}],runner:async t=>{await Mi(t.options.duration)}}),soe=new nt("notify",[{name:"text",type:"string"}],async t=>{const{text:e}=t.options;so().addNotification(e)}),aoe=new nt("disable_notifications",[],async t=>{so().disableNotifications()}),uoe=new nt("enable_notifications",[],async t=>{so().enableNotifications()}),loe=new nt("clear_dialog",[],async t=>{_i().clearDialog()}),coe=new nt("if",[{name:"condition",type:"boolean"}],async t=>{const e=lte(t),n=kn();if(e){const r={branchData:{branch:e},currentIndex:0};return n.addAndRunBlock(r)}},(t,e)=>{let n=t.currentLine;Nv("if",[{name:"condition",type:"string"}])(t,e);const{lines:i,currentLine:o,line:s}=t,a=e.command;let u;const l=cte(i,o+1);return l&&l.code==="else:"&&(u=t.processCommandsFunction(t.parserContext,l.branch,s),n++),a.staticOptions={success:t.processCommandsFunction(t.parserContext,s.branch,s),failure:u},n++,{newLine:n}}),foe=new nt("==","any",async t=>{t.args.length<2&&Sn(t,"requires at least two arguments");let e=t.args[0],n=!0;for(const r of t.args)if(r!=e){n=!1;break}else e=r;return n}),doe=new nt(">",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e>n}),hoe=new nt("<",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e<n}),poe=new nt(">=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e>=n}),voe=new nt("<=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e<=n}),moe=new nt("!=",[{name:"a",type:"any"},{name:"b",type:"any"}],async t=>{const{a:e,b:n}=t.options;return e!=n}),goe=new nt("!",[{name:"a",type:"any"}],async t=>{const{a:e}=t.options;return!e}),yoe=new nt("&&","any",async t=>{const e=t.args;return t.args.length<2&&Sn(t,"requires at least two arguments"),e.reduce((n,r)=>n&&r,!0)}),boe=new nt("||","any",async t=>(t.args.length<2&&Sn(t,"requires at least two arguments"),t.args.reduce((e,n)=>e||n,!1))),koe=new nt("?",[{name:"a",type:"any"},{name:"b",type:"any"},{name:"c",type:"any"}],async t=>{const{a:e,b:n,c:r}=t.options;return e?n:r}),woe=new nt("+","any",async t=>(t.args.length<2&&Sn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="number"?e+n:(Sn(t,"requires all arguments to be numbers"),e),0))),xoe=new nt("-","any",async t=>(t.args.length<2&&Sn(t,"requires at least two arguments"),t.args.slice(1).reduce((e,n)=>typeof n=="number"?e-n:(Sn(t,"requires all arguments to be numbers"),e),t.args[0]))),joe=new nt("neg",[{name:"a",type:"number"}],async t=>(t.args.length!==1&&Sn(t,"requires one argument"),-t.options.a)),_oe=new nt("abs",[{name:"a",type:"number"}],async t=>(t.args.length!==1&&Sn(t,"requires one argument"),Math.abs(t.options.a))),Soe=new nt("*","any",async t=>(t.args.length<2&&Sn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="number"?e*n:(Sn(t,"requires all arguments to be numbers"),e),1))),Coe=new nt("/","any",async t=>{t.args.length<2&&Sn(t,"requires at least two arguments");const e=t.args[0]/t.args[1];return t.args.slice(2).reduce((n,r)=>typeof r=="number"?n/r:(Sn(t,"requires all arguments to be numbers"),n),e)}),$oe=async t=>{const{prompt:e,choices:n}=t.staticOptions,r=[];for(const[,s]of n.entries()){const a=await Fb(s.prompt);r.push(a)}t.options.choiceResults=r;const i=r.map((s,a)=>{var f,c;let u=!0;return s.skillCheck&&(u=(c=(f=s.skillCheck)==null?void 0:f.allowed)!=null?c:!1),{choice:s.text,originalIndex:a,allowed:u}}).filter(s=>s.choice),o=await cN(e,i);return await Toe(t,o)};function Aoe(t,e){e.branch||t.parserContext.error(e.line,`Choice option doesn't have any branch to go to (${e.code} - ${e.line})`);let n,r;const i=e.branch;return e.expression[1]==="roll"?((!i[0].branch||!i[1].branch)&&t.parserContext.error(e.line,`Choice option with a skill roll needs success and failure branches (${e.code} - ${e.line})`),n={success:t.processCommandsFunction(t.parserContext,i[0].branch,e),failure:t.processCommandsFunction(t.parserContext,i[1].branch,e)}):r=t.processCommandsFunction(t.parserContext,i,e),{prompt:t.processCommandsFunction(t.parserContext,[e],e)[0],branch:r,skillBranches:n}}const Ooe=(t,e)=>{let n=t.currentLine;Nv("choice",[]);const{line:r}=t,i=e.command;(!r.branch||r.branch.length<2)&&t.parserContext.error(r.line,"Choice menu needs to have at least one option");const o=r.branch[0];o||t.parserContext.error(t.line.line,"Choice prompt is missing ");const a=r.branch.slice(1).map((u,l)=>(u.branch||t.parserContext.error(u.line,`Choice option doesn't have any branch to go to (${u.code})`),u=Poe(t.parserContext,u),Aoe(t,u)));return i.staticOptions={prompt:t.processCommandsFunction(t.parserContext,[o],r)[0],choices:a},n++,{newLine:n}},Eoe=nt.FromOptions({keyword:"choice",argTypes:[],runner:$oe,parser:Ooe}),Toe=async(t,e)=>{const n=e,r=kn(),{choices:i}=t.staticOptions,o=i[n],s=t.options.choiceResults[n];let a=s.text,u;if(s.skillCheck?(a=null,sN({skill:s.skillCheck.skillId,value:s.skillCheck.difficulty,id:s.skillCheck.skillCheckId,hideAfterRoll:s.skillCheck.hideAfterRoll}).succeeded?u=o.skillBranches.success:u=o.skillBranches.failure):u=o.branch,a){const l={speaker:"player",text:a,interactive:!1};_i().addDialog(l)}if(u){const l={currentIndex:0,branchData:{branch:u}};return await r.addAndRunBlock(l)}};function Poe(t,e){return{code:`choicePrompt ${e.code}`,indentation:e.indentation,line:e.line,branch:e.branch,expression:["choicePrompt",...e.expression]}}const Moe=new nt("choicePrompt","any",async t=>{const e=t.args;if(e[0]==="roll"){const n=e[1],r=e[2],i=e[3],o=e[4],s=e.length>5?e[5]:!1,a=Mr().getSkillCheck(n);if(a.hidden)return{text:null};const u=a.happened&&!a.succeeded,{difficultyText:l}=ote({skill:r,skillCheckId:n,value:i});return{text:`${l} ${o}`,skillCheck:{allowed:!u,skillId:r,skillCheckId:n,difficulty:i,hideAfterRoll:s}}}else if(e.length>1&&e[1]==="if"){const n=e[0];let r=!0;return e.length>2&&(r=e[2]),r?{text:n}:{text:null}}else return{text:e[0]}}),pN=nt.FromOptions({keyword:"text_field",argTypes:[{name:"prompt",type:"string"}],returnAfterPlayerAnswer:!0,runner:async t=>{const e={speaker:"game",text:t.options.prompt,textField:!0,interactive:!0};_i().addDialog(e)}});pN.onPlayerAnswered=async(t,e)=>(typeof e!="string"&&Sn(t,"The player's answer should be a string"),e);const Ioe=nt.FromOptions({keyword:"text_field_prompt",argTypes:[{name:"prompt",type:"string"}],runner:async t=>{const e={speaker:"game",text:t.options.prompt,textField:!0,interactive:!0};_i().addDialog(e)}}),Noe=new nt("random",[{name:"a",type:"number"},{name:"b",type:"number"}],async t=>{const{a:e,b:n}=t.options;return typeof e!="number"||typeof n!="number"?(Sn(t,"random command needs two numbers as parameters"),0):Math.floor(Math.random()*(n-e+1))+e}),Loe=new nt("random_float",[{name:"a",type:"number"},{name:"b",type:"number"}],async t=>{const{a:e,b:n}=t.options;return typeof e!="number"||typeof n!="number"?(Sn(t,"random_float command needs two numbers as parameters"),0):Math.random()*(n-e)+e}),Doe=new nt("random_from_args",[],async t=>{const e=t.args;return!e||!e.length?(Sn(t,"random_from_args command needs at least one argument"),0):e[Math.floor(Math.random()*e.length)]}),Roe=new nt("concat","any",async t=>(t.args.length<2&&Sn(t,"requires at least two arguments"),t.args.reduce((e,n)=>typeof n=="string"?`${e}${n}`:(Sn(t,"requires all arguments to be strings"),e),""))),Boe=new nt("join","any",async t=>{const e=t.args[0];return t.args.length<3&&Sn(t,"requires at least 3 arguments"),t.args.slice(1).reduce((n,r)=>typeof r=="string"?`${n}${e}${r}`:(Sn(t,"requires all arguments to be strings"),n),"")}),zoe=nt.FromOptions({keyword:"min",argTypes:[{name:"min",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{min:e,value:n}=t.options;return n<e?n:e}}),Foe=nt.FromOptions({keyword:"max",argTypes:[{name:"max",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{max:e,value:n}=t.options;return n>e?n:e}}),qoe=nt.FromOptions({keyword:"clamp",argTypes:[{name:"min",type:"number"},{name:"max",type:"number"},{name:"value",type:"number"}],runner:async t=>{const{min:e,max:n,value:r}=t.options;return r<e?e:r>n?n:r}}),Voe=nt.FromOptions({keyword:"floor",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.floor(e)}}),Hoe=nt.FromOptions({keyword:"ceil",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.ceil(e)}}),Woe=nt.FromOptions({keyword:"round",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.round(e)}}),Uoe=nt.FromOptions({keyword:"sqrt",argTypes:[{name:"value",type:"number"}],runner:async t=>{const{value:e}=t.options;return Math.sqrt(e)}}),Joe=nt.FromOptions({keyword:"^",argTypes:[{name:"base",type:"number"},{name:"exponent",type:"number"}],runner:async t=>{const{base:e,exponent:n}=t.options;return Math.pow(e,n)}});function Koe(t){t.addCommand(Eoe),t.addCommand(Moe),t.addCommand(coe),t.addCommand(kie),t.addCommand(wie),t.addCommand(xie),t.addCommand(loe),t.addCommand(soe),t.addCommand(aoe),t.addCommand(uoe),t.addCommand(Mie),t.addCommand(Pie),t.addCommand(Iie),t.addCommand(zie),t.addCommand(Rie),t.addCommand(Bie),t.addCommand(ooe),t.addCommand(foe),t.addCommand(doe),t.addCommand(hoe),t.addCommand(poe),t.addCommand(voe),t.addCommand(moe),t.addCommand(goe),t.addCommand(yoe),t.addCommand(boe),t.addCommand(koe),t.addCommand(woe),t.addCommand(xoe),t.addCommand(Soe),t.addCommand(Coe),t.addCommand(joe),t.addCommand(_oe),t.addCommand(Die),t.addCommand(Lie),t.addCommand(Hie),t.addCommand(Fie),t.addCommand(qie),t.addCommand(jie),t.addCommand(_ie),t.addCommand(Sie),t.addCommand(Cie),t.addCommand($ie),t.addCommand(Aie),t.addCommand(Oie),t.addCommand(Eie),t.addCommand(Yie),t.addCommand(Xie),t.addCommand(Zie),t.addCommand(eoe),t.addCommand(roe),t.addCommand(ioe),t.addCommand(toe),t.addCommand(noe),t.addCommand(Wie),t.addCommand(Uie),t.addCommand(Gie),t.addCommand(Qie),t.addCommand(Jie),t.addCommand(Kie),t.addCommand(pie),t.addCommand(vie),t.addCommand(mie),t.addCommand(bie),t.addCommand(gie),t.addCommand(yie),t.addCommand(pN),t.addCommand(Ioe),t.addCommand(Noe),t.addCommand(Loe),t.addCommand(Doe),t.addCommand(Roe),t.addCommand(Boe),t.addCommand(zoe),t.addCommand(Foe),t.addCommand(qoe),t.addCommand(Voe),t.addCommand(Woe),t.addCommand(Hoe),t.addCommand(Uoe),t.addCommand(Joe)}let ic;qr.callHook("onPageLoaded");async function Goe(t,e){const n=await Mb(t.configPath);lee(JSON.parse(n)),t.baseAssetsPath&&(vt().baseAssetsPath=t.baseAssetsPath),ic=UD(die,{config:t,options:e});const r=dee();if(ic.use(r),Qt().setOptions(e),Qt().appConfig={...Qt().appConfig,...t},ic.use(kR,{breakpoints:{s:0,m:800,l:1200}}),Koe(qr),PO.setupDebugger(e.debug),console.log("%c Narrat game engine \u2013 [VI]{version} - {date}[/VI]","background: #222; color: #bada55"),qr.callHook("onNarratSetup"),ic.mount("#game-holder"),e.debug){const i={app:ic,vm:qr,jump:o=>{kn().jumpToLabel(o)}};window.narrat=i}}const vN="";console.log("Example: ",vN);let hh=`${vN}/`;hh="";window.addEventListener("load",()=>{Goe({baseAssetsPath:hh,charactersPath:`${hh}data/characters.json`,configPath:`${hh}data/config.json`},{logging:!1,debug:!1})});
